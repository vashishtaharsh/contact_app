{"version":3,"file":"fsharp.js","mappings":"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C,cAAcnE,EAAI,MAI9CN,EAAY0E,YAAc,CACtB,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,wCAGJ1E,EAAY2E,kBAAoB,CAC5B,wCACA,uCACA,uCACA,uCACA,wCACA,wCACA,wCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,wCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,wCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,wCACA,uCACA,wCACA,wCACA,wCACA,wCACA,wCACA,wCACA,wCACA,wCACA,wCACA,wCACA,wCACA,wCACA,wCACA,wCACA,wCACA,wCACA,wCACA,uCACA,wCACA,wCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,wCACA,wCACA,wCACA,wCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,uCACA,4DACA,uCACA,wCACA,uCACA,wCAGJ3E,EAAY4E,UAAY,CACpB,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,gCACA,iCAGJ5E,EAAY6E,YAAc,CACtB,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GAAI,EAAG,GACd,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GAAI,EAAG,GACd,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GAAI,GAAI,GACf,CAAC,EAAG,EAAG,GAAI,EAAG,GACd,CAAC,EAAG,EAAG,GACP,CAAC,EAAG,EAAG,GAAI,GAAI,GACf,CAAC,EAAG,EAAG,GAAI,GAAI,GACf,CAAC,EAAG,EAAG,GAAI,EAAG,GACd,CAAC,EAAG,EAAG,GAAI,EAAG,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AUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACf,MAALA,GACAA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACf,MAALA,GACAA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACf,MAALA,GACAA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACf,MAALA,GACAA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACf,MAALA,GACK,MAALA,GACAA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACf,MAALA,GACAA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACf,MAALA,GACAA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACf,MAALA,GACAA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACf,MAALA,GACAA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACf,MAALA,GACAA,GAAK,MAAUA,GAAK,MACf,MAALA,GACK,MAALA,GACAA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACf,MAALA,GACK,MAALA,GACAA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACf,MAALA,GACAA,GAAK,MAAUA,GAAK,MACf,MAALA,GACAA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACf,MAALA,GACAA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACf,MAALA,GACAA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACf,MAALA,GACK,MAALA,GACK,MAALA,GACK,MAALA,GACK,MAALA,GACK,MAALA,GACAA,GAAK,MAAUA,GAAK,MACf,MAALA,GACAA,GAAK,MAAUA,GAAK,MACf,MAALA,GACK,MAALA,GACK,MAALA,GACK,MAALA,GACAA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACf,MAALA,GACK,MAALA,GACK,MAALA,GACK,MAALA,GACAA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACf,MAALA,GACAA,GAAK,MAAUA,GAAK,MACf,MAALA,GACK,MAALA,GACK,MAALA,GACAA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACf,MAALA,GACK,MAALA,GACK,MAALA,GACAA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACf,MAALA,GACAA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACf,MAALA,GACAA,GAAK,MAAUA,GAAK,MACf,MAALA,GACAA,GAAK,MAAUA,GAAK,MACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACpBA,GAAK,OAAUA,GAAK,OACf,OAALA,GACAA,GAAK,OAAUA,GAAK,OAG5Bs9H,EAAUoE,aAAe,SAAU1hI,GAC/B,OAAOA,GAAK,IAAUA,GAAK,IACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACf,IAALA,GACK,IAALA,GACK,IAALA,GACAs9H,EAAUmE,SAASzhI,IACnBA,GAAK,KAAUA,GAAK,KACpBA,GAAK,KAAUA,GAAK,KACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACf,MAALA,GACAA,GAAK,MAAUA,GAAK,MACf,MAALA,GACAA,GAAK,MAAUA,GAAK,MACf,MAALA,GACAA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACf,MAALA,GACAA,GAAK,MAAUA,GAAK,MACf,MAALA,GACAA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACf,MAALA,GACK,MAALA,GACK,MAALA,GACAA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACf,MAALA,GACAA,GAAK,MAAUA,GAAK,MACf,MAALA,GACK,MAALA,GACK,MAALA,GACK,MAALA,GACAA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACf,MAALA,GACAA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACf,MAALA,GACAA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACf,MAALA,GACAA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GAAK,MACpBA,GAAK,MAAUA,GA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","sources":["webpack:///./node_modules/balanced-match/index.js","webpack:///./node_modules/brace-expansion/index.js","webpack:///./node_modules/concat-map/index.js","webpack:///./node_modules/cross-spawn/index.js","webpack:///./node_modules/cross-spawn/lib/enoent.js","webpack:///./node_modules/cross-spawn/lib/parse.js","webpack:///./node_modules/cross-spawn/lib/util/escape.js","webpack:///./node_modules/cross-spawn/lib/util/readShebang.js","webpack:///./node_modules/cross-spawn/lib/util/resolveCommand.js","webpack:///./node_modules/dom-serializer/lib/foreignNames.js","webpack:///./node_modules/dom-serializer/lib/index.js","webpack:///./node_modules/domelementtype/lib/index.js","webpack:///./node_modules/domhandler/lib/index.js","webpack:///./node_modules/domhandler/lib/node.js","webpack:///./node_modules/domutils/lib/helpers.js","webpack:///./node_modules/domutils/lib/index.js","webpack:///./node_modules/domutils/lib/legacy.js","webpack:///./node_modules/domutils/lib/manipulation.js","webpack:///./node_modules/domutils/lib/querying.js","webpack:///./node_modules/domutils/lib/stringify.js","webpack:///./node_modules/domutils/lib/tagtypes.js","webpack:///./node_modules/domutils/lib/traversal.js","webpack:///./node_modules/entities/lib/decode.js","webpack:///./node_modules/entities/lib/decode_codepoint.js","webpack:///./node_modules/entities/lib/encode.js","webpack:///./node_modules/entities/lib/index.js","webpack:///./node_modules/htmlparser2/lib/CollectingHandler.js","webpack:///./node_modules/htmlparser2/lib/FeedHandler.js","webpack:///./node_modules/htmlparser2/lib/MultiplexHandler.js","webpack:///./node_modules/htmlparser2/lib/Parser.js","webpack:///./node_modules/htmlparser2/lib/Tokenizer.js","webpack:///./node_modules/htmlparser2/lib/WritableStream.js","webpack:///./node_modules/htmlparser2/lib/index.js","webpack:///./node_modules/isexe/index.js","webpack:///./node_modules/isexe/mode.js","webpack:///./node_modules/isexe/windows.js","webpack:///./node_modules/lru-cache/index.js","webpack:///./node_modules/minimatch/minimatch.js","webpack:///./node_modules/path-key/index.js","webpack:///./node_modules/semver/classes/comparator.js","webpack:///./node_modules/semver/classes/range.js","webpack:///./node_modules/semver/classes/semver.js","webpack:///./node_modules/semver/functions/clean.js","webpack:///./node_modules/semver/functions/cmp.js","webpack:///./node_modules/semver/functions/coerce.js","webpack:///./node_modules/semver/functions/compare-build.js","webpack:///./node_modules/semver/functions/compare-loose.js","webpack:///./node_modules/semver/functions/compare.js","webpack:///./node_modules/semver/functions/diff.js","webpack:///./node_modules/semver/functions/eq.js","webpack:///./node_modules/semver/functions/gt.js","webpack:///./node_modules/semver/functions/gte.js","webpack:///./node_modules/semver/functions/inc.js","webpack:///./node_modules/semver/functions/lt.js","webpack:///./node_modules/semver/functions/lte.js","webpack:///./node_modules/semver/functions/major.js","webpack:///./node_modules/semver/functions/minor.js","webpack:///./node_modules/semver/functions/neq.js","webpack:///./node_modules/semver/functions/parse.js","webpack:///./node_modules/semver/functions/patch.js","webpack:///./node_modules/semver/functions/prerelease.js","webpack:///./node_modules/semver/functions/rcompare.js","webpack:///./node_modules/semver/functions/rsort.js","webpack:///./node_modules/semver/functions/satisfies.js","webpack:///./node_modules/semver/functions/sort.js","webpack:///./node_modules/semver/functions/valid.js","webpack:///./node_modules/semver/index.js","webpack:///./node_modules/semver/internal/constants.js","webpack:///./node_modules/semver/internal/debug.js","webpack:///./node_modules/semver/internal/identifiers.js","webpack:///./node_modules/semver/internal/parse-options.js","webpack:///./node_modules/semver/internal/re.js","webpack:///./node_modules/semver/ranges/gtr.js","webpack:///./node_modules/semver/ranges/intersects.js","webpack:///./node_modules/semver/ranges/ltr.js","webpack:///./node_modules/semver/ranges/max-satisfying.js","webpack:///./node_modules/semver/ranges/min-satisfying.js","webpack:///./node_modules/semver/ranges/min-version.js","webpack:///./node_modules/semver/ranges/outside.js","webpack:///./node_modules/semver/ranges/simplify.js","webpack:///./node_modules/semver/ranges/subset.js","webpack:///./node_modules/semver/ranges/to-comparators.js","webpack:///./node_modules/semver/ranges/valid.js","webpack:///./node_modules/shebang-command/index.js","webpack:///./node_modules/shebang-regex/index.js","webpack:///./node_modules/showdown/dist/showdown.js","webpack:///./node_modules/vscode-jsonrpc/lib/common/api.js","webpack:///./node_modules/vscode-jsonrpc/lib/common/cancellation.js","webpack:///./node_modules/vscode-jsonrpc/lib/common/connection.js","webpack:///./node_modules/vscode-jsonrpc/lib/common/disposable.js","webpack:///./node_modules/vscode-jsonrpc/lib/common/events.js","webpack:///./node_modules/vscode-jsonrpc/lib/common/is.js","webpack:///./node_modules/vscode-jsonrpc/lib/common/linkedMap.js","webpack:///./node_modules/vscode-jsonrpc/lib/common/messageBuffer.js","webpack:///./node_modules/vscode-jsonrpc/lib/common/messageReader.js","webpack:///./node_modules/vscode-jsonrpc/lib/common/messageWriter.js","webpack:///./node_modules/vscode-jsonrpc/lib/common/messages.js","webpack:///./node_modules/vscode-jsonrpc/lib/common/ral.js","webpack:///./node_modules/vscode-jsonrpc/lib/common/semaphore.js","webpack:///./node_modules/vscode-jsonrpc/lib/node/main.js","webpack:///./node_modules/vscode-jsonrpc/lib/node/ril.js","webpack:///./node_modules/vscode-jsonrpc/node.js","webpack:///./node_modules/vscode-languageclient/lib/common/api.js","webpack:///./node_modules/vscode-languageclient/lib/common/callHierarchy.js","webpack:///./node_modules/vscode-languageclient/lib/common/client.js","webpack:///./node_modules/vscode-languageclient/lib/common/codeAction.js","webpack:///./node_modules/vscode-languageclient/lib/common/codeConverter.js","webpack:///./node_modules/vscode-languageclient/lib/common/codeLens.js","webpack:///./node_modules/vscode-languageclient/lib/common/colorProvider.js","webpack:///./node_modules/vscode-languageclient/lib/common/completion.js","webpack:///./node_modules/vscode-languageclient/lib/common/configuration.js","webpack:///./node_modules/vscode-languageclient/lib/common/declaration.js","webpack:///./node_modules/vscode-languageclient/lib/common/definition.js","webpack:///./node_modules/vscode-languageclient/lib/common/diagnostic.js","webpack:///./node_modules/vscode-languageclient/lib/common/documentHighlight.js","webpack:///./node_modules/vscode-languageclient/lib/common/documentLink.js","webpack:///./node_modules/vscode-languageclient/lib/common/documentSymbol.js","webpack:///./node_modules/vscode-languageclient/lib/common/executeCommand.js","webpack:///./node_modules/vscode-languageclient/lib/common/features.js","webpack:///./node_modules/vscode-languageclient/lib/common/fileOperations.js","webpack:///./node_modules/vscode-languageclient/lib/common/fileSystemWatcher.js","webpack:///./node_modules/vscode-languageclient/lib/common/foldingRange.js","webpack:///./node_modules/vscode-languageclient/lib/common/formatting.js","webpack:///./node_modules/vscode-languageclient/lib/common/hover.js","webpack:///./node_modules/vscode-languageclient/lib/common/implementation.js","webpack:///./node_modules/vscode-languageclient/lib/common/inlayHint.js","webpack:///./node_modules/vscode-languageclient/lib/common/inlineValue.js","webpack:///./node_modules/vscode-languageclient/lib/common/linkedEditingRange.js","webpack:///./node_modules/vscode-languageclient/lib/common/notebook.js","webpack:///./node_modules/vscode-languageclient/lib/common/progress.js","webpack:///./node_modules/vscode-languageclient/lib/common/progressPart.js","webpack:///./node_modules/vscode-languageclient/lib/common/protocolCallHierarchyItem.js","webpack:///./node_modules/vscode-languageclient/lib/common/protocolCodeAction.js","webpack:///./node_modules/vscode-languageclient/lib/common/protocolCodeLens.js","webpack:///./node_modules/vscode-languageclient/lib/common/protocolCompletionItem.js","webpack:///./node_modules/vscode-languageclient/lib/common/protocolConverter.js","webpack:///./node_modules/vscode-languageclient/lib/common/protocolDiagnostic.js","webpack:///./node_modules/vscode-languageclient/lib/common/protocolDocumentLink.js","webpack:///./node_modules/vscode-languageclient/lib/common/protocolInlayHint.js","webpack:///./node_modules/vscode-languageclient/lib/common/protocolTypeHierarchyItem.js","webpack:///./node_modules/vscode-languageclient/lib/common/protocolWorkspaceSymbol.js","webpack:///./node_modules/vscode-languageclient/lib/common/reference.js","webpack:///./node_modules/vscode-languageclient/lib/common/rename.js","webpack:///./node_modules/vscode-languageclient/lib/common/selectionRange.js","webpack:///./node_modules/vscode-languageclient/lib/common/semanticTokens.js","webpack:///./node_modules/vscode-languageclient/lib/common/signatureHelp.js","webpack:///./node_modules/vscode-languageclient/lib/common/textSynchronization.js","webpack:///./node_modules/vscode-languageclient/lib/common/typeDefinition.js","webpack:///./node_modules/vscode-languageclient/lib/common/typeHierarchy.js","webpack:///./node_modules/vscode-languageclient/lib/common/utils/async.js","webpack:///./node_modules/vscode-languageclient/lib/common/utils/is.js","webpack:///./node_modules/vscode-languageclient/lib/common/utils/uuid.js","webpack:///./node_modules/vscode-languageclient/lib/common/workspaceFolder.js","webpack:///./node_modules/vscode-languageclient/lib/common/workspaceSymbol.js","webpack:///./node_modules/vscode-languageclient/lib/node/main.js","webpack:///./node_modules/vscode-languageclient/lib/node/processes.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/common/api.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/common/connection.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/common/messages.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/common/protocol.callHierarchy.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/common/protocol.colorProvider.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/common/protocol.configuration.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/common/protocol.declaration.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/common/protocol.diagnostic.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/common/protocol.fileOperations.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/common/protocol.foldingRange.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/common/protocol.implementation.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/common/protocol.inlayHint.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/common/protocol.inlineValue.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/common/protocol.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/common/protocol.linkedEditingRange.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/common/protocol.moniker.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/common/protocol.notebook.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/common/protocol.progress.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/common/protocol.selectionRange.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/common/protocol.semanticTokens.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/common/protocol.showDocument.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/common/protocol.typeDefinition.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/common/protocol.typeHierarchy.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/common/protocol.workspaceFolder.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/common/utils/is.js","webpack:///./node_modules/vscode-languageserver-protocol/lib/node/main.js","webpack:///./node_modules/vscode-languageserver-protocol/node.js","webpack:///./node_modules/vscode-languageserver-types/lib/esm/main.js","webpack:///./node_modules/which/which.js","webpack:///./node_modules/xmldom/lib/dom-parser.js","webpack:///./node_modules/xmldom/lib/dom.js","webpack:///./node_modules/xmldom/lib/entities.js","webpack:///./node_modules/xmldom/lib/sax.js","webpack:///./node_modules/xpath/xpath.js","webpack:///./node_modules/yallist/iterator.js","webpack:///./node_modules/yallist/yallist.js","webpack:///external commonjs \"vscode\"","webpack:///external node-commonjs \"child_process\"","webpack:///external node-commonjs \"crypto\"","webpack:///external node-commonjs \"events\"","webpack:///external node-commonjs \"fs\"","webpack:///external node-commonjs \"net\"","webpack:///external node-commonjs \"os\"","webpack:///external node-commonjs \"path\"","webpack:///external node-commonjs \"stream\"","webpack:///external node-commonjs \"string_decoder\"","webpack:///external node-commonjs \"util\"","webpack:///webpack/bootstrap","webpack:///webpack/runtime/define property getters","webpack:///webpack/runtime/hasOwnProperty shorthand","webpack:///webpack/runtime/make namespace object","webpack:///./out/fable_modules/fable-library.4.2.2/Util.js","webpack:///./out/fable_modules/fable-library.4.2.2/Types.js","webpack:///./out/fable_modules/fable-library.4.2.2/Date.js","webpack:///./out/fable_modules/fable-library.4.2.2/Numeric.js","webpack:///./out/fable_modules/fable-library.4.2.2/RegExp.js","webpack:///./out/fable_modules/fable-library.4.2.2/String.js","webpack:///./out/fable_modules/fable-library.4.2.2/Option.js","webpack:///./out/fable_modules/fable-library.4.2.2/Native.js","webpack:///./out/fable_modules/fable-library.4.2.2/Double.js","webpack:///./out/fable_modules/fable-library.4.2.2/Array.js","webpack:///./out/fable_modules/fable-library.4.2.2/List.js","webpack:///./out/Core/Logging.js","webpack:///./out/fable_modules/fable-library.4.2.2/Reflection.js","webpack:///./out/Core/DTO.js","webpack:///./out/fable_modules/Fable.Promise.3.2.0/Promise.fs.js","webpack:///./out/fable_modules/fable-library.4.2.2/Choice.js","webpack:///./out/fable_modules/fable-library.4.2.2/Seq.js","webpack:///./out/fable_modules/fable-library.4.2.2/FSharp.Core.js","webpack:///./out/fable_modules/fable-library.4.2.2/System.Collections.Generic.js","webpack:///./out/paket-files/ionide/ionide-vscode-helpers/src/Helpers.js","webpack:///./out/Core/Utils.js","webpack:///./out/Core/Environment.js","webpack:///./out/fable_modules/Thoth.Json.7.0.0/Types.fs.js","webpack:///./out/fable_modules/fable-library.4.2.2/Guid.js","webpack:///./out/fable_modules/fable-library.4.2.2/Int32.js","webpack:///./out/fable_modules/fable-library.4.2.2/DateOffset.js","webpack:///./out/fable_modules/fable-library.4.2.2/TimeSpan.js","webpack:///./out/fable_modules/fable-library.4.2.2/Map.js","webpack:///./out/fable_modules/fable-library.4.2.2/Set.js","webpack:///./out/fable_modules/Thoth.Json.7.0.0/Decode.fs.js","webpack:///./out/Core/LanguageService.js","webpack:///./out/fable_modules/fable-library.4.2.2/Boolean.js","webpack:///./out/fable_modules/fable-library.4.2.2/MapUtil.js","webpack:///./out/Core/Project.js","webpack:///./out/Components/QuickInfoProject.js","webpack:///./out/fable_modules/fable-library.4.2.2/MutableSet.js","webpack:///./out/fable_modules/fable-library.4.2.2/MutableMap.js","webpack:///./out/fable_modules/fable-library.4.2.2/Seq2.js","webpack:///./out/fable_modules/fable-library.4.2.2/AsyncBuilder.js","webpack:///./out/fable_modules/fable-library.4.2.2/Async.js","webpack:///./out/fable_modules/fable-library.4.2.2/MailboxProcessor.js","webpack:///./out/Components/MSBuild.js","webpack:///./out/Components/LineLens/LineLensShared.js","webpack:///./out/Components/LineLens/LineLens.js","webpack:///./out/Components/LineLens/PipelineHints.js","webpack:///./out/Core/FsProjEdit.js","webpack:///external node-commonjs \"querystring\"","webpack:///./out/Components/Debugger.js","webpack:///./out/Components/Webview.js","webpack:///./out/Components/Fsi.js","webpack:///./out/Components/SolutionExplorer.js","webpack:///./out/Components/Diagnostics.js","webpack:///./out/Components/QuickInfo.js","webpack:///./out/Components/LanguageConfiguration.js","webpack:///./out/fable_modules/Fable.HtmlConverter.2.1.0/References.fs.js","webpack:///./out/fable_modules/Fable.HtmlConverter.2.1.0/Converter.fs.js","webpack:///./out/Components/HtmlConverter.js","webpack:///./out/Components/InfoPanel.js","webpack:///./out/Components/Gitignore.js","webpack:///./out/Imports/XPath.js","webpack:///./out/fable_modules/fable-library.4.2.2/System.Text.js","webpack:///./out/Components/TestExplorer.js","webpack:///./out/Components/InlayHints.js","webpack:///./out/fsharp.js","webpack:///./out/Components/Help.js","webpack:///./out/Components/SignatureData.js","webpack:///./out/Components/ScriptRunner.js","webpack:///./out/Components/CodeLensHelpers.js"],"sourcesContent":["'use strict';\nmodule.exports = balanced;\nfunction balanced(a, b, str) {\n  if (a instanceof RegExp) a = maybeMatch(a, str);\n  if (b instanceof RegExp) b = maybeMatch(b, str);\n\n  var r = range(a, b, str);\n\n  return r && {\n    start: r[0],\n    end: r[1],\n    pre: str.slice(0, r[0]),\n    body: str.slice(r[0] + a.length, r[1]),\n    post: str.slice(r[1] + b.length)\n  };\n}\n\nfunction maybeMatch(reg, str) {\n  var m = str.match(reg);\n  return m ? m[0] : null;\n}\n\nbalanced.range = range;\nfunction range(a, b, str) {\n  var begs, beg, left, right, result;\n  var ai = str.indexOf(a);\n  var bi = str.indexOf(b, ai + 1);\n  var i = ai;\n\n  if (ai >= 0 && bi > 0) {\n    if(a===b) {\n      return [ai, bi];\n    }\n    begs = [];\n    left = str.length;\n\n    while (i >= 0 && !result) {\n      if (i == ai) {\n        begs.push(i);\n        ai = str.indexOf(a, i + 1);\n      } else if (begs.length == 1) {\n        result = [ begs.pop(), bi ];\n      } else {\n        beg = begs.pop();\n        if (beg < left) {\n          left = beg;\n          right = bi;\n        }\n\n        bi = str.indexOf(b, i + 1);\n      }\n\n      i = ai < bi && ai >= 0 ? ai : bi;\n    }\n\n    if (begs.length) {\n      result = [ left, right ];\n    }\n  }\n\n  return result;\n}\n","var concatMap = require('concat-map');\nvar balanced = require('balanced-match');\n\nmodule.exports = expandTop;\n\nvar escSlash = '\\0SLASH'+Math.random()+'\\0';\nvar escOpen = '\\0OPEN'+Math.random()+'\\0';\nvar escClose = '\\0CLOSE'+Math.random()+'\\0';\nvar escComma = '\\0COMMA'+Math.random()+'\\0';\nvar escPeriod = '\\0PERIOD'+Math.random()+'\\0';\n\nfunction numeric(str) {\n  return parseInt(str, 10) == str\n    ? parseInt(str, 10)\n    : str.charCodeAt(0);\n}\n\nfunction escapeBraces(str) {\n  return str.split('\\\\\\\\').join(escSlash)\n            .split('\\\\{').join(escOpen)\n            .split('\\\\}').join(escClose)\n            .split('\\\\,').join(escComma)\n            .split('\\\\.').join(escPeriod);\n}\n\nfunction unescapeBraces(str) {\n  return str.split(escSlash).join('\\\\')\n            .split(escOpen).join('{')\n            .split(escClose).join('}')\n            .split(escComma).join(',')\n            .split(escPeriod).join('.');\n}\n\n\n// Basically just str.split(\",\"), but handling cases\n// where we have nested braced sections, which should be\n// treated as individual members, like {a,{b,c},d}\nfunction parseCommaParts(str) {\n  if (!str)\n    return [''];\n\n  var parts = [];\n  var m = balanced('{', '}', str);\n\n  if (!m)\n    return str.split(',');\n\n  var pre = m.pre;\n  var body = m.body;\n  var post = m.post;\n  var p = pre.split(',');\n\n  p[p.length-1] += '{' + body + '}';\n  var postParts = parseCommaParts(post);\n  if (post.length) {\n    p[p.length-1] += postParts.shift();\n    p.push.apply(p, postParts);\n  }\n\n  parts.push.apply(parts, p);\n\n  return parts;\n}\n\nfunction expandTop(str) {\n  if (!str)\n    return [];\n\n  // I don't know why Bash 4.3 does this, but it does.\n  // Anything starting with {} will have the first two bytes preserved\n  // but *only* at the top level, so {},a}b will not expand to anything,\n  // but a{},b}c will be expanded to [a}c,abc].\n  // One could argue that this is a bug in Bash, but since the goal of\n  // this module is to match Bash's rules, we escape a leading {}\n  if (str.substr(0, 2) === '{}') {\n    str = '\\\\{\\\\}' + str.substr(2);\n  }\n\n  return expand(escapeBraces(str), true).map(unescapeBraces);\n}\n\nfunction identity(e) {\n  return e;\n}\n\nfunction embrace(str) {\n  return '{' + str + '}';\n}\nfunction isPadded(el) {\n  return /^-?0\\d/.test(el);\n}\n\nfunction lte(i, y) {\n  return i <= y;\n}\nfunction gte(i, y) {\n  return i >= y;\n}\n\nfunction expand(str, isTop) {\n  var expansions = [];\n\n  var m = balanced('{', '}', str);\n  if (!m || /\\$$/.test(m.pre)) return [str];\n\n  var isNumericSequence = /^-?\\d+\\.\\.-?\\d+(?:\\.\\.-?\\d+)?$/.test(m.body);\n  var isAlphaSequence = /^[a-zA-Z]\\.\\.[a-zA-Z](?:\\.\\.-?\\d+)?$/.test(m.body);\n  var isSequence = isNumericSequence || isAlphaSequence;\n  var isOptions = m.body.indexOf(',') >= 0;\n  if (!isSequence && !isOptions) {\n    // {a},b}\n    if (m.post.match(/,.*\\}/)) {\n      str = m.pre + '{' + m.body + escClose + m.post;\n      return expand(str);\n    }\n    return [str];\n  }\n\n  var n;\n  if (isSequence) {\n    n = m.body.split(/\\.\\./);\n  } else {\n    n = parseCommaParts(m.body);\n    if (n.length === 1) {\n      // x{{a,b}}y ==> x{a}y x{b}y\n      n = expand(n[0], false).map(embrace);\n      if (n.length === 1) {\n        var post = m.post.length\n          ? expand(m.post, false)\n          : [''];\n        return post.map(function(p) {\n          return m.pre + n[0] + p;\n        });\n      }\n    }\n  }\n\n  // at this point, n is the parts, and we know it's not a comma set\n  // with a single entry.\n\n  // no need to expand pre, since it is guaranteed to be free of brace-sets\n  var pre = m.pre;\n  var post = m.post.length\n    ? expand(m.post, false)\n    : [''];\n\n  var N;\n\n  if (isSequence) {\n    var x = numeric(n[0]);\n    var y = numeric(n[1]);\n    var width = Math.max(n[0].length, n[1].length)\n    var incr = n.length == 3\n      ? Math.abs(numeric(n[2]))\n      : 1;\n    var test = lte;\n    var reverse = y < x;\n    if (reverse) {\n      incr *= -1;\n      test = gte;\n    }\n    var pad = n.some(isPadded);\n\n    N = [];\n\n    for (var i = x; test(i, y); i += incr) {\n      var c;\n      if (isAlphaSequence) {\n        c = String.fromCharCode(i);\n        if (c === '\\\\')\n          c = '';\n      } else {\n        c = String(i);\n        if (pad) {\n          var need = width - c.length;\n          if (need > 0) {\n            var z = new Array(need + 1).join('0');\n            if (i < 0)\n              c = '-' + z + c.slice(1);\n            else\n              c = z + c;\n          }\n        }\n      }\n      N.push(c);\n    }\n  } else {\n    N = concatMap(n, function(el) { return expand(el, false) });\n  }\n\n  for (var j = 0; j < N.length; j++) {\n    for (var k = 0; k < post.length; k++) {\n      var expansion = pre + N[j] + post[k];\n      if (!isTop || isSequence || expansion)\n        expansions.push(expansion);\n    }\n  }\n\n  return expansions;\n}\n\n","module.exports = function (xs, fn) {\n    var res = [];\n    for (var i = 0; i < xs.length; i++) {\n        var x = fn(xs[i], i);\n        if (isArray(x)) res.push.apply(res, x);\n        else res.push(x);\n    }\n    return res;\n};\n\nvar isArray = Array.isArray || function (xs) {\n    return Object.prototype.toString.call(xs) === '[object Array]';\n};\n","'use strict';\n\nconst cp = require('child_process');\nconst parse = require('./lib/parse');\nconst enoent = require('./lib/enoent');\n\nfunction spawn(command, args, options) {\n    // Parse the arguments\n    const parsed = parse(command, args, options);\n\n    // Spawn the child process\n    const spawned = cp.spawn(parsed.command, parsed.args, parsed.options);\n\n    // Hook into child process \"exit\" event to emit an error if the command\n    // does not exists, see: https://github.com/IndigoUnited/node-cross-spawn/issues/16\n    enoent.hookChildProcess(spawned, parsed);\n\n    return spawned;\n}\n\nfunction spawnSync(command, args, options) {\n    // Parse the arguments\n    const parsed = parse(command, args, options);\n\n    // Spawn the child process\n    const result = cp.spawnSync(parsed.command, parsed.args, parsed.options);\n\n    // Analyze if the command does not exist, see: https://github.com/IndigoUnited/node-cross-spawn/issues/16\n    result.error = result.error || enoent.verifyENOENTSync(result.status, parsed);\n\n    return result;\n}\n\nmodule.exports = spawn;\nmodule.exports.spawn = spawn;\nmodule.exports.sync = spawnSync;\n\nmodule.exports._parse = parse;\nmodule.exports._enoent = enoent;\n","'use strict';\n\nconst isWin = process.platform === 'win32';\n\nfunction notFoundError(original, syscall) {\n    return Object.assign(new Error(`${syscall} ${original.command} ENOENT`), {\n        code: 'ENOENT',\n        errno: 'ENOENT',\n        syscall: `${syscall} ${original.command}`,\n        path: original.command,\n        spawnargs: original.args,\n    });\n}\n\nfunction hookChildProcess(cp, parsed) {\n    if (!isWin) {\n        return;\n    }\n\n    const originalEmit = cp.emit;\n\n    cp.emit = function (name, arg1) {\n        // If emitting \"exit\" event and exit code is 1, we need to check if\n        // the command exists and emit an \"error\" instead\n        // See https://github.com/IndigoUnited/node-cross-spawn/issues/16\n        if (name === 'exit') {\n            const err = verifyENOENT(arg1, parsed, 'spawn');\n\n            if (err) {\n                return originalEmit.call(cp, 'error', err);\n            }\n        }\n\n        return originalEmit.apply(cp, arguments); // eslint-disable-line prefer-rest-params\n    };\n}\n\nfunction verifyENOENT(status, parsed) {\n    if (isWin && status === 1 && !parsed.file) {\n        return notFoundError(parsed.original, 'spawn');\n    }\n\n    return null;\n}\n\nfunction verifyENOENTSync(status, parsed) {\n    if (isWin && status === 1 && !parsed.file) {\n        return notFoundError(parsed.original, 'spawnSync');\n    }\n\n    return null;\n}\n\nmodule.exports = {\n    hookChildProcess,\n    verifyENOENT,\n    verifyENOENTSync,\n    notFoundError,\n};\n","'use strict';\n\nconst path = require('path');\nconst resolveCommand = require('./util/resolveCommand');\nconst escape = require('./util/escape');\nconst readShebang = require('./util/readShebang');\n\nconst isWin = process.platform === 'win32';\nconst isExecutableRegExp = /\\.(?:com|exe)$/i;\nconst isCmdShimRegExp = /node_modules[\\\\/].bin[\\\\/][^\\\\/]+\\.cmd$/i;\n\nfunction detectShebang(parsed) {\n    parsed.file = resolveCommand(parsed);\n\n    const shebang = parsed.file && readShebang(parsed.file);\n\n    if (shebang) {\n        parsed.args.unshift(parsed.file);\n        parsed.command = shebang;\n\n        return resolveCommand(parsed);\n    }\n\n    return parsed.file;\n}\n\nfunction parseNonShell(parsed) {\n    if (!isWin) {\n        return parsed;\n    }\n\n    // Detect & add support for shebangs\n    const commandFile = detectShebang(parsed);\n\n    // We don't need a shell if the command filename is an executable\n    const needsShell = !isExecutableRegExp.test(commandFile);\n\n    // If a shell is required, use cmd.exe and take care of escaping everything correctly\n    // Note that `forceShell` is an hidden option used only in tests\n    if (parsed.options.forceShell || needsShell) {\n        // Need to double escape meta chars if the command is a cmd-shim located in `node_modules/.bin/`\n        // The cmd-shim simply calls execute the package bin file with NodeJS, proxying any argument\n        // Because the escape of metachars with ^ gets interpreted when the cmd.exe is first called,\n        // we need to double escape them\n        const needsDoubleEscapeMetaChars = isCmdShimRegExp.test(commandFile);\n\n        // Normalize posix paths into OS compatible paths (e.g.: foo/bar -> foo\\bar)\n        // This is necessary otherwise it will always fail with ENOENT in those cases\n        parsed.command = path.normalize(parsed.command);\n\n        // Escape command & arguments\n        parsed.command = escape.command(parsed.command);\n        parsed.args = parsed.args.map((arg) => escape.argument(arg, needsDoubleEscapeMetaChars));\n\n        const shellCommand = [parsed.command].concat(parsed.args).join(' ');\n\n        parsed.args = ['/d', '/s', '/c', `\"${shellCommand}\"`];\n        parsed.command = process.env.comspec || 'cmd.exe';\n        parsed.options.windowsVerbatimArguments = true; // Tell node's spawn that the arguments are already escaped\n    }\n\n    return parsed;\n}\n\nfunction parse(command, args, options) {\n    // Normalize arguments, similar to nodejs\n    if (args && !Array.isArray(args)) {\n        options = args;\n        args = null;\n    }\n\n    args = args ? args.slice(0) : []; // Clone array to avoid changing the original\n    options = Object.assign({}, options); // Clone object to avoid changing the original\n\n    // Build our parsed object\n    const parsed = {\n        command,\n        args,\n        options,\n        file: undefined,\n        original: {\n            command,\n            args,\n        },\n    };\n\n    // Delegate further parsing to shell or non-shell\n    return options.shell ? parsed : parseNonShell(parsed);\n}\n\nmodule.exports = parse;\n","'use strict';\n\n// See http://www.robvanderwoude.com/escapechars.php\nconst metaCharsRegExp = /([()\\][%!^\"`<>&|;, *?])/g;\n\nfunction escapeCommand(arg) {\n    // Escape meta chars\n    arg = arg.replace(metaCharsRegExp, '^$1');\n\n    return arg;\n}\n\nfunction escapeArgument(arg, doubleEscapeMetaChars) {\n    // Convert to string\n    arg = `${arg}`;\n\n    // Algorithm below is based on https://qntm.org/cmd\n\n    // Sequence of backslashes followed by a double quote:\n    // double up all the backslashes and escape the double quote\n    arg = arg.replace(/(\\\\*)\"/g, '$1$1\\\\\"');\n\n    // Sequence of backslashes followed by the end of the string\n    // (which will become a double quote later):\n    // double up all the backslashes\n    arg = arg.replace(/(\\\\*)$/, '$1$1');\n\n    // All other backslashes occur literally\n\n    // Quote the whole thing:\n    arg = `\"${arg}\"`;\n\n    // Escape meta chars\n    arg = arg.replace(metaCharsRegExp, '^$1');\n\n    // Double escape meta chars if necessary\n    if (doubleEscapeMetaChars) {\n        arg = arg.replace(metaCharsRegExp, '^$1');\n    }\n\n    return arg;\n}\n\nmodule.exports.command = escapeCommand;\nmodule.exports.argument = escapeArgument;\n","'use strict';\n\nconst fs = require('fs');\nconst shebangCommand = require('shebang-command');\n\nfunction readShebang(command) {\n    // Read the first 150 bytes from the file\n    const size = 150;\n    const buffer = Buffer.alloc(size);\n\n    let fd;\n\n    try {\n        fd = fs.openSync(command, 'r');\n        fs.readSync(fd, buffer, 0, size, 0);\n        fs.closeSync(fd);\n    } catch (e) { /* Empty */ }\n\n    // Attempt to extract shebang (null is returned if not a shebang)\n    return shebangCommand(buffer.toString());\n}\n\nmodule.exports = readShebang;\n","'use strict';\n\nconst path = require('path');\nconst which = require('which');\nconst getPathKey = require('path-key');\n\nfunction resolveCommandAttempt(parsed, withoutPathExt) {\n    const env = parsed.options.env || process.env;\n    const cwd = process.cwd();\n    const hasCustomCwd = parsed.options.cwd != null;\n    // Worker threads do not have process.chdir()\n    const shouldSwitchCwd = hasCustomCwd && process.chdir !== undefined && !process.chdir.disabled;\n\n    // If a custom `cwd` was specified, we need to change the process cwd\n    // because `which` will do stat calls but does not support a custom cwd\n    if (shouldSwitchCwd) {\n        try {\n            process.chdir(parsed.options.cwd);\n        } catch (err) {\n            /* Empty */\n        }\n    }\n\n    let resolved;\n\n    try {\n        resolved = which.sync(parsed.command, {\n            path: env[getPathKey({ env })],\n            pathExt: withoutPathExt ? path.delimiter : undefined,\n        });\n    } catch (e) {\n        /* Empty */\n    } finally {\n        if (shouldSwitchCwd) {\n            process.chdir(cwd);\n        }\n    }\n\n    // If we successfully resolved, ensure that an absolute path is returned\n    // Note that when a custom `cwd` was used, we need to resolve to an absolute path based on it\n    if (resolved) {\n        resolved = path.resolve(hasCustomCwd ? parsed.options.cwd : '', resolved);\n    }\n\n    return resolved;\n}\n\nfunction resolveCommand(parsed) {\n    return resolveCommandAttempt(parsed) || resolveCommandAttempt(parsed, true);\n}\n\nmodule.exports = resolveCommand;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.elementNames = new Map([\n    [\"altglyph\", \"altGlyph\"],\n    [\"altglyphdef\", \"altGlyphDef\"],\n    [\"altglyphitem\", \"altGlyphItem\"],\n    [\"animatecolor\", \"animateColor\"],\n    [\"animatemotion\", \"animateMotion\"],\n    [\"animatetransform\", \"animateTransform\"],\n    [\"clippath\", \"clipPath\"],\n    [\"feblend\", \"feBlend\"],\n    [\"fecolormatrix\", \"feColorMatrix\"],\n    [\"fecomponenttransfer\", \"feComponentTransfer\"],\n    [\"fecomposite\", \"feComposite\"],\n    [\"feconvolvematrix\", \"feConvolveMatrix\"],\n    [\"fediffuselighting\", \"feDiffuseLighting\"],\n    [\"fedisplacementmap\", \"feDisplacementMap\"],\n    [\"fedistantlight\", \"feDistantLight\"],\n    [\"fedropshadow\", \"feDropShadow\"],\n    [\"feflood\", \"feFlood\"],\n    [\"fefunca\", \"feFuncA\"],\n    [\"fefuncb\", \"feFuncB\"],\n    [\"fefuncg\", \"feFuncG\"],\n    [\"fefuncr\", \"feFuncR\"],\n    [\"fegaussianblur\", \"feGaussianBlur\"],\n    [\"feimage\", \"feImage\"],\n    [\"femerge\", \"feMerge\"],\n    [\"femergenode\", \"feMergeNode\"],\n    [\"femorphology\", \"feMorphology\"],\n    [\"feoffset\", \"feOffset\"],\n    [\"fepointlight\", \"fePointLight\"],\n    [\"fespecularlighting\", \"feSpecularLighting\"],\n    [\"fespotlight\", \"feSpotLight\"],\n    [\"fetile\", \"feTile\"],\n    [\"feturbulence\", \"feTurbulence\"],\n    [\"foreignobject\", \"foreignObject\"],\n    [\"glyphref\", \"glyphRef\"],\n    [\"lineargradient\", \"linearGradient\"],\n    [\"radialgradient\", \"radialGradient\"],\n    [\"textpath\", \"textPath\"],\n]);\nexports.attributeNames = new Map([\n    [\"definitionurl\", \"definitionURL\"],\n    [\"attributename\", \"attributeName\"],\n    [\"attributetype\", \"attributeType\"],\n    [\"basefrequency\", \"baseFrequency\"],\n    [\"baseprofile\", \"baseProfile\"],\n    [\"calcmode\", \"calcMode\"],\n    [\"clippathunits\", \"clipPathUnits\"],\n    [\"diffuseconstant\", \"diffuseConstant\"],\n    [\"edgemode\", \"edgeMode\"],\n    [\"filterunits\", \"filterUnits\"],\n    [\"glyphref\", \"glyphRef\"],\n    [\"gradienttransform\", \"gradientTransform\"],\n    [\"gradientunits\", \"gradientUnits\"],\n    [\"kernelmatrix\", \"kernelMatrix\"],\n    [\"kernelunitlength\", \"kernelUnitLength\"],\n    [\"keypoints\", \"keyPoints\"],\n    [\"keysplines\", \"keySplines\"],\n    [\"keytimes\", \"keyTimes\"],\n    [\"lengthadjust\", \"lengthAdjust\"],\n    [\"limitingconeangle\", \"limitingConeAngle\"],\n    [\"markerheight\", \"markerHeight\"],\n    [\"markerunits\", \"markerUnits\"],\n    [\"markerwidth\", \"markerWidth\"],\n    [\"maskcontentunits\", \"maskContentUnits\"],\n    [\"maskunits\", \"maskUnits\"],\n    [\"numoctaves\", \"numOctaves\"],\n    [\"pathlength\", \"pathLength\"],\n    [\"patterncontentunits\", \"patternContentUnits\"],\n    [\"patterntransform\", \"patternTransform\"],\n    [\"patternunits\", \"patternUnits\"],\n    [\"pointsatx\", \"pointsAtX\"],\n    [\"pointsaty\", \"pointsAtY\"],\n    [\"pointsatz\", \"pointsAtZ\"],\n    [\"preservealpha\", \"preserveAlpha\"],\n    [\"preserveaspectratio\", \"preserveAspectRatio\"],\n    [\"primitiveunits\", \"primitiveUnits\"],\n    [\"refx\", \"refX\"],\n    [\"refy\", \"refY\"],\n    [\"repeatcount\", \"repeatCount\"],\n    [\"repeatdur\", \"repeatDur\"],\n    [\"requiredextensions\", \"requiredExtensions\"],\n    [\"requiredfeatures\", \"requiredFeatures\"],\n    [\"specularconstant\", \"specularConstant\"],\n    [\"specularexponent\", \"specularExponent\"],\n    [\"spreadmethod\", \"spreadMethod\"],\n    [\"startoffset\", \"startOffset\"],\n    [\"stddeviation\", \"stdDeviation\"],\n    [\"stitchtiles\", \"stitchTiles\"],\n    [\"surfacescale\", \"surfaceScale\"],\n    [\"systemlanguage\", \"systemLanguage\"],\n    [\"tablevalues\", \"tableValues\"],\n    [\"targetx\", \"targetX\"],\n    [\"targety\", \"targetY\"],\n    [\"textlength\", \"textLength\"],\n    [\"viewbox\", \"viewBox\"],\n    [\"viewtarget\", \"viewTarget\"],\n    [\"xchannelselector\", \"xChannelSelector\"],\n    [\"ychannelselector\", \"yChannelSelector\"],\n    [\"zoomandpan\", \"zoomAndPan\"],\n]);\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/*\n  Module dependencies\n*/\nvar ElementType = __importStar(require(\"domelementtype\"));\nvar entities = __importStar(require(\"entities\"));\n/* mixed-case SVG and MathML tags & attributes\n   recognized by the HTML parser, see\n   https://html.spec.whatwg.org/multipage/parsing.html#parsing-main-inforeign\n*/\nvar foreignNames_1 = require(\"./foreignNames\");\nvar unencodedElements = new Set([\n    \"style\",\n    \"script\",\n    \"xmp\",\n    \"iframe\",\n    \"noembed\",\n    \"noframes\",\n    \"plaintext\",\n    \"noscript\",\n]);\n/*\n  Format attributes\n*/\nfunction formatAttributes(attributes, opts) {\n    if (!attributes)\n        return;\n    return Object.keys(attributes)\n        .map(function (key) {\n        var _a;\n        var value = attributes[key];\n        if (opts.xmlMode === \"foreign\") {\n            /* fix up mixed-case attribute names */\n            key = (_a = foreignNames_1.attributeNames.get(key)) !== null && _a !== void 0 ? _a : key;\n        }\n        if (!opts.emptyAttrs &&\n            !opts.xmlMode &&\n            (value === null || value === \"\")) {\n            return key;\n        }\n        return key + \"=\\\"\" + (opts.decodeEntities\n            ? entities.encodeXML(value)\n            : value.replace(/\"/g, \"&quot;\")) + \"\\\"\";\n    })\n        .join(\" \");\n}\n/*\n  Self-enclosing tags\n*/\nvar singleTag = new Set([\n    \"area\",\n    \"base\",\n    \"basefont\",\n    \"br\",\n    \"col\",\n    \"command\",\n    \"embed\",\n    \"frame\",\n    \"hr\",\n    \"img\",\n    \"input\",\n    \"isindex\",\n    \"keygen\",\n    \"link\",\n    \"meta\",\n    \"param\",\n    \"source\",\n    \"track\",\n    \"wbr\",\n]);\n/**\n * Renders a DOM node or an array of DOM nodes to a string.\n *\n * Can be thought of as the equivalent of the `outerHTML` of the passed node(s).\n *\n * @param node Node to be rendered.\n * @param options Changes serialization behavior\n */\nfunction render(node, options) {\n    if (options === void 0) { options = {}; }\n    // TODO: This is a bit hacky.\n    var nodes = Array.isArray(node) || node.cheerio ? node : [node];\n    var output = \"\";\n    for (var i = 0; i < nodes.length; i++) {\n        output += renderNode(nodes[i], options);\n    }\n    return output;\n}\nexports.default = render;\nfunction renderNode(node, options) {\n    switch (node.type) {\n        case \"root\":\n            return render(node.children, options);\n        case ElementType.Directive:\n            return renderDirective(node);\n        case ElementType.Comment:\n            return renderComment(node);\n        case ElementType.CDATA:\n            return renderCdata(node);\n        default:\n            return ElementType.isTag(node)\n                ? renderTag(node, options)\n                : renderText(node, options);\n    }\n}\nvar foreignModeIntegrationPoints = new Set([\n    \"mi\",\n    \"mo\",\n    \"mn\",\n    \"ms\",\n    \"mtext\",\n    \"annotation-xml\",\n    \"foreignObject\",\n    \"desc\",\n    \"title\",\n]);\nvar foreignElements = new Set([\"svg\", \"math\"]);\nfunction renderTag(elem, opts) {\n    var _a;\n    // Handle SVG / MathML in HTML\n    if (opts.xmlMode === \"foreign\") {\n        /* fix up mixed-case element names */\n        elem.name = (_a = foreignNames_1.elementNames.get(elem.name)) !== null && _a !== void 0 ? _a : elem.name;\n        /* exit foreign mode at integration points */\n        if (elem.parent &&\n            foreignModeIntegrationPoints.has(elem.parent.name))\n            opts = __assign(__assign({}, opts), { xmlMode: false });\n    }\n    if (!opts.xmlMode && foreignElements.has(elem.name)) {\n        opts = __assign(__assign({}, opts), { xmlMode: \"foreign\" });\n    }\n    var tag = \"<\" + elem.name;\n    var attribs = formatAttributes(elem.attribs, opts);\n    if (attribs) {\n        tag += \" \" + attribs;\n    }\n    if ((!elem.children || elem.children.length === 0) &&\n        (opts.xmlMode\n            ? // in XML mode or foreign mode, and user hasn't explicitly turned off self-closing tags\n                opts.selfClosingTags !== false\n            : // user explicitly asked for self-closing tags, even in HTML mode\n                opts.selfClosingTags && singleTag.has(elem.name))) {\n        if (!opts.xmlMode)\n            tag += \" \";\n        tag += \"/>\";\n    }\n    else {\n        tag += \">\";\n        if (elem.children) {\n            tag += render(elem.children, opts);\n        }\n        if (opts.xmlMode || !singleTag.has(elem.name)) {\n            tag += \"</\" + elem.name + \">\";\n        }\n    }\n    return tag;\n}\nfunction renderDirective(elem) {\n    return \"<\" + elem.data + \">\";\n}\nfunction renderText(elem, opts) {\n    var data = elem.data || \"\";\n    // if entities weren't decoded, no need to encode them back\n    if (opts.decodeEntities &&\n        !(elem.parent && unencodedElements.has(elem.parent.name))) {\n        data = entities.encodeXML(data);\n    }\n    return data;\n}\nfunction renderCdata(elem) {\n    return \"<![CDATA[\" + elem.children[0].data + \"]]>\";\n}\nfunction renderComment(elem) {\n    return \"<!--\" + elem.data + \"-->\";\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Tests whether an element is a tag or not.\n *\n * @param elem Element to test\n */\nfunction isTag(elem) {\n    return (elem.type === \"tag\" /* Tag */ ||\n        elem.type === \"script\" /* Script */ ||\n        elem.type === \"style\" /* Style */);\n}\nexports.isTag = isTag;\n// Exports for backwards compatibility\nexports.Text = \"text\" /* Text */; //Text\nexports.Directive = \"directive\" /* Directive */; //<? ... ?>\nexports.Comment = \"comment\" /* Comment */; //<!-- ... -->\nexports.Script = \"script\" /* Script */; //<script> tags\nexports.Style = \"style\" /* Style */; //<style> tags\nexports.Tag = \"tag\" /* Tag */; //Any tag\nexports.CDATA = \"cdata\" /* CDATA */; //<![CDATA[ ... ]]>\nexports.Doctype = \"doctype\" /* Doctype */;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar node_1 = require(\"./node\");\nexports.Node = node_1.Node;\nexports.Element = node_1.Element;\nexports.DataNode = node_1.DataNode;\nexports.NodeWithChildren = node_1.NodeWithChildren;\nvar reWhitespace = /\\s+/g;\n// Default options\nvar defaultOpts = {\n    normalizeWhitespace: false,\n    withStartIndices: false,\n    withEndIndices: false\n};\nvar DomHandler = /** @class */ (function () {\n    /**\n     * Initiate a new DomHandler.\n     *\n     * @param callback Called once parsing has completed.\n     * @param options Settings for the handler.\n     * @param elementCB Callback whenever a tag is closed.\n     */\n    function DomHandler(callback, options, elementCB) {\n        /** The constructed DOM */\n        this.dom = [];\n        /** Indicated whether parsing has been completed. */\n        this._done = false;\n        /** Stack of open tags. */\n        this._tagStack = [];\n        /** A data node that is still being written to. */\n        this._lastNode = null;\n        /** Reference to the parser instance. Used for location information. */\n        this._parser = null;\n        // Make it possible to skip arguments, for backwards-compatibility\n        if (typeof options === \"function\") {\n            elementCB = options;\n            options = defaultOpts;\n        }\n        if (typeof callback === \"object\") {\n            options = callback;\n            callback = undefined;\n        }\n        this._callback = callback || null;\n        this._options = options || defaultOpts;\n        this._elementCB = elementCB || null;\n    }\n    DomHandler.prototype.onparserinit = function (parser) {\n        this._parser = parser;\n    };\n    // Resets the handler back to starting state\n    DomHandler.prototype.onreset = function () {\n        this.dom = [];\n        this._done = false;\n        this._tagStack = [];\n        this._lastNode = null;\n        this._parser = this._parser || null;\n    };\n    // Signals the handler that parsing is done\n    DomHandler.prototype.onend = function () {\n        if (this._done)\n            return;\n        this._done = true;\n        this._parser = null;\n        this.handleCallback(null);\n    };\n    DomHandler.prototype.onerror = function (error) {\n        this.handleCallback(error);\n    };\n    DomHandler.prototype.onclosetag = function () {\n        this._lastNode = null;\n        // If(this._tagStack.pop().name !== name) this.handleCallback(Error(\"Tagname didn't match!\"));\n        var elem = this._tagStack.pop();\n        if (!elem || !this._parser) {\n            return;\n        }\n        if (this._options.withEndIndices) {\n            elem.endIndex = this._parser.endIndex;\n        }\n        if (this._elementCB)\n            this._elementCB(elem);\n    };\n    DomHandler.prototype.onopentag = function (name, attribs) {\n        var element = new node_1.Element(name, attribs);\n        this.addNode(element);\n        this._tagStack.push(element);\n    };\n    DomHandler.prototype.ontext = function (data) {\n        var normalize = this._options.normalizeWhitespace;\n        var _lastNode = this._lastNode;\n        if (_lastNode && _lastNode.type === \"text\" /* Text */) {\n            if (normalize) {\n                _lastNode.data = (_lastNode.data + data).replace(reWhitespace, \" \");\n            }\n            else {\n                _lastNode.data += data;\n            }\n        }\n        else {\n            if (normalize) {\n                data = data.replace(reWhitespace, \" \");\n            }\n            var node = new node_1.DataNode(\"text\" /* Text */, data);\n            this.addNode(node);\n            this._lastNode = node;\n        }\n    };\n    DomHandler.prototype.oncomment = function (data) {\n        if (this._lastNode && this._lastNode.type === \"comment\" /* Comment */) {\n            this._lastNode.data += data;\n            return;\n        }\n        var node = new node_1.DataNode(\"comment\" /* Comment */, data);\n        this.addNode(node);\n        this._lastNode = node;\n    };\n    DomHandler.prototype.oncommentend = function () {\n        this._lastNode = null;\n    };\n    DomHandler.prototype.oncdatastart = function () {\n        var text = new node_1.DataNode(\"text\" /* Text */, \"\");\n        var node = new node_1.NodeWithChildren(\"cdata\" /* CDATA */, [text]);\n        this.addNode(node);\n        text.parent = node;\n        this._lastNode = text;\n    };\n    DomHandler.prototype.oncdataend = function () {\n        this._lastNode = null;\n    };\n    DomHandler.prototype.onprocessinginstruction = function (name, data) {\n        var node = new node_1.ProcessingInstruction(name, data);\n        this.addNode(node);\n    };\n    DomHandler.prototype.handleCallback = function (error) {\n        if (typeof this._callback === \"function\") {\n            this._callback(error, this.dom);\n        }\n        else if (error) {\n            throw error;\n        }\n    };\n    DomHandler.prototype.addNode = function (node) {\n        var parent = this._tagStack[this._tagStack.length - 1];\n        var siblings = parent ? parent.children : this.dom;\n        var previousSibling = siblings[siblings.length - 1];\n        if (this._parser) {\n            if (this._options.withStartIndices) {\n                node.startIndex = this._parser.startIndex;\n            }\n            if (this._options.withEndIndices) {\n                node.endIndex = this._parser.endIndex;\n            }\n        }\n        siblings.push(node);\n        if (previousSibling) {\n            node.prev = previousSibling;\n            previousSibling.next = node;\n        }\n        if (parent) {\n            node.parent = parent;\n        }\n        this._lastNode = null;\n    };\n    DomHandler.prototype.addDataNode = function (node) {\n        this.addNode(node);\n        this._lastNode = node;\n    };\n    return DomHandler;\n}());\nexports.DomHandler = DomHandler;\nexports.default = DomHandler;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar nodeTypes = new Map([\n    [\"tag\" /* Tag */, 1],\n    [\"script\" /* Script */, 1],\n    [\"style\" /* Style */, 1],\n    [\"directive\" /* Directive */, 1],\n    [\"text\" /* Text */, 3],\n    [\"cdata\" /* CDATA */, 4],\n    [\"comment\" /* Comment */, 8]\n]);\n// This object will be used as the prototype for Nodes when creating a\n// DOM-Level-1-compliant structure.\nvar Node = /** @class */ (function () {\n    /**\n     *\n     * @param type The type of the node.\n     */\n    function Node(type) {\n        this.type = type;\n        /** Parent of the node */\n        this.parent = null;\n        /** Previous sibling */\n        this.prev = null;\n        /** Next sibling */\n        this.next = null;\n        /** The start index of the node. Requires `withStartIndices` on the handler to be `true. */\n        this.startIndex = null;\n        /** The end index of the node. Requires `withEndIndices` on the handler to be `true. */\n        this.endIndex = null;\n    }\n    Object.defineProperty(Node.prototype, \"nodeType\", {\n        // Read-only aliases\n        get: function () {\n            return nodeTypes.get(this.type) || 1;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"parentNode\", {\n        // Read-write aliases for properties\n        get: function () {\n            return this.parent || null;\n        },\n        set: function (parent) {\n            this.parent = parent;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"previousSibling\", {\n        get: function () {\n            return this.prev || null;\n        },\n        set: function (prev) {\n            this.prev = prev;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(Node.prototype, \"nextSibling\", {\n        get: function () {\n            return this.next || null;\n        },\n        set: function (next) {\n            this.next = next;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Node;\n}());\nexports.Node = Node;\nvar DataNode = /** @class */ (function (_super) {\n    __extends(DataNode, _super);\n    /**\n     *\n     * @param type The type of the node\n     * @param data The content of the data node\n     */\n    function DataNode(type, data) {\n        var _this = _super.call(this, type) || this;\n        _this.data = data;\n        return _this;\n    }\n    Object.defineProperty(DataNode.prototype, \"nodeValue\", {\n        get: function () {\n            return this.data;\n        },\n        set: function (data) {\n            this.data = data;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return DataNode;\n}(Node));\nexports.DataNode = DataNode;\nvar ProcessingInstruction = /** @class */ (function (_super) {\n    __extends(ProcessingInstruction, _super);\n    function ProcessingInstruction(name, data) {\n        var _this = _super.call(this, \"directive\" /* Directive */, data) || this;\n        _this.name = name;\n        return _this;\n    }\n    return ProcessingInstruction;\n}(DataNode));\nexports.ProcessingInstruction = ProcessingInstruction;\nvar NodeWithChildren = /** @class */ (function (_super) {\n    __extends(NodeWithChildren, _super);\n    /**\n     *\n     * @param type Type of the node.\n     * @param children Children of the node. Only certain node types can have children.\n     */\n    function NodeWithChildren(type, children) {\n        var _this = _super.call(this, type) || this;\n        _this.children = children;\n        return _this;\n    }\n    Object.defineProperty(NodeWithChildren.prototype, \"firstChild\", {\n        // Aliases\n        get: function () {\n            return this.children[0] || null;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(NodeWithChildren.prototype, \"lastChild\", {\n        get: function () {\n            return this.children[this.children.length - 1] || null;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    Object.defineProperty(NodeWithChildren.prototype, \"childNodes\", {\n        get: function () {\n            return this.children;\n        },\n        set: function (children) {\n            this.children = children;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return NodeWithChildren;\n}(Node));\nexports.NodeWithChildren = NodeWithChildren;\nvar Element = /** @class */ (function (_super) {\n    __extends(Element, _super);\n    /**\n     *\n     * @param name Name of the tag, eg. `div`, `span`\n     * @param attribs Object mapping attribute names to attribute values\n     */\n    function Element(name, attribs) {\n        var _this = _super.call(this, name === \"script\"\n            ? \"script\" /* Script */\n            : name === \"style\"\n                ? \"style\" /* Style */\n                : \"tag\" /* Tag */, []) || this;\n        _this.name = name;\n        _this.attribs = attribs;\n        _this.attribs = attribs;\n        return _this;\n    }\n    Object.defineProperty(Element.prototype, \"tagName\", {\n        // DOM Level 1 aliases\n        get: function () {\n            return this.name;\n        },\n        set: function (name) {\n            this.name = name;\n        },\n        enumerable: true,\n        configurable: true\n    });\n    return Element;\n}(NodeWithChildren));\nexports.Element = Element;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.uniqueSort = exports.compareDocumentPosition = exports.removeSubsets = void 0;\nvar tagtypes_1 = require(\"./tagtypes\");\n/**\n * Given an array of nodes, remove any member that is contained by another.\n *\n * @param nodes Nodes to filter.\n */\nfunction removeSubsets(nodes) {\n    var idx = nodes.length;\n    // Check if each node (or one of its ancestors) is already contained in the\n    // array.\n    while (--idx >= 0) {\n        var node = nodes[idx];\n        // Remove the node if it is not unique.\n        // We are going through the array from the end, so we only\n        // have to check nodes that preceed the node under consideration in the array.\n        if (idx > 0 && nodes.lastIndexOf(node, idx - 1) >= 0) {\n            nodes.splice(idx, 1);\n            continue;\n        }\n        for (var ancestor = node.parent; ancestor; ancestor = ancestor.parent) {\n            if (nodes.indexOf(ancestor) > -1) {\n                nodes.splice(idx, 1);\n                break;\n            }\n        }\n    }\n    return nodes;\n}\nexports.removeSubsets = removeSubsets;\n/***\n * Compare the position of one node against another node in any other document.\n * The return value is a bitmask with the following values:\n *\n * document order:\n * > There is an ordering, document order, defined on all the nodes in the\n * > document corresponding to the order in which the first character of the\n * > XML representation of each node occurs in the XML representation of the\n * > document after expansion of general entities. Thus, the document element\n * > node will be the first node. Element nodes occur before their children.\n * > Thus, document order orders element nodes in order of the occurrence of\n * > their start-tag in the XML (after expansion of entities). The attribute\n * > nodes of an element occur after the element and before its children. The\n * > relative order of attribute nodes is implementation-dependent./\n *\n * Source:\n * http://www.w3.org/TR/DOM-Level-3-Core/glossary.html#dt-document-order\n * @param nodaA The first node to use in the comparison\n * @param nodeB The second node to use in the comparison\n *\n * @return A bitmask describing the input nodes' relative position.\n *\n *        See http://dom.spec.whatwg.org/#dom-node-comparedocumentposition for\n *        a description of these values.\n */\nfunction compareDocumentPosition(nodeA, nodeB) {\n    var aParents = [];\n    var bParents = [];\n    if (nodeA === nodeB) {\n        return 0;\n    }\n    var current = tagtypes_1.hasChildren(nodeA) ? nodeA : nodeA.parent;\n    while (current) {\n        aParents.unshift(current);\n        current = current.parent;\n    }\n    current = tagtypes_1.hasChildren(nodeB) ? nodeB : nodeB.parent;\n    while (current) {\n        bParents.unshift(current);\n        current = current.parent;\n    }\n    var idx = 0;\n    while (aParents[idx] === bParents[idx]) {\n        idx++;\n    }\n    if (idx === 0) {\n        return 1 /* DISCONNECTED */;\n    }\n    var sharedParent = aParents[idx - 1];\n    var siblings = sharedParent.children;\n    var aSibling = aParents[idx];\n    var bSibling = bParents[idx];\n    if (siblings.indexOf(aSibling) > siblings.indexOf(bSibling)) {\n        if (sharedParent === nodeB) {\n            return 4 /* FOLLOWING */ | 16 /* CONTAINED_BY */;\n        }\n        return 4 /* FOLLOWING */;\n    }\n    else {\n        if (sharedParent === nodeA) {\n            return 2 /* PRECEDING */ | 8 /* CONTAINS */;\n        }\n        return 2 /* PRECEDING */;\n    }\n}\nexports.compareDocumentPosition = compareDocumentPosition;\n/***\n * Sort an array of nodes based on their relative position in the document and\n * remove any duplicate nodes. If the array contains nodes that do not belong\n * to the same document, sort order is unspecified.\n *\n * @param nodes Array of DOM nodes\n * @returns collection of unique nodes, sorted in document order\n */\nfunction uniqueSort(nodes) {\n    nodes = nodes.filter(function (node, i, arr) { return !arr.includes(node, i + 1); });\n    nodes.sort(function (a, b) {\n        var relative = compareDocumentPosition(a, b);\n        if (relative & 2 /* PRECEDING */) {\n            return -1;\n        }\n        else if (relative & 4 /* FOLLOWING */) {\n            return 1;\n        }\n        return 0;\n    });\n    return nodes;\n}\nexports.uniqueSort = uniqueSort;\n","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !exports.hasOwnProperty(p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\n__exportStar(require(\"./stringify\"), exports);\n__exportStar(require(\"./traversal\"), exports);\n__exportStar(require(\"./manipulation\"), exports);\n__exportStar(require(\"./querying\"), exports);\n__exportStar(require(\"./legacy\"), exports);\n__exportStar(require(\"./helpers\"), exports);\n__exportStar(require(\"./tagtypes\"), exports);\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getElementsByTagType = exports.getElementsByTagName = exports.getElementById = exports.getElements = exports.testElement = void 0;\nvar querying_1 = require(\"./querying\");\nvar tagtypes_1 = require(\"./tagtypes\");\nfunction isTextNode(node) {\n    return node.type === \"text\" /* Text */;\n}\n/* eslint-disable @typescript-eslint/camelcase */\nvar Checks = {\n    tag_name: function (name) {\n        if (typeof name === \"function\") {\n            return function (elem) { return tagtypes_1.isTag(elem) && name(elem.name); };\n        }\n        else if (name === \"*\") {\n            return tagtypes_1.isTag;\n        }\n        else {\n            return function (elem) { return tagtypes_1.isTag(elem) && elem.name === name; };\n        }\n    },\n    tag_type: function (type) {\n        if (typeof type === \"function\") {\n            return function (elem) { return type(elem.type); };\n        }\n        else {\n            return function (elem) { return elem.type === type; };\n        }\n    },\n    tag_contains: function (data) {\n        if (typeof data === \"function\") {\n            return function (elem) { return isTextNode(elem) && data(elem.data); };\n        }\n        else {\n            return function (elem) { return isTextNode(elem) && elem.data === data; };\n        }\n    },\n};\n/* eslint-enable @typescript-eslint/camelcase */\nfunction getAttribCheck(attrib, value) {\n    if (typeof value === \"function\") {\n        return function (elem) { return tagtypes_1.isTag(elem) && value(elem.attribs[attrib]); };\n    }\n    else {\n        return function (elem) { return tagtypes_1.isTag(elem) && elem.attribs[attrib] === value; };\n    }\n}\nfunction combineFuncs(a, b) {\n    return function (elem) { return a(elem) || b(elem); };\n}\nfunction compileTest(options) {\n    var funcs = Object.keys(options).map(function (key) {\n        var value = options[key];\n        return key in Checks\n            ? Checks[key](value)\n            : getAttribCheck(key, value);\n    });\n    return funcs.length === 0 ? null : funcs.reduce(combineFuncs);\n}\nfunction testElement(options, element) {\n    var test = compileTest(options);\n    return test ? test(element) : true;\n}\nexports.testElement = testElement;\nfunction getElements(options, element, recurse, limit) {\n    if (limit === void 0) { limit = Infinity; }\n    var test = compileTest(options);\n    return test ? querying_1.filter(test, element, recurse, limit) : [];\n}\nexports.getElements = getElements;\nfunction getElementById(id, element, recurse) {\n    if (recurse === void 0) { recurse = true; }\n    if (!Array.isArray(element))\n        element = [element];\n    return querying_1.findOne(getAttribCheck(\"id\", id), element, recurse);\n}\nexports.getElementById = getElementById;\nfunction getElementsByTagName(name, element, recurse, limit) {\n    if (limit === void 0) { limit = Infinity; }\n    return querying_1.filter(Checks.tag_name(name), element, recurse, limit);\n}\nexports.getElementsByTagName = getElementsByTagName;\nfunction getElementsByTagType(type, element, recurse, limit) {\n    if (recurse === void 0) { recurse = true; }\n    if (limit === void 0) { limit = Infinity; }\n    return querying_1.filter(Checks.tag_type(type), element, recurse, limit);\n}\nexports.getElementsByTagType = getElementsByTagType;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.prepend = exports.append = exports.appendChild = exports.replaceElement = exports.removeElement = void 0;\n/***\n * Remove an element from the dom\n *\n * @param elem The element to be removed\n */\nfunction removeElement(elem) {\n    if (elem.prev)\n        elem.prev.next = elem.next;\n    if (elem.next)\n        elem.next.prev = elem.prev;\n    if (elem.parent) {\n        var childs = elem.parent.children;\n        childs.splice(childs.lastIndexOf(elem), 1);\n    }\n}\nexports.removeElement = removeElement;\n/***\n * Replace an element in the dom\n *\n * @param elem The element to be replaced\n * @param replacement The element to be added\n */\nfunction replaceElement(elem, replacement) {\n    var prev = (replacement.prev = elem.prev);\n    if (prev) {\n        prev.next = replacement;\n    }\n    var next = (replacement.next = elem.next);\n    if (next) {\n        next.prev = replacement;\n    }\n    var parent = (replacement.parent = elem.parent);\n    if (parent) {\n        var childs = parent.children;\n        childs[childs.lastIndexOf(elem)] = replacement;\n    }\n}\nexports.replaceElement = replaceElement;\n/***\n * Append a child to an element\n *\n * @param elem The element to append to\n * @param child The element to be added as a child\n */\nfunction appendChild(elem, child) {\n    removeElement(child);\n    child.parent = elem;\n    if (elem.children.push(child) !== 1) {\n        var sibling = elem.children[elem.children.length - 2];\n        sibling.next = child;\n        child.prev = sibling;\n        child.next = null;\n    }\n}\nexports.appendChild = appendChild;\n/***\n * Append an element after another\n *\n * @param elem The element to append to\n * @param next The element be added\n */\nfunction append(elem, next) {\n    removeElement(next);\n    var parent = elem.parent;\n    var currNext = elem.next;\n    next.next = currNext;\n    next.prev = elem;\n    elem.next = next;\n    next.parent = parent;\n    if (currNext) {\n        currNext.prev = next;\n        if (parent) {\n            var childs = parent.children;\n            childs.splice(childs.lastIndexOf(currNext), 0, next);\n        }\n    }\n    else if (parent) {\n        parent.children.push(next);\n    }\n}\nexports.append = append;\n/***\n * Prepend an element before another\n *\n * @param elem The element to append to\n * @param prev The element be added\n */\nfunction prepend(elem, prev) {\n    var parent = elem.parent;\n    if (parent) {\n        var childs = parent.children;\n        childs.splice(childs.lastIndexOf(elem), 0, prev);\n    }\n    if (elem.prev) {\n        elem.prev.next = prev;\n    }\n    prev.parent = parent;\n    prev.prev = elem.prev;\n    prev.next = elem;\n    elem.prev = prev;\n}\nexports.prepend = prepend;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.findAll = exports.existsOne = exports.findOne = exports.findOneChild = exports.find = exports.filter = void 0;\nvar tagtypes_1 = require(\"./tagtypes\");\n/**\n * Search a node and its children for nodes passing a test function.\n *\n * @param test Function to test nodes on.\n * @param element Element to search. Will be included in the result set if it matches.\n * @param recurse Also consider child nodes.\n * @param limit Maximum number of nodes to return.\n */\nfunction filter(test, node, recurse, limit) {\n    if (recurse === void 0) { recurse = true; }\n    if (limit === void 0) { limit = Infinity; }\n    if (!Array.isArray(node))\n        node = [node];\n    return find(test, node, recurse, limit);\n}\nexports.filter = filter;\n/**\n * Like `filter`, but only works on an array of nodes.\n *\n * @param test Function to test nodes on.\n * @param nodes Array of nodes to search.\n * @param recurse Also consider child nodes.\n * @param limit Maximum number of nodes to return.\n */\nfunction find(test, nodes, recurse, limit) {\n    var result = [];\n    for (var _i = 0, nodes_1 = nodes; _i < nodes_1.length; _i++) {\n        var elem = nodes_1[_i];\n        if (test(elem)) {\n            result.push(elem);\n            if (--limit <= 0)\n                break;\n        }\n        if (recurse && tagtypes_1.hasChildren(elem) && elem.children.length > 0) {\n            var children = find(test, elem.children, recurse, limit);\n            result.push.apply(result, children);\n            limit -= children.length;\n            if (limit <= 0)\n                break;\n        }\n    }\n    return result;\n}\nexports.find = find;\n/**\n * Finds the first element inside of an array that matches a test function.\n *\n * @param test Function to test nodes on.\n * @param nodes Array of nodes to search.\n */\nfunction findOneChild(test, nodes) {\n    return nodes.find(test);\n}\nexports.findOneChild = findOneChild;\n/**\n * Finds one element in a tree that passes a test.\n *\n * @param test Function to test nodes on.\n * @param nodes Array of nodes to search.\n * @param recurse Also consider child nodes.\n */\nfunction findOne(test, nodes, recurse) {\n    if (recurse === void 0) { recurse = true; }\n    var elem = null;\n    for (var i = 0; i < nodes.length && !elem; i++) {\n        var checked = nodes[i];\n        if (!tagtypes_1.isTag(checked)) {\n            continue;\n        }\n        else if (test(checked)) {\n            elem = checked;\n        }\n        else if (recurse && checked.children.length > 0) {\n            elem = findOne(test, checked.children);\n        }\n    }\n    return elem;\n}\nexports.findOne = findOne;\n/**\n * Returns whether a tree of nodes contains at least one node passing a test.\n *\n * @param test Function to test nodes on.\n * @param nodes Array of nodes to search.\n */\nfunction existsOne(test, nodes) {\n    return nodes.some(function (checked) {\n        return tagtypes_1.isTag(checked) &&\n            (test(checked) ||\n                (checked.children.length > 0 &&\n                    existsOne(test, checked.children)));\n    });\n}\nexports.existsOne = existsOne;\n/**\n * Search and array of nodes and its children for nodes passing a test function.\n *\n * Same as `find`, only with less options, leading to reduced complexity.\n *\n * @param test Function to test nodes on.\n * @param nodes Array of nodes to search.\n */\nfunction findAll(test, nodes) {\n    var _a;\n    var result = [];\n    var stack = nodes.filter(tagtypes_1.isTag);\n    var elem;\n    while ((elem = stack.shift())) {\n        var children = (_a = elem.children) === null || _a === void 0 ? void 0 : _a.filter(tagtypes_1.isTag);\n        if (children && children.length > 0) {\n            stack.unshift.apply(stack, children);\n        }\n        if (test(elem))\n            result.push(elem);\n    }\n    return result;\n}\nexports.findAll = findAll;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.getText = exports.getInnerHTML = exports.getOuterHTML = void 0;\nvar tagtypes_1 = require(\"./tagtypes\");\nvar dom_serializer_1 = __importDefault(require(\"dom-serializer\"));\nfunction getOuterHTML(node, options) {\n    return dom_serializer_1.default(node, options);\n}\nexports.getOuterHTML = getOuterHTML;\nfunction getInnerHTML(node, options) {\n    return tagtypes_1.hasChildren(node)\n        ? node.children.map(function (node) { return getOuterHTML(node, options); }).join(\"\")\n        : \"\";\n}\nexports.getInnerHTML = getInnerHTML;\nfunction getText(node) {\n    if (Array.isArray(node))\n        return node.map(getText).join(\"\");\n    if (tagtypes_1.isTag(node))\n        return node.name === \"br\" ? \"\\n\" : getText(node.children);\n    if (tagtypes_1.isCDATA(node))\n        return getText(node.children);\n    if (tagtypes_1.isText(node))\n        return node.data;\n    return \"\";\n}\nexports.getText = getText;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.hasChildren = exports.isComment = exports.isText = exports.isCDATA = exports.isTag = void 0;\nvar domelementtype_1 = require(\"domelementtype\");\nfunction isTag(node) {\n    return domelementtype_1.isTag(node);\n}\nexports.isTag = isTag;\nfunction isCDATA(node) {\n    return node.type === \"cdata\" /* CDATA */;\n}\nexports.isCDATA = isCDATA;\nfunction isText(node) {\n    return node.type === \"text\" /* Text */;\n}\nexports.isText = isText;\nfunction isComment(node) {\n    return node.type === \"comment\" /* Comment */;\n}\nexports.isComment = isComment;\nfunction hasChildren(node) {\n    return Object.prototype.hasOwnProperty.call(node, \"children\");\n}\nexports.hasChildren = hasChildren;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.nextElementSibling = exports.getName = exports.hasAttrib = exports.getAttributeValue = exports.getSiblings = exports.getParent = exports.getChildren = void 0;\nfunction getChildren(elem) {\n    return elem.children || null;\n}\nexports.getChildren = getChildren;\nfunction getParent(elem) {\n    return elem.parent || null;\n}\nexports.getParent = getParent;\nfunction getSiblings(elem) {\n    var parent = getParent(elem);\n    return parent ? getChildren(parent) : [elem];\n}\nexports.getSiblings = getSiblings;\nfunction getAttributeValue(elem, name) {\n    var _a;\n    return (_a = elem.attribs) === null || _a === void 0 ? void 0 : _a[name];\n}\nexports.getAttributeValue = getAttributeValue;\nfunction hasAttrib(elem, name) {\n    return (!!elem.attribs &&\n        Object.prototype.hasOwnProperty.call(elem.attribs, name) &&\n        elem.attribs[name] != null);\n}\nexports.hasAttrib = hasAttrib;\n/***\n * Returns the name property of an element\n *\n * @param elem The element to get the name for\n */\nfunction getName(elem) {\n    return elem.name;\n}\nexports.getName = getName;\nfunction nextElementSibling(elem) {\n    var node = elem.next;\n    while (node !== null && node.type !== \"tag\")\n        node = node.next;\n    return node;\n}\nexports.nextElementSibling = nextElementSibling;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.decodeHTML = exports.decodeHTMLStrict = exports.decodeXML = void 0;\nvar entities_json_1 = __importDefault(require(\"./maps/entities.json\"));\nvar legacy_json_1 = __importDefault(require(\"./maps/legacy.json\"));\nvar xml_json_1 = __importDefault(require(\"./maps/xml.json\"));\nvar decode_codepoint_1 = __importDefault(require(\"./decode_codepoint\"));\nexports.decodeXML = getStrictDecoder(xml_json_1.default);\nexports.decodeHTMLStrict = getStrictDecoder(entities_json_1.default);\nfunction getStrictDecoder(map) {\n    var keys = Object.keys(map).join(\"|\");\n    var replace = getReplacer(map);\n    keys += \"|#[xX][\\\\da-fA-F]+|#\\\\d+\";\n    var re = new RegExp(\"&(?:\" + keys + \");\", \"g\");\n    return function (str) { return String(str).replace(re, replace); };\n}\nvar sorter = function (a, b) { return (a < b ? 1 : -1); };\nexports.decodeHTML = (function () {\n    var legacy = Object.keys(legacy_json_1.default).sort(sorter);\n    var keys = Object.keys(entities_json_1.default).sort(sorter);\n    for (var i = 0, j = 0; i < keys.length; i++) {\n        if (legacy[j] === keys[i]) {\n            keys[i] += \";?\";\n            j++;\n        }\n        else {\n            keys[i] += \";\";\n        }\n    }\n    var re = new RegExp(\"&(?:\" + keys.join(\"|\") + \"|#[xX][\\\\da-fA-F]+;?|#\\\\d+;?)\", \"g\");\n    var replace = getReplacer(entities_json_1.default);\n    function replacer(str) {\n        if (str.substr(-1) !== \";\")\n            str += \";\";\n        return replace(str);\n    }\n    //TODO consider creating a merged map\n    return function (str) { return String(str).replace(re, replacer); };\n})();\nfunction getReplacer(map) {\n    return function replace(str) {\n        if (str.charAt(1) === \"#\") {\n            var secondChar = str.charAt(2);\n            if (secondChar === \"X\" || secondChar === \"x\") {\n                return decode_codepoint_1.default(parseInt(str.substr(3), 16));\n            }\n            return decode_codepoint_1.default(parseInt(str.substr(2), 10));\n        }\n        return map[str.slice(1, -1)];\n    };\n}\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar decode_json_1 = __importDefault(require(\"./maps/decode.json\"));\n// modified version of https://github.com/mathiasbynens/he/blob/master/src/he.js#L94-L119\nfunction decodeCodePoint(codePoint) {\n    if ((codePoint >= 0xd800 && codePoint <= 0xdfff) || codePoint > 0x10ffff) {\n        return \"\\uFFFD\";\n    }\n    if (codePoint in decode_json_1.default) {\n        codePoint = decode_json_1.default[codePoint];\n    }\n    var output = \"\";\n    if (codePoint > 0xffff) {\n        codePoint -= 0x10000;\n        output += String.fromCharCode(((codePoint >>> 10) & 0x3ff) | 0xd800);\n        codePoint = 0xdc00 | (codePoint & 0x3ff);\n    }\n    output += String.fromCharCode(codePoint);\n    return output;\n}\nexports.default = decodeCodePoint;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.escape = exports.encodeHTML = exports.encodeXML = void 0;\nvar xml_json_1 = __importDefault(require(\"./maps/xml.json\"));\nvar inverseXML = getInverseObj(xml_json_1.default);\nvar xmlReplacer = getInverseReplacer(inverseXML);\nexports.encodeXML = getInverse(inverseXML, xmlReplacer);\nvar entities_json_1 = __importDefault(require(\"./maps/entities.json\"));\nvar inverseHTML = getInverseObj(entities_json_1.default);\nvar htmlReplacer = getInverseReplacer(inverseHTML);\nexports.encodeHTML = getInverse(inverseHTML, htmlReplacer);\nfunction getInverseObj(obj) {\n    return Object.keys(obj)\n        .sort()\n        .reduce(function (inverse, name) {\n        inverse[obj[name]] = \"&\" + name + \";\";\n        return inverse;\n    }, {});\n}\nfunction getInverseReplacer(inverse) {\n    var single = [];\n    var multiple = [];\n    for (var _i = 0, _a = Object.keys(inverse); _i < _a.length; _i++) {\n        var k = _a[_i];\n        if (k.length === 1) {\n            // Add value to single array\n            single.push(\"\\\\\" + k);\n        }\n        else {\n            // Add value to multiple array\n            multiple.push(k);\n        }\n    }\n    // Add ranges to single characters.\n    single.sort();\n    for (var start = 0; start < single.length - 1; start++) {\n        // Find the end of a run of characters\n        var end = start;\n        while (end < single.length - 1 &&\n            single[end].charCodeAt(1) + 1 === single[end + 1].charCodeAt(1)) {\n            end += 1;\n        }\n        var count = 1 + end - start;\n        // We want to replace at least three characters\n        if (count < 3)\n            continue;\n        single.splice(start, count, single[start] + \"-\" + single[end]);\n    }\n    multiple.unshift(\"[\" + single.join(\"\") + \"]\");\n    return new RegExp(multiple.join(\"|\"), \"g\");\n}\nvar reNonASCII = /(?:[\\x80-\\uD7FF\\uE000-\\uFFFF]|[\\uD800-\\uDBFF][\\uDC00-\\uDFFF]|[\\uD800-\\uDBFF](?![\\uDC00-\\uDFFF])|(?:[^\\uD800-\\uDBFF]|^)[\\uDC00-\\uDFFF])/g;\nfunction singleCharReplacer(c) {\n    // eslint-disable-next-line @typescript-eslint/no-non-null-assertion\n    return \"&#x\" + c.codePointAt(0).toString(16).toUpperCase() + \";\";\n}\nfunction getInverse(inverse, re) {\n    return function (data) {\n        return data\n            .replace(re, function (name) { return inverse[name]; })\n            .replace(reNonASCII, singleCharReplacer);\n    };\n}\nvar reXmlChars = getInverseReplacer(inverseXML);\nfunction escape(data) {\n    return data\n        .replace(reXmlChars, singleCharReplacer)\n        .replace(reNonASCII, singleCharReplacer);\n}\nexports.escape = escape;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.encode = exports.decodeStrict = exports.decode = void 0;\nvar decode_1 = require(\"./decode\");\nvar encode_1 = require(\"./encode\");\n/**\n * Decodes a string with entities.\n *\n * @param data String to decode.\n * @param level Optional level to decode at. 0 = XML, 1 = HTML. Default is 0.\n */\nfunction decode(data, level) {\n    return (!level || level <= 0 ? decode_1.decodeXML : decode_1.decodeHTML)(data);\n}\nexports.decode = decode;\n/**\n * Decodes a string with entities. Does not allow missing trailing semicolons for entities.\n *\n * @param data String to decode.\n * @param level Optional level to decode at. 0 = XML, 1 = HTML. Default is 0.\n */\nfunction decodeStrict(data, level) {\n    return (!level || level <= 0 ? decode_1.decodeXML : decode_1.decodeHTMLStrict)(data);\n}\nexports.decodeStrict = decodeStrict;\n/**\n * Encodes a string with entities.\n *\n * @param data String to encode.\n * @param level Optional level to encode at. 0 = XML, 1 = HTML. Default is 0.\n */\nfunction encode(data, level) {\n    return (!level || level <= 0 ? encode_1.encodeXML : encode_1.encodeHTML)(data);\n}\nexports.encode = encode;\nvar encode_2 = require(\"./encode\");\nObject.defineProperty(exports, \"encodeXML\", { enumerable: true, get: function () { return encode_2.encodeXML; } });\nObject.defineProperty(exports, \"encodeHTML\", { enumerable: true, get: function () { return encode_2.encodeHTML; } });\nObject.defineProperty(exports, \"escape\", { enumerable: true, get: function () { return encode_2.escape; } });\n// Legacy aliases\nObject.defineProperty(exports, \"encodeHTML4\", { enumerable: true, get: function () { return encode_2.encodeHTML; } });\nObject.defineProperty(exports, \"encodeHTML5\", { enumerable: true, get: function () { return encode_2.encodeHTML; } });\nvar decode_2 = require(\"./decode\");\nObject.defineProperty(exports, \"decodeXML\", { enumerable: true, get: function () { return decode_2.decodeXML; } });\nObject.defineProperty(exports, \"decodeHTML\", { enumerable: true, get: function () { return decode_2.decodeHTML; } });\nObject.defineProperty(exports, \"decodeHTMLStrict\", { enumerable: true, get: function () { return decode_2.decodeHTMLStrict; } });\n// Legacy aliases\nObject.defineProperty(exports, \"decodeHTML4\", { enumerable: true, get: function () { return decode_2.decodeHTML; } });\nObject.defineProperty(exports, \"decodeHTML5\", { enumerable: true, get: function () { return decode_2.decodeHTML; } });\nObject.defineProperty(exports, \"decodeHTML4Strict\", { enumerable: true, get: function () { return decode_2.decodeHTMLStrict; } });\nObject.defineProperty(exports, \"decodeHTML5Strict\", { enumerable: true, get: function () { return decode_2.decodeHTMLStrict; } });\nObject.defineProperty(exports, \"decodeXMLStrict\", { enumerable: true, get: function () { return decode_2.decodeXML; } });\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar MultiplexHandler_1 = __importDefault(require(\"./MultiplexHandler\"));\nvar CollectingHandler = /** @class */ (function (_super) {\n    __extends(CollectingHandler, _super);\n    function CollectingHandler(cbs) {\n        if (cbs === void 0) { cbs = {}; }\n        var _this = _super.call(this, function (name) {\n            var _a;\n            var args = [];\n            for (var _i = 1; _i < arguments.length; _i++) {\n                args[_i - 1] = arguments[_i];\n            }\n            _this.events.push([name].concat(args));\n            // @ts-ignore\n            if (_this._cbs[name])\n                (_a = _this._cbs)[name].apply(_a, args);\n        }) || this;\n        _this._cbs = cbs;\n        _this.events = [];\n        return _this;\n    }\n    CollectingHandler.prototype.onreset = function () {\n        this.events = [];\n        if (this._cbs.onreset)\n            this._cbs.onreset();\n    };\n    CollectingHandler.prototype.restart = function () {\n        var _a;\n        if (this._cbs.onreset)\n            this._cbs.onreset();\n        for (var i = 0; i < this.events.length; i++) {\n            var _b = this.events[i], name_1 = _b[0], args = _b.slice(1);\n            if (!this._cbs[name_1]) {\n                continue;\n            }\n            // @ts-ignore\n            (_a = this._cbs)[name_1].apply(_a, args);\n        }\n    };\n    return CollectingHandler;\n}(MultiplexHandler_1.default));\nexports.CollectingHandler = CollectingHandler;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar domhandler_1 = __importDefault(require(\"domhandler\"));\nvar DomUtils = __importStar(require(\"domutils\"));\nvar Parser_1 = require(\"./Parser\");\n//TODO: Consume data as it is coming in\nvar FeedHandler = /** @class */ (function (_super) {\n    __extends(FeedHandler, _super);\n    /**\n     *\n     * @param callback\n     * @param options\n     */\n    function FeedHandler(callback, options) {\n        var _this = this;\n        if (typeof callback === \"object\" && callback !== null) {\n            callback = undefined;\n            options = callback;\n        }\n        _this = _super.call(this, callback, options) || this;\n        return _this;\n    }\n    FeedHandler.prototype.onend = function () {\n        var feed = {};\n        var feedRoot = getOneElement(isValidFeed, this.dom);\n        if (feedRoot) {\n            if (feedRoot.name === \"feed\") {\n                var childs = feedRoot.children;\n                feed.type = \"atom\";\n                addConditionally(feed, \"id\", \"id\", childs);\n                addConditionally(feed, \"title\", \"title\", childs);\n                var href = getAttribute(\"href\", getOneElement(\"link\", childs));\n                if (href) {\n                    feed.link = href;\n                }\n                addConditionally(feed, \"description\", \"subtitle\", childs);\n                var updated = fetch(\"updated\", childs);\n                if (updated) {\n                    feed.updated = new Date(updated);\n                }\n                addConditionally(feed, \"author\", \"email\", childs, true);\n                feed.items = getElements(\"entry\", childs).map(function (item) {\n                    var entry = {};\n                    var children = item.children;\n                    addConditionally(entry, \"id\", \"id\", children);\n                    addConditionally(entry, \"title\", \"title\", children);\n                    var href = getAttribute(\"href\", getOneElement(\"link\", children));\n                    if (href) {\n                        entry.link = href;\n                    }\n                    var description = fetch(\"summary\", children) ||\n                        fetch(\"content\", children);\n                    if (description) {\n                        entry.description = description;\n                    }\n                    var pubDate = fetch(\"updated\", children);\n                    if (pubDate) {\n                        entry.pubDate = new Date(pubDate);\n                    }\n                    return entry;\n                });\n            }\n            else {\n                var childs = getOneElement(\"channel\", feedRoot.children)\n                    .children;\n                feed.type = feedRoot.name.substr(0, 3);\n                feed.id = \"\";\n                addConditionally(feed, \"title\", \"title\", childs);\n                addConditionally(feed, \"link\", \"link\", childs);\n                addConditionally(feed, \"description\", \"description\", childs);\n                var updated = fetch(\"lastBuildDate\", childs);\n                if (updated) {\n                    feed.updated = new Date(updated);\n                }\n                addConditionally(feed, \"author\", \"managingEditor\", childs, true);\n                feed.items = getElements(\"item\", feedRoot.children).map(function (item) {\n                    var entry = {};\n                    var children = item.children;\n                    addConditionally(entry, \"id\", \"guid\", children);\n                    addConditionally(entry, \"title\", \"title\", children);\n                    addConditionally(entry, \"link\", \"link\", children);\n                    addConditionally(entry, \"description\", \"description\", children);\n                    var pubDate = fetch(\"pubDate\", children);\n                    if (pubDate)\n                        entry.pubDate = new Date(pubDate);\n                    return entry;\n                });\n            }\n        }\n        this.feed = feed;\n        this.handleCallback(feedRoot ? null : Error(\"couldn't find root of feed\"));\n    };\n    return FeedHandler;\n}(domhandler_1.default));\nexports.FeedHandler = FeedHandler;\nfunction getElements(what, where) {\n    return DomUtils.getElementsByTagName(what, where, true);\n}\nfunction getOneElement(what, where) {\n    return DomUtils.getElementsByTagName(what, where, true, 1)[0];\n}\nfunction fetch(what, where, recurse) {\n    if (recurse === void 0) { recurse = false; }\n    return DomUtils.getText(DomUtils.getElementsByTagName(what, where, recurse, 1)).trim();\n}\nfunction getAttribute(name, elem) {\n    if (!elem) {\n        return null;\n    }\n    var attribs = elem.attribs;\n    return attribs[name];\n}\nfunction addConditionally(obj, prop, what, where, recurse) {\n    if (recurse === void 0) { recurse = false; }\n    var tmp = fetch(what, where, recurse);\n    // @ts-ignore\n    if (tmp)\n        obj[prop] = tmp;\n}\nfunction isValidFeed(value) {\n    return value === \"rss\" || value === \"feed\" || value === \"rdf:RDF\";\n}\nvar defaultOptions = { xmlMode: true };\n/**\n * Parse a feed.\n *\n * @param feed The feed that should be parsed, as a string.\n * @param options Optionally, options for parsing. When using this option, you probably want to set `xmlMode` to `true`.\n */\nfunction parseFeed(feed, options) {\n    if (options === void 0) { options = defaultOptions; }\n    var handler = new FeedHandler(options);\n    new Parser_1.Parser(handler, options).end(feed);\n    return handler.feed;\n}\nexports.parseFeed = parseFeed;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\n/**\n * Calls a specific handler function for all events that are encountered.\n *\n * @param func  The function to multiplex all events to.\n */\nvar MultiplexHandler = /** @class */ (function () {\n    function MultiplexHandler(func) {\n        this._func = func;\n    }\n    /* Format: eventname: number of arguments */\n    MultiplexHandler.prototype.onattribute = function (name, value) {\n        this._func(\"onattribute\", name, value);\n    };\n    MultiplexHandler.prototype.oncdatastart = function () {\n        this._func(\"oncdatastart\");\n    };\n    MultiplexHandler.prototype.oncdataend = function () {\n        this._func(\"oncdataend\");\n    };\n    MultiplexHandler.prototype.ontext = function (text) {\n        this._func(\"ontext\", text);\n    };\n    MultiplexHandler.prototype.onprocessinginstruction = function (name, value) {\n        this._func(\"onprocessinginstruction\", name, value);\n    };\n    MultiplexHandler.prototype.oncomment = function (comment) {\n        this._func(\"oncomment\", comment);\n    };\n    MultiplexHandler.prototype.oncommentend = function () {\n        this._func(\"oncommentend\");\n    };\n    MultiplexHandler.prototype.onclosetag = function (name) {\n        this._func(\"onclosetag\", name);\n    };\n    MultiplexHandler.prototype.onopentag = function (name, attribs) {\n        this._func(\"onopentag\", name, attribs);\n    };\n    MultiplexHandler.prototype.onopentagname = function (name) {\n        this._func(\"onopentagname\", name);\n    };\n    MultiplexHandler.prototype.onerror = function (error) {\n        this._func(\"onerror\", error);\n    };\n    MultiplexHandler.prototype.onend = function () {\n        this._func(\"onend\");\n    };\n    MultiplexHandler.prototype.onparserinit = function (parser) {\n        this._func(\"onparserinit\", parser);\n    };\n    MultiplexHandler.prototype.onreset = function () {\n        this._func(\"onreset\");\n    };\n    return MultiplexHandler;\n}());\nexports.default = MultiplexHandler;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Tokenizer_1 = __importDefault(require(\"./Tokenizer\"));\nvar events_1 = require(\"events\");\nvar formTags = new Set([\n    \"input\",\n    \"option\",\n    \"optgroup\",\n    \"select\",\n    \"button\",\n    \"datalist\",\n    \"textarea\"\n]);\nvar pTag = new Set([\"p\"]);\nvar openImpliesClose = {\n    tr: new Set([\"tr\", \"th\", \"td\"]),\n    th: new Set([\"th\"]),\n    td: new Set([\"thead\", \"th\", \"td\"]),\n    body: new Set([\"head\", \"link\", \"script\"]),\n    li: new Set([\"li\"]),\n    p: pTag,\n    h1: pTag,\n    h2: pTag,\n    h3: pTag,\n    h4: pTag,\n    h5: pTag,\n    h6: pTag,\n    select: formTags,\n    input: formTags,\n    output: formTags,\n    button: formTags,\n    datalist: formTags,\n    textarea: formTags,\n    option: new Set([\"option\"]),\n    optgroup: new Set([\"optgroup\", \"option\"]),\n    dd: new Set([\"dt\", \"dd\"]),\n    dt: new Set([\"dt\", \"dd\"]),\n    address: pTag,\n    article: pTag,\n    aside: pTag,\n    blockquote: pTag,\n    details: pTag,\n    div: pTag,\n    dl: pTag,\n    fieldset: pTag,\n    figcaption: pTag,\n    figure: pTag,\n    footer: pTag,\n    form: pTag,\n    header: pTag,\n    hr: pTag,\n    main: pTag,\n    nav: pTag,\n    ol: pTag,\n    pre: pTag,\n    section: pTag,\n    table: pTag,\n    ul: pTag,\n    rt: new Set([\"rt\", \"rp\"]),\n    rp: new Set([\"rt\", \"rp\"]),\n    tbody: new Set([\"thead\", \"tbody\"]),\n    tfoot: new Set([\"thead\", \"tbody\"])\n};\nvar voidElements = new Set([\n    \"area\",\n    \"base\",\n    \"basefont\",\n    \"br\",\n    \"col\",\n    \"command\",\n    \"embed\",\n    \"frame\",\n    \"hr\",\n    \"img\",\n    \"input\",\n    \"isindex\",\n    \"keygen\",\n    \"link\",\n    \"meta\",\n    \"param\",\n    \"source\",\n    \"track\",\n    \"wbr\"\n]);\nvar foreignContextElements = new Set([\"math\", \"svg\"]);\nvar htmlIntegrationElements = new Set([\n    \"mi\",\n    \"mo\",\n    \"mn\",\n    \"ms\",\n    \"mtext\",\n    \"annotation-xml\",\n    \"foreignObject\",\n    \"desc\",\n    \"title\"\n]);\nvar reNameEnd = /\\s|\\//;\nvar Parser = /** @class */ (function (_super) {\n    __extends(Parser, _super);\n    function Parser(cbs, options) {\n        var _this = _super.call(this) || this;\n        _this._tagname = \"\";\n        _this._attribname = \"\";\n        _this._attribvalue = \"\";\n        _this._attribs = null;\n        _this._stack = [];\n        _this._foreignContext = [];\n        _this.startIndex = 0;\n        _this.endIndex = null;\n        // Aliases for backwards compatibility\n        _this.parseChunk = Parser.prototype.write;\n        _this.done = Parser.prototype.end;\n        _this._options = options || {};\n        _this._cbs = cbs || {};\n        _this._tagname = \"\";\n        _this._attribname = \"\";\n        _this._attribvalue = \"\";\n        _this._attribs = null;\n        _this._stack = [];\n        _this._foreignContext = [];\n        _this.startIndex = 0;\n        _this.endIndex = null;\n        _this._lowerCaseTagNames =\n            \"lowerCaseTags\" in _this._options\n                ? !!_this._options.lowerCaseTags\n                : !_this._options.xmlMode;\n        _this._lowerCaseAttributeNames =\n            \"lowerCaseAttributeNames\" in _this._options\n                ? !!_this._options.lowerCaseAttributeNames\n                : !_this._options.xmlMode;\n        _this._tokenizer = new (_this._options.Tokenizer || Tokenizer_1.default)(_this._options, _this);\n        if (_this._cbs.onparserinit)\n            _this._cbs.onparserinit(_this);\n        return _this;\n    }\n    Parser.prototype._updatePosition = function (initialOffset) {\n        if (this.endIndex === null) {\n            if (this._tokenizer._sectionStart <= initialOffset) {\n                this.startIndex = 0;\n            }\n            else {\n                this.startIndex = this._tokenizer._sectionStart - initialOffset;\n            }\n        }\n        else\n            this.startIndex = this.endIndex + 1;\n        this.endIndex = this._tokenizer.getAbsoluteIndex();\n    };\n    //Tokenizer event handlers\n    Parser.prototype.ontext = function (data) {\n        this._updatePosition(1);\n        // @ts-ignore\n        this.endIndex--;\n        if (this._cbs.ontext)\n            this._cbs.ontext(data);\n    };\n    Parser.prototype.onopentagname = function (name) {\n        if (this._lowerCaseTagNames) {\n            name = name.toLowerCase();\n        }\n        this._tagname = name;\n        if (!this._options.xmlMode &&\n            Object.prototype.hasOwnProperty.call(openImpliesClose, name)) {\n            for (var el = void 0; \n            // @ts-ignore\n            openImpliesClose[name].has((el = this._stack[this._stack.length - 1])); this.onclosetag(el))\n                ;\n        }\n        if (this._options.xmlMode || !voidElements.has(name)) {\n            this._stack.push(name);\n            if (foreignContextElements.has(name)) {\n                this._foreignContext.push(true);\n            }\n            else if (htmlIntegrationElements.has(name)) {\n                this._foreignContext.push(false);\n            }\n        }\n        if (this._cbs.onopentagname)\n            this._cbs.onopentagname(name);\n        if (this._cbs.onopentag)\n            this._attribs = {};\n    };\n    Parser.prototype.onopentagend = function () {\n        this._updatePosition(1);\n        if (this._attribs) {\n            if (this._cbs.onopentag) {\n                this._cbs.onopentag(this._tagname, this._attribs);\n            }\n            this._attribs = null;\n        }\n        if (!this._options.xmlMode &&\n            this._cbs.onclosetag &&\n            voidElements.has(this._tagname)) {\n            this._cbs.onclosetag(this._tagname);\n        }\n        this._tagname = \"\";\n    };\n    Parser.prototype.onclosetag = function (name) {\n        this._updatePosition(1);\n        if (this._lowerCaseTagNames) {\n            name = name.toLowerCase();\n        }\n        if (foreignContextElements.has(name) ||\n            htmlIntegrationElements.has(name)) {\n            this._foreignContext.pop();\n        }\n        if (this._stack.length &&\n            (this._options.xmlMode || !voidElements.has(name))) {\n            var pos = this._stack.lastIndexOf(name);\n            if (pos !== -1) {\n                if (this._cbs.onclosetag) {\n                    pos = this._stack.length - pos;\n                    // @ts-ignore\n                    while (pos--)\n                        this._cbs.onclosetag(this._stack.pop());\n                }\n                else\n                    this._stack.length = pos;\n            }\n            else if (name === \"p\" && !this._options.xmlMode) {\n                this.onopentagname(name);\n                this._closeCurrentTag();\n            }\n        }\n        else if (!this._options.xmlMode && (name === \"br\" || name === \"p\")) {\n            this.onopentagname(name);\n            this._closeCurrentTag();\n        }\n    };\n    Parser.prototype.onselfclosingtag = function () {\n        if (this._options.xmlMode ||\n            this._options.recognizeSelfClosing ||\n            this._foreignContext[this._foreignContext.length - 1]) {\n            this._closeCurrentTag();\n        }\n        else {\n            this.onopentagend();\n        }\n    };\n    Parser.prototype._closeCurrentTag = function () {\n        var name = this._tagname;\n        this.onopentagend();\n        //self-closing tags will be on the top of the stack\n        //(cheaper check than in onclosetag)\n        if (this._stack[this._stack.length - 1] === name) {\n            if (this._cbs.onclosetag) {\n                this._cbs.onclosetag(name);\n            }\n            this._stack.pop();\n        }\n    };\n    Parser.prototype.onattribname = function (name) {\n        if (this._lowerCaseAttributeNames) {\n            name = name.toLowerCase();\n        }\n        this._attribname = name;\n    };\n    Parser.prototype.onattribdata = function (value) {\n        this._attribvalue += value;\n    };\n    Parser.prototype.onattribend = function () {\n        if (this._cbs.onattribute)\n            this._cbs.onattribute(this._attribname, this._attribvalue);\n        if (this._attribs &&\n            !Object.prototype.hasOwnProperty.call(this._attribs, this._attribname)) {\n            this._attribs[this._attribname] = this._attribvalue;\n        }\n        this._attribname = \"\";\n        this._attribvalue = \"\";\n    };\n    Parser.prototype._getInstructionName = function (value) {\n        var idx = value.search(reNameEnd);\n        var name = idx < 0 ? value : value.substr(0, idx);\n        if (this._lowerCaseTagNames) {\n            name = name.toLowerCase();\n        }\n        return name;\n    };\n    Parser.prototype.ondeclaration = function (value) {\n        if (this._cbs.onprocessinginstruction) {\n            var name_1 = this._getInstructionName(value);\n            this._cbs.onprocessinginstruction(\"!\" + name_1, \"!\" + value);\n        }\n    };\n    Parser.prototype.onprocessinginstruction = function (value) {\n        if (this._cbs.onprocessinginstruction) {\n            var name_2 = this._getInstructionName(value);\n            this._cbs.onprocessinginstruction(\"?\" + name_2, \"?\" + value);\n        }\n    };\n    Parser.prototype.oncomment = function (value) {\n        this._updatePosition(4);\n        if (this._cbs.oncomment)\n            this._cbs.oncomment(value);\n        if (this._cbs.oncommentend)\n            this._cbs.oncommentend();\n    };\n    Parser.prototype.oncdata = function (value) {\n        this._updatePosition(1);\n        if (this._options.xmlMode || this._options.recognizeCDATA) {\n            if (this._cbs.oncdatastart)\n                this._cbs.oncdatastart();\n            if (this._cbs.ontext)\n                this._cbs.ontext(value);\n            if (this._cbs.oncdataend)\n                this._cbs.oncdataend();\n        }\n        else {\n            this.oncomment(\"[CDATA[\" + value + \"]]\");\n        }\n    };\n    Parser.prototype.onerror = function (err) {\n        if (this._cbs.onerror)\n            this._cbs.onerror(err);\n    };\n    Parser.prototype.onend = function () {\n        if (this._cbs.onclosetag) {\n            for (var i = this._stack.length; i > 0; this._cbs.onclosetag(this._stack[--i]))\n                ;\n        }\n        if (this._cbs.onend)\n            this._cbs.onend();\n    };\n    //Resets the parser to a blank state, ready to parse a new HTML document\n    Parser.prototype.reset = function () {\n        if (this._cbs.onreset)\n            this._cbs.onreset();\n        this._tokenizer.reset();\n        this._tagname = \"\";\n        this._attribname = \"\";\n        this._attribs = null;\n        this._stack = [];\n        if (this._cbs.onparserinit)\n            this._cbs.onparserinit(this);\n    };\n    //Parses a complete HTML document and pushes it to the handler\n    Parser.prototype.parseComplete = function (data) {\n        this.reset();\n        this.end(data);\n    };\n    Parser.prototype.write = function (chunk) {\n        this._tokenizer.write(chunk);\n    };\n    Parser.prototype.end = function (chunk) {\n        this._tokenizer.end(chunk);\n    };\n    Parser.prototype.pause = function () {\n        this._tokenizer.pause();\n    };\n    Parser.prototype.resume = function () {\n        this._tokenizer.resume();\n    };\n    return Parser;\n}(events_1.EventEmitter));\nexports.Parser = Parser;\n","\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar decode_codepoint_1 = __importDefault(require(\"entities/lib/decode_codepoint\"));\nvar entities_json_1 = __importDefault(require(\"entities/lib/maps/entities.json\"));\nvar legacy_json_1 = __importDefault(require(\"entities/lib/maps/legacy.json\"));\nvar xml_json_1 = __importDefault(require(\"entities/lib/maps/xml.json\"));\nfunction whitespace(c) {\n    return c === \" \" || c === \"\\n\" || c === \"\\t\" || c === \"\\f\" || c === \"\\r\";\n}\nfunction ifElseState(upper, SUCCESS, FAILURE) {\n    var lower = upper.toLowerCase();\n    if (upper === lower) {\n        return function (t, c) {\n            if (c === lower) {\n                t._state = SUCCESS;\n            }\n            else {\n                t._state = FAILURE;\n                t._index--;\n            }\n        };\n    }\n    else {\n        return function (t, c) {\n            if (c === lower || c === upper) {\n                t._state = SUCCESS;\n            }\n            else {\n                t._state = FAILURE;\n                t._index--;\n            }\n        };\n    }\n}\nfunction consumeSpecialNameChar(upper, NEXT_STATE) {\n    var lower = upper.toLowerCase();\n    return function (t, c) {\n        if (c === lower || c === upper) {\n            t._state = NEXT_STATE;\n        }\n        else {\n            t._state = 3 /* InTagName */;\n            t._index--; //consume the token again\n        }\n    };\n}\nvar stateBeforeCdata1 = ifElseState(\"C\", 23 /* BeforeCdata2 */, 16 /* InDeclaration */);\nvar stateBeforeCdata2 = ifElseState(\"D\", 24 /* BeforeCdata3 */, 16 /* InDeclaration */);\nvar stateBeforeCdata3 = ifElseState(\"A\", 25 /* BeforeCdata4 */, 16 /* InDeclaration */);\nvar stateBeforeCdata4 = ifElseState(\"T\", 26 /* BeforeCdata5 */, 16 /* InDeclaration */);\nvar stateBeforeCdata5 = ifElseState(\"A\", 27 /* BeforeCdata6 */, 16 /* InDeclaration */);\nvar stateBeforeScript1 = consumeSpecialNameChar(\"R\", 34 /* BeforeScript2 */);\nvar stateBeforeScript2 = consumeSpecialNameChar(\"I\", 35 /* BeforeScript3 */);\nvar stateBeforeScript3 = consumeSpecialNameChar(\"P\", 36 /* BeforeScript4 */);\nvar stateBeforeScript4 = consumeSpecialNameChar(\"T\", 37 /* BeforeScript5 */);\nvar stateAfterScript1 = ifElseState(\"R\", 39 /* AfterScript2 */, 1 /* Text */);\nvar stateAfterScript2 = ifElseState(\"I\", 40 /* AfterScript3 */, 1 /* Text */);\nvar stateAfterScript3 = ifElseState(\"P\", 41 /* AfterScript4 */, 1 /* Text */);\nvar stateAfterScript4 = ifElseState(\"T\", 42 /* AfterScript5 */, 1 /* Text */);\nvar stateBeforeStyle1 = consumeSpecialNameChar(\"Y\", 44 /* BeforeStyle2 */);\nvar stateBeforeStyle2 = consumeSpecialNameChar(\"L\", 45 /* BeforeStyle3 */);\nvar stateBeforeStyle3 = consumeSpecialNameChar(\"E\", 46 /* BeforeStyle4 */);\nvar stateAfterStyle1 = ifElseState(\"Y\", 48 /* AfterStyle2 */, 1 /* Text */);\nvar stateAfterStyle2 = ifElseState(\"L\", 49 /* AfterStyle3 */, 1 /* Text */);\nvar stateAfterStyle3 = ifElseState(\"E\", 50 /* AfterStyle4 */, 1 /* Text */);\nvar stateBeforeEntity = ifElseState(\"#\", 52 /* BeforeNumericEntity */, 53 /* InNamedEntity */);\nvar stateBeforeNumericEntity = ifElseState(\"X\", 55 /* InHexEntity */, 54 /* InNumericEntity */);\nvar Tokenizer = /** @class */ (function () {\n    function Tokenizer(options, cbs) {\n        /** The current state the tokenizer is in. */\n        this._state = 1 /* Text */;\n        /** The read buffer. */\n        this._buffer = \"\";\n        /** The beginning of the section that is currently being read. */\n        this._sectionStart = 0;\n        /** The index within the buffer that we are currently looking at. */\n        this._index = 0;\n        /**\n         * Data that has already been processed will be removed from the buffer occasionally.\n         * `_bufferOffset` keeps track of how many characters have been removed, to make sure position information is accurate.\n         */\n        this._bufferOffset = 0;\n        /** Some behavior, eg. when decoding entities, is done while we are in another state. This keeps track of the other state type. */\n        this._baseState = 1 /* Text */;\n        /** For special parsing behavior inside of script and style tags. */\n        this._special = 1 /* None */;\n        /** Indicates whether the tokenizer has been paused. */\n        this._running = true;\n        /** Indicates whether the tokenizer has finished running / `.end` has been called. */\n        this._ended = false;\n        this._cbs = cbs;\n        this._xmlMode = !!(options && options.xmlMode);\n        this._decodeEntities = !!(options && options.decodeEntities);\n    }\n    Tokenizer.prototype.reset = function () {\n        this._state = 1 /* Text */;\n        this._buffer = \"\";\n        this._sectionStart = 0;\n        this._index = 0;\n        this._bufferOffset = 0;\n        this._baseState = 1 /* Text */;\n        this._special = 1 /* None */;\n        this._running = true;\n        this._ended = false;\n    };\n    Tokenizer.prototype._stateText = function (c) {\n        if (c === \"<\") {\n            if (this._index > this._sectionStart) {\n                this._cbs.ontext(this._getSection());\n            }\n            this._state = 2 /* BeforeTagName */;\n            this._sectionStart = this._index;\n        }\n        else if (this._decodeEntities &&\n            this._special === 1 /* None */ &&\n            c === \"&\") {\n            if (this._index > this._sectionStart) {\n                this._cbs.ontext(this._getSection());\n            }\n            this._baseState = 1 /* Text */;\n            this._state = 51 /* BeforeEntity */;\n            this._sectionStart = this._index;\n        }\n    };\n    Tokenizer.prototype._stateBeforeTagName = function (c) {\n        if (c === \"/\") {\n            this._state = 5 /* BeforeClosingTagName */;\n        }\n        else if (c === \"<\") {\n            this._cbs.ontext(this._getSection());\n            this._sectionStart = this._index;\n        }\n        else if (c === \">\" ||\n            this._special !== 1 /* None */ ||\n            whitespace(c)) {\n            this._state = 1 /* Text */;\n        }\n        else if (c === \"!\") {\n            this._state = 15 /* BeforeDeclaration */;\n            this._sectionStart = this._index + 1;\n        }\n        else if (c === \"?\") {\n            this._state = 17 /* InProcessingInstruction */;\n            this._sectionStart = this._index + 1;\n        }\n        else {\n            this._state =\n                !this._xmlMode && (c === \"s\" || c === \"S\")\n                    ? 31 /* BeforeSpecial */\n                    : 3 /* InTagName */;\n            this._sectionStart = this._index;\n        }\n    };\n    Tokenizer.prototype._stateInTagName = function (c) {\n        if (c === \"/\" || c === \">\" || whitespace(c)) {\n            this._emitToken(\"onopentagname\");\n            this._state = 8 /* BeforeAttributeName */;\n            this._index--;\n        }\n    };\n    Tokenizer.prototype._stateBeforeClosingTagName = function (c) {\n        if (whitespace(c)) {\n            // ignore\n        }\n        else if (c === \">\") {\n            this._state = 1 /* Text */;\n        }\n        else if (this._special !== 1 /* None */) {\n            if (c === \"s\" || c === \"S\") {\n                this._state = 32 /* BeforeSpecialEnd */;\n            }\n            else {\n                this._state = 1 /* Text */;\n                this._index--;\n            }\n        }\n        else {\n            this._state = 6 /* InClosingTagName */;\n            this._sectionStart = this._index;\n        }\n    };\n    Tokenizer.prototype._stateInClosingTagName = function (c) {\n        if (c === \">\" || whitespace(c)) {\n            this._emitToken(\"onclosetag\");\n            this._state = 7 /* AfterClosingTagName */;\n            this._index--;\n        }\n    };\n    Tokenizer.prototype._stateAfterClosingTagName = function (c) {\n        //skip everything until \">\"\n        if (c === \">\") {\n            this._state = 1 /* Text */;\n            this._sectionStart = this._index + 1;\n        }\n    };\n    Tokenizer.prototype._stateBeforeAttributeName = function (c) {\n        if (c === \">\") {\n            this._cbs.onopentagend();\n            this._state = 1 /* Text */;\n            this._sectionStart = this._index + 1;\n        }\n        else if (c === \"/\") {\n            this._state = 4 /* InSelfClosingTag */;\n        }\n        else if (!whitespace(c)) {\n            this._state = 9 /* InAttributeName */;\n            this._sectionStart = this._index;\n        }\n    };\n    Tokenizer.prototype._stateInSelfClosingTag = function (c) {\n        if (c === \">\") {\n            this._cbs.onselfclosingtag();\n            this._state = 1 /* Text */;\n            this._sectionStart = this._index + 1;\n        }\n        else if (!whitespace(c)) {\n            this._state = 8 /* BeforeAttributeName */;\n            this._index--;\n        }\n    };\n    Tokenizer.prototype._stateInAttributeName = function (c) {\n        if (c === \"=\" || c === \"/\" || c === \">\" || whitespace(c)) {\n            this._cbs.onattribname(this._getSection());\n            this._sectionStart = -1;\n            this._state = 10 /* AfterAttributeName */;\n            this._index--;\n        }\n    };\n    Tokenizer.prototype._stateAfterAttributeName = function (c) {\n        if (c === \"=\") {\n            this._state = 11 /* BeforeAttributeValue */;\n        }\n        else if (c === \"/\" || c === \">\") {\n            this._cbs.onattribend();\n            this._state = 8 /* BeforeAttributeName */;\n            this._index--;\n        }\n        else if (!whitespace(c)) {\n            this._cbs.onattribend();\n            this._state = 9 /* InAttributeName */;\n            this._sectionStart = this._index;\n        }\n    };\n    Tokenizer.prototype._stateBeforeAttributeValue = function (c) {\n        if (c === '\"') {\n            this._state = 12 /* InAttributeValueDq */;\n            this._sectionStart = this._index + 1;\n        }\n        else if (c === \"'\") {\n            this._state = 13 /* InAttributeValueSq */;\n            this._sectionStart = this._index + 1;\n        }\n        else if (!whitespace(c)) {\n            this._state = 14 /* InAttributeValueNq */;\n            this._sectionStart = this._index;\n            this._index--; //reconsume token\n        }\n    };\n    Tokenizer.prototype._stateInAttributeValueDoubleQuotes = function (c) {\n        if (c === '\"') {\n            this._emitToken(\"onattribdata\");\n            this._cbs.onattribend();\n            this._state = 8 /* BeforeAttributeName */;\n        }\n        else if (this._decodeEntities && c === \"&\") {\n            this._emitToken(\"onattribdata\");\n            this._baseState = this._state;\n            this._state = 51 /* BeforeEntity */;\n            this._sectionStart = this._index;\n        }\n    };\n    Tokenizer.prototype._stateInAttributeValueSingleQuotes = function (c) {\n        if (c === \"'\") {\n            this._emitToken(\"onattribdata\");\n            this._cbs.onattribend();\n            this._state = 8 /* BeforeAttributeName */;\n        }\n        else if (this._decodeEntities && c === \"&\") {\n            this._emitToken(\"onattribdata\");\n            this._baseState = this._state;\n            this._state = 51 /* BeforeEntity */;\n            this._sectionStart = this._index;\n        }\n    };\n    Tokenizer.prototype._stateInAttributeValueNoQuotes = function (c) {\n        if (whitespace(c) || c === \">\") {\n            this._emitToken(\"onattribdata\");\n            this._cbs.onattribend();\n            this._state = 8 /* BeforeAttributeName */;\n            this._index--;\n        }\n        else if (this._decodeEntities && c === \"&\") {\n            this._emitToken(\"onattribdata\");\n            this._baseState = this._state;\n            this._state = 51 /* BeforeEntity */;\n            this._sectionStart = this._index;\n        }\n    };\n    Tokenizer.prototype._stateBeforeDeclaration = function (c) {\n        this._state =\n            c === \"[\"\n                ? 22 /* BeforeCdata1 */\n                : c === \"-\"\n                    ? 18 /* BeforeComment */\n                    : 16 /* InDeclaration */;\n    };\n    Tokenizer.prototype._stateInDeclaration = function (c) {\n        if (c === \">\") {\n            this._cbs.ondeclaration(this._getSection());\n            this._state = 1 /* Text */;\n            this._sectionStart = this._index + 1;\n        }\n    };\n    Tokenizer.prototype._stateInProcessingInstruction = function (c) {\n        if (c === \">\") {\n            this._cbs.onprocessinginstruction(this._getSection());\n            this._state = 1 /* Text */;\n            this._sectionStart = this._index + 1;\n        }\n    };\n    Tokenizer.prototype._stateBeforeComment = function (c) {\n        if (c === \"-\") {\n            this._state = 19 /* InComment */;\n            this._sectionStart = this._index + 1;\n        }\n        else {\n            this._state = 16 /* InDeclaration */;\n        }\n    };\n    Tokenizer.prototype._stateInComment = function (c) {\n        if (c === \"-\")\n            this._state = 20 /* AfterComment1 */;\n    };\n    Tokenizer.prototype._stateAfterComment1 = function (c) {\n        if (c === \"-\") {\n            this._state = 21 /* AfterComment2 */;\n        }\n        else {\n            this._state = 19 /* InComment */;\n        }\n    };\n    Tokenizer.prototype._stateAfterComment2 = function (c) {\n        if (c === \">\") {\n            //remove 2 trailing chars\n            this._cbs.oncomment(this._buffer.substring(this._sectionStart, this._index - 2));\n            this._state = 1 /* Text */;\n            this._sectionStart = this._index + 1;\n        }\n        else if (c !== \"-\") {\n            this._state = 19 /* InComment */;\n        }\n        // else: stay in AFTER_COMMENT_2 (`--->`)\n    };\n    Tokenizer.prototype._stateBeforeCdata6 = function (c) {\n        if (c === \"[\") {\n            this._state = 28 /* InCdata */;\n            this._sectionStart = this._index + 1;\n        }\n        else {\n            this._state = 16 /* InDeclaration */;\n            this._index--;\n        }\n    };\n    Tokenizer.prototype._stateInCdata = function (c) {\n        if (c === \"]\")\n            this._state = 29 /* AfterCdata1 */;\n    };\n    Tokenizer.prototype._stateAfterCdata1 = function (c) {\n        if (c === \"]\")\n            this._state = 30 /* AfterCdata2 */;\n        else\n            this._state = 28 /* InCdata */;\n    };\n    Tokenizer.prototype._stateAfterCdata2 = function (c) {\n        if (c === \">\") {\n            //remove 2 trailing chars\n            this._cbs.oncdata(this._buffer.substring(this._sectionStart, this._index - 2));\n            this._state = 1 /* Text */;\n            this._sectionStart = this._index + 1;\n        }\n        else if (c !== \"]\") {\n            this._state = 28 /* InCdata */;\n        }\n        //else: stay in AFTER_CDATA_2 (`]]]>`)\n    };\n    Tokenizer.prototype._stateBeforeSpecial = function (c) {\n        if (c === \"c\" || c === \"C\") {\n            this._state = 33 /* BeforeScript1 */;\n        }\n        else if (c === \"t\" || c === \"T\") {\n            this._state = 43 /* BeforeStyle1 */;\n        }\n        else {\n            this._state = 3 /* InTagName */;\n            this._index--; //consume the token again\n        }\n    };\n    Tokenizer.prototype._stateBeforeSpecialEnd = function (c) {\n        if (this._special === 2 /* Script */ && (c === \"c\" || c === \"C\")) {\n            this._state = 38 /* AfterScript1 */;\n        }\n        else if (this._special === 3 /* Style */ &&\n            (c === \"t\" || c === \"T\")) {\n            this._state = 47 /* AfterStyle1 */;\n        }\n        else\n            this._state = 1 /* Text */;\n    };\n    Tokenizer.prototype._stateBeforeScript5 = function (c) {\n        if (c === \"/\" || c === \">\" || whitespace(c)) {\n            this._special = 2 /* Script */;\n        }\n        this._state = 3 /* InTagName */;\n        this._index--; //consume the token again\n    };\n    Tokenizer.prototype._stateAfterScript5 = function (c) {\n        if (c === \">\" || whitespace(c)) {\n            this._special = 1 /* None */;\n            this._state = 6 /* InClosingTagName */;\n            this._sectionStart = this._index - 6;\n            this._index--; //reconsume the token\n        }\n        else\n            this._state = 1 /* Text */;\n    };\n    Tokenizer.prototype._stateBeforeStyle4 = function (c) {\n        if (c === \"/\" || c === \">\" || whitespace(c)) {\n            this._special = 3 /* Style */;\n        }\n        this._state = 3 /* InTagName */;\n        this._index--; //consume the token again\n    };\n    Tokenizer.prototype._stateAfterStyle4 = function (c) {\n        if (c === \">\" || whitespace(c)) {\n            this._special = 1 /* None */;\n            this._state = 6 /* InClosingTagName */;\n            this._sectionStart = this._index - 5;\n            this._index--; //reconsume the token\n        }\n        else\n            this._state = 1 /* Text */;\n    };\n    //for entities terminated with a semicolon\n    Tokenizer.prototype._parseNamedEntityStrict = function () {\n        //offset = 1\n        if (this._sectionStart + 1 < this._index) {\n            var entity = this._buffer.substring(this._sectionStart + 1, this._index), map = this._xmlMode ? xml_json_1.default : entities_json_1.default;\n            if (Object.prototype.hasOwnProperty.call(map, entity)) {\n                // @ts-ignore\n                this._emitPartial(map[entity]);\n                this._sectionStart = this._index + 1;\n            }\n        }\n    };\n    //parses legacy entities (without trailing semicolon)\n    Tokenizer.prototype._parseLegacyEntity = function () {\n        var start = this._sectionStart + 1;\n        var limit = this._index - start;\n        if (limit > 6)\n            limit = 6; // The max length of legacy entities is 6\n        while (limit >= 2) {\n            // The min length of legacy entities is 2\n            var entity = this._buffer.substr(start, limit);\n            if (Object.prototype.hasOwnProperty.call(legacy_json_1.default, entity)) {\n                // @ts-ignore\n                this._emitPartial(legacy_json_1.default[entity]);\n                this._sectionStart += limit + 1;\n                return;\n            }\n            else {\n                limit--;\n            }\n        }\n    };\n    Tokenizer.prototype._stateInNamedEntity = function (c) {\n        if (c === \";\") {\n            this._parseNamedEntityStrict();\n            if (this._sectionStart + 1 < this._index && !this._xmlMode) {\n                this._parseLegacyEntity();\n            }\n            this._state = this._baseState;\n        }\n        else if ((c < \"a\" || c > \"z\") &&\n            (c < \"A\" || c > \"Z\") &&\n            (c < \"0\" || c > \"9\")) {\n            if (this._xmlMode || this._sectionStart + 1 === this._index) {\n                // ignore\n            }\n            else if (this._baseState !== 1 /* Text */) {\n                if (c !== \"=\") {\n                    this._parseNamedEntityStrict();\n                }\n            }\n            else {\n                this._parseLegacyEntity();\n            }\n            this._state = this._baseState;\n            this._index--;\n        }\n    };\n    Tokenizer.prototype._decodeNumericEntity = function (offset, base) {\n        var sectionStart = this._sectionStart + offset;\n        if (sectionStart !== this._index) {\n            //parse entity\n            var entity = this._buffer.substring(sectionStart, this._index);\n            var parsed = parseInt(entity, base);\n            this._emitPartial(decode_codepoint_1.default(parsed));\n            this._sectionStart = this._index;\n        }\n        else {\n            this._sectionStart--;\n        }\n        this._state = this._baseState;\n    };\n    Tokenizer.prototype._stateInNumericEntity = function (c) {\n        if (c === \";\") {\n            this._decodeNumericEntity(2, 10);\n            this._sectionStart++;\n        }\n        else if (c < \"0\" || c > \"9\") {\n            if (!this._xmlMode) {\n                this._decodeNumericEntity(2, 10);\n            }\n            else {\n                this._state = this._baseState;\n            }\n            this._index--;\n        }\n    };\n    Tokenizer.prototype._stateInHexEntity = function (c) {\n        if (c === \";\") {\n            this._decodeNumericEntity(3, 16);\n            this._sectionStart++;\n        }\n        else if ((c < \"a\" || c > \"f\") &&\n            (c < \"A\" || c > \"F\") &&\n            (c < \"0\" || c > \"9\")) {\n            if (!this._xmlMode) {\n                this._decodeNumericEntity(3, 16);\n            }\n            else {\n                this._state = this._baseState;\n            }\n            this._index--;\n        }\n    };\n    Tokenizer.prototype._cleanup = function () {\n        if (this._sectionStart < 0) {\n            this._buffer = \"\";\n            this._bufferOffset += this._index;\n            this._index = 0;\n        }\n        else if (this._running) {\n            if (this._state === 1 /* Text */) {\n                if (this._sectionStart !== this._index) {\n                    this._cbs.ontext(this._buffer.substr(this._sectionStart));\n                }\n                this._buffer = \"\";\n                this._bufferOffset += this._index;\n                this._index = 0;\n            }\n            else if (this._sectionStart === this._index) {\n                //the section just started\n                this._buffer = \"\";\n                this._bufferOffset += this._index;\n                this._index = 0;\n            }\n            else {\n                //remove everything unnecessary\n                this._buffer = this._buffer.substr(this._sectionStart);\n                this._index -= this._sectionStart;\n                this._bufferOffset += this._sectionStart;\n            }\n            this._sectionStart = 0;\n        }\n    };\n    //TODO make events conditional\n    Tokenizer.prototype.write = function (chunk) {\n        if (this._ended)\n            this._cbs.onerror(Error(\".write() after done!\"));\n        this._buffer += chunk;\n        this._parse();\n    };\n    // Iterates through the buffer, calling the function corresponding to the current state.\n    // States that are more likely to be hit are higher up, as a performance improvement.\n    Tokenizer.prototype._parse = function () {\n        while (this._index < this._buffer.length && this._running) {\n            var c = this._buffer.charAt(this._index);\n            if (this._state === 1 /* Text */) {\n                this._stateText(c);\n            }\n            else if (this._state === 12 /* InAttributeValueDq */) {\n                this._stateInAttributeValueDoubleQuotes(c);\n            }\n            else if (this._state === 9 /* InAttributeName */) {\n                this._stateInAttributeName(c);\n            }\n            else if (this._state === 19 /* InComment */) {\n                this._stateInComment(c);\n            }\n            else if (this._state === 8 /* BeforeAttributeName */) {\n                this._stateBeforeAttributeName(c);\n            }\n            else if (this._state === 3 /* InTagName */) {\n                this._stateInTagName(c);\n            }\n            else if (this._state === 6 /* InClosingTagName */) {\n                this._stateInClosingTagName(c);\n            }\n            else if (this._state === 2 /* BeforeTagName */) {\n                this._stateBeforeTagName(c);\n            }\n            else if (this._state === 10 /* AfterAttributeName */) {\n                this._stateAfterAttributeName(c);\n            }\n            else if (this._state === 13 /* InAttributeValueSq */) {\n                this._stateInAttributeValueSingleQuotes(c);\n            }\n            else if (this._state === 11 /* BeforeAttributeValue */) {\n                this._stateBeforeAttributeValue(c);\n            }\n            else if (this._state === 5 /* BeforeClosingTagName */) {\n                this._stateBeforeClosingTagName(c);\n            }\n            else if (this._state === 7 /* AfterClosingTagName */) {\n                this._stateAfterClosingTagName(c);\n            }\n            else if (this._state === 31 /* BeforeSpecial */) {\n                this._stateBeforeSpecial(c);\n            }\n            else if (this._state === 20 /* AfterComment1 */) {\n                this._stateAfterComment1(c);\n            }\n            else if (this._state === 14 /* InAttributeValueNq */) {\n                this._stateInAttributeValueNoQuotes(c);\n            }\n            else if (this._state === 4 /* InSelfClosingTag */) {\n                this._stateInSelfClosingTag(c);\n            }\n            else if (this._state === 16 /* InDeclaration */) {\n                this._stateInDeclaration(c);\n            }\n            else if (this._state === 15 /* BeforeDeclaration */) {\n                this._stateBeforeDeclaration(c);\n            }\n            else if (this._state === 21 /* AfterComment2 */) {\n                this._stateAfterComment2(c);\n            }\n            else if (this._state === 18 /* BeforeComment */) {\n                this._stateBeforeComment(c);\n            }\n            else if (this._state === 32 /* BeforeSpecialEnd */) {\n                this._stateBeforeSpecialEnd(c);\n            }\n            else if (this._state === 38 /* AfterScript1 */) {\n                stateAfterScript1(this, c);\n            }\n            else if (this._state === 39 /* AfterScript2 */) {\n                stateAfterScript2(this, c);\n            }\n            else if (this._state === 40 /* AfterScript3 */) {\n                stateAfterScript3(this, c);\n            }\n            else if (this._state === 33 /* BeforeScript1 */) {\n                stateBeforeScript1(this, c);\n            }\n            else if (this._state === 34 /* BeforeScript2 */) {\n                stateBeforeScript2(this, c);\n            }\n            else if (this._state === 35 /* BeforeScript3 */) {\n                stateBeforeScript3(this, c);\n            }\n            else if (this._state === 36 /* BeforeScript4 */) {\n                stateBeforeScript4(this, c);\n            }\n            else if (this._state === 37 /* BeforeScript5 */) {\n                this._stateBeforeScript5(c);\n            }\n            else if (this._state === 41 /* AfterScript4 */) {\n                stateAfterScript4(this, c);\n            }\n            else if (this._state === 42 /* AfterScript5 */) {\n                this._stateAfterScript5(c);\n            }\n            else if (this._state === 43 /* BeforeStyle1 */) {\n                stateBeforeStyle1(this, c);\n            }\n            else if (this._state === 28 /* InCdata */) {\n                this._stateInCdata(c);\n            }\n            else if (this._state === 44 /* BeforeStyle2 */) {\n                stateBeforeStyle2(this, c);\n            }\n            else if (this._state === 45 /* BeforeStyle3 */) {\n                stateBeforeStyle3(this, c);\n            }\n            else if (this._state === 46 /* BeforeStyle4 */) {\n                this._stateBeforeStyle4(c);\n            }\n            else if (this._state === 47 /* AfterStyle1 */) {\n                stateAfterStyle1(this, c);\n            }\n            else if (this._state === 48 /* AfterStyle2 */) {\n                stateAfterStyle2(this, c);\n            }\n            else if (this._state === 49 /* AfterStyle3 */) {\n                stateAfterStyle3(this, c);\n            }\n            else if (this._state === 50 /* AfterStyle4 */) {\n                this._stateAfterStyle4(c);\n            }\n            else if (this._state === 17 /* InProcessingInstruction */) {\n                this._stateInProcessingInstruction(c);\n            }\n            else if (this._state === 53 /* InNamedEntity */) {\n                this._stateInNamedEntity(c);\n            }\n            else if (this._state === 22 /* BeforeCdata1 */) {\n                stateBeforeCdata1(this, c);\n            }\n            else if (this._state === 51 /* BeforeEntity */) {\n                stateBeforeEntity(this, c);\n            }\n            else if (this._state === 23 /* BeforeCdata2 */) {\n                stateBeforeCdata2(this, c);\n            }\n            else if (this._state === 24 /* BeforeCdata3 */) {\n                stateBeforeCdata3(this, c);\n            }\n            else if (this._state === 29 /* AfterCdata1 */) {\n                this._stateAfterCdata1(c);\n            }\n            else if (this._state === 30 /* AfterCdata2 */) {\n                this._stateAfterCdata2(c);\n            }\n            else if (this._state === 25 /* BeforeCdata4 */) {\n                stateBeforeCdata4(this, c);\n            }\n            else if (this._state === 26 /* BeforeCdata5 */) {\n                stateBeforeCdata5(this, c);\n            }\n            else if (this._state === 27 /* BeforeCdata6 */) {\n                this._stateBeforeCdata6(c);\n            }\n            else if (this._state === 55 /* InHexEntity */) {\n                this._stateInHexEntity(c);\n            }\n            else if (this._state === 54 /* InNumericEntity */) {\n                this._stateInNumericEntity(c);\n            }\n            else if (this._state === 52 /* BeforeNumericEntity */) {\n                stateBeforeNumericEntity(this, c);\n            }\n            else {\n                this._cbs.onerror(Error(\"unknown _state\"), this._state);\n            }\n            this._index++;\n        }\n        this._cleanup();\n    };\n    Tokenizer.prototype.pause = function () {\n        this._running = false;\n    };\n    Tokenizer.prototype.resume = function () {\n        this._running = true;\n        if (this._index < this._buffer.length) {\n            this._parse();\n        }\n        if (this._ended) {\n            this._finish();\n        }\n    };\n    Tokenizer.prototype.end = function (chunk) {\n        if (this._ended)\n            this._cbs.onerror(Error(\".end() after done!\"));\n        if (chunk)\n            this.write(chunk);\n        this._ended = true;\n        if (this._running)\n            this._finish();\n    };\n    Tokenizer.prototype._finish = function () {\n        //if there is remaining data, emit it in a reasonable way\n        if (this._sectionStart < this._index) {\n            this._handleTrailingData();\n        }\n        this._cbs.onend();\n    };\n    Tokenizer.prototype._handleTrailingData = function () {\n        var data = this._buffer.substr(this._sectionStart);\n        if (this._state === 28 /* InCdata */ ||\n            this._state === 29 /* AfterCdata1 */ ||\n            this._state === 30 /* AfterCdata2 */) {\n            this._cbs.oncdata(data);\n        }\n        else if (this._state === 19 /* InComment */ ||\n            this._state === 20 /* AfterComment1 */ ||\n            this._state === 21 /* AfterComment2 */) {\n            this._cbs.oncomment(data);\n        }\n        else if (this._state === 53 /* InNamedEntity */ && !this._xmlMode) {\n            this._parseLegacyEntity();\n            if (this._sectionStart < this._index) {\n                this._state = this._baseState;\n                this._handleTrailingData();\n            }\n        }\n        else if (this._state === 54 /* InNumericEntity */ && !this._xmlMode) {\n            this._decodeNumericEntity(2, 10);\n            if (this._sectionStart < this._index) {\n                this._state = this._baseState;\n                this._handleTrailingData();\n            }\n        }\n        else if (this._state === 55 /* InHexEntity */ && !this._xmlMode) {\n            this._decodeNumericEntity(3, 16);\n            if (this._sectionStart < this._index) {\n                this._state = this._baseState;\n                this._handleTrailingData();\n            }\n        }\n        else if (this._state !== 3 /* InTagName */ &&\n            this._state !== 8 /* BeforeAttributeName */ &&\n            this._state !== 11 /* BeforeAttributeValue */ &&\n            this._state !== 10 /* AfterAttributeName */ &&\n            this._state !== 9 /* InAttributeName */ &&\n            this._state !== 13 /* InAttributeValueSq */ &&\n            this._state !== 12 /* InAttributeValueDq */ &&\n            this._state !== 14 /* InAttributeValueNq */ &&\n            this._state !== 6 /* InClosingTagName */) {\n            this._cbs.ontext(data);\n        }\n        //else, ignore remaining data\n        //TODO add a way to remove current tag\n    };\n    Tokenizer.prototype.getAbsoluteIndex = function () {\n        return this._bufferOffset + this._index;\n    };\n    Tokenizer.prototype._getSection = function () {\n        return this._buffer.substring(this._sectionStart, this._index);\n    };\n    Tokenizer.prototype._emitToken = function (name) {\n        this._cbs[name](this._getSection());\n        this._sectionStart = -1;\n    };\n    Tokenizer.prototype._emitPartial = function (value) {\n        if (this._baseState !== 1 /* Text */) {\n            this._cbs.onattribdata(value); //TODO implement the new event\n        }\n        else {\n            this._cbs.ontext(value);\n        }\n    };\n    return Tokenizer;\n}());\nexports.default = Tokenizer;\n","\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Parser_1 = require(\"./Parser\");\nvar stream_1 = require(\"stream\");\nvar string_decoder_1 = require(\"string_decoder\");\n// Following the example in https://nodejs.org/api/stream.html#stream_decoding_buffers_in_a_writable_stream\nfunction isBuffer(_chunk, encoding) {\n    return encoding === \"buffer\";\n}\n/**\n * WritableStream makes the `Parser` interface available as a NodeJS stream.\n *\n * @see Parser\n */\nvar WritableStream = /** @class */ (function (_super) {\n    __extends(WritableStream, _super);\n    function WritableStream(cbs, options) {\n        var _this = _super.call(this, { decodeStrings: false }) || this;\n        _this._decoder = new string_decoder_1.StringDecoder();\n        _this._parser = new Parser_1.Parser(cbs, options);\n        return _this;\n    }\n    WritableStream.prototype._write = function (chunk, encoding, cb) {\n        if (isBuffer(chunk, encoding))\n            chunk = this._decoder.write(chunk);\n        this._parser.write(chunk);\n        cb();\n    };\n    WritableStream.prototype._final = function (cb) {\n        this._parser.end(this._decoder.end());\n        cb();\n    };\n    return WritableStream;\n}(stream_1.Writable));\nexports.WritableStream = WritableStream;\n","\"use strict\";\nfunction __export(m) {\n    for (var p in m) if (!exports.hasOwnProperty(p)) exports[p] = m[p];\n}\nvar __importStar = (this && this.__importStar) || function (mod) {\n    if (mod && mod.__esModule) return mod;\n    var result = {};\n    if (mod != null) for (var k in mod) if (Object.hasOwnProperty.call(mod, k)) result[k] = mod[k];\n    result[\"default\"] = mod;\n    return result;\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nvar Parser_1 = require(\"./Parser\");\nexports.Parser = Parser_1.Parser;\nvar domhandler_1 = require(\"domhandler\");\nexports.DomHandler = domhandler_1.DomHandler;\nexports.DefaultHandler = domhandler_1.DomHandler;\n// Helper methods\n/**\n * Parses data, returns the resulting DOM.\n *\n * @param data The data that should be parsed.\n * @param options Optional options for the parser and DOM builder.\n */\nfunction parseDOM(data, options) {\n    var handler = new domhandler_1.DomHandler(void 0, options);\n    new Parser_1.Parser(handler, options).end(data);\n    return handler.dom;\n}\nexports.parseDOM = parseDOM;\n/**\n * Creates a parser instance, with an attached DOM handler.\n *\n * @param cb A callback that will be called once parsing has been completed.\n * @param options Optional options for the parser and DOM builder.\n * @param elementCb An optional callback that will be called every time a tag has been completed inside of the DOM.\n */\nfunction createDomStream(cb, options, elementCb) {\n    var handler = new domhandler_1.DomHandler(cb, options, elementCb);\n    return new Parser_1.Parser(handler, options);\n}\nexports.createDomStream = createDomStream;\nvar Tokenizer_1 = require(\"./Tokenizer\");\nexports.Tokenizer = Tokenizer_1.default;\nvar ElementType = __importStar(require(\"domelementtype\"));\nexports.ElementType = ElementType;\n/**\n * List of all events that the parser emits.\n *\n * Format: eventname: number of arguments.\n */\nexports.EVENTS = {\n    attribute: 2,\n    cdatastart: 0,\n    cdataend: 0,\n    text: 1,\n    processinginstruction: 2,\n    comment: 1,\n    commentend: 0,\n    closetag: 1,\n    opentag: 2,\n    opentagname: 1,\n    error: 1,\n    end: 0\n};\n/*\n    All of the following exports exist for backwards-compatibility.\n    They should probably be removed eventually.\n*/\n__export(require(\"./FeedHandler\"));\n__export(require(\"./WritableStream\"));\n__export(require(\"./CollectingHandler\"));\nvar DomUtils = __importStar(require(\"domutils\"));\nexports.DomUtils = DomUtils;\nvar FeedHandler_1 = require(\"./FeedHandler\");\nexports.RssHandler = FeedHandler_1.FeedHandler;\n","var fs = require('fs')\nvar core\nif (process.platform === 'win32' || global.TESTING_WINDOWS) {\n  core = require('./windows.js')\n} else {\n  core = require('./mode.js')\n}\n\nmodule.exports = isexe\nisexe.sync = sync\n\nfunction isexe (path, options, cb) {\n  if (typeof options === 'function') {\n    cb = options\n    options = {}\n  }\n\n  if (!cb) {\n    if (typeof Promise !== 'function') {\n      throw new TypeError('callback not provided')\n    }\n\n    return new Promise(function (resolve, reject) {\n      isexe(path, options || {}, function (er, is) {\n        if (er) {\n          reject(er)\n        } else {\n          resolve(is)\n        }\n      })\n    })\n  }\n\n  core(path, options || {}, function (er, is) {\n    // ignore EACCES because that just means we aren't allowed to run it\n    if (er) {\n      if (er.code === 'EACCES' || options && options.ignoreErrors) {\n        er = null\n        is = false\n      }\n    }\n    cb(er, is)\n  })\n}\n\nfunction sync (path, options) {\n  // my kingdom for a filtered catch\n  try {\n    return core.sync(path, options || {})\n  } catch (er) {\n    if (options && options.ignoreErrors || er.code === 'EACCES') {\n      return false\n    } else {\n      throw er\n    }\n  }\n}\n","module.exports = isexe\nisexe.sync = sync\n\nvar fs = require('fs')\n\nfunction isexe (path, options, cb) {\n  fs.stat(path, function (er, stat) {\n    cb(er, er ? false : checkStat(stat, options))\n  })\n}\n\nfunction sync (path, options) {\n  return checkStat(fs.statSync(path), options)\n}\n\nfunction checkStat (stat, options) {\n  return stat.isFile() && checkMode(stat, options)\n}\n\nfunction checkMode (stat, options) {\n  var mod = stat.mode\n  var uid = stat.uid\n  var gid = stat.gid\n\n  var myUid = options.uid !== undefined ?\n    options.uid : process.getuid && process.getuid()\n  var myGid = options.gid !== undefined ?\n    options.gid : process.getgid && process.getgid()\n\n  var u = parseInt('100', 8)\n  var g = parseInt('010', 8)\n  var o = parseInt('001', 8)\n  var ug = u | g\n\n  var ret = (mod & o) ||\n    (mod & g) && gid === myGid ||\n    (mod & u) && uid === myUid ||\n    (mod & ug) && myUid === 0\n\n  return ret\n}\n","module.exports = isexe\nisexe.sync = sync\n\nvar fs = require('fs')\n\nfunction checkPathExt (path, options) {\n  var pathext = options.pathExt !== undefined ?\n    options.pathExt : process.env.PATHEXT\n\n  if (!pathext) {\n    return true\n  }\n\n  pathext = pathext.split(';')\n  if (pathext.indexOf('') !== -1) {\n    return true\n  }\n  for (var i = 0; i < pathext.length; i++) {\n    var p = pathext[i].toLowerCase()\n    if (p && path.substr(-p.length).toLowerCase() === p) {\n      return true\n    }\n  }\n  return false\n}\n\nfunction checkStat (stat, path, options) {\n  if (!stat.isSymbolicLink() && !stat.isFile()) {\n    return false\n  }\n  return checkPathExt(path, options)\n}\n\nfunction isexe (path, options, cb) {\n  fs.stat(path, function (er, stat) {\n    cb(er, er ? false : checkStat(stat, path, options))\n  })\n}\n\nfunction sync (path, options) {\n  return checkStat(fs.statSync(path), path, options)\n}\n","'use strict'\n\n// A linked list to keep track of recently-used-ness\nconst Yallist = require('yallist')\n\nconst MAX = Symbol('max')\nconst LENGTH = Symbol('length')\nconst LENGTH_CALCULATOR = Symbol('lengthCalculator')\nconst ALLOW_STALE = Symbol('allowStale')\nconst MAX_AGE = Symbol('maxAge')\nconst DISPOSE = Symbol('dispose')\nconst NO_DISPOSE_ON_SET = Symbol('noDisposeOnSet')\nconst LRU_LIST = Symbol('lruList')\nconst CACHE = Symbol('cache')\nconst UPDATE_AGE_ON_GET = Symbol('updateAgeOnGet')\n\nconst naiveLength = () => 1\n\n// lruList is a yallist where the head is the youngest\n// item, and the tail is the oldest.  the list contains the Hit\n// objects as the entries.\n// Each Hit object has a reference to its Yallist.Node.  This\n// never changes.\n//\n// cache is a Map (or PseudoMap) that matches the keys to\n// the Yallist.Node object.\nclass LRUCache {\n  constructor (options) {\n    if (typeof options === 'number')\n      options = { max: options }\n\n    if (!options)\n      options = {}\n\n    if (options.max && (typeof options.max !== 'number' || options.max < 0))\n      throw new TypeError('max must be a non-negative number')\n    // Kind of weird to have a default max of Infinity, but oh well.\n    const max = this[MAX] = options.max || Infinity\n\n    const lc = options.length || naiveLength\n    this[LENGTH_CALCULATOR] = (typeof lc !== 'function') ? naiveLength : lc\n    this[ALLOW_STALE] = options.stale || false\n    if (options.maxAge && typeof options.maxAge !== 'number')\n      throw new TypeError('maxAge must be a number')\n    this[MAX_AGE] = options.maxAge || 0\n    this[DISPOSE] = options.dispose\n    this[NO_DISPOSE_ON_SET] = options.noDisposeOnSet || false\n    this[UPDATE_AGE_ON_GET] = options.updateAgeOnGet || false\n    this.reset()\n  }\n\n  // resize the cache when the max changes.\n  set max (mL) {\n    if (typeof mL !== 'number' || mL < 0)\n      throw new TypeError('max must be a non-negative number')\n\n    this[MAX] = mL || Infinity\n    trim(this)\n  }\n  get max () {\n    return this[MAX]\n  }\n\n  set allowStale (allowStale) {\n    this[ALLOW_STALE] = !!allowStale\n  }\n  get allowStale () {\n    return this[ALLOW_STALE]\n  }\n\n  set maxAge (mA) {\n    if (typeof mA !== 'number')\n      throw new TypeError('maxAge must be a non-negative number')\n\n    this[MAX_AGE] = mA\n    trim(this)\n  }\n  get maxAge () {\n    return this[MAX_AGE]\n  }\n\n  // resize the cache when the lengthCalculator changes.\n  set lengthCalculator (lC) {\n    if (typeof lC !== 'function')\n      lC = naiveLength\n\n    if (lC !== this[LENGTH_CALCULATOR]) {\n      this[LENGTH_CALCULATOR] = lC\n      this[LENGTH] = 0\n      this[LRU_LIST].forEach(hit => {\n        hit.length = this[LENGTH_CALCULATOR](hit.value, hit.key)\n        this[LENGTH] += hit.length\n      })\n    }\n    trim(this)\n  }\n  get lengthCalculator () { return this[LENGTH_CALCULATOR] }\n\n  get length () { return this[LENGTH] }\n  get itemCount () { return this[LRU_LIST].length }\n\n  rforEach (fn, thisp) {\n    thisp = thisp || this\n    for (let walker = this[LRU_LIST].tail; walker !== null;) {\n      const prev = walker.prev\n      forEachStep(this, fn, walker, thisp)\n      walker = prev\n    }\n  }\n\n  forEach (fn, thisp) {\n    thisp = thisp || this\n    for (let walker = this[LRU_LIST].head; walker !== null;) {\n      const next = walker.next\n      forEachStep(this, fn, walker, thisp)\n      walker = next\n    }\n  }\n\n  keys () {\n    return this[LRU_LIST].toArray().map(k => k.key)\n  }\n\n  values () {\n    return this[LRU_LIST].toArray().map(k => k.value)\n  }\n\n  reset () {\n    if (this[DISPOSE] &&\n        this[LRU_LIST] &&\n        this[LRU_LIST].length) {\n      this[LRU_LIST].forEach(hit => this[DISPOSE](hit.key, hit.value))\n    }\n\n    this[CACHE] = new Map() // hash of items by key\n    this[LRU_LIST] = new Yallist() // list of items in order of use recency\n    this[LENGTH] = 0 // length of items in the list\n  }\n\n  dump () {\n    return this[LRU_LIST].map(hit =>\n      isStale(this, hit) ? false : {\n        k: hit.key,\n        v: hit.value,\n        e: hit.now + (hit.maxAge || 0)\n      }).toArray().filter(h => h)\n  }\n\n  dumpLru () {\n    return this[LRU_LIST]\n  }\n\n  set (key, value, maxAge) {\n    maxAge = maxAge || this[MAX_AGE]\n\n    if (maxAge && typeof maxAge !== 'number')\n      throw new TypeError('maxAge must be a number')\n\n    const now = maxAge ? Date.now() : 0\n    const len = this[LENGTH_CALCULATOR](value, key)\n\n    if (this[CACHE].has(key)) {\n      if (len > this[MAX]) {\n        del(this, this[CACHE].get(key))\n        return false\n      }\n\n      const node = this[CACHE].get(key)\n      const item = node.value\n\n      // dispose of the old one before overwriting\n      // split out into 2 ifs for better coverage tracking\n      if (this[DISPOSE]) {\n        if (!this[NO_DISPOSE_ON_SET])\n          this[DISPOSE](key, item.value)\n      }\n\n      item.now = now\n      item.maxAge = maxAge\n      item.value = value\n      this[LENGTH] += len - item.length\n      item.length = len\n      this.get(key)\n      trim(this)\n      return true\n    }\n\n    const hit = new Entry(key, value, len, now, maxAge)\n\n    // oversized objects fall out of cache automatically.\n    if (hit.length > this[MAX]) {\n      if (this[DISPOSE])\n        this[DISPOSE](key, value)\n\n      return false\n    }\n\n    this[LENGTH] += hit.length\n    this[LRU_LIST].unshift(hit)\n    this[CACHE].set(key, this[LRU_LIST].head)\n    trim(this)\n    return true\n  }\n\n  has (key) {\n    if (!this[CACHE].has(key)) return false\n    const hit = this[CACHE].get(key).value\n    return !isStale(this, hit)\n  }\n\n  get (key) {\n    return get(this, key, true)\n  }\n\n  peek (key) {\n    return get(this, key, false)\n  }\n\n  pop () {\n    const node = this[LRU_LIST].tail\n    if (!node)\n      return null\n\n    del(this, node)\n    return node.value\n  }\n\n  del (key) {\n    del(this, this[CACHE].get(key))\n  }\n\n  load (arr) {\n    // reset the cache\n    this.reset()\n\n    const now = Date.now()\n    // A previous serialized cache has the most recent items first\n    for (let l = arr.length - 1; l >= 0; l--) {\n      const hit = arr[l]\n      const expiresAt = hit.e || 0\n      if (expiresAt === 0)\n        // the item was created without expiration in a non aged cache\n        this.set(hit.k, hit.v)\n      else {\n        const maxAge = expiresAt - now\n        // dont add already expired items\n        if (maxAge > 0) {\n          this.set(hit.k, hit.v, maxAge)\n        }\n      }\n    }\n  }\n\n  prune () {\n    this[CACHE].forEach((value, key) => get(this, key, false))\n  }\n}\n\nconst get = (self, key, doUse) => {\n  const node = self[CACHE].get(key)\n  if (node) {\n    const hit = node.value\n    if (isStale(self, hit)) {\n      del(self, node)\n      if (!self[ALLOW_STALE])\n        return undefined\n    } else {\n      if (doUse) {\n        if (self[UPDATE_AGE_ON_GET])\n          node.value.now = Date.now()\n        self[LRU_LIST].unshiftNode(node)\n      }\n    }\n    return hit.value\n  }\n}\n\nconst isStale = (self, hit) => {\n  if (!hit || (!hit.maxAge && !self[MAX_AGE]))\n    return false\n\n  const diff = Date.now() - hit.now\n  return hit.maxAge ? diff > hit.maxAge\n    : self[MAX_AGE] && (diff > self[MAX_AGE])\n}\n\nconst trim = self => {\n  if (self[LENGTH] > self[MAX]) {\n    for (let walker = self[LRU_LIST].tail;\n      self[LENGTH] > self[MAX] && walker !== null;) {\n      // We know that we're about to delete this one, and also\n      // what the next least recently used key will be, so just\n      // go ahead and set it now.\n      const prev = walker.prev\n      del(self, walker)\n      walker = prev\n    }\n  }\n}\n\nconst del = (self, node) => {\n  if (node) {\n    const hit = node.value\n    if (self[DISPOSE])\n      self[DISPOSE](hit.key, hit.value)\n\n    self[LENGTH] -= hit.length\n    self[CACHE].delete(hit.key)\n    self[LRU_LIST].removeNode(node)\n  }\n}\n\nclass Entry {\n  constructor (key, value, length, now, maxAge) {\n    this.key = key\n    this.value = value\n    this.length = length\n    this.now = now\n    this.maxAge = maxAge || 0\n  }\n}\n\nconst forEachStep = (self, fn, node, thisp) => {\n  let hit = node.value\n  if (isStale(self, hit)) {\n    del(self, node)\n    if (!self[ALLOW_STALE])\n      hit = undefined\n  }\n  if (hit)\n    fn.call(thisp, hit.value, hit.key, self)\n}\n\nmodule.exports = LRUCache\n","module.exports = minimatch\nminimatch.Minimatch = Minimatch\n\nvar path = (function () { try { return require('path') } catch (e) {}}()) || {\n  sep: '/'\n}\nminimatch.sep = path.sep\n\nvar GLOBSTAR = minimatch.GLOBSTAR = Minimatch.GLOBSTAR = {}\nvar expand = require('brace-expansion')\n\nvar plTypes = {\n  '!': { open: '(?:(?!(?:', close: '))[^/]*?)'},\n  '?': { open: '(?:', close: ')?' },\n  '+': { open: '(?:', close: ')+' },\n  '*': { open: '(?:', close: ')*' },\n  '@': { open: '(?:', close: ')' }\n}\n\n// any single thing other than /\n// don't need to escape / when using new RegExp()\nvar qmark = '[^/]'\n\n// * => any number of characters\nvar star = qmark + '*?'\n\n// ** when dots are allowed.  Anything goes, except .. and .\n// not (^ or / followed by one or two dots followed by $ or /),\n// followed by anything, any number of times.\nvar twoStarDot = '(?:(?!(?:\\\\\\/|^)(?:\\\\.{1,2})($|\\\\\\/)).)*?'\n\n// not a ^ or / followed by a dot,\n// followed by anything, any number of times.\nvar twoStarNoDot = '(?:(?!(?:\\\\\\/|^)\\\\.).)*?'\n\n// characters that need to be escaped in RegExp.\nvar reSpecials = charSet('().*{}+?[]^$\\\\!')\n\n// \"abc\" -> { a:true, b:true, c:true }\nfunction charSet (s) {\n  return s.split('').reduce(function (set, c) {\n    set[c] = true\n    return set\n  }, {})\n}\n\n// normalizes slashes.\nvar slashSplit = /\\/+/\n\nminimatch.filter = filter\nfunction filter (pattern, options) {\n  options = options || {}\n  return function (p, i, list) {\n    return minimatch(p, pattern, options)\n  }\n}\n\nfunction ext (a, b) {\n  b = b || {}\n  var t = {}\n  Object.keys(a).forEach(function (k) {\n    t[k] = a[k]\n  })\n  Object.keys(b).forEach(function (k) {\n    t[k] = b[k]\n  })\n  return t\n}\n\nminimatch.defaults = function (def) {\n  if (!def || typeof def !== 'object' || !Object.keys(def).length) {\n    return minimatch\n  }\n\n  var orig = minimatch\n\n  var m = function minimatch (p, pattern, options) {\n    return orig(p, pattern, ext(def, options))\n  }\n\n  m.Minimatch = function Minimatch (pattern, options) {\n    return new orig.Minimatch(pattern, ext(def, options))\n  }\n  m.Minimatch.defaults = function defaults (options) {\n    return orig.defaults(ext(def, options)).Minimatch\n  }\n\n  m.filter = function filter (pattern, options) {\n    return orig.filter(pattern, ext(def, options))\n  }\n\n  m.defaults = function defaults (options) {\n    return orig.defaults(ext(def, options))\n  }\n\n  m.makeRe = function makeRe (pattern, options) {\n    return orig.makeRe(pattern, ext(def, options))\n  }\n\n  m.braceExpand = function braceExpand (pattern, options) {\n    return orig.braceExpand(pattern, ext(def, options))\n  }\n\n  m.match = function (list, pattern, options) {\n    return orig.match(list, pattern, ext(def, options))\n  }\n\n  return m\n}\n\nMinimatch.defaults = function (def) {\n  return minimatch.defaults(def).Minimatch\n}\n\nfunction minimatch (p, pattern, options) {\n  assertValidPattern(pattern)\n\n  if (!options) options = {}\n\n  // shortcut: comments match nothing.\n  if (!options.nocomment && pattern.charAt(0) === '#') {\n    return false\n  }\n\n  return new Minimatch(pattern, options).match(p)\n}\n\nfunction Minimatch (pattern, options) {\n  if (!(this instanceof Minimatch)) {\n    return new Minimatch(pattern, options)\n  }\n\n  assertValidPattern(pattern)\n\n  if (!options) options = {}\n\n  pattern = pattern.trim()\n\n  // windows support: need to use /, not \\\n  if (!options.allowWindowsEscape && path.sep !== '/') {\n    pattern = pattern.split(path.sep).join('/')\n  }\n\n  this.options = options\n  this.set = []\n  this.pattern = pattern\n  this.regexp = null\n  this.negate = false\n  this.comment = false\n  this.empty = false\n  this.partial = !!options.partial\n\n  // make the set of regexps etc.\n  this.make()\n}\n\nMinimatch.prototype.debug = function () {}\n\nMinimatch.prototype.make = make\nfunction make () {\n  var pattern = this.pattern\n  var options = this.options\n\n  // empty patterns and comments match nothing.\n  if (!options.nocomment && pattern.charAt(0) === '#') {\n    this.comment = true\n    return\n  }\n  if (!pattern) {\n    this.empty = true\n    return\n  }\n\n  // step 1: figure out negation, etc.\n  this.parseNegate()\n\n  // step 2: expand braces\n  var set = this.globSet = this.braceExpand()\n\n  if (options.debug) this.debug = function debug() { console.error.apply(console, arguments) }\n\n  this.debug(this.pattern, set)\n\n  // step 3: now we have a set, so turn each one into a series of path-portion\n  // matching patterns.\n  // These will be regexps, except in the case of \"**\", which is\n  // set to the GLOBSTAR object for globstar behavior,\n  // and will not contain any / characters\n  set = this.globParts = set.map(function (s) {\n    return s.split(slashSplit)\n  })\n\n  this.debug(this.pattern, set)\n\n  // glob --> regexps\n  set = set.map(function (s, si, set) {\n    return s.map(this.parse, this)\n  }, this)\n\n  this.debug(this.pattern, set)\n\n  // filter out everything that didn't compile properly.\n  set = set.filter(function (s) {\n    return s.indexOf(false) === -1\n  })\n\n  this.debug(this.pattern, set)\n\n  this.set = set\n}\n\nMinimatch.prototype.parseNegate = parseNegate\nfunction parseNegate () {\n  var pattern = this.pattern\n  var negate = false\n  var options = this.options\n  var negateOffset = 0\n\n  if (options.nonegate) return\n\n  for (var i = 0, l = pattern.length\n    ; i < l && pattern.charAt(i) === '!'\n    ; i++) {\n    negate = !negate\n    negateOffset++\n  }\n\n  if (negateOffset) this.pattern = pattern.substr(negateOffset)\n  this.negate = negate\n}\n\n// Brace expansion:\n// a{b,c}d -> abd acd\n// a{b,}c -> abc ac\n// a{0..3}d -> a0d a1d a2d a3d\n// a{b,c{d,e}f}g -> abg acdfg acefg\n// a{b,c}d{e,f}g -> abdeg acdeg abdeg abdfg\n//\n// Invalid sets are not expanded.\n// a{2..}b -> a{2..}b\n// a{b}c -> a{b}c\nminimatch.braceExpand = function (pattern, options) {\n  return braceExpand(pattern, options)\n}\n\nMinimatch.prototype.braceExpand = braceExpand\n\nfunction braceExpand (pattern, options) {\n  if (!options) {\n    if (this instanceof Minimatch) {\n      options = this.options\n    } else {\n      options = {}\n    }\n  }\n\n  pattern = typeof pattern === 'undefined'\n    ? this.pattern : pattern\n\n  assertValidPattern(pattern)\n\n  // Thanks to Yeting Li <https://github.com/yetingli> for\n  // improving this regexp to avoid a ReDOS vulnerability.\n  if (options.nobrace || !/\\{(?:(?!\\{).)*\\}/.test(pattern)) {\n    // shortcut. no need to expand.\n    return [pattern]\n  }\n\n  return expand(pattern)\n}\n\nvar MAX_PATTERN_LENGTH = 1024 * 64\nvar assertValidPattern = function (pattern) {\n  if (typeof pattern !== 'string') {\n    throw new TypeError('invalid pattern')\n  }\n\n  if (pattern.length > MAX_PATTERN_LENGTH) {\n    throw new TypeError('pattern is too long')\n  }\n}\n\n// parse a component of the expanded set.\n// At this point, no pattern may contain \"/\" in it\n// so we're going to return a 2d array, where each entry is the full\n// pattern, split on '/', and then turned into a regular expression.\n// A regexp is made at the end which joins each array with an\n// escaped /, and another full one which joins each regexp with |.\n//\n// Following the lead of Bash 4.1, note that \"**\" only has special meaning\n// when it is the *only* thing in a path portion.  Otherwise, any series\n// of * is equivalent to a single *.  Globstar behavior is enabled by\n// default, and can be disabled by setting options.noglobstar.\nMinimatch.prototype.parse = parse\nvar SUBPARSE = {}\nfunction parse (pattern, isSub) {\n  assertValidPattern(pattern)\n\n  var options = this.options\n\n  // shortcuts\n  if (pattern === '**') {\n    if (!options.noglobstar)\n      return GLOBSTAR\n    else\n      pattern = '*'\n  }\n  if (pattern === '') return ''\n\n  var re = ''\n  var hasMagic = !!options.nocase\n  var escaping = false\n  // ? => one single character\n  var patternListStack = []\n  var negativeLists = []\n  var stateChar\n  var inClass = false\n  var reClassStart = -1\n  var classStart = -1\n  // . and .. never match anything that doesn't start with .,\n  // even when options.dot is set.\n  var patternStart = pattern.charAt(0) === '.' ? '' // anything\n  // not (start or / followed by . or .. followed by / or end)\n  : options.dot ? '(?!(?:^|\\\\\\/)\\\\.{1,2}(?:$|\\\\\\/))'\n  : '(?!\\\\.)'\n  var self = this\n\n  function clearStateChar () {\n    if (stateChar) {\n      // we had some state-tracking character\n      // that wasn't consumed by this pass.\n      switch (stateChar) {\n        case '*':\n          re += star\n          hasMagic = true\n        break\n        case '?':\n          re += qmark\n          hasMagic = true\n        break\n        default:\n          re += '\\\\' + stateChar\n        break\n      }\n      self.debug('clearStateChar %j %j', stateChar, re)\n      stateChar = false\n    }\n  }\n\n  for (var i = 0, len = pattern.length, c\n    ; (i < len) && (c = pattern.charAt(i))\n    ; i++) {\n    this.debug('%s\\t%s %s %j', pattern, i, re, c)\n\n    // skip over any that are escaped.\n    if (escaping && reSpecials[c]) {\n      re += '\\\\' + c\n      escaping = false\n      continue\n    }\n\n    switch (c) {\n      /* istanbul ignore next */\n      case '/': {\n        // completely not allowed, even escaped.\n        // Should already be path-split by now.\n        return false\n      }\n\n      case '\\\\':\n        clearStateChar()\n        escaping = true\n      continue\n\n      // the various stateChar values\n      // for the \"extglob\" stuff.\n      case '?':\n      case '*':\n      case '+':\n      case '@':\n      case '!':\n        this.debug('%s\\t%s %s %j <-- stateChar', pattern, i, re, c)\n\n        // all of those are literals inside a class, except that\n        // the glob [!a] means [^a] in regexp\n        if (inClass) {\n          this.debug('  in class')\n          if (c === '!' && i === classStart + 1) c = '^'\n          re += c\n          continue\n        }\n\n        // if we already have a stateChar, then it means\n        // that there was something like ** or +? in there.\n        // Handle the stateChar, then proceed with this one.\n        self.debug('call clearStateChar %j', stateChar)\n        clearStateChar()\n        stateChar = c\n        // if extglob is disabled, then +(asdf|foo) isn't a thing.\n        // just clear the statechar *now*, rather than even diving into\n        // the patternList stuff.\n        if (options.noext) clearStateChar()\n      continue\n\n      case '(':\n        if (inClass) {\n          re += '('\n          continue\n        }\n\n        if (!stateChar) {\n          re += '\\\\('\n          continue\n        }\n\n        patternListStack.push({\n          type: stateChar,\n          start: i - 1,\n          reStart: re.length,\n          open: plTypes[stateChar].open,\n          close: plTypes[stateChar].close\n        })\n        // negation is (?:(?!js)[^/]*)\n        re += stateChar === '!' ? '(?:(?!(?:' : '(?:'\n        this.debug('plType %j %j', stateChar, re)\n        stateChar = false\n      continue\n\n      case ')':\n        if (inClass || !patternListStack.length) {\n          re += '\\\\)'\n          continue\n        }\n\n        clearStateChar()\n        hasMagic = true\n        var pl = patternListStack.pop()\n        // negation is (?:(?!js)[^/]*)\n        // The others are (?:<pattern>)<type>\n        re += pl.close\n        if (pl.type === '!') {\n          negativeLists.push(pl)\n        }\n        pl.reEnd = re.length\n      continue\n\n      case '|':\n        if (inClass || !patternListStack.length || escaping) {\n          re += '\\\\|'\n          escaping = false\n          continue\n        }\n\n        clearStateChar()\n        re += '|'\n      continue\n\n      // these are mostly the same in regexp and glob\n      case '[':\n        // swallow any state-tracking char before the [\n        clearStateChar()\n\n        if (inClass) {\n          re += '\\\\' + c\n          continue\n        }\n\n        inClass = true\n        classStart = i\n        reClassStart = re.length\n        re += c\n      continue\n\n      case ']':\n        //  a right bracket shall lose its special\n        //  meaning and represent itself in\n        //  a bracket expression if it occurs\n        //  first in the list.  -- POSIX.2 2.8.3.2\n        if (i === classStart + 1 || !inClass) {\n          re += '\\\\' + c\n          escaping = false\n          continue\n        }\n\n        // handle the case where we left a class open.\n        // \"[z-a]\" is valid, equivalent to \"\\[z-a\\]\"\n        // split where the last [ was, make sure we don't have\n        // an invalid re. if so, re-walk the contents of the\n        // would-be class to re-translate any characters that\n        // were passed through as-is\n        // TODO: It would probably be faster to determine this\n        // without a try/catch and a new RegExp, but it's tricky\n        // to do safely.  For now, this is safe and works.\n        var cs = pattern.substring(classStart + 1, i)\n        try {\n          RegExp('[' + cs + ']')\n        } catch (er) {\n          // not a valid class!\n          var sp = this.parse(cs, SUBPARSE)\n          re = re.substr(0, reClassStart) + '\\\\[' + sp[0] + '\\\\]'\n          hasMagic = hasMagic || sp[1]\n          inClass = false\n          continue\n        }\n\n        // finish up the class.\n        hasMagic = true\n        inClass = false\n        re += c\n      continue\n\n      default:\n        // swallow any state char that wasn't consumed\n        clearStateChar()\n\n        if (escaping) {\n          // no need\n          escaping = false\n        } else if (reSpecials[c]\n          && !(c === '^' && inClass)) {\n          re += '\\\\'\n        }\n\n        re += c\n\n    } // switch\n  } // for\n\n  // handle the case where we left a class open.\n  // \"[abc\" is valid, equivalent to \"\\[abc\"\n  if (inClass) {\n    // split where the last [ was, and escape it\n    // this is a huge pita.  We now have to re-walk\n    // the contents of the would-be class to re-translate\n    // any characters that were passed through as-is\n    cs = pattern.substr(classStart + 1)\n    sp = this.parse(cs, SUBPARSE)\n    re = re.substr(0, reClassStart) + '\\\\[' + sp[0]\n    hasMagic = hasMagic || sp[1]\n  }\n\n  // handle the case where we had a +( thing at the *end*\n  // of the pattern.\n  // each pattern list stack adds 3 chars, and we need to go through\n  // and escape any | chars that were passed through as-is for the regexp.\n  // Go through and escape them, taking care not to double-escape any\n  // | chars that were already escaped.\n  for (pl = patternListStack.pop(); pl; pl = patternListStack.pop()) {\n    var tail = re.slice(pl.reStart + pl.open.length)\n    this.debug('setting tail', re, pl)\n    // maybe some even number of \\, then maybe 1 \\, followed by a |\n    tail = tail.replace(/((?:\\\\{2}){0,64})(\\\\?)\\|/g, function (_, $1, $2) {\n      if (!$2) {\n        // the | isn't already escaped, so escape it.\n        $2 = '\\\\'\n      }\n\n      // need to escape all those slashes *again*, without escaping the\n      // one that we need for escaping the | character.  As it works out,\n      // escaping an even number of slashes can be done by simply repeating\n      // it exactly after itself.  That's why this trick works.\n      //\n      // I am sorry that you have to see this.\n      return $1 + $1 + $2 + '|'\n    })\n\n    this.debug('tail=%j\\n   %s', tail, tail, pl, re)\n    var t = pl.type === '*' ? star\n      : pl.type === '?' ? qmark\n      : '\\\\' + pl.type\n\n    hasMagic = true\n    re = re.slice(0, pl.reStart) + t + '\\\\(' + tail\n  }\n\n  // handle trailing things that only matter at the very end.\n  clearStateChar()\n  if (escaping) {\n    // trailing \\\\\n    re += '\\\\\\\\'\n  }\n\n  // only need to apply the nodot start if the re starts with\n  // something that could conceivably capture a dot\n  var addPatternStart = false\n  switch (re.charAt(0)) {\n    case '[': case '.': case '(': addPatternStart = true\n  }\n\n  // Hack to work around lack of negative lookbehind in JS\n  // A pattern like: *.!(x).!(y|z) needs to ensure that a name\n  // like 'a.xyz.yz' doesn't match.  So, the first negative\n  // lookahead, has to look ALL the way ahead, to the end of\n  // the pattern.\n  for (var n = negativeLists.length - 1; n > -1; n--) {\n    var nl = negativeLists[n]\n\n    var nlBefore = re.slice(0, nl.reStart)\n    var nlFirst = re.slice(nl.reStart, nl.reEnd - 8)\n    var nlLast = re.slice(nl.reEnd - 8, nl.reEnd)\n    var nlAfter = re.slice(nl.reEnd)\n\n    nlLast += nlAfter\n\n    // Handle nested stuff like *(*.js|!(*.json)), where open parens\n    // mean that we should *not* include the ) in the bit that is considered\n    // \"after\" the negated section.\n    var openParensBefore = nlBefore.split('(').length - 1\n    var cleanAfter = nlAfter\n    for (i = 0; i < openParensBefore; i++) {\n      cleanAfter = cleanAfter.replace(/\\)[+*?]?/, '')\n    }\n    nlAfter = cleanAfter\n\n    var dollar = ''\n    if (nlAfter === '' && isSub !== SUBPARSE) {\n      dollar = '$'\n    }\n    var newRe = nlBefore + nlFirst + nlAfter + dollar + nlLast\n    re = newRe\n  }\n\n  // if the re is not \"\" at this point, then we need to make sure\n  // it doesn't match against an empty path part.\n  // Otherwise a/* will match a/, which it should not.\n  if (re !== '' && hasMagic) {\n    re = '(?=.)' + re\n  }\n\n  if (addPatternStart) {\n    re = patternStart + re\n  }\n\n  // parsing just a piece of a larger pattern.\n  if (isSub === SUBPARSE) {\n    return [re, hasMagic]\n  }\n\n  // skip the regexp for non-magical patterns\n  // unescape anything in it, though, so that it'll be\n  // an exact match against a file etc.\n  if (!hasMagic) {\n    return globUnescape(pattern)\n  }\n\n  var flags = options.nocase ? 'i' : ''\n  try {\n    var regExp = new RegExp('^' + re + '$', flags)\n  } catch (er) /* istanbul ignore next - should be impossible */ {\n    // If it was an invalid regular expression, then it can't match\n    // anything.  This trick looks for a character after the end of\n    // the string, which is of course impossible, except in multi-line\n    // mode, but it's not a /m regex.\n    return new RegExp('$.')\n  }\n\n  regExp._glob = pattern\n  regExp._src = re\n\n  return regExp\n}\n\nminimatch.makeRe = function (pattern, options) {\n  return new Minimatch(pattern, options || {}).makeRe()\n}\n\nMinimatch.prototype.makeRe = makeRe\nfunction makeRe () {\n  if (this.regexp || this.regexp === false) return this.regexp\n\n  // at this point, this.set is a 2d array of partial\n  // pattern strings, or \"**\".\n  //\n  // It's better to use .match().  This function shouldn't\n  // be used, really, but it's pretty convenient sometimes,\n  // when you just want to work with a regex.\n  var set = this.set\n\n  if (!set.length) {\n    this.regexp = false\n    return this.regexp\n  }\n  var options = this.options\n\n  var twoStar = options.noglobstar ? star\n    : options.dot ? twoStarDot\n    : twoStarNoDot\n  var flags = options.nocase ? 'i' : ''\n\n  var re = set.map(function (pattern) {\n    return pattern.map(function (p) {\n      return (p === GLOBSTAR) ? twoStar\n      : (typeof p === 'string') ? regExpEscape(p)\n      : p._src\n    }).join('\\\\\\/')\n  }).join('|')\n\n  // must match entire pattern\n  // ending in a * or ** will make it less strict.\n  re = '^(?:' + re + ')$'\n\n  // can match anything, as long as it's not this.\n  if (this.negate) re = '^(?!' + re + ').*$'\n\n  try {\n    this.regexp = new RegExp(re, flags)\n  } catch (ex) /* istanbul ignore next - should be impossible */ {\n    this.regexp = false\n  }\n  return this.regexp\n}\n\nminimatch.match = function (list, pattern, options) {\n  options = options || {}\n  var mm = new Minimatch(pattern, options)\n  list = list.filter(function (f) {\n    return mm.match(f)\n  })\n  if (mm.options.nonull && !list.length) {\n    list.push(pattern)\n  }\n  return list\n}\n\nMinimatch.prototype.match = function match (f, partial) {\n  if (typeof partial === 'undefined') partial = this.partial\n  this.debug('match', f, this.pattern)\n  // short-circuit in the case of busted things.\n  // comments, etc.\n  if (this.comment) return false\n  if (this.empty) return f === ''\n\n  if (f === '/' && partial) return true\n\n  var options = this.options\n\n  // windows: need to use /, not \\\n  if (path.sep !== '/') {\n    f = f.split(path.sep).join('/')\n  }\n\n  // treat the test path as a set of pathparts.\n  f = f.split(slashSplit)\n  this.debug(this.pattern, 'split', f)\n\n  // just ONE of the pattern sets in this.set needs to match\n  // in order for it to be valid.  If negating, then just one\n  // match means that we have failed.\n  // Either way, return on the first hit.\n\n  var set = this.set\n  this.debug(this.pattern, 'set', set)\n\n  // Find the basename of the path by looking for the last non-empty segment\n  var filename\n  var i\n  for (i = f.length - 1; i >= 0; i--) {\n    filename = f[i]\n    if (filename) break\n  }\n\n  for (i = 0; i < set.length; i++) {\n    var pattern = set[i]\n    var file = f\n    if (options.matchBase && pattern.length === 1) {\n      file = [filename]\n    }\n    var hit = this.matchOne(file, pattern, partial)\n    if (hit) {\n      if (options.flipNegate) return true\n      return !this.negate\n    }\n  }\n\n  // didn't get any hits.  this is success if it's a negative\n  // pattern, failure otherwise.\n  if (options.flipNegate) return false\n  return this.negate\n}\n\n// set partial to true to test if, for example,\n// \"/a/b\" matches the start of \"/*/b/*/d\"\n// Partial means, if you run out of file before you run\n// out of pattern, then that's fine, as long as all\n// the parts match.\nMinimatch.prototype.matchOne = function (file, pattern, partial) {\n  var options = this.options\n\n  this.debug('matchOne',\n    { 'this': this, file: file, pattern: pattern })\n\n  this.debug('matchOne', file.length, pattern.length)\n\n  for (var fi = 0,\n      pi = 0,\n      fl = file.length,\n      pl = pattern.length\n      ; (fi < fl) && (pi < pl)\n      ; fi++, pi++) {\n    this.debug('matchOne loop')\n    var p = pattern[pi]\n    var f = file[fi]\n\n    this.debug(pattern, p, f)\n\n    // should be impossible.\n    // some invalid regexp stuff in the set.\n    /* istanbul ignore if */\n    if (p === false) return false\n\n    if (p === GLOBSTAR) {\n      this.debug('GLOBSTAR', [pattern, p, f])\n\n      // \"**\"\n      // a/**/b/**/c would match the following:\n      // a/b/x/y/z/c\n      // a/x/y/z/b/c\n      // a/b/x/b/x/c\n      // a/b/c\n      // To do this, take the rest of the pattern after\n      // the **, and see if it would match the file remainder.\n      // If so, return success.\n      // If not, the ** \"swallows\" a segment, and try again.\n      // This is recursively awful.\n      //\n      // a/**/b/**/c matching a/b/x/y/z/c\n      // - a matches a\n      // - doublestar\n      //   - matchOne(b/x/y/z/c, b/**/c)\n      //     - b matches b\n      //     - doublestar\n      //       - matchOne(x/y/z/c, c) -> no\n      //       - matchOne(y/z/c, c) -> no\n      //       - matchOne(z/c, c) -> no\n      //       - matchOne(c, c) yes, hit\n      var fr = fi\n      var pr = pi + 1\n      if (pr === pl) {\n        this.debug('** at the end')\n        // a ** at the end will just swallow the rest.\n        // We have found a match.\n        // however, it will not swallow /.x, unless\n        // options.dot is set.\n        // . and .. are *never* matched by **, for explosively\n        // exponential reasons.\n        for (; fi < fl; fi++) {\n          if (file[fi] === '.' || file[fi] === '..' ||\n            (!options.dot && file[fi].charAt(0) === '.')) return false\n        }\n        return true\n      }\n\n      // ok, let's see if we can swallow whatever we can.\n      while (fr < fl) {\n        var swallowee = file[fr]\n\n        this.debug('\\nglobstar while', file, fr, pattern, pr, swallowee)\n\n        // XXX remove this slice.  Just pass the start index.\n        if (this.matchOne(file.slice(fr), pattern.slice(pr), partial)) {\n          this.debug('globstar found match!', fr, fl, swallowee)\n          // found a match.\n          return true\n        } else {\n          // can't swallow \".\" or \"..\" ever.\n          // can only swallow \".foo\" when explicitly asked.\n          if (swallowee === '.' || swallowee === '..' ||\n            (!options.dot && swallowee.charAt(0) === '.')) {\n            this.debug('dot detected!', file, fr, pattern, pr)\n            break\n          }\n\n          // ** swallows a segment, and continue.\n          this.debug('globstar swallow a segment, and continue')\n          fr++\n        }\n      }\n\n      // no match was found.\n      // However, in partial mode, we can't say this is necessarily over.\n      // If there's more *pattern* left, then\n      /* istanbul ignore if */\n      if (partial) {\n        // ran out of file\n        this.debug('\\n>>> no match, partial?', file, fr, pattern, pr)\n        if (fr === fl) return true\n      }\n      return false\n    }\n\n    // something other than **\n    // non-magic patterns just have to match exactly\n    // patterns with magic have been turned into regexps.\n    var hit\n    if (typeof p === 'string') {\n      hit = f === p\n      this.debug('string match', p, f, hit)\n    } else {\n      hit = f.match(p)\n      this.debug('pattern match', p, f, hit)\n    }\n\n    if (!hit) return false\n  }\n\n  // Note: ending in / means that we'll get a final \"\"\n  // at the end of the pattern.  This can only match a\n  // corresponding \"\" at the end of the file.\n  // If the file ends in /, then it can only match a\n  // a pattern that ends in /, unless the pattern just\n  // doesn't have any more for it. But, a/b/ should *not*\n  // match \"a/b/*\", even though \"\" matches against the\n  // [^/]*? pattern, except in partial mode, where it might\n  // simply not be reached yet.\n  // However, a/b/ should still satisfy a/*\n\n  // now either we fell off the end of the pattern, or we're done.\n  if (fi === fl && pi === pl) {\n    // ran out of pattern and filename at the same time.\n    // an exact hit!\n    return true\n  } else if (fi === fl) {\n    // ran out of file, but still had pattern left.\n    // this is ok if we're doing the match as part of\n    // a glob fs traversal.\n    return partial\n  } else /* istanbul ignore else */ if (pi === pl) {\n    // ran out of pattern, still have file left.\n    // this is only acceptable if we're on the very last\n    // empty segment of a file with a trailing slash.\n    // a/* should match a/b/\n    return (fi === fl - 1) && (file[fi] === '')\n  }\n\n  // should be unreachable.\n  /* istanbul ignore next */\n  throw new Error('wtf?')\n}\n\n// replace stuff like \\* with *\nfunction globUnescape (s) {\n  return s.replace(/\\\\(.)/g, '$1')\n}\n\nfunction regExpEscape (s) {\n  return s.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g, '\\\\$&')\n}\n","'use strict';\n\nconst pathKey = (options = {}) => {\n\tconst environment = options.env || process.env;\n\tconst platform = options.platform || process.platform;\n\n\tif (platform !== 'win32') {\n\t\treturn 'PATH';\n\t}\n\n\treturn Object.keys(environment).reverse().find(key => key.toUpperCase() === 'PATH') || 'Path';\n};\n\nmodule.exports = pathKey;\n// TODO: Remove this for the next major release\nmodule.exports.default = pathKey;\n","const ANY = Symbol('SemVer ANY')\n// hoisted class for cyclic dependency\nclass Comparator {\n  static get ANY () {\n    return ANY\n  }\n  constructor (comp, options) {\n    options = parseOptions(options)\n\n    if (comp instanceof Comparator) {\n      if (comp.loose === !!options.loose) {\n        return comp\n      } else {\n        comp = comp.value\n      }\n    }\n\n    debug('comparator', comp, options)\n    this.options = options\n    this.loose = !!options.loose\n    this.parse(comp)\n\n    if (this.semver === ANY) {\n      this.value = ''\n    } else {\n      this.value = this.operator + this.semver.version\n    }\n\n    debug('comp', this)\n  }\n\n  parse (comp) {\n    const r = this.options.loose ? re[t.COMPARATORLOOSE] : re[t.COMPARATOR]\n    const m = comp.match(r)\n\n    if (!m) {\n      throw new TypeError(`Invalid comparator: ${comp}`)\n    }\n\n    this.operator = m[1] !== undefined ? m[1] : ''\n    if (this.operator === '=') {\n      this.operator = ''\n    }\n\n    // if it literally is just '>' or '' then allow anything.\n    if (!m[2]) {\n      this.semver = ANY\n    } else {\n      this.semver = new SemVer(m[2], this.options.loose)\n    }\n  }\n\n  toString () {\n    return this.value\n  }\n\n  test (version) {\n    debug('Comparator.test', version, this.options.loose)\n\n    if (this.semver === ANY || version === ANY) {\n      return true\n    }\n\n    if (typeof version === 'string') {\n      try {\n        version = new SemVer(version, this.options)\n      } catch (er) {\n        return false\n      }\n    }\n\n    return cmp(version, this.operator, this.semver, this.options)\n  }\n\n  intersects (comp, options) {\n    if (!(comp instanceof Comparator)) {\n      throw new TypeError('a Comparator is required')\n    }\n\n    if (!options || typeof options !== 'object') {\n      options = {\n        loose: !!options,\n        includePrerelease: false\n      }\n    }\n\n    if (this.operator === '') {\n      if (this.value === '') {\n        return true\n      }\n      return new Range(comp.value, options).test(this.value)\n    } else if (comp.operator === '') {\n      if (comp.value === '') {\n        return true\n      }\n      return new Range(this.value, options).test(comp.semver)\n    }\n\n    const sameDirectionIncreasing =\n      (this.operator === '>=' || this.operator === '>') &&\n      (comp.operator === '>=' || comp.operator === '>')\n    const sameDirectionDecreasing =\n      (this.operator === '<=' || this.operator === '<') &&\n      (comp.operator === '<=' || comp.operator === '<')\n    const sameSemVer = this.semver.version === comp.semver.version\n    const differentDirectionsInclusive =\n      (this.operator === '>=' || this.operator === '<=') &&\n      (comp.operator === '>=' || comp.operator === '<=')\n    const oppositeDirectionsLessThan =\n      cmp(this.semver, '<', comp.semver, options) &&\n      (this.operator === '>=' || this.operator === '>') &&\n        (comp.operator === '<=' || comp.operator === '<')\n    const oppositeDirectionsGreaterThan =\n      cmp(this.semver, '>', comp.semver, options) &&\n      (this.operator === '<=' || this.operator === '<') &&\n        (comp.operator === '>=' || comp.operator === '>')\n\n    return (\n      sameDirectionIncreasing ||\n      sameDirectionDecreasing ||\n      (sameSemVer && differentDirectionsInclusive) ||\n      oppositeDirectionsLessThan ||\n      oppositeDirectionsGreaterThan\n    )\n  }\n}\n\nmodule.exports = Comparator\n\nconst parseOptions = require('../internal/parse-options')\nconst {re, t} = require('../internal/re')\nconst cmp = require('../functions/cmp')\nconst debug = require('../internal/debug')\nconst SemVer = require('./semver')\nconst Range = require('./range')\n","// hoisted class for cyclic dependency\nclass Range {\n  constructor (range, options) {\n    options = parseOptions(options)\n\n    if (range instanceof Range) {\n      if (\n        range.loose === !!options.loose &&\n        range.includePrerelease === !!options.includePrerelease\n      ) {\n        return range\n      } else {\n        return new Range(range.raw, options)\n      }\n    }\n\n    if (range instanceof Comparator) {\n      // just put it in the set and return\n      this.raw = range.value\n      this.set = [[range]]\n      this.format()\n      return this\n    }\n\n    this.options = options\n    this.loose = !!options.loose\n    this.includePrerelease = !!options.includePrerelease\n\n    // First, split based on boolean or ||\n    this.raw = range\n    this.set = range\n      .split(/\\s*\\|\\|\\s*/)\n      // map the range to a 2d array of comparators\n      .map(range => this.parseRange(range.trim()))\n      // throw out any comparator lists that are empty\n      // this generally means that it was not a valid range, which is allowed\n      // in loose mode, but will still throw if the WHOLE range is invalid.\n      .filter(c => c.length)\n\n    if (!this.set.length) {\n      throw new TypeError(`Invalid SemVer Range: ${range}`)\n    }\n\n    // if we have any that are not the null set, throw out null sets.\n    if (this.set.length > 1) {\n      // keep the first one, in case they're all null sets\n      const first = this.set[0]\n      this.set = this.set.filter(c => !isNullSet(c[0]))\n      if (this.set.length === 0)\n        this.set = [first]\n      else if (this.set.length > 1) {\n        // if we have any that are *, then the range is just *\n        for (const c of this.set) {\n          if (c.length === 1 && isAny(c[0])) {\n            this.set = [c]\n            break\n          }\n        }\n      }\n    }\n\n    this.format()\n  }\n\n  format () {\n    this.range = this.set\n      .map((comps) => {\n        return comps.join(' ').trim()\n      })\n      .join('||')\n      .trim()\n    return this.range\n  }\n\n  toString () {\n    return this.range\n  }\n\n  parseRange (range) {\n    range = range.trim()\n\n    // memoize range parsing for performance.\n    // this is a very hot path, and fully deterministic.\n    const memoOpts = Object.keys(this.options).join(',')\n    const memoKey = `parseRange:${memoOpts}:${range}`\n    const cached = cache.get(memoKey)\n    if (cached)\n      return cached\n\n    const loose = this.options.loose\n    // `1.2.3 - 1.2.4` => `>=1.2.3 <=1.2.4`\n    const hr = loose ? re[t.HYPHENRANGELOOSE] : re[t.HYPHENRANGE]\n    range = range.replace(hr, hyphenReplace(this.options.includePrerelease))\n    debug('hyphen replace', range)\n    // `> 1.2.3 < 1.2.5` => `>1.2.3 <1.2.5`\n    range = range.replace(re[t.COMPARATORTRIM], comparatorTrimReplace)\n    debug('comparator trim', range, re[t.COMPARATORTRIM])\n\n    // `~ 1.2.3` => `~1.2.3`\n    range = range.replace(re[t.TILDETRIM], tildeTrimReplace)\n\n    // `^ 1.2.3` => `^1.2.3`\n    range = range.replace(re[t.CARETTRIM], caretTrimReplace)\n\n    // normalize spaces\n    range = range.split(/\\s+/).join(' ')\n\n    // At this point, the range is completely trimmed and\n    // ready to be split into comparators.\n\n    const compRe = loose ? re[t.COMPARATORLOOSE] : re[t.COMPARATOR]\n    const rangeList = range\n      .split(' ')\n      .map(comp => parseComparator(comp, this.options))\n      .join(' ')\n      .split(/\\s+/)\n      // >=0.0.0 is equivalent to *\n      .map(comp => replaceGTE0(comp, this.options))\n      // in loose mode, throw out any that are not valid comparators\n      .filter(this.options.loose ? comp => !!comp.match(compRe) : () => true)\n      .map(comp => new Comparator(comp, this.options))\n\n    // if any comparators are the null set, then replace with JUST null set\n    // if more than one comparator, remove any * comparators\n    // also, don't include the same comparator more than once\n    const l = rangeList.length\n    const rangeMap = new Map()\n    for (const comp of rangeList) {\n      if (isNullSet(comp))\n        return [comp]\n      rangeMap.set(comp.value, comp)\n    }\n    if (rangeMap.size > 1 && rangeMap.has(''))\n      rangeMap.delete('')\n\n    const result = [...rangeMap.values()]\n    cache.set(memoKey, result)\n    return result\n  }\n\n  intersects (range, options) {\n    if (!(range instanceof Range)) {\n      throw new TypeError('a Range is required')\n    }\n\n    return this.set.some((thisComparators) => {\n      return (\n        isSatisfiable(thisComparators, options) &&\n        range.set.some((rangeComparators) => {\n          return (\n            isSatisfiable(rangeComparators, options) &&\n            thisComparators.every((thisComparator) => {\n              return rangeComparators.every((rangeComparator) => {\n                return thisComparator.intersects(rangeComparator, options)\n              })\n            })\n          )\n        })\n      )\n    })\n  }\n\n  // if ANY of the sets match ALL of its comparators, then pass\n  test (version) {\n    if (!version) {\n      return false\n    }\n\n    if (typeof version === 'string') {\n      try {\n        version = new SemVer(version, this.options)\n      } catch (er) {\n        return false\n      }\n    }\n\n    for (let i = 0; i < this.set.length; i++) {\n      if (testSet(this.set[i], version, this.options)) {\n        return true\n      }\n    }\n    return false\n  }\n}\nmodule.exports = Range\n\nconst LRU = require('lru-cache')\nconst cache = new LRU({ max: 1000 })\n\nconst parseOptions = require('../internal/parse-options')\nconst Comparator = require('./comparator')\nconst debug = require('../internal/debug')\nconst SemVer = require('./semver')\nconst {\n  re,\n  t,\n  comparatorTrimReplace,\n  tildeTrimReplace,\n  caretTrimReplace\n} = require('../internal/re')\n\nconst isNullSet = c => c.value === '<0.0.0-0'\nconst isAny = c => c.value === ''\n\n// take a set of comparators and determine whether there\n// exists a version which can satisfy it\nconst isSatisfiable = (comparators, options) => {\n  let result = true\n  const remainingComparators = comparators.slice()\n  let testComparator = remainingComparators.pop()\n\n  while (result && remainingComparators.length) {\n    result = remainingComparators.every((otherComparator) => {\n      return testComparator.intersects(otherComparator, options)\n    })\n\n    testComparator = remainingComparators.pop()\n  }\n\n  return result\n}\n\n// comprised of xranges, tildes, stars, and gtlt's at this point.\n// already replaced the hyphen ranges\n// turn into a set of JUST comparators.\nconst parseComparator = (comp, options) => {\n  debug('comp', comp, options)\n  comp = replaceCarets(comp, options)\n  debug('caret', comp)\n  comp = replaceTildes(comp, options)\n  debug('tildes', comp)\n  comp = replaceXRanges(comp, options)\n  debug('xrange', comp)\n  comp = replaceStars(comp, options)\n  debug('stars', comp)\n  return comp\n}\n\nconst isX = id => !id || id.toLowerCase() === 'x' || id === '*'\n\n// ~, ~> --> * (any, kinda silly)\n// ~2, ~2.x, ~2.x.x, ~>2, ~>2.x ~>2.x.x --> >=2.0.0 <3.0.0-0\n// ~2.0, ~2.0.x, ~>2.0, ~>2.0.x --> >=2.0.0 <2.1.0-0\n// ~1.2, ~1.2.x, ~>1.2, ~>1.2.x --> >=1.2.0 <1.3.0-0\n// ~1.2.3, ~>1.2.3 --> >=1.2.3 <1.3.0-0\n// ~1.2.0, ~>1.2.0 --> >=1.2.0 <1.3.0-0\nconst replaceTildes = (comp, options) =>\n  comp.trim().split(/\\s+/).map((comp) => {\n    return replaceTilde(comp, options)\n  }).join(' ')\n\nconst replaceTilde = (comp, options) => {\n  const r = options.loose ? re[t.TILDELOOSE] : re[t.TILDE]\n  return comp.replace(r, (_, M, m, p, pr) => {\n    debug('tilde', comp, _, M, m, p, pr)\n    let ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = `>=${M}.0.0 <${+M + 1}.0.0-0`\n    } else if (isX(p)) {\n      // ~1.2 == >=1.2.0 <1.3.0-0\n      ret = `>=${M}.${m}.0 <${M}.${+m + 1}.0-0`\n    } else if (pr) {\n      debug('replaceTilde pr', pr)\n      ret = `>=${M}.${m}.${p}-${pr\n      } <${M}.${+m + 1}.0-0`\n    } else {\n      // ~1.2.3 == >=1.2.3 <1.3.0-0\n      ret = `>=${M}.${m}.${p\n      } <${M}.${+m + 1}.0-0`\n    }\n\n    debug('tilde return', ret)\n    return ret\n  })\n}\n\n// ^ --> * (any, kinda silly)\n// ^2, ^2.x, ^2.x.x --> >=2.0.0 <3.0.0-0\n// ^2.0, ^2.0.x --> >=2.0.0 <3.0.0-0\n// ^1.2, ^1.2.x --> >=1.2.0 <2.0.0-0\n// ^1.2.3 --> >=1.2.3 <2.0.0-0\n// ^1.2.0 --> >=1.2.0 <2.0.0-0\nconst replaceCarets = (comp, options) =>\n  comp.trim().split(/\\s+/).map((comp) => {\n    return replaceCaret(comp, options)\n  }).join(' ')\n\nconst replaceCaret = (comp, options) => {\n  debug('caret', comp, options)\n  const r = options.loose ? re[t.CARETLOOSE] : re[t.CARET]\n  const z = options.includePrerelease ? '-0' : ''\n  return comp.replace(r, (_, M, m, p, pr) => {\n    debug('caret', comp, _, M, m, p, pr)\n    let ret\n\n    if (isX(M)) {\n      ret = ''\n    } else if (isX(m)) {\n      ret = `>=${M}.0.0${z} <${+M + 1}.0.0-0`\n    } else if (isX(p)) {\n      if (M === '0') {\n        ret = `>=${M}.${m}.0${z} <${M}.${+m + 1}.0-0`\n      } else {\n        ret = `>=${M}.${m}.0${z} <${+M + 1}.0.0-0`\n      }\n    } else if (pr) {\n      debug('replaceCaret pr', pr)\n      if (M === '0') {\n        if (m === '0') {\n          ret = `>=${M}.${m}.${p}-${pr\n          } <${M}.${m}.${+p + 1}-0`\n        } else {\n          ret = `>=${M}.${m}.${p}-${pr\n          } <${M}.${+m + 1}.0-0`\n        }\n      } else {\n        ret = `>=${M}.${m}.${p}-${pr\n        } <${+M + 1}.0.0-0`\n      }\n    } else {\n      debug('no pr')\n      if (M === '0') {\n        if (m === '0') {\n          ret = `>=${M}.${m}.${p\n          }${z} <${M}.${m}.${+p + 1}-0`\n        } else {\n          ret = `>=${M}.${m}.${p\n          }${z} <${M}.${+m + 1}.0-0`\n        }\n      } else {\n        ret = `>=${M}.${m}.${p\n        } <${+M + 1}.0.0-0`\n      }\n    }\n\n    debug('caret return', ret)\n    return ret\n  })\n}\n\nconst replaceXRanges = (comp, options) => {\n  debug('replaceXRanges', comp, options)\n  return comp.split(/\\s+/).map((comp) => {\n    return replaceXRange(comp, options)\n  }).join(' ')\n}\n\nconst replaceXRange = (comp, options) => {\n  comp = comp.trim()\n  const r = options.loose ? re[t.XRANGELOOSE] : re[t.XRANGE]\n  return comp.replace(r, (ret, gtlt, M, m, p, pr) => {\n    debug('xRange', comp, ret, gtlt, M, m, p, pr)\n    const xM = isX(M)\n    const xm = xM || isX(m)\n    const xp = xm || isX(p)\n    const anyX = xp\n\n    if (gtlt === '=' && anyX) {\n      gtlt = ''\n    }\n\n    // if we're including prereleases in the match, then we need\n    // to fix this to -0, the lowest possible prerelease value\n    pr = options.includePrerelease ? '-0' : ''\n\n    if (xM) {\n      if (gtlt === '>' || gtlt === '<') {\n        // nothing is allowed\n        ret = '<0.0.0-0'\n      } else {\n        // nothing is forbidden\n        ret = '*'\n      }\n    } else if (gtlt && anyX) {\n      // we know patch is an x, because we have any x at all.\n      // replace X with 0\n      if (xm) {\n        m = 0\n      }\n      p = 0\n\n      if (gtlt === '>') {\n        // >1 => >=2.0.0\n        // >1.2 => >=1.3.0\n        gtlt = '>='\n        if (xm) {\n          M = +M + 1\n          m = 0\n          p = 0\n        } else {\n          m = +m + 1\n          p = 0\n        }\n      } else if (gtlt === '<=') {\n        // <=0.7.x is actually <0.8.0, since any 0.7.x should\n        // pass.  Similarly, <=7.x is actually <8.0.0, etc.\n        gtlt = '<'\n        if (xm) {\n          M = +M + 1\n        } else {\n          m = +m + 1\n        }\n      }\n\n      if (gtlt === '<')\n        pr = '-0'\n\n      ret = `${gtlt + M}.${m}.${p}${pr}`\n    } else if (xm) {\n      ret = `>=${M}.0.0${pr} <${+M + 1}.0.0-0`\n    } else if (xp) {\n      ret = `>=${M}.${m}.0${pr\n      } <${M}.${+m + 1}.0-0`\n    }\n\n    debug('xRange return', ret)\n\n    return ret\n  })\n}\n\n// Because * is AND-ed with everything else in the comparator,\n// and '' means \"any version\", just remove the *s entirely.\nconst replaceStars = (comp, options) => {\n  debug('replaceStars', comp, options)\n  // Looseness is ignored here.  star is always as loose as it gets!\n  return comp.trim().replace(re[t.STAR], '')\n}\n\nconst replaceGTE0 = (comp, options) => {\n  debug('replaceGTE0', comp, options)\n  return comp.trim()\n    .replace(re[options.includePrerelease ? t.GTE0PRE : t.GTE0], '')\n}\n\n// This function is passed to string.replace(re[t.HYPHENRANGE])\n// M, m, patch, prerelease, build\n// 1.2 - 3.4.5 => >=1.2.0 <=3.4.5\n// 1.2.3 - 3.4 => >=1.2.0 <3.5.0-0 Any 3.4.x will do\n// 1.2 - 3.4 => >=1.2.0 <3.5.0-0\nconst hyphenReplace = incPr => ($0,\n  from, fM, fm, fp, fpr, fb,\n  to, tM, tm, tp, tpr, tb) => {\n  if (isX(fM)) {\n    from = ''\n  } else if (isX(fm)) {\n    from = `>=${fM}.0.0${incPr ? '-0' : ''}`\n  } else if (isX(fp)) {\n    from = `>=${fM}.${fm}.0${incPr ? '-0' : ''}`\n  } else if (fpr) {\n    from = `>=${from}`\n  } else {\n    from = `>=${from}${incPr ? '-0' : ''}`\n  }\n\n  if (isX(tM)) {\n    to = ''\n  } else if (isX(tm)) {\n    to = `<${+tM + 1}.0.0-0`\n  } else if (isX(tp)) {\n    to = `<${tM}.${+tm + 1}.0-0`\n  } else if (tpr) {\n    to = `<=${tM}.${tm}.${tp}-${tpr}`\n  } else if (incPr) {\n    to = `<${tM}.${tm}.${+tp + 1}-0`\n  } else {\n    to = `<=${to}`\n  }\n\n  return (`${from} ${to}`).trim()\n}\n\nconst testSet = (set, version, options) => {\n  for (let i = 0; i < set.length; i++) {\n    if (!set[i].test(version)) {\n      return false\n    }\n  }\n\n  if (version.prerelease.length && !options.includePrerelease) {\n    // Find the set of versions that are allowed to have prereleases\n    // For example, ^1.2.3-pr.1 desugars to >=1.2.3-pr.1 <2.0.0\n    // That should allow `1.2.3-pr.2` to pass.\n    // However, `1.2.4-alpha.notready` should NOT be allowed,\n    // even though it's within the range set by the comparators.\n    for (let i = 0; i < set.length; i++) {\n      debug(set[i].semver)\n      if (set[i].semver === Comparator.ANY) {\n        continue\n      }\n\n      if (set[i].semver.prerelease.length > 0) {\n        const allowed = set[i].semver\n        if (allowed.major === version.major &&\n            allowed.minor === version.minor &&\n            allowed.patch === version.patch) {\n          return true\n        }\n      }\n    }\n\n    // Version has a -pre, but it's not one of the ones we like.\n    return false\n  }\n\n  return true\n}\n","const debug = require('../internal/debug')\nconst { MAX_LENGTH, MAX_SAFE_INTEGER } = require('../internal/constants')\nconst { re, t } = require('../internal/re')\n\nconst parseOptions = require('../internal/parse-options')\nconst { compareIdentifiers } = require('../internal/identifiers')\nclass SemVer {\n  constructor (version, options) {\n    options = parseOptions(options)\n\n    if (version instanceof SemVer) {\n      if (version.loose === !!options.loose &&\n          version.includePrerelease === !!options.includePrerelease) {\n        return version\n      } else {\n        version = version.version\n      }\n    } else if (typeof version !== 'string') {\n      throw new TypeError(`Invalid Version: ${version}`)\n    }\n\n    if (version.length > MAX_LENGTH) {\n      throw new TypeError(\n        `version is longer than ${MAX_LENGTH} characters`\n      )\n    }\n\n    debug('SemVer', version, options)\n    this.options = options\n    this.loose = !!options.loose\n    // this isn't actually relevant for versions, but keep it so that we\n    // don't run into trouble passing this.options around.\n    this.includePrerelease = !!options.includePrerelease\n\n    const m = version.trim().match(options.loose ? re[t.LOOSE] : re[t.FULL])\n\n    if (!m) {\n      throw new TypeError(`Invalid Version: ${version}`)\n    }\n\n    this.raw = version\n\n    // these are actually numbers\n    this.major = +m[1]\n    this.minor = +m[2]\n    this.patch = +m[3]\n\n    if (this.major > MAX_SAFE_INTEGER || this.major < 0) {\n      throw new TypeError('Invalid major version')\n    }\n\n    if (this.minor > MAX_SAFE_INTEGER || this.minor < 0) {\n      throw new TypeError('Invalid minor version')\n    }\n\n    if (this.patch > MAX_SAFE_INTEGER || this.patch < 0) {\n      throw new TypeError('Invalid patch version')\n    }\n\n    // numberify any prerelease numeric ids\n    if (!m[4]) {\n      this.prerelease = []\n    } else {\n      this.prerelease = m[4].split('.').map((id) => {\n        if (/^[0-9]+$/.test(id)) {\n          const num = +id\n          if (num >= 0 && num < MAX_SAFE_INTEGER) {\n            return num\n          }\n        }\n        return id\n      })\n    }\n\n    this.build = m[5] ? m[5].split('.') : []\n    this.format()\n  }\n\n  format () {\n    this.version = `${this.major}.${this.minor}.${this.patch}`\n    if (this.prerelease.length) {\n      this.version += `-${this.prerelease.join('.')}`\n    }\n    return this.version\n  }\n\n  toString () {\n    return this.version\n  }\n\n  compare (other) {\n    debug('SemVer.compare', this.version, this.options, other)\n    if (!(other instanceof SemVer)) {\n      if (typeof other === 'string' && other === this.version) {\n        return 0\n      }\n      other = new SemVer(other, this.options)\n    }\n\n    if (other.version === this.version) {\n      return 0\n    }\n\n    return this.compareMain(other) || this.comparePre(other)\n  }\n\n  compareMain (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    return (\n      compareIdentifiers(this.major, other.major) ||\n      compareIdentifiers(this.minor, other.minor) ||\n      compareIdentifiers(this.patch, other.patch)\n    )\n  }\n\n  comparePre (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    // NOT having a prerelease is > having one\n    if (this.prerelease.length && !other.prerelease.length) {\n      return -1\n    } else if (!this.prerelease.length && other.prerelease.length) {\n      return 1\n    } else if (!this.prerelease.length && !other.prerelease.length) {\n      return 0\n    }\n\n    let i = 0\n    do {\n      const a = this.prerelease[i]\n      const b = other.prerelease[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  compareBuild (other) {\n    if (!(other instanceof SemVer)) {\n      other = new SemVer(other, this.options)\n    }\n\n    let i = 0\n    do {\n      const a = this.build[i]\n      const b = other.build[i]\n      debug('prerelease compare', i, a, b)\n      if (a === undefined && b === undefined) {\n        return 0\n      } else if (b === undefined) {\n        return 1\n      } else if (a === undefined) {\n        return -1\n      } else if (a === b) {\n        continue\n      } else {\n        return compareIdentifiers(a, b)\n      }\n    } while (++i)\n  }\n\n  // preminor will bump the version up to the next minor release, and immediately\n  // down to pre-release. premajor and prepatch work the same way.\n  inc (release, identifier) {\n    switch (release) {\n      case 'premajor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor = 0\n        this.major++\n        this.inc('pre', identifier)\n        break\n      case 'preminor':\n        this.prerelease.length = 0\n        this.patch = 0\n        this.minor++\n        this.inc('pre', identifier)\n        break\n      case 'prepatch':\n        // If this is already a prerelease, it will bump to the next version\n        // drop any prereleases that might already exist, since they are not\n        // relevant at this point.\n        this.prerelease.length = 0\n        this.inc('patch', identifier)\n        this.inc('pre', identifier)\n        break\n      // If the input is a non-prerelease version, this acts the same as\n      // prepatch.\n      case 'prerelease':\n        if (this.prerelease.length === 0) {\n          this.inc('patch', identifier)\n        }\n        this.inc('pre', identifier)\n        break\n\n      case 'major':\n        // If this is a pre-major version, bump up to the same major version.\n        // Otherwise increment major.\n        // 1.0.0-5 bumps to 1.0.0\n        // 1.1.0 bumps to 2.0.0\n        if (\n          this.minor !== 0 ||\n          this.patch !== 0 ||\n          this.prerelease.length === 0\n        ) {\n          this.major++\n        }\n        this.minor = 0\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'minor':\n        // If this is a pre-minor version, bump up to the same minor version.\n        // Otherwise increment minor.\n        // 1.2.0-5 bumps to 1.2.0\n        // 1.2.1 bumps to 1.3.0\n        if (this.patch !== 0 || this.prerelease.length === 0) {\n          this.minor++\n        }\n        this.patch = 0\n        this.prerelease = []\n        break\n      case 'patch':\n        // If this is not a pre-release version, it will increment the patch.\n        // If it is a pre-release it will bump up to the same patch version.\n        // 1.2.0-5 patches to 1.2.0\n        // 1.2.0 patches to 1.2.1\n        if (this.prerelease.length === 0) {\n          this.patch++\n        }\n        this.prerelease = []\n        break\n      // This probably shouldn't be used publicly.\n      // 1.0.0 'pre' would become 1.0.0-0 which is the wrong direction.\n      case 'pre':\n        if (this.prerelease.length === 0) {\n          this.prerelease = [0]\n        } else {\n          let i = this.prerelease.length\n          while (--i >= 0) {\n            if (typeof this.prerelease[i] === 'number') {\n              this.prerelease[i]++\n              i = -2\n            }\n          }\n          if (i === -1) {\n            // didn't increment anything\n            this.prerelease.push(0)\n          }\n        }\n        if (identifier) {\n          // 1.2.0-beta.1 bumps to 1.2.0-beta.2,\n          // 1.2.0-beta.fooblz or 1.2.0-beta bumps to 1.2.0-beta.0\n          if (this.prerelease[0] === identifier) {\n            if (isNaN(this.prerelease[1])) {\n              this.prerelease = [identifier, 0]\n            }\n          } else {\n            this.prerelease = [identifier, 0]\n          }\n        }\n        break\n\n      default:\n        throw new Error(`invalid increment argument: ${release}`)\n    }\n    this.format()\n    this.raw = this.version\n    return this\n  }\n}\n\nmodule.exports = SemVer\n","const parse = require('./parse')\nconst clean = (version, options) => {\n  const s = parse(version.trim().replace(/^[=v]+/, ''), options)\n  return s ? s.version : null\n}\nmodule.exports = clean\n","const eq = require('./eq')\nconst neq = require('./neq')\nconst gt = require('./gt')\nconst gte = require('./gte')\nconst lt = require('./lt')\nconst lte = require('./lte')\n\nconst cmp = (a, op, b, loose) => {\n  switch (op) {\n    case '===':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a === b\n\n    case '!==':\n      if (typeof a === 'object')\n        a = a.version\n      if (typeof b === 'object')\n        b = b.version\n      return a !== b\n\n    case '':\n    case '=':\n    case '==':\n      return eq(a, b, loose)\n\n    case '!=':\n      return neq(a, b, loose)\n\n    case '>':\n      return gt(a, b, loose)\n\n    case '>=':\n      return gte(a, b, loose)\n\n    case '<':\n      return lt(a, b, loose)\n\n    case '<=':\n      return lte(a, b, loose)\n\n    default:\n      throw new TypeError(`Invalid operator: ${op}`)\n  }\n}\nmodule.exports = cmp\n","const SemVer = require('../classes/semver')\nconst parse = require('./parse')\nconst {re, t} = require('../internal/re')\n\nconst coerce = (version, options) => {\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version === 'number') {\n    version = String(version)\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  options = options || {}\n\n  let match = null\n  if (!options.rtl) {\n    match = version.match(re[t.COERCE])\n  } else {\n    // Find the right-most coercible string that does not share\n    // a terminus with a more left-ward coercible string.\n    // Eg, '1.2.3.4' wants to coerce '2.3.4', not '3.4' or '4'\n    //\n    // Walk through the string checking with a /g regexp\n    // Manually set the index so as to pick up overlapping matches.\n    // Stop when we get a match that ends at the string end, since no\n    // coercible string can be more right-ward without the same terminus.\n    let next\n    while ((next = re[t.COERCERTL].exec(version)) &&\n        (!match || match.index + match[0].length !== version.length)\n    ) {\n      if (!match ||\n            next.index + next[0].length !== match.index + match[0].length) {\n        match = next\n      }\n      re[t.COERCERTL].lastIndex = next.index + next[1].length + next[2].length\n    }\n    // leave it in a clean state\n    re[t.COERCERTL].lastIndex = -1\n  }\n\n  if (match === null)\n    return null\n\n  return parse(`${match[2]}.${match[3] || '0'}.${match[4] || '0'}`, options)\n}\nmodule.exports = coerce\n","const SemVer = require('../classes/semver')\nconst compareBuild = (a, b, loose) => {\n  const versionA = new SemVer(a, loose)\n  const versionB = new SemVer(b, loose)\n  return versionA.compare(versionB) || versionA.compareBuild(versionB)\n}\nmodule.exports = compareBuild\n","const compare = require('./compare')\nconst compareLoose = (a, b) => compare(a, b, true)\nmodule.exports = compareLoose\n","const SemVer = require('../classes/semver')\nconst compare = (a, b, loose) =>\n  new SemVer(a, loose).compare(new SemVer(b, loose))\n\nmodule.exports = compare\n","const parse = require('./parse')\nconst eq = require('./eq')\n\nconst diff = (version1, version2) => {\n  if (eq(version1, version2)) {\n    return null\n  } else {\n    const v1 = parse(version1)\n    const v2 = parse(version2)\n    const hasPre = v1.prerelease.length || v2.prerelease.length\n    const prefix = hasPre ? 'pre' : ''\n    const defaultResult = hasPre ? 'prerelease' : ''\n    for (const key in v1) {\n      if (key === 'major' || key === 'minor' || key === 'patch') {\n        if (v1[key] !== v2[key]) {\n          return prefix + key\n        }\n      }\n    }\n    return defaultResult // may be undefined\n  }\n}\nmodule.exports = diff\n","const compare = require('./compare')\nconst eq = (a, b, loose) => compare(a, b, loose) === 0\nmodule.exports = eq\n","const compare = require('./compare')\nconst gt = (a, b, loose) => compare(a, b, loose) > 0\nmodule.exports = gt\n","const compare = require('./compare')\nconst gte = (a, b, loose) => compare(a, b, loose) >= 0\nmodule.exports = gte\n","const SemVer = require('../classes/semver')\n\nconst inc = (version, release, options, identifier) => {\n  if (typeof (options) === 'string') {\n    identifier = options\n    options = undefined\n  }\n\n  try {\n    return new SemVer(version, options).inc(release, identifier).version\n  } catch (er) {\n    return null\n  }\n}\nmodule.exports = inc\n","const compare = require('./compare')\nconst lt = (a, b, loose) => compare(a, b, loose) < 0\nmodule.exports = lt\n","const compare = require('./compare')\nconst lte = (a, b, loose) => compare(a, b, loose) <= 0\nmodule.exports = lte\n","const SemVer = require('../classes/semver')\nconst major = (a, loose) => new SemVer(a, loose).major\nmodule.exports = major\n","const SemVer = require('../classes/semver')\nconst minor = (a, loose) => new SemVer(a, loose).minor\nmodule.exports = minor\n","const compare = require('./compare')\nconst neq = (a, b, loose) => compare(a, b, loose) !== 0\nmodule.exports = neq\n","const {MAX_LENGTH} = require('../internal/constants')\nconst { re, t } = require('../internal/re')\nconst SemVer = require('../classes/semver')\n\nconst parseOptions = require('../internal/parse-options')\nconst parse = (version, options) => {\n  options = parseOptions(options)\n\n  if (version instanceof SemVer) {\n    return version\n  }\n\n  if (typeof version !== 'string') {\n    return null\n  }\n\n  if (version.length > MAX_LENGTH) {\n    return null\n  }\n\n  const r = options.loose ? re[t.LOOSE] : re[t.FULL]\n  if (!r.test(version)) {\n    return null\n  }\n\n  try {\n    return new SemVer(version, options)\n  } catch (er) {\n    return null\n  }\n}\n\nmodule.exports = parse\n","const SemVer = require('../classes/semver')\nconst patch = (a, loose) => new SemVer(a, loose).patch\nmodule.exports = patch\n","const parse = require('./parse')\nconst prerelease = (version, options) => {\n  const parsed = parse(version, options)\n  return (parsed && parsed.prerelease.length) ? parsed.prerelease : null\n}\nmodule.exports = prerelease\n","const compare = require('./compare')\nconst rcompare = (a, b, loose) => compare(b, a, loose)\nmodule.exports = rcompare\n","const compareBuild = require('./compare-build')\nconst rsort = (list, loose) => list.sort((a, b) => compareBuild(b, a, loose))\nmodule.exports = rsort\n","const Range = require('../classes/range')\nconst satisfies = (version, range, options) => {\n  try {\n    range = new Range(range, options)\n  } catch (er) {\n    return false\n  }\n  return range.test(version)\n}\nmodule.exports = satisfies\n","const compareBuild = require('./compare-build')\nconst sort = (list, loose) => list.sort((a, b) => compareBuild(a, b, loose))\nmodule.exports = sort\n","const parse = require('./parse')\nconst valid = (version, options) => {\n  const v = parse(version, options)\n  return v ? v.version : null\n}\nmodule.exports = valid\n","// just pre-load all the stuff that index.js lazily exports\nconst internalRe = require('./internal/re')\nmodule.exports = {\n  re: internalRe.re,\n  src: internalRe.src,\n  tokens: internalRe.t,\n  SEMVER_SPEC_VERSION: require('./internal/constants').SEMVER_SPEC_VERSION,\n  SemVer: require('./classes/semver'),\n  compareIdentifiers: require('./internal/identifiers').compareIdentifiers,\n  rcompareIdentifiers: require('./internal/identifiers').rcompareIdentifiers,\n  parse: require('./functions/parse'),\n  valid: require('./functions/valid'),\n  clean: require('./functions/clean'),\n  inc: require('./functions/inc'),\n  diff: require('./functions/diff'),\n  major: require('./functions/major'),\n  minor: require('./functions/minor'),\n  patch: require('./functions/patch'),\n  prerelease: require('./functions/prerelease'),\n  compare: require('./functions/compare'),\n  rcompare: require('./functions/rcompare'),\n  compareLoose: require('./functions/compare-loose'),\n  compareBuild: require('./functions/compare-build'),\n  sort: require('./functions/sort'),\n  rsort: require('./functions/rsort'),\n  gt: require('./functions/gt'),\n  lt: require('./functions/lt'),\n  eq: require('./functions/eq'),\n  neq: require('./functions/neq'),\n  gte: require('./functions/gte'),\n  lte: require('./functions/lte'),\n  cmp: require('./functions/cmp'),\n  coerce: require('./functions/coerce'),\n  Comparator: require('./classes/comparator'),\n  Range: require('./classes/range'),\n  satisfies: require('./functions/satisfies'),\n  toComparators: require('./ranges/to-comparators'),\n  maxSatisfying: require('./ranges/max-satisfying'),\n  minSatisfying: require('./ranges/min-satisfying'),\n  minVersion: require('./ranges/min-version'),\n  validRange: require('./ranges/valid'),\n  outside: require('./ranges/outside'),\n  gtr: require('./ranges/gtr'),\n  ltr: require('./ranges/ltr'),\n  intersects: require('./ranges/intersects'),\n  simplifyRange: require('./ranges/simplify'),\n  subset: require('./ranges/subset'),\n}\n","// Note: this is the semver.org version of the spec that it implements\n// Not necessarily the package version of this code.\nconst SEMVER_SPEC_VERSION = '2.0.0'\n\nconst MAX_LENGTH = 256\nconst MAX_SAFE_INTEGER = Number.MAX_SAFE_INTEGER ||\n  /* istanbul ignore next */ 9007199254740991\n\n// Max safe segment length for coercion.\nconst MAX_SAFE_COMPONENT_LENGTH = 16\n\nmodule.exports = {\n  SEMVER_SPEC_VERSION,\n  MAX_LENGTH,\n  MAX_SAFE_INTEGER,\n  MAX_SAFE_COMPONENT_LENGTH\n}\n","const debug = (\n  typeof process === 'object' &&\n  process.env &&\n  process.env.NODE_DEBUG &&\n  /\\bsemver\\b/i.test(process.env.NODE_DEBUG)\n) ? (...args) => console.error('SEMVER', ...args)\n  : () => {}\n\nmodule.exports = debug\n","const numeric = /^[0-9]+$/\nconst compareIdentifiers = (a, b) => {\n  const anum = numeric.test(a)\n  const bnum = numeric.test(b)\n\n  if (anum && bnum) {\n    a = +a\n    b = +b\n  }\n\n  return a === b ? 0\n    : (anum && !bnum) ? -1\n    : (bnum && !anum) ? 1\n    : a < b ? -1\n    : 1\n}\n\nconst rcompareIdentifiers = (a, b) => compareIdentifiers(b, a)\n\nmodule.exports = {\n  compareIdentifiers,\n  rcompareIdentifiers\n}\n","// parse out just the options we care about so we always get a consistent\n// obj with keys in a consistent order.\nconst opts = ['includePrerelease', 'loose', 'rtl']\nconst parseOptions = options =>\n  !options ? {}\n  : typeof options !== 'object' ? { loose: true }\n  : opts.filter(k => options[k]).reduce((options, k) => {\n    options[k] = true\n    return options\n  }, {})\nmodule.exports = parseOptions\n","const { MAX_SAFE_COMPONENT_LENGTH } = require('./constants')\nconst debug = require('./debug')\nexports = module.exports = {}\n\n// The actual regexps go on exports.re\nconst re = exports.re = []\nconst src = exports.src = []\nconst t = exports.t = {}\nlet R = 0\n\nconst createToken = (name, value, isGlobal) => {\n  const index = R++\n  debug(index, value)\n  t[name] = index\n  src[index] = value\n  re[index] = new RegExp(value, isGlobal ? 'g' : undefined)\n}\n\n// The following Regular Expressions can be used for tokenizing,\n// validating, and parsing SemVer version strings.\n\n// ## Numeric Identifier\n// A single `0`, or a non-zero digit followed by zero or more digits.\n\ncreateToken('NUMERICIDENTIFIER', '0|[1-9]\\\\d*')\ncreateToken('NUMERICIDENTIFIERLOOSE', '[0-9]+')\n\n// ## Non-numeric Identifier\n// Zero or more digits, followed by a letter or hyphen, and then zero or\n// more letters, digits, or hyphens.\n\ncreateToken('NONNUMERICIDENTIFIER', '\\\\d*[a-zA-Z-][a-zA-Z0-9-]*')\n\n// ## Main Version\n// Three dot-separated numeric identifiers.\n\ncreateToken('MAINVERSION', `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})\\\\.` +\n                   `(${src[t.NUMERICIDENTIFIER]})`)\n\ncreateToken('MAINVERSIONLOOSE', `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})\\\\.` +\n                        `(${src[t.NUMERICIDENTIFIERLOOSE]})`)\n\n// ## Pre-release Version Identifier\n// A numeric identifier, or a non-numeric identifier.\n\ncreateToken('PRERELEASEIDENTIFIER', `(?:${src[t.NUMERICIDENTIFIER]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\ncreateToken('PRERELEASEIDENTIFIERLOOSE', `(?:${src[t.NUMERICIDENTIFIERLOOSE]\n}|${src[t.NONNUMERICIDENTIFIER]})`)\n\n// ## Pre-release Version\n// Hyphen, followed by one or more dot-separated pre-release version\n// identifiers.\n\ncreateToken('PRERELEASE', `(?:-(${src[t.PRERELEASEIDENTIFIER]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIER]})*))`)\n\ncreateToken('PRERELEASELOOSE', `(?:-?(${src[t.PRERELEASEIDENTIFIERLOOSE]\n}(?:\\\\.${src[t.PRERELEASEIDENTIFIERLOOSE]})*))`)\n\n// ## Build Metadata Identifier\n// Any combination of digits, letters, or hyphens.\n\ncreateToken('BUILDIDENTIFIER', '[0-9A-Za-z-]+')\n\n// ## Build Metadata\n// Plus sign, followed by one or more period-separated build metadata\n// identifiers.\n\ncreateToken('BUILD', `(?:\\\\+(${src[t.BUILDIDENTIFIER]\n}(?:\\\\.${src[t.BUILDIDENTIFIER]})*))`)\n\n// ## Full Version String\n// A main version, followed optionally by a pre-release version and\n// build metadata.\n\n// Note that the only major, minor, patch, and pre-release sections of\n// the version string are capturing groups.  The build metadata is not a\n// capturing group, because it should not ever be used in version\n// comparison.\n\ncreateToken('FULLPLAIN', `v?${src[t.MAINVERSION]\n}${src[t.PRERELEASE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('FULL', `^${src[t.FULLPLAIN]}$`)\n\n// like full, but allows v1.2.3 and =1.2.3, which people do sometimes.\n// also, 1.0.0alpha1 (prerelease without the hyphen) which is pretty\n// common in the npm registry.\ncreateToken('LOOSEPLAIN', `[v=\\\\s]*${src[t.MAINVERSIONLOOSE]\n}${src[t.PRERELEASELOOSE]}?${\n  src[t.BUILD]}?`)\n\ncreateToken('LOOSE', `^${src[t.LOOSEPLAIN]}$`)\n\ncreateToken('GTLT', '((?:<|>)?=?)')\n\n// Something like \"2.*\" or \"1.2.x\".\n// Note that \"x.x\" is a valid xRange identifer, meaning \"any version\"\n// Only the first item is strictly required.\ncreateToken('XRANGEIDENTIFIERLOOSE', `${src[t.NUMERICIDENTIFIERLOOSE]}|x|X|\\\\*`)\ncreateToken('XRANGEIDENTIFIER', `${src[t.NUMERICIDENTIFIER]}|x|X|\\\\*`)\n\ncreateToken('XRANGEPLAIN', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:\\\\.(${src[t.XRANGEIDENTIFIER]})` +\n                   `(?:${src[t.PRERELEASE]})?${\n                     src[t.BUILD]}?` +\n                   `)?)?`)\n\ncreateToken('XRANGEPLAINLOOSE', `[v=\\\\s]*(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:\\\\.(${src[t.XRANGEIDENTIFIERLOOSE]})` +\n                        `(?:${src[t.PRERELEASELOOSE]})?${\n                          src[t.BUILD]}?` +\n                        `)?)?`)\n\ncreateToken('XRANGE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAIN]}$`)\ncreateToken('XRANGELOOSE', `^${src[t.GTLT]}\\\\s*${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Coercion.\n// Extract anything that could conceivably be a part of a valid semver\ncreateToken('COERCE', `${'(^|[^\\\\d])' +\n              '(\\\\d{1,'}${MAX_SAFE_COMPONENT_LENGTH}})` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:\\\\.(\\\\d{1,${MAX_SAFE_COMPONENT_LENGTH}}))?` +\n              `(?:$|[^\\\\d])`)\ncreateToken('COERCERTL', src[t.COERCE], true)\n\n// Tilde ranges.\n// Meaning is \"reasonably at or greater than\"\ncreateToken('LONETILDE', '(?:~>?)')\n\ncreateToken('TILDETRIM', `(\\\\s*)${src[t.LONETILDE]}\\\\s+`, true)\nexports.tildeTrimReplace = '$1~'\n\ncreateToken('TILDE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('TILDELOOSE', `^${src[t.LONETILDE]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// Caret ranges.\n// Meaning is \"at least and backwards compatible with\"\ncreateToken('LONECARET', '(?:\\\\^)')\n\ncreateToken('CARETTRIM', `(\\\\s*)${src[t.LONECARET]}\\\\s+`, true)\nexports.caretTrimReplace = '$1^'\n\ncreateToken('CARET', `^${src[t.LONECARET]}${src[t.XRANGEPLAIN]}$`)\ncreateToken('CARETLOOSE', `^${src[t.LONECARET]}${src[t.XRANGEPLAINLOOSE]}$`)\n\n// A simple gt/lt/eq thing, or just \"\" to indicate \"any version\"\ncreateToken('COMPARATORLOOSE', `^${src[t.GTLT]}\\\\s*(${src[t.LOOSEPLAIN]})$|^$`)\ncreateToken('COMPARATOR', `^${src[t.GTLT]}\\\\s*(${src[t.FULLPLAIN]})$|^$`)\n\n// An expression to strip any whitespace between the gtlt and the thing\n// it modifies, so that `> 1.2.3` ==> `>1.2.3`\ncreateToken('COMPARATORTRIM', `(\\\\s*)${src[t.GTLT]\n}\\\\s*(${src[t.LOOSEPLAIN]}|${src[t.XRANGEPLAIN]})`, true)\nexports.comparatorTrimReplace = '$1$2$3'\n\n// Something like `1.2.3 - 1.2.4`\n// Note that these all use the loose form, because they'll be\n// checked against either the strict or loose comparator form\n// later.\ncreateToken('HYPHENRANGE', `^\\\\s*(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s+-\\\\s+` +\n                   `(${src[t.XRANGEPLAIN]})` +\n                   `\\\\s*$`)\n\ncreateToken('HYPHENRANGELOOSE', `^\\\\s*(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s+-\\\\s+` +\n                        `(${src[t.XRANGEPLAINLOOSE]})` +\n                        `\\\\s*$`)\n\n// Star ranges basically just allow anything at all.\ncreateToken('STAR', '(<|>)?=?\\\\s*\\\\*')\n// >=0.0.0 is like a star\ncreateToken('GTE0', '^\\\\s*>=\\\\s*0\\.0\\.0\\\\s*$')\ncreateToken('GTE0PRE', '^\\\\s*>=\\\\s*0\\.0\\.0-0\\\\s*$')\n","// Determine if version is greater than all the versions possible in the range.\nconst outside = require('./outside')\nconst gtr = (version, range, options) => outside(version, range, '>', options)\nmodule.exports = gtr\n","const Range = require('../classes/range')\nconst intersects = (r1, r2, options) => {\n  r1 = new Range(r1, options)\n  r2 = new Range(r2, options)\n  return r1.intersects(r2)\n}\nmodule.exports = intersects\n","const outside = require('./outside')\n// Determine if version is less than all the versions possible in the range\nconst ltr = (version, range, options) => outside(version, range, '<', options)\nmodule.exports = ltr\n","const SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\n\nconst maxSatisfying = (versions, range, options) => {\n  let max = null\n  let maxSV = null\n  let rangeObj = null\n  try {\n    rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach((v) => {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!max || maxSV.compare(v) === -1) {\n        // compare(max, v, true)\n        max = v\n        maxSV = new SemVer(max, options)\n      }\n    }\n  })\n  return max\n}\nmodule.exports = maxSatisfying\n","const SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\nconst minSatisfying = (versions, range, options) => {\n  let min = null\n  let minSV = null\n  let rangeObj = null\n  try {\n    rangeObj = new Range(range, options)\n  } catch (er) {\n    return null\n  }\n  versions.forEach((v) => {\n    if (rangeObj.test(v)) {\n      // satisfies(v, range, options)\n      if (!min || minSV.compare(v) === 1) {\n        // compare(min, v, true)\n        min = v\n        minSV = new SemVer(min, options)\n      }\n    }\n  })\n  return min\n}\nmodule.exports = minSatisfying\n","const SemVer = require('../classes/semver')\nconst Range = require('../classes/range')\nconst gt = require('../functions/gt')\n\nconst minVersion = (range, loose) => {\n  range = new Range(range, loose)\n\n  let minver = new SemVer('0.0.0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = new SemVer('0.0.0-0')\n  if (range.test(minver)) {\n    return minver\n  }\n\n  minver = null\n  for (let i = 0; i < range.set.length; ++i) {\n    const comparators = range.set[i]\n\n    let setMin = null\n    comparators.forEach((comparator) => {\n      // Clone to avoid manipulating the comparator's semver object.\n      const compver = new SemVer(comparator.semver.version)\n      switch (comparator.operator) {\n        case '>':\n          if (compver.prerelease.length === 0) {\n            compver.patch++\n          } else {\n            compver.prerelease.push(0)\n          }\n          compver.raw = compver.format()\n          /* fallthrough */\n        case '':\n        case '>=':\n          if (!setMin || gt(compver, setMin)) {\n            setMin = compver\n          }\n          break\n        case '<':\n        case '<=':\n          /* Ignore maximum versions */\n          break\n        /* istanbul ignore next */\n        default:\n          throw new Error(`Unexpected operation: ${comparator.operator}`)\n      }\n    })\n    if (setMin && (!minver || gt(minver, setMin)))\n      minver = setMin\n  }\n\n  if (minver && range.test(minver)) {\n    return minver\n  }\n\n  return null\n}\nmodule.exports = minVersion\n","const SemVer = require('../classes/semver')\nconst Comparator = require('../classes/comparator')\nconst {ANY} = Comparator\nconst Range = require('../classes/range')\nconst satisfies = require('../functions/satisfies')\nconst gt = require('../functions/gt')\nconst lt = require('../functions/lt')\nconst lte = require('../functions/lte')\nconst gte = require('../functions/gte')\n\nconst outside = (version, range, hilo, options) => {\n  version = new SemVer(version, options)\n  range = new Range(range, options)\n\n  let gtfn, ltefn, ltfn, comp, ecomp\n  switch (hilo) {\n    case '>':\n      gtfn = gt\n      ltefn = lte\n      ltfn = lt\n      comp = '>'\n      ecomp = '>='\n      break\n    case '<':\n      gtfn = lt\n      ltefn = gte\n      ltfn = gt\n      comp = '<'\n      ecomp = '<='\n      break\n    default:\n      throw new TypeError('Must provide a hilo val of \"<\" or \">\"')\n  }\n\n  // If it satisfies the range it is not outside\n  if (satisfies(version, range, options)) {\n    return false\n  }\n\n  // From now on, variable terms are as if we're in \"gtr\" mode.\n  // but note that everything is flipped for the \"ltr\" function.\n\n  for (let i = 0; i < range.set.length; ++i) {\n    const comparators = range.set[i]\n\n    let high = null\n    let low = null\n\n    comparators.forEach((comparator) => {\n      if (comparator.semver === ANY) {\n        comparator = new Comparator('>=0.0.0')\n      }\n      high = high || comparator\n      low = low || comparator\n      if (gtfn(comparator.semver, high.semver, options)) {\n        high = comparator\n      } else if (ltfn(comparator.semver, low.semver, options)) {\n        low = comparator\n      }\n    })\n\n    // If the edge version comparator has a operator then our version\n    // isn't outside it\n    if (high.operator === comp || high.operator === ecomp) {\n      return false\n    }\n\n    // If the lowest version comparator has an operator and our version\n    // is less than it then it isn't higher than the range\n    if ((!low.operator || low.operator === comp) &&\n        ltefn(version, low.semver)) {\n      return false\n    } else if (low.operator === ecomp && ltfn(version, low.semver)) {\n      return false\n    }\n  }\n  return true\n}\n\nmodule.exports = outside\n","// given a set of versions and a range, create a \"simplified\" range\n// that includes the same versions that the original range does\n// If the original range is shorter than the simplified one, return that.\nconst satisfies = require('../functions/satisfies.js')\nconst compare = require('../functions/compare.js')\nmodule.exports = (versions, range, options) => {\n  const set = []\n  let min = null\n  let prev = null\n  const v = versions.sort((a, b) => compare(a, b, options))\n  for (const version of v) {\n    const included = satisfies(version, range, options)\n    if (included) {\n      prev = version\n      if (!min)\n        min = version\n    } else {\n      if (prev) {\n        set.push([min, prev])\n      }\n      prev = null\n      min = null\n    }\n  }\n  if (min)\n    set.push([min, null])\n\n  const ranges = []\n  for (const [min, max] of set) {\n    if (min === max)\n      ranges.push(min)\n    else if (!max && min === v[0])\n      ranges.push('*')\n    else if (!max)\n      ranges.push(`>=${min}`)\n    else if (min === v[0])\n      ranges.push(`<=${max}`)\n    else\n      ranges.push(`${min} - ${max}`)\n  }\n  const simplified = ranges.join(' || ')\n  const original = typeof range.raw === 'string' ? range.raw : String(range)\n  return simplified.length < original.length ? simplified : range\n}\n","const Range = require('../classes/range.js')\nconst Comparator = require('../classes/comparator.js')\nconst { ANY } = Comparator\nconst satisfies = require('../functions/satisfies.js')\nconst compare = require('../functions/compare.js')\n\n// Complex range `r1 || r2 || ...` is a subset of `R1 || R2 || ...` iff:\n// - Every simple range `r1, r2, ...` is a null set, OR\n// - Every simple range `r1, r2, ...` which is not a null set is a subset of\n//   some `R1, R2, ...`\n//\n// Simple range `c1 c2 ...` is a subset of simple range `C1 C2 ...` iff:\n// - If c is only the ANY comparator\n//   - If C is only the ANY comparator, return true\n//   - Else if in prerelease mode, return false\n//   - else replace c with `[>=0.0.0]`\n// - If C is only the ANY comparator\n//   - if in prerelease mode, return true\n//   - else replace C with `[>=0.0.0]`\n// - Let EQ be the set of = comparators in c\n// - If EQ is more than one, return true (null set)\n// - Let GT be the highest > or >= comparator in c\n// - Let LT be the lowest < or <= comparator in c\n// - If GT and LT, and GT.semver > LT.semver, return true (null set)\n// - If any C is a = range, and GT or LT are set, return false\n// - If EQ\n//   - If GT, and EQ does not satisfy GT, return true (null set)\n//   - If LT, and EQ does not satisfy LT, return true (null set)\n//   - If EQ satisfies every C, return true\n//   - Else return false\n// - If GT\n//   - If GT.semver is lower than any > or >= comp in C, return false\n//   - If GT is >=, and GT.semver does not satisfy every C, return false\n//   - If GT.semver has a prerelease, and not in prerelease mode\n//     - If no C has a prerelease and the GT.semver tuple, return false\n// - If LT\n//   - If LT.semver is greater than any < or <= comp in C, return false\n//   - If LT is <=, and LT.semver does not satisfy every C, return false\n//   - If GT.semver has a prerelease, and not in prerelease mode\n//     - If no C has a prerelease and the LT.semver tuple, return false\n// - Else return true\n\nconst subset = (sub, dom, options = {}) => {\n  if (sub === dom)\n    return true\n\n  sub = new Range(sub, options)\n  dom = new Range(dom, options)\n  let sawNonNull = false\n\n  OUTER: for (const simpleSub of sub.set) {\n    for (const simpleDom of dom.set) {\n      const isSub = simpleSubset(simpleSub, simpleDom, options)\n      sawNonNull = sawNonNull || isSub !== null\n      if (isSub)\n        continue OUTER\n    }\n    // the null set is a subset of everything, but null simple ranges in\n    // a complex range should be ignored.  so if we saw a non-null range,\n    // then we know this isn't a subset, but if EVERY simple range was null,\n    // then it is a subset.\n    if (sawNonNull)\n      return false\n  }\n  return true\n}\n\nconst simpleSubset = (sub, dom, options) => {\n  if (sub === dom)\n    return true\n\n  if (sub.length === 1 && sub[0].semver === ANY) {\n    if (dom.length === 1 && dom[0].semver === ANY)\n      return true\n    else if (options.includePrerelease)\n      sub = [ new Comparator('>=0.0.0-0') ]\n    else\n      sub = [ new Comparator('>=0.0.0') ]\n  }\n\n  if (dom.length === 1 && dom[0].semver === ANY) {\n    if (options.includePrerelease)\n      return true\n    else\n      dom = [ new Comparator('>=0.0.0') ]\n  }\n\n  const eqSet = new Set()\n  let gt, lt\n  for (const c of sub) {\n    if (c.operator === '>' || c.operator === '>=')\n      gt = higherGT(gt, c, options)\n    else if (c.operator === '<' || c.operator === '<=')\n      lt = lowerLT(lt, c, options)\n    else\n      eqSet.add(c.semver)\n  }\n\n  if (eqSet.size > 1)\n    return null\n\n  let gtltComp\n  if (gt && lt) {\n    gtltComp = compare(gt.semver, lt.semver, options)\n    if (gtltComp > 0)\n      return null\n    else if (gtltComp === 0 && (gt.operator !== '>=' || lt.operator !== '<='))\n      return null\n  }\n\n  // will iterate one or zero times\n  for (const eq of eqSet) {\n    if (gt && !satisfies(eq, String(gt), options))\n      return null\n\n    if (lt && !satisfies(eq, String(lt), options))\n      return null\n\n    for (const c of dom) {\n      if (!satisfies(eq, String(c), options))\n        return false\n    }\n\n    return true\n  }\n\n  let higher, lower\n  let hasDomLT, hasDomGT\n  // if the subset has a prerelease, we need a comparator in the superset\n  // with the same tuple and a prerelease, or it's not a subset\n  let needDomLTPre = lt &&\n    !options.includePrerelease &&\n    lt.semver.prerelease.length ? lt.semver : false\n  let needDomGTPre = gt &&\n    !options.includePrerelease &&\n    gt.semver.prerelease.length ? gt.semver : false\n  // exception: <1.2.3-0 is the same as <1.2.3\n  if (needDomLTPre && needDomLTPre.prerelease.length === 1 &&\n      lt.operator === '<' && needDomLTPre.prerelease[0] === 0) {\n    needDomLTPre = false\n  }\n\n  for (const c of dom) {\n    hasDomGT = hasDomGT || c.operator === '>' || c.operator === '>='\n    hasDomLT = hasDomLT || c.operator === '<' || c.operator === '<='\n    if (gt) {\n      if (needDomGTPre) {\n        if (c.semver.prerelease && c.semver.prerelease.length &&\n            c.semver.major === needDomGTPre.major &&\n            c.semver.minor === needDomGTPre.minor &&\n            c.semver.patch === needDomGTPre.patch) {\n          needDomGTPre = false\n        }\n      }\n      if (c.operator === '>' || c.operator === '>=') {\n        higher = higherGT(gt, c, options)\n        if (higher === c && higher !== gt)\n          return false\n      } else if (gt.operator === '>=' && !satisfies(gt.semver, String(c), options))\n        return false\n    }\n    if (lt) {\n      if (needDomLTPre) {\n        if (c.semver.prerelease && c.semver.prerelease.length &&\n            c.semver.major === needDomLTPre.major &&\n            c.semver.minor === needDomLTPre.minor &&\n            c.semver.patch === needDomLTPre.patch) {\n          needDomLTPre = false\n        }\n      }\n      if (c.operator === '<' || c.operator === '<=') {\n        lower = lowerLT(lt, c, options)\n        if (lower === c && lower !== lt)\n          return false\n      } else if (lt.operator === '<=' && !satisfies(lt.semver, String(c), options))\n        return false\n    }\n    if (!c.operator && (lt || gt) && gtltComp !== 0)\n      return false\n  }\n\n  // if there was a < or >, and nothing in the dom, then must be false\n  // UNLESS it was limited by another range in the other direction.\n  // Eg, >1.0.0 <1.0.1 is still a subset of <2.0.0\n  if (gt && hasDomLT && !lt && gtltComp !== 0)\n    return false\n\n  if (lt && hasDomGT && !gt && gtltComp !== 0)\n    return false\n\n  // we needed a prerelease range in a specific tuple, but didn't get one\n  // then this isn't a subset.  eg >=1.2.3-pre is not a subset of >=1.0.0,\n  // because it includes prereleases in the 1.2.3 tuple\n  if (needDomGTPre || needDomLTPre)\n    return false\n\n  return true\n}\n\n// >=1.2.3 is lower than >1.2.3\nconst higherGT = (a, b, options) => {\n  if (!a)\n    return b\n  const comp = compare(a.semver, b.semver, options)\n  return comp > 0 ? a\n    : comp < 0 ? b\n    : b.operator === '>' && a.operator === '>=' ? b\n    : a\n}\n\n// <=1.2.3 is higher than <1.2.3\nconst lowerLT = (a, b, options) => {\n  if (!a)\n    return b\n  const comp = compare(a.semver, b.semver, options)\n  return comp < 0 ? a\n    : comp > 0 ? b\n    : b.operator === '<' && a.operator === '<=' ? b\n    : a\n}\n\nmodule.exports = subset\n","const Range = require('../classes/range')\n\n// Mostly just for testing and legacy API reasons\nconst toComparators = (range, options) =>\n  new Range(range, options).set\n    .map(comp => comp.map(c => c.value).join(' ').trim().split(' '))\n\nmodule.exports = toComparators\n","const Range = require('../classes/range')\nconst validRange = (range, options) => {\n  try {\n    // Return '*' instead of '' so that truthiness works.\n    // This will throw if it's invalid anyway\n    return new Range(range, options).range || '*'\n  } catch (er) {\n    return null\n  }\n}\nmodule.exports = validRange\n","'use strict';\nconst shebangRegex = require('shebang-regex');\n\nmodule.exports = (string = '') => {\n\tconst match = string.match(shebangRegex);\n\n\tif (!match) {\n\t\treturn null;\n\t}\n\n\tconst [path, argument] = match[0].replace(/#! ?/, '').split(' ');\n\tconst binary = path.split('/').pop();\n\n\tif (binary === 'env') {\n\t\treturn argument;\n\t}\n\n\treturn argument ? `${binary} ${argument}` : binary;\n};\n","'use strict';\nmodule.exports = /^#!(.*)/;\n",";/*! showdown v 1.9.1 - 02-11-2019 */\r\n(function(){\r\n/**\n * Created by Tivie on 13-07-2015.\n */\n\nfunction getDefaultOpts (simple) {\n  'use strict';\n\n  var defaultOptions = {\n    omitExtraWLInCodeBlocks: {\n      defaultValue: false,\n      describe: 'Omit the default extra whiteline added to code blocks',\n      type: 'boolean'\n    },\n    noHeaderId: {\n      defaultValue: false,\n      describe: 'Turn on/off generated header id',\n      type: 'boolean'\n    },\n    prefixHeaderId: {\n      defaultValue: false,\n      describe: 'Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic \\'section-\\' prefix',\n      type: 'string'\n    },\n    rawPrefixHeaderId: {\n      defaultValue: false,\n      describe: 'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the \" char is used in the prefix)',\n      type: 'boolean'\n    },\n    ghCompatibleHeaderId: {\n      defaultValue: false,\n      describe: 'Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)',\n      type: 'boolean'\n    },\n    rawHeaderId: {\n      defaultValue: false,\n      describe: 'Remove only spaces, \\' and \" from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids',\n      type: 'boolean'\n    },\n    headerLevelStart: {\n      defaultValue: false,\n      describe: 'The header blocks level start',\n      type: 'integer'\n    },\n    parseImgDimensions: {\n      defaultValue: false,\n      describe: 'Turn on/off image dimension parsing',\n      type: 'boolean'\n    },\n    simplifiedAutoLink: {\n      defaultValue: false,\n      describe: 'Turn on/off GFM autolink style',\n      type: 'boolean'\n    },\n    excludeTrailingPunctuationFromURLs: {\n      defaultValue: false,\n      describe: 'Excludes trailing punctuation from links generated with autoLinking',\n      type: 'boolean'\n    },\n    literalMidWordUnderscores: {\n      defaultValue: false,\n      describe: 'Parse midword underscores as literal underscores',\n      type: 'boolean'\n    },\n    literalMidWordAsterisks: {\n      defaultValue: false,\n      describe: 'Parse midword asterisks as literal asterisks',\n      type: 'boolean'\n    },\n    strikethrough: {\n      defaultValue: false,\n      describe: 'Turn on/off strikethrough support',\n      type: 'boolean'\n    },\n    tables: {\n      defaultValue: false,\n      describe: 'Turn on/off tables support',\n      type: 'boolean'\n    },\n    tablesHeaderId: {\n      defaultValue: false,\n      describe: 'Add an id to table headers',\n      type: 'boolean'\n    },\n    ghCodeBlocks: {\n      defaultValue: true,\n      describe: 'Turn on/off GFM fenced code blocks support',\n      type: 'boolean'\n    },\n    tasklists: {\n      defaultValue: false,\n      describe: 'Turn on/off GFM tasklist support',\n      type: 'boolean'\n    },\n    smoothLivePreview: {\n      defaultValue: false,\n      describe: 'Prevents weird effects in live previews due to incomplete input',\n      type: 'boolean'\n    },\n    smartIndentationFix: {\n      defaultValue: false,\n      description: 'Tries to smartly fix indentation in es6 strings',\n      type: 'boolean'\n    },\n    disableForced4SpacesIndentedSublists: {\n      defaultValue: false,\n      description: 'Disables the requirement of indenting nested sublists by 4 spaces',\n      type: 'boolean'\n    },\n    simpleLineBreaks: {\n      defaultValue: false,\n      description: 'Parses simple line breaks as <br> (GFM Style)',\n      type: 'boolean'\n    },\n    requireSpaceBeforeHeadingText: {\n      defaultValue: false,\n      description: 'Makes adding a space between `#` and the header text mandatory (GFM Style)',\n      type: 'boolean'\n    },\n    ghMentions: {\n      defaultValue: false,\n      description: 'Enables github @mentions',\n      type: 'boolean'\n    },\n    ghMentionsLink: {\n      defaultValue: 'https://github.com/{u}',\n      description: 'Changes the link generated by @mentions. Only applies if ghMentions option is enabled.',\n      type: 'string'\n    },\n    encodeEmails: {\n      defaultValue: true,\n      description: 'Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities',\n      type: 'boolean'\n    },\n    openLinksInNewWindow: {\n      defaultValue: false,\n      description: 'Open all links in new windows',\n      type: 'boolean'\n    },\n    backslashEscapesHTMLTags: {\n      defaultValue: false,\n      description: 'Support for HTML Tag escaping. ex: \\<div>foo\\</div>',\n      type: 'boolean'\n    },\n    emoji: {\n      defaultValue: false,\n      description: 'Enable emoji support. Ex: `this is a :smile: emoji`',\n      type: 'boolean'\n    },\n    underline: {\n      defaultValue: false,\n      description: 'Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`',\n      type: 'boolean'\n    },\n    completeHTMLDocument: {\n      defaultValue: false,\n      description: 'Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags',\n      type: 'boolean'\n    },\n    metadata: {\n      defaultValue: false,\n      description: 'Enable support for document metadata (defined at the top of the document between `` and `` or between `---` and `---`).',\n      type: 'boolean'\n    },\n    splitAdjacentBlockquotes: {\n      defaultValue: false,\n      description: 'Split adjacent blockquote blocks',\n      type: 'boolean'\n    }\n  };\n  if (simple === false) {\n    return JSON.parse(JSON.stringify(defaultOptions));\n  }\n  var ret = {};\n  for (var opt in defaultOptions) {\n    if (defaultOptions.hasOwnProperty(opt)) {\n      ret[opt] = defaultOptions[opt].defaultValue;\n    }\n  }\n  return ret;\n}\n\nfunction allOptionsOn () {\n  'use strict';\n  var options = getDefaultOpts(true),\n      ret = {};\n  for (var opt in options) {\n    if (options.hasOwnProperty(opt)) {\n      ret[opt] = true;\n    }\n  }\n  return ret;\n}\n\r\n/**\n * Created by Tivie on 06-01-2015.\n */\n\n// Private properties\nvar showdown = {},\n    parsers = {},\n    extensions = {},\n    globalOptions = getDefaultOpts(true),\n    setFlavor = 'vanilla',\n    flavor = {\n      github: {\n        omitExtraWLInCodeBlocks:              true,\n        simplifiedAutoLink:                   true,\n        excludeTrailingPunctuationFromURLs:   true,\n        literalMidWordUnderscores:            true,\n        strikethrough:                        true,\n        tables:                               true,\n        tablesHeaderId:                       true,\n        ghCodeBlocks:                         true,\n        tasklists:                            true,\n        disableForced4SpacesIndentedSublists: true,\n        simpleLineBreaks:                     true,\n        requireSpaceBeforeHeadingText:        true,\n        ghCompatibleHeaderId:                 true,\n        ghMentions:                           true,\n        backslashEscapesHTMLTags:             true,\n        emoji:                                true,\n        splitAdjacentBlockquotes:             true\n      },\n      original: {\n        noHeaderId:                           true,\n        ghCodeBlocks:                         false\n      },\n      ghost: {\n        omitExtraWLInCodeBlocks:              true,\n        parseImgDimensions:                   true,\n        simplifiedAutoLink:                   true,\n        excludeTrailingPunctuationFromURLs:   true,\n        literalMidWordUnderscores:            true,\n        strikethrough:                        true,\n        tables:                               true,\n        tablesHeaderId:                       true,\n        ghCodeBlocks:                         true,\n        tasklists:                            true,\n        smoothLivePreview:                    true,\n        simpleLineBreaks:                     true,\n        requireSpaceBeforeHeadingText:        true,\n        ghMentions:                           false,\n        encodeEmails:                         true\n      },\n      vanilla: getDefaultOpts(true),\n      allOn: allOptionsOn()\n    };\n\n/**\n * helper namespace\n * @type {{}}\n */\nshowdown.helper = {};\n\n/**\n * TODO LEGACY SUPPORT CODE\n * @type {{}}\n */\nshowdown.extensions = {};\n\n/**\n * Set a global option\n * @static\n * @param {string} key\n * @param {*} value\n * @returns {showdown}\n */\nshowdown.setOption = function (key, value) {\n  'use strict';\n  globalOptions[key] = value;\n  return this;\n};\n\n/**\n * Get a global option\n * @static\n * @param {string} key\n * @returns {*}\n */\nshowdown.getOption = function (key) {\n  'use strict';\n  return globalOptions[key];\n};\n\n/**\n * Get the global options\n * @static\n * @returns {{}}\n */\nshowdown.getOptions = function () {\n  'use strict';\n  return globalOptions;\n};\n\n/**\n * Reset global options to the default values\n * @static\n */\nshowdown.resetOptions = function () {\n  'use strict';\n  globalOptions = getDefaultOpts(true);\n};\n\n/**\n * Set the flavor showdown should use as default\n * @param {string} name\n */\nshowdown.setFlavor = function (name) {\n  'use strict';\n  if (!flavor.hasOwnProperty(name)) {\n    throw Error(name + ' flavor was not found');\n  }\n  showdown.resetOptions();\n  var preset = flavor[name];\n  setFlavor = name;\n  for (var option in preset) {\n    if (preset.hasOwnProperty(option)) {\n      globalOptions[option] = preset[option];\n    }\n  }\n};\n\n/**\n * Get the currently set flavor\n * @returns {string}\n */\nshowdown.getFlavor = function () {\n  'use strict';\n  return setFlavor;\n};\n\n/**\n * Get the options of a specified flavor. Returns undefined if the flavor was not found\n * @param {string} name Name of the flavor\n * @returns {{}|undefined}\n */\nshowdown.getFlavorOptions = function (name) {\n  'use strict';\n  if (flavor.hasOwnProperty(name)) {\n    return flavor[name];\n  }\n};\n\n/**\n * Get the default options\n * @static\n * @param {boolean} [simple=true]\n * @returns {{}}\n */\nshowdown.getDefaultOptions = function (simple) {\n  'use strict';\n  return getDefaultOpts(simple);\n};\n\n/**\n * Get or set a subParser\n *\n * subParser(name)       - Get a registered subParser\n * subParser(name, func) - Register a subParser\n * @static\n * @param {string} name\n * @param {function} [func]\n * @returns {*}\n */\nshowdown.subParser = function (name, func) {\n  'use strict';\n  if (showdown.helper.isString(name)) {\n    if (typeof func !== 'undefined') {\n      parsers[name] = func;\n    } else {\n      if (parsers.hasOwnProperty(name)) {\n        return parsers[name];\n      } else {\n        throw Error('SubParser named ' + name + ' not registered!');\n      }\n    }\n  }\n};\n\n/**\n * Gets or registers an extension\n * @static\n * @param {string} name\n * @param {object|function=} ext\n * @returns {*}\n */\nshowdown.extension = function (name, ext) {\n  'use strict';\n\n  if (!showdown.helper.isString(name)) {\n    throw Error('Extension \\'name\\' must be a string');\n  }\n\n  name = showdown.helper.stdExtName(name);\n\n  // Getter\n  if (showdown.helper.isUndefined(ext)) {\n    if (!extensions.hasOwnProperty(name)) {\n      throw Error('Extension named ' + name + ' is not registered!');\n    }\n    return extensions[name];\n\n    // Setter\n  } else {\n    // Expand extension if it's wrapped in a function\n    if (typeof ext === 'function') {\n      ext = ext();\n    }\n\n    // Ensure extension is an array\n    if (!showdown.helper.isArray(ext)) {\n      ext = [ext];\n    }\n\n    var validExtension = validate(ext, name);\n\n    if (validExtension.valid) {\n      extensions[name] = ext;\n    } else {\n      throw Error(validExtension.error);\n    }\n  }\n};\n\n/**\n * Gets all extensions registered\n * @returns {{}}\n */\nshowdown.getAllExtensions = function () {\n  'use strict';\n  return extensions;\n};\n\n/**\n * Remove an extension\n * @param {string} name\n */\nshowdown.removeExtension = function (name) {\n  'use strict';\n  delete extensions[name];\n};\n\n/**\n * Removes all extensions\n */\nshowdown.resetExtensions = function () {\n  'use strict';\n  extensions = {};\n};\n\n/**\n * Validate extension\n * @param {array} extension\n * @param {string} name\n * @returns {{valid: boolean, error: string}}\n */\nfunction validate (extension, name) {\n  'use strict';\n\n  var errMsg = (name) ? 'Error in ' + name + ' extension->' : 'Error in unnamed extension',\n      ret = {\n        valid: true,\n        error: ''\n      };\n\n  if (!showdown.helper.isArray(extension)) {\n    extension = [extension];\n  }\n\n  for (var i = 0; i < extension.length; ++i) {\n    var baseMsg = errMsg + ' sub-extension ' + i + ': ',\n        ext = extension[i];\n    if (typeof ext !== 'object') {\n      ret.valid = false;\n      ret.error = baseMsg + 'must be an object, but ' + typeof ext + ' given';\n      return ret;\n    }\n\n    if (!showdown.helper.isString(ext.type)) {\n      ret.valid = false;\n      ret.error = baseMsg + 'property \"type\" must be a string, but ' + typeof ext.type + ' given';\n      return ret;\n    }\n\n    var type = ext.type = ext.type.toLowerCase();\n\n    // normalize extension type\n    if (type === 'language') {\n      type = ext.type = 'lang';\n    }\n\n    if (type === 'html') {\n      type = ext.type = 'output';\n    }\n\n    if (type !== 'lang' && type !== 'output' && type !== 'listener') {\n      ret.valid = false;\n      ret.error = baseMsg + 'type ' + type + ' is not recognized. Valid values: \"lang/language\", \"output/html\" or \"listener\"';\n      return ret;\n    }\n\n    if (type === 'listener') {\n      if (showdown.helper.isUndefined(ext.listeners)) {\n        ret.valid = false;\n        ret.error = baseMsg + '. Extensions of type \"listener\" must have a property called \"listeners\"';\n        return ret;\n      }\n    } else {\n      if (showdown.helper.isUndefined(ext.filter) && showdown.helper.isUndefined(ext.regex)) {\n        ret.valid = false;\n        ret.error = baseMsg + type + ' extensions must define either a \"regex\" property or a \"filter\" method';\n        return ret;\n      }\n    }\n\n    if (ext.listeners) {\n      if (typeof ext.listeners !== 'object') {\n        ret.valid = false;\n        ret.error = baseMsg + '\"listeners\" property must be an object but ' + typeof ext.listeners + ' given';\n        return ret;\n      }\n      for (var ln in ext.listeners) {\n        if (ext.listeners.hasOwnProperty(ln)) {\n          if (typeof ext.listeners[ln] !== 'function') {\n            ret.valid = false;\n            ret.error = baseMsg + '\"listeners\" property must be an hash of [event name]: [callback]. listeners.' + ln +\n              ' must be a function but ' + typeof ext.listeners[ln] + ' given';\n            return ret;\n          }\n        }\n      }\n    }\n\n    if (ext.filter) {\n      if (typeof ext.filter !== 'function') {\n        ret.valid = false;\n        ret.error = baseMsg + '\"filter\" must be a function, but ' + typeof ext.filter + ' given';\n        return ret;\n      }\n    } else if (ext.regex) {\n      if (showdown.helper.isString(ext.regex)) {\n        ext.regex = new RegExp(ext.regex, 'g');\n      }\n      if (!(ext.regex instanceof RegExp)) {\n        ret.valid = false;\n        ret.error = baseMsg + '\"regex\" property must either be a string or a RegExp object, but ' + typeof ext.regex + ' given';\n        return ret;\n      }\n      if (showdown.helper.isUndefined(ext.replace)) {\n        ret.valid = false;\n        ret.error = baseMsg + '\"regex\" extensions must implement a replace string or function';\n        return ret;\n      }\n    }\n  }\n  return ret;\n}\n\n/**\n * Validate extension\n * @param {object} ext\n * @returns {boolean}\n */\nshowdown.validateExtension = function (ext) {\n  'use strict';\n\n  var validateExtension = validate(ext, null);\n  if (!validateExtension.valid) {\n    console.warn(validateExtension.error);\n    return false;\n  }\n  return true;\n};\n\r\n/**\n * showdownjs helper functions\n */\n\nif (!showdown.hasOwnProperty('helper')) {\n  showdown.helper = {};\n}\n\n/**\n * Check if var is string\n * @static\n * @param {string} a\n * @returns {boolean}\n */\nshowdown.helper.isString = function (a) {\n  'use strict';\n  return (typeof a === 'string' || a instanceof String);\n};\n\n/**\n * Check if var is a function\n * @static\n * @param {*} a\n * @returns {boolean}\n */\nshowdown.helper.isFunction = function (a) {\n  'use strict';\n  var getType = {};\n  return a && getType.toString.call(a) === '[object Function]';\n};\n\n/**\n * isArray helper function\n * @static\n * @param {*} a\n * @returns {boolean}\n */\nshowdown.helper.isArray = function (a) {\n  'use strict';\n  return Array.isArray(a);\n};\n\n/**\n * Check if value is undefined\n * @static\n * @param {*} value The value to check.\n * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\n */\nshowdown.helper.isUndefined = function (value) {\n  'use strict';\n  return typeof value === 'undefined';\n};\n\n/**\n * ForEach helper function\n * Iterates over Arrays and Objects (own properties only)\n * @static\n * @param {*} obj\n * @param {function} callback Accepts 3 params: 1. value, 2. key, 3. the original array/object\n */\nshowdown.helper.forEach = function (obj, callback) {\n  'use strict';\n  // check if obj is defined\n  if (showdown.helper.isUndefined(obj)) {\n    throw new Error('obj param is required');\n  }\n\n  if (showdown.helper.isUndefined(callback)) {\n    throw new Error('callback param is required');\n  }\n\n  if (!showdown.helper.isFunction(callback)) {\n    throw new Error('callback param must be a function/closure');\n  }\n\n  if (typeof obj.forEach === 'function') {\n    obj.forEach(callback);\n  } else if (showdown.helper.isArray(obj)) {\n    for (var i = 0; i < obj.length; i++) {\n      callback(obj[i], i, obj);\n    }\n  } else if (typeof (obj) === 'object') {\n    for (var prop in obj) {\n      if (obj.hasOwnProperty(prop)) {\n        callback(obj[prop], prop, obj);\n      }\n    }\n  } else {\n    throw new Error('obj does not seem to be an array or an iterable object');\n  }\n};\n\n/**\n * Standardidize extension name\n * @static\n * @param {string} s extension name\n * @returns {string}\n */\nshowdown.helper.stdExtName = function (s) {\n  'use strict';\n  return s.replace(/[_?*+\\/\\\\.^-]/g, '').replace(/\\s/g, '').toLowerCase();\n};\n\nfunction escapeCharactersCallback (wholeMatch, m1) {\n  'use strict';\n  var charCodeToEscape = m1.charCodeAt(0);\n  return 'E' + charCodeToEscape + 'E';\n}\n\n/**\n * Callback used to escape characters when passing through String.replace\n * @static\n * @param {string} wholeMatch\n * @param {string} m1\n * @returns {string}\n */\nshowdown.helper.escapeCharactersCallback = escapeCharactersCallback;\n\n/**\n * Escape characters in a string\n * @static\n * @param {string} text\n * @param {string} charsToEscape\n * @param {boolean} afterBackslash\n * @returns {XML|string|void|*}\n */\nshowdown.helper.escapeCharacters = function (text, charsToEscape, afterBackslash) {\n  'use strict';\n  // First we have to escape the escape characters so that\n  // we can build a character class out of them\n  var regexString = '([' + charsToEscape.replace(/([\\[\\]\\\\])/g, '\\\\$1') + '])';\n\n  if (afterBackslash) {\n    regexString = '\\\\\\\\' + regexString;\n  }\n\n  var regex = new RegExp(regexString, 'g');\n  text = text.replace(regex, escapeCharactersCallback);\n\n  return text;\n};\n\n/**\n * Unescape HTML entities\n * @param txt\n * @returns {string}\n */\nshowdown.helper.unescapeHTMLEntities = function (txt) {\n  'use strict';\n\n  return txt\n    .replace(/&quot;/g, '\"')\n    .replace(/&lt;/g, '<')\n    .replace(/&gt;/g, '>')\n    .replace(/&amp;/g, '&');\n};\n\nvar rgxFindMatchPos = function (str, left, right, flags) {\n  'use strict';\n  var f = flags || '',\n      g = f.indexOf('g') > -1,\n      x = new RegExp(left + '|' + right, 'g' + f.replace(/g/g, '')),\n      l = new RegExp(left, f.replace(/g/g, '')),\n      pos = [],\n      t, s, m, start, end;\n\n  do {\n    t = 0;\n    while ((m = x.exec(str))) {\n      if (l.test(m[0])) {\n        if (!(t++)) {\n          s = x.lastIndex;\n          start = s - m[0].length;\n        }\n      } else if (t) {\n        if (!--t) {\n          end = m.index + m[0].length;\n          var obj = {\n            left: {start: start, end: s},\n            match: {start: s, end: m.index},\n            right: {start: m.index, end: end},\n            wholeMatch: {start: start, end: end}\n          };\n          pos.push(obj);\n          if (!g) {\n            return pos;\n          }\n        }\n      }\n    }\n  } while (t && (x.lastIndex = s));\n\n  return pos;\n};\n\n/**\n * matchRecursiveRegExp\n *\n * (c) 2007 Steven Levithan <stevenlevithan.com>\n * MIT License\n *\n * Accepts a string to search, a left and right format delimiter\n * as regex patterns, and optional regex flags. Returns an array\n * of matches, allowing nested instances of left/right delimiters.\n * Use the \"g\" flag to return all matches, otherwise only the\n * first is returned. Be careful to ensure that the left and\n * right format delimiters produce mutually exclusive matches.\n * Backreferences are not supported within the right delimiter\n * due to how it is internally combined with the left delimiter.\n * When matching strings whose format delimiters are unbalanced\n * to the left or right, the output is intentionally as a\n * conventional regex library with recursion support would\n * produce, e.g. \"<<x>\" and \"<x>>\" both produce [\"x\"] when using\n * \"<\" and \">\" as the delimiters (both strings contain a single,\n * balanced instance of \"<x>\").\n *\n * examples:\n * matchRecursiveRegExp(\"test\", \"\\\\(\", \"\\\\)\")\n * returns: []\n * matchRecursiveRegExp(\"<t<<e>><s>>t<>\", \"<\", \">\", \"g\")\n * returns: [\"t<<e>><s>\", \"\"]\n * matchRecursiveRegExp(\"<div id=\\\"x\\\">test</div>\", \"<div\\\\b[^>]*>\", \"</div>\", \"gi\")\n * returns: [\"test\"]\n */\nshowdown.helper.matchRecursiveRegExp = function (str, left, right, flags) {\n  'use strict';\n\n  var matchPos = rgxFindMatchPos (str, left, right, flags),\n      results = [];\n\n  for (var i = 0; i < matchPos.length; ++i) {\n    results.push([\n      str.slice(matchPos[i].wholeMatch.start, matchPos[i].wholeMatch.end),\n      str.slice(matchPos[i].match.start, matchPos[i].match.end),\n      str.slice(matchPos[i].left.start, matchPos[i].left.end),\n      str.slice(matchPos[i].right.start, matchPos[i].right.end)\n    ]);\n  }\n  return results;\n};\n\n/**\n *\n * @param {string} str\n * @param {string|function} replacement\n * @param {string} left\n * @param {string} right\n * @param {string} flags\n * @returns {string}\n */\nshowdown.helper.replaceRecursiveRegExp = function (str, replacement, left, right, flags) {\n  'use strict';\n\n  if (!showdown.helper.isFunction(replacement)) {\n    var repStr = replacement;\n    replacement = function () {\n      return repStr;\n    };\n  }\n\n  var matchPos = rgxFindMatchPos(str, left, right, flags),\n      finalStr = str,\n      lng = matchPos.length;\n\n  if (lng > 0) {\n    var bits = [];\n    if (matchPos[0].wholeMatch.start !== 0) {\n      bits.push(str.slice(0, matchPos[0].wholeMatch.start));\n    }\n    for (var i = 0; i < lng; ++i) {\n      bits.push(\n        replacement(\n          str.slice(matchPos[i].wholeMatch.start, matchPos[i].wholeMatch.end),\n          str.slice(matchPos[i].match.start, matchPos[i].match.end),\n          str.slice(matchPos[i].left.start, matchPos[i].left.end),\n          str.slice(matchPos[i].right.start, matchPos[i].right.end)\n        )\n      );\n      if (i < lng - 1) {\n        bits.push(str.slice(matchPos[i].wholeMatch.end, matchPos[i + 1].wholeMatch.start));\n      }\n    }\n    if (matchPos[lng - 1].wholeMatch.end < str.length) {\n      bits.push(str.slice(matchPos[lng - 1].wholeMatch.end));\n    }\n    finalStr = bits.join('');\n  }\n  return finalStr;\n};\n\n/**\n * Returns the index within the passed String object of the first occurrence of the specified regex,\n * starting the search at fromIndex. Returns -1 if the value is not found.\n *\n * @param {string} str string to search\n * @param {RegExp} regex Regular expression to search\n * @param {int} [fromIndex = 0] Index to start the search\n * @returns {Number}\n * @throws InvalidArgumentError\n */\nshowdown.helper.regexIndexOf = function (str, regex, fromIndex) {\n  'use strict';\n  if (!showdown.helper.isString(str)) {\n    throw 'InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string';\n  }\n  if (regex instanceof RegExp === false) {\n    throw 'InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp';\n  }\n  var indexOf = str.substring(fromIndex || 0).search(regex);\n  return (indexOf >= 0) ? (indexOf + (fromIndex || 0)) : indexOf;\n};\n\n/**\n * Splits the passed string object at the defined index, and returns an array composed of the two substrings\n * @param {string} str string to split\n * @param {int} index index to split string at\n * @returns {[string,string]}\n * @throws InvalidArgumentError\n */\nshowdown.helper.splitAtIndex = function (str, index) {\n  'use strict';\n  if (!showdown.helper.isString(str)) {\n    throw 'InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string';\n  }\n  return [str.substring(0, index), str.substring(index)];\n};\n\n/**\n * Obfuscate an e-mail address through the use of Character Entities,\n * transforming ASCII characters into their equivalent decimal or hex entities.\n *\n * Since it has a random component, subsequent calls to this function produce different results\n *\n * @param {string} mail\n * @returns {string}\n */\nshowdown.helper.encodeEmailAddress = function (mail) {\n  'use strict';\n  var encode = [\n    function (ch) {\n      return '&#' + ch.charCodeAt(0) + ';';\n    },\n    function (ch) {\n      return '&#x' + ch.charCodeAt(0).toString(16) + ';';\n    },\n    function (ch) {\n      return ch;\n    }\n  ];\n\n  mail = mail.replace(/./g, function (ch) {\n    if (ch === '@') {\n      // this *must* be encoded. I insist.\n      ch = encode[Math.floor(Math.random() * 2)](ch);\n    } else {\n      var r = Math.random();\n      // roughly 10% raw, 45% hex, 45% dec\n      ch = (\n        r > 0.9 ? encode[2](ch) : r > 0.45 ? encode[1](ch) : encode[0](ch)\n      );\n    }\n    return ch;\n  });\n\n  return mail;\n};\n\n/**\n *\n * @param str\n * @param targetLength\n * @param padString\n * @returns {string}\n */\nshowdown.helper.padEnd = function padEnd (str, targetLength, padString) {\n  'use strict';\n  /*jshint bitwise: false*/\n  // eslint-disable-next-line space-infix-ops\n  targetLength = targetLength>>0; //floor if number or convert non-number to 0;\n  /*jshint bitwise: true*/\n  padString = String(padString || ' ');\n  if (str.length > targetLength) {\n    return String(str);\n  } else {\n    targetLength = targetLength - str.length;\n    if (targetLength > padString.length) {\n      padString += padString.repeat(targetLength / padString.length); //append to original to ensure we are longer than needed\n    }\n    return String(str) + padString.slice(0,targetLength);\n  }\n};\n\n/**\n * POLYFILLS\n */\n// use this instead of builtin is undefined for IE8 compatibility\nif (typeof console === 'undefined') {\n  console = {\n    warn: function (msg) {\n      'use strict';\n      alert(msg);\n    },\n    log: function (msg) {\n      'use strict';\n      alert(msg);\n    },\n    error: function (msg) {\n      'use strict';\n      throw msg;\n    }\n  };\n}\n\n/**\n * Common regexes.\n * We declare some common regexes to improve performance\n */\nshowdown.helper.regexes = {\n  asteriskDashAndColon: /([*_:~])/g\n};\n\n/**\n * EMOJIS LIST\n */\nshowdown.helper.emojis = {\n  '+1':'\\ud83d\\udc4d',\n  '-1':'\\ud83d\\udc4e',\n  '100':'\\ud83d\\udcaf',\n  '1234':'\\ud83d\\udd22',\n  '1st_place_medal':'\\ud83e\\udd47',\n  '2nd_place_medal':'\\ud83e\\udd48',\n  '3rd_place_medal':'\\ud83e\\udd49',\n  '8ball':'\\ud83c\\udfb1',\n  'a':'\\ud83c\\udd70\\ufe0f',\n  'ab':'\\ud83c\\udd8e',\n  'abc':'\\ud83d\\udd24',\n  'abcd':'\\ud83d\\udd21',\n  'accept':'\\ud83c\\ude51',\n  'aerial_tramway':'\\ud83d\\udea1',\n  'airplane':'\\u2708\\ufe0f',\n  'alarm_clock':'\\u23f0',\n  'alembic':'\\u2697\\ufe0f',\n  'alien':'\\ud83d\\udc7d',\n  'ambulance':'\\ud83d\\ude91',\n  'amphora':'\\ud83c\\udffa',\n  'anchor':'\\u2693\\ufe0f',\n  'angel':'\\ud83d\\udc7c',\n  'anger':'\\ud83d\\udca2',\n  'angry':'\\ud83d\\ude20',\n  'anguished':'\\ud83d\\ude27',\n  'ant':'\\ud83d\\udc1c',\n  'apple':'\\ud83c\\udf4e',\n  'aquarius':'\\u2652\\ufe0f',\n  'aries':'\\u2648\\ufe0f',\n  'arrow_backward':'\\u25c0\\ufe0f',\n  'arrow_double_down':'\\u23ec',\n  'arrow_double_up':'\\u23eb',\n  'arrow_down':'\\u2b07\\ufe0f',\n  'arrow_down_small':'\\ud83d\\udd3d',\n  'arrow_forward':'\\u25b6\\ufe0f',\n  'arrow_heading_down':'\\u2935\\ufe0f',\n  'arrow_heading_up':'\\u2934\\ufe0f',\n  'arrow_left':'\\u2b05\\ufe0f',\n  'arrow_lower_left':'\\u2199\\ufe0f',\n  'arrow_lower_right':'\\u2198\\ufe0f',\n  'arrow_right':'\\u27a1\\ufe0f',\n  'arrow_right_hook':'\\u21aa\\ufe0f',\n  'arrow_up':'\\u2b06\\ufe0f',\n  'arrow_up_down':'\\u2195\\ufe0f',\n  'arrow_up_small':'\\ud83d\\udd3c',\n  'arrow_upper_left':'\\u2196\\ufe0f',\n  'arrow_upper_right':'\\u2197\\ufe0f',\n  'arrows_clockwise':'\\ud83d\\udd03',\n  'arrows_counterclockwise':'\\ud83d\\udd04',\n  'art':'\\ud83c\\udfa8',\n  'articulated_lorry':'\\ud83d\\ude9b',\n  'artificial_satellite':'\\ud83d\\udef0',\n  'astonished':'\\ud83d\\ude32',\n  'athletic_shoe':'\\ud83d\\udc5f',\n  'atm':'\\ud83c\\udfe7',\n  'atom_symbol':'\\u269b\\ufe0f',\n  'avocado':'\\ud83e\\udd51',\n  'b':'\\ud83c\\udd71\\ufe0f',\n  'baby':'\\ud83d\\udc76',\n  'baby_bottle':'\\ud83c\\udf7c',\n  'baby_chick':'\\ud83d\\udc24',\n  'baby_symbol':'\\ud83d\\udebc',\n  'back':'\\ud83d\\udd19',\n  'bacon':'\\ud83e\\udd53',\n  'badminton':'\\ud83c\\udff8',\n  'baggage_claim':'\\ud83d\\udec4',\n  'baguette_bread':'\\ud83e\\udd56',\n  'balance_scale':'\\u2696\\ufe0f',\n  'balloon':'\\ud83c\\udf88',\n  'ballot_box':'\\ud83d\\uddf3',\n  'ballot_box_with_check':'\\u2611\\ufe0f',\n  'bamboo':'\\ud83c\\udf8d',\n  'banana':'\\ud83c\\udf4c',\n  'bangbang':'\\u203c\\ufe0f',\n  'bank':'\\ud83c\\udfe6',\n  'bar_chart':'\\ud83d\\udcca',\n  'barber':'\\ud83d\\udc88',\n  'baseball':'\\u26be\\ufe0f',\n  'basketball':'\\ud83c\\udfc0',\n  'basketball_man':'\\u26f9\\ufe0f',\n  'basketball_woman':'\\u26f9\\ufe0f&zwj;\\u2640\\ufe0f',\n  'bat':'\\ud83e\\udd87',\n  'bath':'\\ud83d\\udec0',\n  'bathtub':'\\ud83d\\udec1',\n  'battery':'\\ud83d\\udd0b',\n  'beach_umbrella':'\\ud83c\\udfd6',\n  'bear':'\\ud83d\\udc3b',\n  'bed':'\\ud83d\\udecf',\n  'bee':'\\ud83d\\udc1d',\n  'beer':'\\ud83c\\udf7a',\n  'beers':'\\ud83c\\udf7b',\n  'beetle':'\\ud83d\\udc1e',\n  'beginner':'\\ud83d\\udd30',\n  'bell':'\\ud83d\\udd14',\n  'bellhop_bell':'\\ud83d\\udece',\n  'bento':'\\ud83c\\udf71',\n  'biking_man':'\\ud83d\\udeb4',\n  'bike':'\\ud83d\\udeb2',\n  'biking_woman':'\\ud83d\\udeb4&zwj;\\u2640\\ufe0f',\n  'bikini':'\\ud83d\\udc59',\n  'biohazard':'\\u2623\\ufe0f',\n  'bird':'\\ud83d\\udc26',\n  'birthday':'\\ud83c\\udf82',\n  'black_circle':'\\u26ab\\ufe0f',\n  'black_flag':'\\ud83c\\udff4',\n  'black_heart':'\\ud83d\\udda4',\n  'black_joker':'\\ud83c\\udccf',\n  'black_large_square':'\\u2b1b\\ufe0f',\n  'black_medium_small_square':'\\u25fe\\ufe0f',\n  'black_medium_square':'\\u25fc\\ufe0f',\n  'black_nib':'\\u2712\\ufe0f',\n  'black_small_square':'\\u25aa\\ufe0f',\n  'black_square_button':'\\ud83d\\udd32',\n  'blonde_man':'\\ud83d\\udc71',\n  'blonde_woman':'\\ud83d\\udc71&zwj;\\u2640\\ufe0f',\n  'blossom':'\\ud83c\\udf3c',\n  'blowfish':'\\ud83d\\udc21',\n  'blue_book':'\\ud83d\\udcd8',\n  'blue_car':'\\ud83d\\ude99',\n  'blue_heart':'\\ud83d\\udc99',\n  'blush':'\\ud83d\\ude0a',\n  'boar':'\\ud83d\\udc17',\n  'boat':'\\u26f5\\ufe0f',\n  'bomb':'\\ud83d\\udca3',\n  'book':'\\ud83d\\udcd6',\n  'bookmark':'\\ud83d\\udd16',\n  'bookmark_tabs':'\\ud83d\\udcd1',\n  'books':'\\ud83d\\udcda',\n  'boom':'\\ud83d\\udca5',\n  'boot':'\\ud83d\\udc62',\n  'bouquet':'\\ud83d\\udc90',\n  'bowing_man':'\\ud83d\\ude47',\n  'bow_and_arrow':'\\ud83c\\udff9',\n  'bowing_woman':'\\ud83d\\ude47&zwj;\\u2640\\ufe0f',\n  'bowling':'\\ud83c\\udfb3',\n  'boxing_glove':'\\ud83e\\udd4a',\n  'boy':'\\ud83d\\udc66',\n  'bread':'\\ud83c\\udf5e',\n  'bride_with_veil':'\\ud83d\\udc70',\n  'bridge_at_night':'\\ud83c\\udf09',\n  'briefcase':'\\ud83d\\udcbc',\n  'broken_heart':'\\ud83d\\udc94',\n  'bug':'\\ud83d\\udc1b',\n  'building_construction':'\\ud83c\\udfd7',\n  'bulb':'\\ud83d\\udca1',\n  'bullettrain_front':'\\ud83d\\ude85',\n  'bullettrain_side':'\\ud83d\\ude84',\n  'burrito':'\\ud83c\\udf2f',\n  'bus':'\\ud83d\\ude8c',\n  'business_suit_levitating':'\\ud83d\\udd74',\n  'busstop':'\\ud83d\\ude8f',\n  'bust_in_silhouette':'\\ud83d\\udc64',\n  'busts_in_silhouette':'\\ud83d\\udc65',\n  'butterfly':'\\ud83e\\udd8b',\n  'cactus':'\\ud83c\\udf35',\n  'cake':'\\ud83c\\udf70',\n  'calendar':'\\ud83d\\udcc6',\n  'call_me_hand':'\\ud83e\\udd19',\n  'calling':'\\ud83d\\udcf2',\n  'camel':'\\ud83d\\udc2b',\n  'camera':'\\ud83d\\udcf7',\n  'camera_flash':'\\ud83d\\udcf8',\n  'camping':'\\ud83c\\udfd5',\n  'cancer':'\\u264b\\ufe0f',\n  'candle':'\\ud83d\\udd6f',\n  'candy':'\\ud83c\\udf6c',\n  'canoe':'\\ud83d\\udef6',\n  'capital_abcd':'\\ud83d\\udd20',\n  'capricorn':'\\u2651\\ufe0f',\n  'car':'\\ud83d\\ude97',\n  'card_file_box':'\\ud83d\\uddc3',\n  'card_index':'\\ud83d\\udcc7',\n  'card_index_dividers':'\\ud83d\\uddc2',\n  'carousel_horse':'\\ud83c\\udfa0',\n  'carrot':'\\ud83e\\udd55',\n  'cat':'\\ud83d\\udc31',\n  'cat2':'\\ud83d\\udc08',\n  'cd':'\\ud83d\\udcbf',\n  'chains':'\\u26d3',\n  'champagne':'\\ud83c\\udf7e',\n  'chart':'\\ud83d\\udcb9',\n  'chart_with_downwards_trend':'\\ud83d\\udcc9',\n  'chart_with_upwards_trend':'\\ud83d\\udcc8',\n  'checkered_flag':'\\ud83c\\udfc1',\n  'cheese':'\\ud83e\\uddc0',\n  'cherries':'\\ud83c\\udf52',\n  'cherry_blossom':'\\ud83c\\udf38',\n  'chestnut':'\\ud83c\\udf30',\n  'chicken':'\\ud83d\\udc14',\n  'children_crossing':'\\ud83d\\udeb8',\n  'chipmunk':'\\ud83d\\udc3f',\n  'chocolate_bar':'\\ud83c\\udf6b',\n  'christmas_tree':'\\ud83c\\udf84',\n  'church':'\\u26ea\\ufe0f',\n  'cinema':'\\ud83c\\udfa6',\n  'circus_tent':'\\ud83c\\udfaa',\n  'city_sunrise':'\\ud83c\\udf07',\n  'city_sunset':'\\ud83c\\udf06',\n  'cityscape':'\\ud83c\\udfd9',\n  'cl':'\\ud83c\\udd91',\n  'clamp':'\\ud83d\\udddc',\n  'clap':'\\ud83d\\udc4f',\n  'clapper':'\\ud83c\\udfac',\n  'classical_building':'\\ud83c\\udfdb',\n  'clinking_glasses':'\\ud83e\\udd42',\n  'clipboard':'\\ud83d\\udccb',\n  'clock1':'\\ud83d\\udd50',\n  'clock10':'\\ud83d\\udd59',\n  'clock1030':'\\ud83d\\udd65',\n  'clock11':'\\ud83d\\udd5a',\n  'clock1130':'\\ud83d\\udd66',\n  'clock12':'\\ud83d\\udd5b',\n  'clock1230':'\\ud83d\\udd67',\n  'clock130':'\\ud83d\\udd5c',\n  'clock2':'\\ud83d\\udd51',\n  'clock230':'\\ud83d\\udd5d',\n  'clock3':'\\ud83d\\udd52',\n  'clock330':'\\ud83d\\udd5e',\n  'clock4':'\\ud83d\\udd53',\n  'clock430':'\\ud83d\\udd5f',\n  'clock5':'\\ud83d\\udd54',\n  'clock530':'\\ud83d\\udd60',\n  'clock6':'\\ud83d\\udd55',\n  'clock630':'\\ud83d\\udd61',\n  'clock7':'\\ud83d\\udd56',\n  'clock730':'\\ud83d\\udd62',\n  'clock8':'\\ud83d\\udd57',\n  'clock830':'\\ud83d\\udd63',\n  'clock9':'\\ud83d\\udd58',\n  'clock930':'\\ud83d\\udd64',\n  'closed_book':'\\ud83d\\udcd5',\n  'closed_lock_with_key':'\\ud83d\\udd10',\n  'closed_umbrella':'\\ud83c\\udf02',\n  'cloud':'\\u2601\\ufe0f',\n  'cloud_with_lightning':'\\ud83c\\udf29',\n  'cloud_with_lightning_and_rain':'\\u26c8',\n  'cloud_with_rain':'\\ud83c\\udf27',\n  'cloud_with_snow':'\\ud83c\\udf28',\n  'clown_face':'\\ud83e\\udd21',\n  'clubs':'\\u2663\\ufe0f',\n  'cocktail':'\\ud83c\\udf78',\n  'coffee':'\\u2615\\ufe0f',\n  'coffin':'\\u26b0\\ufe0f',\n  'cold_sweat':'\\ud83d\\ude30',\n  'comet':'\\u2604\\ufe0f',\n  'computer':'\\ud83d\\udcbb',\n  'computer_mouse':'\\ud83d\\uddb1',\n  'confetti_ball':'\\ud83c\\udf8a',\n  'confounded':'\\ud83d\\ude16',\n  'confused':'\\ud83d\\ude15',\n  'congratulations':'\\u3297\\ufe0f',\n  'construction':'\\ud83d\\udea7',\n  'construction_worker_man':'\\ud83d\\udc77',\n  'construction_worker_woman':'\\ud83d\\udc77&zwj;\\u2640\\ufe0f',\n  'control_knobs':'\\ud83c\\udf9b',\n  'convenience_store':'\\ud83c\\udfea',\n  'cookie':'\\ud83c\\udf6a',\n  'cool':'\\ud83c\\udd92',\n  'policeman':'\\ud83d\\udc6e',\n  'copyright':'\\u00a9\\ufe0f',\n  'corn':'\\ud83c\\udf3d',\n  'couch_and_lamp':'\\ud83d\\udecb',\n  'couple':'\\ud83d\\udc6b',\n  'couple_with_heart_woman_man':'\\ud83d\\udc91',\n  'couple_with_heart_man_man':'\\ud83d\\udc68&zwj;\\u2764\\ufe0f&zwj;\\ud83d\\udc68',\n  'couple_with_heart_woman_woman':'\\ud83d\\udc69&zwj;\\u2764\\ufe0f&zwj;\\ud83d\\udc69',\n  'couplekiss_man_man':'\\ud83d\\udc68&zwj;\\u2764\\ufe0f&zwj;\\ud83d\\udc8b&zwj;\\ud83d\\udc68',\n  'couplekiss_man_woman':'\\ud83d\\udc8f',\n  'couplekiss_woman_woman':'\\ud83d\\udc69&zwj;\\u2764\\ufe0f&zwj;\\ud83d\\udc8b&zwj;\\ud83d\\udc69',\n  'cow':'\\ud83d\\udc2e',\n  'cow2':'\\ud83d\\udc04',\n  'cowboy_hat_face':'\\ud83e\\udd20',\n  'crab':'\\ud83e\\udd80',\n  'crayon':'\\ud83d\\udd8d',\n  'credit_card':'\\ud83d\\udcb3',\n  'crescent_moon':'\\ud83c\\udf19',\n  'cricket':'\\ud83c\\udfcf',\n  'crocodile':'\\ud83d\\udc0a',\n  'croissant':'\\ud83e\\udd50',\n  'crossed_fingers':'\\ud83e\\udd1e',\n  'crossed_flags':'\\ud83c\\udf8c',\n  'crossed_swords':'\\u2694\\ufe0f',\n  'crown':'\\ud83d\\udc51',\n  'cry':'\\ud83d\\ude22',\n  'crying_cat_face':'\\ud83d\\ude3f',\n  'crystal_ball':'\\ud83d\\udd2e',\n  'cucumber':'\\ud83e\\udd52',\n  'cupid':'\\ud83d\\udc98',\n  'curly_loop':'\\u27b0',\n  'currency_exchange':'\\ud83d\\udcb1',\n  'curry':'\\ud83c\\udf5b',\n  'custard':'\\ud83c\\udf6e',\n  'customs':'\\ud83d\\udec3',\n  'cyclone':'\\ud83c\\udf00',\n  'dagger':'\\ud83d\\udde1',\n  'dancer':'\\ud83d\\udc83',\n  'dancing_women':'\\ud83d\\udc6f',\n  'dancing_men':'\\ud83d\\udc6f&zwj;\\u2642\\ufe0f',\n  'dango':'\\ud83c\\udf61',\n  'dark_sunglasses':'\\ud83d\\udd76',\n  'dart':'\\ud83c\\udfaf',\n  'dash':'\\ud83d\\udca8',\n  'date':'\\ud83d\\udcc5',\n  'deciduous_tree':'\\ud83c\\udf33',\n  'deer':'\\ud83e\\udd8c',\n  'department_store':'\\ud83c\\udfec',\n  'derelict_house':'\\ud83c\\udfda',\n  'desert':'\\ud83c\\udfdc',\n  'desert_island':'\\ud83c\\udfdd',\n  'desktop_computer':'\\ud83d\\udda5',\n  'male_detective':'\\ud83d\\udd75\\ufe0f',\n  'diamond_shape_with_a_dot_inside':'\\ud83d\\udca0',\n  'diamonds':'\\u2666\\ufe0f',\n  'disappointed':'\\ud83d\\ude1e',\n  'disappointed_relieved':'\\ud83d\\ude25',\n  'dizzy':'\\ud83d\\udcab',\n  'dizzy_face':'\\ud83d\\ude35',\n  'do_not_litter':'\\ud83d\\udeaf',\n  'dog':'\\ud83d\\udc36',\n  'dog2':'\\ud83d\\udc15',\n  'dollar':'\\ud83d\\udcb5',\n  'dolls':'\\ud83c\\udf8e',\n  'dolphin':'\\ud83d\\udc2c',\n  'door':'\\ud83d\\udeaa',\n  'doughnut':'\\ud83c\\udf69',\n  'dove':'\\ud83d\\udd4a',\n  'dragon':'\\ud83d\\udc09',\n  'dragon_face':'\\ud83d\\udc32',\n  'dress':'\\ud83d\\udc57',\n  'dromedary_camel':'\\ud83d\\udc2a',\n  'drooling_face':'\\ud83e\\udd24',\n  'droplet':'\\ud83d\\udca7',\n  'drum':'\\ud83e\\udd41',\n  'duck':'\\ud83e\\udd86',\n  'dvd':'\\ud83d\\udcc0',\n  'e-mail':'\\ud83d\\udce7',\n  'eagle':'\\ud83e\\udd85',\n  'ear':'\\ud83d\\udc42',\n  'ear_of_rice':'\\ud83c\\udf3e',\n  'earth_africa':'\\ud83c\\udf0d',\n  'earth_americas':'\\ud83c\\udf0e',\n  'earth_asia':'\\ud83c\\udf0f',\n  'egg':'\\ud83e\\udd5a',\n  'eggplant':'\\ud83c\\udf46',\n  'eight_pointed_black_star':'\\u2734\\ufe0f',\n  'eight_spoked_asterisk':'\\u2733\\ufe0f',\n  'electric_plug':'\\ud83d\\udd0c',\n  'elephant':'\\ud83d\\udc18',\n  'email':'\\u2709\\ufe0f',\n  'end':'\\ud83d\\udd1a',\n  'envelope_with_arrow':'\\ud83d\\udce9',\n  'euro':'\\ud83d\\udcb6',\n  'european_castle':'\\ud83c\\udff0',\n  'european_post_office':'\\ud83c\\udfe4',\n  'evergreen_tree':'\\ud83c\\udf32',\n  'exclamation':'\\u2757\\ufe0f',\n  'expressionless':'\\ud83d\\ude11',\n  'eye':'\\ud83d\\udc41',\n  'eye_speech_bubble':'\\ud83d\\udc41&zwj;\\ud83d\\udde8',\n  'eyeglasses':'\\ud83d\\udc53',\n  'eyes':'\\ud83d\\udc40',\n  'face_with_head_bandage':'\\ud83e\\udd15',\n  'face_with_thermometer':'\\ud83e\\udd12',\n  'fist_oncoming':'\\ud83d\\udc4a',\n  'factory':'\\ud83c\\udfed',\n  'fallen_leaf':'\\ud83c\\udf42',\n  'family_man_woman_boy':'\\ud83d\\udc6a',\n  'family_man_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc66',\n  'family_man_boy_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc66&zwj;\\ud83d\\udc66',\n  'family_man_girl':'\\ud83d\\udc68&zwj;\\ud83d\\udc67',\n  'family_man_girl_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc66',\n  'family_man_girl_girl':'\\ud83d\\udc68&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc67',\n  'family_man_man_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc68&zwj;\\ud83d\\udc66',\n  'family_man_man_boy_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc68&zwj;\\ud83d\\udc66&zwj;\\ud83d\\udc66',\n  'family_man_man_girl':'\\ud83d\\udc68&zwj;\\ud83d\\udc68&zwj;\\ud83d\\udc67',\n  'family_man_man_girl_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc68&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc66',\n  'family_man_man_girl_girl':'\\ud83d\\udc68&zwj;\\ud83d\\udc68&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc67',\n  'family_man_woman_boy_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc66&zwj;\\ud83d\\udc66',\n  'family_man_woman_girl':'\\ud83d\\udc68&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc67',\n  'family_man_woman_girl_boy':'\\ud83d\\udc68&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc66',\n  'family_man_woman_girl_girl':'\\ud83d\\udc68&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc67',\n  'family_woman_boy':'\\ud83d\\udc69&zwj;\\ud83d\\udc66',\n  'family_woman_boy_boy':'\\ud83d\\udc69&zwj;\\ud83d\\udc66&zwj;\\ud83d\\udc66',\n  'family_woman_girl':'\\ud83d\\udc69&zwj;\\ud83d\\udc67',\n  'family_woman_girl_boy':'\\ud83d\\udc69&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc66',\n  'family_woman_girl_girl':'\\ud83d\\udc69&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc67',\n  'family_woman_woman_boy':'\\ud83d\\udc69&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc66',\n  'family_woman_woman_boy_boy':'\\ud83d\\udc69&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc66&zwj;\\ud83d\\udc66',\n  'family_woman_woman_girl':'\\ud83d\\udc69&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc67',\n  'family_woman_woman_girl_boy':'\\ud83d\\udc69&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc66',\n  'family_woman_woman_girl_girl':'\\ud83d\\udc69&zwj;\\ud83d\\udc69&zwj;\\ud83d\\udc67&zwj;\\ud83d\\udc67',\n  'fast_forward':'\\u23e9',\n  'fax':'\\ud83d\\udce0',\n  'fearful':'\\ud83d\\ude28',\n  'feet':'\\ud83d\\udc3e',\n  'female_detective':'\\ud83d\\udd75\\ufe0f&zwj;\\u2640\\ufe0f',\n  'ferris_wheel':'\\ud83c\\udfa1',\n  'ferry':'\\u26f4',\n  'field_hockey':'\\ud83c\\udfd1',\n  'file_cabinet':'\\ud83d\\uddc4',\n  'file_folder':'\\ud83d\\udcc1',\n  'film_projector':'\\ud83d\\udcfd',\n  'film_strip':'\\ud83c\\udf9e',\n  'fire':'\\ud83d\\udd25',\n  'fire_engine':'\\ud83d\\ude92',\n  'fireworks':'\\ud83c\\udf86',\n  'first_quarter_moon':'\\ud83c\\udf13',\n  'first_quarter_moon_with_face':'\\ud83c\\udf1b',\n  'fish':'\\ud83d\\udc1f',\n  'fish_cake':'\\ud83c\\udf65',\n  'fishing_pole_and_fish':'\\ud83c\\udfa3',\n  'fist_raised':'\\u270a',\n  'fist_left':'\\ud83e\\udd1b',\n  'fist_right':'\\ud83e\\udd1c',\n  'flags':'\\ud83c\\udf8f',\n  'flashlight':'\\ud83d\\udd26',\n  'fleur_de_lis':'\\u269c\\ufe0f',\n  'flight_arrival':'\\ud83d\\udeec',\n  'flight_departure':'\\ud83d\\udeeb',\n  'floppy_disk':'\\ud83d\\udcbe',\n  'flower_playing_cards':'\\ud83c\\udfb4',\n  'flushed':'\\ud83d\\ude33',\n  'fog':'\\ud83c\\udf2b',\n  'foggy':'\\ud83c\\udf01',\n  'football':'\\ud83c\\udfc8',\n  'footprints':'\\ud83d\\udc63',\n  'fork_and_knife':'\\ud83c\\udf74',\n  'fountain':'\\u26f2\\ufe0f',\n  'fountain_pen':'\\ud83d\\udd8b',\n  'four_leaf_clover':'\\ud83c\\udf40',\n  'fox_face':'\\ud83e\\udd8a',\n  'framed_picture':'\\ud83d\\uddbc',\n  'free':'\\ud83c\\udd93',\n  'fried_egg':'\\ud83c\\udf73',\n  'fried_shrimp':'\\ud83c\\udf64',\n  'fries':'\\ud83c\\udf5f',\n  'frog':'\\ud83d\\udc38',\n  'frowning':'\\ud83d\\ude26',\n  'frowning_face':'\\u2639\\ufe0f',\n  'frowning_man':'\\ud83d\\ude4d&zwj;\\u2642\\ufe0f',\n  'frowning_woman':'\\ud83d\\ude4d',\n  'middle_finger':'\\ud83d\\udd95',\n  'fuelpump':'\\u26fd\\ufe0f',\n  'full_moon':'\\ud83c\\udf15',\n  'full_moon_with_face':'\\ud83c\\udf1d',\n  'funeral_urn':'\\u26b1\\ufe0f',\n  'game_die':'\\ud83c\\udfb2',\n  'gear':'\\u2699\\ufe0f',\n  'gem':'\\ud83d\\udc8e',\n  'gemini':'\\u264a\\ufe0f',\n  'ghost':'\\ud83d\\udc7b',\n  'gift':'\\ud83c\\udf81',\n  'gift_heart':'\\ud83d\\udc9d',\n  'girl':'\\ud83d\\udc67',\n  'globe_with_meridians':'\\ud83c\\udf10',\n  'goal_net':'\\ud83e\\udd45',\n  'goat':'\\ud83d\\udc10',\n  'golf':'\\u26f3\\ufe0f',\n  'golfing_man':'\\ud83c\\udfcc\\ufe0f',\n  'golfing_woman':'\\ud83c\\udfcc\\ufe0f&zwj;\\u2640\\ufe0f',\n  'gorilla':'\\ud83e\\udd8d',\n  'grapes':'\\ud83c\\udf47',\n  'green_apple':'\\ud83c\\udf4f',\n  'green_book':'\\ud83d\\udcd7',\n  'green_heart':'\\ud83d\\udc9a',\n  'green_salad':'\\ud83e\\udd57',\n  'grey_exclamation':'\\u2755',\n  'grey_question':'\\u2754',\n  'grimacing':'\\ud83d\\ude2c',\n  'grin':'\\ud83d\\ude01',\n  'grinning':'\\ud83d\\ude00',\n  'guardsman':'\\ud83d\\udc82',\n  'guardswoman':'\\ud83d\\udc82&zwj;\\u2640\\ufe0f',\n  'guitar':'\\ud83c\\udfb8',\n  'gun':'\\ud83d\\udd2b',\n  'haircut_woman':'\\ud83d\\udc87',\n  'haircut_man':'\\ud83d\\udc87&zwj;\\u2642\\ufe0f',\n  'hamburger':'\\ud83c\\udf54',\n  'hammer':'\\ud83d\\udd28',\n  'hammer_and_pick':'\\u2692',\n  'hammer_and_wrench':'\\ud83d\\udee0',\n  'hamster':'\\ud83d\\udc39',\n  'hand':'\\u270b',\n  'handbag':'\\ud83d\\udc5c',\n  'handshake':'\\ud83e\\udd1d',\n  'hankey':'\\ud83d\\udca9',\n  'hatched_chick':'\\ud83d\\udc25',\n  'hatching_chick':'\\ud83d\\udc23',\n  'headphones':'\\ud83c\\udfa7',\n  'hear_no_evil':'\\ud83d\\ude49',\n  'heart':'\\u2764\\ufe0f',\n  'heart_decoration':'\\ud83d\\udc9f',\n  'heart_eyes':'\\ud83d\\ude0d',\n  'heart_eyes_cat':'\\ud83d\\ude3b',\n  'heartbeat':'\\ud83d\\udc93',\n  'heartpulse':'\\ud83d\\udc97',\n  'hearts':'\\u2665\\ufe0f',\n  'heavy_check_mark':'\\u2714\\ufe0f',\n  'heavy_division_sign':'\\u2797',\n  'heavy_dollar_sign':'\\ud83d\\udcb2',\n  'heavy_heart_exclamation':'\\u2763\\ufe0f',\n  'heavy_minus_sign':'\\u2796',\n  'heavy_multiplication_x':'\\u2716\\ufe0f',\n  'heavy_plus_sign':'\\u2795',\n  'helicopter':'\\ud83d\\ude81',\n  'herb':'\\ud83c\\udf3f',\n  'hibiscus':'\\ud83c\\udf3a',\n  'high_brightness':'\\ud83d\\udd06',\n  'high_heel':'\\ud83d\\udc60',\n  'hocho':'\\ud83d\\udd2a',\n  'hole':'\\ud83d\\udd73',\n  'honey_pot':'\\ud83c\\udf6f',\n  'horse':'\\ud83d\\udc34',\n  'horse_racing':'\\ud83c\\udfc7',\n  'hospital':'\\ud83c\\udfe5',\n  'hot_pepper':'\\ud83c\\udf36',\n  'hotdog':'\\ud83c\\udf2d',\n  'hotel':'\\ud83c\\udfe8',\n  'hotsprings':'\\u2668\\ufe0f',\n  'hourglass':'\\u231b\\ufe0f',\n  'hourglass_flowing_sand':'\\u23f3',\n  'house':'\\ud83c\\udfe0',\n  'house_with_garden':'\\ud83c\\udfe1',\n  'houses':'\\ud83c\\udfd8',\n  'hugs':'\\ud83e\\udd17',\n  'hushed':'\\ud83d\\ude2f',\n  'ice_cream':'\\ud83c\\udf68',\n  'ice_hockey':'\\ud83c\\udfd2',\n  'ice_skate':'\\u26f8',\n  'icecream':'\\ud83c\\udf66',\n  'id':'\\ud83c\\udd94',\n  'ideograph_advantage':'\\ud83c\\ude50',\n  'imp':'\\ud83d\\udc7f',\n  'inbox_tray':'\\ud83d\\udce5',\n  'incoming_envelope':'\\ud83d\\udce8',\n  'tipping_hand_woman':'\\ud83d\\udc81',\n  'information_source':'\\u2139\\ufe0f',\n  'innocent':'\\ud83d\\ude07',\n  'interrobang':'\\u2049\\ufe0f',\n  'iphone':'\\ud83d\\udcf1',\n  'izakaya_lantern':'\\ud83c\\udfee',\n  'jack_o_lantern':'\\ud83c\\udf83',\n  'japan':'\\ud83d\\uddfe',\n  'japanese_castle':'\\ud83c\\udfef',\n  'japanese_goblin':'\\ud83d\\udc7a',\n  'japanese_ogre':'\\ud83d\\udc79',\n  'jeans':'\\ud83d\\udc56',\n  'joy':'\\ud83d\\ude02',\n  'joy_cat':'\\ud83d\\ude39',\n  'joystick':'\\ud83d\\udd79',\n  'kaaba':'\\ud83d\\udd4b',\n  'key':'\\ud83d\\udd11',\n  'keyboard':'\\u2328\\ufe0f',\n  'keycap_ten':'\\ud83d\\udd1f',\n  'kick_scooter':'\\ud83d\\udef4',\n  'kimono':'\\ud83d\\udc58',\n  'kiss':'\\ud83d\\udc8b',\n  'kissing':'\\ud83d\\ude17',\n  'kissing_cat':'\\ud83d\\ude3d',\n  'kissing_closed_eyes':'\\ud83d\\ude1a',\n  'kissing_heart':'\\ud83d\\ude18',\n  'kissing_smiling_eyes':'\\ud83d\\ude19',\n  'kiwi_fruit':'\\ud83e\\udd5d',\n  'koala':'\\ud83d\\udc28',\n  'koko':'\\ud83c\\ude01',\n  'label':'\\ud83c\\udff7',\n  'large_blue_circle':'\\ud83d\\udd35',\n  'large_blue_diamond':'\\ud83d\\udd37',\n  'large_orange_diamond':'\\ud83d\\udd36',\n  'last_quarter_moon':'\\ud83c\\udf17',\n  'last_quarter_moon_with_face':'\\ud83c\\udf1c',\n  'latin_cross':'\\u271d\\ufe0f',\n  'laughing':'\\ud83d\\ude06',\n  'leaves':'\\ud83c\\udf43',\n  'ledger':'\\ud83d\\udcd2',\n  'left_luggage':'\\ud83d\\udec5',\n  'left_right_arrow':'\\u2194\\ufe0f',\n  'leftwards_arrow_with_hook':'\\u21a9\\ufe0f',\n  'lemon':'\\ud83c\\udf4b',\n  'leo':'\\u264c\\ufe0f',\n  'leopard':'\\ud83d\\udc06',\n  'level_slider':'\\ud83c\\udf9a',\n  'libra':'\\u264e\\ufe0f',\n  'light_rail':'\\ud83d\\ude88',\n  'link':'\\ud83d\\udd17',\n  'lion':'\\ud83e\\udd81',\n  'lips':'\\ud83d\\udc44',\n  'lipstick':'\\ud83d\\udc84',\n  'lizard':'\\ud83e\\udd8e',\n  'lock':'\\ud83d\\udd12',\n  'lock_with_ink_pen':'\\ud83d\\udd0f',\n  'lollipop':'\\ud83c\\udf6d',\n  'loop':'\\u27bf',\n  'loud_sound':'\\ud83d\\udd0a',\n  'loudspeaker':'\\ud83d\\udce2',\n  'love_hotel':'\\ud83c\\udfe9',\n  'love_letter':'\\ud83d\\udc8c',\n  'low_brightness':'\\ud83d\\udd05',\n  'lying_face':'\\ud83e\\udd25',\n  'm':'\\u24c2\\ufe0f',\n  'mag':'\\ud83d\\udd0d',\n  'mag_right':'\\ud83d\\udd0e',\n  'mahjong':'\\ud83c\\udc04\\ufe0f',\n  'mailbox':'\\ud83d\\udceb',\n  'mailbox_closed':'\\ud83d\\udcea',\n  'mailbox_with_mail':'\\ud83d\\udcec',\n  'mailbox_with_no_mail':'\\ud83d\\udced',\n  'man':'\\ud83d\\udc68',\n  'man_artist':'\\ud83d\\udc68&zwj;\\ud83c\\udfa8',\n  'man_astronaut':'\\ud83d\\udc68&zwj;\\ud83d\\ude80',\n  'man_cartwheeling':'\\ud83e\\udd38&zwj;\\u2642\\ufe0f',\n  'man_cook':'\\ud83d\\udc68&zwj;\\ud83c\\udf73',\n  'man_dancing':'\\ud83d\\udd7a',\n  'man_facepalming':'\\ud83e\\udd26&zwj;\\u2642\\ufe0f',\n  'man_factory_worker':'\\ud83d\\udc68&zwj;\\ud83c\\udfed',\n  'man_farmer':'\\ud83d\\udc68&zwj;\\ud83c\\udf3e',\n  'man_firefighter':'\\ud83d\\udc68&zwj;\\ud83d\\ude92',\n  'man_health_worker':'\\ud83d\\udc68&zwj;\\u2695\\ufe0f',\n  'man_in_tuxedo':'\\ud83e\\udd35',\n  'man_judge':'\\ud83d\\udc68&zwj;\\u2696\\ufe0f',\n  'man_juggling':'\\ud83e\\udd39&zwj;\\u2642\\ufe0f',\n  'man_mechanic':'\\ud83d\\udc68&zwj;\\ud83d\\udd27',\n  'man_office_worker':'\\ud83d\\udc68&zwj;\\ud83d\\udcbc',\n  'man_pilot':'\\ud83d\\udc68&zwj;\\u2708\\ufe0f',\n  'man_playing_handball':'\\ud83e\\udd3e&zwj;\\u2642\\ufe0f',\n  'man_playing_water_polo':'\\ud83e\\udd3d&zwj;\\u2642\\ufe0f',\n  'man_scientist':'\\ud83d\\udc68&zwj;\\ud83d\\udd2c',\n  'man_shrugging':'\\ud83e\\udd37&zwj;\\u2642\\ufe0f',\n  'man_singer':'\\ud83d\\udc68&zwj;\\ud83c\\udfa4',\n  'man_student':'\\ud83d\\udc68&zwj;\\ud83c\\udf93',\n  'man_teacher':'\\ud83d\\udc68&zwj;\\ud83c\\udfeb',\n  'man_technologist':'\\ud83d\\udc68&zwj;\\ud83d\\udcbb',\n  'man_with_gua_pi_mao':'\\ud83d\\udc72',\n  'man_with_turban':'\\ud83d\\udc73',\n  'tangerine':'\\ud83c\\udf4a',\n  'mans_shoe':'\\ud83d\\udc5e',\n  'mantelpiece_clock':'\\ud83d\\udd70',\n  'maple_leaf':'\\ud83c\\udf41',\n  'martial_arts_uniform':'\\ud83e\\udd4b',\n  'mask':'\\ud83d\\ude37',\n  'massage_woman':'\\ud83d\\udc86',\n  'massage_man':'\\ud83d\\udc86&zwj;\\u2642\\ufe0f',\n  'meat_on_bone':'\\ud83c\\udf56',\n  'medal_military':'\\ud83c\\udf96',\n  'medal_sports':'\\ud83c\\udfc5',\n  'mega':'\\ud83d\\udce3',\n  'melon':'\\ud83c\\udf48',\n  'memo':'\\ud83d\\udcdd',\n  'men_wrestling':'\\ud83e\\udd3c&zwj;\\u2642\\ufe0f',\n  'menorah':'\\ud83d\\udd4e',\n  'mens':'\\ud83d\\udeb9',\n  'metal':'\\ud83e\\udd18',\n  'metro':'\\ud83d\\ude87',\n  'microphone':'\\ud83c\\udfa4',\n  'microscope':'\\ud83d\\udd2c',\n  'milk_glass':'\\ud83e\\udd5b',\n  'milky_way':'\\ud83c\\udf0c',\n  'minibus':'\\ud83d\\ude90',\n  'minidisc':'\\ud83d\\udcbd',\n  'mobile_phone_off':'\\ud83d\\udcf4',\n  'money_mouth_face':'\\ud83e\\udd11',\n  'money_with_wings':'\\ud83d\\udcb8',\n  'moneybag':'\\ud83d\\udcb0',\n  'monkey':'\\ud83d\\udc12',\n  'monkey_face':'\\ud83d\\udc35',\n  'monorail':'\\ud83d\\ude9d',\n  'moon':'\\ud83c\\udf14',\n  'mortar_board':'\\ud83c\\udf93',\n  'mosque':'\\ud83d\\udd4c',\n  'motor_boat':'\\ud83d\\udee5',\n  'motor_scooter':'\\ud83d\\udef5',\n  'motorcycle':'\\ud83c\\udfcd',\n  'motorway':'\\ud83d\\udee3',\n  'mount_fuji':'\\ud83d\\uddfb',\n  'mountain':'\\u26f0',\n  'mountain_biking_man':'\\ud83d\\udeb5',\n  'mountain_biking_woman':'\\ud83d\\udeb5&zwj;\\u2640\\ufe0f',\n  'mountain_cableway':'\\ud83d\\udea0',\n  'mountain_railway':'\\ud83d\\ude9e',\n  'mountain_snow':'\\ud83c\\udfd4',\n  'mouse':'\\ud83d\\udc2d',\n  'mouse2':'\\ud83d\\udc01',\n  'movie_camera':'\\ud83c\\udfa5',\n  'moyai':'\\ud83d\\uddff',\n  'mrs_claus':'\\ud83e\\udd36',\n  'muscle':'\\ud83d\\udcaa',\n  'mushroom':'\\ud83c\\udf44',\n  'musical_keyboard':'\\ud83c\\udfb9',\n  'musical_note':'\\ud83c\\udfb5',\n  'musical_score':'\\ud83c\\udfbc',\n  'mute':'\\ud83d\\udd07',\n  'nail_care':'\\ud83d\\udc85',\n  'name_badge':'\\ud83d\\udcdb',\n  'national_park':'\\ud83c\\udfde',\n  'nauseated_face':'\\ud83e\\udd22',\n  'necktie':'\\ud83d\\udc54',\n  'negative_squared_cross_mark':'\\u274e',\n  'nerd_face':'\\ud83e\\udd13',\n  'neutral_face':'\\ud83d\\ude10',\n  'new':'\\ud83c\\udd95',\n  'new_moon':'\\ud83c\\udf11',\n  'new_moon_with_face':'\\ud83c\\udf1a',\n  'newspaper':'\\ud83d\\udcf0',\n  'newspaper_roll':'\\ud83d\\uddde',\n  'next_track_button':'\\u23ed',\n  'ng':'\\ud83c\\udd96',\n  'no_good_man':'\\ud83d\\ude45&zwj;\\u2642\\ufe0f',\n  'no_good_woman':'\\ud83d\\ude45',\n  'night_with_stars':'\\ud83c\\udf03',\n  'no_bell':'\\ud83d\\udd15',\n  'no_bicycles':'\\ud83d\\udeb3',\n  'no_entry':'\\u26d4\\ufe0f',\n  'no_entry_sign':'\\ud83d\\udeab',\n  'no_mobile_phones':'\\ud83d\\udcf5',\n  'no_mouth':'\\ud83d\\ude36',\n  'no_pedestrians':'\\ud83d\\udeb7',\n  'no_smoking':'\\ud83d\\udead',\n  'non-potable_water':'\\ud83d\\udeb1',\n  'nose':'\\ud83d\\udc43',\n  'notebook':'\\ud83d\\udcd3',\n  'notebook_with_decorative_cover':'\\ud83d\\udcd4',\n  'notes':'\\ud83c\\udfb6',\n  'nut_and_bolt':'\\ud83d\\udd29',\n  'o':'\\u2b55\\ufe0f',\n  'o2':'\\ud83c\\udd7e\\ufe0f',\n  'ocean':'\\ud83c\\udf0a',\n  'octopus':'\\ud83d\\udc19',\n  'oden':'\\ud83c\\udf62',\n  'office':'\\ud83c\\udfe2',\n  'oil_drum':'\\ud83d\\udee2',\n  'ok':'\\ud83c\\udd97',\n  'ok_hand':'\\ud83d\\udc4c',\n  'ok_man':'\\ud83d\\ude46&zwj;\\u2642\\ufe0f',\n  'ok_woman':'\\ud83d\\ude46',\n  'old_key':'\\ud83d\\udddd',\n  'older_man':'\\ud83d\\udc74',\n  'older_woman':'\\ud83d\\udc75',\n  'om':'\\ud83d\\udd49',\n  'on':'\\ud83d\\udd1b',\n  'oncoming_automobile':'\\ud83d\\ude98',\n  'oncoming_bus':'\\ud83d\\ude8d',\n  'oncoming_police_car':'\\ud83d\\ude94',\n  'oncoming_taxi':'\\ud83d\\ude96',\n  'open_file_folder':'\\ud83d\\udcc2',\n  'open_hands':'\\ud83d\\udc50',\n  'open_mouth':'\\ud83d\\ude2e',\n  'open_umbrella':'\\u2602\\ufe0f',\n  'ophiuchus':'\\u26ce',\n  'orange_book':'\\ud83d\\udcd9',\n  'orthodox_cross':'\\u2626\\ufe0f',\n  'outbox_tray':'\\ud83d\\udce4',\n  'owl':'\\ud83e\\udd89',\n  'ox':'\\ud83d\\udc02',\n  'package':'\\ud83d\\udce6',\n  'page_facing_up':'\\ud83d\\udcc4',\n  'page_with_curl':'\\ud83d\\udcc3',\n  'pager':'\\ud83d\\udcdf',\n  'paintbrush':'\\ud83d\\udd8c',\n  'palm_tree':'\\ud83c\\udf34',\n  'pancakes':'\\ud83e\\udd5e',\n  'panda_face':'\\ud83d\\udc3c',\n  'paperclip':'\\ud83d\\udcce',\n  'paperclips':'\\ud83d\\udd87',\n  'parasol_on_ground':'\\u26f1',\n  'parking':'\\ud83c\\udd7f\\ufe0f',\n  'part_alternation_mark':'\\u303d\\ufe0f',\n  'partly_sunny':'\\u26c5\\ufe0f',\n  'passenger_ship':'\\ud83d\\udef3',\n  'passport_control':'\\ud83d\\udec2',\n  'pause_button':'\\u23f8',\n  'peace_symbol':'\\u262e\\ufe0f',\n  'peach':'\\ud83c\\udf51',\n  'peanuts':'\\ud83e\\udd5c',\n  'pear':'\\ud83c\\udf50',\n  'pen':'\\ud83d\\udd8a',\n  'pencil2':'\\u270f\\ufe0f',\n  'penguin':'\\ud83d\\udc27',\n  'pensive':'\\ud83d\\ude14',\n  'performing_arts':'\\ud83c\\udfad',\n  'persevere':'\\ud83d\\ude23',\n  'person_fencing':'\\ud83e\\udd3a',\n  'pouting_woman':'\\ud83d\\ude4e',\n  'phone':'\\u260e\\ufe0f',\n  'pick':'\\u26cf',\n  'pig':'\\ud83d\\udc37',\n  'pig2':'\\ud83d\\udc16',\n  'pig_nose':'\\ud83d\\udc3d',\n  'pill':'\\ud83d\\udc8a',\n  'pineapple':'\\ud83c\\udf4d',\n  'ping_pong':'\\ud83c\\udfd3',\n  'pisces':'\\u2653\\ufe0f',\n  'pizza':'\\ud83c\\udf55',\n  'place_of_worship':'\\ud83d\\uded0',\n  'plate_with_cutlery':'\\ud83c\\udf7d',\n  'play_or_pause_button':'\\u23ef',\n  'point_down':'\\ud83d\\udc47',\n  'point_left':'\\ud83d\\udc48',\n  'point_right':'\\ud83d\\udc49',\n  'point_up':'\\u261d\\ufe0f',\n  'point_up_2':'\\ud83d\\udc46',\n  'police_car':'\\ud83d\\ude93',\n  'policewoman':'\\ud83d\\udc6e&zwj;\\u2640\\ufe0f',\n  'poodle':'\\ud83d\\udc29',\n  'popcorn':'\\ud83c\\udf7f',\n  'post_office':'\\ud83c\\udfe3',\n  'postal_horn':'\\ud83d\\udcef',\n  'postbox':'\\ud83d\\udcee',\n  'potable_water':'\\ud83d\\udeb0',\n  'potato':'\\ud83e\\udd54',\n  'pouch':'\\ud83d\\udc5d',\n  'poultry_leg':'\\ud83c\\udf57',\n  'pound':'\\ud83d\\udcb7',\n  'rage':'\\ud83d\\ude21',\n  'pouting_cat':'\\ud83d\\ude3e',\n  'pouting_man':'\\ud83d\\ude4e&zwj;\\u2642\\ufe0f',\n  'pray':'\\ud83d\\ude4f',\n  'prayer_beads':'\\ud83d\\udcff',\n  'pregnant_woman':'\\ud83e\\udd30',\n  'previous_track_button':'\\u23ee',\n  'prince':'\\ud83e\\udd34',\n  'princess':'\\ud83d\\udc78',\n  'printer':'\\ud83d\\udda8',\n  'purple_heart':'\\ud83d\\udc9c',\n  'purse':'\\ud83d\\udc5b',\n  'pushpin':'\\ud83d\\udccc',\n  'put_litter_in_its_place':'\\ud83d\\udeae',\n  'question':'\\u2753',\n  'rabbit':'\\ud83d\\udc30',\n  'rabbit2':'\\ud83d\\udc07',\n  'racehorse':'\\ud83d\\udc0e',\n  'racing_car':'\\ud83c\\udfce',\n  'radio':'\\ud83d\\udcfb',\n  'radio_button':'\\ud83d\\udd18',\n  'radioactive':'\\u2622\\ufe0f',\n  'railway_car':'\\ud83d\\ude83',\n  'railway_track':'\\ud83d\\udee4',\n  'rainbow':'\\ud83c\\udf08',\n  'rainbow_flag':'\\ud83c\\udff3\\ufe0f&zwj;\\ud83c\\udf08',\n  'raised_back_of_hand':'\\ud83e\\udd1a',\n  'raised_hand_with_fingers_splayed':'\\ud83d\\udd90',\n  'raised_hands':'\\ud83d\\ude4c',\n  'raising_hand_woman':'\\ud83d\\ude4b',\n  'raising_hand_man':'\\ud83d\\ude4b&zwj;\\u2642\\ufe0f',\n  'ram':'\\ud83d\\udc0f',\n  'ramen':'\\ud83c\\udf5c',\n  'rat':'\\ud83d\\udc00',\n  'record_button':'\\u23fa',\n  'recycle':'\\u267b\\ufe0f',\n  'red_circle':'\\ud83d\\udd34',\n  'registered':'\\u00ae\\ufe0f',\n  'relaxed':'\\u263a\\ufe0f',\n  'relieved':'\\ud83d\\ude0c',\n  'reminder_ribbon':'\\ud83c\\udf97',\n  'repeat':'\\ud83d\\udd01',\n  'repeat_one':'\\ud83d\\udd02',\n  'rescue_worker_helmet':'\\u26d1',\n  'restroom':'\\ud83d\\udebb',\n  'revolving_hearts':'\\ud83d\\udc9e',\n  'rewind':'\\u23ea',\n  'rhinoceros':'\\ud83e\\udd8f',\n  'ribbon':'\\ud83c\\udf80',\n  'rice':'\\ud83c\\udf5a',\n  'rice_ball':'\\ud83c\\udf59',\n  'rice_cracker':'\\ud83c\\udf58',\n  'rice_scene':'\\ud83c\\udf91',\n  'right_anger_bubble':'\\ud83d\\uddef',\n  'ring':'\\ud83d\\udc8d',\n  'robot':'\\ud83e\\udd16',\n  'rocket':'\\ud83d\\ude80',\n  'rofl':'\\ud83e\\udd23',\n  'roll_eyes':'\\ud83d\\ude44',\n  'roller_coaster':'\\ud83c\\udfa2',\n  'rooster':'\\ud83d\\udc13',\n  'rose':'\\ud83c\\udf39',\n  'rosette':'\\ud83c\\udff5',\n  'rotating_light':'\\ud83d\\udea8',\n  'round_pushpin':'\\ud83d\\udccd',\n  'rowing_man':'\\ud83d\\udea3',\n  'rowing_woman':'\\ud83d\\udea3&zwj;\\u2640\\ufe0f',\n  'rugby_football':'\\ud83c\\udfc9',\n  'running_man':'\\ud83c\\udfc3',\n  'running_shirt_with_sash':'\\ud83c\\udfbd',\n  'running_woman':'\\ud83c\\udfc3&zwj;\\u2640\\ufe0f',\n  'sa':'\\ud83c\\ude02\\ufe0f',\n  'sagittarius':'\\u2650\\ufe0f',\n  'sake':'\\ud83c\\udf76',\n  'sandal':'\\ud83d\\udc61',\n  'santa':'\\ud83c\\udf85',\n  'satellite':'\\ud83d\\udce1',\n  'saxophone':'\\ud83c\\udfb7',\n  'school':'\\ud83c\\udfeb',\n  'school_satchel':'\\ud83c\\udf92',\n  'scissors':'\\u2702\\ufe0f',\n  'scorpion':'\\ud83e\\udd82',\n  'scorpius':'\\u264f\\ufe0f',\n  'scream':'\\ud83d\\ude31',\n  'scream_cat':'\\ud83d\\ude40',\n  'scroll':'\\ud83d\\udcdc',\n  'seat':'\\ud83d\\udcba',\n  'secret':'\\u3299\\ufe0f',\n  'see_no_evil':'\\ud83d\\ude48',\n  'seedling':'\\ud83c\\udf31',\n  'selfie':'\\ud83e\\udd33',\n  'shallow_pan_of_food':'\\ud83e\\udd58',\n  'shamrock':'\\u2618\\ufe0f',\n  'shark':'\\ud83e\\udd88',\n  'shaved_ice':'\\ud83c\\udf67',\n  'sheep':'\\ud83d\\udc11',\n  'shell':'\\ud83d\\udc1a',\n  'shield':'\\ud83d\\udee1',\n  'shinto_shrine':'\\u26e9',\n  'ship':'\\ud83d\\udea2',\n  'shirt':'\\ud83d\\udc55',\n  'shopping':'\\ud83d\\udecd',\n  'shopping_cart':'\\ud83d\\uded2',\n  'shower':'\\ud83d\\udebf',\n  'shrimp':'\\ud83e\\udd90',\n  'signal_strength':'\\ud83d\\udcf6',\n  'six_pointed_star':'\\ud83d\\udd2f',\n  'ski':'\\ud83c\\udfbf',\n  'skier':'\\u26f7',\n  'skull':'\\ud83d\\udc80',\n  'skull_and_crossbones':'\\u2620\\ufe0f',\n  'sleeping':'\\ud83d\\ude34',\n  'sleeping_bed':'\\ud83d\\udecc',\n  'sleepy':'\\ud83d\\ude2a',\n  'slightly_frowning_face':'\\ud83d\\ude41',\n  'slightly_smiling_face':'\\ud83d\\ude42',\n  'slot_machine':'\\ud83c\\udfb0',\n  'small_airplane':'\\ud83d\\udee9',\n  'small_blue_diamond':'\\ud83d\\udd39',\n  'small_orange_diamond':'\\ud83d\\udd38',\n  'small_red_triangle':'\\ud83d\\udd3a',\n  'small_red_triangle_down':'\\ud83d\\udd3b',\n  'smile':'\\ud83d\\ude04',\n  'smile_cat':'\\ud83d\\ude38',\n  'smiley':'\\ud83d\\ude03',\n  'smiley_cat':'\\ud83d\\ude3a',\n  'smiling_imp':'\\ud83d\\ude08',\n  'smirk':'\\ud83d\\ude0f',\n  'smirk_cat':'\\ud83d\\ude3c',\n  'smoking':'\\ud83d\\udeac',\n  'snail':'\\ud83d\\udc0c',\n  'snake':'\\ud83d\\udc0d',\n  'sneezing_face':'\\ud83e\\udd27',\n  'snowboarder':'\\ud83c\\udfc2',\n  'snowflake':'\\u2744\\ufe0f',\n  'snowman':'\\u26c4\\ufe0f',\n  'snowman_with_snow':'\\u2603\\ufe0f',\n  'sob':'\\ud83d\\ude2d',\n  'soccer':'\\u26bd\\ufe0f',\n  'soon':'\\ud83d\\udd1c',\n  'sos':'\\ud83c\\udd98',\n  'sound':'\\ud83d\\udd09',\n  'space_invader':'\\ud83d\\udc7e',\n  'spades':'\\u2660\\ufe0f',\n  'spaghetti':'\\ud83c\\udf5d',\n  'sparkle':'\\u2747\\ufe0f',\n  'sparkler':'\\ud83c\\udf87',\n  'sparkles':'\\u2728',\n  'sparkling_heart':'\\ud83d\\udc96',\n  'speak_no_evil':'\\ud83d\\ude4a',\n  'speaker':'\\ud83d\\udd08',\n  'speaking_head':'\\ud83d\\udde3',\n  'speech_balloon':'\\ud83d\\udcac',\n  'speedboat':'\\ud83d\\udea4',\n  'spider':'\\ud83d\\udd77',\n  'spider_web':'\\ud83d\\udd78',\n  'spiral_calendar':'\\ud83d\\uddd3',\n  'spiral_notepad':'\\ud83d\\uddd2',\n  'spoon':'\\ud83e\\udd44',\n  'squid':'\\ud83e\\udd91',\n  'stadium':'\\ud83c\\udfdf',\n  'star':'\\u2b50\\ufe0f',\n  'star2':'\\ud83c\\udf1f',\n  'star_and_crescent':'\\u262a\\ufe0f',\n  'star_of_david':'\\u2721\\ufe0f',\n  'stars':'\\ud83c\\udf20',\n  'station':'\\ud83d\\ude89',\n  'statue_of_liberty':'\\ud83d\\uddfd',\n  'steam_locomotive':'\\ud83d\\ude82',\n  'stew':'\\ud83c\\udf72',\n  'stop_button':'\\u23f9',\n  'stop_sign':'\\ud83d\\uded1',\n  'stopwatch':'\\u23f1',\n  'straight_ruler':'\\ud83d\\udccf',\n  'strawberry':'\\ud83c\\udf53',\n  'stuck_out_tongue':'\\ud83d\\ude1b',\n  'stuck_out_tongue_closed_eyes':'\\ud83d\\ude1d',\n  'stuck_out_tongue_winking_eye':'\\ud83d\\ude1c',\n  'studio_microphone':'\\ud83c\\udf99',\n  'stuffed_flatbread':'\\ud83e\\udd59',\n  'sun_behind_large_cloud':'\\ud83c\\udf25',\n  'sun_behind_rain_cloud':'\\ud83c\\udf26',\n  'sun_behind_small_cloud':'\\ud83c\\udf24',\n  'sun_with_face':'\\ud83c\\udf1e',\n  'sunflower':'\\ud83c\\udf3b',\n  'sunglasses':'\\ud83d\\ude0e',\n  'sunny':'\\u2600\\ufe0f',\n  'sunrise':'\\ud83c\\udf05',\n  'sunrise_over_mountains':'\\ud83c\\udf04',\n  'surfing_man':'\\ud83c\\udfc4',\n  'surfing_woman':'\\ud83c\\udfc4&zwj;\\u2640\\ufe0f',\n  'sushi':'\\ud83c\\udf63',\n  'suspension_railway':'\\ud83d\\ude9f',\n  'sweat':'\\ud83d\\ude13',\n  'sweat_drops':'\\ud83d\\udca6',\n  'sweat_smile':'\\ud83d\\ude05',\n  'sweet_potato':'\\ud83c\\udf60',\n  'swimming_man':'\\ud83c\\udfca',\n  'swimming_woman':'\\ud83c\\udfca&zwj;\\u2640\\ufe0f',\n  'symbols':'\\ud83d\\udd23',\n  'synagogue':'\\ud83d\\udd4d',\n  'syringe':'\\ud83d\\udc89',\n  'taco':'\\ud83c\\udf2e',\n  'tada':'\\ud83c\\udf89',\n  'tanabata_tree':'\\ud83c\\udf8b',\n  'taurus':'\\u2649\\ufe0f',\n  'taxi':'\\ud83d\\ude95',\n  'tea':'\\ud83c\\udf75',\n  'telephone_receiver':'\\ud83d\\udcde',\n  'telescope':'\\ud83d\\udd2d',\n  'tennis':'\\ud83c\\udfbe',\n  'tent':'\\u26fa\\ufe0f',\n  'thermometer':'\\ud83c\\udf21',\n  'thinking':'\\ud83e\\udd14',\n  'thought_balloon':'\\ud83d\\udcad',\n  'ticket':'\\ud83c\\udfab',\n  'tickets':'\\ud83c\\udf9f',\n  'tiger':'\\ud83d\\udc2f',\n  'tiger2':'\\ud83d\\udc05',\n  'timer_clock':'\\u23f2',\n  'tipping_hand_man':'\\ud83d\\udc81&zwj;\\u2642\\ufe0f',\n  'tired_face':'\\ud83d\\ude2b',\n  'tm':'\\u2122\\ufe0f',\n  'toilet':'\\ud83d\\udebd',\n  'tokyo_tower':'\\ud83d\\uddfc',\n  'tomato':'\\ud83c\\udf45',\n  'tongue':'\\ud83d\\udc45',\n  'top':'\\ud83d\\udd1d',\n  'tophat':'\\ud83c\\udfa9',\n  'tornado':'\\ud83c\\udf2a',\n  'trackball':'\\ud83d\\uddb2',\n  'tractor':'\\ud83d\\ude9c',\n  'traffic_light':'\\ud83d\\udea5',\n  'train':'\\ud83d\\ude8b',\n  'train2':'\\ud83d\\ude86',\n  'tram':'\\ud83d\\ude8a',\n  'triangular_flag_on_post':'\\ud83d\\udea9',\n  'triangular_ruler':'\\ud83d\\udcd0',\n  'trident':'\\ud83d\\udd31',\n  'triumph':'\\ud83d\\ude24',\n  'trolleybus':'\\ud83d\\ude8e',\n  'trophy':'\\ud83c\\udfc6',\n  'tropical_drink':'\\ud83c\\udf79',\n  'tropical_fish':'\\ud83d\\udc20',\n  'truck':'\\ud83d\\ude9a',\n  'trumpet':'\\ud83c\\udfba',\n  'tulip':'\\ud83c\\udf37',\n  'tumbler_glass':'\\ud83e\\udd43',\n  'turkey':'\\ud83e\\udd83',\n  'turtle':'\\ud83d\\udc22',\n  'tv':'\\ud83d\\udcfa',\n  'twisted_rightwards_arrows':'\\ud83d\\udd00',\n  'two_hearts':'\\ud83d\\udc95',\n  'two_men_holding_hands':'\\ud83d\\udc6c',\n  'two_women_holding_hands':'\\ud83d\\udc6d',\n  'u5272':'\\ud83c\\ude39',\n  'u5408':'\\ud83c\\ude34',\n  'u55b6':'\\ud83c\\ude3a',\n  'u6307':'\\ud83c\\ude2f\\ufe0f',\n  'u6708':'\\ud83c\\ude37\\ufe0f',\n  'u6709':'\\ud83c\\ude36',\n  'u6e80':'\\ud83c\\ude35',\n  'u7121':'\\ud83c\\ude1a\\ufe0f',\n  'u7533':'\\ud83c\\ude38',\n  'u7981':'\\ud83c\\ude32',\n  'u7a7a':'\\ud83c\\ude33',\n  'umbrella':'\\u2614\\ufe0f',\n  'unamused':'\\ud83d\\ude12',\n  'underage':'\\ud83d\\udd1e',\n  'unicorn':'\\ud83e\\udd84',\n  'unlock':'\\ud83d\\udd13',\n  'up':'\\ud83c\\udd99',\n  'upside_down_face':'\\ud83d\\ude43',\n  'v':'\\u270c\\ufe0f',\n  'vertical_traffic_light':'\\ud83d\\udea6',\n  'vhs':'\\ud83d\\udcfc',\n  'vibration_mode':'\\ud83d\\udcf3',\n  'video_camera':'\\ud83d\\udcf9',\n  'video_game':'\\ud83c\\udfae',\n  'violin':'\\ud83c\\udfbb',\n  'virgo':'\\u264d\\ufe0f',\n  'volcano':'\\ud83c\\udf0b',\n  'volleyball':'\\ud83c\\udfd0',\n  'vs':'\\ud83c\\udd9a',\n  'vulcan_salute':'\\ud83d\\udd96',\n  'walking_man':'\\ud83d\\udeb6',\n  'walking_woman':'\\ud83d\\udeb6&zwj;\\u2640\\ufe0f',\n  'waning_crescent_moon':'\\ud83c\\udf18',\n  'waning_gibbous_moon':'\\ud83c\\udf16',\n  'warning':'\\u26a0\\ufe0f',\n  'wastebasket':'\\ud83d\\uddd1',\n  'watch':'\\u231a\\ufe0f',\n  'water_buffalo':'\\ud83d\\udc03',\n  'watermelon':'\\ud83c\\udf49',\n  'wave':'\\ud83d\\udc4b',\n  'wavy_dash':'\\u3030\\ufe0f',\n  'waxing_crescent_moon':'\\ud83c\\udf12',\n  'wc':'\\ud83d\\udebe',\n  'weary':'\\ud83d\\ude29',\n  'wedding':'\\ud83d\\udc92',\n  'weight_lifting_man':'\\ud83c\\udfcb\\ufe0f',\n  'weight_lifting_woman':'\\ud83c\\udfcb\\ufe0f&zwj;\\u2640\\ufe0f',\n  'whale':'\\ud83d\\udc33',\n  'whale2':'\\ud83d\\udc0b',\n  'wheel_of_dharma':'\\u2638\\ufe0f',\n  'wheelchair':'\\u267f\\ufe0f',\n  'white_check_mark':'\\u2705',\n  'white_circle':'\\u26aa\\ufe0f',\n  'white_flag':'\\ud83c\\udff3\\ufe0f',\n  'white_flower':'\\ud83d\\udcae',\n  'white_large_square':'\\u2b1c\\ufe0f',\n  'white_medium_small_square':'\\u25fd\\ufe0f',\n  'white_medium_square':'\\u25fb\\ufe0f',\n  'white_small_square':'\\u25ab\\ufe0f',\n  'white_square_button':'\\ud83d\\udd33',\n  'wilted_flower':'\\ud83e\\udd40',\n  'wind_chime':'\\ud83c\\udf90',\n  'wind_face':'\\ud83c\\udf2c',\n  'wine_glass':'\\ud83c\\udf77',\n  'wink':'\\ud83d\\ude09',\n  'wolf':'\\ud83d\\udc3a',\n  'woman':'\\ud83d\\udc69',\n  'woman_artist':'\\ud83d\\udc69&zwj;\\ud83c\\udfa8',\n  'woman_astronaut':'\\ud83d\\udc69&zwj;\\ud83d\\ude80',\n  'woman_cartwheeling':'\\ud83e\\udd38&zwj;\\u2640\\ufe0f',\n  'woman_cook':'\\ud83d\\udc69&zwj;\\ud83c\\udf73',\n  'woman_facepalming':'\\ud83e\\udd26&zwj;\\u2640\\ufe0f',\n  'woman_factory_worker':'\\ud83d\\udc69&zwj;\\ud83c\\udfed',\n  'woman_farmer':'\\ud83d\\udc69&zwj;\\ud83c\\udf3e',\n  'woman_firefighter':'\\ud83d\\udc69&zwj;\\ud83d\\ude92',\n  'woman_health_worker':'\\ud83d\\udc69&zwj;\\u2695\\ufe0f',\n  'woman_judge':'\\ud83d\\udc69&zwj;\\u2696\\ufe0f',\n  'woman_juggling':'\\ud83e\\udd39&zwj;\\u2640\\ufe0f',\n  'woman_mechanic':'\\ud83d\\udc69&zwj;\\ud83d\\udd27',\n  'woman_office_worker':'\\ud83d\\udc69&zwj;\\ud83d\\udcbc',\n  'woman_pilot':'\\ud83d\\udc69&zwj;\\u2708\\ufe0f',\n  'woman_playing_handball':'\\ud83e\\udd3e&zwj;\\u2640\\ufe0f',\n  'woman_playing_water_polo':'\\ud83e\\udd3d&zwj;\\u2640\\ufe0f',\n  'woman_scientist':'\\ud83d\\udc69&zwj;\\ud83d\\udd2c',\n  'woman_shrugging':'\\ud83e\\udd37&zwj;\\u2640\\ufe0f',\n  'woman_singer':'\\ud83d\\udc69&zwj;\\ud83c\\udfa4',\n  'woman_student':'\\ud83d\\udc69&zwj;\\ud83c\\udf93',\n  'woman_teacher':'\\ud83d\\udc69&zwj;\\ud83c\\udfeb',\n  'woman_technologist':'\\ud83d\\udc69&zwj;\\ud83d\\udcbb',\n  'woman_with_turban':'\\ud83d\\udc73&zwj;\\u2640\\ufe0f',\n  'womans_clothes':'\\ud83d\\udc5a',\n  'womans_hat':'\\ud83d\\udc52',\n  'women_wrestling':'\\ud83e\\udd3c&zwj;\\u2640\\ufe0f',\n  'womens':'\\ud83d\\udeba',\n  'world_map':'\\ud83d\\uddfa',\n  'worried':'\\ud83d\\ude1f',\n  'wrench':'\\ud83d\\udd27',\n  'writing_hand':'\\u270d\\ufe0f',\n  'x':'\\u274c',\n  'yellow_heart':'\\ud83d\\udc9b',\n  'yen':'\\ud83d\\udcb4',\n  'yin_yang':'\\u262f\\ufe0f',\n  'yum':'\\ud83d\\ude0b',\n  'zap':'\\u26a1\\ufe0f',\n  'zipper_mouth_face':'\\ud83e\\udd10',\n  'zzz':'\\ud83d\\udca4',\n\n  /* special emojis :P */\n  'octocat':  '<img alt=\":octocat:\" height=\"20\" width=\"20\" align=\"absmiddle\" src=\"https://assets-cdn.github.com/images/icons/emoji/octocat.png\">',\n  'showdown': '<span style=\"font-family: \\'Anonymous Pro\\', monospace; text-decoration: underline; text-decoration-style: dashed; text-decoration-color: #3e8b8a;text-underline-position: under;\">S</span>'\n};\n\r\n/**\n * Created by Estevao on 31-05-2015.\n */\n\n/**\n * Showdown Converter class\n * @class\n * @param {object} [converterOptions]\n * @returns {Converter}\n */\nshowdown.Converter = function (converterOptions) {\n  'use strict';\n\n  var\n      /**\n       * Options used by this converter\n       * @private\n       * @type {{}}\n       */\n      options = {},\n\n      /**\n       * Language extensions used by this converter\n       * @private\n       * @type {Array}\n       */\n      langExtensions = [],\n\n      /**\n       * Output modifiers extensions used by this converter\n       * @private\n       * @type {Array}\n       */\n      outputModifiers = [],\n\n      /**\n       * Event listeners\n       * @private\n       * @type {{}}\n       */\n      listeners = {},\n\n      /**\n       * The flavor set in this converter\n       */\n      setConvFlavor = setFlavor,\n\n      /**\n       * Metadata of the document\n       * @type {{parsed: {}, raw: string, format: string}}\n       */\n      metadata = {\n        parsed: {},\n        raw: '',\n        format: ''\n      };\n\n  _constructor();\n\n  /**\n   * Converter constructor\n   * @private\n   */\n  function _constructor () {\n    converterOptions = converterOptions || {};\n\n    for (var gOpt in globalOptions) {\n      if (globalOptions.hasOwnProperty(gOpt)) {\n        options[gOpt] = globalOptions[gOpt];\n      }\n    }\n\n    // Merge options\n    if (typeof converterOptions === 'object') {\n      for (var opt in converterOptions) {\n        if (converterOptions.hasOwnProperty(opt)) {\n          options[opt] = converterOptions[opt];\n        }\n      }\n    } else {\n      throw Error('Converter expects the passed parameter to be an object, but ' + typeof converterOptions +\n      ' was passed instead.');\n    }\n\n    if (options.extensions) {\n      showdown.helper.forEach(options.extensions, _parseExtension);\n    }\n  }\n\n  /**\n   * Parse extension\n   * @param {*} ext\n   * @param {string} [name='']\n   * @private\n   */\n  function _parseExtension (ext, name) {\n\n    name = name || null;\n    // If it's a string, the extension was previously loaded\n    if (showdown.helper.isString(ext)) {\n      ext = showdown.helper.stdExtName(ext);\n      name = ext;\n\n      // LEGACY_SUPPORT CODE\n      if (showdown.extensions[ext]) {\n        console.warn('DEPRECATION WARNING: ' + ext + ' is an old extension that uses a deprecated loading method.' +\n          'Please inform the developer that the extension should be updated!');\n        legacyExtensionLoading(showdown.extensions[ext], ext);\n        return;\n        // END LEGACY SUPPORT CODE\n\n      } else if (!showdown.helper.isUndefined(extensions[ext])) {\n        ext = extensions[ext];\n\n      } else {\n        throw Error('Extension \"' + ext + '\" could not be loaded. It was either not found or is not a valid extension.');\n      }\n    }\n\n    if (typeof ext === 'function') {\n      ext = ext();\n    }\n\n    if (!showdown.helper.isArray(ext)) {\n      ext = [ext];\n    }\n\n    var validExt = validate(ext, name);\n    if (!validExt.valid) {\n      throw Error(validExt.error);\n    }\n\n    for (var i = 0; i < ext.length; ++i) {\n      switch (ext[i].type) {\n\n        case 'lang':\n          langExtensions.push(ext[i]);\n          break;\n\n        case 'output':\n          outputModifiers.push(ext[i]);\n          break;\n      }\n      if (ext[i].hasOwnProperty('listeners')) {\n        for (var ln in ext[i].listeners) {\n          if (ext[i].listeners.hasOwnProperty(ln)) {\n            listen(ln, ext[i].listeners[ln]);\n          }\n        }\n      }\n    }\n\n  }\n\n  /**\n   * LEGACY_SUPPORT\n   * @param {*} ext\n   * @param {string} name\n   */\n  function legacyExtensionLoading (ext, name) {\n    if (typeof ext === 'function') {\n      ext = ext(new showdown.Converter());\n    }\n    if (!showdown.helper.isArray(ext)) {\n      ext = [ext];\n    }\n    var valid = validate(ext, name);\n\n    if (!valid.valid) {\n      throw Error(valid.error);\n    }\n\n    for (var i = 0; i < ext.length; ++i) {\n      switch (ext[i].type) {\n        case 'lang':\n          langExtensions.push(ext[i]);\n          break;\n        case 'output':\n          outputModifiers.push(ext[i]);\n          break;\n        default:// should never reach here\n          throw Error('Extension loader error: Type unrecognized!!!');\n      }\n    }\n  }\n\n  /**\n   * Listen to an event\n   * @param {string} name\n   * @param {function} callback\n   */\n  function listen (name, callback) {\n    if (!showdown.helper.isString(name)) {\n      throw Error('Invalid argument in converter.listen() method: name must be a string, but ' + typeof name + ' given');\n    }\n\n    if (typeof callback !== 'function') {\n      throw Error('Invalid argument in converter.listen() method: callback must be a function, but ' + typeof callback + ' given');\n    }\n\n    if (!listeners.hasOwnProperty(name)) {\n      listeners[name] = [];\n    }\n    listeners[name].push(callback);\n  }\n\n  function rTrimInputText (text) {\n    var rsp = text.match(/^\\s*/)[0].length,\n        rgx = new RegExp('^\\\\s{0,' + rsp + '}', 'gm');\n    return text.replace(rgx, '');\n  }\n\n  /**\n   * Dispatch an event\n   * @private\n   * @param {string} evtName Event name\n   * @param {string} text Text\n   * @param {{}} options Converter Options\n   * @param {{}} globals\n   * @returns {string}\n   */\n  this._dispatch = function dispatch (evtName, text, options, globals) {\n    if (listeners.hasOwnProperty(evtName)) {\n      for (var ei = 0; ei < listeners[evtName].length; ++ei) {\n        var nText = listeners[evtName][ei](evtName, text, this, options, globals);\n        if (nText && typeof nText !== 'undefined') {\n          text = nText;\n        }\n      }\n    }\n    return text;\n  };\n\n  /**\n   * Listen to an event\n   * @param {string} name\n   * @param {function} callback\n   * @returns {showdown.Converter}\n   */\n  this.listen = function (name, callback) {\n    listen(name, callback);\n    return this;\n  };\n\n  /**\n   * Converts a markdown string into HTML\n   * @param {string} text\n   * @returns {*}\n   */\n  this.makeHtml = function (text) {\n    //check if text is not falsy\n    if (!text) {\n      return text;\n    }\n\n    var globals = {\n      gHtmlBlocks:     [],\n      gHtmlMdBlocks:   [],\n      gHtmlSpans:      [],\n      gUrls:           {},\n      gTitles:         {},\n      gDimensions:     {},\n      gListLevel:      0,\n      hashLinkCounts:  {},\n      langExtensions:  langExtensions,\n      outputModifiers: outputModifiers,\n      converter:       this,\n      ghCodeBlocks:    [],\n      metadata: {\n        parsed: {},\n        raw: '',\n        format: ''\n      }\n    };\n\n    // This lets us use  trema as an escape char to avoid md5 hashes\n    // The choice of character is arbitrary; anything that isn't\n    // magic in Markdown will work.\n    text = text.replace(//g, 'T');\n\n    // Replace $ with D\n    // RegExp interprets $ as a special character\n    // when it's in a replacement string\n    text = text.replace(/\\$/g, 'D');\n\n    // Standardize line endings\n    text = text.replace(/\\r\\n/g, '\\n'); // DOS to Unix\n    text = text.replace(/\\r/g, '\\n'); // Mac to Unix\n\n    // Stardardize line spaces\n    text = text.replace(/\\u00A0/g, '&nbsp;');\n\n    if (options.smartIndentationFix) {\n      text = rTrimInputText(text);\n    }\n\n    // Make sure text begins and ends with a couple of newlines:\n    text = '\\n\\n' + text + '\\n\\n';\n\n    // detab\n    text = showdown.subParser('detab')(text, options, globals);\n\n    /**\n     * Strip any lines consisting only of spaces and tabs.\n     * This makes subsequent regexs easier to write, because we can\n     * match consecutive blank lines with /\\n+/ instead of something\n     * contorted like /[ \\t]*\\n+/\n     */\n    text = text.replace(/^[ \\t]+$/mg, '');\n\n    //run languageExtensions\n    showdown.helper.forEach(langExtensions, function (ext) {\n      text = showdown.subParser('runExtension')(ext, text, options, globals);\n    });\n\n    // run the sub parsers\n    text = showdown.subParser('metadata')(text, options, globals);\n    text = showdown.subParser('hashPreCodeTags')(text, options, globals);\n    text = showdown.subParser('githubCodeBlocks')(text, options, globals);\n    text = showdown.subParser('hashHTMLBlocks')(text, options, globals);\n    text = showdown.subParser('hashCodeTags')(text, options, globals);\n    text = showdown.subParser('stripLinkDefinitions')(text, options, globals);\n    text = showdown.subParser('blockGamut')(text, options, globals);\n    text = showdown.subParser('unhashHTMLSpans')(text, options, globals);\n    text = showdown.subParser('unescapeSpecialChars')(text, options, globals);\n\n    // attacklab: Restore dollar signs\n    text = text.replace(/D/g, '$$');\n\n    // attacklab: Restore tremas\n    text = text.replace(/T/g, '');\n\n    // render a complete html document instead of a partial if the option is enabled\n    text = showdown.subParser('completeHTMLDocument')(text, options, globals);\n\n    // Run output modifiers\n    showdown.helper.forEach(outputModifiers, function (ext) {\n      text = showdown.subParser('runExtension')(ext, text, options, globals);\n    });\n\n    // update metadata\n    metadata = globals.metadata;\n    return text;\n  };\n\n  /**\n   * Converts an HTML string into a markdown string\n   * @param src\n   * @param [HTMLParser] A WHATWG DOM and HTML parser, such as JSDOM. If none is supplied, window.document will be used.\n   * @returns {string}\n   */\n  this.makeMarkdown = this.makeMd = function (src, HTMLParser) {\n\n    // replace \\r\\n with \\n\n    src = src.replace(/\\r\\n/g, '\\n');\n    src = src.replace(/\\r/g, '\\n'); // old macs\n\n    // due to an edge case, we need to find this: > <\n    // to prevent removing of non silent white spaces\n    // ex: <em>this is</em> <strong>sparta</strong>\n    src = src.replace(/>[ \\t]+</, '>NBSP;<');\n\n    if (!HTMLParser) {\n      if (window && window.document) {\n        HTMLParser = window.document;\n      } else {\n        throw new Error('HTMLParser is undefined. If in a webworker or nodejs environment, you need to provide a WHATWG DOM and HTML such as JSDOM');\n      }\n    }\n\n    var doc = HTMLParser.createElement('div');\n    doc.innerHTML = src;\n\n    var globals = {\n      preList: substitutePreCodeTags(doc)\n    };\n\n    // remove all newlines and collapse spaces\n    clean(doc);\n\n    // some stuff, like accidental reference links must now be escaped\n    // TODO\n    // doc.innerHTML = doc.innerHTML.replace(/\\[[\\S\\t ]]/);\n\n    var nodes = doc.childNodes,\n        mdDoc = '';\n\n    for (var i = 0; i < nodes.length; i++) {\n      mdDoc += showdown.subParser('makeMarkdown.node')(nodes[i], globals);\n    }\n\n    function clean (node) {\n      for (var n = 0; n < node.childNodes.length; ++n) {\n        var child = node.childNodes[n];\n        if (child.nodeType === 3) {\n          if (!/\\S/.test(child.nodeValue)) {\n            node.removeChild(child);\n            --n;\n          } else {\n            child.nodeValue = child.nodeValue.split('\\n').join(' ');\n            child.nodeValue = child.nodeValue.replace(/(\\s)+/g, '$1');\n          }\n        } else if (child.nodeType === 1) {\n          clean(child);\n        }\n      }\n    }\n\n    // find all pre tags and replace contents with placeholder\n    // we need this so that we can remove all indentation from html\n    // to ease up parsing\n    function substitutePreCodeTags (doc) {\n\n      var pres = doc.querySelectorAll('pre'),\n          presPH = [];\n\n      for (var i = 0; i < pres.length; ++i) {\n\n        if (pres[i].childElementCount === 1 && pres[i].firstChild.tagName.toLowerCase() === 'code') {\n          var content = pres[i].firstChild.innerHTML.trim(),\n              language = pres[i].firstChild.getAttribute('data-language') || '';\n\n          // if data-language attribute is not defined, then we look for class language-*\n          if (language === '') {\n            var classes = pres[i].firstChild.className.split(' ');\n            for (var c = 0; c < classes.length; ++c) {\n              var matches = classes[c].match(/^language-(.+)$/);\n              if (matches !== null) {\n                language = matches[1];\n                break;\n              }\n            }\n          }\n\n          // unescape html entities in content\n          content = showdown.helper.unescapeHTMLEntities(content);\n\n          presPH.push(content);\n          pres[i].outerHTML = '<precode language=\"' + language + '\" precodenum=\"' + i.toString() + '\"></precode>';\n        } else {\n          presPH.push(pres[i].innerHTML);\n          pres[i].innerHTML = '';\n          pres[i].setAttribute('prenum', i.toString());\n        }\n      }\n      return presPH;\n    }\n\n    return mdDoc;\n  };\n\n  /**\n   * Set an option of this Converter instance\n   * @param {string} key\n   * @param {*} value\n   */\n  this.setOption = function (key, value) {\n    options[key] = value;\n  };\n\n  /**\n   * Get the option of this Converter instance\n   * @param {string} key\n   * @returns {*}\n   */\n  this.getOption = function (key) {\n    return options[key];\n  };\n\n  /**\n   * Get the options of this Converter instance\n   * @returns {{}}\n   */\n  this.getOptions = function () {\n    return options;\n  };\n\n  /**\n   * Add extension to THIS converter\n   * @param {{}} extension\n   * @param {string} [name=null]\n   */\n  this.addExtension = function (extension, name) {\n    name = name || null;\n    _parseExtension(extension, name);\n  };\n\n  /**\n   * Use a global registered extension with THIS converter\n   * @param {string} extensionName Name of the previously registered extension\n   */\n  this.useExtension = function (extensionName) {\n    _parseExtension(extensionName);\n  };\n\n  /**\n   * Set the flavor THIS converter should use\n   * @param {string} name\n   */\n  this.setFlavor = function (name) {\n    if (!flavor.hasOwnProperty(name)) {\n      throw Error(name + ' flavor was not found');\n    }\n    var preset = flavor[name];\n    setConvFlavor = name;\n    for (var option in preset) {\n      if (preset.hasOwnProperty(option)) {\n        options[option] = preset[option];\n      }\n    }\n  };\n\n  /**\n   * Get the currently set flavor of this converter\n   * @returns {string}\n   */\n  this.getFlavor = function () {\n    return setConvFlavor;\n  };\n\n  /**\n   * Remove an extension from THIS converter.\n   * Note: This is a costly operation. It's better to initialize a new converter\n   * and specify the extensions you wish to use\n   * @param {Array} extension\n   */\n  this.removeExtension = function (extension) {\n    if (!showdown.helper.isArray(extension)) {\n      extension = [extension];\n    }\n    for (var a = 0; a < extension.length; ++a) {\n      var ext = extension[a];\n      for (var i = 0; i < langExtensions.length; ++i) {\n        if (langExtensions[i] === ext) {\n          langExtensions[i].splice(i, 1);\n        }\n      }\n      for (var ii = 0; ii < outputModifiers.length; ++i) {\n        if (outputModifiers[ii] === ext) {\n          outputModifiers[ii].splice(i, 1);\n        }\n      }\n    }\n  };\n\n  /**\n   * Get all extension of THIS converter\n   * @returns {{language: Array, output: Array}}\n   */\n  this.getAllExtensions = function () {\n    return {\n      language: langExtensions,\n      output: outputModifiers\n    };\n  };\n\n  /**\n   * Get the metadata of the previously parsed document\n   * @param raw\n   * @returns {string|{}}\n   */\n  this.getMetadata = function (raw) {\n    if (raw) {\n      return metadata.raw;\n    } else {\n      return metadata.parsed;\n    }\n  };\n\n  /**\n   * Get the metadata format of the previously parsed document\n   * @returns {string}\n   */\n  this.getMetadataFormat = function () {\n    return metadata.format;\n  };\n\n  /**\n   * Private: set a single key, value metadata pair\n   * @param {string} key\n   * @param {string} value\n   */\n  this._setMetadataPair = function (key, value) {\n    metadata.parsed[key] = value;\n  };\n\n  /**\n   * Private: set metadata format\n   * @param {string} format\n   */\n  this._setMetadataFormat = function (format) {\n    metadata.format = format;\n  };\n\n  /**\n   * Private: set metadata raw text\n   * @param {string} raw\n   */\n  this._setMetadataRaw = function (raw) {\n    metadata.raw = raw;\n  };\n};\n\r\n/**\n * Turn Markdown link shortcuts into XHTML <a> tags.\n */\nshowdown.subParser('anchors', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('anchors.before', text, options, globals);\n\n  var writeAnchorTag = function (wholeMatch, linkText, linkId, url, m5, m6, title) {\n    if (showdown.helper.isUndefined(title)) {\n      title = '';\n    }\n    linkId = linkId.toLowerCase();\n\n    // Special case for explicit empty url\n    if (wholeMatch.search(/\\(<?\\s*>? ?(['\"].*['\"])?\\)$/m) > -1) {\n      url = '';\n    } else if (!url) {\n      if (!linkId) {\n        // lower-case and turn embedded newlines into spaces\n        linkId = linkText.toLowerCase().replace(/ ?\\n/g, ' ');\n      }\n      url = '#' + linkId;\n\n      if (!showdown.helper.isUndefined(globals.gUrls[linkId])) {\n        url = globals.gUrls[linkId];\n        if (!showdown.helper.isUndefined(globals.gTitles[linkId])) {\n          title = globals.gTitles[linkId];\n        }\n      } else {\n        return wholeMatch;\n      }\n    }\n\n    //url = showdown.helper.escapeCharacters(url, '*_', false); // replaced line to improve performance\n    url = url.replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);\n\n    var result = '<a href=\"' + url + '\"';\n\n    if (title !== '' && title !== null) {\n      title = title.replace(/\"/g, '&quot;');\n      //title = showdown.helper.escapeCharacters(title, '*_', false); // replaced line to improve performance\n      title = title.replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);\n      result += ' title=\"' + title + '\"';\n    }\n\n    // optionLinksInNewWindow only applies\n    // to external links. Hash links (#) open in same page\n    if (options.openLinksInNewWindow && !/^#/.test(url)) {\n      // escaped _\n      result += ' rel=\"noopener noreferrer\" target=\"E95Eblank\"';\n    }\n\n    result += '>' + linkText + '</a>';\n\n    return result;\n  };\n\n  // First, handle reference-style links: [link text] [id]\n  text = text.replace(/\\[((?:\\[[^\\]]*]|[^\\[\\]])*)] ?(?:\\n *)?\\[(.*?)]()()()()/g, writeAnchorTag);\n\n  // Next, inline-style links: [link text](url \"optional title\")\n  // cases with crazy urls like ./image/cat1).png\n  text = text.replace(/\\[((?:\\[[^\\]]*]|[^\\[\\]])*)]()[ \\t]*\\([ \\t]?<([^>]*)>(?:[ \\t]*(([\"'])([^\"]*?)\\5))?[ \\t]?\\)/g,\n    writeAnchorTag);\n\n  // normal cases\n  text = text.replace(/\\[((?:\\[[^\\]]*]|[^\\[\\]])*)]()[ \\t]*\\([ \\t]?<?([\\S]+?(?:\\([\\S]*?\\)[\\S]*?)?)>?(?:[ \\t]*(([\"'])([^\"]*?)\\5))?[ \\t]?\\)/g,\n    writeAnchorTag);\n\n  // handle reference-style shortcuts: [link text]\n  // These must come last in case you've also got [link test][1]\n  // or [link test](/foo)\n  text = text.replace(/\\[([^\\[\\]]+)]()()()()()/g, writeAnchorTag);\n\n  // Lastly handle GithubMentions if option is enabled\n  if (options.ghMentions) {\n    text = text.replace(/(^|\\s)(\\\\)?(@([a-z\\d]+(?:[a-z\\d.-]+?[a-z\\d]+)*))/gmi, function (wm, st, escape, mentions, username) {\n      if (escape === '\\\\') {\n        return st + mentions;\n      }\n\n      //check if options.ghMentionsLink is a string\n      if (!showdown.helper.isString(options.ghMentionsLink)) {\n        throw new Error('ghMentionsLink option must be a string');\n      }\n      var lnk = options.ghMentionsLink.replace(/\\{u}/g, username),\n          target = '';\n      if (options.openLinksInNewWindow) {\n        target = ' rel=\"noopener noreferrer\" target=\"E95Eblank\"';\n      }\n      return st + '<a href=\"' + lnk + '\"' + target + '>' + mentions + '</a>';\n    });\n  }\n\n  text = globals.converter._dispatch('anchors.after', text, options, globals);\n  return text;\n});\n\r\n// url allowed chars [a-z\\d_.~:/?#[]@!$&'()*+,;=-]\n\nvar simpleURLRegex  = /([*~_]+|\\b)(((https?|ftp|dict):\\/\\/|www\\.)[^'\">\\s]+?\\.[^'\">\\s]+?)()(\\1)?(?=\\s|$)(?![\"<>])/gi,\n    simpleURLRegex2 = /([*~_]+|\\b)(((https?|ftp|dict):\\/\\/|www\\.)[^'\">\\s]+\\.[^'\">\\s]+?)([.!?,()\\[\\]])?(\\1)?(?=\\s|$)(?![\"<>])/gi,\n    delimUrlRegex   = /()<(((https?|ftp|dict):\\/\\/|www\\.)[^'\">\\s]+)()>()/gi,\n    simpleMailRegex = /(^|\\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\\.[-a-z0-9]+)*\\.[a-z]+)(?=$|\\s)/gmi,\n    delimMailRegex  = /<()(?:mailto:)?([-.\\w]+@[-a-z0-9]+(\\.[-a-z0-9]+)*\\.[a-z]+)>/gi,\n\n    replaceLink = function (options) {\n      'use strict';\n      return function (wm, leadingMagicChars, link, m2, m3, trailingPunctuation, trailingMagicChars) {\n        link = link.replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);\n        var lnkTxt = link,\n            append = '',\n            target = '',\n            lmc    = leadingMagicChars || '',\n            tmc    = trailingMagicChars || '';\n        if (/^www\\./i.test(link)) {\n          link = link.replace(/^www\\./i, 'http://www.');\n        }\n        if (options.excludeTrailingPunctuationFromURLs && trailingPunctuation) {\n          append = trailingPunctuation;\n        }\n        if (options.openLinksInNewWindow) {\n          target = ' rel=\"noopener noreferrer\" target=\"E95Eblank\"';\n        }\n        return lmc + '<a href=\"' + link + '\"' + target + '>' + lnkTxt + '</a>' + append + tmc;\n      };\n    },\n\n    replaceMail = function (options, globals) {\n      'use strict';\n      return function (wholeMatch, b, mail) {\n        var href = 'mailto:';\n        b = b || '';\n        mail = showdown.subParser('unescapeSpecialChars')(mail, options, globals);\n        if (options.encodeEmails) {\n          href = showdown.helper.encodeEmailAddress(href + mail);\n          mail = showdown.helper.encodeEmailAddress(mail);\n        } else {\n          href = href + mail;\n        }\n        return b + '<a href=\"' + href + '\">' + mail + '</a>';\n      };\n    };\n\nshowdown.subParser('autoLinks', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('autoLinks.before', text, options, globals);\n\n  text = text.replace(delimUrlRegex, replaceLink(options));\n  text = text.replace(delimMailRegex, replaceMail(options, globals));\n\n  text = globals.converter._dispatch('autoLinks.after', text, options, globals);\n\n  return text;\n});\n\nshowdown.subParser('simplifiedAutoLinks', function (text, options, globals) {\n  'use strict';\n\n  if (!options.simplifiedAutoLink) {\n    return text;\n  }\n\n  text = globals.converter._dispatch('simplifiedAutoLinks.before', text, options, globals);\n\n  if (options.excludeTrailingPunctuationFromURLs) {\n    text = text.replace(simpleURLRegex2, replaceLink(options));\n  } else {\n    text = text.replace(simpleURLRegex, replaceLink(options));\n  }\n  text = text.replace(simpleMailRegex, replaceMail(options, globals));\n\n  text = globals.converter._dispatch('simplifiedAutoLinks.after', text, options, globals);\n\n  return text;\n});\n\r\n/**\n * These are all the transformations that form block-level\n * tags like paragraphs, headers, and list items.\n */\nshowdown.subParser('blockGamut', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('blockGamut.before', text, options, globals);\n\n  // we parse blockquotes first so that we can have headings and hrs\n  // inside blockquotes\n  text = showdown.subParser('blockQuotes')(text, options, globals);\n  text = showdown.subParser('headers')(text, options, globals);\n\n  // Do Horizontal Rules:\n  text = showdown.subParser('horizontalRule')(text, options, globals);\n\n  text = showdown.subParser('lists')(text, options, globals);\n  text = showdown.subParser('codeBlocks')(text, options, globals);\n  text = showdown.subParser('tables')(text, options, globals);\n\n  // We already ran _HashHTMLBlocks() before, in Markdown(), but that\n  // was to escape raw HTML in the original Markdown source. This time,\n  // we're escaping the markup we've just created, so that we don't wrap\n  // <p> tags around block-level tags.\n  text = showdown.subParser('hashHTMLBlocks')(text, options, globals);\n  text = showdown.subParser('paragraphs')(text, options, globals);\n\n  text = globals.converter._dispatch('blockGamut.after', text, options, globals);\n\n  return text;\n});\n\r\nshowdown.subParser('blockQuotes', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('blockQuotes.before', text, options, globals);\n\n  // add a couple extra lines after the text and endtext mark\n  text = text + '\\n\\n';\n\n  var rgx = /(^ {0,3}>[ \\t]?.+\\n(.+\\n)*\\n*)+/gm;\n\n  if (options.splitAdjacentBlockquotes) {\n    rgx = /^ {0,3}>[\\s\\S]*?(?:\\n\\n)/gm;\n  }\n\n  text = text.replace(rgx, function (bq) {\n    // attacklab: hack around Konqueror 3.5.4 bug:\n    // \"----------bug\".replace(/^-/g,\"\") == \"bug\"\n    bq = bq.replace(/^[ \\t]*>[ \\t]?/gm, ''); // trim one level of quoting\n\n    // attacklab: clean up hack\n    bq = bq.replace(/0/g, '');\n\n    bq = bq.replace(/^[ \\t]+$/gm, ''); // trim whitespace-only lines\n    bq = showdown.subParser('githubCodeBlocks')(bq, options, globals);\n    bq = showdown.subParser('blockGamut')(bq, options, globals); // recurse\n\n    bq = bq.replace(/(^|\\n)/g, '$1  ');\n    // These leading spaces screw with <pre> content, so we need to fix that:\n    bq = bq.replace(/(\\s*<pre>[^\\r]+?<\\/pre>)/gm, function (wholeMatch, m1) {\n      var pre = m1;\n      // attacklab: hack around Konqueror 3.5.4 bug:\n      pre = pre.replace(/^  /mg, '0');\n      pre = pre.replace(/0/g, '');\n      return pre;\n    });\n\n    return showdown.subParser('hashBlock')('<blockquote>\\n' + bq + '\\n</blockquote>', options, globals);\n  });\n\n  text = globals.converter._dispatch('blockQuotes.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Process Markdown `<pre><code>` blocks.\n */\nshowdown.subParser('codeBlocks', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('codeBlocks.before', text, options, globals);\n\n  // sentinel workarounds for lack of \\A and \\Z, safari\\khtml bug\n  text += '0';\n\n  var pattern = /(?:\\n\\n|^)((?:(?:[ ]{4}|\\t).*\\n+)+)(\\n*[ ]{0,3}[^ \\t\\n]|(?=0))/g;\n  text = text.replace(pattern, function (wholeMatch, m1, m2) {\n    var codeblock = m1,\n        nextChar = m2,\n        end = '\\n';\n\n    codeblock = showdown.subParser('outdent')(codeblock, options, globals);\n    codeblock = showdown.subParser('encodeCode')(codeblock, options, globals);\n    codeblock = showdown.subParser('detab')(codeblock, options, globals);\n    codeblock = codeblock.replace(/^\\n+/g, ''); // trim leading newlines\n    codeblock = codeblock.replace(/\\n+$/g, ''); // trim trailing newlines\n\n    if (options.omitExtraWLInCodeBlocks) {\n      end = '';\n    }\n\n    codeblock = '<pre><code>' + codeblock + end + '</code></pre>';\n\n    return showdown.subParser('hashBlock')(codeblock, options, globals) + nextChar;\n  });\n\n  // strip sentinel\n  text = text.replace(/0/, '');\n\n  text = globals.converter._dispatch('codeBlocks.after', text, options, globals);\n  return text;\n});\n\r\n/**\n *\n *   *  Backtick quotes are used for <code></code> spans.\n *\n *   *  You can use multiple backticks as the delimiters if you want to\n *     include literal backticks in the code span. So, this input:\n *\n *         Just type ``foo `bar` baz`` at the prompt.\n *\n *       Will translate to:\n *\n *         <p>Just type <code>foo `bar` baz</code> at the prompt.</p>\n *\n *    There's no arbitrary limit to the number of backticks you\n *    can use as delimters. If you need three consecutive backticks\n *    in your code, use four for delimiters, etc.\n *\n *  *  You can use spaces to get literal backticks at the edges:\n *\n *         ... type `` `bar` `` ...\n *\n *       Turns to:\n *\n *         ... type <code>`bar`</code> ...\n */\nshowdown.subParser('codeSpans', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('codeSpans.before', text, options, globals);\n\n  if (typeof text === 'undefined') {\n    text = '';\n  }\n  text = text.replace(/(^|[^\\\\])(`+)([^\\r]*?[^`])\\2(?!`)/gm,\n    function (wholeMatch, m1, m2, m3) {\n      var c = m3;\n      c = c.replace(/^([ \\t]*)/g, '');\t// leading whitespace\n      c = c.replace(/[ \\t]*$/g, '');\t// trailing whitespace\n      c = showdown.subParser('encodeCode')(c, options, globals);\n      c = m1 + '<code>' + c + '</code>';\n      c = showdown.subParser('hashHTMLSpans')(c, options, globals);\n      return c;\n    }\n  );\n\n  text = globals.converter._dispatch('codeSpans.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Create a full HTML document from the processed markdown\n */\nshowdown.subParser('completeHTMLDocument', function (text, options, globals) {\n  'use strict';\n\n  if (!options.completeHTMLDocument) {\n    return text;\n  }\n\n  text = globals.converter._dispatch('completeHTMLDocument.before', text, options, globals);\n\n  var doctype = 'html',\n      doctypeParsed = '<!DOCTYPE HTML>\\n',\n      title = '',\n      charset = '<meta charset=\"utf-8\">\\n',\n      lang = '',\n      metadata = '';\n\n  if (typeof globals.metadata.parsed.doctype !== 'undefined') {\n    doctypeParsed = '<!DOCTYPE ' +  globals.metadata.parsed.doctype + '>\\n';\n    doctype = globals.metadata.parsed.doctype.toString().toLowerCase();\n    if (doctype === 'html' || doctype === 'html5') {\n      charset = '<meta charset=\"utf-8\">';\n    }\n  }\n\n  for (var meta in globals.metadata.parsed) {\n    if (globals.metadata.parsed.hasOwnProperty(meta)) {\n      switch (meta.toLowerCase()) {\n        case 'doctype':\n          break;\n\n        case 'title':\n          title = '<title>' +  globals.metadata.parsed.title + '</title>\\n';\n          break;\n\n        case 'charset':\n          if (doctype === 'html' || doctype === 'html5') {\n            charset = '<meta charset=\"' + globals.metadata.parsed.charset + '\">\\n';\n          } else {\n            charset = '<meta name=\"charset\" content=\"' + globals.metadata.parsed.charset + '\">\\n';\n          }\n          break;\n\n        case 'language':\n        case 'lang':\n          lang = ' lang=\"' + globals.metadata.parsed[meta] + '\"';\n          metadata += '<meta name=\"' + meta + '\" content=\"' + globals.metadata.parsed[meta] + '\">\\n';\n          break;\n\n        default:\n          metadata += '<meta name=\"' + meta + '\" content=\"' + globals.metadata.parsed[meta] + '\">\\n';\n      }\n    }\n  }\n\n  text = doctypeParsed + '<html' + lang + '>\\n<head>\\n' + title + charset + metadata + '</head>\\n<body>\\n' + text.trim() + '\\n</body>\\n</html>';\n\n  text = globals.converter._dispatch('completeHTMLDocument.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Convert all tabs to spaces\n */\nshowdown.subParser('detab', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('detab.before', text, options, globals);\n\n  // expand first n-1 tabs\n  text = text.replace(/\\t(?=\\t)/g, '    '); // g_tab_width\n\n  // replace the nth with two sentinels\n  text = text.replace(/\\t/g, 'AB');\n\n  // use the sentinel to anchor our regex so it doesn't explode\n  text = text.replace(/B(.+?)A/g, function (wholeMatch, m1) {\n    var leadingText = m1,\n        numSpaces = 4 - leadingText.length % 4;  // g_tab_width\n\n    // there *must* be a better way to do this:\n    for (var i = 0; i < numSpaces; i++) {\n      leadingText += ' ';\n    }\n\n    return leadingText;\n  });\n\n  // clean up sentinels\n  text = text.replace(/A/g, '    ');  // g_tab_width\n  text = text.replace(/B/g, '');\n\n  text = globals.converter._dispatch('detab.after', text, options, globals);\n  return text;\n});\n\r\nshowdown.subParser('ellipsis', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('ellipsis.before', text, options, globals);\n\n  text = text.replace(/\\.\\.\\./g, '');\n\n  text = globals.converter._dispatch('ellipsis.after', text, options, globals);\n\n  return text;\n});\n\r\n/**\n * Turn emoji codes into emojis\n *\n * List of supported emojis: https://github.com/showdownjs/showdown/wiki/Emojis\n */\nshowdown.subParser('emoji', function (text, options, globals) {\n  'use strict';\n\n  if (!options.emoji) {\n    return text;\n  }\n\n  text = globals.converter._dispatch('emoji.before', text, options, globals);\n\n  var emojiRgx = /:([\\S]+?):/g;\n\n  text = text.replace(emojiRgx, function (wm, emojiCode) {\n    if (showdown.helper.emojis.hasOwnProperty(emojiCode)) {\n      return showdown.helper.emojis[emojiCode];\n    }\n    return wm;\n  });\n\n  text = globals.converter._dispatch('emoji.after', text, options, globals);\n\n  return text;\n});\n\r\n/**\n * Smart processing for ampersands and angle brackets that need to be encoded.\n */\nshowdown.subParser('encodeAmpsAndAngles', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('encodeAmpsAndAngles.before', text, options, globals);\n\n  // Ampersand-encoding based entirely on Nat Irons's Amputator MT plugin:\n  // http://bumppo.net/projects/amputator/\n  text = text.replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\\w+);)/g, '&amp;');\n\n  // Encode naked <'s\n  text = text.replace(/<(?![a-z\\/?$!])/gi, '&lt;');\n\n  // Encode <\n  text = text.replace(/</g, '&lt;');\n\n  // Encode >\n  text = text.replace(/>/g, '&gt;');\n\n  text = globals.converter._dispatch('encodeAmpsAndAngles.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Returns the string, with after processing the following backslash escape sequences.\n *\n * attacklab: The polite way to do this is with the new escapeCharacters() function:\n *\n *    text = escapeCharacters(text,\"\\\\\",true);\n *    text = escapeCharacters(text,\"`*_{}[]()>#+-.!\",true);\n *\n * ...but we're sidestepping its use of the (slow) RegExp constructor\n * as an optimization for Firefox.  This function gets called a LOT.\n */\nshowdown.subParser('encodeBackslashEscapes', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('encodeBackslashEscapes.before', text, options, globals);\n\n  text = text.replace(/\\\\(\\\\)/g, showdown.helper.escapeCharactersCallback);\n  text = text.replace(/\\\\([`*_{}\\[\\]()>#+.!~=|-])/g, showdown.helper.escapeCharactersCallback);\n\n  text = globals.converter._dispatch('encodeBackslashEscapes.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Encode/escape certain characters inside Markdown code runs.\n * The point is that in code, these characters are literals,\n * and lose their special Markdown meanings.\n */\nshowdown.subParser('encodeCode', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('encodeCode.before', text, options, globals);\n\n  // Encode all ampersands; HTML entities are not\n  // entities within a Markdown code span.\n  text = text\n    .replace(/&/g, '&amp;')\n  // Do the angle bracket song and dance:\n    .replace(/</g, '&lt;')\n    .replace(/>/g, '&gt;')\n  // Now, escape characters that are magic in Markdown:\n    .replace(/([*_{}\\[\\]\\\\=~-])/g, showdown.helper.escapeCharactersCallback);\n\n  text = globals.converter._dispatch('encodeCode.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Within tags -- meaning between < and > -- encode [\\ ` * _ ~ =] so they\n * don't conflict with their use in Markdown for code, italics and strong.\n */\nshowdown.subParser('escapeSpecialCharsWithinTagAttributes', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('escapeSpecialCharsWithinTagAttributes.before', text, options, globals);\n\n  // Build a regex to find HTML tags.\n  var tags     = /<\\/?[a-z\\d_:-]+(?:[\\s]+[\\s\\S]+?)?>/gi,\n      comments = /<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi;\n\n  text = text.replace(tags, function (wholeMatch) {\n    return wholeMatch\n      .replace(/(.)<\\/?code>(?=.)/g, '$1`')\n      .replace(/([\\\\`*_~=|])/g, showdown.helper.escapeCharactersCallback);\n  });\n\n  text = text.replace(comments, function (wholeMatch) {\n    return wholeMatch\n      .replace(/([\\\\`*_~=|])/g, showdown.helper.escapeCharactersCallback);\n  });\n\n  text = globals.converter._dispatch('escapeSpecialCharsWithinTagAttributes.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Handle github codeblocks prior to running HashHTML so that\n * HTML contained within the codeblock gets escaped properly\n * Example:\n * ```ruby\n *     def hello_world(x)\n *       puts \"Hello, #{x}\"\n *     end\n * ```\n */\nshowdown.subParser('githubCodeBlocks', function (text, options, globals) {\n  'use strict';\n\n  // early exit if option is not enabled\n  if (!options.ghCodeBlocks) {\n    return text;\n  }\n\n  text = globals.converter._dispatch('githubCodeBlocks.before', text, options, globals);\n\n  text += '0';\n\n  text = text.replace(/(?:^|\\n)(?: {0,3})(```+|~~~+)(?: *)([^\\s`~]*)\\n([\\s\\S]*?)\\n(?: {0,3})\\1/g, function (wholeMatch, delim, language, codeblock) {\n    var end = (options.omitExtraWLInCodeBlocks) ? '' : '\\n';\n\n    // First parse the github code block\n    codeblock = showdown.subParser('encodeCode')(codeblock, options, globals);\n    codeblock = showdown.subParser('detab')(codeblock, options, globals);\n    codeblock = codeblock.replace(/^\\n+/g, ''); // trim leading newlines\n    codeblock = codeblock.replace(/\\n+$/g, ''); // trim trailing whitespace\n\n    codeblock = '<pre><code' + (language ? ' class=\"' + language + ' language-' + language + '\"' : '') + '>' + codeblock + end + '</code></pre>';\n\n    codeblock = showdown.subParser('hashBlock')(codeblock, options, globals);\n\n    // Since GHCodeblocks can be false positives, we need to\n    // store the primitive text and the parsed text in a global var,\n    // and then return a token\n    return '\\n\\nG' + (globals.ghCodeBlocks.push({text: wholeMatch, codeblock: codeblock}) - 1) + 'G\\n\\n';\n  });\n\n  // attacklab: strip sentinel\n  text = text.replace(/0/, '');\n\n  return globals.converter._dispatch('githubCodeBlocks.after', text, options, globals);\n});\n\r\nshowdown.subParser('hashBlock', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('hashBlock.before', text, options, globals);\n  text = text.replace(/(^\\n+|\\n+$)/g, '');\n  text = '\\n\\nK' + (globals.gHtmlBlocks.push(text) - 1) + 'K\\n\\n';\n  text = globals.converter._dispatch('hashBlock.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Hash and escape <code> elements that should not be parsed as markdown\n */\nshowdown.subParser('hashCodeTags', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('hashCodeTags.before', text, options, globals);\n\n  var repFunc = function (wholeMatch, match, left, right) {\n    var codeblock = left + showdown.subParser('encodeCode')(match, options, globals) + right;\n    return 'C' + (globals.gHtmlSpans.push(codeblock) - 1) + 'C';\n  };\n\n  // Hash naked <code>\n  text = showdown.helper.replaceRecursiveRegExp(text, repFunc, '<code\\\\b[^>]*>', '</code>', 'gim');\n\n  text = globals.converter._dispatch('hashCodeTags.after', text, options, globals);\n  return text;\n});\n\r\nshowdown.subParser('hashElement', function (text, options, globals) {\n  'use strict';\n\n  return function (wholeMatch, m1) {\n    var blockText = m1;\n\n    // Undo double lines\n    blockText = blockText.replace(/\\n\\n/g, '\\n');\n    blockText = blockText.replace(/^\\n/, '');\n\n    // strip trailing blank lines\n    blockText = blockText.replace(/\\n+$/g, '');\n\n    // Replace the element text with a marker (\"KxK\" where x is its key)\n    blockText = '\\n\\nK' + (globals.gHtmlBlocks.push(blockText) - 1) + 'K\\n\\n';\n\n    return blockText;\n  };\n});\n\r\nshowdown.subParser('hashHTMLBlocks', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('hashHTMLBlocks.before', text, options, globals);\n\n  var blockTags = [\n        'pre',\n        'div',\n        'h1',\n        'h2',\n        'h3',\n        'h4',\n        'h5',\n        'h6',\n        'blockquote',\n        'table',\n        'dl',\n        'ol',\n        'ul',\n        'script',\n        'noscript',\n        'form',\n        'fieldset',\n        'iframe',\n        'math',\n        'style',\n        'section',\n        'header',\n        'footer',\n        'nav',\n        'article',\n        'aside',\n        'address',\n        'audio',\n        'canvas',\n        'figure',\n        'hgroup',\n        'output',\n        'video',\n        'p'\n      ],\n      repFunc = function (wholeMatch, match, left, right) {\n        var txt = wholeMatch;\n        // check if this html element is marked as markdown\n        // if so, it's contents should be parsed as markdown\n        if (left.search(/\\bmarkdown\\b/) !== -1) {\n          txt = left + globals.converter.makeHtml(match) + right;\n        }\n        return '\\n\\nK' + (globals.gHtmlBlocks.push(txt) - 1) + 'K\\n\\n';\n      };\n\n  if (options.backslashEscapesHTMLTags) {\n    // encode backslash escaped HTML tags\n    text = text.replace(/\\\\<(\\/?[^>]+?)>/g, function (wm, inside) {\n      return '&lt;' + inside + '&gt;';\n    });\n  }\n\n  // hash HTML Blocks\n  for (var i = 0; i < blockTags.length; ++i) {\n\n    var opTagPos,\n        rgx1     = new RegExp('^ {0,3}(<' + blockTags[i] + '\\\\b[^>]*>)', 'im'),\n        patLeft  = '<' + blockTags[i] + '\\\\b[^>]*>',\n        patRight = '</' + blockTags[i] + '>';\n    // 1. Look for the first position of the first opening HTML tag in the text\n    while ((opTagPos = showdown.helper.regexIndexOf(text, rgx1)) !== -1) {\n\n      // if the HTML tag is \\ escaped, we need to escape it and break\n\n\n      //2. Split the text in that position\n      var subTexts = showdown.helper.splitAtIndex(text, opTagPos),\n          //3. Match recursively\n          newSubText1 = showdown.helper.replaceRecursiveRegExp(subTexts[1], repFunc, patLeft, patRight, 'im');\n\n      // prevent an infinite loop\n      if (newSubText1 === subTexts[1]) {\n        break;\n      }\n      text = subTexts[0].concat(newSubText1);\n    }\n  }\n  // HR SPECIAL CASE\n  text = text.replace(/(\\n {0,3}(<(hr)\\b([^<>])*?\\/?>)[ \\t]*(?=\\n{2,}))/g,\n    showdown.subParser('hashElement')(text, options, globals));\n\n  // Special case for standalone HTML comments\n  text = showdown.helper.replaceRecursiveRegExp(text, function (txt) {\n    return '\\n\\nK' + (globals.gHtmlBlocks.push(txt) - 1) + 'K\\n\\n';\n  }, '^ {0,3}<!--', '-->', 'gm');\n\n  // PHP and ASP-style processor instructions (<?...?> and <%...%>)\n  text = text.replace(/(?:\\n\\n)( {0,3}(?:<([?%])[^\\r]*?\\2>)[ \\t]*(?=\\n{2,}))/g,\n    showdown.subParser('hashElement')(text, options, globals));\n\n  text = globals.converter._dispatch('hashHTMLBlocks.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Hash span elements that should not be parsed as markdown\n */\nshowdown.subParser('hashHTMLSpans', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('hashHTMLSpans.before', text, options, globals);\n\n  function hashHTMLSpan (html) {\n    return 'C' + (globals.gHtmlSpans.push(html) - 1) + 'C';\n  }\n\n  // Hash Self Closing tags\n  text = text.replace(/<[^>]+?\\/>/gi, function (wm) {\n    return hashHTMLSpan(wm);\n  });\n\n  // Hash tags without properties\n  text = text.replace(/<([^>]+?)>[\\s\\S]*?<\\/\\1>/g, function (wm) {\n    return hashHTMLSpan(wm);\n  });\n\n  // Hash tags with properties\n  text = text.replace(/<([^>]+?)\\s[^>]+?>[\\s\\S]*?<\\/\\1>/g, function (wm) {\n    return hashHTMLSpan(wm);\n  });\n\n  // Hash self closing tags without />\n  text = text.replace(/<[^>]+?>/gi, function (wm) {\n    return hashHTMLSpan(wm);\n  });\n\n  /*showdown.helper.matchRecursiveRegExp(text, '<code\\\\b[^>]*>', '</code>', 'gi');*/\n\n  text = globals.converter._dispatch('hashHTMLSpans.after', text, options, globals);\n  return text;\n});\n\n/**\n * Unhash HTML spans\n */\nshowdown.subParser('unhashHTMLSpans', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('unhashHTMLSpans.before', text, options, globals);\n\n  for (var i = 0; i < globals.gHtmlSpans.length; ++i) {\n    var repText = globals.gHtmlSpans[i],\n        // limiter to prevent infinite loop (assume 10 as limit for recurse)\n        limit = 0;\n\n    while (/C(\\d+)C/.test(repText)) {\n      var num = RegExp.$1;\n      repText = repText.replace('C' + num + 'C', globals.gHtmlSpans[num]);\n      if (limit === 10) {\n        console.error('maximum nesting of 10 spans reached!!!');\n        break;\n      }\n      ++limit;\n    }\n    text = text.replace('C' + i + 'C', repText);\n  }\n\n  text = globals.converter._dispatch('unhashHTMLSpans.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Hash and escape <pre><code> elements that should not be parsed as markdown\n */\nshowdown.subParser('hashPreCodeTags', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('hashPreCodeTags.before', text, options, globals);\n\n  var repFunc = function (wholeMatch, match, left, right) {\n    // encode html entities\n    var codeblock = left + showdown.subParser('encodeCode')(match, options, globals) + right;\n    return '\\n\\nG' + (globals.ghCodeBlocks.push({text: wholeMatch, codeblock: codeblock}) - 1) + 'G\\n\\n';\n  };\n\n  // Hash <pre><code>\n  text = showdown.helper.replaceRecursiveRegExp(text, repFunc, '^ {0,3}<pre\\\\b[^>]*>\\\\s*<code\\\\b[^>]*>', '^ {0,3}</code>\\\\s*</pre>', 'gim');\n\n  text = globals.converter._dispatch('hashPreCodeTags.after', text, options, globals);\n  return text;\n});\n\r\nshowdown.subParser('headers', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('headers.before', text, options, globals);\n\n  var headerLevelStart = (isNaN(parseInt(options.headerLevelStart))) ? 1 : parseInt(options.headerLevelStart),\n\n      // Set text-style headers:\n      //\tHeader 1\n      //\t========\n      //\n      //\tHeader 2\n      //\t--------\n      //\n      setextRegexH1 = (options.smoothLivePreview) ? /^(.+)[ \\t]*\\n={2,}[ \\t]*\\n+/gm : /^(.+)[ \\t]*\\n=+[ \\t]*\\n+/gm,\n      setextRegexH2 = (options.smoothLivePreview) ? /^(.+)[ \\t]*\\n-{2,}[ \\t]*\\n+/gm : /^(.+)[ \\t]*\\n-+[ \\t]*\\n+/gm;\n\n  text = text.replace(setextRegexH1, function (wholeMatch, m1) {\n\n    var spanGamut = showdown.subParser('spanGamut')(m1, options, globals),\n        hID = (options.noHeaderId) ? '' : ' id=\"' + headerId(m1) + '\"',\n        hLevel = headerLevelStart,\n        hashBlock = '<h' + hLevel + hID + '>' + spanGamut + '</h' + hLevel + '>';\n    return showdown.subParser('hashBlock')(hashBlock, options, globals);\n  });\n\n  text = text.replace(setextRegexH2, function (matchFound, m1) {\n    var spanGamut = showdown.subParser('spanGamut')(m1, options, globals),\n        hID = (options.noHeaderId) ? '' : ' id=\"' + headerId(m1) + '\"',\n        hLevel = headerLevelStart + 1,\n        hashBlock = '<h' + hLevel + hID + '>' + spanGamut + '</h' + hLevel + '>';\n    return showdown.subParser('hashBlock')(hashBlock, options, globals);\n  });\n\n  // atx-style headers:\n  //  # Header 1\n  //  ## Header 2\n  //  ## Header 2 with closing hashes ##\n  //  ...\n  //  ###### Header 6\n  //\n  var atxStyle = (options.requireSpaceBeforeHeadingText) ? /^(#{1,6})[ \\t]+(.+?)[ \\t]*#*\\n+/gm : /^(#{1,6})[ \\t]*(.+?)[ \\t]*#*\\n+/gm;\n\n  text = text.replace(atxStyle, function (wholeMatch, m1, m2) {\n    var hText = m2;\n    if (options.customizedHeaderId) {\n      hText = m2.replace(/\\s?\\{([^{]+?)}\\s*$/, '');\n    }\n\n    var span = showdown.subParser('spanGamut')(hText, options, globals),\n        hID = (options.noHeaderId) ? '' : ' id=\"' + headerId(m2) + '\"',\n        hLevel = headerLevelStart - 1 + m1.length,\n        header = '<h' + hLevel + hID + '>' + span + '</h' + hLevel + '>';\n\n    return showdown.subParser('hashBlock')(header, options, globals);\n  });\n\n  function headerId (m) {\n    var title,\n        prefix;\n\n    // It is separate from other options to allow combining prefix and customized\n    if (options.customizedHeaderId) {\n      var match = m.match(/\\{([^{]+?)}\\s*$/);\n      if (match && match[1]) {\n        m = match[1];\n      }\n    }\n\n    title = m;\n\n    // Prefix id to prevent causing inadvertent pre-existing style matches.\n    if (showdown.helper.isString(options.prefixHeaderId)) {\n      prefix = options.prefixHeaderId;\n    } else if (options.prefixHeaderId === true) {\n      prefix = 'section-';\n    } else {\n      prefix = '';\n    }\n\n    if (!options.rawPrefixHeaderId) {\n      title = prefix + title;\n    }\n\n    if (options.ghCompatibleHeaderId) {\n      title = title\n        .replace(/ /g, '-')\n        // replace previously escaped chars (&,  and $)\n        .replace(/&amp;/g, '')\n        .replace(/T/g, '')\n        .replace(/D/g, '')\n        // replace rest of the chars (&~$ are repeated as they might have been escaped)\n        // borrowed from github's redcarpet (some they should produce similar results)\n        .replace(/[&+$,\\/:;=?@\"#{}|^~\\[\\]`\\\\*)(%.!'<>]/g, '')\n        .toLowerCase();\n    } else if (options.rawHeaderId) {\n      title = title\n        .replace(/ /g, '-')\n        // replace previously escaped chars (&,  and $)\n        .replace(/&amp;/g, '&')\n        .replace(/T/g, '')\n        .replace(/D/g, '$')\n        // replace \" and '\n        .replace(/[\"']/g, '-')\n        .toLowerCase();\n    } else {\n      title = title\n        .replace(/[^\\w]/g, '')\n        .toLowerCase();\n    }\n\n    if (options.rawPrefixHeaderId) {\n      title = prefix + title;\n    }\n\n    if (globals.hashLinkCounts[title]) {\n      title = title + '-' + (globals.hashLinkCounts[title]++);\n    } else {\n      globals.hashLinkCounts[title] = 1;\n    }\n    return title;\n  }\n\n  text = globals.converter._dispatch('headers.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Turn Markdown link shortcuts into XHTML <a> tags.\n */\nshowdown.subParser('horizontalRule', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('horizontalRule.before', text, options, globals);\n\n  var key = showdown.subParser('hashBlock')('<hr />', options, globals);\n  text = text.replace(/^ {0,2}( ?-){3,}[ \\t]*$/gm, key);\n  text = text.replace(/^ {0,2}( ?\\*){3,}[ \\t]*$/gm, key);\n  text = text.replace(/^ {0,2}( ?_){3,}[ \\t]*$/gm, key);\n\n  text = globals.converter._dispatch('horizontalRule.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Turn Markdown image shortcuts into <img> tags.\n */\nshowdown.subParser('images', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('images.before', text, options, globals);\n\n  var inlineRegExp      = /!\\[([^\\]]*?)][ \\t]*()\\([ \\t]?<?([\\S]+?(?:\\([\\S]*?\\)[\\S]*?)?)>?(?: =([*\\d]+[A-Za-z%]{0,4})x([*\\d]+[A-Za-z%]{0,4}))?[ \\t]*(?:([\"'])([^\"]*?)\\6)?[ \\t]?\\)/g,\n      crazyRegExp       = /!\\[([^\\]]*?)][ \\t]*()\\([ \\t]?<([^>]*)>(?: =([*\\d]+[A-Za-z%]{0,4})x([*\\d]+[A-Za-z%]{0,4}))?[ \\t]*(?:(?:([\"'])([^\"]*?)\\6))?[ \\t]?\\)/g,\n      base64RegExp      = /!\\[([^\\]]*?)][ \\t]*()\\([ \\t]?<?(data:.+?\\/.+?;base64,[A-Za-z0-9+/=\\n]+?)>?(?: =([*\\d]+[A-Za-z%]{0,4})x([*\\d]+[A-Za-z%]{0,4}))?[ \\t]*(?:([\"'])([^\"]*?)\\6)?[ \\t]?\\)/g,\n      referenceRegExp   = /!\\[([^\\]]*?)] ?(?:\\n *)?\\[([\\s\\S]*?)]()()()()()/g,\n      refShortcutRegExp = /!\\[([^\\[\\]]+)]()()()()()/g;\n\n  function writeImageTagBase64 (wholeMatch, altText, linkId, url, width, height, m5, title) {\n    url = url.replace(/\\s/g, '');\n    return writeImageTag (wholeMatch, altText, linkId, url, width, height, m5, title);\n  }\n\n  function writeImageTag (wholeMatch, altText, linkId, url, width, height, m5, title) {\n\n    var gUrls   = globals.gUrls,\n        gTitles = globals.gTitles,\n        gDims   = globals.gDimensions;\n\n    linkId = linkId.toLowerCase();\n\n    if (!title) {\n      title = '';\n    }\n    // Special case for explicit empty url\n    if (wholeMatch.search(/\\(<?\\s*>? ?(['\"].*['\"])?\\)$/m) > -1) {\n      url = '';\n\n    } else if (url === '' || url === null) {\n      if (linkId === '' || linkId === null) {\n        // lower-case and turn embedded newlines into spaces\n        linkId = altText.toLowerCase().replace(/ ?\\n/g, ' ');\n      }\n      url = '#' + linkId;\n\n      if (!showdown.helper.isUndefined(gUrls[linkId])) {\n        url = gUrls[linkId];\n        if (!showdown.helper.isUndefined(gTitles[linkId])) {\n          title = gTitles[linkId];\n        }\n        if (!showdown.helper.isUndefined(gDims[linkId])) {\n          width = gDims[linkId].width;\n          height = gDims[linkId].height;\n        }\n      } else {\n        return wholeMatch;\n      }\n    }\n\n    altText = altText\n      .replace(/\"/g, '&quot;')\n    //altText = showdown.helper.escapeCharacters(altText, '*_', false);\n      .replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);\n    //url = showdown.helper.escapeCharacters(url, '*_', false);\n    url = url.replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);\n    var result = '<img src=\"' + url + '\" alt=\"' + altText + '\"';\n\n    if (title && showdown.helper.isString(title)) {\n      title = title\n        .replace(/\"/g, '&quot;')\n      //title = showdown.helper.escapeCharacters(title, '*_', false);\n        .replace(showdown.helper.regexes.asteriskDashAndColon, showdown.helper.escapeCharactersCallback);\n      result += ' title=\"' + title + '\"';\n    }\n\n    if (width && height) {\n      width  = (width === '*') ? 'auto' : width;\n      height = (height === '*') ? 'auto' : height;\n\n      result += ' width=\"' + width + '\"';\n      result += ' height=\"' + height + '\"';\n    }\n\n    result += ' />';\n\n    return result;\n  }\n\n  // First, handle reference-style labeled images: ![alt text][id]\n  text = text.replace(referenceRegExp, writeImageTag);\n\n  // Next, handle inline images:  ![alt text](url =<width>x<height> \"optional title\")\n\n  // base64 encoded images\n  text = text.replace(base64RegExp, writeImageTagBase64);\n\n  // cases with crazy urls like ./image/cat1).png\n  text = text.replace(crazyRegExp, writeImageTag);\n\n  // normal cases\n  text = text.replace(inlineRegExp, writeImageTag);\n\n  // handle reference-style shortcuts: ![img text]\n  text = text.replace(refShortcutRegExp, writeImageTag);\n\n  text = globals.converter._dispatch('images.after', text, options, globals);\n  return text;\n});\n\r\nshowdown.subParser('italicsAndBold', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('italicsAndBold.before', text, options, globals);\n\n  // it's faster to have 3 separate regexes for each case than have just one\n  // because of backtracing, in some cases, it could lead to an exponential effect\n  // called \"catastrophic backtrace\". Ominous!\n\n  function parseInside (txt, left, right) {\n    /*\n    if (options.simplifiedAutoLink) {\n      txt = showdown.subParser('simplifiedAutoLinks')(txt, options, globals);\n    }\n    */\n    return left + txt + right;\n  }\n\n  // Parse underscores\n  if (options.literalMidWordUnderscores) {\n    text = text.replace(/\\b___(\\S[\\s\\S]*?)___\\b/g, function (wm, txt) {\n      return parseInside (txt, '<strong><em>', '</em></strong>');\n    });\n    text = text.replace(/\\b__(\\S[\\s\\S]*?)__\\b/g, function (wm, txt) {\n      return parseInside (txt, '<strong>', '</strong>');\n    });\n    text = text.replace(/\\b_(\\S[\\s\\S]*?)_\\b/g, function (wm, txt) {\n      return parseInside (txt, '<em>', '</em>');\n    });\n  } else {\n    text = text.replace(/___(\\S[\\s\\S]*?)___/g, function (wm, m) {\n      return (/\\S$/.test(m)) ? parseInside (m, '<strong><em>', '</em></strong>') : wm;\n    });\n    text = text.replace(/__(\\S[\\s\\S]*?)__/g, function (wm, m) {\n      return (/\\S$/.test(m)) ? parseInside (m, '<strong>', '</strong>') : wm;\n    });\n    text = text.replace(/_([^\\s_][\\s\\S]*?)_/g, function (wm, m) {\n      // !/^_[^_]/.test(m) - test if it doesn't start with __ (since it seems redundant, we removed it)\n      return (/\\S$/.test(m)) ? parseInside (m, '<em>', '</em>') : wm;\n    });\n  }\n\n  // Now parse asterisks\n  if (options.literalMidWordAsterisks) {\n    text = text.replace(/([^*]|^)\\B\\*\\*\\*(\\S[\\s\\S]*?)\\*\\*\\*\\B(?!\\*)/g, function (wm, lead, txt) {\n      return parseInside (txt, lead + '<strong><em>', '</em></strong>');\n    });\n    text = text.replace(/([^*]|^)\\B\\*\\*(\\S[\\s\\S]*?)\\*\\*\\B(?!\\*)/g, function (wm, lead, txt) {\n      return parseInside (txt, lead + '<strong>', '</strong>');\n    });\n    text = text.replace(/([^*]|^)\\B\\*(\\S[\\s\\S]*?)\\*\\B(?!\\*)/g, function (wm, lead, txt) {\n      return parseInside (txt, lead + '<em>', '</em>');\n    });\n  } else {\n    text = text.replace(/\\*\\*\\*(\\S[\\s\\S]*?)\\*\\*\\*/g, function (wm, m) {\n      return (/\\S$/.test(m)) ? parseInside (m, '<strong><em>', '</em></strong>') : wm;\n    });\n    text = text.replace(/\\*\\*(\\S[\\s\\S]*?)\\*\\*/g, function (wm, m) {\n      return (/\\S$/.test(m)) ? parseInside (m, '<strong>', '</strong>') : wm;\n    });\n    text = text.replace(/\\*([^\\s*][\\s\\S]*?)\\*/g, function (wm, m) {\n      // !/^\\*[^*]/.test(m) - test if it doesn't start with ** (since it seems redundant, we removed it)\n      return (/\\S$/.test(m)) ? parseInside (m, '<em>', '</em>') : wm;\n    });\n  }\n\n\n  text = globals.converter._dispatch('italicsAndBold.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Form HTML ordered (numbered) and unordered (bulleted) lists.\n */\nshowdown.subParser('lists', function (text, options, globals) {\n  'use strict';\n\n  /**\n   * Process the contents of a single ordered or unordered list, splitting it\n   * into individual list items.\n   * @param {string} listStr\n   * @param {boolean} trimTrailing\n   * @returns {string}\n   */\n  function processListItems (listStr, trimTrailing) {\n    // The $g_list_level global keeps track of when we're inside a list.\n    // Each time we enter a list, we increment it; when we leave a list,\n    // we decrement. If it's zero, we're not in a list anymore.\n    //\n    // We do this because when we're not inside a list, we want to treat\n    // something like this:\n    //\n    //    I recommend upgrading to version\n    //    8. Oops, now this line is treated\n    //    as a sub-list.\n    //\n    // As a single paragraph, despite the fact that the second line starts\n    // with a digit-period-space sequence.\n    //\n    // Whereas when we're inside a list (or sub-list), that line will be\n    // treated as the start of a sub-list. What a kludge, huh? This is\n    // an aspect of Markdown's syntax that's hard to parse perfectly\n    // without resorting to mind-reading. Perhaps the solution is to\n    // change the syntax rules such that sub-lists must start with a\n    // starting cardinal number; e.g. \"1.\" or \"a.\".\n    globals.gListLevel++;\n\n    // trim trailing blank lines:\n    listStr = listStr.replace(/\\n{2,}$/, '\\n');\n\n    // attacklab: add sentinel to emulate \\z\n    listStr += '0';\n\n    var rgx = /(\\n)?(^ {0,3})([*+-]|\\d+[.])[ \\t]+((\\[(x|X| )?])?[ \\t]*[^\\r]+?(\\n{1,2}))(?=\\n*(0| {0,3}([*+-]|\\d+[.])[ \\t]+))/gm,\n        isParagraphed = (/\\n[ \\t]*\\n(?!0)/.test(listStr));\n\n    // Since version 1.5, nesting sublists requires 4 spaces (or 1 tab) indentation,\n    // which is a syntax breaking change\n    // activating this option reverts to old behavior\n    if (options.disableForced4SpacesIndentedSublists) {\n      rgx = /(\\n)?(^ {0,3})([*+-]|\\d+[.])[ \\t]+((\\[(x|X| )?])?[ \\t]*[^\\r]+?(\\n{1,2}))(?=\\n*(0|\\2([*+-]|\\d+[.])[ \\t]+))/gm;\n    }\n\n    listStr = listStr.replace(rgx, function (wholeMatch, m1, m2, m3, m4, taskbtn, checked) {\n      checked = (checked && checked.trim() !== '');\n\n      var item = showdown.subParser('outdent')(m4, options, globals),\n          bulletStyle = '';\n\n      // Support for github tasklists\n      if (taskbtn && options.tasklists) {\n        bulletStyle = ' class=\"task-list-item\" style=\"list-style-type: none;\"';\n        item = item.replace(/^[ \\t]*\\[(x|X| )?]/m, function () {\n          var otp = '<input type=\"checkbox\" disabled style=\"margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;\"';\n          if (checked) {\n            otp += ' checked';\n          }\n          otp += '>';\n          return otp;\n        });\n      }\n\n      // ISSUE #312\n      // This input: - - - a\n      // causes trouble to the parser, since it interprets it as:\n      // <ul><li><li><li>a</li></li></li></ul>\n      // instead of:\n      // <ul><li>- - a</li></ul>\n      // So, to prevent it, we will put a marker (A)in the beginning of the line\n      // Kind of hackish/monkey patching, but seems more effective than overcomplicating the list parser\n      item = item.replace(/^([-*+]|\\d\\.)[ \\t]+[\\S\\n ]*/g, function (wm2) {\n        return 'A' + wm2;\n      });\n\n      // m1 - Leading line or\n      // Has a double return (multi paragraph) or\n      // Has sublist\n      if (m1 || (item.search(/\\n{2,}/) > -1)) {\n        item = showdown.subParser('githubCodeBlocks')(item, options, globals);\n        item = showdown.subParser('blockGamut')(item, options, globals);\n      } else {\n        // Recursion for sub-lists:\n        item = showdown.subParser('lists')(item, options, globals);\n        item = item.replace(/\\n$/, ''); // chomp(item)\n        item = showdown.subParser('hashHTMLBlocks')(item, options, globals);\n\n        // Colapse double linebreaks\n        item = item.replace(/\\n\\n+/g, '\\n\\n');\n        if (isParagraphed) {\n          item = showdown.subParser('paragraphs')(item, options, globals);\n        } else {\n          item = showdown.subParser('spanGamut')(item, options, globals);\n        }\n      }\n\n      // now we need to remove the marker (A)\n      item = item.replace('A', '');\n      // we can finally wrap the line in list item tags\n      item =  '<li' + bulletStyle + '>' + item + '</li>\\n';\n\n      return item;\n    });\n\n    // attacklab: strip sentinel\n    listStr = listStr.replace(/0/g, '');\n\n    globals.gListLevel--;\n\n    if (trimTrailing) {\n      listStr = listStr.replace(/\\s+$/, '');\n    }\n\n    return listStr;\n  }\n\n  function styleStartNumber (list, listType) {\n    // check if ol and starts by a number different than 1\n    if (listType === 'ol') {\n      var res = list.match(/^ *(\\d+)\\./);\n      if (res && res[1] !== '1') {\n        return ' start=\"' + res[1] + '\"';\n      }\n    }\n    return '';\n  }\n\n  /**\n   * Check and parse consecutive lists (better fix for issue #142)\n   * @param {string} list\n   * @param {string} listType\n   * @param {boolean} trimTrailing\n   * @returns {string}\n   */\n  function parseConsecutiveLists (list, listType, trimTrailing) {\n    // check if we caught 2 or more consecutive lists by mistake\n    // we use the counterRgx, meaning if listType is UL we look for OL and vice versa\n    var olRgx = (options.disableForced4SpacesIndentedSublists) ? /^ ?\\d+\\.[ \\t]/gm : /^ {0,3}\\d+\\.[ \\t]/gm,\n        ulRgx = (options.disableForced4SpacesIndentedSublists) ? /^ ?[*+-][ \\t]/gm : /^ {0,3}[*+-][ \\t]/gm,\n        counterRxg = (listType === 'ul') ? olRgx : ulRgx,\n        result = '';\n\n    if (list.search(counterRxg) !== -1) {\n      (function parseCL (txt) {\n        var pos = txt.search(counterRxg),\n            style = styleStartNumber(list, listType);\n        if (pos !== -1) {\n          // slice\n          result += '\\n\\n<' + listType + style + '>\\n' + processListItems(txt.slice(0, pos), !!trimTrailing) + '</' + listType + '>\\n';\n\n          // invert counterType and listType\n          listType = (listType === 'ul') ? 'ol' : 'ul';\n          counterRxg = (listType === 'ul') ? olRgx : ulRgx;\n\n          //recurse\n          parseCL(txt.slice(pos));\n        } else {\n          result += '\\n\\n<' + listType + style + '>\\n' + processListItems(txt, !!trimTrailing) + '</' + listType + '>\\n';\n        }\n      })(list);\n    } else {\n      var style = styleStartNumber(list, listType);\n      result = '\\n\\n<' + listType + style + '>\\n' + processListItems(list, !!trimTrailing) + '</' + listType + '>\\n';\n    }\n\n    return result;\n  }\n\n  /** Start of list parsing **/\n  text = globals.converter._dispatch('lists.before', text, options, globals);\n  // add sentinel to hack around khtml/safari bug:\n  // http://bugs.webkit.org/show_bug.cgi?id=11231\n  text += '0';\n\n  if (globals.gListLevel) {\n    text = text.replace(/^(( {0,3}([*+-]|\\d+[.])[ \\t]+)[^\\r]+?(0|\\n{2,}(?=\\S)(?![ \\t]*(?:[*+-]|\\d+[.])[ \\t]+)))/gm,\n      function (wholeMatch, list, m2) {\n        var listType = (m2.search(/[*+-]/g) > -1) ? 'ul' : 'ol';\n        return parseConsecutiveLists(list, listType, true);\n      }\n    );\n  } else {\n    text = text.replace(/(\\n\\n|^\\n?)(( {0,3}([*+-]|\\d+[.])[ \\t]+)[^\\r]+?(0|\\n{2,}(?=\\S)(?![ \\t]*(?:[*+-]|\\d+[.])[ \\t]+)))/gm,\n      function (wholeMatch, m1, list, m3) {\n        var listType = (m3.search(/[*+-]/g) > -1) ? 'ul' : 'ol';\n        return parseConsecutiveLists(list, listType, false);\n      }\n    );\n  }\n\n  // strip sentinel\n  text = text.replace(/0/, '');\n  text = globals.converter._dispatch('lists.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Parse metadata at the top of the document\n */\nshowdown.subParser('metadata', function (text, options, globals) {\n  'use strict';\n\n  if (!options.metadata) {\n    return text;\n  }\n\n  text = globals.converter._dispatch('metadata.before', text, options, globals);\n\n  function parseMetadataContents (content) {\n    // raw is raw so it's not changed in any way\n    globals.metadata.raw = content;\n\n    // escape chars forbidden in html attributes\n    // double quotes\n    content = content\n      // ampersand first\n      .replace(/&/g, '&amp;')\n      // double quotes\n      .replace(/\"/g, '&quot;');\n\n    content = content.replace(/\\n {4}/g, ' ');\n    content.replace(/^([\\S ]+): +([\\s\\S]+?)$/gm, function (wm, key, value) {\n      globals.metadata.parsed[key] = value;\n      return '';\n    });\n  }\n\n  text = text.replace(/^\\s*+(\\S*?)\\n([\\s\\S]+?)\\n+\\n/, function (wholematch, format, content) {\n    parseMetadataContents(content);\n    return 'M';\n  });\n\n  text = text.replace(/^\\s*---+(\\S*?)\\n([\\s\\S]+?)\\n---+\\n/, function (wholematch, format, content) {\n    if (format) {\n      globals.metadata.format = format;\n    }\n    parseMetadataContents(content);\n    return 'M';\n  });\n\n  text = text.replace(/M/g, '');\n\n  text = globals.converter._dispatch('metadata.after', text, options, globals);\n  return text;\n});\n\r\n/**\n * Remove one level of line-leading tabs or spaces\n */\nshowdown.subParser('outdent', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('outdent.before', text, options, globals);\n\n  // attacklab: hack around Konqueror 3.5.4 bug:\n  // \"----------bug\".replace(/^-/g,\"\") == \"bug\"\n  text = text.replace(/^(\\t|[ ]{1,4})/gm, '0'); // attacklab: g_tab_width\n\n  // attacklab: clean up hack\n  text = text.replace(/0/g, '');\n\n  text = globals.converter._dispatch('outdent.after', text, options, globals);\n  return text;\n});\n\r\n/**\n *\n */\nshowdown.subParser('paragraphs', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('paragraphs.before', text, options, globals);\n  // Strip leading and trailing lines:\n  text = text.replace(/^\\n+/g, '');\n  text = text.replace(/\\n+$/g, '');\n\n  var grafs = text.split(/\\n{2,}/g),\n      grafsOut = [],\n      end = grafs.length; // Wrap <p> tags\n\n  for (var i = 0; i < end; i++) {\n    var str = grafs[i];\n    // if this is an HTML marker, copy it\n    if (str.search(/(K|G)(\\d+)\\1/g) >= 0) {\n      grafsOut.push(str);\n\n    // test for presence of characters to prevent empty lines being parsed\n    // as paragraphs (resulting in undesired extra empty paragraphs)\n    } else if (str.search(/\\S/) >= 0) {\n      str = showdown.subParser('spanGamut')(str, options, globals);\n      str = str.replace(/^([ \\t]*)/g, '<p>');\n      str += '</p>';\n      grafsOut.push(str);\n    }\n  }\n\n  /** Unhashify HTML blocks */\n  end = grafsOut.length;\n  for (i = 0; i < end; i++) {\n    var blockText = '',\n        grafsOutIt = grafsOut[i],\n        codeFlag = false;\n    // if this is a marker for an html block...\n    // use RegExp.test instead of string.search because of QML bug\n    while (/(K|G)(\\d+)\\1/.test(grafsOutIt)) {\n      var delim = RegExp.$1,\n          num   = RegExp.$2;\n\n      if (delim === 'K') {\n        blockText = globals.gHtmlBlocks[num];\n      } else {\n        // we need to check if ghBlock is a false positive\n        if (codeFlag) {\n          // use encoded version of all text\n          blockText = showdown.subParser('encodeCode')(globals.ghCodeBlocks[num].text, options, globals);\n        } else {\n          blockText = globals.ghCodeBlocks[num].codeblock;\n        }\n      }\n      blockText = blockText.replace(/\\$/g, '$$$$'); // Escape any dollar signs\n\n      grafsOutIt = grafsOutIt.replace(/(\\n\\n)?(K|G)\\d+\\2(\\n\\n)?/, blockText);\n      // Check if grafsOutIt is a pre->code\n      if (/^<pre\\b[^>]*>\\s*<code\\b[^>]*>/.test(grafsOutIt)) {\n        codeFlag = true;\n      }\n    }\n    grafsOut[i] = grafsOutIt;\n  }\n  text = grafsOut.join('\\n');\n  // Strip leading and trailing lines:\n  text = text.replace(/^\\n+/g, '');\n  text = text.replace(/\\n+$/g, '');\n  return globals.converter._dispatch('paragraphs.after', text, options, globals);\n});\n\r\n/**\n * Run extension\n */\nshowdown.subParser('runExtension', function (ext, text, options, globals) {\n  'use strict';\n\n  if (ext.filter) {\n    text = ext.filter(text, globals.converter, options);\n\n  } else if (ext.regex) {\n    // TODO remove this when old extension loading mechanism is deprecated\n    var re = ext.regex;\n    if (!(re instanceof RegExp)) {\n      re = new RegExp(re, 'g');\n    }\n    text = text.replace(re, ext.replace);\n  }\n\n  return text;\n});\n\r\n/**\n * These are all the transformations that occur *within* block-level\n * tags like paragraphs, headers, and list items.\n */\nshowdown.subParser('spanGamut', function (text, options, globals) {\n  'use strict';\n\n  text = globals.converter._dispatch('spanGamut.before', text, options, globals);\n  text = showdown.subParser('codeSpans')(text, options, globals);\n  text = showdown.subParser('escapeSpecialCharsWithinTagAttributes')(text, options, globals);\n  text = showdown.subParser('encodeBackslashEscapes')(text, options, globals);\n\n  // Process anchor and image tags. Images must come first,\n  // because ![foo][f] looks like an anchor.\n  text = showdown.subParser('images')(text, options, globals);\n  text = showdown.subParser('anchors')(text, options, globals);\n\n  // Make links out of things like `<http://example.com/>`\n  // Must come after anchors, because you can use < and >\n  // delimiters in inline links like [this](<url>).\n  text = showdown.subParser('autoLinks')(text, options, globals);\n  text = showdown.subParser('simplifiedAutoLinks')(text, options, globals);\n  text = showdown.subParser('emoji')(text, options, globals);\n  text = showdown.subParser('underline')(text, options, globals);\n  text = showdown.subParser('italicsAndBold')(text, options, globals);\n  text = showdown.subParser('strikethrough')(text, options, globals);\n  text = showdown.subParser('ellipsis')(text, options, globals);\n\n  // we need to hash HTML tags inside spans\n  text = showdown.subParser('hashHTMLSpans')(text, options, globals);\n\n  // now we encode amps and angles\n  text = showdown.subParser('encodeAmpsAndAngles')(text, options, globals);\n\n  // Do hard breaks\n  if (options.simpleLineBreaks) {\n    // GFM style hard breaks\n    // only add line breaks if the text does not contain a block (special case for lists)\n    if (!/\\n\\nK/.test(text)) {\n      text = text.replace(/\\n+/g, '<br />\\n');\n    }\n  } else {\n    // Vanilla hard breaks\n    text = text.replace(/  +\\n/g, '<br />\\n');\n  }\n\n  text = globals.converter._dispatch('spanGamut.after', text, options, globals);\n  return text;\n});\n\r\nshowdown.subParser('strikethrough', function (text, options, globals) {\n  'use strict';\n\n  function parseInside (txt) {\n    if (options.simplifiedAutoLink) {\n      txt = showdown.subParser('simplifiedAutoLinks')(txt, options, globals);\n    }\n    return '<del>' + txt + '</del>';\n  }\n\n  if (options.strikethrough) {\n    text = globals.converter._dispatch('strikethrough.before', text, options, globals);\n    text = text.replace(/(?:~){2}([\\s\\S]+?)(?:~){2}/g, function (wm, txt) { return parseInside(txt); });\n    text = globals.converter._dispatch('strikethrough.after', text, options, globals);\n  }\n\n  return text;\n});\n\r\n/**\n * Strips link definitions from text, stores the URLs and titles in\n * hash references.\n * Link defs are in the form: ^[id]: url \"optional title\"\n */\nshowdown.subParser('stripLinkDefinitions', function (text, options, globals) {\n  'use strict';\n\n  var regex       = /^ {0,3}\\[(.+)]:[ \\t]*\\n?[ \\t]*<?([^>\\s]+)>?(?: =([*\\d]+[A-Za-z%]{0,4})x([*\\d]+[A-Za-z%]{0,4}))?[ \\t]*\\n?[ \\t]*(?:(\\n*)[\"|'(](.+?)[\"|')][ \\t]*)?(?:\\n+|(?=0))/gm,\n      base64Regex = /^ {0,3}\\[(.+)]:[ \\t]*\\n?[ \\t]*<?(data:.+?\\/.+?;base64,[A-Za-z0-9+/=\\n]+?)>?(?: =([*\\d]+[A-Za-z%]{0,4})x([*\\d]+[A-Za-z%]{0,4}))?[ \\t]*\\n?[ \\t]*(?:(\\n*)[\"|'(](.+?)[\"|')][ \\t]*)?(?:\\n\\n|(?=0)|(?=\\n\\[))/gm;\n\n  // attacklab: sentinel workarounds for lack of \\A and \\Z, safari\\khtml bug\n  text += '0';\n\n  var replaceFunc = function (wholeMatch, linkId, url, width, height, blankLines, title) {\n    linkId = linkId.toLowerCase();\n    if (url.match(/^data:.+?\\/.+?;base64,/)) {\n      // remove newlines\n      globals.gUrls[linkId] = url.replace(/\\s/g, '');\n    } else {\n      globals.gUrls[linkId] = showdown.subParser('encodeAmpsAndAngles')(url, options, globals);  // Link IDs are case-insensitive\n    }\n\n    if (blankLines) {\n      // Oops, found blank lines, so it's not a title.\n      // Put back the parenthetical statement we stole.\n      return blankLines + title;\n\n    } else {\n      if (title) {\n        globals.gTitles[linkId] = title.replace(/\"|'/g, '&quot;');\n      }\n      if (options.parseImgDimensions && width && height) {\n        globals.gDimensions[linkId] = {\n          width:  width,\n          height: height\n        };\n      }\n    }\n    // Completely remove the definition from the text\n    return '';\n  };\n\n  // first we try to find base64 link references\n  text = text.replace(base64Regex, replaceFunc);\n\n  text = text.replace(regex, replaceFunc);\n\n  // attacklab: strip sentinel\n  text = text.replace(/0/, '');\n\n  return text;\n});\n\r\nshowdown.subParser('tables', function (text, options, globals) {\n  'use strict';\n\n  if (!options.tables) {\n    return text;\n  }\n\n  var tableRgx       = /^ {0,3}\\|?.+\\|.+\\n {0,3}\\|?[ \\t]*:?[ \\t]*(?:[-=]){2,}[ \\t]*:?[ \\t]*\\|[ \\t]*:?[ \\t]*(?:[-=]){2,}[\\s\\S]+?(?:\\n\\n|0)/gm,\n      //singeColTblRgx = /^ {0,3}\\|.+\\|\\n {0,3}\\|[ \\t]*:?[ \\t]*(?:[-=]){2,}[ \\t]*:?[ \\t]*\\|[ \\t]*\\n(?: {0,3}\\|.+\\|\\n)+(?:\\n\\n|0)/gm;\n      singeColTblRgx = /^ {0,3}\\|.+\\|[ \\t]*\\n {0,3}\\|[ \\t]*:?[ \\t]*(?:[-=]){2,}[ \\t]*:?[ \\t]*\\|[ \\t]*\\n( {0,3}\\|.+\\|[ \\t]*\\n)*(?:\\n|0)/gm;\n\n  function parseStyles (sLine) {\n    if (/^:[ \\t]*--*$/.test(sLine)) {\n      return ' style=\"text-align:left;\"';\n    } else if (/^--*[ \\t]*:[ \\t]*$/.test(sLine)) {\n      return ' style=\"text-align:right;\"';\n    } else if (/^:[ \\t]*--*[ \\t]*:$/.test(sLine)) {\n      return ' style=\"text-align:center;\"';\n    } else {\n      return '';\n    }\n  }\n\n  function parseHeaders (header, style) {\n    var id = '';\n    header = header.trim();\n    // support both tablesHeaderId and tableHeaderId due to error in documentation so we don't break backwards compatibility\n    if (options.tablesHeaderId || options.tableHeaderId) {\n      id = ' id=\"' + header.replace(/ /g, '_').toLowerCase() + '\"';\n    }\n    header = showdown.subParser('spanGamut')(header, options, globals);\n\n    return '<th' + id + style + '>' + header + '</th>\\n';\n  }\n\n  function parseCells (cell, style) {\n    var subText = showdown.subParser('spanGamut')(cell, options, globals);\n    return '<td' + style + '>' + subText + '</td>\\n';\n  }\n\n  function buildTable (headers, cells) {\n    var tb = '<table>\\n<thead>\\n<tr>\\n',\n        tblLgn = headers.length;\n\n    for (var i = 0; i < tblLgn; ++i) {\n      tb += headers[i];\n    }\n    tb += '</tr>\\n</thead>\\n<tbody>\\n';\n\n    for (i = 0; i < cells.length; ++i) {\n      tb += '<tr>\\n';\n      for (var ii = 0; ii < tblLgn; ++ii) {\n        tb += cells[i][ii];\n      }\n      tb += '</tr>\\n';\n    }\n    tb += '</tbody>\\n</table>\\n';\n    return tb;\n  }\n\n  function parseTable (rawTable) {\n    var i, tableLines = rawTable.split('\\n');\n\n    for (i = 0; i < tableLines.length; ++i) {\n      // strip wrong first and last column if wrapped tables are used\n      if (/^ {0,3}\\|/.test(tableLines[i])) {\n        tableLines[i] = tableLines[i].replace(/^ {0,3}\\|/, '');\n      }\n      if (/\\|[ \\t]*$/.test(tableLines[i])) {\n        tableLines[i] = tableLines[i].replace(/\\|[ \\t]*$/, '');\n      }\n      // parse code spans first, but we only support one line code spans\n      tableLines[i] = showdown.subParser('codeSpans')(tableLines[i], options, globals);\n    }\n\n    var rawHeaders = tableLines[0].split('|').map(function (s) { return s.trim();}),\n        rawStyles = tableLines[1].split('|').map(function (s) { return s.trim();}),\n        rawCells = [],\n        headers = [],\n        styles = [],\n        cells = [];\n\n    tableLines.shift();\n    tableLines.shift();\n\n    for (i = 0; i < tableLines.length; ++i) {\n      if (tableLines[i].trim() === '') {\n        continue;\n      }\n      rawCells.push(\n        tableLines[i]\n          .split('|')\n          .map(function (s) {\n            return s.trim();\n          })\n      );\n    }\n\n    if (rawHeaders.length < rawStyles.length) {\n      return rawTable;\n    }\n\n    for (i = 0; i < rawStyles.length; ++i) {\n      styles.push(parseStyles(rawStyles[i]));\n    }\n\n    for (i = 0; i < rawHeaders.length; ++i) {\n      if (showdown.helper.isUndefined(styles[i])) {\n        styles[i] = '';\n      }\n      headers.push(parseHeaders(rawHeaders[i], styles[i]));\n    }\n\n    for (i = 0; i < rawCells.length; ++i) {\n      var row = [];\n      for (var ii = 0; ii < headers.length; ++ii) {\n        if (showdown.helper.isUndefined(rawCells[i][ii])) {\n\n        }\n        row.push(parseCells(rawCells[i][ii], styles[ii]));\n      }\n      cells.push(row);\n    }\n\n    return buildTable(headers, cells);\n  }\n\n  text = globals.converter._dispatch('tables.before', text, options, globals);\n\n  // find escaped pipe characters\n  text = text.replace(/\\\\(\\|)/g, showdown.helper.escapeCharactersCallback);\n\n  // parse multi column tables\n  text = text.replace(tableRgx, parseTable);\n\n  // parse one column tables\n  text = text.replace(singeColTblRgx, parseTable);\n\n  text = globals.converter._dispatch('tables.after', text, options, globals);\n\n  return text;\n});\n\r\nshowdown.subParser('underline', function (text, options, globals) {\n  'use strict';\n\n  if (!options.underline) {\n    return text;\n  }\n\n  text = globals.converter._dispatch('underline.before', text, options, globals);\n\n  if (options.literalMidWordUnderscores) {\n    text = text.replace(/\\b___(\\S[\\s\\S]*?)___\\b/g, function (wm, txt) {\n      return '<u>' + txt + '</u>';\n    });\n    text = text.replace(/\\b__(\\S[\\s\\S]*?)__\\b/g, function (wm, txt) {\n      return '<u>' + txt + '</u>';\n    });\n  } else {\n    text = text.replace(/___(\\S[\\s\\S]*?)___/g, function (wm, m) {\n      return (/\\S$/.test(m)) ? '<u>' + m + '</u>' : wm;\n    });\n    text = text.replace(/__(\\S[\\s\\S]*?)__/g, function (wm, m) {\n      return (/\\S$/.test(m)) ? '<u>' + m + '</u>' : wm;\n    });\n  }\n\n  // escape remaining underscores to prevent them being parsed by italic and bold\n  text = text.replace(/(_)/g, showdown.helper.escapeCharactersCallback);\n\n  text = globals.converter._dispatch('underline.after', text, options, globals);\n\n  return text;\n});\n\r\n/**\n * Swap back in all the special characters we've hidden.\n */\nshowdown.subParser('unescapeSpecialChars', function (text, options, globals) {\n  'use strict';\n  text = globals.converter._dispatch('unescapeSpecialChars.before', text, options, globals);\n\n  text = text.replace(/E(\\d+)E/g, function (wholeMatch, m1) {\n    var charCodeToReplace = parseInt(m1);\n    return String.fromCharCode(charCodeToReplace);\n  });\n\n  text = globals.converter._dispatch('unescapeSpecialChars.after', text, options, globals);\n  return text;\n});\n\r\nshowdown.subParser('makeMarkdown.blockquote', function (node, globals) {\n  'use strict';\n\n  var txt = '';\n  if (node.hasChildNodes()) {\n    var children = node.childNodes,\n        childrenLength = children.length;\n\n    for (var i = 0; i < childrenLength; ++i) {\n      var innerTxt = showdown.subParser('makeMarkdown.node')(children[i], globals);\n\n      if (innerTxt === '') {\n        continue;\n      }\n      txt += innerTxt;\n    }\n  }\n  // cleanup\n  txt = txt.trim();\n  txt = '> ' + txt.split('\\n').join('\\n> ');\n  return txt;\n});\n\r\nshowdown.subParser('makeMarkdown.codeBlock', function (node, globals) {\n  'use strict';\n\n  var lang = node.getAttribute('language'),\n      num  = node.getAttribute('precodenum');\n  return '```' + lang + '\\n' + globals.preList[num] + '\\n```';\n});\n\r\nshowdown.subParser('makeMarkdown.codeSpan', function (node) {\n  'use strict';\n\n  return '`' + node.innerHTML + '`';\n});\n\r\nshowdown.subParser('makeMarkdown.emphasis', function (node, globals) {\n  'use strict';\n\n  var txt = '';\n  if (node.hasChildNodes()) {\n    txt += '*';\n    var children = node.childNodes,\n        childrenLength = children.length;\n    for (var i = 0; i < childrenLength; ++i) {\n      txt += showdown.subParser('makeMarkdown.node')(children[i], globals);\n    }\n    txt += '*';\n  }\n  return txt;\n});\n\r\nshowdown.subParser('makeMarkdown.header', function (node, globals, headerLevel) {\n  'use strict';\n\n  var headerMark = new Array(headerLevel + 1).join('#'),\n      txt = '';\n\n  if (node.hasChildNodes()) {\n    txt = headerMark + ' ';\n    var children = node.childNodes,\n        childrenLength = children.length;\n\n    for (var i = 0; i < childrenLength; ++i) {\n      txt += showdown.subParser('makeMarkdown.node')(children[i], globals);\n    }\n  }\n  return txt;\n});\n\r\nshowdown.subParser('makeMarkdown.hr', function () {\n  'use strict';\n\n  return '---';\n});\n\r\nshowdown.subParser('makeMarkdown.image', function (node) {\n  'use strict';\n\n  var txt = '';\n  if (node.hasAttribute('src')) {\n    txt += '![' + node.getAttribute('alt') + '](';\n    txt += '<' + node.getAttribute('src') + '>';\n    if (node.hasAttribute('width') && node.hasAttribute('height')) {\n      txt += ' =' + node.getAttribute('width') + 'x' + node.getAttribute('height');\n    }\n\n    if (node.hasAttribute('title')) {\n      txt += ' \"' + node.getAttribute('title') + '\"';\n    }\n    txt += ')';\n  }\n  return txt;\n});\n\r\nshowdown.subParser('makeMarkdown.links', function (node, globals) {\n  'use strict';\n\n  var txt = '';\n  if (node.hasChildNodes() && node.hasAttribute('href')) {\n    var children = node.childNodes,\n        childrenLength = children.length;\n    txt = '[';\n    for (var i = 0; i < childrenLength; ++i) {\n      txt += showdown.subParser('makeMarkdown.node')(children[i], globals);\n    }\n    txt += '](';\n    txt += '<' + node.getAttribute('href') + '>';\n    if (node.hasAttribute('title')) {\n      txt += ' \"' + node.getAttribute('title') + '\"';\n    }\n    txt += ')';\n  }\n  return txt;\n});\n\r\nshowdown.subParser('makeMarkdown.list', function (node, globals, type) {\n  'use strict';\n\n  var txt = '';\n  if (!node.hasChildNodes()) {\n    return '';\n  }\n  var listItems       = node.childNodes,\n      listItemsLenght = listItems.length,\n      listNum = node.getAttribute('start') || 1;\n\n  for (var i = 0; i < listItemsLenght; ++i) {\n    if (typeof listItems[i].tagName === 'undefined' || listItems[i].tagName.toLowerCase() !== 'li') {\n      continue;\n    }\n\n    // define the bullet to use in list\n    var bullet = '';\n    if (type === 'ol') {\n      bullet = listNum.toString() + '. ';\n    } else {\n      bullet = '- ';\n    }\n\n    // parse list item\n    txt += bullet + showdown.subParser('makeMarkdown.listItem')(listItems[i], globals);\n    ++listNum;\n  }\n\n  // add comment at the end to prevent consecutive lists to be parsed as one\n  txt += '\\n<!-- -->\\n';\n  return txt.trim();\n});\n\r\nshowdown.subParser('makeMarkdown.listItem', function (node, globals) {\n  'use strict';\n\n  var listItemTxt = '';\n\n  var children = node.childNodes,\n      childrenLenght = children.length;\n\n  for (var i = 0; i < childrenLenght; ++i) {\n    listItemTxt += showdown.subParser('makeMarkdown.node')(children[i], globals);\n  }\n  // if it's only one liner, we need to add a newline at the end\n  if (!/\\n$/.test(listItemTxt)) {\n    listItemTxt += '\\n';\n  } else {\n    // it's multiparagraph, so we need to indent\n    listItemTxt = listItemTxt\n      .split('\\n')\n      .join('\\n    ')\n      .replace(/^ {4}$/gm, '')\n      .replace(/\\n\\n+/g, '\\n\\n');\n  }\n\n  return listItemTxt;\n});\n\r\n\n\nshowdown.subParser('makeMarkdown.node', function (node, globals, spansOnly) {\n  'use strict';\n\n  spansOnly = spansOnly || false;\n\n  var txt = '';\n\n  // edge case of text without wrapper paragraph\n  if (node.nodeType === 3) {\n    return showdown.subParser('makeMarkdown.txt')(node, globals);\n  }\n\n  // HTML comment\n  if (node.nodeType === 8) {\n    return '<!--' + node.data + '-->\\n\\n';\n  }\n\n  // process only node elements\n  if (node.nodeType !== 1) {\n    return '';\n  }\n\n  var tagName = node.tagName.toLowerCase();\n\n  switch (tagName) {\n\n    //\n    // BLOCKS\n    //\n    case 'h1':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.header')(node, globals, 1) + '\\n\\n'; }\n      break;\n    case 'h2':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.header')(node, globals, 2) + '\\n\\n'; }\n      break;\n    case 'h3':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.header')(node, globals, 3) + '\\n\\n'; }\n      break;\n    case 'h4':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.header')(node, globals, 4) + '\\n\\n'; }\n      break;\n    case 'h5':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.header')(node, globals, 5) + '\\n\\n'; }\n      break;\n    case 'h6':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.header')(node, globals, 6) + '\\n\\n'; }\n      break;\n\n    case 'p':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.paragraph')(node, globals) + '\\n\\n'; }\n      break;\n\n    case 'blockquote':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.blockquote')(node, globals) + '\\n\\n'; }\n      break;\n\n    case 'hr':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.hr')(node, globals) + '\\n\\n'; }\n      break;\n\n    case 'ol':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.list')(node, globals, 'ol') + '\\n\\n'; }\n      break;\n\n    case 'ul':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.list')(node, globals, 'ul') + '\\n\\n'; }\n      break;\n\n    case 'precode':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.codeBlock')(node, globals) + '\\n\\n'; }\n      break;\n\n    case 'pre':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.pre')(node, globals) + '\\n\\n'; }\n      break;\n\n    case 'table':\n      if (!spansOnly) { txt = showdown.subParser('makeMarkdown.table')(node, globals) + '\\n\\n'; }\n      break;\n\n    //\n    // SPANS\n    //\n    case 'code':\n      txt = showdown.subParser('makeMarkdown.codeSpan')(node, globals);\n      break;\n\n    case 'em':\n    case 'i':\n      txt = showdown.subParser('makeMarkdown.emphasis')(node, globals);\n      break;\n\n    case 'strong':\n    case 'b':\n      txt = showdown.subParser('makeMarkdown.strong')(node, globals);\n      break;\n\n    case 'del':\n      txt = showdown.subParser('makeMarkdown.strikethrough')(node, globals);\n      break;\n\n    case 'a':\n      txt = showdown.subParser('makeMarkdown.links')(node, globals);\n      break;\n\n    case 'img':\n      txt = showdown.subParser('makeMarkdown.image')(node, globals);\n      break;\n\n    default:\n      txt = node.outerHTML + '\\n\\n';\n  }\n\n  // common normalization\n  // TODO eventually\n\n  return txt;\n});\n\r\nshowdown.subParser('makeMarkdown.paragraph', function (node, globals) {\n  'use strict';\n\n  var txt = '';\n  if (node.hasChildNodes()) {\n    var children = node.childNodes,\n        childrenLength = children.length;\n    for (var i = 0; i < childrenLength; ++i) {\n      txt += showdown.subParser('makeMarkdown.node')(children[i], globals);\n    }\n  }\n\n  // some text normalization\n  txt = txt.trim();\n\n  return txt;\n});\n\r\nshowdown.subParser('makeMarkdown.pre', function (node, globals) {\n  'use strict';\n\n  var num  = node.getAttribute('prenum');\n  return '<pre>' + globals.preList[num] + '</pre>';\n});\n\r\nshowdown.subParser('makeMarkdown.strikethrough', function (node, globals) {\n  'use strict';\n\n  var txt = '';\n  if (node.hasChildNodes()) {\n    txt += '~~';\n    var children = node.childNodes,\n        childrenLength = children.length;\n    for (var i = 0; i < childrenLength; ++i) {\n      txt += showdown.subParser('makeMarkdown.node')(children[i], globals);\n    }\n    txt += '~~';\n  }\n  return txt;\n});\n\r\nshowdown.subParser('makeMarkdown.strong', function (node, globals) {\n  'use strict';\n\n  var txt = '';\n  if (node.hasChildNodes()) {\n    txt += '**';\n    var children = node.childNodes,\n        childrenLength = children.length;\n    for (var i = 0; i < childrenLength; ++i) {\n      txt += showdown.subParser('makeMarkdown.node')(children[i], globals);\n    }\n    txt += '**';\n  }\n  return txt;\n});\n\r\nshowdown.subParser('makeMarkdown.table', function (node, globals) {\n  'use strict';\n\n  var txt = '',\n      tableArray = [[], []],\n      headings   = node.querySelectorAll('thead>tr>th'),\n      rows       = node.querySelectorAll('tbody>tr'),\n      i, ii;\n  for (i = 0; i < headings.length; ++i) {\n    var headContent = showdown.subParser('makeMarkdown.tableCell')(headings[i], globals),\n        allign = '---';\n\n    if (headings[i].hasAttribute('style')) {\n      var style = headings[i].getAttribute('style').toLowerCase().replace(/\\s/g, '');\n      switch (style) {\n        case 'text-align:left;':\n          allign = ':---';\n          break;\n        case 'text-align:right;':\n          allign = '---:';\n          break;\n        case 'text-align:center;':\n          allign = ':---:';\n          break;\n      }\n    }\n    tableArray[0][i] = headContent.trim();\n    tableArray[1][i] = allign;\n  }\n\n  for (i = 0; i < rows.length; ++i) {\n    var r = tableArray.push([]) - 1,\n        cols = rows[i].getElementsByTagName('td');\n\n    for (ii = 0; ii < headings.length; ++ii) {\n      var cellContent = ' ';\n      if (typeof cols[ii] !== 'undefined') {\n        cellContent = showdown.subParser('makeMarkdown.tableCell')(cols[ii], globals);\n      }\n      tableArray[r].push(cellContent);\n    }\n  }\n\n  var cellSpacesCount = 3;\n  for (i = 0; i < tableArray.length; ++i) {\n    for (ii = 0; ii < tableArray[i].length; ++ii) {\n      var strLen = tableArray[i][ii].length;\n      if (strLen > cellSpacesCount) {\n        cellSpacesCount = strLen;\n      }\n    }\n  }\n\n  for (i = 0; i < tableArray.length; ++i) {\n    for (ii = 0; ii < tableArray[i].length; ++ii) {\n      if (i === 1) {\n        if (tableArray[i][ii].slice(-1) === ':') {\n          tableArray[i][ii] = showdown.helper.padEnd(tableArray[i][ii].slice(-1), cellSpacesCount - 1, '-') + ':';\n        } else {\n          tableArray[i][ii] = showdown.helper.padEnd(tableArray[i][ii], cellSpacesCount, '-');\n        }\n      } else {\n        tableArray[i][ii] = showdown.helper.padEnd(tableArray[i][ii], cellSpacesCount);\n      }\n    }\n    txt += '| ' + tableArray[i].join(' | ') + ' |\\n';\n  }\n\n  return txt.trim();\n});\n\r\nshowdown.subParser('makeMarkdown.tableCell', function (node, globals) {\n  'use strict';\n\n  var txt = '';\n  if (!node.hasChildNodes()) {\n    return '';\n  }\n  var children = node.childNodes,\n      childrenLength = children.length;\n\n  for (var i = 0; i < childrenLength; ++i) {\n    txt += showdown.subParser('makeMarkdown.node')(children[i], globals, true);\n  }\n  return txt.trim();\n});\n\r\nshowdown.subParser('makeMarkdown.txt', function (node) {\n  'use strict';\n\n  var txt = node.nodeValue;\n\n  // multiple spaces are collapsed\n  txt = txt.replace(/ +/g, ' ');\n\n  // replace the custom NBSP; with a space\n  txt = txt.replace(/NBSP;/g, ' ');\n\n  // \", <, > and & should replace escaped html entities\n  txt = showdown.helper.unescapeHTMLEntities(txt);\n\n  // escape markdown magic characters\n  // emphasis, strong and strikethrough - can appear everywhere\n  // we also escape pipe (|) because of tables\n  // and escape ` because of code blocks and spans\n  txt = txt.replace(/([*_~|`])/g, '\\\\$1');\n\n  // escape > because of blockquotes\n  txt = txt.replace(/^(\\s*)>/g, '\\\\$1>');\n\n  // hash character, only troublesome at the beginning of a line because of headers\n  txt = txt.replace(/^#/gm, '\\\\#');\n\n  // horizontal rules\n  txt = txt.replace(/^(\\s*)([-=]{3,})(\\s*)$/, '$1\\\\$2$3');\n\n  // dot, because of ordered lists, only troublesome at the beginning of a line when preceded by an integer\n  txt = txt.replace(/^( {0,3}\\d+)\\./gm, '$1\\\\.');\n\n  // +, * and -, at the beginning of a line becomes a list, so we need to escape them also (asterisk was already escaped)\n  txt = txt.replace(/^( {0,3})([+-])/gm, '$1\\\\$2');\n\n  // images and links, ] followed by ( is problematic, so we escape it\n  txt = txt.replace(/]([\\s]*)\\(/g, '\\\\]$1\\\\(');\n\n  // reference URIs must also be escaped\n  txt = txt.replace(/^ {0,3}\\[([\\S \\t]*?)]:/gm, '\\\\[$1]:');\n\n  return txt;\n});\n\r\nvar root = this;\n\n// AMD Loader\nif (typeof define === 'function' && define.amd) {\n  define(function () {\n    'use strict';\n    return showdown;\n  });\n\n// CommonJS/nodeJS Loader\n} else if (typeof module !== 'undefined' && module.exports) {\n  module.exports = showdown;\n\n// Regular Browser loader\n} else {\n  root.showdown = showdown;\n}\n}).call(this);\r\n\n//# sourceMappingURL=showdown.js.map\r\n","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n/// <reference path=\"../../typings/thenable.d.ts\" />\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TraceFormat = exports.TraceValues = exports.Trace = exports.ProgressType = exports.ProgressToken = exports.createMessageConnection = exports.NullLogger = exports.ConnectionOptions = exports.ConnectionStrategy = exports.WriteableStreamMessageWriter = exports.AbstractMessageWriter = exports.MessageWriter = exports.ReadableStreamMessageReader = exports.AbstractMessageReader = exports.MessageReader = exports.CancellationToken = exports.CancellationTokenSource = exports.Emitter = exports.Event = exports.Disposable = exports.LRUCache = exports.Touch = exports.LinkedMap = exports.ParameterStructures = exports.NotificationType9 = exports.NotificationType8 = exports.NotificationType7 = exports.NotificationType6 = exports.NotificationType5 = exports.NotificationType4 = exports.NotificationType3 = exports.NotificationType2 = exports.NotificationType1 = exports.NotificationType0 = exports.NotificationType = exports.ErrorCodes = exports.ResponseError = exports.RequestType9 = exports.RequestType8 = exports.RequestType7 = exports.RequestType6 = exports.RequestType5 = exports.RequestType4 = exports.RequestType3 = exports.RequestType2 = exports.RequestType1 = exports.RequestType0 = exports.RequestType = exports.Message = exports.RAL = void 0;\nexports.CancellationStrategy = exports.CancellationSenderStrategy = exports.CancellationReceiverStrategy = exports.ConnectionError = exports.ConnectionErrors = exports.LogTraceNotification = exports.SetTraceNotification = void 0;\nconst messages_1 = require(\"./messages\");\nObject.defineProperty(exports, \"Message\", { enumerable: true, get: function () { return messages_1.Message; } });\nObject.defineProperty(exports, \"RequestType\", { enumerable: true, get: function () { return messages_1.RequestType; } });\nObject.defineProperty(exports, \"RequestType0\", { enumerable: true, get: function () { return messages_1.RequestType0; } });\nObject.defineProperty(exports, \"RequestType1\", { enumerable: true, get: function () { return messages_1.RequestType1; } });\nObject.defineProperty(exports, \"RequestType2\", { enumerable: true, get: function () { return messages_1.RequestType2; } });\nObject.defineProperty(exports, \"RequestType3\", { enumerable: true, get: function () { return messages_1.RequestType3; } });\nObject.defineProperty(exports, \"RequestType4\", { enumerable: true, get: function () { return messages_1.RequestType4; } });\nObject.defineProperty(exports, \"RequestType5\", { enumerable: true, get: function () { return messages_1.RequestType5; } });\nObject.defineProperty(exports, \"RequestType6\", { enumerable: true, get: function () { return messages_1.RequestType6; } });\nObject.defineProperty(exports, \"RequestType7\", { enumerable: true, get: function () { return messages_1.RequestType7; } });\nObject.defineProperty(exports, \"RequestType8\", { enumerable: true, get: function () { return messages_1.RequestType8; } });\nObject.defineProperty(exports, \"RequestType9\", { enumerable: true, get: function () { return messages_1.RequestType9; } });\nObject.defineProperty(exports, \"ResponseError\", { enumerable: true, get: function () { return messages_1.ResponseError; } });\nObject.defineProperty(exports, \"ErrorCodes\", { enumerable: true, get: function () { return messages_1.ErrorCodes; } });\nObject.defineProperty(exports, \"NotificationType\", { enumerable: true, get: function () { return messages_1.NotificationType; } });\nObject.defineProperty(exports, \"NotificationType0\", { enumerable: true, get: function () { return messages_1.NotificationType0; } });\nObject.defineProperty(exports, \"NotificationType1\", { enumerable: true, get: function () { return messages_1.NotificationType1; } });\nObject.defineProperty(exports, \"NotificationType2\", { enumerable: true, get: function () { return messages_1.NotificationType2; } });\nObject.defineProperty(exports, \"NotificationType3\", { enumerable: true, get: function () { return messages_1.NotificationType3; } });\nObject.defineProperty(exports, \"NotificationType4\", { enumerable: true, get: function () { return messages_1.NotificationType4; } });\nObject.defineProperty(exports, \"NotificationType5\", { enumerable: true, get: function () { return messages_1.NotificationType5; } });\nObject.defineProperty(exports, \"NotificationType6\", { enumerable: true, get: function () { return messages_1.NotificationType6; } });\nObject.defineProperty(exports, \"NotificationType7\", { enumerable: true, get: function () { return messages_1.NotificationType7; } });\nObject.defineProperty(exports, \"NotificationType8\", { enumerable: true, get: function () { return messages_1.NotificationType8; } });\nObject.defineProperty(exports, \"NotificationType9\", { enumerable: true, get: function () { return messages_1.NotificationType9; } });\nObject.defineProperty(exports, \"ParameterStructures\", { enumerable: true, get: function () { return messages_1.ParameterStructures; } });\nconst linkedMap_1 = require(\"./linkedMap\");\nObject.defineProperty(exports, \"LinkedMap\", { enumerable: true, get: function () { return linkedMap_1.LinkedMap; } });\nObject.defineProperty(exports, \"LRUCache\", { enumerable: true, get: function () { return linkedMap_1.LRUCache; } });\nObject.defineProperty(exports, \"Touch\", { enumerable: true, get: function () { return linkedMap_1.Touch; } });\nconst disposable_1 = require(\"./disposable\");\nObject.defineProperty(exports, \"Disposable\", { enumerable: true, get: function () { return disposable_1.Disposable; } });\nconst events_1 = require(\"./events\");\nObject.defineProperty(exports, \"Event\", { enumerable: true, get: function () { return events_1.Event; } });\nObject.defineProperty(exports, \"Emitter\", { enumerable: true, get: function () { return events_1.Emitter; } });\nconst cancellation_1 = require(\"./cancellation\");\nObject.defineProperty(exports, \"CancellationTokenSource\", { enumerable: true, get: function () { return cancellation_1.CancellationTokenSource; } });\nObject.defineProperty(exports, \"CancellationToken\", { enumerable: true, get: function () { return cancellation_1.CancellationToken; } });\nconst messageReader_1 = require(\"./messageReader\");\nObject.defineProperty(exports, \"MessageReader\", { enumerable: true, get: function () { return messageReader_1.MessageReader; } });\nObject.defineProperty(exports, \"AbstractMessageReader\", { enumerable: true, get: function () { return messageReader_1.AbstractMessageReader; } });\nObject.defineProperty(exports, \"ReadableStreamMessageReader\", { enumerable: true, get: function () { return messageReader_1.ReadableStreamMessageReader; } });\nconst messageWriter_1 = require(\"./messageWriter\");\nObject.defineProperty(exports, \"MessageWriter\", { enumerable: true, get: function () { return messageWriter_1.MessageWriter; } });\nObject.defineProperty(exports, \"AbstractMessageWriter\", { enumerable: true, get: function () { return messageWriter_1.AbstractMessageWriter; } });\nObject.defineProperty(exports, \"WriteableStreamMessageWriter\", { enumerable: true, get: function () { return messageWriter_1.WriteableStreamMessageWriter; } });\nconst connection_1 = require(\"./connection\");\nObject.defineProperty(exports, \"ConnectionStrategy\", { enumerable: true, get: function () { return connection_1.ConnectionStrategy; } });\nObject.defineProperty(exports, \"ConnectionOptions\", { enumerable: true, get: function () { return connection_1.ConnectionOptions; } });\nObject.defineProperty(exports, \"NullLogger\", { enumerable: true, get: function () { return connection_1.NullLogger; } });\nObject.defineProperty(exports, \"createMessageConnection\", { enumerable: true, get: function () { return connection_1.createMessageConnection; } });\nObject.defineProperty(exports, \"ProgressToken\", { enumerable: true, get: function () { return connection_1.ProgressToken; } });\nObject.defineProperty(exports, \"ProgressType\", { enumerable: true, get: function () { return connection_1.ProgressType; } });\nObject.defineProperty(exports, \"Trace\", { enumerable: true, get: function () { return connection_1.Trace; } });\nObject.defineProperty(exports, \"TraceValues\", { enumerable: true, get: function () { return connection_1.TraceValues; } });\nObject.defineProperty(exports, \"TraceFormat\", { enumerable: true, get: function () { return connection_1.TraceFormat; } });\nObject.defineProperty(exports, \"SetTraceNotification\", { enumerable: true, get: function () { return connection_1.SetTraceNotification; } });\nObject.defineProperty(exports, \"LogTraceNotification\", { enumerable: true, get: function () { return connection_1.LogTraceNotification; } });\nObject.defineProperty(exports, \"ConnectionErrors\", { enumerable: true, get: function () { return connection_1.ConnectionErrors; } });\nObject.defineProperty(exports, \"ConnectionError\", { enumerable: true, get: function () { return connection_1.ConnectionError; } });\nObject.defineProperty(exports, \"CancellationReceiverStrategy\", { enumerable: true, get: function () { return connection_1.CancellationReceiverStrategy; } });\nObject.defineProperty(exports, \"CancellationSenderStrategy\", { enumerable: true, get: function () { return connection_1.CancellationSenderStrategy; } });\nObject.defineProperty(exports, \"CancellationStrategy\", { enumerable: true, get: function () { return connection_1.CancellationStrategy; } });\nconst ral_1 = require(\"./ral\");\nexports.RAL = ral_1.default;\n//# sourceMappingURL=api.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CancellationTokenSource = exports.CancellationToken = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst events_1 = require(\"./events\");\nvar CancellationToken;\n(function (CancellationToken) {\n    CancellationToken.None = Object.freeze({\n        isCancellationRequested: false,\n        onCancellationRequested: events_1.Event.None\n    });\n    CancellationToken.Cancelled = Object.freeze({\n        isCancellationRequested: true,\n        onCancellationRequested: events_1.Event.None\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && (candidate === CancellationToken.None\n            || candidate === CancellationToken.Cancelled\n            || (Is.boolean(candidate.isCancellationRequested) && !!candidate.onCancellationRequested));\n    }\n    CancellationToken.is = is;\n})(CancellationToken = exports.CancellationToken || (exports.CancellationToken = {}));\nconst shortcutEvent = Object.freeze(function (callback, context) {\n    const handle = (0, ral_1.default)().timer.setTimeout(callback.bind(context), 0);\n    return { dispose() { handle.dispose(); } };\n});\nclass MutableToken {\n    constructor() {\n        this._isCancelled = false;\n    }\n    cancel() {\n        if (!this._isCancelled) {\n            this._isCancelled = true;\n            if (this._emitter) {\n                this._emitter.fire(undefined);\n                this.dispose();\n            }\n        }\n    }\n    get isCancellationRequested() {\n        return this._isCancelled;\n    }\n    get onCancellationRequested() {\n        if (this._isCancelled) {\n            return shortcutEvent;\n        }\n        if (!this._emitter) {\n            this._emitter = new events_1.Emitter();\n        }\n        return this._emitter.event;\n    }\n    dispose() {\n        if (this._emitter) {\n            this._emitter.dispose();\n            this._emitter = undefined;\n        }\n    }\n}\nclass CancellationTokenSource {\n    get token() {\n        if (!this._token) {\n            // be lazy and create the token only when\n            // actually needed\n            this._token = new MutableToken();\n        }\n        return this._token;\n    }\n    cancel() {\n        if (!this._token) {\n            // save an object by returning the default\n            // cancelled token when cancellation happens\n            // before someone asks for the token\n            this._token = CancellationToken.Cancelled;\n        }\n        else {\n            this._token.cancel();\n        }\n    }\n    dispose() {\n        if (!this._token) {\n            // ensure to initialize with an empty token if we had none\n            this._token = CancellationToken.None;\n        }\n        else if (this._token instanceof MutableToken) {\n            // actually dispose\n            this._token.dispose();\n        }\n    }\n}\nexports.CancellationTokenSource = CancellationTokenSource;\n//# sourceMappingURL=cancellation.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createMessageConnection = exports.ConnectionOptions = exports.CancellationStrategy = exports.CancellationSenderStrategy = exports.CancellationReceiverStrategy = exports.ConnectionStrategy = exports.ConnectionError = exports.ConnectionErrors = exports.LogTraceNotification = exports.SetTraceNotification = exports.TraceFormat = exports.TraceValues = exports.Trace = exports.NullLogger = exports.ProgressType = exports.ProgressToken = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst messages_1 = require(\"./messages\");\nconst linkedMap_1 = require(\"./linkedMap\");\nconst events_1 = require(\"./events\");\nconst cancellation_1 = require(\"./cancellation\");\nvar CancelNotification;\n(function (CancelNotification) {\n    CancelNotification.type = new messages_1.NotificationType('$/cancelRequest');\n})(CancelNotification || (CancelNotification = {}));\nvar ProgressToken;\n(function (ProgressToken) {\n    function is(value) {\n        return typeof value === 'string' || typeof value === 'number';\n    }\n    ProgressToken.is = is;\n})(ProgressToken = exports.ProgressToken || (exports.ProgressToken = {}));\nvar ProgressNotification;\n(function (ProgressNotification) {\n    ProgressNotification.type = new messages_1.NotificationType('$/progress');\n})(ProgressNotification || (ProgressNotification = {}));\nclass ProgressType {\n    constructor() {\n    }\n}\nexports.ProgressType = ProgressType;\nvar StarRequestHandler;\n(function (StarRequestHandler) {\n    function is(value) {\n        return Is.func(value);\n    }\n    StarRequestHandler.is = is;\n})(StarRequestHandler || (StarRequestHandler = {}));\nexports.NullLogger = Object.freeze({\n    error: () => { },\n    warn: () => { },\n    info: () => { },\n    log: () => { }\n});\nvar Trace;\n(function (Trace) {\n    Trace[Trace[\"Off\"] = 0] = \"Off\";\n    Trace[Trace[\"Messages\"] = 1] = \"Messages\";\n    Trace[Trace[\"Compact\"] = 2] = \"Compact\";\n    Trace[Trace[\"Verbose\"] = 3] = \"Verbose\";\n})(Trace = exports.Trace || (exports.Trace = {}));\nvar TraceValues;\n(function (TraceValues) {\n    /**\n     * Turn tracing off.\n     */\n    TraceValues.Off = 'off';\n    /**\n     * Trace messages only.\n     */\n    TraceValues.Messages = 'messages';\n    /**\n     * Compact message tracing.\n     */\n    TraceValues.Compact = 'compact';\n    /**\n     * Verbose message tracing.\n     */\n    TraceValues.Verbose = 'verbose';\n})(TraceValues = exports.TraceValues || (exports.TraceValues = {}));\n(function (Trace) {\n    function fromString(value) {\n        if (!Is.string(value)) {\n            return Trace.Off;\n        }\n        value = value.toLowerCase();\n        switch (value) {\n            case 'off':\n                return Trace.Off;\n            case 'messages':\n                return Trace.Messages;\n            case 'compact':\n                return Trace.Compact;\n            case 'verbose':\n                return Trace.Verbose;\n            default:\n                return Trace.Off;\n        }\n    }\n    Trace.fromString = fromString;\n    function toString(value) {\n        switch (value) {\n            case Trace.Off:\n                return 'off';\n            case Trace.Messages:\n                return 'messages';\n            case Trace.Compact:\n                return 'compact';\n            case Trace.Verbose:\n                return 'verbose';\n            default:\n                return 'off';\n        }\n    }\n    Trace.toString = toString;\n})(Trace = exports.Trace || (exports.Trace = {}));\nvar TraceFormat;\n(function (TraceFormat) {\n    TraceFormat[\"Text\"] = \"text\";\n    TraceFormat[\"JSON\"] = \"json\";\n})(TraceFormat = exports.TraceFormat || (exports.TraceFormat = {}));\n(function (TraceFormat) {\n    function fromString(value) {\n        if (!Is.string(value)) {\n            return TraceFormat.Text;\n        }\n        value = value.toLowerCase();\n        if (value === 'json') {\n            return TraceFormat.JSON;\n        }\n        else {\n            return TraceFormat.Text;\n        }\n    }\n    TraceFormat.fromString = fromString;\n})(TraceFormat = exports.TraceFormat || (exports.TraceFormat = {}));\nvar SetTraceNotification;\n(function (SetTraceNotification) {\n    SetTraceNotification.type = new messages_1.NotificationType('$/setTrace');\n})(SetTraceNotification = exports.SetTraceNotification || (exports.SetTraceNotification = {}));\nvar LogTraceNotification;\n(function (LogTraceNotification) {\n    LogTraceNotification.type = new messages_1.NotificationType('$/logTrace');\n})(LogTraceNotification = exports.LogTraceNotification || (exports.LogTraceNotification = {}));\nvar ConnectionErrors;\n(function (ConnectionErrors) {\n    /**\n     * The connection is closed.\n     */\n    ConnectionErrors[ConnectionErrors[\"Closed\"] = 1] = \"Closed\";\n    /**\n     * The connection got disposed.\n     */\n    ConnectionErrors[ConnectionErrors[\"Disposed\"] = 2] = \"Disposed\";\n    /**\n     * The connection is already in listening mode.\n     */\n    ConnectionErrors[ConnectionErrors[\"AlreadyListening\"] = 3] = \"AlreadyListening\";\n})(ConnectionErrors = exports.ConnectionErrors || (exports.ConnectionErrors = {}));\nclass ConnectionError extends Error {\n    constructor(code, message) {\n        super(message);\n        this.code = code;\n        Object.setPrototypeOf(this, ConnectionError.prototype);\n    }\n}\nexports.ConnectionError = ConnectionError;\nvar ConnectionStrategy;\n(function (ConnectionStrategy) {\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.func(candidate.cancelUndispatched);\n    }\n    ConnectionStrategy.is = is;\n})(ConnectionStrategy = exports.ConnectionStrategy || (exports.ConnectionStrategy = {}));\nvar CancellationReceiverStrategy;\n(function (CancellationReceiverStrategy) {\n    CancellationReceiverStrategy.Message = Object.freeze({\n        createCancellationTokenSource(_) {\n            return new cancellation_1.CancellationTokenSource();\n        }\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.func(candidate.createCancellationTokenSource);\n    }\n    CancellationReceiverStrategy.is = is;\n})(CancellationReceiverStrategy = exports.CancellationReceiverStrategy || (exports.CancellationReceiverStrategy = {}));\nvar CancellationSenderStrategy;\n(function (CancellationSenderStrategy) {\n    CancellationSenderStrategy.Message = Object.freeze({\n        sendCancellation(conn, id) {\n            return conn.sendNotification(CancelNotification.type, { id });\n        },\n        cleanup(_) { }\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.func(candidate.sendCancellation) && Is.func(candidate.cleanup);\n    }\n    CancellationSenderStrategy.is = is;\n})(CancellationSenderStrategy = exports.CancellationSenderStrategy || (exports.CancellationSenderStrategy = {}));\nvar CancellationStrategy;\n(function (CancellationStrategy) {\n    CancellationStrategy.Message = Object.freeze({\n        receiver: CancellationReceiverStrategy.Message,\n        sender: CancellationSenderStrategy.Message\n    });\n    function is(value) {\n        const candidate = value;\n        return candidate && CancellationReceiverStrategy.is(candidate.receiver) && CancellationSenderStrategy.is(candidate.sender);\n    }\n    CancellationStrategy.is = is;\n})(CancellationStrategy = exports.CancellationStrategy || (exports.CancellationStrategy = {}));\nvar ConnectionOptions;\n(function (ConnectionOptions) {\n    function is(value) {\n        const candidate = value;\n        return candidate && (CancellationStrategy.is(candidate.cancellationStrategy) || ConnectionStrategy.is(candidate.connectionStrategy));\n    }\n    ConnectionOptions.is = is;\n})(ConnectionOptions = exports.ConnectionOptions || (exports.ConnectionOptions = {}));\nvar ConnectionState;\n(function (ConnectionState) {\n    ConnectionState[ConnectionState[\"New\"] = 1] = \"New\";\n    ConnectionState[ConnectionState[\"Listening\"] = 2] = \"Listening\";\n    ConnectionState[ConnectionState[\"Closed\"] = 3] = \"Closed\";\n    ConnectionState[ConnectionState[\"Disposed\"] = 4] = \"Disposed\";\n})(ConnectionState || (ConnectionState = {}));\nfunction createMessageConnection(messageReader, messageWriter, _logger, options) {\n    const logger = _logger !== undefined ? _logger : exports.NullLogger;\n    let sequenceNumber = 0;\n    let notificationSequenceNumber = 0;\n    let unknownResponseSequenceNumber = 0;\n    const version = '2.0';\n    let starRequestHandler = undefined;\n    const requestHandlers = new Map();\n    let starNotificationHandler = undefined;\n    const notificationHandlers = new Map();\n    const progressHandlers = new Map();\n    let timer;\n    let messageQueue = new linkedMap_1.LinkedMap();\n    let responsePromises = new Map();\n    let knownCanceledRequests = new Set();\n    let requestTokens = new Map();\n    let trace = Trace.Off;\n    let traceFormat = TraceFormat.Text;\n    let tracer;\n    let state = ConnectionState.New;\n    const errorEmitter = new events_1.Emitter();\n    const closeEmitter = new events_1.Emitter();\n    const unhandledNotificationEmitter = new events_1.Emitter();\n    const unhandledProgressEmitter = new events_1.Emitter();\n    const disposeEmitter = new events_1.Emitter();\n    const cancellationStrategy = (options && options.cancellationStrategy) ? options.cancellationStrategy : CancellationStrategy.Message;\n    function createRequestQueueKey(id) {\n        if (id === null) {\n            throw new Error(`Can't send requests with id null since the response can't be correlated.`);\n        }\n        return 'req-' + id.toString();\n    }\n    function createResponseQueueKey(id) {\n        if (id === null) {\n            return 'res-unknown-' + (++unknownResponseSequenceNumber).toString();\n        }\n        else {\n            return 'res-' + id.toString();\n        }\n    }\n    function createNotificationQueueKey() {\n        return 'not-' + (++notificationSequenceNumber).toString();\n    }\n    function addMessageToQueue(queue, message) {\n        if (messages_1.Message.isRequest(message)) {\n            queue.set(createRequestQueueKey(message.id), message);\n        }\n        else if (messages_1.Message.isResponse(message)) {\n            queue.set(createResponseQueueKey(message.id), message);\n        }\n        else {\n            queue.set(createNotificationQueueKey(), message);\n        }\n    }\n    function cancelUndispatched(_message) {\n        return undefined;\n    }\n    function isListening() {\n        return state === ConnectionState.Listening;\n    }\n    function isClosed() {\n        return state === ConnectionState.Closed;\n    }\n    function isDisposed() {\n        return state === ConnectionState.Disposed;\n    }\n    function closeHandler() {\n        if (state === ConnectionState.New || state === ConnectionState.Listening) {\n            state = ConnectionState.Closed;\n            closeEmitter.fire(undefined);\n        }\n        // If the connection is disposed don't sent close events.\n    }\n    function readErrorHandler(error) {\n        errorEmitter.fire([error, undefined, undefined]);\n    }\n    function writeErrorHandler(data) {\n        errorEmitter.fire(data);\n    }\n    messageReader.onClose(closeHandler);\n    messageReader.onError(readErrorHandler);\n    messageWriter.onClose(closeHandler);\n    messageWriter.onError(writeErrorHandler);\n    function triggerMessageQueue() {\n        if (timer || messageQueue.size === 0) {\n            return;\n        }\n        timer = (0, ral_1.default)().timer.setImmediate(() => {\n            timer = undefined;\n            processMessageQueue();\n        });\n    }\n    function processMessageQueue() {\n        if (messageQueue.size === 0) {\n            return;\n        }\n        const message = messageQueue.shift();\n        try {\n            if (messages_1.Message.isRequest(message)) {\n                handleRequest(message);\n            }\n            else if (messages_1.Message.isNotification(message)) {\n                handleNotification(message);\n            }\n            else if (messages_1.Message.isResponse(message)) {\n                handleResponse(message);\n            }\n            else {\n                handleInvalidMessage(message);\n            }\n        }\n        finally {\n            triggerMessageQueue();\n        }\n    }\n    const callback = (message) => {\n        try {\n            // We have received a cancellation message. Check if the message is still in the queue\n            // and cancel it if allowed to do so.\n            if (messages_1.Message.isNotification(message) && message.method === CancelNotification.type.method) {\n                const cancelId = message.params.id;\n                const key = createRequestQueueKey(cancelId);\n                const toCancel = messageQueue.get(key);\n                if (messages_1.Message.isRequest(toCancel)) {\n                    const strategy = options?.connectionStrategy;\n                    const response = (strategy && strategy.cancelUndispatched) ? strategy.cancelUndispatched(toCancel, cancelUndispatched) : cancelUndispatched(toCancel);\n                    if (response && (response.error !== undefined || response.result !== undefined)) {\n                        messageQueue.delete(key);\n                        requestTokens.delete(cancelId);\n                        response.id = toCancel.id;\n                        traceSendingResponse(response, message.method, Date.now());\n                        messageWriter.write(response).catch(() => logger.error(`Sending response for canceled message failed.`));\n                        return;\n                    }\n                }\n                const cancellationToken = requestTokens.get(cancelId);\n                // The request is already running. Cancel the token\n                if (cancellationToken !== undefined) {\n                    cancellationToken.cancel();\n                    traceReceivedNotification(message);\n                    return;\n                }\n                else {\n                    // Remember the cancel but still queue the message to\n                    // clean up state in process message.\n                    knownCanceledRequests.add(cancelId);\n                }\n            }\n            addMessageToQueue(messageQueue, message);\n        }\n        finally {\n            triggerMessageQueue();\n        }\n    };\n    function handleRequest(requestMessage) {\n        if (isDisposed()) {\n            // we return here silently since we fired an event when the\n            // connection got disposed.\n            return;\n        }\n        function reply(resultOrError, method, startTime) {\n            const message = {\n                jsonrpc: version,\n                id: requestMessage.id\n            };\n            if (resultOrError instanceof messages_1.ResponseError) {\n                message.error = resultOrError.toJson();\n            }\n            else {\n                message.result = resultOrError === undefined ? null : resultOrError;\n            }\n            traceSendingResponse(message, method, startTime);\n            messageWriter.write(message).catch(() => logger.error(`Sending response failed.`));\n        }\n        function replyError(error, method, startTime) {\n            const message = {\n                jsonrpc: version,\n                id: requestMessage.id,\n                error: error.toJson()\n            };\n            traceSendingResponse(message, method, startTime);\n            messageWriter.write(message).catch(() => logger.error(`Sending response failed.`));\n        }\n        function replySuccess(result, method, startTime) {\n            // The JSON RPC defines that a response must either have a result or an error\n            // So we can't treat undefined as a valid response result.\n            if (result === undefined) {\n                result = null;\n            }\n            const message = {\n                jsonrpc: version,\n                id: requestMessage.id,\n                result: result\n            };\n            traceSendingResponse(message, method, startTime);\n            messageWriter.write(message).catch(() => logger.error(`Sending response failed.`));\n        }\n        traceReceivedRequest(requestMessage);\n        const element = requestHandlers.get(requestMessage.method);\n        let type;\n        let requestHandler;\n        if (element) {\n            type = element.type;\n            requestHandler = element.handler;\n        }\n        const startTime = Date.now();\n        if (requestHandler || starRequestHandler) {\n            const tokenKey = requestMessage.id ?? String(Date.now()); //\n            const cancellationSource = cancellationStrategy.receiver.createCancellationTokenSource(tokenKey);\n            if (requestMessage.id !== null && knownCanceledRequests.has(requestMessage.id)) {\n                cancellationSource.cancel();\n            }\n            if (requestMessage.id !== null) {\n                requestTokens.set(tokenKey, cancellationSource);\n            }\n            try {\n                let handlerResult;\n                if (requestHandler) {\n                    if (requestMessage.params === undefined) {\n                        if (type !== undefined && type.numberOfParams !== 0) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams, `Request ${requestMessage.method} defines ${type.numberOfParams} params but received none.`), requestMessage.method, startTime);\n                            return;\n                        }\n                        handlerResult = requestHandler(cancellationSource.token);\n                    }\n                    else if (Array.isArray(requestMessage.params)) {\n                        if (type !== undefined && type.parameterStructures === messages_1.ParameterStructures.byName) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams, `Request ${requestMessage.method} defines parameters by name but received parameters by position`), requestMessage.method, startTime);\n                            return;\n                        }\n                        handlerResult = requestHandler(...requestMessage.params, cancellationSource.token);\n                    }\n                    else {\n                        if (type !== undefined && type.parameterStructures === messages_1.ParameterStructures.byPosition) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InvalidParams, `Request ${requestMessage.method} defines parameters by position but received parameters by name`), requestMessage.method, startTime);\n                            return;\n                        }\n                        handlerResult = requestHandler(requestMessage.params, cancellationSource.token);\n                    }\n                }\n                else if (starRequestHandler) {\n                    handlerResult = starRequestHandler(requestMessage.method, requestMessage.params, cancellationSource.token);\n                }\n                const promise = handlerResult;\n                if (!handlerResult) {\n                    requestTokens.delete(tokenKey);\n                    replySuccess(handlerResult, requestMessage.method, startTime);\n                }\n                else if (promise.then) {\n                    promise.then((resultOrError) => {\n                        requestTokens.delete(tokenKey);\n                        reply(resultOrError, requestMessage.method, startTime);\n                    }, error => {\n                        requestTokens.delete(tokenKey);\n                        if (error instanceof messages_1.ResponseError) {\n                            replyError(error, requestMessage.method, startTime);\n                        }\n                        else if (error && Is.string(error.message)) {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed with message: ${error.message}`), requestMessage.method, startTime);\n                        }\n                        else {\n                            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed unexpectedly without providing any details.`), requestMessage.method, startTime);\n                        }\n                    });\n                }\n                else {\n                    requestTokens.delete(tokenKey);\n                    reply(handlerResult, requestMessage.method, startTime);\n                }\n            }\n            catch (error) {\n                requestTokens.delete(tokenKey);\n                if (error instanceof messages_1.ResponseError) {\n                    reply(error, requestMessage.method, startTime);\n                }\n                else if (error && Is.string(error.message)) {\n                    replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed with message: ${error.message}`), requestMessage.method, startTime);\n                }\n                else {\n                    replyError(new messages_1.ResponseError(messages_1.ErrorCodes.InternalError, `Request ${requestMessage.method} failed unexpectedly without providing any details.`), requestMessage.method, startTime);\n                }\n            }\n        }\n        else {\n            replyError(new messages_1.ResponseError(messages_1.ErrorCodes.MethodNotFound, `Unhandled method ${requestMessage.method}`), requestMessage.method, startTime);\n        }\n    }\n    function handleResponse(responseMessage) {\n        if (isDisposed()) {\n            // See handle request.\n            return;\n        }\n        if (responseMessage.id === null) {\n            if (responseMessage.error) {\n                logger.error(`Received response message without id: Error is: \\n${JSON.stringify(responseMessage.error, undefined, 4)}`);\n            }\n            else {\n                logger.error(`Received response message without id. No further error information provided.`);\n            }\n        }\n        else {\n            const key = responseMessage.id;\n            const responsePromise = responsePromises.get(key);\n            traceReceivedResponse(responseMessage, responsePromise);\n            if (responsePromise !== undefined) {\n                responsePromises.delete(key);\n                try {\n                    if (responseMessage.error) {\n                        const error = responseMessage.error;\n                        responsePromise.reject(new messages_1.ResponseError(error.code, error.message, error.data));\n                    }\n                    else if (responseMessage.result !== undefined) {\n                        responsePromise.resolve(responseMessage.result);\n                    }\n                    else {\n                        throw new Error('Should never happen.');\n                    }\n                }\n                catch (error) {\n                    if (error.message) {\n                        logger.error(`Response handler '${responsePromise.method}' failed with message: ${error.message}`);\n                    }\n                    else {\n                        logger.error(`Response handler '${responsePromise.method}' failed unexpectedly.`);\n                    }\n                }\n            }\n        }\n    }\n    function handleNotification(message) {\n        if (isDisposed()) {\n            // See handle request.\n            return;\n        }\n        let type = undefined;\n        let notificationHandler;\n        if (message.method === CancelNotification.type.method) {\n            const cancelId = message.params.id;\n            knownCanceledRequests.delete(cancelId);\n            traceReceivedNotification(message);\n            return;\n        }\n        else {\n            const element = notificationHandlers.get(message.method);\n            if (element) {\n                notificationHandler = element.handler;\n                type = element.type;\n            }\n        }\n        if (notificationHandler || starNotificationHandler) {\n            try {\n                traceReceivedNotification(message);\n                if (notificationHandler) {\n                    if (message.params === undefined) {\n                        if (type !== undefined) {\n                            if (type.numberOfParams !== 0 && type.parameterStructures !== messages_1.ParameterStructures.byName) {\n                                logger.error(`Notification ${message.method} defines ${type.numberOfParams} params but received none.`);\n                            }\n                        }\n                        notificationHandler();\n                    }\n                    else if (Array.isArray(message.params)) {\n                        // There are JSON-RPC libraries that send progress message as positional params although\n                        // specified as named. So convert them if this is the case.\n                        const params = message.params;\n                        if (message.method === ProgressNotification.type.method && params.length === 2 && ProgressToken.is(params[0])) {\n                            notificationHandler({ token: params[0], value: params[1] });\n                        }\n                        else {\n                            if (type !== undefined) {\n                                if (type.parameterStructures === messages_1.ParameterStructures.byName) {\n                                    logger.error(`Notification ${message.method} defines parameters by name but received parameters by position`);\n                                }\n                                if (type.numberOfParams !== message.params.length) {\n                                    logger.error(`Notification ${message.method} defines ${type.numberOfParams} params but received ${params.length} arguments`);\n                                }\n                            }\n                            notificationHandler(...params);\n                        }\n                    }\n                    else {\n                        if (type !== undefined && type.parameterStructures === messages_1.ParameterStructures.byPosition) {\n                            logger.error(`Notification ${message.method} defines parameters by position but received parameters by name`);\n                        }\n                        notificationHandler(message.params);\n                    }\n                }\n                else if (starNotificationHandler) {\n                    starNotificationHandler(message.method, message.params);\n                }\n            }\n            catch (error) {\n                if (error.message) {\n                    logger.error(`Notification handler '${message.method}' failed with message: ${error.message}`);\n                }\n                else {\n                    logger.error(`Notification handler '${message.method}' failed unexpectedly.`);\n                }\n            }\n        }\n        else {\n            unhandledNotificationEmitter.fire(message);\n        }\n    }\n    function handleInvalidMessage(message) {\n        if (!message) {\n            logger.error('Received empty message.');\n            return;\n        }\n        logger.error(`Received message which is neither a response nor a notification message:\\n${JSON.stringify(message, null, 4)}`);\n        // Test whether we find an id to reject the promise\n        const responseMessage = message;\n        if (Is.string(responseMessage.id) || Is.number(responseMessage.id)) {\n            const key = responseMessage.id;\n            const responseHandler = responsePromises.get(key);\n            if (responseHandler) {\n                responseHandler.reject(new Error('The received response has neither a result nor an error property.'));\n            }\n        }\n    }\n    function stringifyTrace(params) {\n        if (params === undefined || params === null) {\n            return undefined;\n        }\n        switch (trace) {\n            case Trace.Verbose:\n                return JSON.stringify(params, null, 4);\n            case Trace.Compact:\n                return JSON.stringify(params);\n            default:\n                return undefined;\n        }\n    }\n    function traceSendingRequest(message) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if ((trace === Trace.Verbose || trace === Trace.Compact) && message.params) {\n                data = `Params: ${stringifyTrace(message.params)}\\n\\n`;\n            }\n            tracer.log(`Sending request '${message.method} - (${message.id})'.`, data);\n        }\n        else {\n            logLSPMessage('send-request', message);\n        }\n    }\n    function traceSendingNotification(message) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose || trace === Trace.Compact) {\n                if (message.params) {\n                    data = `Params: ${stringifyTrace(message.params)}\\n\\n`;\n                }\n                else {\n                    data = 'No parameters provided.\\n\\n';\n                }\n            }\n            tracer.log(`Sending notification '${message.method}'.`, data);\n        }\n        else {\n            logLSPMessage('send-notification', message);\n        }\n    }\n    function traceSendingResponse(message, method, startTime) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose || trace === Trace.Compact) {\n                if (message.error && message.error.data) {\n                    data = `Error data: ${stringifyTrace(message.error.data)}\\n\\n`;\n                }\n                else {\n                    if (message.result) {\n                        data = `Result: ${stringifyTrace(message.result)}\\n\\n`;\n                    }\n                    else if (message.error === undefined) {\n                        data = 'No result returned.\\n\\n';\n                    }\n                }\n            }\n            tracer.log(`Sending response '${method} - (${message.id})'. Processing request took ${Date.now() - startTime}ms`, data);\n        }\n        else {\n            logLSPMessage('send-response', message);\n        }\n    }\n    function traceReceivedRequest(message) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if ((trace === Trace.Verbose || trace === Trace.Compact) && message.params) {\n                data = `Params: ${stringifyTrace(message.params)}\\n\\n`;\n            }\n            tracer.log(`Received request '${message.method} - (${message.id})'.`, data);\n        }\n        else {\n            logLSPMessage('receive-request', message);\n        }\n    }\n    function traceReceivedNotification(message) {\n        if (trace === Trace.Off || !tracer || message.method === LogTraceNotification.type.method) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose || trace === Trace.Compact) {\n                if (message.params) {\n                    data = `Params: ${stringifyTrace(message.params)}\\n\\n`;\n                }\n                else {\n                    data = 'No parameters provided.\\n\\n';\n                }\n            }\n            tracer.log(`Received notification '${message.method}'.`, data);\n        }\n        else {\n            logLSPMessage('receive-notification', message);\n        }\n    }\n    function traceReceivedResponse(message, responsePromise) {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        if (traceFormat === TraceFormat.Text) {\n            let data = undefined;\n            if (trace === Trace.Verbose || trace === Trace.Compact) {\n                if (message.error && message.error.data) {\n                    data = `Error data: ${stringifyTrace(message.error.data)}\\n\\n`;\n                }\n                else {\n                    if (message.result) {\n                        data = `Result: ${stringifyTrace(message.result)}\\n\\n`;\n                    }\n                    else if (message.error === undefined) {\n                        data = 'No result returned.\\n\\n';\n                    }\n                }\n            }\n            if (responsePromise) {\n                const error = message.error ? ` Request failed: ${message.error.message} (${message.error.code}).` : '';\n                tracer.log(`Received response '${responsePromise.method} - (${message.id})' in ${Date.now() - responsePromise.timerStart}ms.${error}`, data);\n            }\n            else {\n                tracer.log(`Received response ${message.id} without active response promise.`, data);\n            }\n        }\n        else {\n            logLSPMessage('receive-response', message);\n        }\n    }\n    function logLSPMessage(type, message) {\n        if (!tracer || trace === Trace.Off) {\n            return;\n        }\n        const lspMessage = {\n            isLSPMessage: true,\n            type,\n            message,\n            timestamp: Date.now()\n        };\n        tracer.log(lspMessage);\n    }\n    function throwIfClosedOrDisposed() {\n        if (isClosed()) {\n            throw new ConnectionError(ConnectionErrors.Closed, 'Connection is closed.');\n        }\n        if (isDisposed()) {\n            throw new ConnectionError(ConnectionErrors.Disposed, 'Connection is disposed.');\n        }\n    }\n    function throwIfListening() {\n        if (isListening()) {\n            throw new ConnectionError(ConnectionErrors.AlreadyListening, 'Connection is already listening');\n        }\n    }\n    function throwIfNotListening() {\n        if (!isListening()) {\n            throw new Error('Call listen() first.');\n        }\n    }\n    function undefinedToNull(param) {\n        if (param === undefined) {\n            return null;\n        }\n        else {\n            return param;\n        }\n    }\n    function nullToUndefined(param) {\n        if (param === null) {\n            return undefined;\n        }\n        else {\n            return param;\n        }\n    }\n    function isNamedParam(param) {\n        return param !== undefined && param !== null && !Array.isArray(param) && typeof param === 'object';\n    }\n    function computeSingleParam(parameterStructures, param) {\n        switch (parameterStructures) {\n            case messages_1.ParameterStructures.auto:\n                if (isNamedParam(param)) {\n                    return nullToUndefined(param);\n                }\n                else {\n                    return [undefinedToNull(param)];\n                }\n            case messages_1.ParameterStructures.byName:\n                if (!isNamedParam(param)) {\n                    throw new Error(`Received parameters by name but param is not an object literal.`);\n                }\n                return nullToUndefined(param);\n            case messages_1.ParameterStructures.byPosition:\n                return [undefinedToNull(param)];\n            default:\n                throw new Error(`Unknown parameter structure ${parameterStructures.toString()}`);\n        }\n    }\n    function computeMessageParams(type, params) {\n        let result;\n        const numberOfParams = type.numberOfParams;\n        switch (numberOfParams) {\n            case 0:\n                result = undefined;\n                break;\n            case 1:\n                result = computeSingleParam(type.parameterStructures, params[0]);\n                break;\n            default:\n                result = [];\n                for (let i = 0; i < params.length && i < numberOfParams; i++) {\n                    result.push(undefinedToNull(params[i]));\n                }\n                if (params.length < numberOfParams) {\n                    for (let i = params.length; i < numberOfParams; i++) {\n                        result.push(null);\n                    }\n                }\n                break;\n        }\n        return result;\n    }\n    const connection = {\n        sendNotification: (type, ...args) => {\n            throwIfClosedOrDisposed();\n            let method;\n            let messageParams;\n            if (Is.string(type)) {\n                method = type;\n                const first = args[0];\n                let paramStart = 0;\n                let parameterStructures = messages_1.ParameterStructures.auto;\n                if (messages_1.ParameterStructures.is(first)) {\n                    paramStart = 1;\n                    parameterStructures = first;\n                }\n                let paramEnd = args.length;\n                const numberOfParams = paramEnd - paramStart;\n                switch (numberOfParams) {\n                    case 0:\n                        messageParams = undefined;\n                        break;\n                    case 1:\n                        messageParams = computeSingleParam(parameterStructures, args[paramStart]);\n                        break;\n                    default:\n                        if (parameterStructures === messages_1.ParameterStructures.byName) {\n                            throw new Error(`Received ${numberOfParams} parameters for 'by Name' notification parameter structure.`);\n                        }\n                        messageParams = args.slice(paramStart, paramEnd).map(value => undefinedToNull(value));\n                        break;\n                }\n            }\n            else {\n                const params = args;\n                method = type.method;\n                messageParams = computeMessageParams(type, params);\n            }\n            const notificationMessage = {\n                jsonrpc: version,\n                method: method,\n                params: messageParams\n            };\n            traceSendingNotification(notificationMessage);\n            return messageWriter.write(notificationMessage).catch(() => logger.error(`Sending notification failed.`));\n        },\n        onNotification: (type, handler) => {\n            throwIfClosedOrDisposed();\n            let method;\n            if (Is.func(type)) {\n                starNotificationHandler = type;\n            }\n            else if (handler) {\n                if (Is.string(type)) {\n                    method = type;\n                    notificationHandlers.set(type, { type: undefined, handler });\n                }\n                else {\n                    method = type.method;\n                    notificationHandlers.set(type.method, { type, handler });\n                }\n            }\n            return {\n                dispose: () => {\n                    if (method !== undefined) {\n                        notificationHandlers.delete(method);\n                    }\n                    else {\n                        starNotificationHandler = undefined;\n                    }\n                }\n            };\n        },\n        onProgress: (_type, token, handler) => {\n            if (progressHandlers.has(token)) {\n                throw new Error(`Progress handler for token ${token} already registered`);\n            }\n            progressHandlers.set(token, handler);\n            return {\n                dispose: () => {\n                    progressHandlers.delete(token);\n                }\n            };\n        },\n        sendProgress: (_type, token, value) => {\n            return connection.sendNotification(ProgressNotification.type, { token, value });\n        },\n        onUnhandledProgress: unhandledProgressEmitter.event,\n        sendRequest: (type, ...args) => {\n            throwIfClosedOrDisposed();\n            throwIfNotListening();\n            let method;\n            let messageParams;\n            let token = undefined;\n            if (Is.string(type)) {\n                method = type;\n                const first = args[0];\n                const last = args[args.length - 1];\n                let paramStart = 0;\n                let parameterStructures = messages_1.ParameterStructures.auto;\n                if (messages_1.ParameterStructures.is(first)) {\n                    paramStart = 1;\n                    parameterStructures = first;\n                }\n                let paramEnd = args.length;\n                if (cancellation_1.CancellationToken.is(last)) {\n                    paramEnd = paramEnd - 1;\n                    token = last;\n                }\n                const numberOfParams = paramEnd - paramStart;\n                switch (numberOfParams) {\n                    case 0:\n                        messageParams = undefined;\n                        break;\n                    case 1:\n                        messageParams = computeSingleParam(parameterStructures, args[paramStart]);\n                        break;\n                    default:\n                        if (parameterStructures === messages_1.ParameterStructures.byName) {\n                            throw new Error(`Received ${numberOfParams} parameters for 'by Name' request parameter structure.`);\n                        }\n                        messageParams = args.slice(paramStart, paramEnd).map(value => undefinedToNull(value));\n                        break;\n                }\n            }\n            else {\n                const params = args;\n                method = type.method;\n                messageParams = computeMessageParams(type, params);\n                const numberOfParams = type.numberOfParams;\n                token = cancellation_1.CancellationToken.is(params[numberOfParams]) ? params[numberOfParams] : undefined;\n            }\n            const id = sequenceNumber++;\n            let disposable;\n            if (token) {\n                disposable = token.onCancellationRequested(() => {\n                    const p = cancellationStrategy.sender.sendCancellation(connection, id);\n                    if (p === undefined) {\n                        logger.log(`Received no promise from cancellation strategy when cancelling id ${id}`);\n                        return Promise.resolve();\n                    }\n                    else {\n                        return p.catch(() => {\n                            logger.log(`Sending cancellation messages for id ${id} failed`);\n                        });\n                    }\n                });\n            }\n            const result = new Promise((resolve, reject) => {\n                const requestMessage = {\n                    jsonrpc: version,\n                    id: id,\n                    method: method,\n                    params: messageParams\n                };\n                const resolveWithCleanup = (r) => {\n                    resolve(r);\n                    cancellationStrategy.sender.cleanup(id);\n                    disposable?.dispose();\n                };\n                const rejectWithCleanup = (r) => {\n                    reject(r);\n                    cancellationStrategy.sender.cleanup(id);\n                    disposable?.dispose();\n                };\n                let responsePromise = { method: method, timerStart: Date.now(), resolve: resolveWithCleanup, reject: rejectWithCleanup };\n                traceSendingRequest(requestMessage);\n                try {\n                    messageWriter.write(requestMessage).catch(() => logger.error(`Sending request failed.`));\n                }\n                catch (e) {\n                    // Writing the message failed. So we need to reject the promise.\n                    responsePromise.reject(new messages_1.ResponseError(messages_1.ErrorCodes.MessageWriteError, e.message ? e.message : 'Unknown reason'));\n                    responsePromise = null;\n                }\n                if (responsePromise) {\n                    responsePromises.set(id, responsePromise);\n                }\n            });\n            return result;\n        },\n        onRequest: (type, handler) => {\n            throwIfClosedOrDisposed();\n            let method = null;\n            if (StarRequestHandler.is(type)) {\n                method = undefined;\n                starRequestHandler = type;\n            }\n            else if (Is.string(type)) {\n                method = null;\n                if (handler !== undefined) {\n                    method = type;\n                    requestHandlers.set(type, { handler: handler, type: undefined });\n                }\n            }\n            else {\n                if (handler !== undefined) {\n                    method = type.method;\n                    requestHandlers.set(type.method, { type, handler });\n                }\n            }\n            return {\n                dispose: () => {\n                    if (method === null) {\n                        return;\n                    }\n                    if (method !== undefined) {\n                        requestHandlers.delete(method);\n                    }\n                    else {\n                        starRequestHandler = undefined;\n                    }\n                }\n            };\n        },\n        hasPendingResponse: () => {\n            return responsePromises.size > 0;\n        },\n        trace: async (_value, _tracer, sendNotificationOrTraceOptions) => {\n            let _sendNotification = false;\n            let _traceFormat = TraceFormat.Text;\n            if (sendNotificationOrTraceOptions !== undefined) {\n                if (Is.boolean(sendNotificationOrTraceOptions)) {\n                    _sendNotification = sendNotificationOrTraceOptions;\n                }\n                else {\n                    _sendNotification = sendNotificationOrTraceOptions.sendNotification || false;\n                    _traceFormat = sendNotificationOrTraceOptions.traceFormat || TraceFormat.Text;\n                }\n            }\n            trace = _value;\n            traceFormat = _traceFormat;\n            if (trace === Trace.Off) {\n                tracer = undefined;\n            }\n            else {\n                tracer = _tracer;\n            }\n            if (_sendNotification && !isClosed() && !isDisposed()) {\n                await connection.sendNotification(SetTraceNotification.type, { value: Trace.toString(_value) });\n            }\n        },\n        onError: errorEmitter.event,\n        onClose: closeEmitter.event,\n        onUnhandledNotification: unhandledNotificationEmitter.event,\n        onDispose: disposeEmitter.event,\n        end: () => {\n            messageWriter.end();\n        },\n        dispose: () => {\n            if (isDisposed()) {\n                return;\n            }\n            state = ConnectionState.Disposed;\n            disposeEmitter.fire(undefined);\n            const error = new messages_1.ResponseError(messages_1.ErrorCodes.PendingResponseRejected, 'Pending response rejected since connection got disposed');\n            for (const promise of responsePromises.values()) {\n                promise.reject(error);\n            }\n            responsePromises = new Map();\n            requestTokens = new Map();\n            knownCanceledRequests = new Set();\n            messageQueue = new linkedMap_1.LinkedMap();\n            // Test for backwards compatibility\n            if (Is.func(messageWriter.dispose)) {\n                messageWriter.dispose();\n            }\n            if (Is.func(messageReader.dispose)) {\n                messageReader.dispose();\n            }\n        },\n        listen: () => {\n            throwIfClosedOrDisposed();\n            throwIfListening();\n            state = ConnectionState.Listening;\n            messageReader.listen(callback);\n        },\n        inspect: () => {\n            // eslint-disable-next-line no-console\n            (0, ral_1.default)().console.log('inspect');\n        }\n    };\n    connection.onNotification(LogTraceNotification.type, (params) => {\n        if (trace === Trace.Off || !tracer) {\n            return;\n        }\n        const verbose = trace === Trace.Verbose || trace === Trace.Compact;\n        tracer.log(params.message, verbose ? params.verbose : undefined);\n    });\n    connection.onNotification(ProgressNotification.type, (params) => {\n        const handler = progressHandlers.get(params.token);\n        if (handler) {\n            handler(params.value);\n        }\n        else {\n            unhandledProgressEmitter.fire(params);\n        }\n    });\n    return connection;\n}\nexports.createMessageConnection = createMessageConnection;\n//# sourceMappingURL=connection.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Disposable = void 0;\nvar Disposable;\n(function (Disposable) {\n    function create(func) {\n        return {\n            dispose: func\n        };\n    }\n    Disposable.create = create;\n})(Disposable = exports.Disposable || (exports.Disposable = {}));\n//# sourceMappingURL=disposable.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Emitter = exports.Event = void 0;\nconst ral_1 = require(\"./ral\");\nvar Event;\n(function (Event) {\n    const _disposable = { dispose() { } };\n    Event.None = function () { return _disposable; };\n})(Event = exports.Event || (exports.Event = {}));\nclass CallbackList {\n    add(callback, context = null, bucket) {\n        if (!this._callbacks) {\n            this._callbacks = [];\n            this._contexts = [];\n        }\n        this._callbacks.push(callback);\n        this._contexts.push(context);\n        if (Array.isArray(bucket)) {\n            bucket.push({ dispose: () => this.remove(callback, context) });\n        }\n    }\n    remove(callback, context = null) {\n        if (!this._callbacks) {\n            return;\n        }\n        let foundCallbackWithDifferentContext = false;\n        for (let i = 0, len = this._callbacks.length; i < len; i++) {\n            if (this._callbacks[i] === callback) {\n                if (this._contexts[i] === context) {\n                    // callback & context match => remove it\n                    this._callbacks.splice(i, 1);\n                    this._contexts.splice(i, 1);\n                    return;\n                }\n                else {\n                    foundCallbackWithDifferentContext = true;\n                }\n            }\n        }\n        if (foundCallbackWithDifferentContext) {\n            throw new Error('When adding a listener with a context, you should remove it with the same context');\n        }\n    }\n    invoke(...args) {\n        if (!this._callbacks) {\n            return [];\n        }\n        const ret = [], callbacks = this._callbacks.slice(0), contexts = this._contexts.slice(0);\n        for (let i = 0, len = callbacks.length; i < len; i++) {\n            try {\n                ret.push(callbacks[i].apply(contexts[i], args));\n            }\n            catch (e) {\n                // eslint-disable-next-line no-console\n                (0, ral_1.default)().console.error(e);\n            }\n        }\n        return ret;\n    }\n    isEmpty() {\n        return !this._callbacks || this._callbacks.length === 0;\n    }\n    dispose() {\n        this._callbacks = undefined;\n        this._contexts = undefined;\n    }\n}\nclass Emitter {\n    constructor(_options) {\n        this._options = _options;\n    }\n    /**\n     * For the public to allow to subscribe\n     * to events from this Emitter\n     */\n    get event() {\n        if (!this._event) {\n            this._event = (listener, thisArgs, disposables) => {\n                if (!this._callbacks) {\n                    this._callbacks = new CallbackList();\n                }\n                if (this._options && this._options.onFirstListenerAdd && this._callbacks.isEmpty()) {\n                    this._options.onFirstListenerAdd(this);\n                }\n                this._callbacks.add(listener, thisArgs);\n                const result = {\n                    dispose: () => {\n                        if (!this._callbacks) {\n                            // disposable is disposed after emitter is disposed.\n                            return;\n                        }\n                        this._callbacks.remove(listener, thisArgs);\n                        result.dispose = Emitter._noop;\n                        if (this._options && this._options.onLastListenerRemove && this._callbacks.isEmpty()) {\n                            this._options.onLastListenerRemove(this);\n                        }\n                    }\n                };\n                if (Array.isArray(disposables)) {\n                    disposables.push(result);\n                }\n                return result;\n            };\n        }\n        return this._event;\n    }\n    /**\n     * To be kept private to fire an event to\n     * subscribers\n     */\n    fire(event) {\n        if (this._callbacks) {\n            this._callbacks.invoke.call(this._callbacks, event);\n        }\n    }\n    dispose() {\n        if (this._callbacks) {\n            this._callbacks.dispose();\n            this._callbacks = undefined;\n        }\n    }\n}\nexports.Emitter = Emitter;\nEmitter._noop = function () { };\n//# sourceMappingURL=events.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.stringArray = exports.array = exports.func = exports.error = exports.number = exports.string = exports.boolean = void 0;\nfunction boolean(value) {\n    return value === true || value === false;\n}\nexports.boolean = boolean;\nfunction string(value) {\n    return typeof value === 'string' || value instanceof String;\n}\nexports.string = string;\nfunction number(value) {\n    return typeof value === 'number' || value instanceof Number;\n}\nexports.number = number;\nfunction error(value) {\n    return value instanceof Error;\n}\nexports.error = error;\nfunction func(value) {\n    return typeof value === 'function';\n}\nexports.func = func;\nfunction array(value) {\n    return Array.isArray(value);\n}\nexports.array = array;\nfunction stringArray(value) {\n    return array(value) && value.every(elem => string(elem));\n}\nexports.stringArray = stringArray;\n//# sourceMappingURL=is.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nvar _a;\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LRUCache = exports.LinkedMap = exports.Touch = void 0;\nvar Touch;\n(function (Touch) {\n    Touch.None = 0;\n    Touch.First = 1;\n    Touch.AsOld = Touch.First;\n    Touch.Last = 2;\n    Touch.AsNew = Touch.Last;\n})(Touch = exports.Touch || (exports.Touch = {}));\nclass LinkedMap {\n    constructor() {\n        this[_a] = 'LinkedMap';\n        this._map = new Map();\n        this._head = undefined;\n        this._tail = undefined;\n        this._size = 0;\n        this._state = 0;\n    }\n    clear() {\n        this._map.clear();\n        this._head = undefined;\n        this._tail = undefined;\n        this._size = 0;\n        this._state++;\n    }\n    isEmpty() {\n        return !this._head && !this._tail;\n    }\n    get size() {\n        return this._size;\n    }\n    get first() {\n        return this._head?.value;\n    }\n    get last() {\n        return this._tail?.value;\n    }\n    has(key) {\n        return this._map.has(key);\n    }\n    get(key, touch = Touch.None) {\n        const item = this._map.get(key);\n        if (!item) {\n            return undefined;\n        }\n        if (touch !== Touch.None) {\n            this.touch(item, touch);\n        }\n        return item.value;\n    }\n    set(key, value, touch = Touch.None) {\n        let item = this._map.get(key);\n        if (item) {\n            item.value = value;\n            if (touch !== Touch.None) {\n                this.touch(item, touch);\n            }\n        }\n        else {\n            item = { key, value, next: undefined, previous: undefined };\n            switch (touch) {\n                case Touch.None:\n                    this.addItemLast(item);\n                    break;\n                case Touch.First:\n                    this.addItemFirst(item);\n                    break;\n                case Touch.Last:\n                    this.addItemLast(item);\n                    break;\n                default:\n                    this.addItemLast(item);\n                    break;\n            }\n            this._map.set(key, item);\n            this._size++;\n        }\n        return this;\n    }\n    delete(key) {\n        return !!this.remove(key);\n    }\n    remove(key) {\n        const item = this._map.get(key);\n        if (!item) {\n            return undefined;\n        }\n        this._map.delete(key);\n        this.removeItem(item);\n        this._size--;\n        return item.value;\n    }\n    shift() {\n        if (!this._head && !this._tail) {\n            return undefined;\n        }\n        if (!this._head || !this._tail) {\n            throw new Error('Invalid list');\n        }\n        const item = this._head;\n        this._map.delete(item.key);\n        this.removeItem(item);\n        this._size--;\n        return item.value;\n    }\n    forEach(callbackfn, thisArg) {\n        const state = this._state;\n        let current = this._head;\n        while (current) {\n            if (thisArg) {\n                callbackfn.bind(thisArg)(current.value, current.key, this);\n            }\n            else {\n                callbackfn(current.value, current.key, this);\n            }\n            if (this._state !== state) {\n                throw new Error(`LinkedMap got modified during iteration.`);\n            }\n            current = current.next;\n        }\n    }\n    keys() {\n        const state = this._state;\n        let current = this._head;\n        const iterator = {\n            [Symbol.iterator]: () => {\n                return iterator;\n            },\n            next: () => {\n                if (this._state !== state) {\n                    throw new Error(`LinkedMap got modified during iteration.`);\n                }\n                if (current) {\n                    const result = { value: current.key, done: false };\n                    current = current.next;\n                    return result;\n                }\n                else {\n                    return { value: undefined, done: true };\n                }\n            }\n        };\n        return iterator;\n    }\n    values() {\n        const state = this._state;\n        let current = this._head;\n        const iterator = {\n            [Symbol.iterator]: () => {\n                return iterator;\n            },\n            next: () => {\n                if (this._state !== state) {\n                    throw new Error(`LinkedMap got modified during iteration.`);\n                }\n                if (current) {\n                    const result = { value: current.value, done: false };\n                    current = current.next;\n                    return result;\n                }\n                else {\n                    return { value: undefined, done: true };\n                }\n            }\n        };\n        return iterator;\n    }\n    entries() {\n        const state = this._state;\n        let current = this._head;\n        const iterator = {\n            [Symbol.iterator]: () => {\n                return iterator;\n            },\n            next: () => {\n                if (this._state !== state) {\n                    throw new Error(`LinkedMap got modified during iteration.`);\n                }\n                if (current) {\n                    const result = { value: [current.key, current.value], done: false };\n                    current = current.next;\n                    return result;\n                }\n                else {\n                    return { value: undefined, done: true };\n                }\n            }\n        };\n        return iterator;\n    }\n    [(_a = Symbol.toStringTag, Symbol.iterator)]() {\n        return this.entries();\n    }\n    trimOld(newSize) {\n        if (newSize >= this.size) {\n            return;\n        }\n        if (newSize === 0) {\n            this.clear();\n            return;\n        }\n        let current = this._head;\n        let currentSize = this.size;\n        while (current && currentSize > newSize) {\n            this._map.delete(current.key);\n            current = current.next;\n            currentSize--;\n        }\n        this._head = current;\n        this._size = currentSize;\n        if (current) {\n            current.previous = undefined;\n        }\n        this._state++;\n    }\n    addItemFirst(item) {\n        // First time Insert\n        if (!this._head && !this._tail) {\n            this._tail = item;\n        }\n        else if (!this._head) {\n            throw new Error('Invalid list');\n        }\n        else {\n            item.next = this._head;\n            this._head.previous = item;\n        }\n        this._head = item;\n        this._state++;\n    }\n    addItemLast(item) {\n        // First time Insert\n        if (!this._head && !this._tail) {\n            this._head = item;\n        }\n        else if (!this._tail) {\n            throw new Error('Invalid list');\n        }\n        else {\n            item.previous = this._tail;\n            this._tail.next = item;\n        }\n        this._tail = item;\n        this._state++;\n    }\n    removeItem(item) {\n        if (item === this._head && item === this._tail) {\n            this._head = undefined;\n            this._tail = undefined;\n        }\n        else if (item === this._head) {\n            // This can only happened if size === 1 which is handle\n            // by the case above.\n            if (!item.next) {\n                throw new Error('Invalid list');\n            }\n            item.next.previous = undefined;\n            this._head = item.next;\n        }\n        else if (item === this._tail) {\n            // This can only happened if size === 1 which is handle\n            // by the case above.\n            if (!item.previous) {\n                throw new Error('Invalid list');\n            }\n            item.previous.next = undefined;\n            this._tail = item.previous;\n        }\n        else {\n            const next = item.next;\n            const previous = item.previous;\n            if (!next || !previous) {\n                throw new Error('Invalid list');\n            }\n            next.previous = previous;\n            previous.next = next;\n        }\n        item.next = undefined;\n        item.previous = undefined;\n        this._state++;\n    }\n    touch(item, touch) {\n        if (!this._head || !this._tail) {\n            throw new Error('Invalid list');\n        }\n        if ((touch !== Touch.First && touch !== Touch.Last)) {\n            return;\n        }\n        if (touch === Touch.First) {\n            if (item === this._head) {\n                return;\n            }\n            const next = item.next;\n            const previous = item.previous;\n            // Unlink the item\n            if (item === this._tail) {\n                // previous must be defined since item was not head but is tail\n                // So there are more than on item in the map\n                previous.next = undefined;\n                this._tail = previous;\n            }\n            else {\n                // Both next and previous are not undefined since item was neither head nor tail.\n                next.previous = previous;\n                previous.next = next;\n            }\n            // Insert the node at head\n            item.previous = undefined;\n            item.next = this._head;\n            this._head.previous = item;\n            this._head = item;\n            this._state++;\n        }\n        else if (touch === Touch.Last) {\n            if (item === this._tail) {\n                return;\n            }\n            const next = item.next;\n            const previous = item.previous;\n            // Unlink the item.\n            if (item === this._head) {\n                // next must be defined since item was not tail but is head\n                // So there are more than on item in the map\n                next.previous = undefined;\n                this._head = next;\n            }\n            else {\n                // Both next and previous are not undefined since item was neither head nor tail.\n                next.previous = previous;\n                previous.next = next;\n            }\n            item.next = undefined;\n            item.previous = this._tail;\n            this._tail.next = item;\n            this._tail = item;\n            this._state++;\n        }\n    }\n    toJSON() {\n        const data = [];\n        this.forEach((value, key) => {\n            data.push([key, value]);\n        });\n        return data;\n    }\n    fromJSON(data) {\n        this.clear();\n        for (const [key, value] of data) {\n            this.set(key, value);\n        }\n    }\n}\nexports.LinkedMap = LinkedMap;\nclass LRUCache extends LinkedMap {\n    constructor(limit, ratio = 1) {\n        super();\n        this._limit = limit;\n        this._ratio = Math.min(Math.max(0, ratio), 1);\n    }\n    get limit() {\n        return this._limit;\n    }\n    set limit(limit) {\n        this._limit = limit;\n        this.checkTrim();\n    }\n    get ratio() {\n        return this._ratio;\n    }\n    set ratio(ratio) {\n        this._ratio = Math.min(Math.max(0, ratio), 1);\n        this.checkTrim();\n    }\n    get(key, touch = Touch.AsNew) {\n        return super.get(key, touch);\n    }\n    peek(key) {\n        return super.get(key, Touch.None);\n    }\n    set(key, value) {\n        super.set(key, value, Touch.Last);\n        this.checkTrim();\n        return this;\n    }\n    checkTrim() {\n        if (this.size > this._limit) {\n            this.trimOld(Math.round(this._limit * this._ratio));\n        }\n    }\n}\nexports.LRUCache = LRUCache;\n//# sourceMappingURL=linkedMap.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.AbstractMessageBuffer = void 0;\nconst CR = 13;\nconst LF = 10;\nconst CRLF = '\\r\\n';\nclass AbstractMessageBuffer {\n    constructor(encoding = 'utf-8') {\n        this._encoding = encoding;\n        this._chunks = [];\n        this._totalLength = 0;\n    }\n    get encoding() {\n        return this._encoding;\n    }\n    append(chunk) {\n        const toAppend = typeof chunk === 'string' ? this.fromString(chunk, this._encoding) : chunk;\n        this._chunks.push(toAppend);\n        this._totalLength += toAppend.byteLength;\n    }\n    tryReadHeaders() {\n        if (this._chunks.length === 0) {\n            return undefined;\n        }\n        let state = 0;\n        let chunkIndex = 0;\n        let offset = 0;\n        let chunkBytesRead = 0;\n        row: while (chunkIndex < this._chunks.length) {\n            const chunk = this._chunks[chunkIndex];\n            offset = 0;\n            column: while (offset < chunk.length) {\n                const value = chunk[offset];\n                switch (value) {\n                    case CR:\n                        switch (state) {\n                            case 0:\n                                state = 1;\n                                break;\n                            case 2:\n                                state = 3;\n                                break;\n                            default:\n                                state = 0;\n                        }\n                        break;\n                    case LF:\n                        switch (state) {\n                            case 1:\n                                state = 2;\n                                break;\n                            case 3:\n                                state = 4;\n                                offset++;\n                                break row;\n                            default:\n                                state = 0;\n                        }\n                        break;\n                    default:\n                        state = 0;\n                }\n                offset++;\n            }\n            chunkBytesRead += chunk.byteLength;\n            chunkIndex++;\n        }\n        if (state !== 4) {\n            return undefined;\n        }\n        // The buffer contains the two CRLF at the end. So we will\n        // have two empty lines after the split at the end as well.\n        const buffer = this._read(chunkBytesRead + offset);\n        const result = new Map();\n        const headers = this.toString(buffer, 'ascii').split(CRLF);\n        if (headers.length < 2) {\n            return result;\n        }\n        for (let i = 0; i < headers.length - 2; i++) {\n            const header = headers[i];\n            const index = header.indexOf(':');\n            if (index === -1) {\n                throw new Error('Message header must separate key and value using :');\n            }\n            const key = header.substr(0, index);\n            const value = header.substr(index + 1).trim();\n            result.set(key, value);\n        }\n        return result;\n    }\n    tryReadBody(length) {\n        if (this._totalLength < length) {\n            return undefined;\n        }\n        return this._read(length);\n    }\n    get numberOfBytes() {\n        return this._totalLength;\n    }\n    _read(byteCount) {\n        if (byteCount === 0) {\n            return this.emptyBuffer();\n        }\n        if (byteCount > this._totalLength) {\n            throw new Error(`Cannot read so many bytes!`);\n        }\n        if (this._chunks[0].byteLength === byteCount) {\n            // super fast path, precisely first chunk must be returned\n            const chunk = this._chunks[0];\n            this._chunks.shift();\n            this._totalLength -= byteCount;\n            return this.asNative(chunk);\n        }\n        if (this._chunks[0].byteLength > byteCount) {\n            // fast path, the reading is entirely within the first chunk\n            const chunk = this._chunks[0];\n            const result = this.asNative(chunk, byteCount);\n            this._chunks[0] = chunk.slice(byteCount);\n            this._totalLength -= byteCount;\n            return result;\n        }\n        const result = this.allocNative(byteCount);\n        let resultOffset = 0;\n        let chunkIndex = 0;\n        while (byteCount > 0) {\n            const chunk = this._chunks[chunkIndex];\n            if (chunk.byteLength > byteCount) {\n                // this chunk will survive\n                const chunkPart = chunk.slice(0, byteCount);\n                result.set(chunkPart, resultOffset);\n                resultOffset += byteCount;\n                this._chunks[chunkIndex] = chunk.slice(byteCount);\n                this._totalLength -= byteCount;\n                byteCount -= byteCount;\n            }\n            else {\n                // this chunk will be entirely read\n                result.set(chunk, resultOffset);\n                resultOffset += chunk.byteLength;\n                this._chunks.shift();\n                this._totalLength -= chunk.byteLength;\n                byteCount -= chunk.byteLength;\n            }\n        }\n        return result;\n    }\n}\nexports.AbstractMessageBuffer = AbstractMessageBuffer;\n//# sourceMappingURL=messageBuffer.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ReadableStreamMessageReader = exports.AbstractMessageReader = exports.MessageReader = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst events_1 = require(\"./events\");\nvar MessageReader;\n(function (MessageReader) {\n    function is(value) {\n        let candidate = value;\n        return candidate && Is.func(candidate.listen) && Is.func(candidate.dispose) &&\n            Is.func(candidate.onError) && Is.func(candidate.onClose) && Is.func(candidate.onPartialMessage);\n    }\n    MessageReader.is = is;\n})(MessageReader = exports.MessageReader || (exports.MessageReader = {}));\nclass AbstractMessageReader {\n    constructor() {\n        this.errorEmitter = new events_1.Emitter();\n        this.closeEmitter = new events_1.Emitter();\n        this.partialMessageEmitter = new events_1.Emitter();\n    }\n    dispose() {\n        this.errorEmitter.dispose();\n        this.closeEmitter.dispose();\n    }\n    get onError() {\n        return this.errorEmitter.event;\n    }\n    fireError(error) {\n        this.errorEmitter.fire(this.asError(error));\n    }\n    get onClose() {\n        return this.closeEmitter.event;\n    }\n    fireClose() {\n        this.closeEmitter.fire(undefined);\n    }\n    get onPartialMessage() {\n        return this.partialMessageEmitter.event;\n    }\n    firePartialMessage(info) {\n        this.partialMessageEmitter.fire(info);\n    }\n    asError(error) {\n        if (error instanceof Error) {\n            return error;\n        }\n        else {\n            return new Error(`Reader received error. Reason: ${Is.string(error.message) ? error.message : 'unknown'}`);\n        }\n    }\n}\nexports.AbstractMessageReader = AbstractMessageReader;\nvar ResolvedMessageReaderOptions;\n(function (ResolvedMessageReaderOptions) {\n    function fromOptions(options) {\n        let charset;\n        let result;\n        let contentDecoder;\n        const contentDecoders = new Map();\n        let contentTypeDecoder;\n        const contentTypeDecoders = new Map();\n        if (options === undefined || typeof options === 'string') {\n            charset = options ?? 'utf-8';\n        }\n        else {\n            charset = options.charset ?? 'utf-8';\n            if (options.contentDecoder !== undefined) {\n                contentDecoder = options.contentDecoder;\n                contentDecoders.set(contentDecoder.name, contentDecoder);\n            }\n            if (options.contentDecoders !== undefined) {\n                for (const decoder of options.contentDecoders) {\n                    contentDecoders.set(decoder.name, decoder);\n                }\n            }\n            if (options.contentTypeDecoder !== undefined) {\n                contentTypeDecoder = options.contentTypeDecoder;\n                contentTypeDecoders.set(contentTypeDecoder.name, contentTypeDecoder);\n            }\n            if (options.contentTypeDecoders !== undefined) {\n                for (const decoder of options.contentTypeDecoders) {\n                    contentTypeDecoders.set(decoder.name, decoder);\n                }\n            }\n        }\n        if (contentTypeDecoder === undefined) {\n            contentTypeDecoder = (0, ral_1.default)().applicationJson.decoder;\n            contentTypeDecoders.set(contentTypeDecoder.name, contentTypeDecoder);\n        }\n        return { charset, contentDecoder, contentDecoders, contentTypeDecoder, contentTypeDecoders };\n    }\n    ResolvedMessageReaderOptions.fromOptions = fromOptions;\n})(ResolvedMessageReaderOptions || (ResolvedMessageReaderOptions = {}));\nclass ReadableStreamMessageReader extends AbstractMessageReader {\n    constructor(readable, options) {\n        super();\n        this.readable = readable;\n        this.options = ResolvedMessageReaderOptions.fromOptions(options);\n        this.buffer = (0, ral_1.default)().messageBuffer.create(this.options.charset);\n        this._partialMessageTimeout = 10000;\n        this.nextMessageLength = -1;\n        this.messageToken = 0;\n    }\n    set partialMessageTimeout(timeout) {\n        this._partialMessageTimeout = timeout;\n    }\n    get partialMessageTimeout() {\n        return this._partialMessageTimeout;\n    }\n    listen(callback) {\n        this.nextMessageLength = -1;\n        this.messageToken = 0;\n        this.partialMessageTimer = undefined;\n        this.callback = callback;\n        const result = this.readable.onData((data) => {\n            this.onData(data);\n        });\n        this.readable.onError((error) => this.fireError(error));\n        this.readable.onClose(() => this.fireClose());\n        return result;\n    }\n    onData(data) {\n        this.buffer.append(data);\n        while (true) {\n            if (this.nextMessageLength === -1) {\n                const headers = this.buffer.tryReadHeaders();\n                if (!headers) {\n                    return;\n                }\n                const contentLength = headers.get('Content-Length');\n                if (!contentLength) {\n                    throw new Error('Header must provide a Content-Length property.');\n                }\n                const length = parseInt(contentLength);\n                if (isNaN(length)) {\n                    throw new Error('Content-Length value must be a number.');\n                }\n                this.nextMessageLength = length;\n            }\n            const body = this.buffer.tryReadBody(this.nextMessageLength);\n            if (body === undefined) {\n                /** We haven't received the full message yet. */\n                this.setPartialMessageTimer();\n                return;\n            }\n            this.clearPartialMessageTimer();\n            this.nextMessageLength = -1;\n            let p;\n            if (this.options.contentDecoder !== undefined) {\n                p = this.options.contentDecoder.decode(body);\n            }\n            else {\n                p = Promise.resolve(body);\n            }\n            p.then((value) => {\n                this.options.contentTypeDecoder.decode(value, this.options).then((msg) => {\n                    this.callback(msg);\n                }, (error) => {\n                    this.fireError(error);\n                });\n            }, (error) => {\n                this.fireError(error);\n            });\n        }\n    }\n    clearPartialMessageTimer() {\n        if (this.partialMessageTimer) {\n            this.partialMessageTimer.dispose();\n            this.partialMessageTimer = undefined;\n        }\n    }\n    setPartialMessageTimer() {\n        this.clearPartialMessageTimer();\n        if (this._partialMessageTimeout <= 0) {\n            return;\n        }\n        this.partialMessageTimer = (0, ral_1.default)().timer.setTimeout((token, timeout) => {\n            this.partialMessageTimer = undefined;\n            if (token === this.messageToken) {\n                this.firePartialMessage({ messageToken: token, waitingTime: timeout });\n                this.setPartialMessageTimer();\n            }\n        }, this._partialMessageTimeout, this.messageToken, this._partialMessageTimeout);\n    }\n}\nexports.ReadableStreamMessageReader = ReadableStreamMessageReader;\n//# sourceMappingURL=messageReader.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WriteableStreamMessageWriter = exports.AbstractMessageWriter = exports.MessageWriter = void 0;\nconst ral_1 = require(\"./ral\");\nconst Is = require(\"./is\");\nconst semaphore_1 = require(\"./semaphore\");\nconst events_1 = require(\"./events\");\nconst ContentLength = 'Content-Length: ';\nconst CRLF = '\\r\\n';\nvar MessageWriter;\n(function (MessageWriter) {\n    function is(value) {\n        let candidate = value;\n        return candidate && Is.func(candidate.dispose) && Is.func(candidate.onClose) &&\n            Is.func(candidate.onError) && Is.func(candidate.write);\n    }\n    MessageWriter.is = is;\n})(MessageWriter = exports.MessageWriter || (exports.MessageWriter = {}));\nclass AbstractMessageWriter {\n    constructor() {\n        this.errorEmitter = new events_1.Emitter();\n        this.closeEmitter = new events_1.Emitter();\n    }\n    dispose() {\n        this.errorEmitter.dispose();\n        this.closeEmitter.dispose();\n    }\n    get onError() {\n        return this.errorEmitter.event;\n    }\n    fireError(error, message, count) {\n        this.errorEmitter.fire([this.asError(error), message, count]);\n    }\n    get onClose() {\n        return this.closeEmitter.event;\n    }\n    fireClose() {\n        this.closeEmitter.fire(undefined);\n    }\n    asError(error) {\n        if (error instanceof Error) {\n            return error;\n        }\n        else {\n            return new Error(`Writer received error. Reason: ${Is.string(error.message) ? error.message : 'unknown'}`);\n        }\n    }\n}\nexports.AbstractMessageWriter = AbstractMessageWriter;\nvar ResolvedMessageWriterOptions;\n(function (ResolvedMessageWriterOptions) {\n    function fromOptions(options) {\n        if (options === undefined || typeof options === 'string') {\n            return { charset: options ?? 'utf-8', contentTypeEncoder: (0, ral_1.default)().applicationJson.encoder };\n        }\n        else {\n            return { charset: options.charset ?? 'utf-8', contentEncoder: options.contentEncoder, contentTypeEncoder: options.contentTypeEncoder ?? (0, ral_1.default)().applicationJson.encoder };\n        }\n    }\n    ResolvedMessageWriterOptions.fromOptions = fromOptions;\n})(ResolvedMessageWriterOptions || (ResolvedMessageWriterOptions = {}));\nclass WriteableStreamMessageWriter extends AbstractMessageWriter {\n    constructor(writable, options) {\n        super();\n        this.writable = writable;\n        this.options = ResolvedMessageWriterOptions.fromOptions(options);\n        this.errorCount = 0;\n        this.writeSemaphore = new semaphore_1.Semaphore(1);\n        this.writable.onError((error) => this.fireError(error));\n        this.writable.onClose(() => this.fireClose());\n    }\n    async write(msg) {\n        return this.writeSemaphore.lock(async () => {\n            const payload = this.options.contentTypeEncoder.encode(msg, this.options).then((buffer) => {\n                if (this.options.contentEncoder !== undefined) {\n                    return this.options.contentEncoder.encode(buffer);\n                }\n                else {\n                    return buffer;\n                }\n            });\n            return payload.then((buffer) => {\n                const headers = [];\n                headers.push(ContentLength, buffer.byteLength.toString(), CRLF);\n                headers.push(CRLF);\n                return this.doWrite(msg, headers, buffer);\n            }, (error) => {\n                this.fireError(error);\n                throw error;\n            });\n        });\n    }\n    async doWrite(msg, headers, data) {\n        try {\n            await this.writable.write(headers.join(''), 'ascii');\n            return this.writable.write(data);\n        }\n        catch (error) {\n            this.handleError(error, msg);\n            return Promise.reject(error);\n        }\n    }\n    handleError(error, msg) {\n        this.errorCount++;\n        this.fireError(error, msg, this.errorCount);\n    }\n    end() {\n        this.writable.end();\n    }\n}\nexports.WriteableStreamMessageWriter = WriteableStreamMessageWriter;\n//# sourceMappingURL=messageWriter.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Message = exports.NotificationType9 = exports.NotificationType8 = exports.NotificationType7 = exports.NotificationType6 = exports.NotificationType5 = exports.NotificationType4 = exports.NotificationType3 = exports.NotificationType2 = exports.NotificationType1 = exports.NotificationType0 = exports.NotificationType = exports.RequestType9 = exports.RequestType8 = exports.RequestType7 = exports.RequestType6 = exports.RequestType5 = exports.RequestType4 = exports.RequestType3 = exports.RequestType2 = exports.RequestType1 = exports.RequestType = exports.RequestType0 = exports.AbstractMessageSignature = exports.ParameterStructures = exports.ResponseError = exports.ErrorCodes = void 0;\nconst is = require(\"./is\");\n/**\n * Predefined error codes.\n */\nvar ErrorCodes;\n(function (ErrorCodes) {\n    // Defined by JSON RPC\n    ErrorCodes.ParseError = -32700;\n    ErrorCodes.InvalidRequest = -32600;\n    ErrorCodes.MethodNotFound = -32601;\n    ErrorCodes.InvalidParams = -32602;\n    ErrorCodes.InternalError = -32603;\n    /**\n     * This is the start range of JSON RPC reserved error codes.\n     * It doesn't denote a real error code. No application error codes should\n     * be defined between the start and end range. For backwards\n     * compatibility the `ServerNotInitialized` and the `UnknownErrorCode`\n     * are left in the range.\n     *\n     * @since 3.16.0\n    */\n    ErrorCodes.jsonrpcReservedErrorRangeStart = -32099;\n    /** @deprecated use  jsonrpcReservedErrorRangeStart */\n    ErrorCodes.serverErrorStart = -32099;\n    /**\n     * An error occurred when write a message to the transport layer.\n     */\n    ErrorCodes.MessageWriteError = -32099;\n    /**\n     * An error occurred when reading a message from the transport layer.\n     */\n    ErrorCodes.MessageReadError = -32098;\n    /**\n     * The connection got disposed or lost and all pending responses got\n     * rejected.\n     */\n    ErrorCodes.PendingResponseRejected = -32097;\n    /**\n     * The connection is inactive and a use of it failed.\n     */\n    ErrorCodes.ConnectionInactive = -32096;\n    /**\n     * Error code indicating that a server received a notification or\n     * request before the server has received the `initialize` request.\n     */\n    ErrorCodes.ServerNotInitialized = -32002;\n    ErrorCodes.UnknownErrorCode = -32001;\n    /**\n     * This is the end range of JSON RPC reserved error codes.\n     * It doesn't denote a real error code.\n     *\n     * @since 3.16.0\n    */\n    ErrorCodes.jsonrpcReservedErrorRangeEnd = -32000;\n    /** @deprecated use  jsonrpcReservedErrorRangeEnd */\n    ErrorCodes.serverErrorEnd = -32000;\n})(ErrorCodes = exports.ErrorCodes || (exports.ErrorCodes = {}));\n/**\n * An error object return in a response in case a request\n * has failed.\n */\nclass ResponseError extends Error {\n    constructor(code, message, data) {\n        super(message);\n        this.code = is.number(code) ? code : ErrorCodes.UnknownErrorCode;\n        this.data = data;\n        Object.setPrototypeOf(this, ResponseError.prototype);\n    }\n    toJson() {\n        const result = {\n            code: this.code,\n            message: this.message\n        };\n        if (this.data !== undefined) {\n            result.data = this.data;\n        }\n        return result;\n    }\n}\nexports.ResponseError = ResponseError;\nclass ParameterStructures {\n    constructor(kind) {\n        this.kind = kind;\n    }\n    static is(value) {\n        return value === ParameterStructures.auto || value === ParameterStructures.byName || value === ParameterStructures.byPosition;\n    }\n    toString() {\n        return this.kind;\n    }\n}\nexports.ParameterStructures = ParameterStructures;\n/**\n * The parameter structure is automatically inferred on the number of parameters\n * and the parameter type in case of a single param.\n */\nParameterStructures.auto = new ParameterStructures('auto');\n/**\n * Forces `byPosition` parameter structure. This is useful if you have a single\n * parameter which has a literal type.\n */\nParameterStructures.byPosition = new ParameterStructures('byPosition');\n/**\n * Forces `byName` parameter structure. This is only useful when having a single\n * parameter. The library will report errors if used with a different number of\n * parameters.\n */\nParameterStructures.byName = new ParameterStructures('byName');\n/**\n * An abstract implementation of a MessageType.\n */\nclass AbstractMessageSignature {\n    constructor(method, numberOfParams) {\n        this.method = method;\n        this.numberOfParams = numberOfParams;\n    }\n    get parameterStructures() {\n        return ParameterStructures.auto;\n    }\n}\nexports.AbstractMessageSignature = AbstractMessageSignature;\n/**\n * Classes to type request response pairs\n */\nclass RequestType0 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 0);\n    }\n}\nexports.RequestType0 = RequestType0;\nclass RequestType extends AbstractMessageSignature {\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.RequestType = RequestType;\nclass RequestType1 extends AbstractMessageSignature {\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.RequestType1 = RequestType1;\nclass RequestType2 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 2);\n    }\n}\nexports.RequestType2 = RequestType2;\nclass RequestType3 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 3);\n    }\n}\nexports.RequestType3 = RequestType3;\nclass RequestType4 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 4);\n    }\n}\nexports.RequestType4 = RequestType4;\nclass RequestType5 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 5);\n    }\n}\nexports.RequestType5 = RequestType5;\nclass RequestType6 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 6);\n    }\n}\nexports.RequestType6 = RequestType6;\nclass RequestType7 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 7);\n    }\n}\nexports.RequestType7 = RequestType7;\nclass RequestType8 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 8);\n    }\n}\nexports.RequestType8 = RequestType8;\nclass RequestType9 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 9);\n    }\n}\nexports.RequestType9 = RequestType9;\nclass NotificationType extends AbstractMessageSignature {\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.NotificationType = NotificationType;\nclass NotificationType0 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 0);\n    }\n}\nexports.NotificationType0 = NotificationType0;\nclass NotificationType1 extends AbstractMessageSignature {\n    constructor(method, _parameterStructures = ParameterStructures.auto) {\n        super(method, 1);\n        this._parameterStructures = _parameterStructures;\n    }\n    get parameterStructures() {\n        return this._parameterStructures;\n    }\n}\nexports.NotificationType1 = NotificationType1;\nclass NotificationType2 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 2);\n    }\n}\nexports.NotificationType2 = NotificationType2;\nclass NotificationType3 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 3);\n    }\n}\nexports.NotificationType3 = NotificationType3;\nclass NotificationType4 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 4);\n    }\n}\nexports.NotificationType4 = NotificationType4;\nclass NotificationType5 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 5);\n    }\n}\nexports.NotificationType5 = NotificationType5;\nclass NotificationType6 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 6);\n    }\n}\nexports.NotificationType6 = NotificationType6;\nclass NotificationType7 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 7);\n    }\n}\nexports.NotificationType7 = NotificationType7;\nclass NotificationType8 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 8);\n    }\n}\nexports.NotificationType8 = NotificationType8;\nclass NotificationType9 extends AbstractMessageSignature {\n    constructor(method) {\n        super(method, 9);\n    }\n}\nexports.NotificationType9 = NotificationType9;\nvar Message;\n(function (Message) {\n    /**\n     * Tests if the given message is a request message\n     */\n    function isRequest(message) {\n        const candidate = message;\n        return candidate && is.string(candidate.method) && (is.string(candidate.id) || is.number(candidate.id));\n    }\n    Message.isRequest = isRequest;\n    /**\n     * Tests if the given message is a notification message\n     */\n    function isNotification(message) {\n        const candidate = message;\n        return candidate && is.string(candidate.method) && message.id === void 0;\n    }\n    Message.isNotification = isNotification;\n    /**\n     * Tests if the given message is a response message\n     */\n    function isResponse(message) {\n        const candidate = message;\n        return candidate && (candidate.result !== void 0 || !!candidate.error) && (is.string(candidate.id) || is.number(candidate.id) || candidate.id === null);\n    }\n    Message.isResponse = isResponse;\n})(Message = exports.Message || (exports.Message = {}));\n//# sourceMappingURL=messages.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nlet _ral;\nfunction RAL() {\n    if (_ral === undefined) {\n        throw new Error(`No runtime abstraction layer installed`);\n    }\n    return _ral;\n}\n(function (RAL) {\n    function install(ral) {\n        if (ral === undefined) {\n            throw new Error(`No runtime abstraction layer provided`);\n        }\n        _ral = ral;\n    }\n    RAL.install = install;\n})(RAL || (RAL = {}));\nexports.default = RAL;\n//# sourceMappingURL=ral.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.Semaphore = void 0;\nconst ral_1 = require(\"./ral\");\nclass Semaphore {\n    constructor(capacity = 1) {\n        if (capacity <= 0) {\n            throw new Error('Capacity must be greater than 0');\n        }\n        this._capacity = capacity;\n        this._active = 0;\n        this._waiting = [];\n    }\n    lock(thunk) {\n        return new Promise((resolve, reject) => {\n            this._waiting.push({ thunk, resolve, reject });\n            this.runNext();\n        });\n    }\n    get active() {\n        return this._active;\n    }\n    runNext() {\n        if (this._waiting.length === 0 || this._active === this._capacity) {\n            return;\n        }\n        (0, ral_1.default)().timer.setImmediate(() => this.doRunNext());\n    }\n    doRunNext() {\n        if (this._waiting.length === 0 || this._active === this._capacity) {\n            return;\n        }\n        const next = this._waiting.shift();\n        this._active++;\n        if (this._active > this._capacity) {\n            throw new Error(`To many thunks active`);\n        }\n        try {\n            const result = next.thunk();\n            if (result instanceof Promise) {\n                result.then((value) => {\n                    this._active--;\n                    next.resolve(value);\n                    this.runNext();\n                }, (err) => {\n                    this._active--;\n                    next.reject(err);\n                    this.runNext();\n                });\n            }\n            else {\n                this._active--;\n                next.resolve(result);\n                this.runNext();\n            }\n        }\n        catch (err) {\n            this._active--;\n            next.reject(err);\n            this.runNext();\n        }\n    }\n}\nexports.Semaphore = Semaphore;\n//# sourceMappingURL=semaphore.js.map","\"use strict\";\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createMessageConnection = exports.createServerSocketTransport = exports.createClientSocketTransport = exports.createServerPipeTransport = exports.createClientPipeTransport = exports.generateRandomPipeName = exports.StreamMessageWriter = exports.StreamMessageReader = exports.SocketMessageWriter = exports.SocketMessageReader = exports.IPCMessageWriter = exports.IPCMessageReader = void 0;\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ----------------------------------------------------------------------------------------- */\nconst ril_1 = require(\"./ril\");\n// Install the node runtime abstract.\nril_1.default.install();\nconst api_1 = require(\"../common/api\");\nconst path = require(\"path\");\nconst os = require(\"os\");\nconst crypto_1 = require(\"crypto\");\nconst net_1 = require(\"net\");\n__exportStar(require(\"../common/api\"), exports);\nclass IPCMessageReader extends api_1.AbstractMessageReader {\n    constructor(process) {\n        super();\n        this.process = process;\n        let eventEmitter = this.process;\n        eventEmitter.on('error', (error) => this.fireError(error));\n        eventEmitter.on('close', () => this.fireClose());\n    }\n    listen(callback) {\n        this.process.on('message', callback);\n        return api_1.Disposable.create(() => this.process.off('message', callback));\n    }\n}\nexports.IPCMessageReader = IPCMessageReader;\nclass IPCMessageWriter extends api_1.AbstractMessageWriter {\n    constructor(process) {\n        super();\n        this.process = process;\n        this.errorCount = 0;\n        let eventEmitter = this.process;\n        eventEmitter.on('error', (error) => this.fireError(error));\n        eventEmitter.on('close', () => this.fireClose);\n    }\n    write(msg) {\n        try {\n            if (typeof this.process.send === 'function') {\n                this.process.send(msg, undefined, undefined, (error) => {\n                    if (error) {\n                        this.errorCount++;\n                        this.handleError(error, msg);\n                    }\n                    else {\n                        this.errorCount = 0;\n                    }\n                });\n            }\n            return Promise.resolve();\n        }\n        catch (error) {\n            this.handleError(error, msg);\n            return Promise.reject(error);\n        }\n    }\n    handleError(error, msg) {\n        this.errorCount++;\n        this.fireError(error, msg, this.errorCount);\n    }\n    end() {\n    }\n}\nexports.IPCMessageWriter = IPCMessageWriter;\nclass SocketMessageReader extends api_1.ReadableStreamMessageReader {\n    constructor(socket, encoding = 'utf-8') {\n        super((0, ril_1.default)().stream.asReadableStream(socket), encoding);\n    }\n}\nexports.SocketMessageReader = SocketMessageReader;\nclass SocketMessageWriter extends api_1.WriteableStreamMessageWriter {\n    constructor(socket, options) {\n        super((0, ril_1.default)().stream.asWritableStream(socket), options);\n        this.socket = socket;\n    }\n    dispose() {\n        super.dispose();\n        this.socket.destroy();\n    }\n}\nexports.SocketMessageWriter = SocketMessageWriter;\nclass StreamMessageReader extends api_1.ReadableStreamMessageReader {\n    constructor(readble, encoding) {\n        super((0, ril_1.default)().stream.asReadableStream(readble), encoding);\n    }\n}\nexports.StreamMessageReader = StreamMessageReader;\nclass StreamMessageWriter extends api_1.WriteableStreamMessageWriter {\n    constructor(writable, options) {\n        super((0, ril_1.default)().stream.asWritableStream(writable), options);\n    }\n}\nexports.StreamMessageWriter = StreamMessageWriter;\nconst XDG_RUNTIME_DIR = process.env['XDG_RUNTIME_DIR'];\nconst safeIpcPathLengths = new Map([\n    ['linux', 107],\n    ['darwin', 103]\n]);\nfunction generateRandomPipeName() {\n    const randomSuffix = (0, crypto_1.randomBytes)(21).toString('hex');\n    if (process.platform === 'win32') {\n        return `\\\\\\\\.\\\\pipe\\\\vscode-jsonrpc-${randomSuffix}-sock`;\n    }\n    let result;\n    if (XDG_RUNTIME_DIR) {\n        result = path.join(XDG_RUNTIME_DIR, `vscode-ipc-${randomSuffix}.sock`);\n    }\n    else {\n        result = path.join(os.tmpdir(), `vscode-${randomSuffix}.sock`);\n    }\n    const limit = safeIpcPathLengths.get(process.platform);\n    if (limit !== undefined && result.length >= limit) {\n        (0, ril_1.default)().console.warn(`WARNING: IPC handle \"${result}\" is longer than ${limit} characters.`);\n    }\n    return result;\n}\nexports.generateRandomPipeName = generateRandomPipeName;\nfunction createClientPipeTransport(pipeName, encoding = 'utf-8') {\n    let connectResolve;\n    const connected = new Promise((resolve, _reject) => {\n        connectResolve = resolve;\n    });\n    return new Promise((resolve, reject) => {\n        let server = (0, net_1.createServer)((socket) => {\n            server.close();\n            connectResolve([\n                new SocketMessageReader(socket, encoding),\n                new SocketMessageWriter(socket, encoding)\n            ]);\n        });\n        server.on('error', reject);\n        server.listen(pipeName, () => {\n            server.removeListener('error', reject);\n            resolve({\n                onConnected: () => { return connected; }\n            });\n        });\n    });\n}\nexports.createClientPipeTransport = createClientPipeTransport;\nfunction createServerPipeTransport(pipeName, encoding = 'utf-8') {\n    const socket = (0, net_1.createConnection)(pipeName);\n    return [\n        new SocketMessageReader(socket, encoding),\n        new SocketMessageWriter(socket, encoding)\n    ];\n}\nexports.createServerPipeTransport = createServerPipeTransport;\nfunction createClientSocketTransport(port, encoding = 'utf-8') {\n    let connectResolve;\n    const connected = new Promise((resolve, _reject) => {\n        connectResolve = resolve;\n    });\n    return new Promise((resolve, reject) => {\n        const server = (0, net_1.createServer)((socket) => {\n            server.close();\n            connectResolve([\n                new SocketMessageReader(socket, encoding),\n                new SocketMessageWriter(socket, encoding)\n            ]);\n        });\n        server.on('error', reject);\n        server.listen(port, '127.0.0.1', () => {\n            server.removeListener('error', reject);\n            resolve({\n                onConnected: () => { return connected; }\n            });\n        });\n    });\n}\nexports.createClientSocketTransport = createClientSocketTransport;\nfunction createServerSocketTransport(port, encoding = 'utf-8') {\n    const socket = (0, net_1.createConnection)(port, '127.0.0.1');\n    return [\n        new SocketMessageReader(socket, encoding),\n        new SocketMessageWriter(socket, encoding)\n    ];\n}\nexports.createServerSocketTransport = createServerSocketTransport;\nfunction isReadableStream(value) {\n    const candidate = value;\n    return candidate.read !== undefined && candidate.addListener !== undefined;\n}\nfunction isWritableStream(value) {\n    const candidate = value;\n    return candidate.write !== undefined && candidate.addListener !== undefined;\n}\nfunction createMessageConnection(input, output, logger, options) {\n    if (!logger) {\n        logger = api_1.NullLogger;\n    }\n    const reader = isReadableStream(input) ? new StreamMessageReader(input) : input;\n    const writer = isWritableStream(output) ? new StreamMessageWriter(output) : output;\n    if (api_1.ConnectionStrategy.is(options)) {\n        options = { connectionStrategy: options };\n    }\n    return (0, api_1.createMessageConnection)(reader, writer, logger, options);\n}\nexports.createMessageConnection = createMessageConnection;\n//# sourceMappingURL=main.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst ral_1 = require(\"../common/ral\");\nconst util_1 = require(\"util\");\nconst disposable_1 = require(\"../common/disposable\");\nconst messageBuffer_1 = require(\"../common/messageBuffer\");\nclass MessageBuffer extends messageBuffer_1.AbstractMessageBuffer {\n    constructor(encoding = 'utf-8') {\n        super(encoding);\n    }\n    emptyBuffer() {\n        return MessageBuffer.emptyBuffer;\n    }\n    fromString(value, encoding) {\n        return Buffer.from(value, encoding);\n    }\n    toString(value, encoding) {\n        if (value instanceof Buffer) {\n            return value.toString(encoding);\n        }\n        else {\n            return new util_1.TextDecoder(encoding).decode(value);\n        }\n    }\n    asNative(buffer, length) {\n        if (length === undefined) {\n            return buffer instanceof Buffer ? buffer : Buffer.from(buffer);\n        }\n        else {\n            return buffer instanceof Buffer ? buffer.slice(0, length) : Buffer.from(buffer, 0, length);\n        }\n    }\n    allocNative(length) {\n        return Buffer.allocUnsafe(length);\n    }\n}\nMessageBuffer.emptyBuffer = Buffer.allocUnsafe(0);\nclass ReadableStreamWrapper {\n    constructor(stream) {\n        this.stream = stream;\n    }\n    onClose(listener) {\n        this.stream.on('close', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('close', listener));\n    }\n    onError(listener) {\n        this.stream.on('error', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('error', listener));\n    }\n    onEnd(listener) {\n        this.stream.on('end', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('end', listener));\n    }\n    onData(listener) {\n        this.stream.on('data', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('data', listener));\n    }\n}\nclass WritableStreamWrapper {\n    constructor(stream) {\n        this.stream = stream;\n    }\n    onClose(listener) {\n        this.stream.on('close', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('close', listener));\n    }\n    onError(listener) {\n        this.stream.on('error', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('error', listener));\n    }\n    onEnd(listener) {\n        this.stream.on('end', listener);\n        return disposable_1.Disposable.create(() => this.stream.off('end', listener));\n    }\n    write(data, encoding) {\n        return new Promise((resolve, reject) => {\n            const callback = (error) => {\n                if (error === undefined || error === null) {\n                    resolve();\n                }\n                else {\n                    reject(error);\n                }\n            };\n            if (typeof data === 'string') {\n                this.stream.write(data, encoding, callback);\n            }\n            else {\n                this.stream.write(data, callback);\n            }\n        });\n    }\n    end() {\n        this.stream.end();\n    }\n}\nconst _ril = Object.freeze({\n    messageBuffer: Object.freeze({\n        create: (encoding) => new MessageBuffer(encoding)\n    }),\n    applicationJson: Object.freeze({\n        encoder: Object.freeze({\n            name: 'application/json',\n            encode: (msg, options) => {\n                try {\n                    return Promise.resolve(Buffer.from(JSON.stringify(msg, undefined, 0), options.charset));\n                }\n                catch (err) {\n                    return Promise.reject(err);\n                }\n            }\n        }),\n        decoder: Object.freeze({\n            name: 'application/json',\n            decode: (buffer, options) => {\n                try {\n                    if (buffer instanceof Buffer) {\n                        return Promise.resolve(JSON.parse(buffer.toString(options.charset)));\n                    }\n                    else {\n                        return Promise.resolve(JSON.parse(new util_1.TextDecoder(options.charset).decode(buffer)));\n                    }\n                }\n                catch (err) {\n                    return Promise.reject(err);\n                }\n            }\n        })\n    }),\n    stream: Object.freeze({\n        asReadableStream: (stream) => new ReadableStreamWrapper(stream),\n        asWritableStream: (stream) => new WritableStreamWrapper(stream)\n    }),\n    console: console,\n    timer: Object.freeze({\n        setTimeout(callback, ms, ...args) {\n            const handle = setTimeout(callback, ms, ...args);\n            return { dispose: () => clearTimeout(handle) };\n        },\n        setImmediate(callback, ...args) {\n            const handle = setImmediate(callback, ...args);\n            return { dispose: () => clearImmediate(handle) };\n        },\n        setInterval(callback, ms, ...args) {\n            const handle = setInterval(callback, ms, ...args);\n            return { dispose: () => clearInterval(handle) };\n        }\n    })\n});\nfunction RIL() {\n    return _ril;\n}\n(function (RIL) {\n    function install() {\n        ral_1.default.install(_ril);\n    }\n    RIL.install = install;\n})(RIL || (RIL = {}));\nexports.default = RIL;\n//# sourceMappingURL=ril.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ----------------------------------------------------------------------------------------- */\n'use strict';\n\nmodule.exports = require('./lib/node/main');","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DiagnosticPullMode = exports.vsdiag = void 0;\n__exportStar(require(\"vscode-languageserver-protocol\"), exports);\n__exportStar(require(\"./features\"), exports);\nvar diagnostic_1 = require(\"./diagnostic\");\nObject.defineProperty(exports, \"vsdiag\", { enumerable: true, get: function () { return diagnostic_1.vsdiag; } });\nObject.defineProperty(exports, \"DiagnosticPullMode\", { enumerable: true, get: function () { return diagnostic_1.DiagnosticPullMode; } });\n__exportStar(require(\"./client\"), exports);\n//# sourceMappingURL=api.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CallHierarchyFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nclass CallHierarchyProvider {\n    constructor(client) {\n        this.client = client;\n        this.middleware = client.middleware;\n    }\n    prepareCallHierarchy(document, position, token) {\n        const client = this.client;\n        const middleware = this.middleware;\n        const prepareCallHierarchy = (document, position, token) => {\n            const params = client.code2ProtocolConverter.asTextDocumentPositionParams(document, position);\n            return client.sendRequest(vscode_languageserver_protocol_1.CallHierarchyPrepareRequest.type, params, token).then((result) => {\n                if (token.isCancellationRequested) {\n                    return null;\n                }\n                return client.protocol2CodeConverter.asCallHierarchyItems(result, token);\n            }, (error) => {\n                return client.handleFailedRequest(vscode_languageserver_protocol_1.CallHierarchyPrepareRequest.type, token, error, null);\n            });\n        };\n        return middleware.prepareCallHierarchy\n            ? middleware.prepareCallHierarchy(document, position, token, prepareCallHierarchy)\n            : prepareCallHierarchy(document, position, token);\n    }\n    provideCallHierarchyIncomingCalls(item, token) {\n        const client = this.client;\n        const middleware = this.middleware;\n        const provideCallHierarchyIncomingCalls = (item, token) => {\n            const params = {\n                item: client.code2ProtocolConverter.asCallHierarchyItem(item)\n            };\n            return client.sendRequest(vscode_languageserver_protocol_1.CallHierarchyIncomingCallsRequest.type, params, token).then((result) => {\n                if (token.isCancellationRequested) {\n                    return null;\n                }\n                return client.protocol2CodeConverter.asCallHierarchyIncomingCalls(result, token);\n            }, (error) => {\n                return client.handleFailedRequest(vscode_languageserver_protocol_1.CallHierarchyIncomingCallsRequest.type, token, error, null);\n            });\n        };\n        return middleware.provideCallHierarchyIncomingCalls\n            ? middleware.provideCallHierarchyIncomingCalls(item, token, provideCallHierarchyIncomingCalls)\n            : provideCallHierarchyIncomingCalls(item, token);\n    }\n    provideCallHierarchyOutgoingCalls(item, token) {\n        const client = this.client;\n        const middleware = this.middleware;\n        const provideCallHierarchyOutgoingCalls = (item, token) => {\n            const params = {\n                item: client.code2ProtocolConverter.asCallHierarchyItem(item)\n            };\n            return client.sendRequest(vscode_languageserver_protocol_1.CallHierarchyOutgoingCallsRequest.type, params, token).then((result) => {\n                if (token.isCancellationRequested) {\n                    return null;\n                }\n                return client.protocol2CodeConverter.asCallHierarchyOutgoingCalls(result, token);\n            }, (error) => {\n                return client.handleFailedRequest(vscode_languageserver_protocol_1.CallHierarchyOutgoingCallsRequest.type, token, error, null);\n            });\n        };\n        return middleware.provideCallHierarchyOutgoingCalls\n            ? middleware.provideCallHierarchyOutgoingCalls(item, token, provideCallHierarchyOutgoingCalls)\n            : provideCallHierarchyOutgoingCalls(item, token);\n    }\n}\nclass CallHierarchyFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.CallHierarchyPrepareRequest.type);\n    }\n    fillClientCapabilities(cap) {\n        const capabilities = cap;\n        const capability = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'callHierarchy');\n        capability.dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const [id, options] = this.getRegistration(documentSelector, capabilities.callHierarchyProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const client = this._client;\n        const provider = new CallHierarchyProvider(client);\n        return [vscode_1.languages.registerCallHierarchyProvider(this._client.protocol2CodeConverter.asDocumentSelector(options.documentSelector), provider), provider];\n    }\n}\nexports.CallHierarchyFeature = CallHierarchyFeature;\n//# sourceMappingURL=callHierarchy.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProposedFeatures = exports.BaseLanguageClient = exports.MessageTransports = exports.SuspendMode = exports.State = exports.CloseAction = exports.ErrorAction = exports.RevealOutputChannelOn = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst c2p = require(\"./codeConverter\");\nconst p2c = require(\"./protocolConverter\");\nconst Is = require(\"./utils/is\");\nconst async_1 = require(\"./utils/async\");\nconst UUID = require(\"./utils/uuid\");\nconst progressPart_1 = require(\"./progressPart\");\nconst features_1 = require(\"./features\");\nconst diagnostic_1 = require(\"./diagnostic\");\nconst notebook_1 = require(\"./notebook\");\nconst configuration_1 = require(\"./configuration\");\nconst textSynchronization_1 = require(\"./textSynchronization\");\nconst completion_1 = require(\"./completion\");\nconst hover_1 = require(\"./hover\");\nconst definition_1 = require(\"./definition\");\nconst signatureHelp_1 = require(\"./signatureHelp\");\nconst documentHighlight_1 = require(\"./documentHighlight\");\nconst documentSymbol_1 = require(\"./documentSymbol\");\nconst workspaceSymbol_1 = require(\"./workspaceSymbol\");\nconst reference_1 = require(\"./reference\");\nconst codeAction_1 = require(\"./codeAction\");\nconst codeLens_1 = require(\"./codeLens\");\nconst formatting_1 = require(\"./formatting\");\nconst rename_1 = require(\"./rename\");\nconst documentLink_1 = require(\"./documentLink\");\nconst executeCommand_1 = require(\"./executeCommand\");\nconst fileSystemWatcher_1 = require(\"./fileSystemWatcher\");\nconst colorProvider_1 = require(\"./colorProvider\");\nconst implementation_1 = require(\"./implementation\");\nconst typeDefinition_1 = require(\"./typeDefinition\");\nconst workspaceFolder_1 = require(\"./workspaceFolder\");\nconst foldingRange_1 = require(\"./foldingRange\");\nconst declaration_1 = require(\"./declaration\");\nconst selectionRange_1 = require(\"./selectionRange\");\nconst progress_1 = require(\"./progress\");\nconst callHierarchy_1 = require(\"./callHierarchy\");\nconst semanticTokens_1 = require(\"./semanticTokens\");\nconst fileOperations_1 = require(\"./fileOperations\");\nconst linkedEditingRange_1 = require(\"./linkedEditingRange\");\nconst typeHierarchy_1 = require(\"./typeHierarchy\");\nconst inlineValue_1 = require(\"./inlineValue\");\nconst inlayHint_1 = require(\"./inlayHint\");\n/**\n * Controls when the output channel is revealed.\n */\nvar RevealOutputChannelOn;\n(function (RevealOutputChannelOn) {\n    RevealOutputChannelOn[RevealOutputChannelOn[\"Info\"] = 1] = \"Info\";\n    RevealOutputChannelOn[RevealOutputChannelOn[\"Warn\"] = 2] = \"Warn\";\n    RevealOutputChannelOn[RevealOutputChannelOn[\"Error\"] = 3] = \"Error\";\n    RevealOutputChannelOn[RevealOutputChannelOn[\"Never\"] = 4] = \"Never\";\n})(RevealOutputChannelOn = exports.RevealOutputChannelOn || (exports.RevealOutputChannelOn = {}));\n/**\n * An action to be performed when the connection is producing errors.\n */\nvar ErrorAction;\n(function (ErrorAction) {\n    /**\n     * Continue running the server.\n     */\n    ErrorAction[ErrorAction[\"Continue\"] = 1] = \"Continue\";\n    /**\n     * Shutdown the server.\n     */\n    ErrorAction[ErrorAction[\"Shutdown\"] = 2] = \"Shutdown\";\n})(ErrorAction = exports.ErrorAction || (exports.ErrorAction = {}));\n/**\n * An action to be performed when the connection to a server got closed.\n */\nvar CloseAction;\n(function (CloseAction) {\n    /**\n     * Don't restart the server. The connection stays closed.\n     */\n    CloseAction[CloseAction[\"DoNotRestart\"] = 1] = \"DoNotRestart\";\n    /**\n     * Restart the server.\n     */\n    CloseAction[CloseAction[\"Restart\"] = 2] = \"Restart\";\n})(CloseAction = exports.CloseAction || (exports.CloseAction = {}));\n/**\n * Signals in which state the language client is in.\n */\nvar State;\n(function (State) {\n    /**\n     * The client is stopped or got never started.\n     */\n    State[State[\"Stopped\"] = 1] = \"Stopped\";\n    /**\n     * The client is starting but not ready yet.\n     */\n    State[State[\"Starting\"] = 3] = \"Starting\";\n    /**\n     * The client is running and ready.\n     */\n    State[State[\"Running\"] = 2] = \"Running\";\n})(State = exports.State || (exports.State = {}));\nvar SuspendMode;\n(function (SuspendMode) {\n    /**\n     * Don't allow suspend mode.\n     */\n    SuspendMode[\"off\"] = \"off\";\n    /**\n     * Support suspend mode even if not all\n     * registered providers have a corresponding\n     * activation listener.\n     */\n    SuspendMode[\"on\"] = \"on\";\n})(SuspendMode = exports.SuspendMode || (exports.SuspendMode = {}));\nclass DefaultErrorHandler {\n    constructor(client, maxRestartCount) {\n        this.client = client;\n        this.maxRestartCount = maxRestartCount;\n        this.restarts = [];\n    }\n    error(_error, _message, count) {\n        if (count && count <= 3) {\n            return { action: ErrorAction.Continue };\n        }\n        return { action: ErrorAction.Shutdown };\n    }\n    closed() {\n        this.restarts.push(Date.now());\n        if (this.restarts.length <= this.maxRestartCount) {\n            return { action: CloseAction.Restart };\n        }\n        else {\n            let diff = this.restarts[this.restarts.length - 1] - this.restarts[0];\n            if (diff <= 3 * 60 * 1000) {\n                return { action: CloseAction.DoNotRestart, message: `The ${this.client.name} server crashed ${this.maxRestartCount + 1} times in the last 3 minutes. The server will not be restarted. See the output for more information.` };\n            }\n            else {\n                this.restarts.shift();\n                return { action: CloseAction.Restart };\n            }\n        }\n    }\n}\nvar ClientState;\n(function (ClientState) {\n    ClientState[\"Initial\"] = \"initial\";\n    ClientState[\"Starting\"] = \"starting\";\n    ClientState[\"StartFailed\"] = \"startFailed\";\n    ClientState[\"Running\"] = \"running\";\n    ClientState[\"Stopping\"] = \"stopping\";\n    ClientState[\"Stopped\"] = \"stopped\";\n})(ClientState || (ClientState = {}));\nvar MessageTransports;\n(function (MessageTransports) {\n    function is(value) {\n        let candidate = value;\n        return candidate && vscode_languageserver_protocol_1.MessageReader.is(value.reader) && vscode_languageserver_protocol_1.MessageWriter.is(value.writer);\n    }\n    MessageTransports.is = is;\n})(MessageTransports = exports.MessageTransports || (exports.MessageTransports = {}));\nclass BaseLanguageClient {\n    constructor(id, name, clientOptions) {\n        this._traceFormat = vscode_languageserver_protocol_1.TraceFormat.Text;\n        this._diagnosticQueue = new Map();\n        this._diagnosticQueueState = { state: 'idle' };\n        this._features = [];\n        this._dynamicFeatures = new Map();\n        this.workspaceEditLock = new async_1.Semaphore(1);\n        this._id = id;\n        this._name = name;\n        clientOptions = clientOptions || {};\n        const markdown = { isTrusted: false, supportHtml: false };\n        if (clientOptions.markdown !== undefined) {\n            markdown.isTrusted = clientOptions.markdown.isTrusted === true;\n            markdown.supportHtml = clientOptions.markdown.supportHtml === true;\n        }\n        // const defaultInterval = (clientOptions as TestOptions).$testMode ? 50 : 60000;\n        this._clientOptions = {\n            documentSelector: clientOptions.documentSelector ?? [],\n            synchronize: clientOptions.synchronize ?? {},\n            diagnosticCollectionName: clientOptions.diagnosticCollectionName,\n            outputChannelName: clientOptions.outputChannelName ?? this._name,\n            revealOutputChannelOn: clientOptions.revealOutputChannelOn ?? RevealOutputChannelOn.Error,\n            stdioEncoding: clientOptions.stdioEncoding ?? 'utf8',\n            initializationOptions: clientOptions.initializationOptions,\n            initializationFailedHandler: clientOptions.initializationFailedHandler,\n            progressOnInitialization: !!clientOptions.progressOnInitialization,\n            errorHandler: clientOptions.errorHandler ?? this.createDefaultErrorHandler(clientOptions.connectionOptions?.maxRestartCount),\n            middleware: clientOptions.middleware ?? {},\n            uriConverters: clientOptions.uriConverters,\n            workspaceFolder: clientOptions.workspaceFolder,\n            connectionOptions: clientOptions.connectionOptions,\n            markdown,\n            // suspend: {\n            // \tmode: clientOptions.suspend?.mode ?? SuspendMode.off,\n            // \tcallback: clientOptions.suspend?.callback ?? (() => Promise.resolve(true)),\n            // \tinterval: clientOptions.suspend?.interval ? Math.max(clientOptions.suspend.interval, defaultInterval) : defaultInterval\n            // },\n            diagnosticPullOptions: clientOptions.diagnosticPullOptions ?? { onChange: true, onSave: false },\n            notebookDocumentOptions: clientOptions.notebookDocumentOptions ?? {}\n        };\n        this._clientOptions.synchronize = this._clientOptions.synchronize || {};\n        this._state = ClientState.Initial;\n        this._ignoredRegistrations = new Set();\n        this._listeners = [];\n        this._notificationHandlers = new Map();\n        this._pendingNotificationHandlers = new Map();\n        this._notificationDisposables = new Map();\n        this._requestHandlers = new Map();\n        this._pendingRequestHandlers = new Map();\n        this._requestDisposables = new Map();\n        this._progressHandlers = new Map();\n        this._pendingProgressHandlers = new Map();\n        this._progressDisposables = new Map();\n        this._connection = undefined;\n        // this._idleStart = undefined;\n        this._initializeResult = undefined;\n        if (clientOptions.outputChannel) {\n            this._outputChannel = clientOptions.outputChannel;\n            this._disposeOutputChannel = false;\n        }\n        else {\n            this._outputChannel = undefined;\n            this._disposeOutputChannel = true;\n        }\n        this._traceOutputChannel = clientOptions.traceOutputChannel;\n        this._diagnostics = undefined;\n        this._fileEvents = [];\n        this._fileEventDelayer = new async_1.Delayer(250);\n        this._onStop = undefined;\n        this._telemetryEmitter = new vscode_languageserver_protocol_1.Emitter();\n        this._stateChangeEmitter = new vscode_languageserver_protocol_1.Emitter();\n        this._trace = vscode_languageserver_protocol_1.Trace.Off;\n        this._tracer = {\n            log: (messageOrDataObject, data) => {\n                if (Is.string(messageOrDataObject)) {\n                    this.logTrace(messageOrDataObject, data);\n                }\n                else {\n                    this.logObjectTrace(messageOrDataObject);\n                }\n            },\n        };\n        this._c2p = c2p.createConverter(clientOptions.uriConverters ? clientOptions.uriConverters.code2Protocol : undefined);\n        this._p2c = p2c.createConverter(clientOptions.uriConverters ? clientOptions.uriConverters.protocol2Code : undefined, this._clientOptions.markdown.isTrusted, this._clientOptions.markdown.supportHtml);\n        this._syncedDocuments = new Map();\n        this.registerBuiltinFeatures();\n    }\n    get name() {\n        return this._name;\n    }\n    get middleware() {\n        return this._clientOptions.middleware ?? Object.create(null);\n    }\n    get clientOptions() {\n        return this._clientOptions;\n    }\n    get protocol2CodeConverter() {\n        return this._p2c;\n    }\n    get code2ProtocolConverter() {\n        return this._c2p;\n    }\n    get onTelemetry() {\n        return this._telemetryEmitter.event;\n    }\n    get onDidChangeState() {\n        return this._stateChangeEmitter.event;\n    }\n    get outputChannel() {\n        if (!this._outputChannel) {\n            this._outputChannel = vscode_1.window.createOutputChannel(this._clientOptions.outputChannelName ? this._clientOptions.outputChannelName : this._name);\n        }\n        return this._outputChannel;\n    }\n    get traceOutputChannel() {\n        if (this._traceOutputChannel) {\n            return this._traceOutputChannel;\n        }\n        return this.outputChannel;\n    }\n    get diagnostics() {\n        return this._diagnostics;\n    }\n    get state() {\n        return this.getPublicState();\n    }\n    get $state() {\n        return this._state;\n    }\n    set $state(value) {\n        let oldState = this.getPublicState();\n        this._state = value;\n        let newState = this.getPublicState();\n        if (newState !== oldState) {\n            this._stateChangeEmitter.fire({ oldState, newState });\n        }\n    }\n    getPublicState() {\n        switch (this.$state) {\n            case ClientState.Starting:\n                return State.Starting;\n            case ClientState.Running:\n                return State.Running;\n            default:\n                return State.Stopped;\n        }\n    }\n    get initializeResult() {\n        return this._initializeResult;\n    }\n    async sendRequest(type, ...params) {\n        if (this.$state === ClientState.StartFailed || this.$state === ClientState.Stopping || this.$state === ClientState.Stopped) {\n            return Promise.reject(new vscode_languageserver_protocol_1.ResponseError(vscode_languageserver_protocol_1.ErrorCodes.ConnectionInactive, `Client is not running`));\n        }\n        try {\n            // Ensure we have a connection before we force the document sync.\n            const connection = await this.$start();\n            await this.forceDocumentSync();\n            return connection.sendRequest(type, ...params);\n        }\n        catch (error) {\n            this.error(`Sending request ${Is.string(type) ? type : type.method} failed.`, error);\n            throw error;\n        }\n    }\n    onRequest(type, handler) {\n        const method = typeof type === 'string' ? type : type.method;\n        this._requestHandlers.set(method, handler);\n        const connection = this.activeConnection();\n        let disposable;\n        if (connection !== undefined) {\n            this._requestDisposables.set(method, connection.onRequest(type, handler));\n            disposable = {\n                dispose: () => {\n                    const disposable = this._requestDisposables.get(method);\n                    if (disposable !== undefined) {\n                        disposable.dispose();\n                        this._requestDisposables.delete(method);\n                    }\n                }\n            };\n        }\n        else {\n            this._pendingRequestHandlers.set(method, handler);\n            disposable = {\n                dispose: () => {\n                    this._pendingRequestHandlers.delete(method);\n                    const disposable = this._requestDisposables.get(method);\n                    if (disposable !== undefined) {\n                        disposable.dispose();\n                        this._requestDisposables.delete(method);\n                    }\n                }\n            };\n        }\n        return {\n            dispose: () => {\n                this._requestHandlers.delete(method);\n                disposable.dispose();\n            }\n        };\n    }\n    async sendNotification(type, params) {\n        if (this.$state === ClientState.StartFailed || this.$state === ClientState.Stopping || this.$state === ClientState.Stopped) {\n            return Promise.reject(new vscode_languageserver_protocol_1.ResponseError(vscode_languageserver_protocol_1.ErrorCodes.ConnectionInactive, `Client is not running`));\n        }\n        try {\n            // Ensure we have a connection before we force the document sync.\n            const connection = await this.$start();\n            await this.forceDocumentSync();\n            return connection.sendNotification(type, params);\n        }\n        catch (error) {\n            this.error(`Sending notification ${Is.string(type) ? type : type.method} failed.`, error);\n            throw error;\n        }\n    }\n    onNotification(type, handler) {\n        const method = typeof type === 'string' ? type : type.method;\n        this._notificationHandlers.set(method, handler);\n        const connection = this.activeConnection();\n        let disposable;\n        if (connection !== undefined) {\n            this._notificationDisposables.set(method, connection.onNotification(type, handler));\n            disposable = {\n                dispose: () => {\n                    const disposable = this._notificationDisposables.get(method);\n                    if (disposable !== undefined) {\n                        disposable.dispose();\n                        this._notificationDisposables.delete(method);\n                    }\n                }\n            };\n        }\n        else {\n            this._pendingNotificationHandlers.set(method, handler);\n            disposable = {\n                dispose: () => {\n                    this._pendingNotificationHandlers.delete(method);\n                    const disposable = this._notificationDisposables.get(method);\n                    if (disposable !== undefined) {\n                        disposable.dispose();\n                        this._notificationDisposables.delete(method);\n                    }\n                }\n            };\n        }\n        return {\n            dispose: () => {\n                this._notificationHandlers.delete(method);\n                disposable.dispose();\n            }\n        };\n    }\n    async sendProgress(type, token, value) {\n        if (this.$state === ClientState.StartFailed || this.$state === ClientState.Stopping || this.$state === ClientState.Stopped) {\n            return Promise.reject(new vscode_languageserver_protocol_1.ResponseError(vscode_languageserver_protocol_1.ErrorCodes.ConnectionInactive, `Client is not running`));\n        }\n        try {\n            // Ensure we have a connection before we force the document sync.\n            const connection = await this.$start();\n            return connection.sendProgress(type, token, value);\n        }\n        catch (error) {\n            this.error(`Sending progress for token ${token} failed.`, error);\n            throw error;\n        }\n    }\n    onProgress(type, token, handler) {\n        this._progressHandlers.set(token, { type, handler });\n        const connection = this.activeConnection();\n        let disposable;\n        const handleWorkDoneProgress = this._clientOptions.middleware?.handleWorkDoneProgress;\n        const realHandler = vscode_languageserver_protocol_1.WorkDoneProgress.is(type) && handleWorkDoneProgress !== undefined\n            ? (params) => {\n                handleWorkDoneProgress(token, params, () => handler(params));\n            }\n            : handler;\n        if (connection !== undefined) {\n            this._progressDisposables.set(token, connection.onProgress(type, token, realHandler));\n            disposable = {\n                dispose: () => {\n                    const disposable = this._progressDisposables.get(token);\n                    if (disposable !== undefined) {\n                        disposable.dispose();\n                        this._progressDisposables.delete(token);\n                    }\n                }\n            };\n        }\n        else {\n            this._pendingProgressHandlers.set(token, { type, handler });\n            disposable = {\n                dispose: () => {\n                    this._pendingProgressHandlers.delete(token);\n                    const disposable = this._progressDisposables.get(token);\n                    if (disposable !== undefined) {\n                        disposable.dispose();\n                        this._progressDisposables.delete(token);\n                    }\n                }\n            };\n        }\n        return {\n            dispose: () => {\n                this._progressHandlers.delete(token);\n                disposable.dispose();\n            }\n        };\n    }\n    createDefaultErrorHandler(maxRestartCount) {\n        if (maxRestartCount !== undefined && maxRestartCount < 0) {\n            throw new Error(`Invalid maxRestartCount: ${maxRestartCount}`);\n        }\n        return new DefaultErrorHandler(this, maxRestartCount ?? 4);\n    }\n    async setTrace(value) {\n        this._trace = value;\n        const connection = this.activeConnection();\n        if (connection !== undefined) {\n            await connection.trace(this._trace, this._tracer, {\n                sendNotification: false,\n                traceFormat: this._traceFormat\n            });\n        }\n    }\n    data2String(data) {\n        if (data instanceof vscode_languageserver_protocol_1.ResponseError) {\n            const responseError = data;\n            return `  Message: ${responseError.message}\\n  Code: ${responseError.code} ${responseError.data ? '\\n' + responseError.data.toString() : ''}`;\n        }\n        if (data instanceof Error) {\n            if (Is.string(data.stack)) {\n                return data.stack;\n            }\n            return data.message;\n        }\n        if (Is.string(data)) {\n            return data;\n        }\n        return data.toString();\n    }\n    info(message, data, showNotification = true) {\n        this.outputChannel.appendLine(`[Info  - ${(new Date().toLocaleTimeString())}] ${message}`);\n        if (data !== null && data !== undefined) {\n            this.outputChannel.appendLine(this.data2String(data));\n        }\n        if (showNotification && this._clientOptions.revealOutputChannelOn <= RevealOutputChannelOn.Info) {\n            this.showNotificationMessage(vscode_languageserver_protocol_1.MessageType.Info, message);\n        }\n    }\n    warn(message, data, showNotification = true) {\n        this.outputChannel.appendLine(`[Warn  - ${(new Date().toLocaleTimeString())}] ${message}`);\n        if (data !== null && data !== undefined) {\n            this.outputChannel.appendLine(this.data2String(data));\n        }\n        if (showNotification && this._clientOptions.revealOutputChannelOn <= RevealOutputChannelOn.Warn) {\n            this.showNotificationMessage(vscode_languageserver_protocol_1.MessageType.Warning, message);\n        }\n    }\n    error(message, data, showNotification = true) {\n        this.outputChannel.appendLine(`[Error - ${(new Date().toLocaleTimeString())}] ${message}`);\n        if (data !== null && data !== undefined) {\n            this.outputChannel.appendLine(this.data2String(data));\n        }\n        if (showNotification === 'force' || (showNotification && this._clientOptions.revealOutputChannelOn <= RevealOutputChannelOn.Error)) {\n            this.showNotificationMessage(vscode_languageserver_protocol_1.MessageType.Error, message);\n        }\n    }\n    showNotificationMessage(type, message) {\n        message = message ?? 'A request has failed. See the output for more information.';\n        const messageFunc = type === vscode_languageserver_protocol_1.MessageType.Error\n            ? vscode_1.window.showErrorMessage\n            : type === vscode_languageserver_protocol_1.MessageType.Warning\n                ? vscode_1.window.showWarningMessage\n                : vscode_1.window.showInformationMessage;\n        void messageFunc(message, 'Go to output').then((selection) => {\n            if (selection !== undefined) {\n                this.outputChannel.show(true);\n            }\n        });\n    }\n    logTrace(message, data) {\n        this.traceOutputChannel.appendLine(`[Trace - ${(new Date().toLocaleTimeString())}] ${message}`);\n        if (data) {\n            this.traceOutputChannel.appendLine(this.data2String(data));\n        }\n    }\n    logObjectTrace(data) {\n        if (data.isLSPMessage && data.type) {\n            this.traceOutputChannel.append(`[LSP   - ${(new Date().toLocaleTimeString())}] `);\n        }\n        else {\n            this.traceOutputChannel.append(`[Trace - ${(new Date().toLocaleTimeString())}] `);\n        }\n        if (data) {\n            this.traceOutputChannel.appendLine(`${JSON.stringify(data)}`);\n        }\n    }\n    needsStart() {\n        return this.$state === ClientState.Initial || this.$state === ClientState.Stopping || this.$state === ClientState.Stopped;\n    }\n    needsStop() {\n        return this.$state === ClientState.Starting || this.$state === ClientState.Running;\n    }\n    activeConnection() {\n        return this.$state === ClientState.Running && this._connection !== undefined ? this._connection : undefined;\n    }\n    isRunning() {\n        return this.$state === ClientState.Running;\n    }\n    async start() {\n        if (this._disposed === 'disposing' || this._disposed === 'disposed') {\n            throw new Error(`Client got disposed and can't be restarted.`);\n        }\n        if (this.$state === ClientState.Stopping) {\n            throw new Error(`Client is currently stopping. Can only restart a full stopped client`);\n        }\n        // We are already running or are in the process of getting up\n        // to speed.\n        if (this._onStart !== undefined) {\n            return this._onStart;\n        }\n        const [promise, resolve, reject] = this.createOnStartPromise();\n        this._onStart = promise;\n        // If we restart then the diagnostics collection is reused.\n        if (this._diagnostics === undefined) {\n            this._diagnostics = this._clientOptions.diagnosticCollectionName\n                ? vscode_1.languages.createDiagnosticCollection(this._clientOptions.diagnosticCollectionName)\n                : vscode_1.languages.createDiagnosticCollection();\n        }\n        // When we start make all buffer handlers pending so that they\n        // get added.\n        for (const [method, handler] of this._notificationHandlers) {\n            if (!this._pendingNotificationHandlers.has(method)) {\n                this._pendingNotificationHandlers.set(method, handler);\n            }\n        }\n        for (const [method, handler] of this._requestHandlers) {\n            if (!this._pendingRequestHandlers.has(method)) {\n                this._pendingRequestHandlers.set(method, handler);\n            }\n        }\n        for (const [token, data] of this._progressHandlers) {\n            if (!this._pendingProgressHandlers.has(token)) {\n                this._pendingProgressHandlers.set(token, data);\n            }\n        }\n        this.$state = ClientState.Starting;\n        try {\n            const connection = await this.createConnection();\n            connection.onNotification(vscode_languageserver_protocol_1.LogMessageNotification.type, (message) => {\n                switch (message.type) {\n                    case vscode_languageserver_protocol_1.MessageType.Error:\n                        this.error(message.message, undefined, false);\n                        break;\n                    case vscode_languageserver_protocol_1.MessageType.Warning:\n                        this.warn(message.message, undefined, false);\n                        break;\n                    case vscode_languageserver_protocol_1.MessageType.Info:\n                        this.info(message.message, undefined, false);\n                        break;\n                    default:\n                        this.outputChannel.appendLine(message.message);\n                }\n            });\n            connection.onNotification(vscode_languageserver_protocol_1.ShowMessageNotification.type, (message) => {\n                switch (message.type) {\n                    case vscode_languageserver_protocol_1.MessageType.Error:\n                        void vscode_1.window.showErrorMessage(message.message);\n                        break;\n                    case vscode_languageserver_protocol_1.MessageType.Warning:\n                        void vscode_1.window.showWarningMessage(message.message);\n                        break;\n                    case vscode_languageserver_protocol_1.MessageType.Info:\n                        void vscode_1.window.showInformationMessage(message.message);\n                        break;\n                    default:\n                        void vscode_1.window.showInformationMessage(message.message);\n                }\n            });\n            connection.onRequest(vscode_languageserver_protocol_1.ShowMessageRequest.type, (params) => {\n                let messageFunc;\n                switch (params.type) {\n                    case vscode_languageserver_protocol_1.MessageType.Error:\n                        messageFunc = vscode_1.window.showErrorMessage;\n                        break;\n                    case vscode_languageserver_protocol_1.MessageType.Warning:\n                        messageFunc = vscode_1.window.showWarningMessage;\n                        break;\n                    case vscode_languageserver_protocol_1.MessageType.Info:\n                        messageFunc = vscode_1.window.showInformationMessage;\n                        break;\n                    default:\n                        messageFunc = vscode_1.window.showInformationMessage;\n                }\n                let actions = params.actions || [];\n                return messageFunc(params.message, ...actions);\n            });\n            connection.onNotification(vscode_languageserver_protocol_1.TelemetryEventNotification.type, (data) => {\n                this._telemetryEmitter.fire(data);\n            });\n            connection.onRequest(vscode_languageserver_protocol_1.ShowDocumentRequest.type, async (params) => {\n                const showDocument = async (params) => {\n                    const uri = this.protocol2CodeConverter.asUri(params.uri);\n                    try {\n                        if (params.external === true) {\n                            const success = await vscode_1.env.openExternal(uri);\n                            return { success };\n                        }\n                        else {\n                            const options = {};\n                            if (params.selection !== undefined) {\n                                options.selection = this.protocol2CodeConverter.asRange(params.selection);\n                            }\n                            if (params.takeFocus === undefined || params.takeFocus === false) {\n                                options.preserveFocus = true;\n                            }\n                            else if (params.takeFocus === true) {\n                                options.preserveFocus = false;\n                            }\n                            await vscode_1.window.showTextDocument(uri, options);\n                            return { success: true };\n                        }\n                    }\n                    catch (error) {\n                        return { success: false };\n                    }\n                };\n                const middleware = this._clientOptions.middleware.window?.showDocument;\n                if (middleware !== undefined) {\n                    return middleware(params, showDocument);\n                }\n                else {\n                    return showDocument(params);\n                }\n            });\n            connection.listen();\n            await this.initialize(connection);\n            resolve();\n        }\n        catch (error) {\n            this.$state = ClientState.StartFailed;\n            this.error(`${this._name} client: couldn't create connection to server.`, error, 'force');\n            reject(error);\n        }\n        return this._onStart;\n    }\n    createOnStartPromise() {\n        let resolve;\n        let reject;\n        const promise = new Promise((_resolve, _reject) => {\n            resolve = _resolve;\n            reject = _reject;\n        });\n        return [promise, resolve, reject];\n    }\n    async initialize(connection) {\n        this.refreshTrace(connection, false);\n        const initOption = this._clientOptions.initializationOptions;\n        // If the client is locked to a workspace folder use it. In this case the workspace folder\n        // feature is not registered and we need to initialize the value here.\n        const [rootPath, workspaceFolders] = this._clientOptions.workspaceFolder !== undefined\n            ? [this._clientOptions.workspaceFolder.uri.fsPath, [{ uri: this._c2p.asUri(this._clientOptions.workspaceFolder.uri), name: this._clientOptions.workspaceFolder.name }]]\n            : [this._clientGetRootPath(), null];\n        const initParams = {\n            processId: null,\n            clientInfo: {\n                name: vscode_1.env.appName,\n                version: vscode_1.version\n            },\n            locale: this.getLocale(),\n            rootPath: rootPath ? rootPath : null,\n            rootUri: rootPath ? this._c2p.asUri(vscode_1.Uri.file(rootPath)) : null,\n            capabilities: this.computeClientCapabilities(),\n            initializationOptions: Is.func(initOption) ? initOption() : initOption,\n            trace: vscode_languageserver_protocol_1.Trace.toString(this._trace),\n            workspaceFolders: workspaceFolders\n        };\n        this.fillInitializeParams(initParams);\n        if (this._clientOptions.progressOnInitialization) {\n            const token = UUID.generateUuid();\n            const part = new progressPart_1.ProgressPart(connection, token);\n            initParams.workDoneToken = token;\n            try {\n                const result = await this.doInitialize(connection, initParams);\n                part.done();\n                return result;\n            }\n            catch (error) {\n                part.cancel();\n                throw error;\n            }\n        }\n        else {\n            return this.doInitialize(connection, initParams);\n        }\n    }\n    async doInitialize(connection, initParams) {\n        try {\n            const result = await connection.initialize(initParams);\n            if (result.capabilities.positionEncoding !== undefined && result.capabilities.positionEncoding !== vscode_languageserver_protocol_1.PositionEncodingKind.UTF16) {\n                throw new Error(`Unsupported position encoding (${result.capabilities.positionEncoding}) received from server ${this.name}`);\n            }\n            this._initializeResult = result;\n            this.$state = ClientState.Running;\n            let textDocumentSyncOptions = undefined;\n            if (Is.number(result.capabilities.textDocumentSync)) {\n                if (result.capabilities.textDocumentSync === vscode_languageserver_protocol_1.TextDocumentSyncKind.None) {\n                    textDocumentSyncOptions = {\n                        openClose: false,\n                        change: vscode_languageserver_protocol_1.TextDocumentSyncKind.None,\n                        save: undefined\n                    };\n                }\n                else {\n                    textDocumentSyncOptions = {\n                        openClose: true,\n                        change: result.capabilities.textDocumentSync,\n                        save: {\n                            includeText: false\n                        }\n                    };\n                }\n            }\n            else if (result.capabilities.textDocumentSync !== undefined && result.capabilities.textDocumentSync !== null) {\n                textDocumentSyncOptions = result.capabilities.textDocumentSync;\n            }\n            this._capabilities = Object.assign({}, result.capabilities, { resolvedTextDocumentSync: textDocumentSyncOptions });\n            connection.onNotification(vscode_languageserver_protocol_1.PublishDiagnosticsNotification.type, params => this.handleDiagnostics(params));\n            connection.onRequest(vscode_languageserver_protocol_1.RegistrationRequest.type, params => this.handleRegistrationRequest(params));\n            // See https://github.com/Microsoft/vscode-languageserver-node/issues/199\n            connection.onRequest('client/registerFeature', params => this.handleRegistrationRequest(params));\n            connection.onRequest(vscode_languageserver_protocol_1.UnregistrationRequest.type, params => this.handleUnregistrationRequest(params));\n            // See https://github.com/Microsoft/vscode-languageserver-node/issues/199\n            connection.onRequest('client/unregisterFeature', params => this.handleUnregistrationRequest(params));\n            connection.onRequest(vscode_languageserver_protocol_1.ApplyWorkspaceEditRequest.type, params => this.handleApplyWorkspaceEdit(params));\n            // Add pending notification, request and progress handlers.\n            for (const [method, handler] of this._pendingNotificationHandlers) {\n                this._notificationDisposables.set(method, connection.onNotification(method, handler));\n            }\n            this._pendingNotificationHandlers.clear();\n            for (const [method, handler] of this._pendingRequestHandlers) {\n                this._requestDisposables.set(method, connection.onRequest(method, handler));\n            }\n            this._pendingRequestHandlers.clear();\n            for (const [token, data] of this._pendingProgressHandlers) {\n                this._progressDisposables.set(token, connection.onProgress(data.type, token, data.handler));\n            }\n            this._pendingProgressHandlers.clear();\n            // if (this._clientOptions.suspend.mode !== SuspendMode.off) {\n            // \tthis._idleInterval =  RAL().timer.setInterval(() => this.checkSuspend(), this._clientOptions.suspend.interval);\n            // }\n            await connection.sendNotification(vscode_languageserver_protocol_1.InitializedNotification.type, {});\n            this.hookFileEvents(connection);\n            this.hookConfigurationChanged(connection);\n            this.initializeFeatures(connection);\n            return result;\n        }\n        catch (error) {\n            if (this._clientOptions.initializationFailedHandler) {\n                if (this._clientOptions.initializationFailedHandler(error)) {\n                    void this.initialize(connection);\n                }\n                else {\n                    void this.stop();\n                }\n            }\n            else if (error instanceof vscode_languageserver_protocol_1.ResponseError && error.data && error.data.retry) {\n                void vscode_1.window.showErrorMessage(error.message, { title: 'Retry', id: 'retry' }).then(item => {\n                    if (item && item.id === 'retry') {\n                        void this.initialize(connection);\n                    }\n                    else {\n                        void this.stop();\n                    }\n                });\n            }\n            else {\n                if (error && error.message) {\n                    void vscode_1.window.showErrorMessage(error.message);\n                }\n                this.error('Server initialization failed.', error);\n                void this.stop();\n            }\n            throw error;\n        }\n    }\n    _clientGetRootPath() {\n        let folders = vscode_1.workspace.workspaceFolders;\n        if (!folders || folders.length === 0) {\n            return undefined;\n        }\n        let folder = folders[0];\n        if (folder.uri.scheme === 'file') {\n            return folder.uri.fsPath;\n        }\n        return undefined;\n    }\n    stop(timeout = 2000) {\n        // Wait 2 seconds on stop\n        return this.shutdown('stop', timeout);\n    }\n    dispose(timeout = 2000) {\n        try {\n            this._disposed = 'disposing';\n            return this.stop(timeout);\n        }\n        finally {\n            this._disposed = 'disposed';\n        }\n    }\n    async shutdown(mode, timeout) {\n        // If the client is stopped or in its initial state return.\n        if (this.$state === ClientState.Stopped || this.$state === ClientState.Initial) {\n            return;\n        }\n        // If we are stopping the client and have a stop promise return it.\n        if (this.$state === ClientState.Stopping) {\n            if (this._onStop !== undefined) {\n                return this._onStop;\n            }\n            else {\n                throw new Error(`Client is stopping but no stop promise available.`);\n            }\n        }\n        const connection = this.activeConnection();\n        // We can't stop a client that is not running (e.g. has no connection). Especially not\n        // on that us starting since it can't be correctly synchronized.\n        if (connection === undefined || this.$state !== ClientState.Running) {\n            throw new Error(`Client is not running and can't be stopped. It's current state is: ${this.$state}`);\n        }\n        this._initializeResult = undefined;\n        this.$state = ClientState.Stopping;\n        this.cleanUp(mode);\n        const tp = new Promise(c => { (0, vscode_languageserver_protocol_1.RAL)().timer.setTimeout(c, timeout); });\n        const shutdown = (async (connection) => {\n            await connection.shutdown();\n            await connection.exit();\n            return connection;\n        })(connection);\n        return this._onStop = Promise.race([tp, shutdown]).then((connection) => {\n            // The connection won the race with the timeout.\n            if (connection !== undefined) {\n                connection.end();\n                connection.dispose();\n            }\n            else {\n                this.error(`Stopping server timed out`, undefined, false);\n                throw new Error(`Stopping the server timed out`);\n            }\n        }, (error) => {\n            this.error(`Stopping server failed`, error, false);\n            throw error;\n        }).finally(() => {\n            this.$state = ClientState.Stopped;\n            mode === 'stop' && this.cleanUpChannel();\n            this._onStart = undefined;\n            this._onStop = undefined;\n            this._connection = undefined;\n            this._ignoredRegistrations.clear();\n        });\n    }\n    cleanUp(mode) {\n        // purge outstanding file events.\n        this._fileEvents = [];\n        this._fileEventDelayer.cancel();\n        const disposables = this._listeners.splice(0, this._listeners.length);\n        for (const disposable of disposables) {\n            disposable.dispose();\n        }\n        if (this._syncedDocuments) {\n            this._syncedDocuments.clear();\n        }\n        // Dispose features in reverse order;\n        for (const feature of Array.from(this._features.entries()).map(entry => entry[1]).reverse()) {\n            feature.dispose();\n        }\n        if (mode === 'stop' && this._diagnostics !== undefined) {\n            this._diagnostics.dispose();\n            this._diagnostics = undefined;\n        }\n        if (this._idleInterval !== undefined) {\n            this._idleInterval.dispose();\n            this._idleInterval = undefined;\n        }\n        // this._idleStart = undefined;\n    }\n    cleanUpChannel() {\n        if (this._outputChannel !== undefined && this._disposeOutputChannel) {\n            this._outputChannel.dispose();\n            this._outputChannel = undefined;\n        }\n    }\n    notifyFileEvent(event) {\n        const client = this;\n        async function didChangeWatchedFile(event) {\n            client._fileEvents.push(event);\n            return client._fileEventDelayer.trigger(async () => {\n                const connection = await client.$start();\n                await client.forceDocumentSync();\n                const result = connection.sendNotification(vscode_languageserver_protocol_1.DidChangeWatchedFilesNotification.type, { changes: client._fileEvents });\n                client._fileEvents = [];\n                return result;\n            });\n        }\n        const workSpaceMiddleware = this.clientOptions.middleware?.workspace;\n        (workSpaceMiddleware?.didChangeWatchedFile ? workSpaceMiddleware.didChangeWatchedFile(event, didChangeWatchedFile) : didChangeWatchedFile(event)).catch((error) => {\n            client.error(`Notify file events failed.`, error);\n        });\n    }\n    async forceDocumentSync() {\n        if (this._didChangeTextDocumentFeature === undefined) {\n            this._didChangeTextDocumentFeature = this._dynamicFeatures.get(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type.method);\n        }\n        return this._didChangeTextDocumentFeature.forceDelivery();\n    }\n    handleDiagnostics(params) {\n        if (!this._diagnostics) {\n            return;\n        }\n        const key = params.uri;\n        if (this._diagnosticQueueState.state === 'busy' && this._diagnosticQueueState.document === key) {\n            // Cancel the active run;\n            this._diagnosticQueueState.tokenSource.cancel();\n        }\n        this._diagnosticQueue.set(params.uri, params.diagnostics);\n        this.triggerDiagnosticQueue();\n    }\n    triggerDiagnosticQueue() {\n        (0, vscode_languageserver_protocol_1.RAL)().timer.setImmediate(() => { this.workDiagnosticQueue(); });\n    }\n    workDiagnosticQueue() {\n        if (this._diagnosticQueueState.state === 'busy') {\n            return;\n        }\n        const next = this._diagnosticQueue.entries().next();\n        if (next.done === true) {\n            // Nothing in the queue\n            return;\n        }\n        const [document, diagnostics] = next.value;\n        this._diagnosticQueue.delete(document);\n        const tokenSource = new vscode_1.CancellationTokenSource();\n        this._diagnosticQueueState = { state: 'busy', document: document, tokenSource };\n        this._p2c.asDiagnostics(diagnostics, tokenSource.token).then((converted) => {\n            if (!tokenSource.token.isCancellationRequested) {\n                const uri = this._p2c.asUri(document);\n                const middleware = this.clientOptions.middleware;\n                if (middleware.handleDiagnostics) {\n                    middleware.handleDiagnostics(uri, converted, (uri, diagnostics) => this.setDiagnostics(uri, diagnostics));\n                }\n                else {\n                    this.setDiagnostics(uri, converted);\n                }\n            }\n        }).finally(() => {\n            this._diagnosticQueueState = { state: 'idle' };\n            this.triggerDiagnosticQueue();\n        });\n    }\n    setDiagnostics(uri, diagnostics) {\n        if (!this._diagnostics) {\n            return;\n        }\n        this._diagnostics.set(uri, diagnostics);\n    }\n    async $start() {\n        if (this.$state === ClientState.StartFailed) {\n            throw new Error(`Previous start failed. Can't restart server.`);\n        }\n        await this.start();\n        const connection = this.activeConnection();\n        if (connection === undefined) {\n            throw new Error(`Starting server failed`);\n        }\n        return connection;\n    }\n    async createConnection() {\n        let errorHandler = (error, message, count) => {\n            this.handleConnectionError(error, message, count);\n        };\n        let closeHandler = () => {\n            this.handleConnectionClosed();\n        };\n        const transports = await this.createMessageTransports(this._clientOptions.stdioEncoding || 'utf8');\n        this._connection = createConnection(transports.reader, transports.writer, errorHandler, closeHandler, this._clientOptions.connectionOptions);\n        return this._connection;\n    }\n    handleConnectionClosed() {\n        // Check whether this is a normal shutdown in progress or the client stopped normally.\n        if (this.$state === ClientState.Stopped) {\n            return;\n        }\n        try {\n            if (this._connection !== undefined) {\n                this._connection.dispose();\n            }\n        }\n        catch (error) {\n            // Disposing a connection could fail if error cases.\n        }\n        let handlerResult = { action: CloseAction.DoNotRestart };\n        if (this.$state !== ClientState.Stopping) {\n            try {\n                handlerResult = this._clientOptions.errorHandler.closed();\n            }\n            catch (error) {\n                // Ignore errors coming from the error handler.\n            }\n        }\n        this._connection = undefined;\n        if (handlerResult.action === CloseAction.DoNotRestart) {\n            this.error(handlerResult.message ?? 'Connection to server got closed. Server will not be restarted.', undefined, 'force');\n            this.cleanUp('stop');\n            if (this.$state === ClientState.Starting) {\n                this.$state = ClientState.StartFailed;\n            }\n            else {\n                this.$state = ClientState.Stopped;\n            }\n            this._onStop = Promise.resolve();\n            this._onStart = undefined;\n        }\n        else if (handlerResult.action === CloseAction.Restart) {\n            this.info(handlerResult.message ?? 'Connection to server got closed. Server will restart.');\n            this.cleanUp('restart');\n            this.$state = ClientState.Initial;\n            this._onStop = Promise.resolve();\n            this._onStart = undefined;\n            this.start().catch((error) => this.error(`Restarting server failed`, error, 'force'));\n        }\n    }\n    handleConnectionError(error, message, count) {\n        const handlerResult = this._clientOptions.errorHandler.error(error, message, count);\n        if (handlerResult.action === ErrorAction.Shutdown) {\n            this.error(handlerResult.message ?? `Client ${this._name}: connection to server is erroring. Shutting down server.`, undefined, 'force');\n            this.stop().catch((error) => {\n                this.error(`Stopping server failed`, error, false);\n            });\n        }\n    }\n    hookConfigurationChanged(connection) {\n        this._listeners.push(vscode_1.workspace.onDidChangeConfiguration(() => {\n            this.refreshTrace(connection, true);\n        }));\n    }\n    refreshTrace(connection, sendNotification = false) {\n        const config = vscode_1.workspace.getConfiguration(this._id);\n        let trace = vscode_languageserver_protocol_1.Trace.Off;\n        let traceFormat = vscode_languageserver_protocol_1.TraceFormat.Text;\n        if (config) {\n            const traceConfig = config.get('trace.server', 'off');\n            if (typeof traceConfig === 'string') {\n                trace = vscode_languageserver_protocol_1.Trace.fromString(traceConfig);\n            }\n            else {\n                trace = vscode_languageserver_protocol_1.Trace.fromString(config.get('trace.server.verbosity', 'off'));\n                traceFormat = vscode_languageserver_protocol_1.TraceFormat.fromString(config.get('trace.server.format', 'text'));\n            }\n        }\n        this._trace = trace;\n        this._traceFormat = traceFormat;\n        connection.trace(this._trace, this._tracer, {\n            sendNotification,\n            traceFormat: this._traceFormat\n        }).catch((error) => { this.error(`Updating trace failed with error`, error, false); });\n    }\n    hookFileEvents(_connection) {\n        let fileEvents = this._clientOptions.synchronize.fileEvents;\n        if (!fileEvents) {\n            return;\n        }\n        let watchers;\n        if (Is.array(fileEvents)) {\n            watchers = fileEvents;\n        }\n        else {\n            watchers = [fileEvents];\n        }\n        if (!watchers) {\n            return;\n        }\n        this._dynamicFeatures.get(vscode_languageserver_protocol_1.DidChangeWatchedFilesNotification.type.method).registerRaw(UUID.generateUuid(), watchers);\n    }\n    registerFeatures(features) {\n        for (let feature of features) {\n            this.registerFeature(feature);\n        }\n    }\n    registerFeature(feature) {\n        this._features.push(feature);\n        if (features_1.DynamicFeature.is(feature)) {\n            const registrationType = feature.registrationType;\n            this._dynamicFeatures.set(registrationType.method, feature);\n        }\n    }\n    getFeature(request) {\n        return this._dynamicFeatures.get(request);\n    }\n    hasDedicatedTextSynchronizationFeature(textDocument) {\n        const feature = this.getFeature(vscode_languageserver_protocol_1.NotebookDocumentSyncRegistrationType.method);\n        if (feature === undefined || !(feature instanceof notebook_1.NotebookDocumentSyncFeature)) {\n            return false;\n        }\n        return feature.handles(textDocument);\n    }\n    registerBuiltinFeatures() {\n        this.registerFeature(new configuration_1.ConfigurationFeature(this));\n        this.registerFeature(new textSynchronization_1.DidOpenTextDocumentFeature(this, this._syncedDocuments));\n        this.registerFeature(new textSynchronization_1.DidChangeTextDocumentFeature(this));\n        this.registerFeature(new textSynchronization_1.WillSaveFeature(this));\n        this.registerFeature(new textSynchronization_1.WillSaveWaitUntilFeature(this));\n        this.registerFeature(new textSynchronization_1.DidSaveTextDocumentFeature(this));\n        this.registerFeature(new textSynchronization_1.DidCloseTextDocumentFeature(this, this._syncedDocuments));\n        this.registerFeature(new fileSystemWatcher_1.FileSystemWatcherFeature(this, (event) => this.notifyFileEvent(event)));\n        this.registerFeature(new completion_1.CompletionItemFeature(this));\n        this.registerFeature(new hover_1.HoverFeature(this));\n        this.registerFeature(new signatureHelp_1.SignatureHelpFeature(this));\n        this.registerFeature(new definition_1.DefinitionFeature(this));\n        this.registerFeature(new reference_1.ReferencesFeature(this));\n        this.registerFeature(new documentHighlight_1.DocumentHighlightFeature(this));\n        this.registerFeature(new documentSymbol_1.DocumentSymbolFeature(this));\n        this.registerFeature(new workspaceSymbol_1.WorkspaceSymbolFeature(this));\n        this.registerFeature(new codeAction_1.CodeActionFeature(this));\n        this.registerFeature(new codeLens_1.CodeLensFeature(this));\n        this.registerFeature(new formatting_1.DocumentFormattingFeature(this));\n        this.registerFeature(new formatting_1.DocumentRangeFormattingFeature(this));\n        this.registerFeature(new formatting_1.DocumentOnTypeFormattingFeature(this));\n        this.registerFeature(new rename_1.RenameFeature(this));\n        this.registerFeature(new documentLink_1.DocumentLinkFeature(this));\n        this.registerFeature(new executeCommand_1.ExecuteCommandFeature(this));\n        this.registerFeature(new configuration_1.SyncConfigurationFeature(this));\n        this.registerFeature(new typeDefinition_1.TypeDefinitionFeature(this));\n        this.registerFeature(new implementation_1.ImplementationFeature(this));\n        this.registerFeature(new colorProvider_1.ColorProviderFeature(this));\n        // We only register the workspace folder feature if the client is not locked\n        // to a specific workspace folder.\n        if (this.clientOptions.workspaceFolder === undefined) {\n            this.registerFeature(new workspaceFolder_1.WorkspaceFoldersFeature(this));\n        }\n        this.registerFeature(new foldingRange_1.FoldingRangeFeature(this));\n        this.registerFeature(new declaration_1.DeclarationFeature(this));\n        this.registerFeature(new selectionRange_1.SelectionRangeFeature(this));\n        this.registerFeature(new progress_1.ProgressFeature(this));\n        this.registerFeature(new callHierarchy_1.CallHierarchyFeature(this));\n        this.registerFeature(new semanticTokens_1.SemanticTokensFeature(this));\n        this.registerFeature(new linkedEditingRange_1.LinkedEditingFeature(this));\n        this.registerFeature(new fileOperations_1.DidCreateFilesFeature(this));\n        this.registerFeature(new fileOperations_1.DidRenameFilesFeature(this));\n        this.registerFeature(new fileOperations_1.DidDeleteFilesFeature(this));\n        this.registerFeature(new fileOperations_1.WillCreateFilesFeature(this));\n        this.registerFeature(new fileOperations_1.WillRenameFilesFeature(this));\n        this.registerFeature(new fileOperations_1.WillDeleteFilesFeature(this));\n        this.registerFeature(new typeHierarchy_1.TypeHierarchyFeature(this));\n        this.registerFeature(new inlineValue_1.InlineValueFeature(this));\n        this.registerFeature(new inlayHint_1.InlayHintsFeature(this));\n        this.registerFeature(new diagnostic_1.DiagnosticFeature(this));\n        this.registerFeature(new notebook_1.NotebookDocumentSyncFeature(this));\n    }\n    registerProposedFeatures() {\n        this.registerFeatures(ProposedFeatures.createAll(this));\n    }\n    fillInitializeParams(params) {\n        for (let feature of this._features) {\n            if (Is.func(feature.fillInitializeParams)) {\n                feature.fillInitializeParams(params);\n            }\n        }\n    }\n    computeClientCapabilities() {\n        const result = {};\n        (0, features_1.ensure)(result, 'workspace').applyEdit = true;\n        const workspaceEdit = (0, features_1.ensure)((0, features_1.ensure)(result, 'workspace'), 'workspaceEdit');\n        workspaceEdit.documentChanges = true;\n        workspaceEdit.resourceOperations = [vscode_languageserver_protocol_1.ResourceOperationKind.Create, vscode_languageserver_protocol_1.ResourceOperationKind.Rename, vscode_languageserver_protocol_1.ResourceOperationKind.Delete];\n        workspaceEdit.failureHandling = vscode_languageserver_protocol_1.FailureHandlingKind.TextOnlyTransactional;\n        workspaceEdit.normalizesLineEndings = true;\n        workspaceEdit.changeAnnotationSupport = {\n            groupsOnLabel: true\n        };\n        const diagnostics = (0, features_1.ensure)((0, features_1.ensure)(result, 'textDocument'), 'publishDiagnostics');\n        diagnostics.relatedInformation = true;\n        diagnostics.versionSupport = false;\n        diagnostics.tagSupport = { valueSet: [vscode_languageserver_protocol_1.DiagnosticTag.Unnecessary, vscode_languageserver_protocol_1.DiagnosticTag.Deprecated] };\n        diagnostics.codeDescriptionSupport = true;\n        diagnostics.dataSupport = true;\n        const windowCapabilities = (0, features_1.ensure)(result, 'window');\n        const showMessage = (0, features_1.ensure)(windowCapabilities, 'showMessage');\n        showMessage.messageActionItem = { additionalPropertiesSupport: true };\n        const showDocument = (0, features_1.ensure)(windowCapabilities, 'showDocument');\n        showDocument.support = true;\n        const generalCapabilities = (0, features_1.ensure)(result, 'general');\n        generalCapabilities.staleRequestSupport = {\n            cancel: true,\n            retryOnContentModified: Array.from(BaseLanguageClient.RequestsToCancelOnContentModified)\n        };\n        generalCapabilities.regularExpressions = { engine: 'ECMAScript', version: 'ES2020' };\n        generalCapabilities.markdown = {\n            parser: 'marked',\n            version: '1.1.0',\n        };\n        generalCapabilities.positionEncodings = ['utf-16'];\n        if (this._clientOptions.markdown.supportHtml) {\n            generalCapabilities.markdown.allowedTags = ['ul', 'li', 'p', 'code', 'blockquote', 'ol', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'hr', 'em', 'pre', 'table', 'thead', 'tbody', 'tr', 'th', 'td', 'div', 'del', 'a', 'strong', 'br', 'img', 'span'];\n        }\n        for (let feature of this._features) {\n            feature.fillClientCapabilities(result);\n        }\n        return result;\n    }\n    initializeFeatures(_connection) {\n        const documentSelector = this._clientOptions.documentSelector;\n        for (const feature of this._features) {\n            if (Is.func(feature.preInitialize)) {\n                feature.preInitialize(this._capabilities, documentSelector);\n            }\n        }\n        for (const feature of this._features) {\n            feature.initialize(this._capabilities, documentSelector);\n        }\n    }\n    async handleRegistrationRequest(params) {\n        // We will not receive a registration call before a client is running\n        // from a server. However if we stop or shutdown we might which might\n        // try to restart the server. So ignore registrations if we are not running\n        if (!this.isRunning()) {\n            for (const registration of params.registrations) {\n                this._ignoredRegistrations.add(registration.id);\n            }\n            return;\n        }\n        for (const registration of params.registrations) {\n            const feature = this._dynamicFeatures.get(registration.method);\n            if (feature === undefined) {\n                return Promise.reject(new Error(`No feature implementation for ${registration.method} found. Registration failed.`));\n            }\n            const options = registration.registerOptions ?? {};\n            options.documentSelector = options.documentSelector ?? this._clientOptions.documentSelector;\n            const data = {\n                id: registration.id,\n                registerOptions: options\n            };\n            try {\n                feature.register(data);\n            }\n            catch (err) {\n                return Promise.reject(err);\n            }\n        }\n    }\n    async handleUnregistrationRequest(params) {\n        for (let unregistration of params.unregisterations) {\n            if (this._ignoredRegistrations.has(unregistration.id)) {\n                continue;\n            }\n            const feature = this._dynamicFeatures.get(unregistration.method);\n            if (!feature) {\n                return Promise.reject(new Error(`No feature implementation for ${unregistration.method} found. Unregistration failed.`));\n            }\n            feature.unregister(unregistration.id);\n        }\n    }\n    async handleApplyWorkspaceEdit(params) {\n        const workspaceEdit = params.edit;\n        // Make sure we convert workspace edits one after the other. Otherwise\n        // we might execute a workspace edit received first after we received another\n        // one since the conversion might race.\n        const converted = await this.workspaceEditLock.lock(() => {\n            return this._p2c.asWorkspaceEdit(workspaceEdit);\n        });\n        // This is some sort of workaround since the version check should be done by VS Code in the Workspace.applyEdit.\n        // However doing it here adds some safety since the server can lag more behind then an extension.\n        const openTextDocuments = new Map();\n        vscode_1.workspace.textDocuments.forEach((document) => openTextDocuments.set(document.uri.toString(), document));\n        let versionMismatch = false;\n        if (workspaceEdit.documentChanges) {\n            for (const change of workspaceEdit.documentChanges) {\n                if (vscode_languageserver_protocol_1.TextDocumentEdit.is(change) && change.textDocument.version && change.textDocument.version >= 0) {\n                    const textDocument = openTextDocuments.get(change.textDocument.uri);\n                    if (textDocument && textDocument.version !== change.textDocument.version) {\n                        versionMismatch = true;\n                        break;\n                    }\n                }\n            }\n        }\n        if (versionMismatch) {\n            return Promise.resolve({ applied: false });\n        }\n        return Is.asPromise(vscode_1.workspace.applyEdit(converted).then((value) => { return { applied: value }; }));\n    }\n    handleFailedRequest(type, token, error, defaultValue, showNotification = true) {\n        // If we get a request cancel or a content modified don't log anything.\n        if (error instanceof vscode_languageserver_protocol_1.ResponseError) {\n            // The connection got disposed while we were waiting for a response.\n            // Simply return the default value. Is the best we can do.\n            if (error.code === vscode_languageserver_protocol_1.ErrorCodes.PendingResponseRejected || error.code === vscode_languageserver_protocol_1.ErrorCodes.ConnectionInactive) {\n                return defaultValue;\n            }\n            if (error.code === vscode_languageserver_protocol_1.LSPErrorCodes.RequestCancelled || error.code === vscode_languageserver_protocol_1.LSPErrorCodes.ServerCancelled) {\n                if (token !== undefined && token.isCancellationRequested) {\n                    return defaultValue;\n                }\n                else {\n                    if (error.data !== undefined) {\n                        throw new features_1.LSPCancellationError(error.data);\n                    }\n                    else {\n                        throw new vscode_1.CancellationError();\n                    }\n                }\n            }\n            else if (error.code === vscode_languageserver_protocol_1.LSPErrorCodes.ContentModified) {\n                if (BaseLanguageClient.RequestsToCancelOnContentModified.has(type.method)) {\n                    throw new vscode_1.CancellationError();\n                }\n                else {\n                    return defaultValue;\n                }\n            }\n        }\n        this.error(`Request ${type.method} failed.`, error, showNotification);\n        throw error;\n    }\n}\nexports.BaseLanguageClient = BaseLanguageClient;\nBaseLanguageClient.RequestsToCancelOnContentModified = new Set([\n    vscode_languageserver_protocol_1.SemanticTokensRequest.method,\n    vscode_languageserver_protocol_1.SemanticTokensRangeRequest.method,\n    vscode_languageserver_protocol_1.SemanticTokensDeltaRequest.method\n]);\nclass ConsoleLogger {\n    error(message) {\n        (0, vscode_languageserver_protocol_1.RAL)().console.error(message);\n    }\n    warn(message) {\n        (0, vscode_languageserver_protocol_1.RAL)().console.warn(message);\n    }\n    info(message) {\n        (0, vscode_languageserver_protocol_1.RAL)().console.info(message);\n    }\n    log(message) {\n        (0, vscode_languageserver_protocol_1.RAL)().console.log(message);\n    }\n}\nfunction createConnection(input, output, errorHandler, closeHandler, options) {\n    let _lastUsed = -1;\n    const logger = new ConsoleLogger();\n    const connection = (0, vscode_languageserver_protocol_1.createProtocolConnection)(input, output, logger, options);\n    connection.onError((data) => { errorHandler(data[0], data[1], data[2]); });\n    connection.onClose(closeHandler);\n    const result = {\n        get lastUsed() {\n            return _lastUsed;\n        },\n        resetLastUsed: () => {\n            _lastUsed = -1;\n        },\n        listen: () => connection.listen(),\n        sendRequest: (type, ...params) => {\n            _lastUsed = Date.now();\n            return connection.sendRequest(type, ...params);\n        },\n        onRequest: (type, handler) => connection.onRequest(type, handler),\n        hasPendingResponse: () => connection.hasPendingResponse(),\n        sendNotification: (type, params) => {\n            _lastUsed = Date.now();\n            return connection.sendNotification(type, params);\n        },\n        onNotification: (type, handler) => connection.onNotification(type, handler),\n        onProgress: connection.onProgress,\n        sendProgress: connection.sendProgress,\n        trace: (value, tracer, sendNotificationOrTraceOptions) => {\n            const defaultTraceOptions = {\n                sendNotification: false,\n                traceFormat: vscode_languageserver_protocol_1.TraceFormat.Text\n            };\n            if (sendNotificationOrTraceOptions === undefined) {\n                return connection.trace(value, tracer, defaultTraceOptions);\n            }\n            else if (Is.boolean(sendNotificationOrTraceOptions)) {\n                return connection.trace(value, tracer, sendNotificationOrTraceOptions);\n            }\n            else {\n                return connection.trace(value, tracer, sendNotificationOrTraceOptions);\n            }\n        },\n        initialize: (params) => {\n            _lastUsed = Date.now();\n            return connection.sendRequest(vscode_languageserver_protocol_1.InitializeRequest.type, params);\n        },\n        shutdown: () => {\n            _lastUsed = Date.now();\n            return connection.sendRequest(vscode_languageserver_protocol_1.ShutdownRequest.type, undefined);\n        },\n        exit: () => {\n            _lastUsed = Date.now();\n            return connection.sendNotification(vscode_languageserver_protocol_1.ExitNotification.type);\n        },\n        end: () => connection.end(),\n        dispose: () => connection.dispose()\n    };\n    return result;\n}\n// Exporting proposed protocol.\nvar ProposedFeatures;\n(function (ProposedFeatures) {\n    function createAll(_client) {\n        let result = [];\n        return result;\n    }\n    ProposedFeatures.createAll = createAll;\n})(ProposedFeatures = exports.ProposedFeatures || (exports.ProposedFeatures = {}));\n//# sourceMappingURL=client.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CodeActionFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst UUID = require(\"./utils/uuid\");\nconst features_1 = require(\"./features\");\nclass CodeActionFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.CodeActionRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        const cap = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'codeAction');\n        cap.dynamicRegistration = true;\n        cap.isPreferredSupport = true;\n        cap.disabledSupport = true;\n        cap.dataSupport = true;\n        // We can only resolve the edit property.\n        cap.resolveSupport = {\n            properties: ['edit']\n        };\n        cap.codeActionLiteralSupport = {\n            codeActionKind: {\n                valueSet: [\n                    vscode_languageserver_protocol_1.CodeActionKind.Empty,\n                    vscode_languageserver_protocol_1.CodeActionKind.QuickFix,\n                    vscode_languageserver_protocol_1.CodeActionKind.Refactor,\n                    vscode_languageserver_protocol_1.CodeActionKind.RefactorExtract,\n                    vscode_languageserver_protocol_1.CodeActionKind.RefactorInline,\n                    vscode_languageserver_protocol_1.CodeActionKind.RefactorRewrite,\n                    vscode_languageserver_protocol_1.CodeActionKind.Source,\n                    vscode_languageserver_protocol_1.CodeActionKind.SourceOrganizeImports\n                ]\n            }\n        };\n        cap.honorsChangeAnnotations = false;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.codeActionProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideCodeActions: (document, range, context, token) => {\n                const client = this._client;\n                const _provideCodeActions = async (document, range, context, token) => {\n                    const params = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                        range: client.code2ProtocolConverter.asRange(range),\n                        context: await client.code2ProtocolConverter.asCodeActionContext(context, token)\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.CodeActionRequest.type, params, token).then((values) => {\n                        if (token.isCancellationRequested || values === null || values === undefined) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asCodeActionResult(values, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.CodeActionRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideCodeActions\n                    ? middleware.provideCodeActions(document, range, context, token, _provideCodeActions)\n                    : _provideCodeActions(document, range, context, token);\n            },\n            resolveCodeAction: options.resolveProvider\n                ? (item, token) => {\n                    const client = this._client;\n                    const middleware = this._client.middleware;\n                    const resolveCodeAction = async (item, token) => {\n                        return client.sendRequest(vscode_languageserver_protocol_1.CodeActionResolveRequest.type, await client.code2ProtocolConverter.asCodeAction(item, token), token).then((result) => {\n                            if (token.isCancellationRequested) {\n                                return item;\n                            }\n                            return client.protocol2CodeConverter.asCodeAction(result, token);\n                        }, (error) => {\n                            return client.handleFailedRequest(vscode_languageserver_protocol_1.CodeActionResolveRequest.type, token, error, item);\n                        });\n                    };\n                    return middleware.resolveCodeAction\n                        ? middleware.resolveCodeAction(item, token, resolveCodeAction)\n                        : resolveCodeAction(item, token);\n                }\n                : undefined\n        };\n        return [vscode_1.languages.registerCodeActionsProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider, (options.codeActionKinds\n                ? { providedCodeActionKinds: this._client.protocol2CodeConverter.asCodeActionKinds(options.codeActionKinds) }\n                : undefined)), provider];\n    }\n}\nexports.CodeActionFeature = CodeActionFeature;\n//# sourceMappingURL=codeAction.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createConverter = void 0;\nconst code = require(\"vscode\");\nconst proto = require(\"vscode-languageserver-protocol\");\nconst Is = require(\"./utils/is\");\nconst async = require(\"./utils/async\");\nconst protocolCompletionItem_1 = require(\"./protocolCompletionItem\");\nconst protocolCodeLens_1 = require(\"./protocolCodeLens\");\nconst protocolDocumentLink_1 = require(\"./protocolDocumentLink\");\nconst protocolCodeAction_1 = require(\"./protocolCodeAction\");\nconst protocolDiagnostic_1 = require(\"./protocolDiagnostic\");\nconst protocolCallHierarchyItem_1 = require(\"./protocolCallHierarchyItem\");\nconst protocolTypeHierarchyItem_1 = require(\"./protocolTypeHierarchyItem\");\nconst protocolWorkspaceSymbol_1 = require(\"./protocolWorkspaceSymbol\");\nconst protocolInlayHint_1 = require(\"./protocolInlayHint\");\nvar InsertReplaceRange;\n(function (InsertReplaceRange) {\n    function is(value) {\n        const candidate = value;\n        return candidate && !!candidate.inserting && !!candidate.replacing;\n    }\n    InsertReplaceRange.is = is;\n})(InsertReplaceRange || (InsertReplaceRange = {}));\nfunction createConverter(uriConverter) {\n    const nullConverter = (value) => value.toString();\n    const _uriConverter = uriConverter || nullConverter;\n    function asUri(value) {\n        return _uriConverter(value);\n    }\n    function asTextDocumentIdentifier(textDocument) {\n        return {\n            uri: _uriConverter(textDocument.uri)\n        };\n    }\n    function asTextDocumentItem(textDocument) {\n        return {\n            uri: _uriConverter(textDocument.uri),\n            languageId: textDocument.languageId,\n            version: textDocument.version,\n            text: textDocument.getText()\n        };\n    }\n    function asVersionedTextDocumentIdentifier(textDocument) {\n        return {\n            uri: _uriConverter(textDocument.uri),\n            version: textDocument.version\n        };\n    }\n    function asOpenTextDocumentParams(textDocument) {\n        return {\n            textDocument: asTextDocumentItem(textDocument)\n        };\n    }\n    function isTextDocumentChangeEvent(value) {\n        let candidate = value;\n        return !!candidate.document && !!candidate.contentChanges;\n    }\n    function isTextDocument(value) {\n        let candidate = value;\n        return !!candidate.uri && !!candidate.version;\n    }\n    function asChangeTextDocumentParams(arg) {\n        if (isTextDocument(arg)) {\n            let result = {\n                textDocument: {\n                    uri: _uriConverter(arg.uri),\n                    version: arg.version\n                },\n                contentChanges: [{ text: arg.getText() }]\n            };\n            return result;\n        }\n        else if (isTextDocumentChangeEvent(arg)) {\n            let document = arg.document;\n            let result = {\n                textDocument: {\n                    uri: _uriConverter(document.uri),\n                    version: document.version\n                },\n                contentChanges: arg.contentChanges.map((change) => {\n                    let range = change.range;\n                    return {\n                        range: {\n                            start: { line: range.start.line, character: range.start.character },\n                            end: { line: range.end.line, character: range.end.character }\n                        },\n                        rangeLength: change.rangeLength,\n                        text: change.text\n                    };\n                })\n            };\n            return result;\n        }\n        else {\n            throw Error('Unsupported text document change parameter');\n        }\n    }\n    function asCloseTextDocumentParams(textDocument) {\n        return {\n            textDocument: asTextDocumentIdentifier(textDocument)\n        };\n    }\n    function asSaveTextDocumentParams(textDocument, includeContent = false) {\n        let result = {\n            textDocument: asTextDocumentIdentifier(textDocument)\n        };\n        if (includeContent) {\n            result.text = textDocument.getText();\n        }\n        return result;\n    }\n    function asTextDocumentSaveReason(reason) {\n        switch (reason) {\n            case code.TextDocumentSaveReason.Manual:\n                return proto.TextDocumentSaveReason.Manual;\n            case code.TextDocumentSaveReason.AfterDelay:\n                return proto.TextDocumentSaveReason.AfterDelay;\n            case code.TextDocumentSaveReason.FocusOut:\n                return proto.TextDocumentSaveReason.FocusOut;\n        }\n        return proto.TextDocumentSaveReason.Manual;\n    }\n    function asWillSaveTextDocumentParams(event) {\n        return {\n            textDocument: asTextDocumentIdentifier(event.document),\n            reason: asTextDocumentSaveReason(event.reason)\n        };\n    }\n    function asDidCreateFilesParams(event) {\n        return {\n            files: event.files.map((fileUri) => ({\n                uri: _uriConverter(fileUri),\n            })),\n        };\n    }\n    function asDidRenameFilesParams(event) {\n        return {\n            files: event.files.map((file) => ({\n                oldUri: _uriConverter(file.oldUri),\n                newUri: _uriConverter(file.newUri),\n            })),\n        };\n    }\n    function asDidDeleteFilesParams(event) {\n        return {\n            files: event.files.map((fileUri) => ({\n                uri: _uriConverter(fileUri),\n            })),\n        };\n    }\n    function asWillCreateFilesParams(event) {\n        return {\n            files: event.files.map((fileUri) => ({\n                uri: _uriConverter(fileUri),\n            })),\n        };\n    }\n    function asWillRenameFilesParams(event) {\n        return {\n            files: event.files.map((file) => ({\n                oldUri: _uriConverter(file.oldUri),\n                newUri: _uriConverter(file.newUri),\n            })),\n        };\n    }\n    function asWillDeleteFilesParams(event) {\n        return {\n            files: event.files.map((fileUri) => ({\n                uri: _uriConverter(fileUri),\n            })),\n        };\n    }\n    function asTextDocumentPositionParams(textDocument, position) {\n        return {\n            textDocument: asTextDocumentIdentifier(textDocument),\n            position: asWorkerPosition(position)\n        };\n    }\n    function asCompletionTriggerKind(triggerKind) {\n        switch (triggerKind) {\n            case code.CompletionTriggerKind.TriggerCharacter:\n                return proto.CompletionTriggerKind.TriggerCharacter;\n            case code.CompletionTriggerKind.TriggerForIncompleteCompletions:\n                return proto.CompletionTriggerKind.TriggerForIncompleteCompletions;\n            default:\n                return proto.CompletionTriggerKind.Invoked;\n        }\n    }\n    function asCompletionParams(textDocument, position, context) {\n        return {\n            textDocument: asTextDocumentIdentifier(textDocument),\n            position: asWorkerPosition(position),\n            context: {\n                triggerKind: asCompletionTriggerKind(context.triggerKind),\n                triggerCharacter: context.triggerCharacter\n            }\n        };\n    }\n    function asSignatureHelpTriggerKind(triggerKind) {\n        switch (triggerKind) {\n            case code.SignatureHelpTriggerKind.Invoke:\n                return proto.SignatureHelpTriggerKind.Invoked;\n            case code.SignatureHelpTriggerKind.TriggerCharacter:\n                return proto.SignatureHelpTriggerKind.TriggerCharacter;\n            case code.SignatureHelpTriggerKind.ContentChange:\n                return proto.SignatureHelpTriggerKind.ContentChange;\n        }\n    }\n    function asParameterInformation(value) {\n        // We leave the documentation out on purpose since it usually adds no\n        // value for the server.\n        return {\n            label: value.label\n        };\n    }\n    function asParameterInformations(values) {\n        return values.map(asParameterInformation);\n    }\n    function asSignatureInformation(value) {\n        // We leave the documentation out on purpose since it usually adds no\n        // value for the server.\n        return {\n            label: value.label,\n            parameters: asParameterInformations(value.parameters)\n        };\n    }\n    function asSignatureInformations(values) {\n        return values.map(asSignatureInformation);\n    }\n    function asSignatureHelp(value) {\n        if (value === undefined) {\n            return value;\n        }\n        return {\n            signatures: asSignatureInformations(value.signatures),\n            activeSignature: value.activeSignature,\n            activeParameter: value.activeParameter\n        };\n    }\n    function asSignatureHelpParams(textDocument, position, context) {\n        return {\n            textDocument: asTextDocumentIdentifier(textDocument),\n            position: asWorkerPosition(position),\n            context: {\n                isRetrigger: context.isRetrigger,\n                triggerCharacter: context.triggerCharacter,\n                triggerKind: asSignatureHelpTriggerKind(context.triggerKind),\n                activeSignatureHelp: asSignatureHelp(context.activeSignatureHelp)\n            }\n        };\n    }\n    function asWorkerPosition(position) {\n        return { line: position.line, character: position.character };\n    }\n    function asPosition(value) {\n        if (value === undefined || value === null) {\n            return value;\n        }\n        return { line: value.line > proto.uinteger.MAX_VALUE ? proto.uinteger.MAX_VALUE : value.line, character: value.character > proto.uinteger.MAX_VALUE ? proto.uinteger.MAX_VALUE : value.character };\n    }\n    function asPositions(value, token) {\n        return async.map(value, asPosition, token);\n    }\n    function asRange(value) {\n        if (value === undefined || value === null) {\n            return value;\n        }\n        return { start: asPosition(value.start), end: asPosition(value.end) };\n    }\n    function asLocation(value) {\n        if (value === undefined || value === null) {\n            return value;\n        }\n        return proto.Location.create(asUri(value.uri), asRange(value.range));\n    }\n    function asDiagnosticSeverity(value) {\n        switch (value) {\n            case code.DiagnosticSeverity.Error:\n                return proto.DiagnosticSeverity.Error;\n            case code.DiagnosticSeverity.Warning:\n                return proto.DiagnosticSeverity.Warning;\n            case code.DiagnosticSeverity.Information:\n                return proto.DiagnosticSeverity.Information;\n            case code.DiagnosticSeverity.Hint:\n                return proto.DiagnosticSeverity.Hint;\n        }\n    }\n    function asDiagnosticTags(tags) {\n        if (!tags) {\n            return undefined;\n        }\n        let result = [];\n        for (let tag of tags) {\n            let converted = asDiagnosticTag(tag);\n            if (converted !== undefined) {\n                result.push(converted);\n            }\n        }\n        return result.length > 0 ? result : undefined;\n    }\n    function asDiagnosticTag(tag) {\n        switch (tag) {\n            case code.DiagnosticTag.Unnecessary:\n                return proto.DiagnosticTag.Unnecessary;\n            case code.DiagnosticTag.Deprecated:\n                return proto.DiagnosticTag.Deprecated;\n            default:\n                return undefined;\n        }\n    }\n    function asRelatedInformation(item) {\n        return {\n            message: item.message,\n            location: asLocation(item.location)\n        };\n    }\n    function asRelatedInformations(items) {\n        return items.map(asRelatedInformation);\n    }\n    function asDiagnosticCode(value) {\n        if (value === undefined || value === null) {\n            return undefined;\n        }\n        if (Is.number(value) || Is.string(value)) {\n            return value;\n        }\n        return { value: value.value, target: asUri(value.target) };\n    }\n    function asDiagnostic(item) {\n        const result = proto.Diagnostic.create(asRange(item.range), item.message);\n        const protocolDiagnostic = item instanceof protocolDiagnostic_1.ProtocolDiagnostic ? item : undefined;\n        if (protocolDiagnostic !== undefined && protocolDiagnostic.data !== undefined) {\n            result.data = protocolDiagnostic.data;\n        }\n        const code = asDiagnosticCode(item.code);\n        if (protocolDiagnostic_1.DiagnosticCode.is(code)) {\n            if (protocolDiagnostic !== undefined && protocolDiagnostic.hasDiagnosticCode) {\n                result.code = code;\n            }\n            else {\n                result.code = code.value;\n                result.codeDescription = { href: code.target };\n            }\n        }\n        else {\n            result.code = code;\n        }\n        if (Is.number(item.severity)) {\n            result.severity = asDiagnosticSeverity(item.severity);\n        }\n        if (Array.isArray(item.tags)) {\n            result.tags = asDiagnosticTags(item.tags);\n        }\n        if (item.relatedInformation) {\n            result.relatedInformation = asRelatedInformations(item.relatedInformation);\n        }\n        if (item.source) {\n            result.source = item.source;\n        }\n        return result;\n    }\n    function asDiagnostics(items, token) {\n        if (items === undefined || items === null) {\n            return items;\n        }\n        return async.map(items, asDiagnostic, token);\n    }\n    function asDocumentation(format, documentation) {\n        switch (format) {\n            case '$string':\n                return documentation;\n            case proto.MarkupKind.PlainText:\n                return { kind: format, value: documentation };\n            case proto.MarkupKind.Markdown:\n                return { kind: format, value: documentation.value };\n            default:\n                return `Unsupported Markup content received. Kind is: ${format}`;\n        }\n    }\n    function asCompletionItemTag(tag) {\n        switch (tag) {\n            case code.CompletionItemTag.Deprecated:\n                return proto.CompletionItemTag.Deprecated;\n        }\n        return undefined;\n    }\n    function asCompletionItemTags(tags) {\n        if (tags === undefined) {\n            return tags;\n        }\n        const result = [];\n        for (let tag of tags) {\n            const converted = asCompletionItemTag(tag);\n            if (converted !== undefined) {\n                result.push(converted);\n            }\n        }\n        return result;\n    }\n    function asCompletionItemKind(value, original) {\n        if (original !== undefined) {\n            return original;\n        }\n        return value + 1;\n    }\n    function asCompletionItem(item, labelDetailsSupport = false) {\n        let label;\n        let labelDetails;\n        if (Is.string(item.label)) {\n            label = item.label;\n        }\n        else {\n            label = item.label.label;\n            if (labelDetailsSupport && (item.label.detail !== undefined || item.label.description !== undefined)) {\n                labelDetails = { detail: item.label.detail, description: item.label.description };\n            }\n        }\n        let result = { label: label };\n        if (labelDetails !== undefined) {\n            result.labelDetails = labelDetails;\n        }\n        let protocolItem = item instanceof protocolCompletionItem_1.default ? item : undefined;\n        if (item.detail) {\n            result.detail = item.detail;\n        }\n        // We only send items back we created. So this can't be something else than\n        // a string right now.\n        if (item.documentation) {\n            if (!protocolItem || protocolItem.documentationFormat === '$string') {\n                result.documentation = item.documentation;\n            }\n            else {\n                result.documentation = asDocumentation(protocolItem.documentationFormat, item.documentation);\n            }\n        }\n        if (item.filterText) {\n            result.filterText = item.filterText;\n        }\n        fillPrimaryInsertText(result, item);\n        if (Is.number(item.kind)) {\n            result.kind = asCompletionItemKind(item.kind, protocolItem && protocolItem.originalItemKind);\n        }\n        if (item.sortText) {\n            result.sortText = item.sortText;\n        }\n        if (item.additionalTextEdits) {\n            result.additionalTextEdits = asTextEdits(item.additionalTextEdits);\n        }\n        if (item.commitCharacters) {\n            result.commitCharacters = item.commitCharacters.slice();\n        }\n        if (item.command) {\n            result.command = asCommand(item.command);\n        }\n        if (item.preselect === true || item.preselect === false) {\n            result.preselect = item.preselect;\n        }\n        const tags = asCompletionItemTags(item.tags);\n        if (protocolItem) {\n            if (protocolItem.data !== undefined) {\n                result.data = protocolItem.data;\n            }\n            if (protocolItem.deprecated === true || protocolItem.deprecated === false) {\n                if (protocolItem.deprecated === true && tags !== undefined && tags.length > 0) {\n                    const index = tags.indexOf(code.CompletionItemTag.Deprecated);\n                    if (index !== -1) {\n                        tags.splice(index, 1);\n                    }\n                }\n                result.deprecated = protocolItem.deprecated;\n            }\n            if (protocolItem.insertTextMode !== undefined) {\n                result.insertTextMode = protocolItem.insertTextMode;\n            }\n        }\n        if (tags !== undefined && tags.length > 0) {\n            result.tags = tags;\n        }\n        if (result.insertTextMode === undefined && item.keepWhitespace === true) {\n            result.insertTextMode = proto.InsertTextMode.adjustIndentation;\n        }\n        return result;\n    }\n    function fillPrimaryInsertText(target, source) {\n        let format = proto.InsertTextFormat.PlainText;\n        let text = undefined;\n        let range = undefined;\n        if (source.textEdit) {\n            text = source.textEdit.newText;\n            range = source.textEdit.range;\n        }\n        else if (source.insertText instanceof code.SnippetString) {\n            format = proto.InsertTextFormat.Snippet;\n            text = source.insertText.value;\n        }\n        else {\n            text = source.insertText;\n        }\n        if (source.range) {\n            range = source.range;\n        }\n        target.insertTextFormat = format;\n        if (source.fromEdit && text !== undefined && range !== undefined) {\n            target.textEdit = asCompletionTextEdit(text, range);\n        }\n        else {\n            target.insertText = text;\n        }\n    }\n    function asCompletionTextEdit(newText, range) {\n        if (InsertReplaceRange.is(range)) {\n            return proto.InsertReplaceEdit.create(newText, asRange(range.inserting), asRange(range.replacing));\n        }\n        else {\n            return { newText, range: asRange(range) };\n        }\n    }\n    function asTextEdit(edit) {\n        return { range: asRange(edit.range), newText: edit.newText };\n    }\n    function asTextEdits(edits) {\n        if (edits === undefined || edits === null) {\n            return edits;\n        }\n        return edits.map(asTextEdit);\n    }\n    function asSymbolKind(item) {\n        if (item <= code.SymbolKind.TypeParameter) {\n            // Symbol kind is one based in the protocol and zero based in code.\n            return (item + 1);\n        }\n        return proto.SymbolKind.Property;\n    }\n    function asSymbolTag(item) {\n        return item;\n    }\n    function asSymbolTags(items) {\n        return items.map(asSymbolTag);\n    }\n    function asReferenceParams(textDocument, position, options) {\n        return {\n            textDocument: asTextDocumentIdentifier(textDocument),\n            position: asWorkerPosition(position),\n            context: { includeDeclaration: options.includeDeclaration }\n        };\n    }\n    async function asCodeAction(item, token) {\n        let result = proto.CodeAction.create(item.title);\n        if (item instanceof protocolCodeAction_1.default && item.data !== undefined) {\n            result.data = item.data;\n        }\n        if (item.kind !== undefined) {\n            result.kind = asCodeActionKind(item.kind);\n        }\n        if (item.diagnostics !== undefined) {\n            result.diagnostics = await asDiagnostics(item.diagnostics, token);\n        }\n        if (item.edit !== undefined) {\n            throw new Error(`VS Code code actions can only be converted to a protocol code action without an edit.`);\n        }\n        if (item.command !== undefined) {\n            result.command = asCommand(item.command);\n        }\n        if (item.isPreferred !== undefined) {\n            result.isPreferred = item.isPreferred;\n        }\n        if (item.disabled !== undefined) {\n            result.disabled = { reason: item.disabled.reason };\n        }\n        return result;\n    }\n    async function asCodeActionContext(context, token) {\n        if (context === undefined || context === null) {\n            return context;\n        }\n        let only;\n        if (context.only && Is.string(context.only.value)) {\n            only = [context.only.value];\n        }\n        return proto.CodeActionContext.create(await asDiagnostics(context.diagnostics, token), only, asCodeActionTriggerKind(context.triggerKind));\n    }\n    function asCodeActionTriggerKind(kind) {\n        switch (kind) {\n            case code.CodeActionTriggerKind.Invoke:\n                return proto.CodeActionTriggerKind.Invoked;\n            case code.CodeActionTriggerKind.Automatic:\n                return proto.CodeActionTriggerKind.Automatic;\n            default:\n                return undefined;\n        }\n    }\n    function asCodeActionKind(item) {\n        if (item === undefined || item === null) {\n            return undefined;\n        }\n        return item.value;\n    }\n    function asInlineValueContext(context) {\n        if (context === undefined || context === null) {\n            return context;\n        }\n        return proto.InlineValueContext.create(context.frameId, asRange(context.stoppedLocation));\n    }\n    function asCommand(item) {\n        let result = proto.Command.create(item.title, item.command);\n        if (item.arguments) {\n            result.arguments = item.arguments;\n        }\n        return result;\n    }\n    function asCodeLens(item) {\n        let result = proto.CodeLens.create(asRange(item.range));\n        if (item.command) {\n            result.command = asCommand(item.command);\n        }\n        if (item instanceof protocolCodeLens_1.default) {\n            if (item.data) {\n                result.data = item.data;\n            }\n        }\n        return result;\n    }\n    function asFormattingOptions(options, fileOptions) {\n        const result = { tabSize: options.tabSize, insertSpaces: options.insertSpaces };\n        if (fileOptions.trimTrailingWhitespace) {\n            result.trimTrailingWhitespace = true;\n        }\n        if (fileOptions.trimFinalNewlines) {\n            result.trimFinalNewlines = true;\n        }\n        if (fileOptions.insertFinalNewline) {\n            result.insertFinalNewline = true;\n        }\n        return result;\n    }\n    function asDocumentSymbolParams(textDocument) {\n        return {\n            textDocument: asTextDocumentIdentifier(textDocument)\n        };\n    }\n    function asCodeLensParams(textDocument) {\n        return {\n            textDocument: asTextDocumentIdentifier(textDocument)\n        };\n    }\n    function asDocumentLink(item) {\n        let result = proto.DocumentLink.create(asRange(item.range));\n        if (item.target) {\n            result.target = asUri(item.target);\n        }\n        if (item.tooltip !== undefined) {\n            result.tooltip = item.tooltip;\n        }\n        let protocolItem = item instanceof protocolDocumentLink_1.default ? item : undefined;\n        if (protocolItem && protocolItem.data) {\n            result.data = protocolItem.data;\n        }\n        return result;\n    }\n    function asDocumentLinkParams(textDocument) {\n        return {\n            textDocument: asTextDocumentIdentifier(textDocument)\n        };\n    }\n    function asCallHierarchyItem(value) {\n        const result = {\n            name: value.name,\n            kind: asSymbolKind(value.kind),\n            uri: asUri(value.uri),\n            range: asRange(value.range),\n            selectionRange: asRange(value.selectionRange)\n        };\n        if (value.detail !== undefined && value.detail.length > 0) {\n            result.detail = value.detail;\n        }\n        if (value.tags !== undefined) {\n            result.tags = asSymbolTags(value.tags);\n        }\n        if (value instanceof protocolCallHierarchyItem_1.default && value.data !== undefined) {\n            result.data = value.data;\n        }\n        return result;\n    }\n    function asTypeHierarchyItem(value) {\n        const result = {\n            name: value.name,\n            kind: asSymbolKind(value.kind),\n            uri: asUri(value.uri),\n            range: asRange(value.range),\n            selectionRange: asRange(value.selectionRange),\n        };\n        if (value.detail !== undefined && value.detail.length > 0) {\n            result.detail = value.detail;\n        }\n        if (value.tags !== undefined) {\n            result.tags = asSymbolTags(value.tags);\n        }\n        if (value instanceof protocolTypeHierarchyItem_1.default && value.data !== undefined) {\n            result.data = value.data;\n        }\n        return result;\n    }\n    function asWorkspaceSymbol(item) {\n        const result = item instanceof protocolWorkspaceSymbol_1.default\n            ? { name: item.name, kind: asSymbolKind(item.kind), location: item.hasRange ? asLocation(item.location) : { uri: _uriConverter(item.location.uri) }, data: item.data }\n            : { name: item.name, kind: asSymbolKind(item.kind), location: asLocation(item.location) };\n        if (item.tags !== undefined) {\n            result.tags = asSymbolTags(item.tags);\n        }\n        if (item.containerName !== '') {\n            result.containerName = item.containerName;\n        }\n        return result;\n    }\n    function asInlayHint(item) {\n        const label = typeof item.label === 'string'\n            ? item.label\n            : item.label.map(asInlayHintLabelPart);\n        const result = proto.InlayHint.create(asPosition(item.position), label);\n        if (item.kind !== undefined) {\n            result.kind = item.kind;\n        }\n        if (item.textEdits !== undefined) {\n            result.textEdits = asTextEdits(item.textEdits);\n        }\n        if (item.tooltip !== undefined) {\n            result.tooltip = asTooltip(item.tooltip);\n        }\n        if (item.paddingLeft !== undefined) {\n            result.paddingLeft = item.paddingLeft;\n        }\n        if (item.paddingRight !== undefined) {\n            result.paddingRight = item.paddingRight;\n        }\n        if (item instanceof protocolInlayHint_1.default && item.data !== undefined) {\n            result.data = item.data;\n        }\n        return result;\n    }\n    function asInlayHintLabelPart(item) {\n        const result = proto.InlayHintLabelPart.create(item.value);\n        if (item.location !== undefined) {\n            result.location = asLocation(item.location);\n        }\n        if (item.command !== undefined) {\n            result.command = asCommand(item.command);\n        }\n        if (item.tooltip !== undefined) {\n            result.tooltip = asTooltip(item.tooltip);\n        }\n        return result;\n    }\n    function asTooltip(value) {\n        if (typeof value === 'string') {\n            return value;\n        }\n        const result = {\n            kind: proto.MarkupKind.Markdown,\n            value: value.value\n        };\n        return result;\n    }\n    return {\n        asUri,\n        asTextDocumentIdentifier,\n        asTextDocumentItem,\n        asVersionedTextDocumentIdentifier,\n        asOpenTextDocumentParams,\n        asChangeTextDocumentParams,\n        asCloseTextDocumentParams,\n        asSaveTextDocumentParams,\n        asWillSaveTextDocumentParams,\n        asDidCreateFilesParams,\n        asDidRenameFilesParams,\n        asDidDeleteFilesParams,\n        asWillCreateFilesParams,\n        asWillRenameFilesParams,\n        asWillDeleteFilesParams,\n        asTextDocumentPositionParams,\n        asCompletionParams,\n        asSignatureHelpParams,\n        asWorkerPosition,\n        asRange,\n        asPosition,\n        asPositions,\n        asLocation,\n        asDiagnosticSeverity,\n        asDiagnosticTag,\n        asDiagnostic,\n        asDiagnostics,\n        asCompletionItem,\n        asTextEdit,\n        asSymbolKind,\n        asSymbolTag,\n        asSymbolTags,\n        asReferenceParams,\n        asCodeAction,\n        asCodeActionContext,\n        asInlineValueContext,\n        asCommand,\n        asCodeLens,\n        asFormattingOptions,\n        asDocumentSymbolParams,\n        asCodeLensParams,\n        asDocumentLink,\n        asDocumentLinkParams,\n        asCallHierarchyItem,\n        asTypeHierarchyItem,\n        asInlayHint,\n        asWorkspaceSymbol\n    };\n}\nexports.createConverter = createConverter;\n//# sourceMappingURL=codeConverter.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CodeLensFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst UUID = require(\"./utils/uuid\");\nconst features_1 = require(\"./features\");\nclass CodeLensFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.CodeLensRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'codeLens').dynamicRegistration = true;\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'workspace'), 'codeLens').refreshSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const client = this._client;\n        client.onRequest(vscode_languageserver_protocol_1.CodeLensRefreshRequest.type, async () => {\n            for (const provider of this.getAllProviders()) {\n                provider.onDidChangeCodeLensEmitter.fire();\n            }\n        });\n        const options = this.getRegistrationOptions(documentSelector, capabilities.codeLensProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const eventEmitter = new vscode_1.EventEmitter();\n        const provider = {\n            onDidChangeCodeLenses: eventEmitter.event,\n            provideCodeLenses: (document, token) => {\n                const client = this._client;\n                const provideCodeLenses = (document, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.CodeLensRequest.type, client.code2ProtocolConverter.asCodeLensParams(document), token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asCodeLenses(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.CodeLensRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideCodeLenses\n                    ? middleware.provideCodeLenses(document, token, provideCodeLenses)\n                    : provideCodeLenses(document, token);\n            },\n            resolveCodeLens: (options.resolveProvider)\n                ? (codeLens, token) => {\n                    const client = this._client;\n                    const resolveCodeLens = (codeLens, token) => {\n                        return client.sendRequest(vscode_languageserver_protocol_1.CodeLensResolveRequest.type, client.code2ProtocolConverter.asCodeLens(codeLens), token).then((result) => {\n                            if (token.isCancellationRequested) {\n                                return codeLens;\n                            }\n                            return client.protocol2CodeConverter.asCodeLens(result);\n                        }, (error) => {\n                            return client.handleFailedRequest(vscode_languageserver_protocol_1.CodeLensResolveRequest.type, token, error, codeLens);\n                        });\n                    };\n                    const middleware = client.middleware;\n                    return middleware.resolveCodeLens\n                        ? middleware.resolveCodeLens(codeLens, token, resolveCodeLens)\n                        : resolveCodeLens(codeLens, token);\n                }\n                : undefined\n        };\n        return [vscode_1.languages.registerCodeLensProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider), { provider, onDidChangeCodeLensEmitter: eventEmitter }];\n    }\n}\nexports.CodeLensFeature = CodeLensFeature;\n//# sourceMappingURL=codeLens.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ColorProviderFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nclass ColorProviderFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DocumentColorRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'colorProvider').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let [id, options] = this.getRegistration(documentSelector, capabilities.colorProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideColorPresentations: (color, context, token) => {\n                const client = this._client;\n                const provideColorPresentations = (color, context, token) => {\n                    const requestParams = {\n                        color,\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(context.document),\n                        range: client.code2ProtocolConverter.asRange(context.range)\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.ColorPresentationRequest.type, requestParams, token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return this._client.protocol2CodeConverter.asColorPresentations(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.ColorPresentationRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideColorPresentations\n                    ? middleware.provideColorPresentations(color, context, token, provideColorPresentations)\n                    : provideColorPresentations(color, context, token);\n            },\n            provideDocumentColors: (document, token) => {\n                const client = this._client;\n                const provideDocumentColors = (document, token) => {\n                    const requestParams = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document)\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentColorRequest.type, requestParams, token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return this._client.protocol2CodeConverter.asColorInformations(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentColorRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideDocumentColors\n                    ? middleware.provideDocumentColors(document, token, provideDocumentColors)\n                    : provideDocumentColors(document, token);\n            }\n        };\n        return [vscode_1.languages.registerColorProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider), provider];\n    }\n}\nexports.ColorProviderFeature = ColorProviderFeature;\n//# sourceMappingURL=colorProvider.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CompletionItemFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nconst UUID = require(\"./utils/uuid\");\nconst SupportedCompletionItemKinds = [\n    vscode_languageserver_protocol_1.CompletionItemKind.Text,\n    vscode_languageserver_protocol_1.CompletionItemKind.Method,\n    vscode_languageserver_protocol_1.CompletionItemKind.Function,\n    vscode_languageserver_protocol_1.CompletionItemKind.Constructor,\n    vscode_languageserver_protocol_1.CompletionItemKind.Field,\n    vscode_languageserver_protocol_1.CompletionItemKind.Variable,\n    vscode_languageserver_protocol_1.CompletionItemKind.Class,\n    vscode_languageserver_protocol_1.CompletionItemKind.Interface,\n    vscode_languageserver_protocol_1.CompletionItemKind.Module,\n    vscode_languageserver_protocol_1.CompletionItemKind.Property,\n    vscode_languageserver_protocol_1.CompletionItemKind.Unit,\n    vscode_languageserver_protocol_1.CompletionItemKind.Value,\n    vscode_languageserver_protocol_1.CompletionItemKind.Enum,\n    vscode_languageserver_protocol_1.CompletionItemKind.Keyword,\n    vscode_languageserver_protocol_1.CompletionItemKind.Snippet,\n    vscode_languageserver_protocol_1.CompletionItemKind.Color,\n    vscode_languageserver_protocol_1.CompletionItemKind.File,\n    vscode_languageserver_protocol_1.CompletionItemKind.Reference,\n    vscode_languageserver_protocol_1.CompletionItemKind.Folder,\n    vscode_languageserver_protocol_1.CompletionItemKind.EnumMember,\n    vscode_languageserver_protocol_1.CompletionItemKind.Constant,\n    vscode_languageserver_protocol_1.CompletionItemKind.Struct,\n    vscode_languageserver_protocol_1.CompletionItemKind.Event,\n    vscode_languageserver_protocol_1.CompletionItemKind.Operator,\n    vscode_languageserver_protocol_1.CompletionItemKind.TypeParameter\n];\nclass CompletionItemFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.CompletionRequest.type);\n        this.labelDetailsSupport = new Map();\n    }\n    fillClientCapabilities(capabilities) {\n        let completion = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'completion');\n        completion.dynamicRegistration = true;\n        completion.contextSupport = true;\n        completion.completionItem = {\n            snippetSupport: true,\n            commitCharactersSupport: true,\n            documentationFormat: [vscode_languageserver_protocol_1.MarkupKind.Markdown, vscode_languageserver_protocol_1.MarkupKind.PlainText],\n            deprecatedSupport: true,\n            preselectSupport: true,\n            tagSupport: { valueSet: [vscode_languageserver_protocol_1.CompletionItemTag.Deprecated] },\n            insertReplaceSupport: true,\n            resolveSupport: {\n                properties: ['documentation', 'detail', 'additionalTextEdits']\n            },\n            insertTextModeSupport: { valueSet: [vscode_languageserver_protocol_1.InsertTextMode.asIs, vscode_languageserver_protocol_1.InsertTextMode.adjustIndentation] },\n            labelDetailsSupport: true\n        };\n        completion.insertTextMode = vscode_languageserver_protocol_1.InsertTextMode.adjustIndentation;\n        completion.completionItemKind = { valueSet: SupportedCompletionItemKinds };\n        completion.completionList = {\n            itemDefaults: [\n                'commitCharacters', 'editRange', 'insertTextFormat', 'insertTextMode'\n            ]\n        };\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.completionProvider);\n        if (!options) {\n            return;\n        }\n        this.register({\n            id: UUID.generateUuid(),\n            registerOptions: options\n        });\n    }\n    registerLanguageProvider(options, id) {\n        this.labelDetailsSupport.set(id, !!options.completionItem?.labelDetailsSupport);\n        const triggerCharacters = options.triggerCharacters ?? [];\n        const defaultCommitCharacters = options.allCommitCharacters;\n        const selector = options.documentSelector;\n        const provider = {\n            provideCompletionItems: (document, position, token, context) => {\n                const client = this._client;\n                const middleware = this._client.middleware;\n                const provideCompletionItems = (document, position, context, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.CompletionRequest.type, client.code2ProtocolConverter.asCompletionParams(document, position, context), token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asCompletionResult(result, defaultCommitCharacters, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.CompletionRequest.type, token, error, null);\n                    });\n                };\n                return middleware.provideCompletionItem\n                    ? middleware.provideCompletionItem(document, position, context, token, provideCompletionItems)\n                    : provideCompletionItems(document, position, context, token);\n            },\n            resolveCompletionItem: options.resolveProvider\n                ? (item, token) => {\n                    const client = this._client;\n                    const middleware = this._client.middleware;\n                    const resolveCompletionItem = (item, token) => {\n                        return client.sendRequest(vscode_languageserver_protocol_1.CompletionResolveRequest.type, client.code2ProtocolConverter.asCompletionItem(item, !!this.labelDetailsSupport.get(id)), token).then((result) => {\n                            if (token.isCancellationRequested) {\n                                return null;\n                            }\n                            return client.protocol2CodeConverter.asCompletionItem(result);\n                        }, (error) => {\n                            return client.handleFailedRequest(vscode_languageserver_protocol_1.CompletionResolveRequest.type, token, error, item);\n                        });\n                    };\n                    return middleware.resolveCompletionItem\n                        ? middleware.resolveCompletionItem(item, token, resolveCompletionItem)\n                        : resolveCompletionItem(item, token);\n                }\n                : undefined\n        };\n        return [vscode_1.languages.registerCompletionItemProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider, ...triggerCharacters), provider];\n    }\n}\nexports.CompletionItemFeature = CompletionItemFeature;\n//# sourceMappingURL=completion.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SyncConfigurationFeature = exports.toJSONObject = exports.ConfigurationFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst Is = require(\"./utils/is\");\nconst UUID = require(\"./utils/uuid\");\nconst features_1 = require(\"./features\");\n/**\n * Configuration pull model. From server to client.\n */\nclass ConfigurationFeature {\n    constructor(client) {\n        this._client = client;\n    }\n    getState() {\n        return { kind: 'static' };\n    }\n    fillClientCapabilities(capabilities) {\n        capabilities.workspace = capabilities.workspace || {};\n        capabilities.workspace.configuration = true;\n    }\n    initialize() {\n        let client = this._client;\n        client.onRequest(vscode_languageserver_protocol_1.ConfigurationRequest.type, (params, token) => {\n            let configuration = (params) => {\n                let result = [];\n                for (let item of params.items) {\n                    let resource = item.scopeUri !== void 0 && item.scopeUri !== null ? this._client.protocol2CodeConverter.asUri(item.scopeUri) : undefined;\n                    result.push(this.getConfiguration(resource, item.section !== null ? item.section : undefined));\n                }\n                return result;\n            };\n            let middleware = client.middleware.workspace;\n            return middleware && middleware.configuration\n                ? middleware.configuration(params, token, configuration)\n                : configuration(params, token);\n        });\n    }\n    getConfiguration(resource, section) {\n        let result = null;\n        if (section) {\n            let index = section.lastIndexOf('.');\n            if (index === -1) {\n                result = toJSONObject(vscode_1.workspace.getConfiguration(undefined, resource).get(section));\n            }\n            else {\n                let config = vscode_1.workspace.getConfiguration(section.substr(0, index), resource);\n                if (config) {\n                    result = toJSONObject(config.get(section.substr(index + 1)));\n                }\n            }\n        }\n        else {\n            let config = vscode_1.workspace.getConfiguration(undefined, resource);\n            result = {};\n            for (let key of Object.keys(config)) {\n                if (config.has(key)) {\n                    result[key] = toJSONObject(config.get(key));\n                }\n            }\n        }\n        if (result === undefined) {\n            result = null;\n        }\n        return result;\n    }\n    dispose() {\n    }\n}\nexports.ConfigurationFeature = ConfigurationFeature;\nfunction toJSONObject(obj) {\n    if (obj) {\n        if (Array.isArray(obj)) {\n            return obj.map(toJSONObject);\n        }\n        else if (typeof obj === 'object') {\n            const res = Object.create(null);\n            for (const key in obj) {\n                if (Object.prototype.hasOwnProperty.call(obj, key)) {\n                    res[key] = toJSONObject(obj[key]);\n                }\n            }\n            return res;\n        }\n    }\n    return obj;\n}\nexports.toJSONObject = toJSONObject;\nclass SyncConfigurationFeature {\n    constructor(_client) {\n        this._client = _client;\n        this._listeners = new Map();\n    }\n    getState() {\n        return { kind: 'workspace', id: this.registrationType.method, registrations: this._listeners.size > 0 };\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type;\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'workspace'), 'didChangeConfiguration').dynamicRegistration = true;\n    }\n    initialize() {\n        let section = this._client.clientOptions.synchronize?.configurationSection;\n        if (section !== undefined) {\n            this.register({\n                id: UUID.generateUuid(),\n                registerOptions: {\n                    section: section\n                }\n            });\n        }\n    }\n    register(data) {\n        let disposable = vscode_1.workspace.onDidChangeConfiguration((event) => {\n            this.onDidChangeConfiguration(data.registerOptions.section, event);\n        });\n        this._listeners.set(data.id, disposable);\n        if (data.registerOptions.section !== undefined) {\n            this.onDidChangeConfiguration(data.registerOptions.section, undefined);\n        }\n    }\n    unregister(id) {\n        let disposable = this._listeners.get(id);\n        if (disposable) {\n            this._listeners.delete(id);\n            disposable.dispose();\n        }\n    }\n    dispose() {\n        for (const disposable of this._listeners.values()) {\n            disposable.dispose();\n        }\n        this._listeners.clear();\n    }\n    onDidChangeConfiguration(configurationSection, event) {\n        let sections;\n        if (Is.string(configurationSection)) {\n            sections = [configurationSection];\n        }\n        else {\n            sections = configurationSection;\n        }\n        if (sections !== undefined && event !== undefined) {\n            let affected = sections.some((section) => event.affectsConfiguration(section));\n            if (!affected) {\n                return;\n            }\n        }\n        const didChangeConfiguration = async (sections) => {\n            if (sections === undefined) {\n                return this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type, { settings: null });\n            }\n            else {\n                return this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type, { settings: this.extractSettingsInformation(sections) });\n            }\n        };\n        let middleware = this._client.middleware.workspace?.didChangeConfiguration;\n        (middleware ? middleware(sections, didChangeConfiguration) : didChangeConfiguration(sections)).catch((error) => {\n            this._client.error(`Sending notification ${vscode_languageserver_protocol_1.DidChangeConfigurationNotification.type.method} failed`, error);\n        });\n    }\n    extractSettingsInformation(keys) {\n        function ensurePath(config, path) {\n            let current = config;\n            for (let i = 0; i < path.length - 1; i++) {\n                let obj = current[path[i]];\n                if (!obj) {\n                    obj = Object.create(null);\n                    current[path[i]] = obj;\n                }\n                current = obj;\n            }\n            return current;\n        }\n        let resource = this._client.clientOptions.workspaceFolder\n            ? this._client.clientOptions.workspaceFolder.uri\n            : undefined;\n        let result = Object.create(null);\n        for (let i = 0; i < keys.length; i++) {\n            let key = keys[i];\n            let index = key.indexOf('.');\n            let config = null;\n            if (index >= 0) {\n                config = vscode_1.workspace.getConfiguration(key.substr(0, index), resource).get(key.substr(index + 1));\n            }\n            else {\n                config = vscode_1.workspace.getConfiguration(undefined, resource).get(key);\n            }\n            if (config) {\n                let path = keys[i].split('.');\n                ensurePath(result, path)[path[path.length - 1]] = toJSONObject(config);\n            }\n        }\n        return result;\n    }\n}\nexports.SyncConfigurationFeature = SyncConfigurationFeature;\n//# sourceMappingURL=configuration.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DeclarationFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nclass DeclarationFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DeclarationRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        const declarationSupport = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'declaration');\n        declarationSupport.dynamicRegistration = true;\n        declarationSupport.linkSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const [id, options] = this.getRegistration(documentSelector, capabilities.declarationProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideDeclaration: (document, position, token) => {\n                const client = this._client;\n                const provideDeclaration = (document, position, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.DeclarationRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asDeclarationResult(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DeclarationRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideDeclaration\n                    ? middleware.provideDeclaration(document, position, token, provideDeclaration)\n                    : provideDeclaration(document, position, token);\n            }\n        };\n        return [this.registerProvider(selector, provider), provider];\n    }\n    registerProvider(selector, provider) {\n        return vscode_1.languages.registerDeclarationProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider);\n    }\n}\nexports.DeclarationFeature = DeclarationFeature;\n//# sourceMappingURL=declaration.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DefinitionFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nconst UUID = require(\"./utils/uuid\");\nclass DefinitionFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DefinitionRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        let definitionSupport = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'definition');\n        definitionSupport.dynamicRegistration = true;\n        definitionSupport.linkSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.definitionProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideDefinition: (document, position, token) => {\n                const client = this._client;\n                const provideDefinition = (document, position, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.DefinitionRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asDefinitionResult(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DefinitionRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideDefinition\n                    ? middleware.provideDefinition(document, position, token, provideDefinition)\n                    : provideDefinition(document, position, token);\n            }\n        };\n        return [this.registerProvider(selector, provider), provider];\n    }\n    registerProvider(selector, provider) {\n        return vscode_1.languages.registerDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider);\n    }\n}\nexports.DefinitionFeature = DefinitionFeature;\n//# sourceMappingURL=definition.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DiagnosticFeature = exports.DiagnosticPullMode = exports.vsdiag = void 0;\nconst minimatch = require(\"minimatch\");\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst uuid_1 = require(\"./utils/uuid\");\nconst features_1 = require(\"./features\");\nfunction ensure(target, key) {\n    if (target[key] === void 0) {\n        target[key] = {};\n    }\n    return target[key];\n}\nvar vsdiag;\n(function (vsdiag) {\n    let DocumentDiagnosticReportKind;\n    (function (DocumentDiagnosticReportKind) {\n        DocumentDiagnosticReportKind[\"full\"] = \"full\";\n        DocumentDiagnosticReportKind[\"unChanged\"] = \"unChanged\";\n    })(DocumentDiagnosticReportKind = vsdiag.DocumentDiagnosticReportKind || (vsdiag.DocumentDiagnosticReportKind = {}));\n})(vsdiag = exports.vsdiag || (exports.vsdiag = {}));\nvar DiagnosticPullMode;\n(function (DiagnosticPullMode) {\n    DiagnosticPullMode[\"onType\"] = \"onType\";\n    DiagnosticPullMode[\"onSave\"] = \"onSave\";\n})(DiagnosticPullMode = exports.DiagnosticPullMode || (exports.DiagnosticPullMode = {}));\nvar RequestStateKind;\n(function (RequestStateKind) {\n    RequestStateKind[\"active\"] = \"open\";\n    RequestStateKind[\"reschedule\"] = \"reschedule\";\n    RequestStateKind[\"outDated\"] = \"drop\";\n})(RequestStateKind || (RequestStateKind = {}));\n/**\n * Manages the open tabs. We don't directly use the tab API since for\n * diagnostics we need to de-dupe tabs that show the same resources since\n * we pull on the model not the UI.\n */\nclass Tabs {\n    constructor() {\n        this.open = new Set();\n        this._onOpen = new vscode_1.EventEmitter();\n        this._onClose = new vscode_1.EventEmitter();\n        Tabs.fillTabResources(this.open);\n        const openTabsHandler = (event) => {\n            if (event.closed.length === 0 && event.opened.length === 0) {\n                return;\n            }\n            const oldTabs = this.open;\n            const currentTabs = new Set();\n            Tabs.fillTabResources(currentTabs);\n            const closed = new Set();\n            const opened = new Set(currentTabs);\n            for (const tab of oldTabs.values()) {\n                if (currentTabs.has(tab)) {\n                    opened.delete(tab);\n                }\n                else {\n                    closed.add(tab);\n                }\n            }\n            this.open = currentTabs;\n            if (closed.size > 0) {\n                const toFire = new Set();\n                for (const item of closed) {\n                    toFire.add(vscode_1.Uri.parse(item));\n                }\n                this._onClose.fire(toFire);\n            }\n            if (opened.size > 0) {\n                const toFire = new Set();\n                for (const item of opened) {\n                    toFire.add(vscode_1.Uri.parse(item));\n                }\n                this._onOpen.fire(toFire);\n            }\n        };\n        if (vscode_1.window.tabGroups.onDidChangeTabs !== undefined) {\n            this.disposable = vscode_1.window.tabGroups.onDidChangeTabs(openTabsHandler);\n        }\n        else {\n            this.disposable = { dispose: () => { } };\n        }\n    }\n    get onClose() {\n        return this._onClose.event;\n    }\n    get onOpen() {\n        return this._onOpen.event;\n    }\n    dispose() {\n        this.disposable.dispose();\n    }\n    isActive(document) {\n        return document instanceof vscode_1.Uri\n            ? vscode_1.window.activeTextEditor?.document.uri === document\n            : vscode_1.window.activeTextEditor?.document === document;\n    }\n    isVisible(document) {\n        const uri = document instanceof vscode_1.Uri ? document : document.uri;\n        return this.open.has(uri.toString());\n    }\n    getTabResources() {\n        const result = new Set();\n        Tabs.fillTabResources(new Set(), result);\n        return result;\n    }\n    static fillTabResources(strings, uris) {\n        const seen = strings ?? new Set();\n        for (const group of vscode_1.window.tabGroups.all) {\n            for (const tab of group.tabs) {\n                const input = tab.input;\n                let uri;\n                if (input instanceof vscode_1.TabInputText) {\n                    uri = input.uri;\n                }\n                else if (input instanceof vscode_1.TabInputTextDiff) {\n                    uri = input.modified;\n                }\n                if (uri !== undefined && !seen.has(uri.toString())) {\n                    seen.add(uri.toString());\n                    uris !== undefined && uris.add(uri);\n                }\n            }\n        }\n    }\n}\nvar PullState;\n(function (PullState) {\n    PullState[PullState[\"document\"] = 1] = \"document\";\n    PullState[PullState[\"workspace\"] = 2] = \"workspace\";\n})(PullState || (PullState = {}));\nclass DocumentPullStateTracker {\n    constructor() {\n        this.documentPullStates = new Map();\n        this.workspacePullStates = new Map();\n    }\n    track(kind, document, arg1) {\n        const states = kind === PullState.document ? this.documentPullStates : this.workspacePullStates;\n        const [key, uri, version] = document instanceof vscode_1.Uri\n            ? [document.toString(), document, arg1]\n            : [document.uri.toString(), document.uri, document.version];\n        let state = states.get(key);\n        if (state === undefined) {\n            state = { document: uri, pulledVersion: version, resultId: undefined };\n            states.set(key, state);\n        }\n        return state;\n    }\n    update(kind, document, arg1, arg2) {\n        const states = kind === PullState.document ? this.documentPullStates : this.workspacePullStates;\n        const [key, uri, version, resultId] = document instanceof vscode_1.Uri\n            ? [document.toString(), document, arg1, arg2]\n            : [document.uri.toString(), document.uri, document.version, arg1];\n        let state = states.get(key);\n        if (state === undefined) {\n            state = { document: uri, pulledVersion: version, resultId };\n            states.set(key, state);\n        }\n        else {\n            state.pulledVersion = version;\n            state.resultId = resultId;\n        }\n    }\n    unTrack(kind, document) {\n        const key = document instanceof vscode_1.Uri ? document.toString() : document.uri.toString();\n        const states = kind === PullState.document ? this.documentPullStates : this.workspacePullStates;\n        states.delete(key);\n    }\n    tracks(kind, document) {\n        const key = document instanceof vscode_1.Uri ? document.toString() : document.uri.toString();\n        const states = kind === PullState.document ? this.documentPullStates : this.workspacePullStates;\n        return states.has(key);\n    }\n    getResultId(kind, document) {\n        const key = document instanceof vscode_1.Uri ? document.toString() : document.uri.toString();\n        const states = kind === PullState.document ? this.documentPullStates : this.workspacePullStates;\n        return states.get(key)?.resultId;\n    }\n    getAllResultIds() {\n        const result = [];\n        for (let [uri, value] of this.workspacePullStates) {\n            if (this.documentPullStates.has(uri)) {\n                value = this.documentPullStates.get(uri);\n            }\n            if (value.resultId !== undefined) {\n                result.push({ uri, value: value.resultId });\n            }\n        }\n        return result;\n    }\n}\nclass DiagnosticRequestor {\n    constructor(client, tabs, options) {\n        this.client = client;\n        this.tabs = tabs;\n        this.options = options;\n        this.isDisposed = false;\n        this.onDidChangeDiagnosticsEmitter = new vscode_1.EventEmitter();\n        this.provider = this.createProvider();\n        this.diagnostics = vscode_1.languages.createDiagnosticCollection(options.identifier);\n        this.openRequests = new Map();\n        this.documentStates = new DocumentPullStateTracker();\n        this.workspaceErrorCounter = 0;\n    }\n    knows(kind, document) {\n        return this.documentStates.tracks(kind, document);\n    }\n    forget(kind, document) {\n        this.documentStates.unTrack(kind, document);\n    }\n    pull(document, cb) {\n        if (this.isDisposed) {\n            return;\n        }\n        const uri = document instanceof vscode_1.Uri ? document : document.uri;\n        this.pullAsync(document).then(() => {\n            if (cb) {\n                cb();\n            }\n        }, (error) => {\n            this.client.error(`Document pull failed for text document ${uri.toString()}`, error, false);\n        });\n    }\n    async pullAsync(document, version) {\n        if (this.isDisposed) {\n            return;\n        }\n        const isUri = document instanceof vscode_1.Uri;\n        const uri = isUri ? document : document.uri;\n        const key = uri.toString();\n        version = isUri ? version : document.version;\n        const currentRequestState = this.openRequests.get(key);\n        const documentState = isUri\n            ? this.documentStates.track(PullState.document, document, version)\n            : this.documentStates.track(PullState.document, document);\n        if (currentRequestState === undefined) {\n            const tokenSource = new vscode_1.CancellationTokenSource();\n            this.openRequests.set(key, { state: RequestStateKind.active, document: document, version: version, tokenSource });\n            let report;\n            let afterState;\n            try {\n                report = await this.provider.provideDiagnostics(document, documentState.resultId, tokenSource.token) ?? { kind: vsdiag.DocumentDiagnosticReportKind.full, items: [] };\n            }\n            catch (error) {\n                if (error instanceof features_1.LSPCancellationError && vscode_languageserver_protocol_1.DiagnosticServerCancellationData.is(error.data) && error.data.retriggerRequest === false) {\n                    afterState = { state: RequestStateKind.outDated, document };\n                }\n                if (afterState === undefined && error instanceof vscode_1.CancellationError) {\n                    afterState = { state: RequestStateKind.reschedule, document };\n                }\n                else {\n                    throw error;\n                }\n            }\n            afterState = afterState ?? this.openRequests.get(key);\n            if (afterState === undefined) {\n                // This shouldn't happen. Log it\n                this.client.error(`Lost request state in diagnostic pull model. Clearing diagnostics for ${key}`);\n                this.diagnostics.delete(uri);\n                return;\n            }\n            this.openRequests.delete(key);\n            if (!this.tabs.isVisible(document)) {\n                this.documentStates.unTrack(PullState.document, document);\n                return;\n            }\n            if (afterState.state === RequestStateKind.outDated) {\n                return;\n            }\n            // report is only undefined if the request has thrown.\n            if (report !== undefined) {\n                if (report.kind === vsdiag.DocumentDiagnosticReportKind.full) {\n                    this.diagnostics.set(uri, report.items);\n                }\n                documentState.pulledVersion = version;\n                documentState.resultId = report.resultId;\n            }\n            if (afterState.state === RequestStateKind.reschedule) {\n                this.pull(document);\n            }\n        }\n        else {\n            if (currentRequestState.state === RequestStateKind.active) {\n                // Cancel the current request and reschedule a new one when the old one returned.\n                currentRequestState.tokenSource.cancel();\n                this.openRequests.set(key, { state: RequestStateKind.reschedule, document: currentRequestState.document });\n            }\n            else if (currentRequestState.state === RequestStateKind.outDated) {\n                this.openRequests.set(key, { state: RequestStateKind.reschedule, document: currentRequestState.document });\n            }\n        }\n    }\n    forgetDocument(document) {\n        const uri = document instanceof vscode_1.Uri ? document : document.uri;\n        const key = uri.toString();\n        const request = this.openRequests.get(key);\n        if (this.options.workspaceDiagnostics) {\n            // If we run workspace diagnostic pull a last time for the diagnostics\n            // and the rely on getting them from the workspace result.\n            if (request !== undefined) {\n                this.openRequests.set(key, { state: RequestStateKind.reschedule, document: document });\n            }\n            else {\n                this.pull(document, () => {\n                    this.forget(PullState.document, document);\n                });\n            }\n        }\n        else {\n            // We have normal pull or inter file dependencies. In this case we\n            // clear the diagnostics (to have the same start as after startup).\n            // We also cancel outstanding requests.\n            if (request !== undefined) {\n                if (request.state === RequestStateKind.active) {\n                    request.tokenSource.cancel();\n                }\n                this.openRequests.set(key, { state: RequestStateKind.outDated, document: document });\n            }\n            this.diagnostics.delete(uri);\n            this.forget(PullState.document, document);\n        }\n    }\n    pullWorkspace() {\n        if (this.isDisposed) {\n            return;\n        }\n        this.pullWorkspaceAsync().then(() => {\n            this.workspaceTimeout = (0, vscode_languageserver_protocol_1.RAL)().timer.setTimeout(() => {\n                this.pullWorkspace();\n            }, 2000);\n        }, (error) => {\n            if (!(error instanceof features_1.LSPCancellationError) && !vscode_languageserver_protocol_1.DiagnosticServerCancellationData.is(error.data)) {\n                this.client.error(`Workspace diagnostic pull failed.`, error, false);\n                this.workspaceErrorCounter++;\n            }\n            if (this.workspaceErrorCounter <= 5) {\n                this.workspaceTimeout = (0, vscode_languageserver_protocol_1.RAL)().timer.setTimeout(() => {\n                    this.pullWorkspace();\n                }, 2000);\n            }\n        });\n    }\n    async pullWorkspaceAsync() {\n        if (!this.provider.provideWorkspaceDiagnostics || this.isDisposed) {\n            return;\n        }\n        if (this.workspaceCancellation !== undefined) {\n            this.workspaceCancellation.cancel();\n            this.workspaceCancellation = undefined;\n        }\n        this.workspaceCancellation = new vscode_1.CancellationTokenSource();\n        const previousResultIds = this.documentStates.getAllResultIds().map((item) => {\n            return {\n                uri: this.client.protocol2CodeConverter.asUri(item.uri),\n                value: item.value\n            };\n        });\n        await this.provider.provideWorkspaceDiagnostics(previousResultIds, this.workspaceCancellation.token, (chunk) => {\n            if (!chunk || this.isDisposed) {\n                return;\n            }\n            for (const item of chunk.items) {\n                if (item.kind === vsdiag.DocumentDiagnosticReportKind.full) {\n                    // Favour document pull result over workspace results. So skip if it is tracked\n                    // as a document result.\n                    if (!this.documentStates.tracks(PullState.document, item.uri)) {\n                        this.diagnostics.set(item.uri, item.items);\n                    }\n                }\n                this.documentStates.update(PullState.workspace, item.uri, item.version ?? undefined, item.resultId);\n            }\n        });\n    }\n    createProvider() {\n        const result = {\n            onDidChangeDiagnostics: this.onDidChangeDiagnosticsEmitter.event,\n            provideDiagnostics: (document, previousResultId, token) => {\n                const provideDiagnostics = (document, previousResultId, token) => {\n                    const params = {\n                        identifier: this.options.identifier,\n                        textDocument: { uri: this.client.code2ProtocolConverter.asUri(document instanceof vscode_1.Uri ? document : document.uri) },\n                        previousResultId: previousResultId\n                    };\n                    if (this.isDisposed === true || !this.client.isRunning()) {\n                        return { kind: vsdiag.DocumentDiagnosticReportKind.full, items: [] };\n                    }\n                    return this.client.sendRequest(vscode_languageserver_protocol_1.DocumentDiagnosticRequest.type, params, token).then(async (result) => {\n                        if (result === undefined || result === null || this.isDisposed || token.isCancellationRequested) {\n                            return { kind: vsdiag.DocumentDiagnosticReportKind.full, items: [] };\n                        }\n                        if (result.kind === vscode_languageserver_protocol_1.DocumentDiagnosticReportKind.Full) {\n                            return { kind: vsdiag.DocumentDiagnosticReportKind.full, resultId: result.resultId, items: await this.client.protocol2CodeConverter.asDiagnostics(result.items, token) };\n                        }\n                        else {\n                            return { kind: vsdiag.DocumentDiagnosticReportKind.unChanged, resultId: result.resultId };\n                        }\n                    }, (error) => {\n                        return this.client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentDiagnosticRequest.type, token, error, { kind: vsdiag.DocumentDiagnosticReportKind.full, items: [] });\n                    });\n                };\n                const middleware = this.client.middleware;\n                return middleware.provideDiagnostics\n                    ? middleware.provideDiagnostics(document, previousResultId, token, provideDiagnostics)\n                    : provideDiagnostics(document, previousResultId, token);\n            }\n        };\n        if (this.options.workspaceDiagnostics) {\n            result.provideWorkspaceDiagnostics = (resultIds, token, resultReporter) => {\n                const convertReport = async (report) => {\n                    if (report.kind === vscode_languageserver_protocol_1.DocumentDiagnosticReportKind.Full) {\n                        return {\n                            kind: vsdiag.DocumentDiagnosticReportKind.full,\n                            uri: this.client.protocol2CodeConverter.asUri(report.uri),\n                            resultId: report.resultId,\n                            version: report.version,\n                            items: await this.client.protocol2CodeConverter.asDiagnostics(report.items, token)\n                        };\n                    }\n                    else {\n                        return {\n                            kind: vsdiag.DocumentDiagnosticReportKind.unChanged,\n                            uri: this.client.protocol2CodeConverter.asUri(report.uri),\n                            resultId: report.resultId,\n                            version: report.version\n                        };\n                    }\n                };\n                const convertPreviousResultIds = (resultIds) => {\n                    const converted = [];\n                    for (const item of resultIds) {\n                        converted.push({ uri: this.client.code2ProtocolConverter.asUri(item.uri), value: item.value });\n                    }\n                    return converted;\n                };\n                const provideDiagnostics = (resultIds, token) => {\n                    const partialResultToken = (0, uuid_1.generateUuid)();\n                    const disposable = this.client.onProgress(vscode_languageserver_protocol_1.WorkspaceDiagnosticRequest.partialResult, partialResultToken, async (partialResult) => {\n                        if (partialResult === undefined || partialResult === null) {\n                            resultReporter(null);\n                            return;\n                        }\n                        const converted = {\n                            items: []\n                        };\n                        for (const item of partialResult.items) {\n                            try {\n                                converted.items.push(await convertReport(item));\n                            }\n                            catch (error) {\n                                this.client.error(`Converting workspace diagnostics failed.`, error);\n                            }\n                        }\n                        resultReporter(converted);\n                    });\n                    const params = {\n                        identifier: this.options.identifier,\n                        previousResultIds: convertPreviousResultIds(resultIds),\n                        partialResultToken: partialResultToken\n                    };\n                    if (this.isDisposed === true || !this.client.isRunning()) {\n                        return { items: [] };\n                    }\n                    return this.client.sendRequest(vscode_languageserver_protocol_1.WorkspaceDiagnosticRequest.type, params, token).then(async (result) => {\n                        if (token.isCancellationRequested) {\n                            return { items: [] };\n                        }\n                        const converted = {\n                            items: []\n                        };\n                        for (const item of result.items) {\n                            converted.items.push(await convertReport(item));\n                        }\n                        disposable.dispose();\n                        resultReporter(converted);\n                        return { items: [] };\n                    }, (error) => {\n                        disposable.dispose();\n                        return this.client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentDiagnosticRequest.type, token, error, { items: [] });\n                    });\n                };\n                const middleware = this.client.middleware;\n                return middleware.provideWorkspaceDiagnostics\n                    ? middleware.provideWorkspaceDiagnostics(resultIds, token, resultReporter, provideDiagnostics)\n                    : provideDiagnostics(resultIds, token, resultReporter);\n            };\n        }\n        return result;\n    }\n    dispose() {\n        this.isDisposed = true;\n        // Cancel and clear workspace pull if present.\n        this.workspaceCancellation?.cancel();\n        this.workspaceTimeout?.dispose();\n        // Cancel all request and mark open requests as outdated.\n        for (const [key, request] of this.openRequests) {\n            if (request.state === RequestStateKind.active) {\n                request.tokenSource.cancel();\n            }\n            this.openRequests.set(key, { state: RequestStateKind.outDated, document: request.document });\n        }\n        // cleanup old diagnostics\n        this.diagnostics.dispose();\n    }\n}\nclass BackgroundScheduler {\n    constructor(diagnosticRequestor) {\n        this.diagnosticRequestor = diagnosticRequestor;\n        this.documents = new vscode_languageserver_protocol_1.LinkedMap();\n        this.isDisposed = false;\n    }\n    add(document) {\n        if (this.isDisposed === true) {\n            return;\n        }\n        const key = document instanceof vscode_1.Uri ? document.toString() : document.uri.toString();\n        if (this.documents.has(key)) {\n            return;\n        }\n        this.documents.set(key, document, vscode_languageserver_protocol_1.Touch.Last);\n        this.trigger();\n    }\n    remove(document) {\n        const key = document instanceof vscode_1.Uri ? document.toString() : document.uri.toString();\n        if (this.documents.has(key)) {\n            this.documents.delete(key);\n            // Do a last pull\n            this.diagnosticRequestor.pull(document);\n        }\n        // No more documents. Stop background activity.\n        if (this.documents.size === 0) {\n            this.stop();\n        }\n        else if (document === this.endDocument) {\n            // Make sure we have a correct last document. It could have\n            this.endDocument = this.documents.last;\n        }\n    }\n    trigger() {\n        if (this.isDisposed === true) {\n            return;\n        }\n        // We have a round running. So simply make sure we run up to the\n        // last document\n        if (this.intervalHandle !== undefined) {\n            this.endDocument = this.documents.last;\n            return;\n        }\n        this.endDocument = this.documents.last;\n        this.intervalHandle = (0, vscode_languageserver_protocol_1.RAL)().timer.setInterval(() => {\n            const document = this.documents.first;\n            if (document !== undefined) {\n                const key = document instanceof vscode_1.Uri ? document.toString() : document.uri.toString();\n                this.diagnosticRequestor.pull(document);\n                this.documents.set(key, document, vscode_languageserver_protocol_1.Touch.Last);\n                if (document === this.endDocument) {\n                    this.stop();\n                }\n            }\n        }, 200);\n    }\n    dispose() {\n        this.isDisposed = true;\n        this.stop();\n        this.documents.clear();\n    }\n    stop() {\n        this.intervalHandle?.dispose();\n        this.intervalHandle = undefined;\n        this.endDocument = undefined;\n    }\n}\nclass DiagnosticFeatureProviderImpl {\n    constructor(client, tabs, options) {\n        const diagnosticPullOptions = client.clientOptions.diagnosticPullOptions ?? { onChange: true, onSave: false };\n        const documentSelector = client.protocol2CodeConverter.asDocumentSelector(options.documentSelector);\n        const disposables = [];\n        const matchResource = (resource) => {\n            const selector = options.documentSelector;\n            if (diagnosticPullOptions.match !== undefined) {\n                return diagnosticPullOptions.match(selector, resource);\n            }\n            for (const filter of selector) {\n                if (!vscode_languageserver_protocol_1.TextDocumentFilter.is(filter)) {\n                    continue;\n                }\n                // The filter is a language id. We can't determine if it matches\n                // so we return false.\n                if (typeof filter === 'string') {\n                    return false;\n                }\n                if (filter.language !== undefined && filter.language !== '*') {\n                    return false;\n                }\n                if (filter.scheme !== undefined && filter.scheme !== '*' && filter.scheme !== resource.scheme) {\n                    return false;\n                }\n                if (filter.pattern !== undefined) {\n                    const matcher = new minimatch.Minimatch(filter.pattern, { noext: true });\n                    if (!matcher.makeRe()) {\n                        return false;\n                    }\n                    if (!matcher.match(resource.fsPath)) {\n                        return false;\n                    }\n                }\n            }\n            return true;\n        };\n        const matches = (document) => {\n            return document instanceof vscode_1.Uri\n                ? matchResource(document)\n                : vscode_1.languages.match(documentSelector, document) > 0 && tabs.isVisible(document);\n        };\n        const isActiveDocument = (document) => {\n            return document instanceof vscode_1.Uri\n                ? this.activeTextDocument?.uri.toString() === document.toString()\n                : this.activeTextDocument === document;\n        };\n        this.diagnosticRequestor = new DiagnosticRequestor(client, tabs, options);\n        this.backgroundScheduler = new BackgroundScheduler(this.diagnosticRequestor);\n        const addToBackgroundIfNeeded = (document) => {\n            if (!matches(document) || !options.interFileDependencies || isActiveDocument(document)) {\n                return;\n            }\n            this.backgroundScheduler.add(document);\n        };\n        this.activeTextDocument = vscode_1.window.activeTextEditor?.document;\n        vscode_1.window.onDidChangeActiveTextEditor((editor) => {\n            const oldActive = this.activeTextDocument;\n            this.activeTextDocument = editor?.document;\n            if (oldActive !== undefined) {\n                addToBackgroundIfNeeded(oldActive);\n            }\n            if (this.activeTextDocument !== undefined) {\n                this.backgroundScheduler.remove(this.activeTextDocument);\n            }\n        });\n        // For pull model diagnostics we pull for documents visible in the UI.\n        // From an eventing point of view we still rely on open document events\n        // and filter the documents that are not visible in the UI instead of\n        // listening to Tab events. Major reason is event timing since we need\n        // to ensure that the pull is send after the document open has reached\n        // the server.\n        // We always pull on open.\n        const openFeature = client.getFeature(vscode_languageserver_protocol_1.DidOpenTextDocumentNotification.method);\n        disposables.push(openFeature.onNotificationSent((event) => {\n            const textDocument = event.original;\n            if (matches(textDocument)) {\n                this.diagnosticRequestor.pull(textDocument, () => { addToBackgroundIfNeeded(textDocument); });\n            }\n        }));\n        // Pull all diagnostics for documents that are already open\n        const pulledTextDocuments = new Set();\n        for (const textDocument of vscode_1.workspace.textDocuments) {\n            if (matches(textDocument)) {\n                this.diagnosticRequestor.pull(textDocument, () => { addToBackgroundIfNeeded(textDocument); });\n                pulledTextDocuments.add(textDocument.uri.toString());\n            }\n        }\n        // Pull all tabs if not already pulled as text document\n        if (diagnosticPullOptions.onTabs === true) {\n            for (const resource of tabs.getTabResources()) {\n                if (!pulledTextDocuments.has(resource.toString()) && matches(resource)) {\n                    this.diagnosticRequestor.pull(resource, () => { addToBackgroundIfNeeded(resource); });\n                }\n            }\n        }\n        tabs.onOpen((opened) => {\n            for (const document of opened) {\n                if (matches(document) && !this.diagnosticRequestor.knows(PullState.document, document)) {\n                    this.diagnosticRequestor.pull(document, () => { addToBackgroundIfNeeded(document); });\n                }\n            }\n        });\n        if (diagnosticPullOptions.onChange === true) {\n            const changeFeature = client.getFeature(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.method);\n            disposables.push(changeFeature.onNotificationSent(async (event) => {\n                const textDocument = event.original.document;\n                if ((diagnosticPullOptions.filter === undefined || !diagnosticPullOptions.filter(textDocument, DiagnosticPullMode.onType)) && this.diagnosticRequestor.knows(PullState.document, textDocument) && event.original.contentChanges.length > 0) {\n                    this.diagnosticRequestor.pull(textDocument, () => { this.backgroundScheduler.trigger(); });\n                }\n            }));\n        }\n        if (diagnosticPullOptions.onSave === true) {\n            const saveFeature = client.getFeature(vscode_languageserver_protocol_1.DidSaveTextDocumentNotification.method);\n            disposables.push(saveFeature.onNotificationSent((event) => {\n                const textDocument = event.original;\n                if ((diagnosticPullOptions.filter === undefined || !diagnosticPullOptions.filter(textDocument, DiagnosticPullMode.onSave)) && this.diagnosticRequestor.knows(PullState.document, textDocument)) {\n                    this.diagnosticRequestor.pull(event.original, () => { this.backgroundScheduler.trigger(); });\n                }\n            }));\n        }\n        // When the document closes clear things up\n        const closeFeature = client.getFeature(vscode_languageserver_protocol_1.DidCloseTextDocumentNotification.method);\n        disposables.push(closeFeature.onNotificationSent((event) => {\n            this.cleanUpDocument(event.original);\n        }));\n        // Same when a tabs closes.\n        tabs.onClose((closed) => {\n            for (const document of closed) {\n                this.cleanUpDocument(document);\n            }\n        });\n        // We received a did change from the server.\n        this.diagnosticRequestor.onDidChangeDiagnosticsEmitter.event(() => {\n            for (const textDocument of vscode_1.workspace.textDocuments) {\n                if (matches(textDocument)) {\n                    this.diagnosticRequestor.pull(textDocument);\n                }\n            }\n        });\n        // da348dc5-c30a-4515-9d98-31ff3be38d14 is the test UUID to test the middle ware. So don't auto trigger pulls.\n        if (options.workspaceDiagnostics === true && options.identifier !== 'da348dc5-c30a-4515-9d98-31ff3be38d14') {\n            this.diagnosticRequestor.pullWorkspace();\n        }\n        this.disposable = vscode_1.Disposable.from(...disposables, this.backgroundScheduler, this.diagnosticRequestor);\n    }\n    get onDidChangeDiagnosticsEmitter() {\n        return this.diagnosticRequestor.onDidChangeDiagnosticsEmitter;\n    }\n    get diagnostics() {\n        return this.diagnosticRequestor.provider;\n    }\n    cleanUpDocument(document) {\n        if (this.diagnosticRequestor.knows(PullState.document, document)) {\n            this.diagnosticRequestor.forgetDocument(document);\n            this.backgroundScheduler.remove(document);\n        }\n    }\n}\nclass DiagnosticFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DocumentDiagnosticRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        let capability = ensure(ensure(capabilities, 'textDocument'), 'diagnostic');\n        capability.dynamicRegistration = true;\n        // We first need to decide how a UI will look with related documents.\n        // An easy implementation would be to only show related diagnostics for\n        // the active editor.\n        capability.relatedDocumentSupport = false;\n        ensure(ensure(capabilities, 'workspace'), 'diagnostics').refreshSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const client = this._client;\n        client.onRequest(vscode_languageserver_protocol_1.DiagnosticRefreshRequest.type, async () => {\n            for (const provider of this.getAllProviders()) {\n                provider.onDidChangeDiagnosticsEmitter.fire();\n            }\n        });\n        let [id, options] = this.getRegistration(documentSelector, capabilities.diagnosticProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    dispose() {\n        if (this.tabs !== undefined) {\n            this.tabs.dispose();\n            this.tabs = undefined;\n        }\n        super.dispose();\n    }\n    registerLanguageProvider(options) {\n        if (this.tabs === undefined) {\n            this.tabs = new Tabs();\n        }\n        const provider = new DiagnosticFeatureProviderImpl(this._client, this.tabs, options);\n        return [provider.disposable, provider];\n    }\n}\nexports.DiagnosticFeature = DiagnosticFeature;\n//# sourceMappingURL=diagnostic.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DocumentHighlightFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nconst UUID = require(\"./utils/uuid\");\nclass DocumentHighlightFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DocumentHighlightRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'documentHighlight').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.documentHighlightProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideDocumentHighlights: (document, position, token) => {\n                const client = this._client;\n                const _provideDocumentHighlights = (document, position, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentHighlightRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asDocumentHighlights(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentHighlightRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideDocumentHighlights\n                    ? middleware.provideDocumentHighlights(document, position, token, _provideDocumentHighlights)\n                    : _provideDocumentHighlights(document, position, token);\n            }\n        };\n        return [vscode_1.languages.registerDocumentHighlightProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider), provider];\n    }\n}\nexports.DocumentHighlightFeature = DocumentHighlightFeature;\n//# sourceMappingURL=documentHighlight.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DocumentLinkFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nconst UUID = require(\"./utils/uuid\");\nclass DocumentLinkFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DocumentLinkRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        const documentLinkCapabilities = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'documentLink');\n        documentLinkCapabilities.dynamicRegistration = true;\n        documentLinkCapabilities.tooltipSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.documentLinkProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideDocumentLinks: (document, token) => {\n                const client = this._client;\n                const provideDocumentLinks = (document, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentLinkRequest.type, client.code2ProtocolConverter.asDocumentLinkParams(document), token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asDocumentLinks(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentLinkRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideDocumentLinks\n                    ? middleware.provideDocumentLinks(document, token, provideDocumentLinks)\n                    : provideDocumentLinks(document, token);\n            },\n            resolveDocumentLink: options.resolveProvider\n                ? (link, token) => {\n                    const client = this._client;\n                    let resolveDocumentLink = (link, token) => {\n                        return client.sendRequest(vscode_languageserver_protocol_1.DocumentLinkResolveRequest.type, client.code2ProtocolConverter.asDocumentLink(link), token).then((result) => {\n                            if (token.isCancellationRequested) {\n                                return link;\n                            }\n                            return client.protocol2CodeConverter.asDocumentLink(result);\n                        }, (error) => {\n                            return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentLinkResolveRequest.type, token, error, link);\n                        });\n                    };\n                    const middleware = client.middleware;\n                    return middleware.resolveDocumentLink\n                        ? middleware.resolveDocumentLink(link, token, resolveDocumentLink)\n                        : resolveDocumentLink(link, token);\n                }\n                : undefined\n        };\n        return [vscode_1.languages.registerDocumentLinkProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider), provider];\n    }\n}\nexports.DocumentLinkFeature = DocumentLinkFeature;\n//# sourceMappingURL=documentLink.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DocumentSymbolFeature = exports.SupportedSymbolTags = exports.SupportedSymbolKinds = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nconst UUID = require(\"./utils/uuid\");\nexports.SupportedSymbolKinds = [\n    vscode_languageserver_protocol_1.SymbolKind.File,\n    vscode_languageserver_protocol_1.SymbolKind.Module,\n    vscode_languageserver_protocol_1.SymbolKind.Namespace,\n    vscode_languageserver_protocol_1.SymbolKind.Package,\n    vscode_languageserver_protocol_1.SymbolKind.Class,\n    vscode_languageserver_protocol_1.SymbolKind.Method,\n    vscode_languageserver_protocol_1.SymbolKind.Property,\n    vscode_languageserver_protocol_1.SymbolKind.Field,\n    vscode_languageserver_protocol_1.SymbolKind.Constructor,\n    vscode_languageserver_protocol_1.SymbolKind.Enum,\n    vscode_languageserver_protocol_1.SymbolKind.Interface,\n    vscode_languageserver_protocol_1.SymbolKind.Function,\n    vscode_languageserver_protocol_1.SymbolKind.Variable,\n    vscode_languageserver_protocol_1.SymbolKind.Constant,\n    vscode_languageserver_protocol_1.SymbolKind.String,\n    vscode_languageserver_protocol_1.SymbolKind.Number,\n    vscode_languageserver_protocol_1.SymbolKind.Boolean,\n    vscode_languageserver_protocol_1.SymbolKind.Array,\n    vscode_languageserver_protocol_1.SymbolKind.Object,\n    vscode_languageserver_protocol_1.SymbolKind.Key,\n    vscode_languageserver_protocol_1.SymbolKind.Null,\n    vscode_languageserver_protocol_1.SymbolKind.EnumMember,\n    vscode_languageserver_protocol_1.SymbolKind.Struct,\n    vscode_languageserver_protocol_1.SymbolKind.Event,\n    vscode_languageserver_protocol_1.SymbolKind.Operator,\n    vscode_languageserver_protocol_1.SymbolKind.TypeParameter\n];\nexports.SupportedSymbolTags = [\n    vscode_languageserver_protocol_1.SymbolTag.Deprecated\n];\nclass DocumentSymbolFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DocumentSymbolRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        let symbolCapabilities = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'documentSymbol');\n        symbolCapabilities.dynamicRegistration = true;\n        symbolCapabilities.symbolKind = {\n            valueSet: exports.SupportedSymbolKinds\n        };\n        symbolCapabilities.hierarchicalDocumentSymbolSupport = true;\n        symbolCapabilities.tagSupport = {\n            valueSet: exports.SupportedSymbolTags\n        };\n        symbolCapabilities.labelSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.documentSymbolProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideDocumentSymbols: (document, token) => {\n                const client = this._client;\n                const _provideDocumentSymbols = (document, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentSymbolRequest.type, client.code2ProtocolConverter.asDocumentSymbolParams(document), token).then(async (data) => {\n                        if (token.isCancellationRequested || data === undefined || data === null) {\n                            return null;\n                        }\n                        if (data.length === 0) {\n                            return [];\n                        }\n                        else {\n                            const first = data[0];\n                            if (vscode_languageserver_protocol_1.DocumentSymbol.is(first)) {\n                                return await client.protocol2CodeConverter.asDocumentSymbols(data, token);\n                            }\n                            else {\n                                return await client.protocol2CodeConverter.asSymbolInformations(data, token);\n                            }\n                        }\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentSymbolRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideDocumentSymbols\n                    ? middleware.provideDocumentSymbols(document, token, _provideDocumentSymbols)\n                    : _provideDocumentSymbols(document, token);\n            }\n        };\n        const metaData = options.label !== undefined ? { label: options.label } : undefined;\n        return [vscode_1.languages.registerDocumentSymbolProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider, metaData), provider];\n    }\n}\nexports.DocumentSymbolFeature = DocumentSymbolFeature;\n//# sourceMappingURL=documentSymbol.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ExecuteCommandFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst UUID = require(\"./utils/uuid\");\nconst features_1 = require(\"./features\");\nclass ExecuteCommandFeature {\n    constructor(client) {\n        this._client = client;\n        this._commands = new Map();\n    }\n    getState() {\n        return { kind: 'workspace', id: this.registrationType.method, registrations: this._commands.size > 0 };\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.ExecuteCommandRequest.type;\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'workspace'), 'executeCommand').dynamicRegistration = true;\n    }\n    initialize(capabilities) {\n        if (!capabilities.executeCommandProvider) {\n            return;\n        }\n        this.register({\n            id: UUID.generateUuid(),\n            registerOptions: Object.assign({}, capabilities.executeCommandProvider)\n        });\n    }\n    register(data) {\n        const client = this._client;\n        const middleware = client.middleware;\n        const executeCommand = (command, args) => {\n            let params = {\n                command,\n                arguments: args\n            };\n            return client.sendRequest(vscode_languageserver_protocol_1.ExecuteCommandRequest.type, params).then(undefined, (error) => {\n                return client.handleFailedRequest(vscode_languageserver_protocol_1.ExecuteCommandRequest.type, undefined, error, undefined);\n            });\n        };\n        if (data.registerOptions.commands) {\n            const disposables = [];\n            for (const command of data.registerOptions.commands) {\n                disposables.push(vscode_1.commands.registerCommand(command, (...args) => {\n                    return middleware.executeCommand\n                        ? middleware.executeCommand(command, args, executeCommand)\n                        : executeCommand(command, args);\n                }));\n            }\n            this._commands.set(data.id, disposables);\n        }\n    }\n    unregister(id) {\n        let disposables = this._commands.get(id);\n        if (disposables) {\n            disposables.forEach(disposable => disposable.dispose());\n        }\n    }\n    dispose() {\n        this._commands.forEach((value) => {\n            value.forEach(disposable => disposable.dispose());\n        });\n        this._commands.clear();\n    }\n}\nexports.ExecuteCommandFeature = ExecuteCommandFeature;\n//# sourceMappingURL=executeCommand.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WorkspaceFeature = exports.TextDocumentLanguageFeature = exports.TextDocumentEventFeature = exports.DynamicDocumentFeature = exports.DynamicFeature = exports.StaticFeature = exports.ensure = exports.LSPCancellationError = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst Is = require(\"./utils/is\");\nconst UUID = require(\"./utils/uuid\");\nclass LSPCancellationError extends vscode_1.CancellationError {\n    constructor(data) {\n        super();\n        this.data = data;\n    }\n}\nexports.LSPCancellationError = LSPCancellationError;\nfunction ensure(target, key) {\n    if (target[key] === undefined) {\n        target[key] = {};\n    }\n    return target[key];\n}\nexports.ensure = ensure;\nvar StaticFeature;\n(function (StaticFeature) {\n    function is(value) {\n        const candidate = value;\n        return candidate !== undefined && candidate !== null &&\n            Is.func(candidate.fillClientCapabilities) && Is.func(candidate.initialize) && Is.func(candidate.getState) && Is.func(candidate.dispose) &&\n            (candidate.fillInitializeParams === undefined || Is.func(candidate.fillInitializeParams));\n    }\n    StaticFeature.is = is;\n})(StaticFeature = exports.StaticFeature || (exports.StaticFeature = {}));\nvar DynamicFeature;\n(function (DynamicFeature) {\n    function is(value) {\n        const candidate = value;\n        return candidate !== undefined && candidate !== null &&\n            Is.func(candidate.fillClientCapabilities) && Is.func(candidate.initialize) && Is.func(candidate.getState) && Is.func(candidate.dispose) &&\n            (candidate.fillInitializeParams === undefined || Is.func(candidate.fillInitializeParams)) && Is.func(candidate.register) &&\n            Is.func(candidate.unregister) && candidate.registrationType !== undefined;\n    }\n    DynamicFeature.is = is;\n})(DynamicFeature = exports.DynamicFeature || (exports.DynamicFeature = {}));\n/**\n * An abstract dynamic feature implementation that operates on documents (e.g. text\n * documents or notebooks).\n */\nclass DynamicDocumentFeature {\n    constructor(client) {\n        this._client = client;\n    }\n    /**\n     * Returns the state the feature is in.\n     */\n    getState() {\n        const selectors = this.getDocumentSelectors();\n        let count = 0;\n        for (const selector of selectors) {\n            count++;\n            for (const document of vscode_1.workspace.textDocuments) {\n                if (vscode_1.languages.match(selector, document) > 0) {\n                    return { kind: 'document', id: this.registrationType.method, registrations: true, matches: true };\n                }\n            }\n        }\n        const registrations = count > 0;\n        return { kind: 'document', id: this.registrationType.method, registrations, matches: false };\n    }\n}\nexports.DynamicDocumentFeature = DynamicDocumentFeature;\n/**\n * An abstract base class to implement features that react to events\n * emitted from text documents.\n */\nclass TextDocumentEventFeature extends DynamicDocumentFeature {\n    constructor(client, event, type, middleware, createParams, textDocument, selectorFilter) {\n        super(client);\n        this._event = event;\n        this._type = type;\n        this._middleware = middleware;\n        this._createParams = createParams;\n        this._textDocument = textDocument;\n        this._selectorFilter = selectorFilter;\n        this._selectors = new Map();\n        this._onNotificationSent = new vscode_1.EventEmitter();\n    }\n    static textDocumentFilter(selectors, textDocument) {\n        for (const selector of selectors) {\n            if (vscode_1.languages.match(selector, textDocument) > 0) {\n                return true;\n            }\n        }\n        return false;\n    }\n    getStateInfo() {\n        return [this._selectors.values(), false];\n    }\n    getDocumentSelectors() {\n        return this._selectors.values();\n    }\n    register(data) {\n        if (!data.registerOptions.documentSelector) {\n            return;\n        }\n        if (!this._listener) {\n            this._listener = this._event((data) => {\n                this.callback(data).catch((error) => {\n                    this._client.error(`Sending document notification ${this._type.method} failed.`, error);\n                });\n            });\n        }\n        this._selectors.set(data.id, this._client.protocol2CodeConverter.asDocumentSelector(data.registerOptions.documentSelector));\n    }\n    async callback(data) {\n        const doSend = async (data) => {\n            const params = this._createParams(data);\n            await this._client.sendNotification(this._type, params).catch();\n            this.notificationSent(data, this._type, params);\n        };\n        if (this.matches(data)) {\n            const middleware = this._middleware();\n            return middleware ? middleware(data, (data) => doSend(data)) : doSend(data);\n        }\n    }\n    matches(data) {\n        if (this._client.hasDedicatedTextSynchronizationFeature(this._textDocument(data))) {\n            return false;\n        }\n        return !this._selectorFilter || this._selectorFilter(this._selectors.values(), data);\n    }\n    get onNotificationSent() {\n        return this._onNotificationSent.event;\n    }\n    notificationSent(data, type, params) {\n        this._onNotificationSent.fire({ original: data, type, params });\n    }\n    unregister(id) {\n        this._selectors.delete(id);\n        if (this._selectors.size === 0 && this._listener) {\n            this._listener.dispose();\n            this._listener = undefined;\n        }\n    }\n    dispose() {\n        this._selectors.clear();\n        this._onNotificationSent.dispose();\n        if (this._listener) {\n            this._listener.dispose();\n            this._listener = undefined;\n        }\n    }\n    getProvider(document) {\n        for (const selector of this._selectors.values()) {\n            if (vscode_1.languages.match(selector, document) > 0) {\n                return {\n                    send: (data) => {\n                        return this.callback(data);\n                    }\n                };\n            }\n        }\n        return undefined;\n    }\n}\nexports.TextDocumentEventFeature = TextDocumentEventFeature;\n/**\n * A abstract feature implementation that registers language providers\n * for text documents using a given document selector.\n */\nclass TextDocumentLanguageFeature extends DynamicDocumentFeature {\n    constructor(client, registrationType) {\n        super(client);\n        this._registrationType = registrationType;\n        this._registrations = new Map();\n    }\n    *getDocumentSelectors() {\n        for (const registration of this._registrations.values()) {\n            const selector = registration.data.registerOptions.documentSelector;\n            if (selector === null) {\n                continue;\n            }\n            yield this._client.protocol2CodeConverter.asDocumentSelector(selector);\n        }\n    }\n    get registrationType() {\n        return this._registrationType;\n    }\n    register(data) {\n        if (!data.registerOptions.documentSelector) {\n            return;\n        }\n        let registration = this.registerLanguageProvider(data.registerOptions, data.id);\n        this._registrations.set(data.id, { disposable: registration[0], data, provider: registration[1] });\n    }\n    unregister(id) {\n        let registration = this._registrations.get(id);\n        if (registration !== undefined) {\n            registration.disposable.dispose();\n        }\n    }\n    dispose() {\n        this._registrations.forEach((value) => {\n            value.disposable.dispose();\n        });\n        this._registrations.clear();\n    }\n    getRegistration(documentSelector, capability) {\n        if (!capability) {\n            return [undefined, undefined];\n        }\n        else if (vscode_languageserver_protocol_1.TextDocumentRegistrationOptions.is(capability)) {\n            const id = vscode_languageserver_protocol_1.StaticRegistrationOptions.hasId(capability) ? capability.id : UUID.generateUuid();\n            const selector = capability.documentSelector || documentSelector;\n            if (selector) {\n                return [id, Object.assign({}, capability, { documentSelector: selector })];\n            }\n        }\n        else if (Is.boolean(capability) && capability === true || vscode_languageserver_protocol_1.WorkDoneProgressOptions.is(capability)) {\n            if (!documentSelector) {\n                return [undefined, undefined];\n            }\n            let options = (Is.boolean(capability) && capability === true ? { documentSelector } : Object.assign({}, capability, { documentSelector }));\n            return [UUID.generateUuid(), options];\n        }\n        return [undefined, undefined];\n    }\n    getRegistrationOptions(documentSelector, capability) {\n        if (!documentSelector || !capability) {\n            return undefined;\n        }\n        return (Is.boolean(capability) && capability === true ? { documentSelector } : Object.assign({}, capability, { documentSelector }));\n    }\n    getProvider(textDocument) {\n        for (const registration of this._registrations.values()) {\n            let selector = registration.data.registerOptions.documentSelector;\n            if (selector !== null && vscode_1.languages.match(this._client.protocol2CodeConverter.asDocumentSelector(selector), textDocument) > 0) {\n                return registration.provider;\n            }\n        }\n        return undefined;\n    }\n    getAllProviders() {\n        const result = [];\n        for (const item of this._registrations.values()) {\n            result.push(item.provider);\n        }\n        return result;\n    }\n}\nexports.TextDocumentLanguageFeature = TextDocumentLanguageFeature;\nclass WorkspaceFeature {\n    constructor(client, registrationType) {\n        this._client = client;\n        this._registrationType = registrationType;\n        this._registrations = new Map();\n    }\n    getState() {\n        const registrations = this._registrations.size > 0;\n        return { kind: 'workspace', id: this._registrationType.method, registrations };\n    }\n    get registrationType() {\n        return this._registrationType;\n    }\n    register(data) {\n        const registration = this.registerLanguageProvider(data.registerOptions);\n        this._registrations.set(data.id, { disposable: registration[0], provider: registration[1] });\n    }\n    unregister(id) {\n        let registration = this._registrations.get(id);\n        if (registration !== undefined) {\n            registration.disposable.dispose();\n        }\n    }\n    dispose() {\n        this._registrations.forEach((registration) => {\n            registration.disposable.dispose();\n        });\n        this._registrations.clear();\n    }\n    getProviders() {\n        const result = [];\n        for (const registration of this._registrations.values()) {\n            result.push(registration.provider);\n        }\n        return result;\n    }\n}\nexports.WorkspaceFeature = WorkspaceFeature;\n//# sourceMappingURL=features.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WillDeleteFilesFeature = exports.WillRenameFilesFeature = exports.WillCreateFilesFeature = exports.DidDeleteFilesFeature = exports.DidRenameFilesFeature = exports.DidCreateFilesFeature = void 0;\nconst code = require(\"vscode\");\nconst minimatch = require(\"minimatch\");\nconst proto = require(\"vscode-languageserver-protocol\");\nconst UUID = require(\"./utils/uuid\");\nfunction ensure(target, key) {\n    if (target[key] === void 0) {\n        target[key] = {};\n    }\n    return target[key];\n}\nfunction access(target, key) {\n    return target[key];\n}\nfunction assign(target, key, value) {\n    target[key] = value;\n}\nclass FileOperationFeature {\n    constructor(client, event, registrationType, clientCapability, serverCapability) {\n        this._client = client;\n        this._event = event;\n        this._registrationType = registrationType;\n        this._clientCapability = clientCapability;\n        this._serverCapability = serverCapability;\n        this._filters = new Map();\n    }\n    getState() {\n        return { kind: 'workspace', id: this._registrationType.method, registrations: this._filters.size > 0 };\n    }\n    filterSize() {\n        return this._filters.size;\n    }\n    get registrationType() {\n        return this._registrationType;\n    }\n    fillClientCapabilities(capabilities) {\n        const value = ensure(ensure(capabilities, 'workspace'), 'fileOperations');\n        // this happens n times but it is the same value so we tolerate this.\n        assign(value, 'dynamicRegistration', true);\n        assign(value, this._clientCapability, true);\n    }\n    initialize(capabilities) {\n        const options = capabilities.workspace?.fileOperations;\n        const capability = options !== undefined ? access(options, this._serverCapability) : undefined;\n        if (capability?.filters !== undefined) {\n            try {\n                this.register({\n                    id: UUID.generateUuid(),\n                    registerOptions: { filters: capability.filters }\n                });\n            }\n            catch (e) {\n                this._client.warn(`Ignoring invalid glob pattern for ${this._serverCapability} registration: ${e}`);\n            }\n        }\n    }\n    register(data) {\n        if (!this._listener) {\n            this._listener = this._event(this.send, this);\n        }\n        const minimatchFilter = data.registerOptions.filters.map((filter) => {\n            const matcher = new minimatch.Minimatch(filter.pattern.glob, FileOperationFeature.asMinimatchOptions(filter.pattern.options));\n            if (!matcher.makeRe()) {\n                throw new Error(`Invalid pattern ${filter.pattern.glob}!`);\n            }\n            return { scheme: filter.scheme, matcher, kind: filter.pattern.matches };\n        });\n        this._filters.set(data.id, minimatchFilter);\n    }\n    unregister(id) {\n        this._filters.delete(id);\n        if (this._filters.size === 0 && this._listener) {\n            this._listener.dispose();\n            this._listener = undefined;\n        }\n    }\n    dispose() {\n        this._filters.clear();\n        if (this._listener) {\n            this._listener.dispose();\n            this._listener = undefined;\n        }\n    }\n    getFileType(uri) {\n        return FileOperationFeature.getFileType(uri);\n    }\n    async filter(event, prop) {\n        // (Asynchronously) map each file onto a boolean of whether it matches\n        // any of the globs.\n        const fileMatches = await Promise.all(event.files.map(async (item) => {\n            const uri = prop(item);\n            // Use fsPath to make this consistent with file system watchers but help\n            // minimatch to use '/' instead of `\\\\` if present.\n            const path = uri.fsPath.replace(/\\\\/g, '/');\n            for (const filters of this._filters.values()) {\n                for (const filter of filters) {\n                    if (filter.scheme !== undefined && filter.scheme !== uri.scheme) {\n                        continue;\n                    }\n                    if (filter.matcher.match(path)) {\n                        // The pattern matches. If kind is undefined then everything is ok\n                        if (filter.kind === undefined) {\n                            return true;\n                        }\n                        const fileType = await this.getFileType(uri);\n                        // If we can't determine the file type than we treat it as a match.\n                        // Dropping it would be another alternative.\n                        if (fileType === undefined) {\n                            this._client.error(`Failed to determine file type for ${uri.toString()}.`);\n                            return true;\n                        }\n                        if ((fileType === code.FileType.File && filter.kind === proto.FileOperationPatternKind.file) || (fileType === code.FileType.Directory && filter.kind === proto.FileOperationPatternKind.folder)) {\n                            return true;\n                        }\n                    }\n                    else if (filter.kind === proto.FileOperationPatternKind.folder) {\n                        const fileType = await FileOperationFeature.getFileType(uri);\n                        if (fileType === code.FileType.Directory && filter.matcher.match(`${path}/`)) {\n                            return true;\n                        }\n                    }\n                }\n            }\n            return false;\n        }));\n        // Filter the files to those that matched.\n        const files = event.files.filter((_, index) => fileMatches[index]);\n        return { ...event, files };\n    }\n    static async getFileType(uri) {\n        try {\n            return (await code.workspace.fs.stat(uri)).type;\n        }\n        catch (e) {\n            return undefined;\n        }\n    }\n    static asMinimatchOptions(options) {\n        if (options === undefined) {\n            return undefined;\n        }\n        if (options.ignoreCase === true) {\n            return { nocase: true };\n        }\n        return undefined;\n    }\n}\nclass NotificationFileOperationFeature extends FileOperationFeature {\n    constructor(client, event, notificationType, clientCapability, serverCapability, accessUri, createParams) {\n        super(client, event, notificationType, clientCapability, serverCapability);\n        this._notificationType = notificationType;\n        this._accessUri = accessUri;\n        this._createParams = createParams;\n    }\n    async send(originalEvent) {\n        // Create a copy of the event that has the files filtered to match what the\n        // server wants.\n        const filteredEvent = await this.filter(originalEvent, this._accessUri);\n        if (filteredEvent.files.length) {\n            const next = async (event) => {\n                return this._client.sendNotification(this._notificationType, this._createParams(event));\n            };\n            return this.doSend(filteredEvent, next);\n        }\n    }\n}\nclass CachingNotificationFileOperationFeature extends NotificationFileOperationFeature {\n    constructor() {\n        super(...arguments);\n        this._fsPathFileTypes = new Map();\n    }\n    async getFileType(uri) {\n        const fsPath = uri.fsPath;\n        if (this._fsPathFileTypes.has(fsPath)) {\n            return this._fsPathFileTypes.get(fsPath);\n        }\n        const type = await FileOperationFeature.getFileType(uri);\n        if (type) {\n            this._fsPathFileTypes.set(fsPath, type);\n        }\n        return type;\n    }\n    async cacheFileTypes(event, prop) {\n        // Calling filter will force the matching logic to run. For any item\n        // that requires a getFileType lookup, the overriden getFileType will\n        // be called that will cache the result so that when onDidRename fires,\n        // it can still be checked even though the item no longer exists on disk\n        // in its original location.\n        await this.filter(event, prop);\n    }\n    clearFileTypeCache() {\n        this._fsPathFileTypes.clear();\n    }\n    unregister(id) {\n        super.unregister(id);\n        if (this.filterSize() === 0 && this._willListener) {\n            this._willListener.dispose();\n            this._willListener = undefined;\n        }\n    }\n    dispose() {\n        super.dispose();\n        if (this._willListener) {\n            this._willListener.dispose();\n            this._willListener = undefined;\n        }\n    }\n}\nclass DidCreateFilesFeature extends NotificationFileOperationFeature {\n    constructor(client) {\n        super(client, code.workspace.onDidCreateFiles, proto.DidCreateFilesNotification.type, 'didCreate', 'didCreate', (i) => i, client.code2ProtocolConverter.asDidCreateFilesParams);\n    }\n    doSend(event, next) {\n        const middleware = this._client.middleware.workspace;\n        return middleware?.didCreateFiles\n            ? middleware.didCreateFiles(event, next)\n            : next(event);\n    }\n}\nexports.DidCreateFilesFeature = DidCreateFilesFeature;\nclass DidRenameFilesFeature extends CachingNotificationFileOperationFeature {\n    constructor(client) {\n        super(client, code.workspace.onDidRenameFiles, proto.DidRenameFilesNotification.type, 'didRename', 'didRename', (i) => i.oldUri, client.code2ProtocolConverter.asDidRenameFilesParams);\n    }\n    register(data) {\n        if (!this._willListener) {\n            this._willListener = code.workspace.onWillRenameFiles(this.willRename, this);\n        }\n        super.register(data);\n    }\n    willRename(e) {\n        e.waitUntil(this.cacheFileTypes(e, (i) => i.oldUri));\n    }\n    doSend(event, next) {\n        this.clearFileTypeCache();\n        const middleware = this._client.middleware.workspace;\n        return middleware?.didRenameFiles\n            ? middleware.didRenameFiles(event, next)\n            : next(event);\n    }\n}\nexports.DidRenameFilesFeature = DidRenameFilesFeature;\nclass DidDeleteFilesFeature extends CachingNotificationFileOperationFeature {\n    constructor(client) {\n        super(client, code.workspace.onDidDeleteFiles, proto.DidDeleteFilesNotification.type, 'didDelete', 'didDelete', (i) => i, client.code2ProtocolConverter.asDidDeleteFilesParams);\n    }\n    register(data) {\n        if (!this._willListener) {\n            this._willListener = code.workspace.onWillDeleteFiles(this.willDelete, this);\n        }\n        super.register(data);\n    }\n    willDelete(e) {\n        e.waitUntil(this.cacheFileTypes(e, (i) => i));\n    }\n    doSend(event, next) {\n        this.clearFileTypeCache();\n        const middleware = this._client.middleware.workspace;\n        return middleware?.didDeleteFiles\n            ? middleware.didDeleteFiles(event, next)\n            : next(event);\n    }\n}\nexports.DidDeleteFilesFeature = DidDeleteFilesFeature;\nclass RequestFileOperationFeature extends FileOperationFeature {\n    constructor(client, event, requestType, clientCapability, serverCapability, accessUri, createParams) {\n        super(client, event, requestType, clientCapability, serverCapability);\n        this._requestType = requestType;\n        this._accessUri = accessUri;\n        this._createParams = createParams;\n    }\n    async send(originalEvent) {\n        const waitUntil = this.waitUntil(originalEvent);\n        originalEvent.waitUntil(waitUntil);\n    }\n    async waitUntil(originalEvent) {\n        // Create a copy of the event that has the files filtered to match what the\n        // server wants.\n        const filteredEvent = await this.filter(originalEvent, this._accessUri);\n        if (filteredEvent.files.length) {\n            const next = (event) => {\n                return this._client.sendRequest(this._requestType, this._createParams(event), event.token)\n                    .then(this._client.protocol2CodeConverter.asWorkspaceEdit);\n            };\n            return this.doSend(filteredEvent, next);\n        }\n        else {\n            return undefined;\n        }\n    }\n}\nclass WillCreateFilesFeature extends RequestFileOperationFeature {\n    constructor(client) {\n        super(client, code.workspace.onWillCreateFiles, proto.WillCreateFilesRequest.type, 'willCreate', 'willCreate', (i) => i, client.code2ProtocolConverter.asWillCreateFilesParams);\n    }\n    doSend(event, next) {\n        const middleware = this._client.middleware.workspace;\n        return middleware?.willCreateFiles\n            ? middleware.willCreateFiles(event, next)\n            : next(event);\n    }\n}\nexports.WillCreateFilesFeature = WillCreateFilesFeature;\nclass WillRenameFilesFeature extends RequestFileOperationFeature {\n    constructor(client) {\n        super(client, code.workspace.onWillRenameFiles, proto.WillRenameFilesRequest.type, 'willRename', 'willRename', (i) => i.oldUri, client.code2ProtocolConverter.asWillRenameFilesParams);\n    }\n    doSend(event, next) {\n        const middleware = this._client.middleware.workspace;\n        return middleware?.willRenameFiles\n            ? middleware.willRenameFiles(event, next)\n            : next(event);\n    }\n}\nexports.WillRenameFilesFeature = WillRenameFilesFeature;\nclass WillDeleteFilesFeature extends RequestFileOperationFeature {\n    constructor(client) {\n        super(client, code.workspace.onWillDeleteFiles, proto.WillDeleteFilesRequest.type, 'willDelete', 'willDelete', (i) => i, client.code2ProtocolConverter.asWillDeleteFilesParams);\n    }\n    doSend(event, next) {\n        const middleware = this._client.middleware.workspace;\n        return middleware?.willDeleteFiles\n            ? middleware.willDeleteFiles(event, next)\n            : next(event);\n    }\n}\nexports.WillDeleteFilesFeature = WillDeleteFilesFeature;\n//# sourceMappingURL=fileOperations.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FileSystemWatcherFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nclass FileSystemWatcherFeature {\n    constructor(client, notifyFileEvent) {\n        this._client = client;\n        this._notifyFileEvent = notifyFileEvent;\n        this._watchers = new Map();\n    }\n    getState() {\n        return { kind: 'workspace', id: this.registrationType.method, registrations: this._watchers.size > 0 };\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.DidChangeWatchedFilesNotification.type;\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'workspace'), 'didChangeWatchedFiles').dynamicRegistration = true;\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'workspace'), 'didChangeWatchedFiles').relativePatternSupport = true;\n    }\n    initialize(_capabilities, _documentSelector) {\n    }\n    register(data) {\n        if (!Array.isArray(data.registerOptions.watchers)) {\n            return;\n        }\n        const disposables = [];\n        for (const watcher of data.registerOptions.watchers) {\n            const globPattern = this._client.protocol2CodeConverter.asGlobPattern(watcher.globPattern);\n            if (globPattern === undefined) {\n                continue;\n            }\n            let watchCreate = true, watchChange = true, watchDelete = true;\n            if (watcher.kind !== undefined && watcher.kind !== null) {\n                watchCreate = (watcher.kind & vscode_languageserver_protocol_1.WatchKind.Create) !== 0;\n                watchChange = (watcher.kind & vscode_languageserver_protocol_1.WatchKind.Change) !== 0;\n                watchDelete = (watcher.kind & vscode_languageserver_protocol_1.WatchKind.Delete) !== 0;\n            }\n            const fileSystemWatcher = vscode_1.workspace.createFileSystemWatcher(globPattern, !watchCreate, !watchChange, !watchDelete);\n            this.hookListeners(fileSystemWatcher, watchCreate, watchChange, watchDelete, disposables);\n            disposables.push(fileSystemWatcher);\n        }\n        this._watchers.set(data.id, disposables);\n    }\n    registerRaw(id, fileSystemWatchers) {\n        let disposables = [];\n        for (let fileSystemWatcher of fileSystemWatchers) {\n            this.hookListeners(fileSystemWatcher, true, true, true, disposables);\n        }\n        this._watchers.set(id, disposables);\n    }\n    hookListeners(fileSystemWatcher, watchCreate, watchChange, watchDelete, listeners) {\n        if (watchCreate) {\n            fileSystemWatcher.onDidCreate((resource) => this._notifyFileEvent({\n                uri: this._client.code2ProtocolConverter.asUri(resource),\n                type: vscode_languageserver_protocol_1.FileChangeType.Created\n            }), null, listeners);\n        }\n        if (watchChange) {\n            fileSystemWatcher.onDidChange((resource) => this._notifyFileEvent({\n                uri: this._client.code2ProtocolConverter.asUri(resource),\n                type: vscode_languageserver_protocol_1.FileChangeType.Changed\n            }), null, listeners);\n        }\n        if (watchDelete) {\n            fileSystemWatcher.onDidDelete((resource) => this._notifyFileEvent({\n                uri: this._client.code2ProtocolConverter.asUri(resource),\n                type: vscode_languageserver_protocol_1.FileChangeType.Deleted\n            }), null, listeners);\n        }\n    }\n    unregister(id) {\n        let disposables = this._watchers.get(id);\n        if (disposables) {\n            for (let disposable of disposables) {\n                disposable.dispose();\n            }\n        }\n    }\n    dispose() {\n        this._watchers.forEach((disposables) => {\n            for (let disposable of disposables) {\n                disposable.dispose();\n            }\n        });\n        this._watchers.clear();\n    }\n}\nexports.FileSystemWatcherFeature = FileSystemWatcherFeature;\n//# sourceMappingURL=fileSystemWatcher.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FoldingRangeFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nclass FoldingRangeFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.FoldingRangeRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        let capability = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'foldingRange');\n        capability.dynamicRegistration = true;\n        capability.rangeLimit = 5000;\n        capability.lineFoldingOnly = true;\n        capability.foldingRangeKind = { valueSet: [vscode_languageserver_protocol_1.FoldingRangeKind.Comment, vscode_languageserver_protocol_1.FoldingRangeKind.Imports, vscode_languageserver_protocol_1.FoldingRangeKind.Region] };\n        capability.foldingRange = { collapsedText: false };\n    }\n    initialize(capabilities, documentSelector) {\n        let [id, options] = this.getRegistration(documentSelector, capabilities.foldingRangeProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideFoldingRanges: (document, context, token) => {\n                const client = this._client;\n                const provideFoldingRanges = (document, _, token) => {\n                    const requestParams = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document)\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.FoldingRangeRequest.type, requestParams, token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asFoldingRanges(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.FoldingRangeRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideFoldingRanges\n                    ? middleware.provideFoldingRanges(document, context, token, provideFoldingRanges)\n                    : provideFoldingRanges(document, context, token);\n            }\n        };\n        return [vscode_1.languages.registerFoldingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider), provider];\n    }\n}\nexports.FoldingRangeFeature = FoldingRangeFeature;\n//# sourceMappingURL=foldingRange.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DocumentOnTypeFormattingFeature = exports.DocumentRangeFormattingFeature = exports.DocumentFormattingFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst UUID = require(\"./utils/uuid\");\nconst features_1 = require(\"./features\");\nvar FileFormattingOptions;\n(function (FileFormattingOptions) {\n    function fromConfiguration(document) {\n        const filesConfig = vscode_1.workspace.getConfiguration('files', document);\n        return {\n            trimTrailingWhitespace: filesConfig.get('trimTrailingWhitespace'),\n            trimFinalNewlines: filesConfig.get('trimFinalNewlines'),\n            insertFinalNewline: filesConfig.get('insertFinalNewline'),\n        };\n    }\n    FileFormattingOptions.fromConfiguration = fromConfiguration;\n})(FileFormattingOptions || (FileFormattingOptions = {}));\nclass DocumentFormattingFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DocumentFormattingRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'formatting').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.documentFormattingProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideDocumentFormattingEdits: (document, options, token) => {\n                const client = this._client;\n                const provideDocumentFormattingEdits = (document, options, token) => {\n                    const params = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                        options: client.code2ProtocolConverter.asFormattingOptions(options, FileFormattingOptions.fromConfiguration(document))\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentFormattingRequest.type, params, token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asTextEdits(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentFormattingRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideDocumentFormattingEdits\n                    ? middleware.provideDocumentFormattingEdits(document, options, token, provideDocumentFormattingEdits)\n                    : provideDocumentFormattingEdits(document, options, token);\n            }\n        };\n        return [vscode_1.languages.registerDocumentFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider), provider];\n    }\n}\nexports.DocumentFormattingFeature = DocumentFormattingFeature;\nclass DocumentRangeFormattingFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DocumentRangeFormattingRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'rangeFormatting').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.documentRangeFormattingProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideDocumentRangeFormattingEdits: (document, range, options, token) => {\n                const client = this._client;\n                const provideDocumentRangeFormattingEdits = (document, range, options, token) => {\n                    const params = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                        range: client.code2ProtocolConverter.asRange(range),\n                        options: client.code2ProtocolConverter.asFormattingOptions(options, FileFormattingOptions.fromConfiguration(document))\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentRangeFormattingRequest.type, params, token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asTextEdits(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentRangeFormattingRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideDocumentRangeFormattingEdits\n                    ? middleware.provideDocumentRangeFormattingEdits(document, range, options, token, provideDocumentRangeFormattingEdits)\n                    : provideDocumentRangeFormattingEdits(document, range, options, token);\n            }\n        };\n        return [vscode_1.languages.registerDocumentRangeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider), provider];\n    }\n}\nexports.DocumentRangeFormattingFeature = DocumentRangeFormattingFeature;\nclass DocumentOnTypeFormattingFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.DocumentOnTypeFormattingRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'onTypeFormatting').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.documentOnTypeFormattingProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideOnTypeFormattingEdits: (document, position, ch, options, token) => {\n                const client = this._client;\n                const provideOnTypeFormattingEdits = (document, position, ch, options, token) => {\n                    let params = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                        position: client.code2ProtocolConverter.asPosition(position),\n                        ch: ch,\n                        options: client.code2ProtocolConverter.asFormattingOptions(options, FileFormattingOptions.fromConfiguration(document))\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.DocumentOnTypeFormattingRequest.type, params, token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asTextEdits(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.DocumentOnTypeFormattingRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideOnTypeFormattingEdits\n                    ? middleware.provideOnTypeFormattingEdits(document, position, ch, options, token, provideOnTypeFormattingEdits)\n                    : provideOnTypeFormattingEdits(document, position, ch, options, token);\n            }\n        };\n        const moreTriggerCharacter = options.moreTriggerCharacter || [];\n        return [vscode_1.languages.registerOnTypeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider, options.firstTriggerCharacter, ...moreTriggerCharacter), provider];\n    }\n}\nexports.DocumentOnTypeFormattingFeature = DocumentOnTypeFormattingFeature;\n//# sourceMappingURL=formatting.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.HoverFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nconst UUID = require(\"./utils/uuid\");\nclass HoverFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.HoverRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        const hoverCapability = ((0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'hover'));\n        hoverCapability.dynamicRegistration = true;\n        hoverCapability.contentFormat = [vscode_languageserver_protocol_1.MarkupKind.Markdown, vscode_languageserver_protocol_1.MarkupKind.PlainText];\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.hoverProvider);\n        if (!options) {\n            return;\n        }\n        this.register({\n            id: UUID.generateUuid(),\n            registerOptions: options\n        });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideHover: (document, position, token) => {\n                const client = this._client;\n                const provideHover = (document, position, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.HoverRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asHover(result);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.HoverRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideHover\n                    ? middleware.provideHover(document, position, token, provideHover)\n                    : provideHover(document, position, token);\n            }\n        };\n        return [this.registerProvider(selector, provider), provider];\n    }\n    registerProvider(selector, provider) {\n        return vscode_1.languages.registerHoverProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider);\n    }\n}\nexports.HoverFeature = HoverFeature;\n//# sourceMappingURL=hover.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ImplementationFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nclass ImplementationFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.ImplementationRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        let implementationSupport = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'implementation');\n        implementationSupport.dynamicRegistration = true;\n        implementationSupport.linkSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let [id, options] = this.getRegistration(documentSelector, capabilities.implementationProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideImplementation: (document, position, token) => {\n                const client = this._client;\n                const provideImplementation = (document, position, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.ImplementationRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asDefinitionResult(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.ImplementationRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideImplementation\n                    ? middleware.provideImplementation(document, position, token, provideImplementation)\n                    : provideImplementation(document, position, token);\n            }\n        };\n        return [this.registerProvider(selector, provider), provider];\n    }\n    registerProvider(selector, provider) {\n        return vscode_1.languages.registerImplementationProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider);\n    }\n}\nexports.ImplementationFeature = ImplementationFeature;\n//# sourceMappingURL=implementation.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlayHintsFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nclass InlayHintsFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.InlayHintRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        const inlayHint = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'inlayHint');\n        inlayHint.dynamicRegistration = true;\n        inlayHint.resolveSupport = {\n            properties: ['tooltip', 'textEdits', 'label.tooltip', 'label.location', 'label.command']\n        };\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'workspace'), 'inlayHint').refreshSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        this._client.onRequest(vscode_languageserver_protocol_1.InlayHintRefreshRequest.type, async () => {\n            for (const provider of this.getAllProviders()) {\n                provider.onDidChangeInlayHints.fire();\n            }\n        });\n        const [id, options] = this.getRegistration(documentSelector, capabilities.inlayHintProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const eventEmitter = new vscode_1.EventEmitter();\n        const provider = {\n            onDidChangeInlayHints: eventEmitter.event,\n            provideInlayHints: (document, viewPort, token) => {\n                const client = this._client;\n                const provideInlayHints = async (document, viewPort, token) => {\n                    const requestParams = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                        range: client.code2ProtocolConverter.asRange(viewPort)\n                    };\n                    try {\n                        const values = await client.sendRequest(vscode_languageserver_protocol_1.InlayHintRequest.type, requestParams, token);\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asInlayHints(values, token);\n                    }\n                    catch (error) {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.InlayHintRequest.type, token, error, null);\n                    }\n                };\n                const middleware = client.middleware;\n                return middleware.provideInlayHints\n                    ? middleware.provideInlayHints(document, viewPort, token, provideInlayHints)\n                    : provideInlayHints(document, viewPort, token);\n            }\n        };\n        provider.resolveInlayHint = options.resolveProvider === true\n            ? (hint, token) => {\n                const client = this._client;\n                const resolveInlayHint = async (item, token) => {\n                    try {\n                        const value = await client.sendRequest(vscode_languageserver_protocol_1.InlayHintResolveRequest.type, client.code2ProtocolConverter.asInlayHint(item), token);\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        const result = client.protocol2CodeConverter.asInlayHint(value, token);\n                        return token.isCancellationRequested ? null : result;\n                    }\n                    catch (error) {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.InlayHintResolveRequest.type, token, error, null);\n                    }\n                };\n                const middleware = client.middleware;\n                return middleware.resolveInlayHint\n                    ? middleware.resolveInlayHint(hint, token, resolveInlayHint)\n                    : resolveInlayHint(hint, token);\n            }\n            : undefined;\n        return [this.registerProvider(selector, provider), { provider: provider, onDidChangeInlayHints: eventEmitter }];\n    }\n    registerProvider(selector, provider) {\n        return vscode_1.languages.registerInlayHintsProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider);\n    }\n}\nexports.InlayHintsFeature = InlayHintsFeature;\n//# sourceMappingURL=inlayHint.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlineValueFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nclass InlineValueFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.InlineValueRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'inlineValue').dynamicRegistration = true;\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'workspace'), 'inlineValue').refreshSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        this._client.onRequest(vscode_languageserver_protocol_1.InlineValueRefreshRequest.type, async () => {\n            for (const provider of this.getAllProviders()) {\n                provider.onDidChangeInlineValues.fire();\n            }\n        });\n        const [id, options] = this.getRegistration(documentSelector, capabilities.inlineValueProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const eventEmitter = new vscode_1.EventEmitter();\n        const provider = {\n            onDidChangeInlineValues: eventEmitter.event,\n            provideInlineValues: (document, viewPort, context, token) => {\n                const client = this._client;\n                const provideInlineValues = (document, viewPort, context, token) => {\n                    const requestParams = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                        range: client.code2ProtocolConverter.asRange(viewPort),\n                        context: client.code2ProtocolConverter.asInlineValueContext(context)\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.InlineValueRequest.type, requestParams, token).then((values) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asInlineValues(values, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.InlineValueRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideInlineValues\n                    ? middleware.provideInlineValues(document, viewPort, context, token, provideInlineValues)\n                    : provideInlineValues(document, viewPort, context, token);\n            }\n        };\n        return [this.registerProvider(selector, provider), { provider: provider, onDidChangeInlineValues: eventEmitter }];\n    }\n    registerProvider(selector, provider) {\n        return vscode_1.languages.registerInlineValuesProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider);\n    }\n}\nexports.InlineValueFeature = InlineValueFeature;\n//# sourceMappingURL=inlineValue.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LinkedEditingFeature = void 0;\nconst code = require(\"vscode\");\nconst proto = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nclass LinkedEditingFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, proto.LinkedEditingRangeRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        const linkedEditingSupport = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'linkedEditingRange');\n        linkedEditingSupport.dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let [id, options] = this.getRegistration(documentSelector, capabilities.linkedEditingRangeProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideLinkedEditingRanges: (document, position, token) => {\n                const client = this._client;\n                const provideLinkedEditing = (document, position, token) => {\n                    return client.sendRequest(proto.LinkedEditingRangeRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asLinkedEditingRanges(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(proto.LinkedEditingRangeRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideLinkedEditingRange\n                    ? middleware.provideLinkedEditingRange(document, position, token, provideLinkedEditing)\n                    : provideLinkedEditing(document, position, token);\n            }\n        };\n        return [this.registerProvider(selector, provider), provider];\n    }\n    registerProvider(selector, provider) {\n        return code.languages.registerLinkedEditingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider);\n    }\n}\nexports.LinkedEditingFeature = LinkedEditingFeature;\n//# sourceMappingURL=linkedEditingRange.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.NotebookDocumentSyncFeature = void 0;\nconst vscode = require(\"vscode\");\nconst minimatch = require(\"minimatch\");\nconst proto = require(\"vscode-languageserver-protocol\");\nconst UUID = require(\"./utils/uuid\");\nconst Is = require(\"./utils/is\");\nfunction ensure(target, key) {\n    if (target[key] === void 0) {\n        target[key] = {};\n    }\n    return target[key];\n}\nvar Converter;\n(function (Converter) {\n    let c2p;\n    (function (c2p) {\n        function asVersionedNotebookDocumentIdentifier(notebookDocument, base) {\n            return {\n                version: notebookDocument.version,\n                uri: base.asUri(notebookDocument.uri)\n            };\n        }\n        c2p.asVersionedNotebookDocumentIdentifier = asVersionedNotebookDocumentIdentifier;\n        function asNotebookDocument(notebookDocument, cells, base) {\n            const result = proto.NotebookDocument.create(base.asUri(notebookDocument.uri), notebookDocument.notebookType, notebookDocument.version, asNotebookCells(cells, base));\n            if (Object.keys(notebookDocument.metadata).length > 0) {\n                result.metadata = asMetadata(notebookDocument.metadata);\n            }\n            return result;\n        }\n        c2p.asNotebookDocument = asNotebookDocument;\n        function asNotebookCells(cells, base) {\n            return cells.map(cell => asNotebookCell(cell, base));\n        }\n        c2p.asNotebookCells = asNotebookCells;\n        function asMetadata(metadata) {\n            const seen = new Set();\n            return deepCopy(seen, metadata);\n        }\n        c2p.asMetadata = asMetadata;\n        function asNotebookCell(cell, base) {\n            const result = proto.NotebookCell.create(asNotebookCellKind(cell.kind), base.asUri(cell.document.uri));\n            if (Object.keys(cell.metadata).length > 0) {\n                result.metadata = asMetadata(cell.metadata);\n            }\n            if (cell.executionSummary !== undefined && (Is.number(cell.executionSummary.executionOrder) && Is.boolean(cell.executionSummary.success))) {\n                result.executionSummary = {\n                    executionOrder: cell.executionSummary.executionOrder,\n                    success: cell.executionSummary.success\n                };\n            }\n            return result;\n        }\n        c2p.asNotebookCell = asNotebookCell;\n        function asNotebookCellKind(kind) {\n            switch (kind) {\n                case vscode.NotebookCellKind.Markup:\n                    return proto.NotebookCellKind.Markup;\n                case vscode.NotebookCellKind.Code:\n                    return proto.NotebookCellKind.Code;\n            }\n        }\n        function deepCopy(seen, value) {\n            if (seen.has(value)) {\n                throw new Error(`Can't deep copy cyclic structures.`);\n            }\n            if (Array.isArray(value)) {\n                const result = [];\n                for (const elem of value) {\n                    if (elem !== null && typeof elem === 'object' || Array.isArray(elem)) {\n                        result.push(deepCopy(seen, elem));\n                    }\n                    else {\n                        if (elem instanceof RegExp) {\n                            throw new Error(`Can't transfer regular expressions to the server`);\n                        }\n                        result.push(elem);\n                    }\n                }\n                return result;\n            }\n            else {\n                const props = Object.keys(value);\n                const result = Object.create(null);\n                for (const prop of props) {\n                    const elem = value[prop];\n                    if (elem !== null && typeof elem === 'object' || Array.isArray(elem)) {\n                        result[prop] = deepCopy(seen, elem);\n                    }\n                    else {\n                        if (elem instanceof RegExp) {\n                            throw new Error(`Can't transfer regular expressions to the server`);\n                        }\n                        result[prop] = elem;\n                    }\n                }\n                return result;\n            }\n        }\n        function asTextContentChange(event, base) {\n            const params = base.asChangeTextDocumentParams(event);\n            return { document: params.textDocument, changes: params.contentChanges };\n        }\n        c2p.asTextContentChange = asTextContentChange;\n        function asNotebookDocumentChangeEvent(event, base) {\n            const result = Object.create(null);\n            if (event.metadata) {\n                result.metadata = Converter.c2p.asMetadata(event.metadata);\n            }\n            if (event.cells !== undefined) {\n                const cells = Object.create(null);\n                const changedCells = event.cells;\n                if (changedCells.structure) {\n                    cells.structure = {\n                        array: {\n                            start: changedCells.structure.array.start,\n                            deleteCount: changedCells.structure.array.deleteCount,\n                            cells: changedCells.structure.array.cells !== undefined ? changedCells.structure.array.cells.map(cell => Converter.c2p.asNotebookCell(cell, base)) : undefined\n                        },\n                        didOpen: changedCells.structure.didOpen !== undefined\n                            ? changedCells.structure.didOpen.map(cell => base.asOpenTextDocumentParams(cell.document).textDocument)\n                            : undefined,\n                        didClose: changedCells.structure.didClose !== undefined\n                            ? changedCells.structure.didClose.map(cell => base.asCloseTextDocumentParams(cell.document).textDocument)\n                            : undefined\n                    };\n                }\n                if (changedCells.data !== undefined) {\n                    cells.data = changedCells.data.map(cell => Converter.c2p.asNotebookCell(cell, base));\n                }\n                if (changedCells.textContent !== undefined) {\n                    cells.textContent = changedCells.textContent.map(event => Converter.c2p.asTextContentChange(event, base));\n                }\n                if (Object.keys(cells).length > 0) {\n                    result.cells = cells;\n                }\n            }\n            return result;\n        }\n        c2p.asNotebookDocumentChangeEvent = asNotebookDocumentChangeEvent;\n    })(c2p = Converter.c2p || (Converter.c2p = {}));\n})(Converter || (Converter = {}));\nvar $NotebookCell;\n(function ($NotebookCell) {\n    function computeDiff(originalCells, modifiedCells, compareMetadata) {\n        const originalLength = originalCells.length;\n        const modifiedLength = modifiedCells.length;\n        let startIndex = 0;\n        while (startIndex < modifiedLength && startIndex < originalLength && equals(originalCells[startIndex], modifiedCells[startIndex], compareMetadata)) {\n            startIndex++;\n        }\n        if (startIndex < modifiedLength && startIndex < originalLength) {\n            let originalEndIndex = originalLength - 1;\n            let modifiedEndIndex = modifiedLength - 1;\n            while (originalEndIndex >= 0 && modifiedEndIndex >= 0 && equals(originalCells[originalEndIndex], modifiedCells[modifiedEndIndex], compareMetadata)) {\n                originalEndIndex--;\n                modifiedEndIndex--;\n            }\n            const deleteCount = (originalEndIndex + 1) - startIndex;\n            const newCells = startIndex === modifiedEndIndex + 1 ? undefined : modifiedCells.slice(startIndex, modifiedEndIndex + 1);\n            return newCells !== undefined ? { start: startIndex, deleteCount, cells: newCells } : { start: startIndex, deleteCount };\n        }\n        else if (startIndex < modifiedLength) {\n            return { start: startIndex, deleteCount: 0, cells: modifiedCells.slice(startIndex) };\n        }\n        else if (startIndex < originalLength) {\n            return { start: startIndex, deleteCount: originalLength - startIndex };\n        }\n        else {\n            // The two arrays are the same.\n            return undefined;\n        }\n    }\n    $NotebookCell.computeDiff = computeDiff;\n    /**\n     * We only sync kind, document, execution and metadata to the server. So we only need to compare those.\n     */\n    function equals(one, other, compareMetaData = true) {\n        if (one.kind !== other.kind || one.document.uri.toString() !== other.document.uri.toString() || one.document.languageId !== other.document.languageId ||\n            !equalsExecution(one.executionSummary, other.executionSummary)) {\n            return false;\n        }\n        return !compareMetaData || (compareMetaData && equalsMetadata(one.metadata, other.metadata));\n    }\n    function equalsExecution(one, other) {\n        if (one === other) {\n            return true;\n        }\n        if (one === undefined || other === undefined) {\n            return false;\n        }\n        return one.executionOrder === other.executionOrder && one.success === other.success && equalsTiming(one.timing, other.timing);\n    }\n    function equalsTiming(one, other) {\n        if (one === other) {\n            return true;\n        }\n        if (one === undefined || other === undefined) {\n            return false;\n        }\n        return one.startTime === other.startTime && one.endTime === other.endTime;\n    }\n    function equalsMetadata(one, other) {\n        if (one === other) {\n            return true;\n        }\n        if (one === null || one === undefined || other === null || other === undefined) {\n            return false;\n        }\n        if (typeof one !== typeof other) {\n            return false;\n        }\n        if (typeof one !== 'object') {\n            return false;\n        }\n        const oneArray = Array.isArray(one);\n        const otherArray = Array.isArray(other);\n        if (oneArray !== otherArray) {\n            return false;\n        }\n        if (oneArray && otherArray) {\n            if (one.length !== other.length) {\n                return false;\n            }\n            for (let i = 0; i < one.length; i++) {\n                if (!equalsMetadata(one[i], other[i])) {\n                    return false;\n                }\n            }\n        }\n        if (isObjectLiteral(one) && isObjectLiteral(other)) {\n            const oneKeys = Object.keys(one);\n            const otherKeys = Object.keys(other);\n            if (oneKeys.length !== otherKeys.length) {\n                return false;\n            }\n            oneKeys.sort();\n            otherKeys.sort();\n            if (!equalsMetadata(oneKeys, otherKeys)) {\n                return false;\n            }\n            for (let i = 0; i < oneKeys.length; i++) {\n                const prop = oneKeys[i];\n                if (!equalsMetadata(one[prop], other[prop])) {\n                    return false;\n                }\n            }\n            return true;\n        }\n        return false;\n    }\n    function isObjectLiteral(value) {\n        return value !== null && typeof value === 'object';\n    }\n    $NotebookCell.isObjectLiteral = isObjectLiteral;\n})($NotebookCell || ($NotebookCell = {}));\nvar $NotebookDocumentFilter;\n(function ($NotebookDocumentFilter) {\n    function matchNotebook(filter, notebookDocument) {\n        if (typeof filter === 'string') {\n            return filter === '*' || notebookDocument.notebookType === filter;\n        }\n        if (filter.notebookType !== undefined && filter.notebookType !== '*' && notebookDocument.notebookType !== filter.notebookType) {\n            return false;\n        }\n        const uri = notebookDocument.uri;\n        if (filter.scheme !== undefined && filter.scheme !== '*' && uri.scheme !== filter.scheme) {\n            return false;\n        }\n        if (filter.pattern !== undefined) {\n            const matcher = new minimatch.Minimatch(filter.pattern, { noext: true });\n            if (!matcher.makeRe()) {\n                return false;\n            }\n            if (!matcher.match(uri.fsPath)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    $NotebookDocumentFilter.matchNotebook = matchNotebook;\n})($NotebookDocumentFilter || ($NotebookDocumentFilter = {}));\nvar $NotebookDocumentSyncOptions;\n(function ($NotebookDocumentSyncOptions) {\n    function asDocumentSelector(options) {\n        const selector = options.notebookSelector;\n        const result = [];\n        for (const element of selector) {\n            const notebookType = (typeof element.notebook === 'string' ? element.notebook : element.notebook?.notebookType) ?? '*';\n            const scheme = (typeof element.notebook === 'string') ? undefined : element.notebook?.scheme;\n            const pattern = (typeof element.notebook === 'string') ? undefined : element.notebook?.pattern;\n            if (element.cells !== undefined) {\n                for (const cell of element.cells) {\n                    result.push(asDocumentFilter(notebookType, scheme, pattern, cell.language));\n                }\n            }\n            else {\n                result.push(asDocumentFilter(notebookType, scheme, pattern, undefined));\n            }\n        }\n        return result;\n    }\n    $NotebookDocumentSyncOptions.asDocumentSelector = asDocumentSelector;\n    function asDocumentFilter(notebookType, scheme, pattern, language) {\n        return scheme === undefined && pattern === undefined\n            ? { notebook: notebookType, language }\n            : { notebook: { notebookType, scheme, pattern }, language };\n    }\n})($NotebookDocumentSyncOptions || ($NotebookDocumentSyncOptions = {}));\nvar SyncInfo;\n(function (SyncInfo) {\n    function create(cells) {\n        return {\n            cells,\n            uris: new Set(cells.map(cell => cell.document.uri.toString()))\n        };\n    }\n    SyncInfo.create = create;\n})(SyncInfo || (SyncInfo = {}));\nclass NotebookDocumentSyncFeatureProvider {\n    constructor(client, options) {\n        this.client = client;\n        this.options = options;\n        this.notebookSyncInfo = new Map();\n        this.notebookDidOpen = new Set();\n        this.disposables = [];\n        this.selector = client.protocol2CodeConverter.asDocumentSelector($NotebookDocumentSyncOptions.asDocumentSelector(options));\n        // open\n        vscode.workspace.onDidOpenNotebookDocument((notebookDocument) => {\n            this.notebookDidOpen.add(notebookDocument.uri.toString());\n            this.didOpen(notebookDocument);\n        }, undefined, this.disposables);\n        for (const notebookDocument of vscode.workspace.notebookDocuments) {\n            this.notebookDidOpen.add(notebookDocument.uri.toString());\n            this.didOpen(notebookDocument);\n        }\n        // Notebook document changed.\n        vscode.workspace.onDidChangeNotebookDocument(event => this.didChangeNotebookDocument(event), undefined, this.disposables);\n        //save\n        if (this.options.save === true) {\n            vscode.workspace.onDidSaveNotebookDocument(notebookDocument => this.didSave(notebookDocument), undefined, this.disposables);\n        }\n        // close\n        vscode.workspace.onDidCloseNotebookDocument((notebookDocument) => {\n            this.didClose(notebookDocument);\n            this.notebookDidOpen.delete(notebookDocument.uri.toString());\n        }, undefined, this.disposables);\n    }\n    getState() {\n        for (const notebook of vscode.workspace.notebookDocuments) {\n            const matchingCells = this.getMatchingCells(notebook);\n            if (matchingCells !== undefined) {\n                return { kind: 'document', id: '$internal', registrations: true, matches: true };\n            }\n        }\n        return { kind: 'document', id: '$internal', registrations: true, matches: false };\n    }\n    get mode() {\n        return 'notebook';\n    }\n    handles(textDocument) {\n        return vscode.languages.match(this.selector, textDocument) > 0;\n    }\n    didOpenNotebookCellTextDocument(notebookDocument, cell) {\n        if (vscode.languages.match(this.selector, cell.document) === 0) {\n            return;\n        }\n        if (!this.notebookDidOpen.has(notebookDocument.uri.toString())) {\n            // We have never received an open notification for the notebook document.\n            // VS Code guarantees that we first get cell document open and then\n            // notebook open. So simply wait for the notebook open.\n            return;\n        }\n        const syncInfo = this.notebookSyncInfo.get(notebookDocument.uri.toString());\n        // In VS Code we receive a notebook open before a cell document open.\n        // The document and the cell is synced.\n        const cellMatches = this.cellMatches(notebookDocument, cell);\n        if (syncInfo !== undefined) {\n            const cellIsSynced = syncInfo.uris.has(cell.document.uri.toString());\n            if ((cellMatches && cellIsSynced) || (!cellMatches && !cellIsSynced)) {\n                // The cell doesn't match and was not synced or it matches and is synced.\n                // In both cases nothing to do.\n                //\n                // Note that if the language mode of a document changes we remove the\n                // cell and add it back to update the language mode on the server side.\n                return;\n            }\n            if (cellMatches) {\n                // don't use cells from above since there might be more matching cells in the notebook\n                // Since we had a matching cell above we will have matching cells now.\n                const matchingCells = this.getMatchingCells(notebookDocument);\n                if (matchingCells !== undefined) {\n                    const event = this.asNotebookDocumentChangeEvent(notebookDocument, undefined, syncInfo, matchingCells);\n                    if (event !== undefined) {\n                        this.doSendChange(event, matchingCells).catch(() => { });\n                    }\n                }\n            }\n        }\n        else {\n            // No sync info. But we have a open event for the notebook document\n            // itself. If the cell matches then we need to send an open with\n            // exactly that cell.\n            if (cellMatches) {\n                this.doSendOpen(notebookDocument, [cell]).catch(() => { });\n            }\n        }\n    }\n    didChangeNotebookCellTextDocument(notebookDocument, event) {\n        // No match with the selector\n        if (vscode.languages.match(this.selector, event.document) === 0) {\n            return;\n        }\n        this.doSendChange({\n            notebook: notebookDocument,\n            cells: { textContent: [event] }\n        }, undefined).catch(() => { });\n    }\n    didCloseNotebookCellTextDocument(notebookDocument, cell) {\n        const syncInfo = this.notebookSyncInfo.get(notebookDocument.uri.toString());\n        if (syncInfo === undefined) {\n            // The notebook document got never synced. So it doesn't matter if a cell\n            // document closes.\n            return;\n        }\n        const cellUri = cell.document.uri;\n        const index = syncInfo.cells.findIndex((item) => item.document.uri.toString() === cellUri.toString());\n        if (index === -1) {\n            // The cell never got synced or it got deleted and we now received the document\n            // close event.\n            return;\n        }\n        if (index === 0 && syncInfo.cells.length === 1) {\n            // The last cell. Close the notebook document in the server.\n            this.doSendClose(notebookDocument, syncInfo.cells).catch(() => { });\n        }\n        else {\n            const newCells = syncInfo.cells.slice();\n            const deleted = newCells.splice(index, 1);\n            this.doSendChange({\n                notebook: notebookDocument,\n                cells: {\n                    structure: {\n                        array: { start: index, deleteCount: 1 },\n                        didClose: deleted\n                    }\n                }\n            }, newCells).catch(() => { });\n        }\n    }\n    dispose() {\n        for (const disposable of this.disposables) {\n            disposable.dispose();\n        }\n    }\n    didOpen(notebookDocument, matchingCells = this.getMatchingCells(notebookDocument), syncInfo = this.notebookSyncInfo.get(notebookDocument.uri.toString())) {\n        if (syncInfo !== undefined) {\n            if (matchingCells !== undefined) {\n                const event = this.asNotebookDocumentChangeEvent(notebookDocument, undefined, syncInfo, matchingCells);\n                if (event !== undefined) {\n                    this.doSendChange(event, matchingCells).catch(() => { });\n                }\n            }\n            else {\n                this.doSendClose(notebookDocument, []).catch(() => { });\n            }\n        }\n        else {\n            // Check if we need to sync the notebook document.\n            if (matchingCells === undefined) {\n                return;\n            }\n            this.doSendOpen(notebookDocument, matchingCells).catch(() => { });\n        }\n    }\n    didChangeNotebookDocument(event) {\n        const notebookDocument = event.notebook;\n        const syncInfo = this.notebookSyncInfo.get(notebookDocument.uri.toString());\n        if (syncInfo === undefined) {\n            // We have no changes to the cells. Since the notebook wasn't synced\n            // it will not be synced now.\n            if (event.contentChanges.length === 0) {\n                return;\n            }\n            // Check if we have new matching cells.\n            const cells = this.getMatchingCells(notebookDocument);\n            // No matching cells and the notebook never synced. So still no need\n            // to sync it.\n            if (cells === undefined) {\n                return;\n            }\n            // Open the notebook document and ignore the rest of the changes\n            // this the notebooks will be synced with the correct settings.\n            this.didOpen(notebookDocument, cells, syncInfo);\n        }\n        else {\n            // The notebook is synced. First check if we have no matching\n            // cells anymore and if so close the notebook\n            const cells = this.getMatchingCells(notebookDocument);\n            if (cells === undefined) {\n                this.didClose(notebookDocument, syncInfo);\n                return;\n            }\n            const newEvent = this.asNotebookDocumentChangeEvent(event.notebook, event, syncInfo, cells);\n            if (newEvent !== undefined) {\n                this.doSendChange(newEvent, cells).catch(() => { });\n            }\n        }\n    }\n    didSave(notebookDocument) {\n        const syncInfo = this.notebookSyncInfo.get(notebookDocument.uri.toString());\n        if (syncInfo === undefined) {\n            return;\n        }\n        this.doSendSave(notebookDocument).catch(() => { });\n    }\n    didClose(notebookDocument, syncInfo = this.notebookSyncInfo.get(notebookDocument.uri.toString())) {\n        if (syncInfo === undefined) {\n            return;\n        }\n        const syncedCells = notebookDocument.getCells().filter(cell => syncInfo.uris.has(cell.document.uri.toString()));\n        this.doSendClose(notebookDocument, syncedCells).catch(() => { });\n    }\n    async sendDidOpenNotebookDocument(notebookDocument) {\n        const cells = this.getMatchingCells(notebookDocument);\n        if (cells === undefined) {\n            return;\n        }\n        return this.doSendOpen(notebookDocument, cells);\n    }\n    async doSendOpen(notebookDocument, cells) {\n        const send = async (notebookDocument, cells) => {\n            const nb = Converter.c2p.asNotebookDocument(notebookDocument, cells, this.client.code2ProtocolConverter);\n            const cellDocuments = cells.map(cell => this.client.code2ProtocolConverter.asTextDocumentItem(cell.document));\n            try {\n                await this.client.sendNotification(proto.DidOpenNotebookDocumentNotification.type, {\n                    notebookDocument: nb,\n                    cellTextDocuments: cellDocuments\n                });\n            }\n            catch (error) {\n                this.client.error('Sending DidOpenNotebookDocumentNotification failed', error);\n                throw error;\n            }\n        };\n        const middleware = this.client.middleware?.notebooks;\n        this.notebookSyncInfo.set(notebookDocument.uri.toString(), SyncInfo.create(cells));\n        return middleware?.didOpen !== undefined ? middleware.didOpen(notebookDocument, cells, send) : send(notebookDocument, cells);\n    }\n    async sendDidChangeNotebookDocument(event) {\n        return this.doSendChange(event, undefined);\n    }\n    async doSendChange(event, cells = this.getMatchingCells(event.notebook)) {\n        const send = async (event) => {\n            try {\n                await this.client.sendNotification(proto.DidChangeNotebookDocumentNotification.type, {\n                    notebookDocument: Converter.c2p.asVersionedNotebookDocumentIdentifier(event.notebook, this.client.code2ProtocolConverter),\n                    change: Converter.c2p.asNotebookDocumentChangeEvent(event, this.client.code2ProtocolConverter)\n                });\n            }\n            catch (error) {\n                this.client.error('Sending DidChangeNotebookDocumentNotification failed', error);\n                throw error;\n            }\n        };\n        const middleware = this.client.middleware?.notebooks;\n        if (event.cells?.structure !== undefined) {\n            this.notebookSyncInfo.set(event.notebook.uri.toString(), SyncInfo.create(cells ?? []));\n        }\n        return middleware?.didChange !== undefined ? middleware?.didChange(event, send) : send(event);\n    }\n    async sendDidSaveNotebookDocument(notebookDocument) {\n        return this.doSendSave(notebookDocument);\n    }\n    async doSendSave(notebookDocument) {\n        const send = async (notebookDocument) => {\n            try {\n                await this.client.sendNotification(proto.DidSaveNotebookDocumentNotification.type, {\n                    notebookDocument: { uri: this.client.code2ProtocolConverter.asUri(notebookDocument.uri) }\n                });\n            }\n            catch (error) {\n                this.client.error('Sending DidSaveNotebookDocumentNotification failed', error);\n                throw error;\n            }\n        };\n        const middleware = this.client.middleware?.notebooks;\n        return middleware?.didSave !== undefined ? middleware.didSave(notebookDocument, send) : send(notebookDocument);\n    }\n    async sendDidCloseNotebookDocument(notebookDocument) {\n        return this.doSendClose(notebookDocument, this.getMatchingCells(notebookDocument) ?? []);\n    }\n    async doSendClose(notebookDocument, cells) {\n        const send = async (notebookDocument, cells) => {\n            try {\n                await this.client.sendNotification(proto.DidCloseNotebookDocumentNotification.type, {\n                    notebookDocument: { uri: this.client.code2ProtocolConverter.asUri(notebookDocument.uri) },\n                    cellTextDocuments: cells.map(cell => this.client.code2ProtocolConverter.asTextDocumentIdentifier(cell.document))\n                });\n            }\n            catch (error) {\n                this.client.error('Sending DidCloseNotebookDocumentNotification failed', error);\n                throw error;\n            }\n        };\n        const middleware = this.client.middleware?.notebooks;\n        this.notebookSyncInfo.delete(notebookDocument.uri.toString());\n        return middleware?.didClose !== undefined ? middleware.didClose(notebookDocument, cells, send) : send(notebookDocument, cells);\n    }\n    asNotebookDocumentChangeEvent(notebook, event, syncInfo, matchingCells) {\n        if (event !== undefined && event.notebook !== notebook) {\n            throw new Error('Notebook must be identical');\n        }\n        const result = {\n            notebook: notebook\n        };\n        if (event?.metadata !== undefined) {\n            result.metadata = Converter.c2p.asMetadata(event.metadata);\n        }\n        let matchingCellsSet;\n        if (event?.cellChanges !== undefined && event.cellChanges.length > 0) {\n            const data = [];\n            // Only consider the new matching cells.\n            matchingCellsSet = new Set(matchingCells.map(cell => cell.document.uri.toString()));\n            for (const cellChange of event.cellChanges) {\n                if (matchingCellsSet.has(cellChange.cell.document.uri.toString()) && (cellChange.executionSummary !== undefined || cellChange.metadata !== undefined)) {\n                    data.push(cellChange.cell);\n                }\n            }\n            if (data.length > 0) {\n                result.cells = result.cells ?? {};\n                result.cells.data = data;\n            }\n        }\n        if (((event?.contentChanges !== undefined && event.contentChanges.length > 0) || event === undefined) && syncInfo !== undefined && matchingCells !== undefined) {\n            // We still have matching cells. Check if the cell changes\n            // affect the notebook on the server side.\n            const oldCells = syncInfo.cells;\n            const newCells = matchingCells;\n            // meta data changes are reported using on the cell itself. So we can ignore comparing\n            // it which has a positive effect on performance.\n            const diff = $NotebookCell.computeDiff(oldCells, newCells, false);\n            let addedCells;\n            let removedCells;\n            if (diff !== undefined) {\n                addedCells = diff.cells === undefined\n                    ? new Map()\n                    : new Map(diff.cells.map(cell => [cell.document.uri.toString(), cell]));\n                removedCells = diff.deleteCount === 0\n                    ? new Map()\n                    : new Map(oldCells.slice(diff.start, diff.start + diff.deleteCount).map(cell => [cell.document.uri.toString(), cell]));\n                // Remove the onces that got deleted and inserted again.\n                for (const key of Array.from(removedCells.keys())) {\n                    if (addedCells.has(key)) {\n                        removedCells.delete(key);\n                        addedCells.delete(key);\n                    }\n                }\n                result.cells = result.cells ?? {};\n                const didOpen = [];\n                const didClose = [];\n                if (addedCells.size > 0 || removedCells.size > 0) {\n                    for (const cell of addedCells.values()) {\n                        didOpen.push(cell);\n                    }\n                    for (const cell of removedCells.values()) {\n                        didClose.push(cell);\n                    }\n                }\n                result.cells.structure = {\n                    array: diff,\n                    didOpen,\n                    didClose\n                };\n            }\n        }\n        // The notebook is a property as well.\n        return Object.keys(result).length > 1 ? result : undefined;\n    }\n    getMatchingCells(notebookDocument, cells = notebookDocument.getCells()) {\n        if (this.options.notebookSelector === undefined) {\n            return undefined;\n        }\n        for (const item of this.options.notebookSelector) {\n            if (item.notebook === undefined || $NotebookDocumentFilter.matchNotebook(item.notebook, notebookDocument)) {\n                const filtered = this.filterCells(notebookDocument, cells, item.cells);\n                return filtered.length === 0 ? undefined : filtered;\n            }\n        }\n        return undefined;\n    }\n    cellMatches(notebookDocument, cell) {\n        const cells = this.getMatchingCells(notebookDocument, [cell]);\n        return cells !== undefined && cells[0] === cell;\n    }\n    filterCells(notebookDocument, cells, cellSelector) {\n        const filtered = cellSelector !== undefined ? cells.filter((cell) => {\n            const cellLanguage = cell.document.languageId;\n            return cellSelector.some((filter => (filter.language === '*' || cellLanguage === filter.language)));\n        }) : cells;\n        return typeof this.client.clientOptions.notebookDocumentOptions?.filterCells === 'function'\n            ? this.client.clientOptions.notebookDocumentOptions.filterCells(notebookDocument, filtered)\n            : filtered;\n    }\n}\nclass NotebookDocumentSyncFeature {\n    constructor(client) {\n        this.client = client;\n        this.registrations = new Map();\n        this.registrationType = proto.NotebookDocumentSyncRegistrationType.type;\n        // We don't receive an event for cells where the document changes its language mode\n        // Since we allow servers to filter on the language mode we fire such an event ourselves.\n        vscode.workspace.onDidOpenTextDocument((textDocument) => {\n            if (textDocument.uri.scheme !== NotebookDocumentSyncFeature.CellScheme) {\n                return;\n            }\n            const [notebookDocument, notebookCell] = this.findNotebookDocumentAndCell(textDocument);\n            if (notebookDocument === undefined || notebookCell === undefined) {\n                return;\n            }\n            for (const provider of this.registrations.values()) {\n                if (provider instanceof NotebookDocumentSyncFeatureProvider) {\n                    provider.didOpenNotebookCellTextDocument(notebookDocument, notebookCell);\n                }\n            }\n        });\n        vscode.workspace.onDidChangeTextDocument((event) => {\n            if (event.contentChanges.length === 0) {\n                return;\n            }\n            const textDocument = event.document;\n            if (textDocument.uri.scheme !== NotebookDocumentSyncFeature.CellScheme) {\n                return;\n            }\n            const [notebookDocument,] = this.findNotebookDocumentAndCell(textDocument);\n            if (notebookDocument === undefined) {\n                return;\n            }\n            for (const provider of this.registrations.values()) {\n                if (provider instanceof NotebookDocumentSyncFeatureProvider) {\n                    provider.didChangeNotebookCellTextDocument(notebookDocument, event);\n                }\n            }\n        });\n        vscode.workspace.onDidCloseTextDocument((textDocument) => {\n            if (textDocument.uri.scheme !== NotebookDocumentSyncFeature.CellScheme) {\n                return;\n            }\n            // There are two cases when we receive a close for a text document\n            // 1: the cell got removed. This is handled in `onDidChangeNotebookCells`\n            // 2: the language mode of a cell changed. This keeps the URI stable so\n            //    we will still find the cell and the notebook document.\n            const [notebookDocument, notebookCell] = this.findNotebookDocumentAndCell(textDocument);\n            if (notebookDocument === undefined || notebookCell === undefined) {\n                return;\n            }\n            for (const provider of this.registrations.values()) {\n                if (provider instanceof NotebookDocumentSyncFeatureProvider) {\n                    provider.didCloseNotebookCellTextDocument(notebookDocument, notebookCell);\n                }\n            }\n        });\n    }\n    getState() {\n        if (this.registrations.size === 0) {\n            return { kind: 'document', id: this.registrationType.method, registrations: false, matches: false };\n        }\n        for (const provider of this.registrations.values()) {\n            const state = provider.getState();\n            if (state.kind === 'document' && state.registrations === true && state.matches === true) {\n                return { kind: 'document', id: this.registrationType.method, registrations: true, matches: true };\n            }\n        }\n        return { kind: 'document', id: this.registrationType.method, registrations: true, matches: false };\n    }\n    fillClientCapabilities(capabilities) {\n        const synchronization = ensure(ensure(capabilities, 'notebookDocument'), 'synchronization');\n        synchronization.dynamicRegistration = true;\n        synchronization.executionSummarySupport = true;\n    }\n    preInitialize(capabilities) {\n        const options = capabilities.notebookDocumentSync;\n        if (options === undefined) {\n            return;\n        }\n        this.dedicatedChannel = this.client.protocol2CodeConverter.asDocumentSelector($NotebookDocumentSyncOptions.asDocumentSelector(options));\n    }\n    initialize(capabilities) {\n        const options = capabilities.notebookDocumentSync;\n        if (options === undefined) {\n            return;\n        }\n        const id = options.id ?? UUID.generateUuid();\n        this.register({ id, registerOptions: options });\n    }\n    register(data) {\n        const provider = new NotebookDocumentSyncFeatureProvider(this.client, data.registerOptions);\n        this.registrations.set(data.id, provider);\n    }\n    unregister(id) {\n        const provider = this.registrations.get(id);\n        provider && provider.dispose();\n    }\n    dispose() {\n        for (const provider of this.registrations.values()) {\n            provider.dispose();\n        }\n        this.registrations.clear();\n    }\n    handles(textDocument) {\n        if (textDocument.uri.scheme !== NotebookDocumentSyncFeature.CellScheme) {\n            return false;\n        }\n        if (this.dedicatedChannel !== undefined && vscode.languages.match(this.dedicatedChannel, textDocument) > 0) {\n            return true;\n        }\n        for (const provider of this.registrations.values()) {\n            if (provider.handles(textDocument)) {\n                return true;\n            }\n        }\n        return false;\n    }\n    getProvider(notebookCell) {\n        for (const provider of this.registrations.values()) {\n            if (provider.handles(notebookCell.document)) {\n                return provider;\n            }\n        }\n        return undefined;\n    }\n    findNotebookDocumentAndCell(textDocument) {\n        const uri = textDocument.uri.toString();\n        for (const notebookDocument of vscode.workspace.notebookDocuments) {\n            for (const cell of notebookDocument.getCells()) {\n                if (cell.document.uri.toString() === uri) {\n                    return [notebookDocument, cell];\n                }\n            }\n        }\n        return [undefined, undefined];\n    }\n}\nexports.NotebookDocumentSyncFeature = NotebookDocumentSyncFeature;\nNotebookDocumentSyncFeature.CellScheme = 'vscode-notebook-cell';\n//# sourceMappingURL=notebook.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProgressFeature = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst progressPart_1 = require(\"./progressPart\");\nfunction ensure(target, key) {\n    if (target[key] === void 0) {\n        target[key] = Object.create(null);\n    }\n    return target[key];\n}\nclass ProgressFeature {\n    constructor(_client) {\n        this._client = _client;\n        this.activeParts = new Set();\n    }\n    getState() {\n        return { kind: 'window', id: vscode_languageserver_protocol_1.WorkDoneProgressCreateRequest.method, registrations: this.activeParts.size > 0 };\n    }\n    fillClientCapabilities(capabilities) {\n        ensure(capabilities, 'window').workDoneProgress = true;\n    }\n    initialize() {\n        const client = this._client;\n        const deleteHandler = (part) => {\n            this.activeParts.delete(part);\n        };\n        const createHandler = (params) => {\n            this.activeParts.add(new progressPart_1.ProgressPart(this._client, params.token, deleteHandler));\n        };\n        client.onRequest(vscode_languageserver_protocol_1.WorkDoneProgressCreateRequest.type, createHandler);\n    }\n    dispose() {\n        for (const part of this.activeParts) {\n            part.done();\n        }\n        this.activeParts.clear();\n    }\n}\nexports.ProgressFeature = ProgressFeature;\n//# sourceMappingURL=progress.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProgressPart = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst Is = require(\"./utils/is\");\nclass ProgressPart {\n    constructor(_client, _token, done) {\n        this._client = _client;\n        this._token = _token;\n        this._reported = 0;\n        this._infinite = false;\n        this._lspProgressDisposable = this._client.onProgress(vscode_languageserver_protocol_1.WorkDoneProgress.type, this._token, (value) => {\n            switch (value.kind) {\n                case 'begin':\n                    this.begin(value);\n                    break;\n                case 'report':\n                    this.report(value);\n                    break;\n                case 'end':\n                    this.done();\n                    done && done(this);\n                    break;\n            }\n        });\n    }\n    begin(params) {\n        this._infinite = params.percentage === undefined;\n        // the progress as already been marked as done / canceled. Ignore begin call\n        if (this._lspProgressDisposable === undefined) {\n            return;\n        }\n        // Since we don't use commands this will be a silent window progress with a hidden notification.\n        void vscode_1.window.withProgress({ location: vscode_1.ProgressLocation.Window, cancellable: params.cancellable, title: params.title }, async (progress, cancellationToken) => {\n            // the progress as already been marked as done / canceled. Ignore begin call\n            if (this._lspProgressDisposable === undefined) {\n                return;\n            }\n            this._progress = progress;\n            this._cancellationToken = cancellationToken;\n            this._tokenDisposable = this._cancellationToken.onCancellationRequested(() => {\n                this._client.sendNotification(vscode_languageserver_protocol_1.WorkDoneProgressCancelNotification.type, { token: this._token });\n            });\n            this.report(params);\n            return new Promise((resolve, reject) => {\n                this._resolve = resolve;\n                this._reject = reject;\n            });\n        });\n    }\n    report(params) {\n        if (this._infinite && Is.string(params.message)) {\n            this._progress !== undefined && this._progress.report({ message: params.message });\n        }\n        else if (Is.number(params.percentage)) {\n            const percentage = Math.max(0, Math.min(params.percentage, 100));\n            const delta = Math.max(0, percentage - this._reported);\n            this._reported += delta;\n            this._progress !== undefined && this._progress.report({ message: params.message, increment: delta });\n        }\n    }\n    cancel() {\n        this.cleanup();\n        if (this._reject !== undefined) {\n            this._reject();\n            this._resolve = undefined;\n            this._reject = undefined;\n        }\n    }\n    done() {\n        this.cleanup();\n        if (this._resolve !== undefined) {\n            this._resolve();\n            this._resolve = undefined;\n            this._reject = undefined;\n        }\n    }\n    cleanup() {\n        if (this._lspProgressDisposable !== undefined) {\n            this._lspProgressDisposable.dispose();\n            this._lspProgressDisposable = undefined;\n        }\n        if (this._tokenDisposable !== undefined) {\n            this._tokenDisposable.dispose();\n            this._tokenDisposable = undefined;\n        }\n        this._progress = undefined;\n        this._cancellationToken = undefined;\n    }\n}\nexports.ProgressPart = ProgressPart;\n//# sourceMappingURL=progressPart.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code = require(\"vscode\");\nclass ProtocolCallHierarchyItem extends code.CallHierarchyItem {\n    constructor(kind, name, detail, uri, range, selectionRange, data) {\n        super(kind, name, detail, uri, range, selectionRange);\n        if (data !== undefined) {\n            this.data = data;\n        }\n    }\n}\nexports.default = ProtocolCallHierarchyItem;\n//# sourceMappingURL=protocolCallHierarchyItem.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst vscode = require(\"vscode\");\nclass ProtocolCodeAction extends vscode.CodeAction {\n    constructor(title, data) {\n        super(title);\n        this.data = data;\n    }\n}\nexports.default = ProtocolCodeAction;\n//# sourceMappingURL=protocolCodeAction.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code = require(\"vscode\");\nclass ProtocolCodeLens extends code.CodeLens {\n    constructor(range) {\n        super(range);\n    }\n}\nexports.default = ProtocolCodeLens;\n//# sourceMappingURL=protocolCodeLens.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code = require(\"vscode\");\nclass ProtocolCompletionItem extends code.CompletionItem {\n    constructor(label) {\n        super(label);\n    }\n}\nexports.default = ProtocolCompletionItem;\n//# sourceMappingURL=protocolCompletionItem.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createConverter = void 0;\nconst code = require(\"vscode\");\nconst ls = require(\"vscode-languageserver-protocol\");\nconst Is = require(\"./utils/is\");\nconst async = require(\"./utils/async\");\nconst protocolCompletionItem_1 = require(\"./protocolCompletionItem\");\nconst protocolCodeLens_1 = require(\"./protocolCodeLens\");\nconst protocolDocumentLink_1 = require(\"./protocolDocumentLink\");\nconst protocolCodeAction_1 = require(\"./protocolCodeAction\");\nconst protocolDiagnostic_1 = require(\"./protocolDiagnostic\");\nconst protocolCallHierarchyItem_1 = require(\"./protocolCallHierarchyItem\");\nconst protocolTypeHierarchyItem_1 = require(\"./protocolTypeHierarchyItem\");\nconst protocolWorkspaceSymbol_1 = require(\"./protocolWorkspaceSymbol\");\nconst protocolInlayHint_1 = require(\"./protocolInlayHint\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nvar CodeBlock;\n(function (CodeBlock) {\n    function is(value) {\n        let candidate = value;\n        return candidate && Is.string(candidate.language) && Is.string(candidate.value);\n    }\n    CodeBlock.is = is;\n})(CodeBlock || (CodeBlock = {}));\nfunction createConverter(uriConverter, trustMarkdown, supportHtml) {\n    const nullConverter = (value) => code.Uri.parse(value);\n    const _uriConverter = uriConverter || nullConverter;\n    function asUri(value) {\n        return _uriConverter(value);\n    }\n    function asDocumentSelector(selector) {\n        const result = [];\n        for (const filter of selector) {\n            if (typeof filter === 'string') {\n                result.push(filter);\n            }\n            else if (vscode_languageserver_protocol_1.NotebookCellTextDocumentFilter.is(filter)) {\n                // We first need to check for the notebook cell filter since a TextDocumentFilter would\n                // match both (e.g. the notebook is optional).\n                if (typeof filter.notebook === 'string') {\n                    result.push({ notebookType: filter.notebook, language: filter.language });\n                }\n                else {\n                    const notebookType = filter.notebook.notebookType ?? '*';\n                    result.push({ notebookType: notebookType, scheme: filter.notebook.scheme, pattern: filter.notebook.pattern, language: filter.language });\n                }\n            }\n            else if (vscode_languageserver_protocol_1.TextDocumentFilter.is(filter)) {\n                result.push({ language: filter.language, scheme: filter.scheme, pattern: filter.pattern });\n            }\n        }\n        return result;\n    }\n    async function asDiagnostics(diagnostics, token) {\n        return async.map(diagnostics, asDiagnostic, token);\n    }\n    function asDiagnosticsSync(diagnostics) {\n        const result = new Array(diagnostics.length);\n        for (let i = 0; i < diagnostics.length; i++) {\n            result[i] = asDiagnostic(diagnostics[i]);\n        }\n        return result;\n    }\n    function asDiagnostic(diagnostic) {\n        let result = new protocolDiagnostic_1.ProtocolDiagnostic(asRange(diagnostic.range), diagnostic.message, asDiagnosticSeverity(diagnostic.severity), diagnostic.data);\n        if (diagnostic.code !== undefined) {\n            if (typeof diagnostic.code === 'string' || typeof diagnostic.code === 'number') {\n                if (ls.CodeDescription.is(diagnostic.codeDescription)) {\n                    result.code = {\n                        value: diagnostic.code,\n                        target: asUri(diagnostic.codeDescription.href)\n                    };\n                }\n                else {\n                    result.code = diagnostic.code;\n                }\n            }\n            else if (protocolDiagnostic_1.DiagnosticCode.is(diagnostic.code)) {\n                // This is for backwards compatibility of a proposed API.\n                // We should remove this at some point.\n                result.hasDiagnosticCode = true;\n                const diagnosticCode = diagnostic.code;\n                result.code = {\n                    value: diagnosticCode.value,\n                    target: asUri(diagnosticCode.target)\n                };\n            }\n        }\n        if (diagnostic.source) {\n            result.source = diagnostic.source;\n        }\n        if (diagnostic.relatedInformation) {\n            result.relatedInformation = asRelatedInformation(diagnostic.relatedInformation);\n        }\n        if (Array.isArray(diagnostic.tags)) {\n            result.tags = asDiagnosticTags(diagnostic.tags);\n        }\n        return result;\n    }\n    function asRelatedInformation(relatedInformation) {\n        const result = new Array(relatedInformation.length);\n        for (let i = 0; i < relatedInformation.length; i++) {\n            const info = relatedInformation[i];\n            result[i] = new code.DiagnosticRelatedInformation(asLocation(info.location), info.message);\n        }\n        return result;\n    }\n    function asDiagnosticTags(tags) {\n        if (!tags) {\n            return undefined;\n        }\n        let result = [];\n        for (let tag of tags) {\n            let converted = asDiagnosticTag(tag);\n            if (converted !== undefined) {\n                result.push(converted);\n            }\n        }\n        return result.length > 0 ? result : undefined;\n    }\n    function asDiagnosticTag(tag) {\n        switch (tag) {\n            case ls.DiagnosticTag.Unnecessary:\n                return code.DiagnosticTag.Unnecessary;\n            case ls.DiagnosticTag.Deprecated:\n                return code.DiagnosticTag.Deprecated;\n            default:\n                return undefined;\n        }\n    }\n    function asPosition(value) {\n        return value ? new code.Position(value.line, value.character) : undefined;\n    }\n    function asRange(value) {\n        return value ? new code.Range(value.start.line, value.start.character, value.end.line, value.end.character) : undefined;\n    }\n    async function asRanges(items, token) {\n        return async.map(items, (range) => {\n            return new code.Range(range.start.line, range.start.character, range.end.line, range.end.character);\n        }, token);\n    }\n    function asDiagnosticSeverity(value) {\n        if (value === undefined || value === null) {\n            return code.DiagnosticSeverity.Error;\n        }\n        switch (value) {\n            case ls.DiagnosticSeverity.Error:\n                return code.DiagnosticSeverity.Error;\n            case ls.DiagnosticSeverity.Warning:\n                return code.DiagnosticSeverity.Warning;\n            case ls.DiagnosticSeverity.Information:\n                return code.DiagnosticSeverity.Information;\n            case ls.DiagnosticSeverity.Hint:\n                return code.DiagnosticSeverity.Hint;\n        }\n        return code.DiagnosticSeverity.Error;\n    }\n    function asHoverContent(value) {\n        if (Is.string(value)) {\n            return asMarkdownString(value);\n        }\n        else if (CodeBlock.is(value)) {\n            let result = asMarkdownString();\n            return result.appendCodeblock(value.value, value.language);\n        }\n        else if (Array.isArray(value)) {\n            let result = [];\n            for (let element of value) {\n                let item = asMarkdownString();\n                if (CodeBlock.is(element)) {\n                    item.appendCodeblock(element.value, element.language);\n                }\n                else {\n                    item.appendMarkdown(element);\n                }\n                result.push(item);\n            }\n            return result;\n        }\n        else {\n            return asMarkdownString(value);\n        }\n    }\n    function asDocumentation(value) {\n        if (Is.string(value)) {\n            return value;\n        }\n        else {\n            switch (value.kind) {\n                case ls.MarkupKind.Markdown:\n                    return asMarkdownString(value.value);\n                case ls.MarkupKind.PlainText:\n                    return value.value;\n                default:\n                    return `Unsupported Markup content received. Kind is: ${value.kind}`;\n            }\n        }\n    }\n    function asMarkdownString(value) {\n        let result;\n        if (value === undefined || typeof value === 'string') {\n            result = new code.MarkdownString(value);\n        }\n        else {\n            switch (value.kind) {\n                case ls.MarkupKind.Markdown:\n                    result = new code.MarkdownString(value.value);\n                    break;\n                case ls.MarkupKind.PlainText:\n                    result = new code.MarkdownString();\n                    result.appendText(value.value);\n                    break;\n                default:\n                    result = new code.MarkdownString();\n                    result.appendText(`Unsupported Markup content received. Kind is: ${value.kind}`);\n                    break;\n            }\n        }\n        result.isTrusted = trustMarkdown;\n        result.supportHtml = supportHtml;\n        return result;\n    }\n    function asHover(hover) {\n        if (!hover) {\n            return undefined;\n        }\n        return new code.Hover(asHoverContent(hover.contents), asRange(hover.range));\n    }\n    async function asCompletionResult(value, allCommitCharacters, token) {\n        if (!value) {\n            return undefined;\n        }\n        if (Array.isArray(value)) {\n            return async.map(value, (item) => asCompletionItem(item, allCommitCharacters), token);\n        }\n        const list = value;\n        const { defaultRange, commitCharacters } = getCompletionItemDefaults(list, allCommitCharacters);\n        const converted = await async.map(list.items, (item) => {\n            return asCompletionItem(item, commitCharacters, defaultRange, list.itemDefaults?.insertTextMode, list.itemDefaults?.insertTextFormat, list.itemDefaults?.data);\n        }, token);\n        return new code.CompletionList(converted, list.isIncomplete);\n    }\n    function getCompletionItemDefaults(list, allCommitCharacters) {\n        const rangeDefaults = list.itemDefaults?.editRange;\n        const commitCharacters = list.itemDefaults?.commitCharacters ?? allCommitCharacters;\n        return ls.Range.is(rangeDefaults)\n            ? { defaultRange: asRange(rangeDefaults), commitCharacters }\n            : rangeDefaults !== undefined\n                ? { defaultRange: { inserting: asRange(rangeDefaults.insert), replacing: asRange(rangeDefaults.replace) }, commitCharacters }\n                : { defaultRange: undefined, commitCharacters };\n    }\n    function asCompletionItemKind(value) {\n        // Protocol item kind is 1 based, codes item kind is zero based.\n        if (ls.CompletionItemKind.Text <= value && value <= ls.CompletionItemKind.TypeParameter) {\n            return [value - 1, undefined];\n        }\n        return [code.CompletionItemKind.Text, value];\n    }\n    function asCompletionItemTag(tag) {\n        switch (tag) {\n            case ls.CompletionItemTag.Deprecated:\n                return code.CompletionItemTag.Deprecated;\n        }\n        return undefined;\n    }\n    function asCompletionItemTags(tags) {\n        if (tags === undefined || tags === null) {\n            return [];\n        }\n        const result = [];\n        for (const tag of tags) {\n            const converted = asCompletionItemTag(tag);\n            if (converted !== undefined) {\n                result.push(converted);\n            }\n        }\n        return result;\n    }\n    function asCompletionItem(item, defaultCommitCharacters, defaultRange, defaultInsertTextMode, defaultInsertTextFormat, defaultData) {\n        const tags = asCompletionItemTags(item.tags);\n        const label = asCompletionItemLabel(item);\n        const result = new protocolCompletionItem_1.default(label);\n        if (item.detail) {\n            result.detail = item.detail;\n        }\n        if (item.documentation) {\n            result.documentation = asDocumentation(item.documentation);\n            result.documentationFormat = Is.string(item.documentation) ? '$string' : item.documentation.kind;\n        }\n        if (item.filterText) {\n            result.filterText = item.filterText;\n        }\n        const insertText = asCompletionInsertText(item, defaultRange, defaultInsertTextFormat);\n        if (insertText) {\n            result.insertText = insertText.text;\n            result.range = insertText.range;\n            result.fromEdit = insertText.fromEdit;\n        }\n        if (Is.number(item.kind)) {\n            let [itemKind, original] = asCompletionItemKind(item.kind);\n            result.kind = itemKind;\n            if (original) {\n                result.originalItemKind = original;\n            }\n        }\n        if (item.sortText) {\n            result.sortText = item.sortText;\n        }\n        if (item.additionalTextEdits) {\n            result.additionalTextEdits = asTextEditsSync(item.additionalTextEdits);\n        }\n        const commitCharacters = item.commitCharacters !== undefined\n            ? Is.stringArray(item.commitCharacters) ? item.commitCharacters : undefined\n            : defaultCommitCharacters;\n        if (commitCharacters) {\n            result.commitCharacters = commitCharacters.slice();\n        }\n        if (item.command) {\n            result.command = asCommand(item.command);\n        }\n        if (item.deprecated === true || item.deprecated === false) {\n            result.deprecated = item.deprecated;\n            if (item.deprecated === true) {\n                tags.push(code.CompletionItemTag.Deprecated);\n            }\n        }\n        if (item.preselect === true || item.preselect === false) {\n            result.preselect = item.preselect;\n        }\n        const data = item.data ?? defaultData;\n        if (data !== undefined) {\n            result.data = data;\n        }\n        if (tags.length > 0) {\n            result.tags = tags;\n        }\n        const insertTextMode = item.insertTextMode ?? defaultInsertTextMode;\n        if (insertTextMode !== undefined) {\n            result.insertTextMode = insertTextMode;\n            if (insertTextMode === ls.InsertTextMode.asIs) {\n                result.keepWhitespace = true;\n            }\n        }\n        return result;\n    }\n    function asCompletionItemLabel(item) {\n        if (ls.CompletionItemLabelDetails.is(item.labelDetails)) {\n            return {\n                label: item.label,\n                detail: item.labelDetails.detail,\n                description: item.labelDetails.description\n            };\n        }\n        else {\n            return item.label;\n        }\n    }\n    function asCompletionInsertText(item, defaultRange, defaultInsertTextFormat) {\n        const insertTextFormat = item.insertTextFormat ?? defaultInsertTextFormat;\n        if (item.textEdit !== undefined || defaultRange !== undefined) {\n            const [range, newText] = item.textEdit !== undefined\n                ? getCompletionRangeAndText(item.textEdit)\n                : [defaultRange, item.textEditText ?? item.label];\n            if (insertTextFormat === ls.InsertTextFormat.Snippet) {\n                return { text: new code.SnippetString(newText), range: range, fromEdit: true };\n            }\n            else {\n                return { text: newText, range: range, fromEdit: true };\n            }\n        }\n        else if (item.insertText) {\n            if (insertTextFormat === ls.InsertTextFormat.Snippet) {\n                return { text: new code.SnippetString(item.insertText), fromEdit: false };\n            }\n            else {\n                return { text: item.insertText, fromEdit: false };\n            }\n        }\n        else {\n            return undefined;\n        }\n    }\n    function getCompletionRangeAndText(value) {\n        if (ls.InsertReplaceEdit.is(value)) {\n            return [{ inserting: asRange(value.insert), replacing: asRange(value.replace) }, value.newText];\n        }\n        else {\n            return [asRange(value.range), value.newText];\n        }\n    }\n    function asTextEdit(edit) {\n        if (!edit) {\n            return undefined;\n        }\n        return new code.TextEdit(asRange(edit.range), edit.newText);\n    }\n    async function asTextEdits(items, token) {\n        if (!items) {\n            return undefined;\n        }\n        return async.map(items, asTextEdit, token);\n    }\n    function asTextEditsSync(items) {\n        if (!items) {\n            return undefined;\n        }\n        const result = new Array(items.length);\n        for (let i = 0; i < items.length; i++) {\n            result[i] = asTextEdit(items[i]);\n        }\n        return result;\n    }\n    async function asSignatureHelp(item, token) {\n        if (!item) {\n            return undefined;\n        }\n        let result = new code.SignatureHelp();\n        if (Is.number(item.activeSignature)) {\n            result.activeSignature = item.activeSignature;\n        }\n        else {\n            // activeSignature was optional in the past\n            result.activeSignature = 0;\n        }\n        if (Is.number(item.activeParameter)) {\n            result.activeParameter = item.activeParameter;\n        }\n        else {\n            // activeParameter was optional in the past\n            result.activeParameter = 0;\n        }\n        if (item.signatures) {\n            result.signatures = await asSignatureInformations(item.signatures, token);\n        }\n        return result;\n    }\n    async function asSignatureInformations(items, token) {\n        return async.mapAsync(items, asSignatureInformation, token);\n    }\n    async function asSignatureInformation(item, token) {\n        let result = new code.SignatureInformation(item.label);\n        if (item.documentation !== undefined) {\n            result.documentation = asDocumentation(item.documentation);\n        }\n        if (item.parameters !== undefined) {\n            result.parameters = await asParameterInformations(item.parameters, token);\n        }\n        if (item.activeParameter !== undefined) {\n            result.activeParameter = item.activeParameter;\n        }\n        {\n            return result;\n        }\n    }\n    function asParameterInformations(items, token) {\n        return async.map(items, asParameterInformation, token);\n    }\n    function asParameterInformation(item) {\n        let result = new code.ParameterInformation(item.label);\n        if (item.documentation) {\n            result.documentation = asDocumentation(item.documentation);\n        }\n        return result;\n    }\n    function asLocation(item) {\n        return item ? new code.Location(_uriConverter(item.uri), asRange(item.range)) : undefined;\n    }\n    async function asDeclarationResult(item, token) {\n        if (!item) {\n            return undefined;\n        }\n        return asLocationResult(item, token);\n    }\n    async function asDefinitionResult(item, token) {\n        if (!item) {\n            return undefined;\n        }\n        return asLocationResult(item, token);\n    }\n    function asLocationLink(item) {\n        if (!item) {\n            return undefined;\n        }\n        let result = {\n            targetUri: _uriConverter(item.targetUri),\n            targetRange: asRange(item.targetRange),\n            originSelectionRange: asRange(item.originSelectionRange),\n            targetSelectionRange: asRange(item.targetSelectionRange)\n        };\n        if (!result.targetSelectionRange) {\n            throw new Error(`targetSelectionRange must not be undefined or null`);\n        }\n        return result;\n    }\n    async function asLocationResult(item, token) {\n        if (!item) {\n            return undefined;\n        }\n        if (Is.array(item)) {\n            if (item.length === 0) {\n                return [];\n            }\n            else if (ls.LocationLink.is(item[0])) {\n                const links = item;\n                return async.map(links, asLocationLink, token);\n            }\n            else {\n                const locations = item;\n                return async.map(locations, asLocation, token);\n            }\n        }\n        else if (ls.LocationLink.is(item)) {\n            return [asLocationLink(item)];\n        }\n        else {\n            return asLocation(item);\n        }\n    }\n    async function asReferences(values, token) {\n        if (!values) {\n            return undefined;\n        }\n        return async.map(values, asLocation, token);\n    }\n    async function asDocumentHighlights(values, token) {\n        if (!values) {\n            return undefined;\n        }\n        return async.map(values, asDocumentHighlight, token);\n    }\n    function asDocumentHighlight(item) {\n        let result = new code.DocumentHighlight(asRange(item.range));\n        if (Is.number(item.kind)) {\n            result.kind = asDocumentHighlightKind(item.kind);\n        }\n        return result;\n    }\n    function asDocumentHighlightKind(item) {\n        switch (item) {\n            case ls.DocumentHighlightKind.Text:\n                return code.DocumentHighlightKind.Text;\n            case ls.DocumentHighlightKind.Read:\n                return code.DocumentHighlightKind.Read;\n            case ls.DocumentHighlightKind.Write:\n                return code.DocumentHighlightKind.Write;\n        }\n        return code.DocumentHighlightKind.Text;\n    }\n    async function asSymbolInformations(values, token) {\n        if (!values) {\n            return undefined;\n        }\n        return async.map(values, asSymbolInformation, token);\n    }\n    function asSymbolKind(item) {\n        if (item <= ls.SymbolKind.TypeParameter) {\n            // Symbol kind is one based in the protocol and zero based in code.\n            return item - 1;\n        }\n        return code.SymbolKind.Property;\n    }\n    function asSymbolTag(value) {\n        switch (value) {\n            case ls.SymbolTag.Deprecated:\n                return code.SymbolTag.Deprecated;\n            default:\n                return undefined;\n        }\n    }\n    function asSymbolTags(items) {\n        if (items === undefined || items === null) {\n            return undefined;\n        }\n        const result = [];\n        for (const item of items) {\n            const converted = asSymbolTag(item);\n            if (converted !== undefined) {\n                result.push(converted);\n            }\n        }\n        return result.length === 0 ? undefined : result;\n    }\n    function asSymbolInformation(item) {\n        const data = item.data;\n        const location = item.location;\n        const result = location.range === undefined || data !== undefined\n            ? new protocolWorkspaceSymbol_1.default(item.name, asSymbolKind(item.kind), item.containerName ?? '', location.range === undefined ? _uriConverter(location.uri) : new code.Location(_uriConverter(item.location.uri), asRange(location.range)), data)\n            : new code.SymbolInformation(item.name, asSymbolKind(item.kind), item.containerName ?? '', new code.Location(_uriConverter(item.location.uri), asRange(location.range)));\n        fillTags(result, item);\n        return result;\n    }\n    async function asDocumentSymbols(values, token) {\n        if (values === undefined || values === null) {\n            return undefined;\n        }\n        return async.map(values, asDocumentSymbol, token);\n    }\n    function asDocumentSymbol(value) {\n        let result = new code.DocumentSymbol(value.name, value.detail || '', asSymbolKind(value.kind), asRange(value.range), asRange(value.selectionRange));\n        fillTags(result, value);\n        if (value.children !== undefined && value.children.length > 0) {\n            let children = [];\n            for (let child of value.children) {\n                children.push(asDocumentSymbol(child));\n            }\n            result.children = children;\n        }\n        return result;\n    }\n    function fillTags(result, value) {\n        result.tags = asSymbolTags(value.tags);\n        if (value.deprecated) {\n            if (!result.tags) {\n                result.tags = [code.SymbolTag.Deprecated];\n            }\n            else {\n                if (!result.tags.includes(code.SymbolTag.Deprecated)) {\n                    result.tags = result.tags.concat(code.SymbolTag.Deprecated);\n                }\n            }\n        }\n    }\n    function asCommand(item) {\n        let result = { title: item.title, command: item.command };\n        if (item.arguments) {\n            result.arguments = item.arguments;\n        }\n        return result;\n    }\n    async function asCommands(items, token) {\n        if (!items) {\n            return undefined;\n        }\n        return async.map(items, asCommand, token);\n    }\n    const kindMapping = new Map();\n    kindMapping.set(ls.CodeActionKind.Empty, code.CodeActionKind.Empty);\n    kindMapping.set(ls.CodeActionKind.QuickFix, code.CodeActionKind.QuickFix);\n    kindMapping.set(ls.CodeActionKind.Refactor, code.CodeActionKind.Refactor);\n    kindMapping.set(ls.CodeActionKind.RefactorExtract, code.CodeActionKind.RefactorExtract);\n    kindMapping.set(ls.CodeActionKind.RefactorInline, code.CodeActionKind.RefactorInline);\n    kindMapping.set(ls.CodeActionKind.RefactorRewrite, code.CodeActionKind.RefactorRewrite);\n    kindMapping.set(ls.CodeActionKind.Source, code.CodeActionKind.Source);\n    kindMapping.set(ls.CodeActionKind.SourceOrganizeImports, code.CodeActionKind.SourceOrganizeImports);\n    function asCodeActionKind(item) {\n        if (item === undefined || item === null) {\n            return undefined;\n        }\n        let result = kindMapping.get(item);\n        if (result) {\n            return result;\n        }\n        let parts = item.split('.');\n        result = code.CodeActionKind.Empty;\n        for (let part of parts) {\n            result = result.append(part);\n        }\n        return result;\n    }\n    function asCodeActionKinds(items) {\n        if (items === undefined || items === null) {\n            return undefined;\n        }\n        return items.map(kind => asCodeActionKind(kind));\n    }\n    async function asCodeAction(item, token) {\n        if (item === undefined || item === null) {\n            return undefined;\n        }\n        let result = new protocolCodeAction_1.default(item.title, item.data);\n        if (item.kind !== undefined) {\n            result.kind = asCodeActionKind(item.kind);\n        }\n        if (item.diagnostics !== undefined) {\n            result.diagnostics = asDiagnosticsSync(item.diagnostics);\n        }\n        if (item.edit !== undefined) {\n            result.edit = await asWorkspaceEdit(item.edit, token);\n        }\n        if (item.command !== undefined) {\n            result.command = asCommand(item.command);\n        }\n        if (item.isPreferred !== undefined) {\n            result.isPreferred = item.isPreferred;\n        }\n        if (item.disabled !== undefined) {\n            result.disabled = { reason: item.disabled.reason };\n        }\n        return result;\n    }\n    function asCodeActionResult(items, token) {\n        return async.mapAsync(items, async (item) => {\n            if (ls.Command.is(item)) {\n                return asCommand(item);\n            }\n            else {\n                return asCodeAction(item, token);\n            }\n        }, token);\n    }\n    function asCodeLens(item) {\n        if (!item) {\n            return undefined;\n        }\n        let result = new protocolCodeLens_1.default(asRange(item.range));\n        if (item.command) {\n            result.command = asCommand(item.command);\n        }\n        if (item.data !== undefined && item.data !== null) {\n            result.data = item.data;\n        }\n        return result;\n    }\n    async function asCodeLenses(items, token) {\n        if (!items) {\n            return undefined;\n        }\n        return async.map(items, asCodeLens, token);\n    }\n    async function asWorkspaceEdit(item, token) {\n        if (!item) {\n            return undefined;\n        }\n        const sharedMetadata = new Map();\n        if (item.changeAnnotations !== undefined) {\n            const changeAnnotations = item.changeAnnotations;\n            await async.forEach(Object.keys(changeAnnotations), (key) => {\n                const metaData = asWorkspaceEditEntryMetadata(changeAnnotations[key]);\n                sharedMetadata.set(key, metaData);\n            }, token);\n        }\n        const asMetadata = (annotation) => {\n            if (annotation === undefined) {\n                return undefined;\n            }\n            else {\n                return sharedMetadata.get(annotation);\n            }\n        };\n        const result = new code.WorkspaceEdit();\n        if (item.documentChanges) {\n            const documentChanges = item.documentChanges;\n            await async.forEach(documentChanges, (change) => {\n                if (ls.CreateFile.is(change)) {\n                    result.createFile(_uriConverter(change.uri), change.options, asMetadata(change.annotationId));\n                }\n                else if (ls.RenameFile.is(change)) {\n                    result.renameFile(_uriConverter(change.oldUri), _uriConverter(change.newUri), change.options, asMetadata(change.annotationId));\n                }\n                else if (ls.DeleteFile.is(change)) {\n                    result.deleteFile(_uriConverter(change.uri), change.options, asMetadata(change.annotationId));\n                }\n                else if (ls.TextDocumentEdit.is(change)) {\n                    const uri = _uriConverter(change.textDocument.uri);\n                    for (const edit of change.edits) {\n                        if (ls.AnnotatedTextEdit.is(edit)) {\n                            result.replace(uri, asRange(edit.range), edit.newText, asMetadata(edit.annotationId));\n                        }\n                        else {\n                            result.replace(uri, asRange(edit.range), edit.newText);\n                        }\n                    }\n                }\n                else {\n                    throw new Error(`Unknown workspace edit change received:\\n${JSON.stringify(change, undefined, 4)}`);\n                }\n            }, token);\n        }\n        else if (item.changes) {\n            const changes = item.changes;\n            await async.forEach(Object.keys(changes), (key) => {\n                result.set(_uriConverter(key), asTextEditsSync(changes[key]));\n            }, token);\n        }\n        return result;\n    }\n    function asWorkspaceEditEntryMetadata(annotation) {\n        if (annotation === undefined) {\n            return undefined;\n        }\n        return { label: annotation.label, needsConfirmation: !!annotation.needsConfirmation, description: annotation.description };\n    }\n    function asDocumentLink(item) {\n        let range = asRange(item.range);\n        let target = item.target ? asUri(item.target) : undefined;\n        // target must be optional in DocumentLink\n        let link = new protocolDocumentLink_1.default(range, target);\n        if (item.tooltip !== undefined) {\n            link.tooltip = item.tooltip;\n        }\n        if (item.data !== undefined && item.data !== null) {\n            link.data = item.data;\n        }\n        return link;\n    }\n    async function asDocumentLinks(items, token) {\n        if (!items) {\n            return undefined;\n        }\n        return async.map(items, asDocumentLink, token);\n    }\n    function asColor(color) {\n        return new code.Color(color.red, color.green, color.blue, color.alpha);\n    }\n    function asColorInformation(ci) {\n        return new code.ColorInformation(asRange(ci.range), asColor(ci.color));\n    }\n    async function asColorInformations(colorInformation, token) {\n        if (!colorInformation) {\n            return undefined;\n        }\n        return async.map(colorInformation, asColorInformation, token);\n    }\n    function asColorPresentation(cp) {\n        let presentation = new code.ColorPresentation(cp.label);\n        presentation.additionalTextEdits = asTextEditsSync(cp.additionalTextEdits);\n        if (cp.textEdit) {\n            presentation.textEdit = asTextEdit(cp.textEdit);\n        }\n        return presentation;\n    }\n    async function asColorPresentations(colorPresentations, token) {\n        if (!colorPresentations) {\n            return undefined;\n        }\n        return async.map(colorPresentations, asColorPresentation, token);\n    }\n    function asFoldingRangeKind(kind) {\n        if (kind) {\n            switch (kind) {\n                case ls.FoldingRangeKind.Comment:\n                    return code.FoldingRangeKind.Comment;\n                case ls.FoldingRangeKind.Imports:\n                    return code.FoldingRangeKind.Imports;\n                case ls.FoldingRangeKind.Region:\n                    return code.FoldingRangeKind.Region;\n            }\n        }\n        return undefined;\n    }\n    function asFoldingRange(r) {\n        return new code.FoldingRange(r.startLine, r.endLine, asFoldingRangeKind(r.kind));\n    }\n    async function asFoldingRanges(foldingRanges, token) {\n        if (!foldingRanges) {\n            return undefined;\n        }\n        return async.map(foldingRanges, asFoldingRange, token);\n    }\n    function asSelectionRange(selectionRange) {\n        return new code.SelectionRange(asRange(selectionRange.range), selectionRange.parent ? asSelectionRange(selectionRange.parent) : undefined);\n    }\n    async function asSelectionRanges(selectionRanges, token) {\n        if (!Array.isArray(selectionRanges)) {\n            return [];\n        }\n        return async.map(selectionRanges, asSelectionRange, token);\n    }\n    function asInlineValue(inlineValue) {\n        if (ls.InlineValueText.is(inlineValue)) {\n            return new code.InlineValueText(asRange(inlineValue.range), inlineValue.text);\n        }\n        else if (ls.InlineValueVariableLookup.is(inlineValue)) {\n            return new code.InlineValueVariableLookup(asRange(inlineValue.range), inlineValue.variableName, inlineValue.caseSensitiveLookup);\n        }\n        else {\n            return new code.InlineValueEvaluatableExpression(asRange(inlineValue.range), inlineValue.expression);\n        }\n    }\n    async function asInlineValues(inlineValues, token) {\n        if (!Array.isArray(inlineValues)) {\n            return [];\n        }\n        return async.map(inlineValues, asInlineValue, token);\n    }\n    async function asInlayHint(value, token) {\n        const label = typeof value.label === 'string'\n            ? value.label\n            : await async.map(value.label, asInlayHintLabelPart, token);\n        const result = new protocolInlayHint_1.default(asPosition(value.position), label);\n        if (value.kind !== undefined) {\n            result.kind = value.kind;\n        }\n        if (value.textEdits !== undefined) {\n            result.textEdits = await asTextEdits(value.textEdits, token);\n        }\n        if (value.tooltip !== undefined) {\n            result.tooltip = asTooltip(value.tooltip);\n        }\n        if (value.paddingLeft !== undefined) {\n            result.paddingLeft = value.paddingLeft;\n        }\n        if (value.paddingRight !== undefined) {\n            result.paddingRight = value.paddingRight;\n        }\n        if (value.data !== undefined) {\n            result.data = value.data;\n        }\n        return result;\n    }\n    function asInlayHintLabelPart(part) {\n        const result = new code.InlayHintLabelPart(part.value);\n        if (part.location !== undefined) {\n            result.location = asLocation(part.location);\n        }\n        if (part.tooltip !== undefined) {\n            result.tooltip = asTooltip(part.tooltip);\n        }\n        if (part.command !== undefined) {\n            result.command = asCommand(part.command);\n        }\n        return result;\n    }\n    function asTooltip(value) {\n        if (typeof value === 'string') {\n            return value;\n        }\n        return asMarkdownString(value);\n    }\n    async function asInlayHints(values, token) {\n        if (!Array.isArray(values)) {\n            return undefined;\n        }\n        return async.mapAsync(values, asInlayHint, token);\n    }\n    function asCallHierarchyItem(item) {\n        if (item === null) {\n            return undefined;\n        }\n        const result = new protocolCallHierarchyItem_1.default(asSymbolKind(item.kind), item.name, item.detail || '', asUri(item.uri), asRange(item.range), asRange(item.selectionRange), item.data);\n        if (item.tags !== undefined) {\n            result.tags = asSymbolTags(item.tags);\n        }\n        return result;\n    }\n    async function asCallHierarchyItems(items, token) {\n        if (items === null) {\n            return undefined;\n        }\n        return async.map(items, asCallHierarchyItem, token);\n    }\n    async function asCallHierarchyIncomingCall(item, token) {\n        return new code.CallHierarchyIncomingCall(asCallHierarchyItem(item.from), await asRanges(item.fromRanges, token));\n    }\n    async function asCallHierarchyIncomingCalls(items, token) {\n        if (items === null) {\n            return undefined;\n        }\n        return async.mapAsync(items, asCallHierarchyIncomingCall, token);\n    }\n    async function asCallHierarchyOutgoingCall(item, token) {\n        return new code.CallHierarchyOutgoingCall(asCallHierarchyItem(item.to), await asRanges(item.fromRanges, token));\n    }\n    async function asCallHierarchyOutgoingCalls(items, token) {\n        if (items === null) {\n            return undefined;\n        }\n        return async.mapAsync(items, asCallHierarchyOutgoingCall, token);\n    }\n    async function asSemanticTokens(value, _token) {\n        if (value === undefined || value === null) {\n            return undefined;\n        }\n        return new code.SemanticTokens(new Uint32Array(value.data), value.resultId);\n    }\n    function asSemanticTokensEdit(value) {\n        return new code.SemanticTokensEdit(value.start, value.deleteCount, value.data !== undefined ? new Uint32Array(value.data) : undefined);\n    }\n    async function asSemanticTokensEdits(value, _token) {\n        if (value === undefined || value === null) {\n            return undefined;\n        }\n        return new code.SemanticTokensEdits(value.edits.map(asSemanticTokensEdit), value.resultId);\n    }\n    function asSemanticTokensLegend(value) {\n        return value;\n    }\n    async function asLinkedEditingRanges(value, token) {\n        if (value === null || value === undefined) {\n            return undefined;\n        }\n        return new code.LinkedEditingRanges(await asRanges(value.ranges, token), asRegularExpression(value.wordPattern));\n    }\n    function asRegularExpression(value) {\n        if (value === null || value === undefined) {\n            return undefined;\n        }\n        return new RegExp(value);\n    }\n    function asTypeHierarchyItem(item) {\n        if (item === null) {\n            return undefined;\n        }\n        let result = new protocolTypeHierarchyItem_1.default(asSymbolKind(item.kind), item.name, item.detail || '', asUri(item.uri), asRange(item.range), asRange(item.selectionRange), item.data);\n        if (item.tags !== undefined) {\n            result.tags = asSymbolTags(item.tags);\n        }\n        return result;\n    }\n    async function asTypeHierarchyItems(items, token) {\n        if (items === null) {\n            return undefined;\n        }\n        return async.map(items, asTypeHierarchyItem, token);\n    }\n    function asGlobPattern(pattern) {\n        if (Is.string(pattern)) {\n            return pattern;\n        }\n        if (ls.RelativePattern.is(pattern)) {\n            if (ls.URI.is(pattern.baseUri)) {\n                return new code.RelativePattern(asUri(pattern.baseUri), pattern.pattern);\n            }\n            else if (ls.WorkspaceFolder.is(pattern.baseUri)) {\n                const workspaceFolder = code.workspace.getWorkspaceFolder(asUri(pattern.baseUri.uri));\n                return workspaceFolder !== undefined ? new code.RelativePattern(workspaceFolder, pattern.pattern) : undefined;\n            }\n        }\n        return undefined;\n    }\n    return {\n        asUri,\n        asDocumentSelector,\n        asDiagnostics,\n        asDiagnostic,\n        asRange,\n        asRanges,\n        asPosition,\n        asDiagnosticSeverity,\n        asDiagnosticTag,\n        asHover,\n        asCompletionResult,\n        asCompletionItem,\n        asTextEdit,\n        asTextEdits,\n        asSignatureHelp,\n        asSignatureInformations,\n        asSignatureInformation,\n        asParameterInformations,\n        asParameterInformation,\n        asDeclarationResult,\n        asDefinitionResult,\n        asLocation,\n        asReferences,\n        asDocumentHighlights,\n        asDocumentHighlight,\n        asDocumentHighlightKind,\n        asSymbolKind,\n        asSymbolTag,\n        asSymbolTags,\n        asSymbolInformations,\n        asSymbolInformation,\n        asDocumentSymbols,\n        asDocumentSymbol,\n        asCommand,\n        asCommands,\n        asCodeAction,\n        asCodeActionKind,\n        asCodeActionKinds,\n        asCodeActionResult,\n        asCodeLens,\n        asCodeLenses,\n        asWorkspaceEdit,\n        asDocumentLink,\n        asDocumentLinks,\n        asFoldingRangeKind,\n        asFoldingRange,\n        asFoldingRanges,\n        asColor,\n        asColorInformation,\n        asColorInformations,\n        asColorPresentation,\n        asColorPresentations,\n        asSelectionRange,\n        asSelectionRanges,\n        asInlineValue,\n        asInlineValues,\n        asInlayHint,\n        asInlayHints,\n        asSemanticTokensLegend,\n        asSemanticTokens,\n        asSemanticTokensEdit,\n        asSemanticTokensEdits,\n        asCallHierarchyItem,\n        asCallHierarchyItems,\n        asCallHierarchyIncomingCall,\n        asCallHierarchyIncomingCalls,\n        asCallHierarchyOutgoingCall,\n        asCallHierarchyOutgoingCalls,\n        asLinkedEditingRanges: asLinkedEditingRanges,\n        asTypeHierarchyItem,\n        asTypeHierarchyItems,\n        asGlobPattern\n    };\n}\nexports.createConverter = createConverter;\n//# sourceMappingURL=protocolConverter.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProtocolDiagnostic = exports.DiagnosticCode = void 0;\nconst vscode = require(\"vscode\");\nconst Is = require(\"./utils/is\");\nvar DiagnosticCode;\n(function (DiagnosticCode) {\n    function is(value) {\n        const candidate = value;\n        return candidate !== undefined && candidate !== null && (Is.number(candidate.value) || Is.string(candidate.value)) && Is.string(candidate.target);\n    }\n    DiagnosticCode.is = is;\n})(DiagnosticCode = exports.DiagnosticCode || (exports.DiagnosticCode = {}));\nclass ProtocolDiagnostic extends vscode.Diagnostic {\n    constructor(range, message, severity, data) {\n        super(range, message, severity);\n        this.data = data;\n        this.hasDiagnosticCode = false;\n    }\n}\nexports.ProtocolDiagnostic = ProtocolDiagnostic;\n//# sourceMappingURL=protocolDiagnostic.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code = require(\"vscode\");\nclass ProtocolDocumentLink extends code.DocumentLink {\n    constructor(range, target) {\n        super(range, target);\n    }\n}\nexports.default = ProtocolDocumentLink;\n//# sourceMappingURL=protocolDocumentLink.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code = require(\"vscode\");\nclass ProtocolInlayHint extends code.InlayHint {\n    constructor(position, label, kind) {\n        super(position, label, kind);\n    }\n}\nexports.default = ProtocolInlayHint;\n//# sourceMappingURL=protocolInlayHint.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code = require(\"vscode\");\nclass ProtocolTypeHierarchyItem extends code.TypeHierarchyItem {\n    constructor(kind, name, detail, uri, range, selectionRange, data) {\n        super(kind, name, detail, uri, range, selectionRange);\n        if (data !== undefined) {\n            this.data = data;\n        }\n    }\n}\nexports.default = ProtocolTypeHierarchyItem;\n//# sourceMappingURL=protocolTypeHierarchyItem.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst code = require(\"vscode\");\nclass WorkspaceSymbol extends code.SymbolInformation {\n    constructor(name, kind, containerName, locationOrUri, data) {\n        const hasRange = !(locationOrUri instanceof code.Uri);\n        super(name, kind, containerName, hasRange ? locationOrUri : new code.Location(locationOrUri, new code.Range(0, 0, 0, 0)));\n        this.hasRange = hasRange;\n        if (data !== undefined) {\n            this.data = data;\n        }\n    }\n}\nexports.default = WorkspaceSymbol;\n//# sourceMappingURL=protocolWorkspaceSymbol.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ReferencesFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nconst UUID = require(\"./utils/uuid\");\nclass ReferencesFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.ReferencesRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'references').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.referencesProvider);\n        if (!options) {\n            return;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideReferences: (document, position, options, token) => {\n                const client = this._client;\n                const _providerReferences = (document, position, options, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.ReferencesRequest.type, client.code2ProtocolConverter.asReferenceParams(document, position, options), token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asReferences(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.ReferencesRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideReferences\n                    ? middleware.provideReferences(document, position, options, token, _providerReferences)\n                    : _providerReferences(document, position, options, token);\n            }\n        };\n        return [this.registerProvider(selector, provider), provider];\n    }\n    registerProvider(selector, provider) {\n        return vscode_1.languages.registerReferenceProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider);\n    }\n}\nexports.ReferencesFeature = ReferencesFeature;\n//# sourceMappingURL=reference.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.RenameFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst UUID = require(\"./utils/uuid\");\nconst Is = require(\"./utils/is\");\nconst features_1 = require(\"./features\");\nclass RenameFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.RenameRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        let rename = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'rename');\n        rename.dynamicRegistration = true;\n        rename.prepareSupport = true;\n        rename.prepareSupportDefaultBehavior = vscode_languageserver_protocol_1.PrepareSupportDefaultBehavior.Identifier;\n        rename.honorsChangeAnnotations = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.renameProvider);\n        if (!options) {\n            return;\n        }\n        if (Is.boolean(capabilities.renameProvider)) {\n            options.prepareProvider = false;\n        }\n        this.register({ id: UUID.generateUuid(), registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideRenameEdits: (document, position, newName, token) => {\n                const client = this._client;\n                const provideRenameEdits = (document, position, newName, token) => {\n                    let params = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                        position: client.code2ProtocolConverter.asPosition(position),\n                        newName: newName\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.RenameRequest.type, params, token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asWorkspaceEdit(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.RenameRequest.type, token, error, null, false);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideRenameEdits\n                    ? middleware.provideRenameEdits(document, position, newName, token, provideRenameEdits)\n                    : provideRenameEdits(document, position, newName, token);\n            },\n            prepareRename: options.prepareProvider\n                ? (document, position, token) => {\n                    const client = this._client;\n                    const prepareRename = (document, position, token) => {\n                        let params = {\n                            textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                            position: client.code2ProtocolConverter.asPosition(position),\n                        };\n                        return client.sendRequest(vscode_languageserver_protocol_1.PrepareRenameRequest.type, params, token).then((result) => {\n                            if (token.isCancellationRequested) {\n                                return null;\n                            }\n                            if (vscode_languageserver_protocol_1.Range.is(result)) {\n                                return client.protocol2CodeConverter.asRange(result);\n                            }\n                            else if (this.isDefaultBehavior(result)) {\n                                return result.defaultBehavior === true\n                                    ? null\n                                    : Promise.reject(new Error(`The element can't be renamed.`));\n                            }\n                            else if (result && vscode_languageserver_protocol_1.Range.is(result.range)) {\n                                return {\n                                    range: client.protocol2CodeConverter.asRange(result.range),\n                                    placeholder: result.placeholder\n                                };\n                            }\n                            // To cancel the rename vscode API expects a rejected promise.\n                            return Promise.reject(new Error(`The element can't be renamed.`));\n                        }, (error) => {\n                            if (typeof error.message === 'string') {\n                                throw new Error(error.message);\n                            }\n                            else {\n                                throw new Error(`The element can't be renamed.`);\n                            }\n                        });\n                    };\n                    const middleware = client.middleware;\n                    return middleware.prepareRename\n                        ? middleware.prepareRename(document, position, token, prepareRename)\n                        : prepareRename(document, position, token);\n                }\n                : undefined\n        };\n        return [this.registerProvider(selector, provider), provider];\n    }\n    registerProvider(selector, provider) {\n        return vscode_1.languages.registerRenameProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider);\n    }\n    isDefaultBehavior(value) {\n        const candidate = value;\n        return candidate && Is.boolean(candidate.defaultBehavior);\n    }\n}\nexports.RenameFeature = RenameFeature;\n//# sourceMappingURL=rename.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SelectionRangeFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nclass SelectionRangeFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.SelectionRangeRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        const capability = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'selectionRange');\n        capability.dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const [id, options] = this.getRegistration(documentSelector, capabilities.selectionRangeProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideSelectionRanges: (document, positions, token) => {\n                const client = this._client;\n                const provideSelectionRanges = async (document, positions, token) => {\n                    const requestParams = {\n                        textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                        positions: await client.code2ProtocolConverter.asPositions(positions, token)\n                    };\n                    return client.sendRequest(vscode_languageserver_protocol_1.SelectionRangeRequest.type, requestParams, token).then((ranges) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asSelectionRanges(ranges, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.SelectionRangeRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideSelectionRanges\n                    ? middleware.provideSelectionRanges(document, positions, token, provideSelectionRanges)\n                    : provideSelectionRanges(document, positions, token);\n            }\n        };\n        return [this.registerProvider(selector, provider), provider];\n    }\n    registerProvider(selector, provider) {\n        return vscode_1.languages.registerSelectionRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider);\n    }\n}\nexports.SelectionRangeFeature = SelectionRangeFeature;\n//# sourceMappingURL=selectionRange.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SemanticTokensFeature = void 0;\nconst vscode = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nconst Is = require(\"./utils/is\");\nclass SemanticTokensFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.SemanticTokensRegistrationType.type);\n    }\n    fillClientCapabilities(capabilities) {\n        const capability = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'semanticTokens');\n        capability.dynamicRegistration = true;\n        capability.tokenTypes = [\n            vscode_languageserver_protocol_1.SemanticTokenTypes.namespace,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.type,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.class,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.enum,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.interface,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.struct,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.typeParameter,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.parameter,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.variable,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.property,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.enumMember,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.event,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.function,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.method,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.macro,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.keyword,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.modifier,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.comment,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.string,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.number,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.regexp,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.operator,\n            vscode_languageserver_protocol_1.SemanticTokenTypes.decorator\n        ];\n        capability.tokenModifiers = [\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.declaration,\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.definition,\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.readonly,\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.static,\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.deprecated,\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.abstract,\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.async,\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.modification,\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.documentation,\n            vscode_languageserver_protocol_1.SemanticTokenModifiers.defaultLibrary\n        ];\n        capability.formats = [vscode_languageserver_protocol_1.TokenFormat.Relative];\n        capability.requests = {\n            range: true,\n            full: {\n                delta: true\n            }\n        };\n        capability.multilineTokenSupport = false;\n        capability.overlappingTokenSupport = false;\n        capability.serverCancelSupport = true;\n        capability.augmentsSyntaxTokens = true;\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'workspace'), 'semanticTokens').refreshSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const client = this._client;\n        client.onRequest(vscode_languageserver_protocol_1.SemanticTokensRefreshRequest.type, async () => {\n            for (const provider of this.getAllProviders()) {\n                provider.onDidChangeSemanticTokensEmitter.fire();\n            }\n        });\n        const [id, options] = this.getRegistration(documentSelector, capabilities.semanticTokensProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const fullProvider = Is.boolean(options.full) ? options.full : options.full !== undefined;\n        const hasEditProvider = options.full !== undefined && typeof options.full !== 'boolean' && options.full.delta === true;\n        const eventEmitter = new vscode.EventEmitter();\n        const documentProvider = fullProvider\n            ? {\n                onDidChangeSemanticTokens: eventEmitter.event,\n                provideDocumentSemanticTokens: (document, token) => {\n                    const client = this._client;\n                    const middleware = client.middleware;\n                    const provideDocumentSemanticTokens = (document, token) => {\n                        const params = {\n                            textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document)\n                        };\n                        return client.sendRequest(vscode_languageserver_protocol_1.SemanticTokensRequest.type, params, token).then((result) => {\n                            if (token.isCancellationRequested) {\n                                return null;\n                            }\n                            return client.protocol2CodeConverter.asSemanticTokens(result, token);\n                        }, (error) => {\n                            return client.handleFailedRequest(vscode_languageserver_protocol_1.SemanticTokensRequest.type, token, error, null);\n                        });\n                    };\n                    return middleware.provideDocumentSemanticTokens\n                        ? middleware.provideDocumentSemanticTokens(document, token, provideDocumentSemanticTokens)\n                        : provideDocumentSemanticTokens(document, token);\n                },\n                provideDocumentSemanticTokensEdits: hasEditProvider\n                    ? (document, previousResultId, token) => {\n                        const client = this._client;\n                        const middleware = client.middleware;\n                        const provideDocumentSemanticTokensEdits = (document, previousResultId, token) => {\n                            const params = {\n                                textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                                previousResultId\n                            };\n                            return client.sendRequest(vscode_languageserver_protocol_1.SemanticTokensDeltaRequest.type, params, token).then(async (result) => {\n                                if (token.isCancellationRequested) {\n                                    return null;\n                                }\n                                if (vscode_languageserver_protocol_1.SemanticTokens.is(result)) {\n                                    return await client.protocol2CodeConverter.asSemanticTokens(result, token);\n                                }\n                                else {\n                                    return await client.protocol2CodeConverter.asSemanticTokensEdits(result, token);\n                                }\n                            }, (error) => {\n                                return client.handleFailedRequest(vscode_languageserver_protocol_1.SemanticTokensDeltaRequest.type, token, error, null);\n                            });\n                        };\n                        return middleware.provideDocumentSemanticTokensEdits\n                            ? middleware.provideDocumentSemanticTokensEdits(document, previousResultId, token, provideDocumentSemanticTokensEdits)\n                            : provideDocumentSemanticTokensEdits(document, previousResultId, token);\n                    }\n                    : undefined\n            }\n            : undefined;\n        const hasRangeProvider = options.range === true;\n        const rangeProvider = hasRangeProvider\n            ? {\n                provideDocumentRangeSemanticTokens: (document, range, token) => {\n                    const client = this._client;\n                    const middleware = client.middleware;\n                    const provideDocumentRangeSemanticTokens = (document, range, token) => {\n                        const params = {\n                            textDocument: client.code2ProtocolConverter.asTextDocumentIdentifier(document),\n                            range: client.code2ProtocolConverter.asRange(range)\n                        };\n                        return client.sendRequest(vscode_languageserver_protocol_1.SemanticTokensRangeRequest.type, params, token).then((result) => {\n                            if (token.isCancellationRequested) {\n                                return null;\n                            }\n                            return client.protocol2CodeConverter.asSemanticTokens(result, token);\n                        }, (error) => {\n                            return client.handleFailedRequest(vscode_languageserver_protocol_1.SemanticTokensRangeRequest.type, token, error, null);\n                        });\n                    };\n                    return middleware.provideDocumentRangeSemanticTokens\n                        ? middleware.provideDocumentRangeSemanticTokens(document, range, token, provideDocumentRangeSemanticTokens)\n                        : provideDocumentRangeSemanticTokens(document, range, token);\n                }\n            }\n            : undefined;\n        const disposables = [];\n        const client = this._client;\n        const legend = client.protocol2CodeConverter.asSemanticTokensLegend(options.legend);\n        const documentSelector = client.protocol2CodeConverter.asDocumentSelector(selector);\n        if (documentProvider !== undefined) {\n            disposables.push(vscode.languages.registerDocumentSemanticTokensProvider(documentSelector, documentProvider, legend));\n        }\n        if (rangeProvider !== undefined) {\n            disposables.push(vscode.languages.registerDocumentRangeSemanticTokensProvider(documentSelector, rangeProvider, legend));\n        }\n        return [new vscode.Disposable(() => disposables.forEach(item => item.dispose())), { range: rangeProvider, full: documentProvider, onDidChangeSemanticTokensEmitter: eventEmitter }];\n    }\n}\nexports.SemanticTokensFeature = SemanticTokensFeature;\n//# sourceMappingURL=semanticTokens.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SignatureHelpFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nconst UUID = require(\"./utils/uuid\");\nclass SignatureHelpFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.SignatureHelpRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        let config = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'signatureHelp');\n        config.dynamicRegistration = true;\n        config.signatureInformation = { documentationFormat: [vscode_languageserver_protocol_1.MarkupKind.Markdown, vscode_languageserver_protocol_1.MarkupKind.PlainText] };\n        config.signatureInformation.parameterInformation = { labelOffsetSupport: true };\n        config.signatureInformation.activeParameterSupport = true;\n        config.contextSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const options = this.getRegistrationOptions(documentSelector, capabilities.signatureHelpProvider);\n        if (!options) {\n            return;\n        }\n        this.register({\n            id: UUID.generateUuid(),\n            registerOptions: options\n        });\n    }\n    registerLanguageProvider(options) {\n        const provider = {\n            provideSignatureHelp: (document, position, token, context) => {\n                const client = this._client;\n                const providerSignatureHelp = (document, position, context, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.SignatureHelpRequest.type, client.code2ProtocolConverter.asSignatureHelpParams(document, position, context), token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asSignatureHelp(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.SignatureHelpRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideSignatureHelp\n                    ? middleware.provideSignatureHelp(document, position, context, token, providerSignatureHelp)\n                    : providerSignatureHelp(document, position, context, token);\n            }\n        };\n        return [this.registerProvider(options, provider), provider];\n    }\n    registerProvider(options, provider) {\n        const selector = this._client.protocol2CodeConverter.asDocumentSelector(options.documentSelector);\n        if (options.retriggerCharacters === undefined) {\n            const triggerCharacters = options.triggerCharacters || [];\n            return vscode_1.languages.registerSignatureHelpProvider(selector, provider, ...triggerCharacters);\n        }\n        else {\n            const metaData = {\n                triggerCharacters: options.triggerCharacters || [],\n                retriggerCharacters: options.retriggerCharacters || []\n            };\n            return vscode_1.languages.registerSignatureHelpProvider(selector, provider, metaData);\n        }\n    }\n}\nexports.SignatureHelpFeature = SignatureHelpFeature;\n//# sourceMappingURL=signatureHelp.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DidSaveTextDocumentFeature = exports.WillSaveWaitUntilFeature = exports.WillSaveFeature = exports.DidChangeTextDocumentFeature = exports.DidCloseTextDocumentFeature = exports.DidOpenTextDocumentFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nconst async_1 = require(\"./utils/async\");\nconst UUID = require(\"./utils/uuid\");\nclass DidOpenTextDocumentFeature extends features_1.TextDocumentEventFeature {\n    constructor(client, syncedDocuments) {\n        super(client, vscode_1.workspace.onDidOpenTextDocument, vscode_languageserver_protocol_1.DidOpenTextDocumentNotification.type, () => client.middleware.didOpen, (textDocument) => client.code2ProtocolConverter.asOpenTextDocumentParams(textDocument), (data) => data, features_1.TextDocumentEventFeature.textDocumentFilter);\n        this._syncedDocuments = syncedDocuments;\n    }\n    get openDocuments() {\n        return this._syncedDocuments.values();\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'synchronization').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.openClose) {\n            this.register({ id: UUID.generateUuid(), registerOptions: { documentSelector: documentSelector } });\n        }\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.DidOpenTextDocumentNotification.type;\n    }\n    register(data) {\n        super.register(data);\n        if (!data.registerOptions.documentSelector) {\n            return;\n        }\n        const documentSelector = this._client.protocol2CodeConverter.asDocumentSelector(data.registerOptions.documentSelector);\n        vscode_1.workspace.textDocuments.forEach((textDocument) => {\n            const uri = textDocument.uri.toString();\n            if (this._syncedDocuments.has(uri)) {\n                return;\n            }\n            if (vscode_1.languages.match(documentSelector, textDocument) > 0 && !this._client.hasDedicatedTextSynchronizationFeature(textDocument)) {\n                const middleware = this._client.middleware;\n                const didOpen = (textDocument) => {\n                    return this._client.sendNotification(this._type, this._createParams(textDocument));\n                };\n                (middleware.didOpen ? middleware.didOpen(textDocument, didOpen) : didOpen(textDocument)).catch((error) => {\n                    this._client.error(`Sending document notification ${this._type.method} failed`, error);\n                });\n                this._syncedDocuments.set(uri, textDocument);\n            }\n        });\n    }\n    notificationSent(textDocument, type, params) {\n        super.notificationSent(textDocument, type, params);\n        this._syncedDocuments.set(textDocument.uri.toString(), textDocument);\n    }\n}\nexports.DidOpenTextDocumentFeature = DidOpenTextDocumentFeature;\nclass DidCloseTextDocumentFeature extends features_1.TextDocumentEventFeature {\n    constructor(client, syncedDocuments) {\n        super(client, vscode_1.workspace.onDidCloseTextDocument, vscode_languageserver_protocol_1.DidCloseTextDocumentNotification.type, () => client.middleware.didClose, (textDocument) => client.code2ProtocolConverter.asCloseTextDocumentParams(textDocument), (data) => data, features_1.TextDocumentEventFeature.textDocumentFilter);\n        this._syncedDocuments = syncedDocuments;\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.DidCloseTextDocumentNotification.type;\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'synchronization').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.openClose) {\n            this.register({ id: UUID.generateUuid(), registerOptions: { documentSelector: documentSelector } });\n        }\n    }\n    notificationSent(textDocument, type, params) {\n        super.notificationSent(textDocument, type, params);\n        this._syncedDocuments.delete(textDocument.uri.toString());\n    }\n    unregister(id) {\n        const selector = this._selectors.get(id);\n        // The super call removed the selector from the map\n        // of selectors.\n        super.unregister(id);\n        const selectors = this._selectors.values();\n        this._syncedDocuments.forEach((textDocument) => {\n            if (vscode_1.languages.match(selector, textDocument) > 0 && !this._selectorFilter(selectors, textDocument) && !this._client.hasDedicatedTextSynchronizationFeature(textDocument)) {\n                let middleware = this._client.middleware;\n                let didClose = (textDocument) => {\n                    return this._client.sendNotification(this._type, this._createParams(textDocument));\n                };\n                this._syncedDocuments.delete(textDocument.uri.toString());\n                (middleware.didClose ? middleware.didClose(textDocument, didClose) : didClose(textDocument)).catch((error) => {\n                    this._client.error(`Sending document notification ${this._type.method} failed`, error);\n                });\n            }\n        });\n    }\n}\nexports.DidCloseTextDocumentFeature = DidCloseTextDocumentFeature;\nclass DidChangeTextDocumentFeature extends features_1.DynamicDocumentFeature {\n    constructor(client) {\n        super(client);\n        this._forcingDelivery = false;\n        this._changeData = new Map();\n        this._onNotificationSent = new vscode_1.EventEmitter();\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type;\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'synchronization').dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.change !== undefined && textDocumentSyncOptions.change !== vscode_languageserver_protocol_1.TextDocumentSyncKind.None) {\n            this.register({\n                id: UUID.generateUuid(),\n                registerOptions: Object.assign({}, { documentSelector: documentSelector }, { syncKind: textDocumentSyncOptions.change })\n            });\n        }\n    }\n    register(data) {\n        if (!data.registerOptions.documentSelector) {\n            return;\n        }\n        if (!this._listener) {\n            this._listener = vscode_1.workspace.onDidChangeTextDocument(this.callback, this);\n        }\n        this._changeData.set(data.id, {\n            syncKind: data.registerOptions.syncKind,\n            documentSelector: this._client.protocol2CodeConverter.asDocumentSelector(data.registerOptions.documentSelector),\n        });\n    }\n    *getDocumentSelectors() {\n        for (const data of this._changeData.values()) {\n            yield data.documentSelector;\n        }\n    }\n    async callback(event) {\n        // Text document changes are send for dirty changes as well. We don't\n        // have dirty / un-dirty events in the LSP so we ignore content changes\n        // with length zero.\n        if (event.contentChanges.length === 0) {\n            return;\n        }\n        const promises = [];\n        for (const changeData of this._changeData.values()) {\n            if (vscode_1.languages.match(changeData.documentSelector, event.document) > 0 && !this._client.hasDedicatedTextSynchronizationFeature(event.document)) {\n                const middleware = this._client.middleware;\n                if (changeData.syncKind === vscode_languageserver_protocol_1.TextDocumentSyncKind.Incremental) {\n                    const didChange = async (event) => {\n                        const params = this._client.code2ProtocolConverter.asChangeTextDocumentParams(event);\n                        await this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, params);\n                        this.notificationSent(event, vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, params);\n                    };\n                    promises.push(middleware.didChange ? middleware.didChange(event, event => didChange(event)) : didChange(event));\n                }\n                else if (changeData.syncKind === vscode_languageserver_protocol_1.TextDocumentSyncKind.Full) {\n                    const didChange = async (event) => {\n                        const doSend = async (event) => {\n                            const params = this._client.code2ProtocolConverter.asChangeTextDocumentParams(event.document);\n                            await this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, params);\n                            this.notificationSent(event, vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type, params);\n                        };\n                        if (this._changeDelayer) {\n                            if (this._changeDelayer.uri !== event.document.uri.toString()) {\n                                // Use this force delivery to track boolean state. Otherwise we might call two times.\n                                await this.forceDelivery();\n                                this._changeDelayer.uri = event.document.uri.toString();\n                            }\n                            // Usually we return the promise that signals that the data has been\n                            // handed of to the network. With delayed change notification we can't\n                            // do that since it would make the sendNotification call wait until the\n                            // change delayer resolves and would therefore defeat the purpose. We\n                            // instead return the change delayer and ensure via forceDocumentSync\n                            // that before sending other notification / request the document sync\n                            // has actually happened.\n                            return this._changeDelayer.delayer.trigger(() => doSend(event));\n                        }\n                        else {\n                            this._changeDelayer = {\n                                uri: event.document.uri.toString(),\n                                delayer: new async_1.Delayer(200)\n                            };\n                            // See comment above.\n                            return this._changeDelayer.delayer.trigger(() => doSend(event), -1);\n                        }\n                    };\n                    promises.push(middleware.didChange ? middleware.didChange(event, event => didChange(event)) : didChange(event));\n                }\n            }\n        }\n        return Promise.all(promises).then(undefined, (error) => {\n            this._client.error(`Sending document notification ${vscode_languageserver_protocol_1.DidChangeTextDocumentNotification.type.method} failed`, error);\n            throw error;\n        });\n    }\n    get onNotificationSent() {\n        return this._onNotificationSent.event;\n    }\n    notificationSent(changeEvent, type, params) {\n        this._onNotificationSent.fire({ original: changeEvent, type, params });\n    }\n    unregister(id) {\n        this._changeData.delete(id);\n        if (this._changeData.size === 0 && this._listener) {\n            this._listener.dispose();\n            this._listener = undefined;\n        }\n    }\n    dispose() {\n        if (this._changeDelayer !== undefined) {\n            this._changeDelayer.delayer.cancel();\n        }\n        this._changeDelayer = undefined;\n        this._forcingDelivery = false;\n        this._changeData.clear();\n        if (this._listener) {\n            this._listener.dispose();\n            this._listener = undefined;\n        }\n    }\n    async forceDelivery() {\n        if (this._forcingDelivery || !this._changeDelayer) {\n            return;\n        }\n        try {\n            this._forcingDelivery = true;\n            return this._changeDelayer.delayer.forceDelivery();\n        }\n        finally {\n            this._forcingDelivery = false;\n        }\n    }\n    getProvider(document) {\n        for (const changeData of this._changeData.values()) {\n            if (vscode_1.languages.match(changeData.documentSelector, document) > 0) {\n                return {\n                    send: (event) => {\n                        return this.callback(event);\n                    }\n                };\n            }\n        }\n        return undefined;\n    }\n}\nexports.DidChangeTextDocumentFeature = DidChangeTextDocumentFeature;\nclass WillSaveFeature extends features_1.TextDocumentEventFeature {\n    constructor(client) {\n        super(client, vscode_1.workspace.onWillSaveTextDocument, vscode_languageserver_protocol_1.WillSaveTextDocumentNotification.type, () => client.middleware.willSave, (willSaveEvent) => client.code2ProtocolConverter.asWillSaveTextDocumentParams(willSaveEvent), (event) => event.document, (selectors, willSaveEvent) => features_1.TextDocumentEventFeature.textDocumentFilter(selectors, willSaveEvent.document));\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.WillSaveTextDocumentNotification.type;\n    }\n    fillClientCapabilities(capabilities) {\n        let value = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'synchronization');\n        value.willSave = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.willSave) {\n            this.register({\n                id: UUID.generateUuid(),\n                registerOptions: { documentSelector: documentSelector }\n            });\n        }\n    }\n}\nexports.WillSaveFeature = WillSaveFeature;\nclass WillSaveWaitUntilFeature extends features_1.DynamicDocumentFeature {\n    constructor(client) {\n        super(client);\n        this._selectors = new Map();\n    }\n    getDocumentSelectors() {\n        return this._selectors.values();\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.WillSaveTextDocumentWaitUntilRequest.type;\n    }\n    fillClientCapabilities(capabilities) {\n        let value = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'synchronization');\n        value.willSaveWaitUntil = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.willSaveWaitUntil) {\n            this.register({\n                id: UUID.generateUuid(),\n                registerOptions: { documentSelector: documentSelector }\n            });\n        }\n    }\n    register(data) {\n        if (!data.registerOptions.documentSelector) {\n            return;\n        }\n        if (!this._listener) {\n            this._listener = vscode_1.workspace.onWillSaveTextDocument(this.callback, this);\n        }\n        this._selectors.set(data.id, this._client.protocol2CodeConverter.asDocumentSelector(data.registerOptions.documentSelector));\n    }\n    callback(event) {\n        if (features_1.TextDocumentEventFeature.textDocumentFilter(this._selectors.values(), event.document) && !this._client.hasDedicatedTextSynchronizationFeature(event.document)) {\n            let middleware = this._client.middleware;\n            let willSaveWaitUntil = (event) => {\n                return this._client.sendRequest(vscode_languageserver_protocol_1.WillSaveTextDocumentWaitUntilRequest.type, this._client.code2ProtocolConverter.asWillSaveTextDocumentParams(event)).then(async (edits) => {\n                    let vEdits = await this._client.protocol2CodeConverter.asTextEdits(edits);\n                    return vEdits === undefined ? [] : vEdits;\n                });\n            };\n            event.waitUntil(middleware.willSaveWaitUntil\n                ? middleware.willSaveWaitUntil(event, willSaveWaitUntil)\n                : willSaveWaitUntil(event));\n        }\n    }\n    unregister(id) {\n        this._selectors.delete(id);\n        if (this._selectors.size === 0 && this._listener) {\n            this._listener.dispose();\n            this._listener = undefined;\n        }\n    }\n    dispose() {\n        this._selectors.clear();\n        if (this._listener) {\n            this._listener.dispose();\n            this._listener = undefined;\n        }\n    }\n}\nexports.WillSaveWaitUntilFeature = WillSaveWaitUntilFeature;\nclass DidSaveTextDocumentFeature extends features_1.TextDocumentEventFeature {\n    constructor(client) {\n        super(client, vscode_1.workspace.onDidSaveTextDocument, vscode_languageserver_protocol_1.DidSaveTextDocumentNotification.type, () => client.middleware.didSave, (textDocument) => client.code2ProtocolConverter.asSaveTextDocumentParams(textDocument, this._includeText), (data) => data, features_1.TextDocumentEventFeature.textDocumentFilter);\n        this._includeText = false;\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.DidSaveTextDocumentNotification.type;\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'synchronization').didSave = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const textDocumentSyncOptions = capabilities.resolvedTextDocumentSync;\n        if (documentSelector && textDocumentSyncOptions && textDocumentSyncOptions.save) {\n            const saveOptions = typeof textDocumentSyncOptions.save === 'boolean'\n                ? { includeText: false }\n                : { includeText: !!textDocumentSyncOptions.save.includeText };\n            this.register({\n                id: UUID.generateUuid(),\n                registerOptions: Object.assign({}, { documentSelector: documentSelector }, saveOptions)\n            });\n        }\n    }\n    register(data) {\n        this._includeText = !!data.registerOptions.includeText;\n        super.register(data);\n    }\n}\nexports.DidSaveTextDocumentFeature = DidSaveTextDocumentFeature;\n//# sourceMappingURL=textSynchronization.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypeDefinitionFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nclass TypeDefinitionFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.TypeDefinitionRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'typeDefinition').dynamicRegistration = true;\n        let typeDefinitionSupport = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'typeDefinition');\n        typeDefinitionSupport.dynamicRegistration = true;\n        typeDefinitionSupport.linkSupport = true;\n    }\n    initialize(capabilities, documentSelector) {\n        let [id, options] = this.getRegistration(documentSelector, capabilities.typeDefinitionProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const selector = options.documentSelector;\n        const provider = {\n            provideTypeDefinition: (document, position, token) => {\n                const client = this._client;\n                const provideTypeDefinition = (document, position, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.TypeDefinitionRequest.type, client.code2ProtocolConverter.asTextDocumentPositionParams(document, position), token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asDefinitionResult(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.TypeDefinitionRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideTypeDefinition\n                    ? middleware.provideTypeDefinition(document, position, token, provideTypeDefinition)\n                    : provideTypeDefinition(document, position, token);\n            }\n        };\n        return [this.registerProvider(selector, provider), provider];\n    }\n    registerProvider(selector, provider) {\n        return vscode_1.languages.registerTypeDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(selector), provider);\n    }\n}\nexports.TypeDefinitionFeature = TypeDefinitionFeature;\n//# sourceMappingURL=typeDefinition.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypeHierarchyFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nclass TypeHierarchyProvider {\n    constructor(client) {\n        this.client = client;\n        this.middleware = client.middleware;\n    }\n    prepareTypeHierarchy(document, position, token) {\n        const client = this.client;\n        const middleware = this.middleware;\n        const prepareTypeHierarchy = (document, position, token) => {\n            const params = client.code2ProtocolConverter.asTextDocumentPositionParams(document, position);\n            return client.sendRequest(vscode_languageserver_protocol_1.TypeHierarchyPrepareRequest.type, params, token).then((result) => {\n                if (token.isCancellationRequested) {\n                    return null;\n                }\n                return client.protocol2CodeConverter.asTypeHierarchyItems(result, token);\n            }, (error) => {\n                return client.handleFailedRequest(vscode_languageserver_protocol_1.TypeHierarchyPrepareRequest.type, token, error, null);\n            });\n        };\n        return middleware.prepareTypeHierarchy\n            ? middleware.prepareTypeHierarchy(document, position, token, prepareTypeHierarchy)\n            : prepareTypeHierarchy(document, position, token);\n    }\n    provideTypeHierarchySupertypes(item, token) {\n        const client = this.client;\n        const middleware = this.middleware;\n        const provideTypeHierarchySupertypes = (item, token) => {\n            const params = {\n                item: client.code2ProtocolConverter.asTypeHierarchyItem(item)\n            };\n            return client.sendRequest(vscode_languageserver_protocol_1.TypeHierarchySupertypesRequest.type, params, token).then((result) => {\n                if (token.isCancellationRequested) {\n                    return null;\n                }\n                return client.protocol2CodeConverter.asTypeHierarchyItems(result, token);\n            }, (error) => {\n                return client.handleFailedRequest(vscode_languageserver_protocol_1.TypeHierarchySupertypesRequest.type, token, error, null);\n            });\n        };\n        return middleware.provideTypeHierarchySupertypes\n            ? middleware.provideTypeHierarchySupertypes(item, token, provideTypeHierarchySupertypes)\n            : provideTypeHierarchySupertypes(item, token);\n    }\n    provideTypeHierarchySubtypes(item, token) {\n        const client = this.client;\n        const middleware = this.middleware;\n        const provideTypeHierarchySubtypes = (item, token) => {\n            const params = {\n                item: client.code2ProtocolConverter.asTypeHierarchyItem(item)\n            };\n            return client.sendRequest(vscode_languageserver_protocol_1.TypeHierarchySubtypesRequest.type, params, token).then((result) => {\n                if (token.isCancellationRequested) {\n                    return null;\n                }\n                return client.protocol2CodeConverter.asTypeHierarchyItems(result, token);\n            }, (error) => {\n                return client.handleFailedRequest(vscode_languageserver_protocol_1.TypeHierarchySubtypesRequest.type, token, error, null);\n            });\n        };\n        return middleware.provideTypeHierarchySubtypes\n            ? middleware.provideTypeHierarchySubtypes(item, token, provideTypeHierarchySubtypes)\n            : provideTypeHierarchySubtypes(item, token);\n    }\n}\nclass TypeHierarchyFeature extends features_1.TextDocumentLanguageFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.TypeHierarchyPrepareRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        const capability = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'textDocument'), 'typeHierarchy');\n        capability.dynamicRegistration = true;\n    }\n    initialize(capabilities, documentSelector) {\n        const [id, options] = this.getRegistration(documentSelector, capabilities.typeHierarchyProvider);\n        if (!id || !options) {\n            return;\n        }\n        this.register({ id: id, registerOptions: options });\n    }\n    registerLanguageProvider(options) {\n        const client = this._client;\n        const provider = new TypeHierarchyProvider(client);\n        return [vscode_1.languages.registerTypeHierarchyProvider(client.protocol2CodeConverter.asDocumentSelector(options.documentSelector), provider), provider];\n    }\n}\nexports.TypeHierarchyFeature = TypeHierarchyFeature;\n//# sourceMappingURL=typeHierarchy.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.forEach = exports.mapAsync = exports.map = exports.clearTestMode = exports.setTestMode = exports.Semaphore = exports.Delayer = void 0;\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nclass Delayer {\n    constructor(defaultDelay) {\n        this.defaultDelay = defaultDelay;\n        this.timeout = undefined;\n        this.completionPromise = undefined;\n        this.onSuccess = undefined;\n        this.task = undefined;\n    }\n    trigger(task, delay = this.defaultDelay) {\n        this.task = task;\n        if (delay >= 0) {\n            this.cancelTimeout();\n        }\n        if (!this.completionPromise) {\n            this.completionPromise = new Promise((resolve) => {\n                this.onSuccess = resolve;\n            }).then(() => {\n                this.completionPromise = undefined;\n                this.onSuccess = undefined;\n                var result = this.task();\n                this.task = undefined;\n                return result;\n            });\n        }\n        if (delay >= 0 || this.timeout === void 0) {\n            this.timeout = (0, vscode_languageserver_protocol_1.RAL)().timer.setTimeout(() => {\n                this.timeout = undefined;\n                this.onSuccess(undefined);\n            }, delay >= 0 ? delay : this.defaultDelay);\n        }\n        return this.completionPromise;\n    }\n    forceDelivery() {\n        if (!this.completionPromise) {\n            return undefined;\n        }\n        this.cancelTimeout();\n        let result = this.task();\n        this.completionPromise = undefined;\n        this.onSuccess = undefined;\n        this.task = undefined;\n        return result;\n    }\n    isTriggered() {\n        return this.timeout !== undefined;\n    }\n    cancel() {\n        this.cancelTimeout();\n        this.completionPromise = undefined;\n    }\n    cancelTimeout() {\n        if (this.timeout !== undefined) {\n            this.timeout.dispose();\n            this.timeout = undefined;\n        }\n    }\n}\nexports.Delayer = Delayer;\nclass Semaphore {\n    constructor(capacity = 1) {\n        if (capacity <= 0) {\n            throw new Error('Capacity must be greater than 0');\n        }\n        this._capacity = capacity;\n        this._active = 0;\n        this._waiting = [];\n    }\n    lock(thunk) {\n        return new Promise((resolve, reject) => {\n            this._waiting.push({ thunk, resolve, reject });\n            this.runNext();\n        });\n    }\n    get active() {\n        return this._active;\n    }\n    runNext() {\n        if (this._waiting.length === 0 || this._active === this._capacity) {\n            return;\n        }\n        (0, vscode_languageserver_protocol_1.RAL)().timer.setImmediate(() => this.doRunNext());\n    }\n    doRunNext() {\n        if (this._waiting.length === 0 || this._active === this._capacity) {\n            return;\n        }\n        const next = this._waiting.shift();\n        this._active++;\n        if (this._active > this._capacity) {\n            throw new Error(`To many thunks active`);\n        }\n        try {\n            const result = next.thunk();\n            if (result instanceof Promise) {\n                result.then((value) => {\n                    this._active--;\n                    next.resolve(value);\n                    this.runNext();\n                }, (err) => {\n                    this._active--;\n                    next.reject(err);\n                    this.runNext();\n                });\n            }\n            else {\n                this._active--;\n                next.resolve(result);\n                this.runNext();\n            }\n        }\n        catch (err) {\n            this._active--;\n            next.reject(err);\n            this.runNext();\n        }\n    }\n}\nexports.Semaphore = Semaphore;\nlet $test = false;\nfunction setTestMode() {\n    $test = true;\n}\nexports.setTestMode = setTestMode;\nfunction clearTestMode() {\n    $test = false;\n}\nexports.clearTestMode = clearTestMode;\nconst defaultYieldTimeout = 15 /*ms*/;\nclass Timer {\n    constructor(yieldAfter = defaultYieldTimeout) {\n        this.yieldAfter = $test === true ? Math.max(yieldAfter, 2) : Math.max(yieldAfter, defaultYieldTimeout);\n        this.startTime = Date.now();\n        this.counter = 0;\n        this.total = 0;\n        // start with a counter interval of 1.\n        this.counterInterval = 1;\n    }\n    start() {\n        this.counter = 0;\n        this.total = 0;\n        this.counterInterval = 1;\n        this.startTime = Date.now();\n    }\n    shouldYield() {\n        if (++this.counter >= this.counterInterval) {\n            const timeTaken = Date.now() - this.startTime;\n            const timeLeft = Math.max(0, this.yieldAfter - timeTaken);\n            this.total += this.counter;\n            this.counter = 0;\n            if (timeTaken >= this.yieldAfter || timeLeft <= 1) {\n                // Yield also if time left <= 1 since we compute the counter\n                // for max < 2 ms.\n                // Start with interval 1 again. We could do some calculation\n                // with using 80% of the last counter however other things (GC)\n                // affect the timing heavily since we have small timings (1 - 15ms).\n                this.counterInterval = 1;\n                this.total = 0;\n                return true;\n            }\n            else {\n                // Only increase the counter until we have spent <= 2 ms. Increasing\n                // the counter further is very fragile since timing is influenced\n                // by other things and can increase the counter too much. This will result\n                // that we yield in average after [14 - 16]ms.\n                switch (timeTaken) {\n                    case 0:\n                    case 1:\n                        this.counterInterval = this.total * 2;\n                        break;\n                }\n            }\n        }\n        return false;\n    }\n}\nasync function map(items, func, token, options) {\n    if (items.length === 0) {\n        return [];\n    }\n    const result = new Array(items.length);\n    const timer = new Timer(options?.yieldAfter);\n    function convertBatch(start) {\n        timer.start();\n        for (let i = start; i < items.length; i++) {\n            result[i] = func(items[i]);\n            if (timer.shouldYield()) {\n                options?.yieldCallback && options.yieldCallback();\n                return i + 1;\n            }\n        }\n        return -1;\n    }\n    // Convert the first batch sync on the same frame.\n    let index = convertBatch(0);\n    while (index !== -1) {\n        if (token !== undefined && token.isCancellationRequested) {\n            break;\n        }\n        index = await new Promise((resolve) => {\n            (0, vscode_languageserver_protocol_1.RAL)().timer.setImmediate(() => {\n                resolve(convertBatch(index));\n            });\n        });\n    }\n    return result;\n}\nexports.map = map;\nasync function mapAsync(items, func, token, options) {\n    if (items.length === 0) {\n        return [];\n    }\n    const result = new Array(items.length);\n    const timer = new Timer(options?.yieldAfter);\n    async function convertBatch(start) {\n        timer.start();\n        for (let i = start; i < items.length; i++) {\n            result[i] = await func(items[i], token);\n            if (timer.shouldYield()) {\n                options?.yieldCallback && options.yieldCallback();\n                return i + 1;\n            }\n        }\n        return -1;\n    }\n    let index = await convertBatch(0);\n    while (index !== -1) {\n        if (token !== undefined && token.isCancellationRequested) {\n            break;\n        }\n        index = await new Promise((resolve) => {\n            (0, vscode_languageserver_protocol_1.RAL)().timer.setImmediate(() => {\n                resolve(convertBatch(index));\n            });\n        });\n    }\n    return result;\n}\nexports.mapAsync = mapAsync;\nasync function forEach(items, func, token, options) {\n    if (items.length === 0) {\n        return;\n    }\n    const timer = new Timer(options?.yieldAfter);\n    function runBatch(start) {\n        timer.start();\n        for (let i = start; i < items.length; i++) {\n            func(items[i]);\n            if (timer.shouldYield()) {\n                options?.yieldCallback && options.yieldCallback();\n                return i + 1;\n            }\n        }\n        return -1;\n    }\n    // Convert the first batch sync on the same frame.\n    let index = runBatch(0);\n    while (index !== -1) {\n        if (token !== undefined && token.isCancellationRequested) {\n            break;\n        }\n        index = await new Promise((resolve) => {\n            (0, vscode_languageserver_protocol_1.RAL)().timer.setImmediate(() => {\n                resolve(runBatch(index));\n            });\n        });\n    }\n}\nexports.forEach = forEach;\n//# sourceMappingURL=async.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.asPromise = exports.thenable = exports.typedArray = exports.stringArray = exports.array = exports.func = exports.error = exports.number = exports.string = exports.boolean = void 0;\nfunction boolean(value) {\n    return value === true || value === false;\n}\nexports.boolean = boolean;\nfunction string(value) {\n    return typeof value === 'string' || value instanceof String;\n}\nexports.string = string;\nfunction number(value) {\n    return typeof value === 'number' || value instanceof Number;\n}\nexports.number = number;\nfunction error(value) {\n    return value instanceof Error;\n}\nexports.error = error;\nfunction func(value) {\n    return typeof value === 'function';\n}\nexports.func = func;\nfunction array(value) {\n    return Array.isArray(value);\n}\nexports.array = array;\nfunction stringArray(value) {\n    return array(value) && value.every(elem => string(elem));\n}\nexports.stringArray = stringArray;\nfunction typedArray(value, check) {\n    return Array.isArray(value) && value.every(check);\n}\nexports.typedArray = typedArray;\nfunction thenable(value) {\n    return value && func(value.then);\n}\nexports.thenable = thenable;\nfunction asPromise(value) {\n    if (value instanceof Promise) {\n        return value;\n    }\n    else if (thenable(value)) {\n        return new Promise((resolve, reject) => {\n            value.then((resolved) => resolve(resolved), (error) => reject(error));\n        });\n    }\n    else {\n        return Promise.resolve(value);\n    }\n}\nexports.asPromise = asPromise;\n//# sourceMappingURL=is.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.generateUuid = exports.parse = exports.isUUID = exports.v4 = exports.empty = void 0;\nclass ValueUUID {\n    constructor(_value) {\n        this._value = _value;\n        // empty\n    }\n    asHex() {\n        return this._value;\n    }\n    equals(other) {\n        return this.asHex() === other.asHex();\n    }\n}\nclass V4UUID extends ValueUUID {\n    constructor() {\n        super([\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            '4',\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            V4UUID._oneOf(V4UUID._timeHighBits),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            '-',\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n            V4UUID._randomHex(),\n        ].join(''));\n    }\n    static _oneOf(array) {\n        return array[Math.floor(array.length * Math.random())];\n    }\n    static _randomHex() {\n        return V4UUID._oneOf(V4UUID._chars);\n    }\n}\nV4UUID._chars = ['0', '1', '2', '3', '4', '5', '6', '6', '7', '8', '9', 'a', 'b', 'c', 'd', 'e', 'f'];\nV4UUID._timeHighBits = ['8', '9', 'a', 'b'];\n/**\n * An empty UUID that contains only zeros.\n */\nexports.empty = new ValueUUID('00000000-0000-0000-0000-000000000000');\nfunction v4() {\n    return new V4UUID();\n}\nexports.v4 = v4;\nconst _UUIDPattern = /^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;\nfunction isUUID(value) {\n    return _UUIDPattern.test(value);\n}\nexports.isUUID = isUUID;\n/**\n * Parses a UUID that is of the format xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx.\n * @param value A uuid string.\n */\nfunction parse(value) {\n    if (!isUUID(value)) {\n        throw new Error('invalid uuid');\n    }\n    return new ValueUUID(value);\n}\nexports.parse = parse;\nfunction generateUuid() {\n    return v4().asHex();\n}\nexports.generateUuid = generateUuid;\n//# sourceMappingURL=uuid.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WorkspaceFoldersFeature = exports.arrayDiff = void 0;\nconst UUID = require(\"./utils/uuid\");\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nfunction access(target, key) {\n    if (target === void 0) {\n        return undefined;\n    }\n    return target[key];\n}\nfunction arrayDiff(left, right) {\n    return left.filter(element => right.indexOf(element) < 0);\n}\nexports.arrayDiff = arrayDiff;\nclass WorkspaceFoldersFeature {\n    constructor(client) {\n        this._client = client;\n        this._listeners = new Map();\n    }\n    getState() {\n        return { kind: 'workspace', id: this.registrationType.method, registrations: this._listeners.size > 0 };\n    }\n    get registrationType() {\n        return vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type;\n    }\n    fillInitializeParams(params) {\n        const folders = vscode_1.workspace.workspaceFolders;\n        this.initializeWithFolders(folders);\n        if (folders === void 0) {\n            params.workspaceFolders = null;\n        }\n        else {\n            params.workspaceFolders = folders.map(folder => this.asProtocol(folder));\n        }\n    }\n    initializeWithFolders(currentWorkspaceFolders) {\n        this._initialFolders = currentWorkspaceFolders;\n    }\n    fillClientCapabilities(capabilities) {\n        capabilities.workspace = capabilities.workspace || {};\n        capabilities.workspace.workspaceFolders = true;\n    }\n    initialize(capabilities) {\n        const client = this._client;\n        client.onRequest(vscode_languageserver_protocol_1.WorkspaceFoldersRequest.type, (token) => {\n            const workspaceFolders = () => {\n                const folders = vscode_1.workspace.workspaceFolders;\n                if (folders === undefined) {\n                    return null;\n                }\n                const result = folders.map((folder) => {\n                    return this.asProtocol(folder);\n                });\n                return result;\n            };\n            const middleware = client.middleware.workspace;\n            return middleware && middleware.workspaceFolders\n                ? middleware.workspaceFolders(token, workspaceFolders)\n                : workspaceFolders(token);\n        });\n        const value = access(access(access(capabilities, 'workspace'), 'workspaceFolders'), 'changeNotifications');\n        let id;\n        if (typeof value === 'string') {\n            id = value;\n        }\n        else if (value === true) {\n            id = UUID.generateUuid();\n        }\n        if (id) {\n            this.register({ id: id, registerOptions: undefined });\n        }\n    }\n    sendInitialEvent(currentWorkspaceFolders) {\n        let promise;\n        if (this._initialFolders && currentWorkspaceFolders) {\n            const removed = arrayDiff(this._initialFolders, currentWorkspaceFolders);\n            const added = arrayDiff(currentWorkspaceFolders, this._initialFolders);\n            if (added.length > 0 || removed.length > 0) {\n                promise = this.doSendEvent(added, removed);\n            }\n        }\n        else if (this._initialFolders) {\n            promise = this.doSendEvent([], this._initialFolders);\n        }\n        else if (currentWorkspaceFolders) {\n            promise = this.doSendEvent(currentWorkspaceFolders, []);\n        }\n        if (promise !== undefined) {\n            promise.catch((error) => {\n                this._client.error(`Sending notification ${vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type.method} failed`, error);\n            });\n        }\n    }\n    doSendEvent(addedFolders, removedFolders) {\n        let params = {\n            event: {\n                added: addedFolders.map(folder => this.asProtocol(folder)),\n                removed: removedFolders.map(folder => this.asProtocol(folder))\n            }\n        };\n        return this._client.sendNotification(vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type, params);\n    }\n    register(data) {\n        let id = data.id;\n        let client = this._client;\n        let disposable = vscode_1.workspace.onDidChangeWorkspaceFolders((event) => {\n            let didChangeWorkspaceFolders = (event) => {\n                return this.doSendEvent(event.added, event.removed);\n            };\n            let middleware = client.middleware.workspace;\n            const promise = middleware && middleware.didChangeWorkspaceFolders\n                ? middleware.didChangeWorkspaceFolders(event, didChangeWorkspaceFolders)\n                : didChangeWorkspaceFolders(event);\n            promise.catch((error) => {\n                this._client.error(`Sending notification ${vscode_languageserver_protocol_1.DidChangeWorkspaceFoldersNotification.type.method} failed`, error);\n            });\n        });\n        this._listeners.set(id, disposable);\n        this.sendInitialEvent(vscode_1.workspace.workspaceFolders);\n    }\n    unregister(id) {\n        let disposable = this._listeners.get(id);\n        if (disposable === void 0) {\n            return;\n        }\n        this._listeners.delete(id);\n        disposable.dispose();\n    }\n    dispose() {\n        for (let disposable of this._listeners.values()) {\n            disposable.dispose();\n        }\n        this._listeners.clear();\n    }\n    asProtocol(workspaceFolder) {\n        if (workspaceFolder === void 0) {\n            return null;\n        }\n        return { uri: this._client.code2ProtocolConverter.asUri(workspaceFolder.uri), name: workspaceFolder.name };\n    }\n}\nexports.WorkspaceFoldersFeature = WorkspaceFoldersFeature;\n//# sourceMappingURL=workspaceFolder.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WorkspaceSymbolFeature = void 0;\nconst vscode_1 = require(\"vscode\");\nconst vscode_languageserver_protocol_1 = require(\"vscode-languageserver-protocol\");\nconst features_1 = require(\"./features\");\nconst documentSymbol_1 = require(\"./documentSymbol\");\nconst UUID = require(\"./utils/uuid\");\nclass WorkspaceSymbolFeature extends features_1.WorkspaceFeature {\n    constructor(client) {\n        super(client, vscode_languageserver_protocol_1.WorkspaceSymbolRequest.type);\n    }\n    fillClientCapabilities(capabilities) {\n        let symbolCapabilities = (0, features_1.ensure)((0, features_1.ensure)(capabilities, 'workspace'), 'symbol');\n        symbolCapabilities.dynamicRegistration = true;\n        symbolCapabilities.symbolKind = {\n            valueSet: documentSymbol_1.SupportedSymbolKinds\n        };\n        symbolCapabilities.tagSupport = {\n            valueSet: documentSymbol_1.SupportedSymbolTags\n        };\n        symbolCapabilities.resolveSupport = { properties: ['location.range'] };\n    }\n    initialize(capabilities) {\n        if (!capabilities.workspaceSymbolProvider) {\n            return;\n        }\n        this.register({\n            id: UUID.generateUuid(),\n            registerOptions: capabilities.workspaceSymbolProvider === true ? { workDoneProgress: false } : capabilities.workspaceSymbolProvider\n        });\n    }\n    registerLanguageProvider(options) {\n        const provider = {\n            provideWorkspaceSymbols: (query, token) => {\n                const client = this._client;\n                const provideWorkspaceSymbols = (query, token) => {\n                    return client.sendRequest(vscode_languageserver_protocol_1.WorkspaceSymbolRequest.type, { query }, token).then((result) => {\n                        if (token.isCancellationRequested) {\n                            return null;\n                        }\n                        return client.protocol2CodeConverter.asSymbolInformations(result, token);\n                    }, (error) => {\n                        return client.handleFailedRequest(vscode_languageserver_protocol_1.WorkspaceSymbolRequest.type, token, error, null);\n                    });\n                };\n                const middleware = client.middleware;\n                return middleware.provideWorkspaceSymbols\n                    ? middleware.provideWorkspaceSymbols(query, token, provideWorkspaceSymbols)\n                    : provideWorkspaceSymbols(query, token);\n            },\n            resolveWorkspaceSymbol: options.resolveProvider === true\n                ? (item, token) => {\n                    const client = this._client;\n                    const resolveWorkspaceSymbol = (item, token) => {\n                        return client.sendRequest(vscode_languageserver_protocol_1.WorkspaceSymbolResolveRequest.type, client.code2ProtocolConverter.asWorkspaceSymbol(item), token).then((result) => {\n                            if (token.isCancellationRequested) {\n                                return null;\n                            }\n                            return client.protocol2CodeConverter.asSymbolInformation(result);\n                        }, (error) => {\n                            return client.handleFailedRequest(vscode_languageserver_protocol_1.WorkspaceSymbolResolveRequest.type, token, error, null);\n                        });\n                    };\n                    const middleware = client.middleware;\n                    return middleware.resolveWorkspaceSymbol\n                        ? middleware.resolveWorkspaceSymbol(item, token, resolveWorkspaceSymbol)\n                        : resolveWorkspaceSymbol(item, token);\n                }\n                : undefined\n        };\n        return [vscode_1.languages.registerWorkspaceSymbolProvider(provider), provider];\n    }\n}\nexports.WorkspaceSymbolFeature = WorkspaceSymbolFeature;\n//# sourceMappingURL=workspaceSymbol.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SettingMonitor = exports.LanguageClient = exports.TransportKind = void 0;\nconst cp = require(\"child_process\");\nconst fs = require(\"fs\");\nconst path = require(\"path\");\nconst vscode_1 = require(\"vscode\");\nconst Is = require(\"../common/utils/is\");\nconst client_1 = require(\"../common/client\");\nconst processes_1 = require(\"./processes\");\nconst node_1 = require(\"vscode-languageserver-protocol/node\");\n// Import SemVer functions individually to avoid circular dependencies in SemVer\nconst semverParse = require(\"semver/functions/parse\");\nconst semverSatisfies = require(\"semver/functions/satisfies\");\n__exportStar(require(\"vscode-languageserver-protocol/node\"), exports);\n__exportStar(require(\"../common/api\"), exports);\nconst REQUIRED_VSCODE_VERSION = '^1.67.0'; // do not change format, updated by `updateVSCode` script\nvar TransportKind;\n(function (TransportKind) {\n    TransportKind[TransportKind[\"stdio\"] = 0] = \"stdio\";\n    TransportKind[TransportKind[\"ipc\"] = 1] = \"ipc\";\n    TransportKind[TransportKind[\"pipe\"] = 2] = \"pipe\";\n    TransportKind[TransportKind[\"socket\"] = 3] = \"socket\";\n})(TransportKind = exports.TransportKind || (exports.TransportKind = {}));\nvar Transport;\n(function (Transport) {\n    function isSocket(value) {\n        const candidate = value;\n        return candidate && candidate.kind === TransportKind.socket && Is.number(candidate.port);\n    }\n    Transport.isSocket = isSocket;\n})(Transport || (Transport = {}));\nvar Executable;\n(function (Executable) {\n    function is(value) {\n        return Is.string(value.command);\n    }\n    Executable.is = is;\n})(Executable || (Executable = {}));\nvar NodeModule;\n(function (NodeModule) {\n    function is(value) {\n        return Is.string(value.module);\n    }\n    NodeModule.is = is;\n})(NodeModule || (NodeModule = {}));\nvar StreamInfo;\n(function (StreamInfo) {\n    function is(value) {\n        let candidate = value;\n        return candidate && candidate.writer !== undefined && candidate.reader !== undefined;\n    }\n    StreamInfo.is = is;\n})(StreamInfo || (StreamInfo = {}));\nvar ChildProcessInfo;\n(function (ChildProcessInfo) {\n    function is(value) {\n        let candidate = value;\n        return candidate && candidate.process !== undefined && typeof candidate.detached === 'boolean';\n    }\n    ChildProcessInfo.is = is;\n})(ChildProcessInfo || (ChildProcessInfo = {}));\nclass LanguageClient extends client_1.BaseLanguageClient {\n    constructor(arg1, arg2, arg3, arg4, arg5) {\n        let id;\n        let name;\n        let serverOptions;\n        let clientOptions;\n        let forceDebug;\n        if (Is.string(arg2)) {\n            id = arg1;\n            name = arg2;\n            serverOptions = arg3;\n            clientOptions = arg4;\n            forceDebug = !!arg5;\n        }\n        else {\n            id = arg1.toLowerCase();\n            name = arg1;\n            serverOptions = arg2;\n            clientOptions = arg3;\n            forceDebug = arg4;\n        }\n        if (forceDebug === undefined) {\n            forceDebug = false;\n        }\n        super(id, name, clientOptions);\n        this._serverOptions = serverOptions;\n        this._forceDebug = forceDebug;\n        this._isInDebugMode = forceDebug;\n        try {\n            this.checkVersion();\n        }\n        catch (error) {\n            if (Is.string(error.message)) {\n                this.outputChannel.appendLine(error.message);\n            }\n            throw error;\n        }\n    }\n    checkVersion() {\n        const codeVersion = semverParse(vscode_1.version);\n        if (!codeVersion) {\n            throw new Error(`No valid VS Code version detected. Version string is: ${vscode_1.version}`);\n        }\n        // Remove the insider pre-release since we stay API compatible.\n        if (codeVersion.prerelease && codeVersion.prerelease.length > 0) {\n            codeVersion.prerelease = [];\n        }\n        if (!semverSatisfies(codeVersion, REQUIRED_VSCODE_VERSION)) {\n            throw new Error(`The language client requires VS Code version ${REQUIRED_VSCODE_VERSION} but received version ${vscode_1.version}`);\n        }\n    }\n    get isInDebugMode() {\n        return this._isInDebugMode;\n    }\n    async restart() {\n        await this.stop();\n        // We are in debug mode. Wait a little before we restart\n        // so that the debug port can be freed. We can safely ignore\n        // the disposable returned from start since it will call\n        // stop on the same client instance.\n        if (this.isInDebugMode) {\n            await new Promise((resolve) => setTimeout(resolve, 1000));\n            await this.start();\n        }\n        else {\n            await this.start();\n        }\n    }\n    stop(timeout = 2000) {\n        return super.stop(timeout).finally(() => {\n            if (this._serverProcess) {\n                const toCheck = this._serverProcess;\n                this._serverProcess = undefined;\n                if (this._isDetached === undefined || !this._isDetached) {\n                    this.checkProcessDied(toCheck);\n                }\n                this._isDetached = undefined;\n            }\n        });\n    }\n    checkProcessDied(childProcess) {\n        if (!childProcess || childProcess.pid === undefined) {\n            return;\n        }\n        setTimeout(() => {\n            // Test if the process is still alive. Throws an exception if not\n            try {\n                if (childProcess.pid !== undefined) {\n                    process.kill(childProcess.pid, 0);\n                    (0, processes_1.terminate)(childProcess);\n                }\n            }\n            catch (error) {\n                // All is fine.\n            }\n        }, 2000);\n    }\n    handleConnectionClosed() {\n        this._serverProcess = undefined;\n        super.handleConnectionClosed();\n    }\n    fillInitializeParams(params) {\n        super.fillInitializeParams(params);\n        if (params.processId === null) {\n            params.processId = process.pid;\n        }\n    }\n    createMessageTransports(encoding) {\n        function getEnvironment(env, fork) {\n            if (!env && !fork) {\n                return undefined;\n            }\n            const result = Object.create(null);\n            Object.keys(process.env).forEach(key => result[key] = process.env[key]);\n            if (fork) {\n                result['ELECTRON_RUN_AS_NODE'] = '1';\n                result['ELECTRON_NO_ASAR'] = '1';\n            }\n            if (env) {\n                Object.keys(env).forEach(key => result[key] = env[key]);\n            }\n            return result;\n        }\n        const debugStartWith = ['--debug=', '--debug-brk=', '--inspect=', '--inspect-brk='];\n        const debugEquals = ['--debug', '--debug-brk', '--inspect', '--inspect-brk'];\n        function startedInDebugMode() {\n            let args = process.execArgv;\n            if (args) {\n                return args.some((arg) => {\n                    return debugStartWith.some(value => arg.startsWith(value)) ||\n                        debugEquals.some(value => arg === value);\n                });\n            }\n            return false;\n        }\n        function assertStdio(process) {\n            if (process.stdin === null || process.stdout === null || process.stderr === null) {\n                throw new Error('Process created without stdio streams');\n            }\n        }\n        const server = this._serverOptions;\n        // We got a function.\n        if (Is.func(server)) {\n            return server().then((result) => {\n                if (client_1.MessageTransports.is(result)) {\n                    this._isDetached = !!result.detached;\n                    return result;\n                }\n                else if (StreamInfo.is(result)) {\n                    this._isDetached = !!result.detached;\n                    return { reader: new node_1.StreamMessageReader(result.reader), writer: new node_1.StreamMessageWriter(result.writer) };\n                }\n                else {\n                    let cp;\n                    if (ChildProcessInfo.is(result)) {\n                        cp = result.process;\n                        this._isDetached = result.detached;\n                    }\n                    else {\n                        cp = result;\n                        this._isDetached = false;\n                    }\n                    cp.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                    return { reader: new node_1.StreamMessageReader(cp.stdout), writer: new node_1.StreamMessageWriter(cp.stdin) };\n                }\n            });\n        }\n        let json;\n        let runDebug = server;\n        if (runDebug.run || runDebug.debug) {\n            if (this._forceDebug || startedInDebugMode()) {\n                json = runDebug.debug;\n                this._isInDebugMode = true;\n            }\n            else {\n                json = runDebug.run;\n                this._isInDebugMode = false;\n            }\n        }\n        else {\n            json = server;\n        }\n        return this._getServerWorkingDir(json.options).then(serverWorkingDir => {\n            if (NodeModule.is(json) && json.module) {\n                let node = json;\n                let transport = node.transport || TransportKind.stdio;\n                if (node.runtime) {\n                    const args = [];\n                    const options = node.options ?? Object.create(null);\n                    if (options.execArgv) {\n                        options.execArgv.forEach(element => args.push(element));\n                    }\n                    args.push(node.module);\n                    if (node.args) {\n                        node.args.forEach(element => args.push(element));\n                    }\n                    const execOptions = Object.create(null);\n                    execOptions.cwd = serverWorkingDir;\n                    execOptions.env = getEnvironment(options.env, false);\n                    const runtime = this._getRuntimePath(node.runtime, serverWorkingDir);\n                    let pipeName = undefined;\n                    if (transport === TransportKind.ipc) {\n                        // exec options not correctly typed in lib\n                        execOptions.stdio = [null, null, null, 'ipc'];\n                        args.push('--node-ipc');\n                    }\n                    else if (transport === TransportKind.stdio) {\n                        args.push('--stdio');\n                    }\n                    else if (transport === TransportKind.pipe) {\n                        pipeName = (0, node_1.generateRandomPipeName)();\n                        args.push(`--pipe=${pipeName}`);\n                    }\n                    else if (Transport.isSocket(transport)) {\n                        args.push(`--socket=${transport.port}`);\n                    }\n                    args.push(`--clientProcessId=${process.pid.toString()}`);\n                    if (transport === TransportKind.ipc || transport === TransportKind.stdio) {\n                        const serverProcess = cp.spawn(runtime, args, execOptions);\n                        if (!serverProcess || !serverProcess.pid) {\n                            return handleChildProcessStartError(serverProcess, `Launching server using runtime ${runtime} failed.`);\n                        }\n                        this._serverProcess = serverProcess;\n                        serverProcess.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                        if (transport === TransportKind.ipc) {\n                            serverProcess.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                            return Promise.resolve({ reader: new node_1.IPCMessageReader(serverProcess), writer: new node_1.IPCMessageWriter(serverProcess) });\n                        }\n                        else {\n                            return Promise.resolve({ reader: new node_1.StreamMessageReader(serverProcess.stdout), writer: new node_1.StreamMessageWriter(serverProcess.stdin) });\n                        }\n                    }\n                    else if (transport === TransportKind.pipe) {\n                        return (0, node_1.createClientPipeTransport)(pipeName).then((transport) => {\n                            const process = cp.spawn(runtime, args, execOptions);\n                            if (!process || !process.pid) {\n                                return handleChildProcessStartError(process, `Launching server using runtime ${runtime} failed.`);\n                            }\n                            this._serverProcess = process;\n                            process.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                            process.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                            return transport.onConnected().then((protocol) => {\n                                return { reader: protocol[0], writer: protocol[1] };\n                            });\n                        });\n                    }\n                    else if (Transport.isSocket(transport)) {\n                        return (0, node_1.createClientSocketTransport)(transport.port).then((transport) => {\n                            const process = cp.spawn(runtime, args, execOptions);\n                            if (!process || !process.pid) {\n                                return handleChildProcessStartError(process, `Launching server using runtime ${runtime} failed.`);\n                            }\n                            this._serverProcess = process;\n                            process.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                            process.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                            return transport.onConnected().then((protocol) => {\n                                return { reader: protocol[0], writer: protocol[1] };\n                            });\n                        });\n                    }\n                }\n                else {\n                    let pipeName = undefined;\n                    return new Promise((resolve, reject) => {\n                        const args = (node.args && node.args.slice()) ?? [];\n                        if (transport === TransportKind.ipc) {\n                            args.push('--node-ipc');\n                        }\n                        else if (transport === TransportKind.stdio) {\n                            args.push('--stdio');\n                        }\n                        else if (transport === TransportKind.pipe) {\n                            pipeName = (0, node_1.generateRandomPipeName)();\n                            args.push(`--pipe=${pipeName}`);\n                        }\n                        else if (Transport.isSocket(transport)) {\n                            args.push(`--socket=${transport.port}`);\n                        }\n                        args.push(`--clientProcessId=${process.pid.toString()}`);\n                        const options = node.options ?? Object.create(null);\n                        options.env = getEnvironment(options.env, true);\n                        options.execArgv = options.execArgv || [];\n                        options.cwd = serverWorkingDir;\n                        options.silent = true;\n                        if (transport === TransportKind.ipc || transport === TransportKind.stdio) {\n                            const sp = cp.fork(node.module, args || [], options);\n                            assertStdio(sp);\n                            this._serverProcess = sp;\n                            sp.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                            if (transport === TransportKind.ipc) {\n                                sp.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                                resolve({ reader: new node_1.IPCMessageReader(this._serverProcess), writer: new node_1.IPCMessageWriter(this._serverProcess) });\n                            }\n                            else {\n                                resolve({ reader: new node_1.StreamMessageReader(sp.stdout), writer: new node_1.StreamMessageWriter(sp.stdin) });\n                            }\n                        }\n                        else if (transport === TransportKind.pipe) {\n                            (0, node_1.createClientPipeTransport)(pipeName).then((transport) => {\n                                const sp = cp.fork(node.module, args || [], options);\n                                assertStdio(sp);\n                                this._serverProcess = sp;\n                                sp.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                                sp.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                                transport.onConnected().then((protocol) => {\n                                    resolve({ reader: protocol[0], writer: protocol[1] });\n                                }, reject);\n                            }, reject);\n                        }\n                        else if (Transport.isSocket(transport)) {\n                            (0, node_1.createClientSocketTransport)(transport.port).then((transport) => {\n                                const sp = cp.fork(node.module, args || [], options);\n                                assertStdio(sp);\n                                this._serverProcess = sp;\n                                sp.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                                sp.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                                transport.onConnected().then((protocol) => {\n                                    resolve({ reader: protocol[0], writer: protocol[1] });\n                                }, reject);\n                            }, reject);\n                        }\n                    });\n                }\n            }\n            else if (Executable.is(json) && json.command) {\n                const command = json;\n                const args = json.args !== undefined ? json.args.slice(0) : [];\n                let pipeName = undefined;\n                const transport = json.transport;\n                if (transport === TransportKind.stdio) {\n                    args.push('--stdio');\n                }\n                else if (transport === TransportKind.pipe) {\n                    pipeName = (0, node_1.generateRandomPipeName)();\n                    args.push(`--pipe=${pipeName}`);\n                }\n                else if (Transport.isSocket(transport)) {\n                    args.push(`--socket=${transport.port}`);\n                }\n                else if (transport === TransportKind.ipc) {\n                    throw new Error(`Transport kind ipc is not support for command executable`);\n                }\n                const options = Object.assign({}, command.options);\n                options.cwd = options.cwd || serverWorkingDir;\n                if (transport === undefined || transport === TransportKind.stdio) {\n                    const serverProcess = cp.spawn(command.command, args, options);\n                    if (!serverProcess || !serverProcess.pid) {\n                        return handleChildProcessStartError(serverProcess, `Launching server using command ${command.command} failed.`);\n                    }\n                    serverProcess.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                    this._serverProcess = serverProcess;\n                    this._isDetached = !!options.detached;\n                    return Promise.resolve({ reader: new node_1.StreamMessageReader(serverProcess.stdout), writer: new node_1.StreamMessageWriter(serverProcess.stdin) });\n                }\n                else if (transport === TransportKind.pipe) {\n                    return (0, node_1.createClientPipeTransport)(pipeName).then((transport) => {\n                        const serverProcess = cp.spawn(command.command, args, options);\n                        if (!serverProcess || !serverProcess.pid) {\n                            return handleChildProcessStartError(serverProcess, `Launching server using command ${command.command} failed.`);\n                        }\n                        this._serverProcess = serverProcess;\n                        this._isDetached = !!options.detached;\n                        serverProcess.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                        serverProcess.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                        return transport.onConnected().then((protocol) => {\n                            return { reader: protocol[0], writer: protocol[1] };\n                        });\n                    });\n                }\n                else if (Transport.isSocket(transport)) {\n                    return (0, node_1.createClientSocketTransport)(transport.port).then((transport) => {\n                        const serverProcess = cp.spawn(command.command, args, options);\n                        if (!serverProcess || !serverProcess.pid) {\n                            return handleChildProcessStartError(serverProcess, `Launching server using command ${command.command} failed.`);\n                        }\n                        this._serverProcess = serverProcess;\n                        this._isDetached = !!options.detached;\n                        serverProcess.stderr.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                        serverProcess.stdout.on('data', data => this.outputChannel.append(Is.string(data) ? data : data.toString(encoding)));\n                        return transport.onConnected().then((protocol) => {\n                            return { reader: protocol[0], writer: protocol[1] };\n                        });\n                    });\n                }\n            }\n            return Promise.reject(new Error(`Unsupported server configuration ` + JSON.stringify(server, null, 4)));\n        });\n    }\n    _getRuntimePath(runtime, serverWorkingDirectory) {\n        if (path.isAbsolute(runtime)) {\n            return runtime;\n        }\n        const mainRootPath = this._mainGetRootPath();\n        if (mainRootPath !== undefined) {\n            const result = path.join(mainRootPath, runtime);\n            if (fs.existsSync(result)) {\n                return result;\n            }\n        }\n        if (serverWorkingDirectory !== undefined) {\n            const result = path.join(serverWorkingDirectory, runtime);\n            if (fs.existsSync(result)) {\n                return result;\n            }\n        }\n        return runtime;\n    }\n    _mainGetRootPath() {\n        let folders = vscode_1.workspace.workspaceFolders;\n        if (!folders || folders.length === 0) {\n            return undefined;\n        }\n        let folder = folders[0];\n        if (folder.uri.scheme === 'file') {\n            return folder.uri.fsPath;\n        }\n        return undefined;\n    }\n    _getServerWorkingDir(options) {\n        let cwd = options && options.cwd;\n        if (!cwd) {\n            cwd = this.clientOptions.workspaceFolder\n                ? this.clientOptions.workspaceFolder.uri.fsPath\n                : this._mainGetRootPath();\n        }\n        if (cwd) {\n            // make sure the folder exists otherwise creating the process will fail\n            return new Promise(s => {\n                fs.lstat(cwd, (err, stats) => {\n                    s(!err && stats.isDirectory() ? cwd : undefined);\n                });\n            });\n        }\n        return Promise.resolve(undefined);\n    }\n    getLocale() {\n        const envValue = process.env['VSCODE_NLS_CONFIG'];\n        if (envValue === undefined) {\n            return 'en';\n        }\n        let config = undefined;\n        try {\n            config = JSON.parse(envValue);\n        }\n        catch (err) {\n        }\n        if (config === undefined || typeof config.locale !== 'string') {\n            return 'en';\n        }\n        return config.locale;\n    }\n}\nexports.LanguageClient = LanguageClient;\nclass SettingMonitor {\n    constructor(_client, _setting) {\n        this._client = _client;\n        this._setting = _setting;\n        this._listeners = [];\n    }\n    start() {\n        vscode_1.workspace.onDidChangeConfiguration(this.onDidChangeConfiguration, this, this._listeners);\n        this.onDidChangeConfiguration();\n        return new vscode_1.Disposable(() => {\n            if (this._client.needsStop()) {\n                void this._client.stop();\n            }\n        });\n    }\n    onDidChangeConfiguration() {\n        let index = this._setting.indexOf('.');\n        let primary = index >= 0 ? this._setting.substr(0, index) : this._setting;\n        let rest = index >= 0 ? this._setting.substr(index + 1) : undefined;\n        let enabled = rest ? vscode_1.workspace.getConfiguration(primary).get(rest, false) : vscode_1.workspace.getConfiguration(primary);\n        if (enabled && this._client.needsStart()) {\n            this._client.start().catch((error) => this._client.error('Start failed after configuration change', error, 'force'));\n        }\n        else if (!enabled && this._client.needsStop()) {\n            void this._client.stop().catch((error) => this._client.error('Stop failed after configuration change', error, 'force'));\n        }\n    }\n}\nexports.SettingMonitor = SettingMonitor;\nfunction handleChildProcessStartError(process, message) {\n    if (process === null) {\n        return Promise.reject(message);\n    }\n    return new Promise((_, reject) => {\n        process.on('error', (err) => {\n            reject(`${message} ${err}`);\n        });\n        // the error event should always be run immediately,\n        // but race on it just in case\n        setImmediate(() => reject(message));\n    });\n}\n//# sourceMappingURL=main.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.terminate = void 0;\nconst cp = require(\"child_process\");\nconst path_1 = require(\"path\");\nconst isWindows = (process.platform === 'win32');\nconst isMacintosh = (process.platform === 'darwin');\nconst isLinux = (process.platform === 'linux');\nfunction terminate(process, cwd) {\n    if (isWindows) {\n        try {\n            // This we run in Atom execFileSync is available.\n            // Ignore stderr since this is otherwise piped to parent.stderr\n            // which might be already closed.\n            let options = {\n                stdio: ['pipe', 'pipe', 'ignore']\n            };\n            if (cwd) {\n                options.cwd = cwd;\n            }\n            cp.execFileSync('taskkill', ['/T', '/F', '/PID', process.pid.toString()], options);\n            return true;\n        }\n        catch (err) {\n            return false;\n        }\n    }\n    else if (isLinux || isMacintosh) {\n        try {\n            var cmd = (0, path_1.join)(__dirname, 'terminateProcess.sh');\n            var result = cp.spawnSync(cmd, [process.pid.toString()]);\n            return result.error ? false : true;\n        }\n        catch (err) {\n            return false;\n        }\n    }\n    else {\n        process.kill('SIGKILL');\n        return true;\n    }\n}\nexports.terminate = terminate;\n//# sourceMappingURL=processes.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LSPErrorCodes = exports.createProtocolConnection = void 0;\n__exportStar(require(\"vscode-jsonrpc\"), exports);\n__exportStar(require(\"vscode-languageserver-types\"), exports);\n__exportStar(require(\"./messages\"), exports);\n__exportStar(require(\"./protocol\"), exports);\nvar connection_1 = require(\"./connection\");\nObject.defineProperty(exports, \"createProtocolConnection\", { enumerable: true, get: function () { return connection_1.createProtocolConnection; } });\nvar LSPErrorCodes;\n(function (LSPErrorCodes) {\n    /**\n    * This is the start range of LSP reserved error codes.\n    * It doesn't denote a real error code.\n    *\n    * @since 3.16.0\n    */\n    LSPErrorCodes.lspReservedErrorRangeStart = -32899;\n    /**\n     * A request failed but it was syntactically correct, e.g the\n     * method name was known and the parameters were valid. The error\n     * message should contain human readable information about why\n     * the request failed.\n     *\n     * @since 3.17.0\n     */\n    LSPErrorCodes.RequestFailed = -32803;\n    /**\n     * The server cancelled the request. This error code should\n     * only be used for requests that explicitly support being\n     * server cancellable.\n     *\n     * @since 3.17.0\n     */\n    LSPErrorCodes.ServerCancelled = -32802;\n    /**\n     * The server detected that the content of a document got\n     * modified outside normal conditions. A server should\n     * NOT send this error code if it detects a content change\n     * in it unprocessed messages. The result even computed\n     * on an older state might still be useful for the client.\n     *\n     * If a client decides that a result is not of any use anymore\n     * the client should cancel the request.\n     */\n    LSPErrorCodes.ContentModified = -32801;\n    /**\n     * The client has canceled a request and a server as detected\n     * the cancel.\n     */\n    LSPErrorCodes.RequestCancelled = -32800;\n    /**\n    * This is the end range of LSP reserved error codes.\n    * It doesn't denote a real error code.\n    *\n    * @since 3.16.0\n    */\n    LSPErrorCodes.lspReservedErrorRangeEnd = -32800;\n})(LSPErrorCodes = exports.LSPErrorCodes || (exports.LSPErrorCodes = {}));\n//# sourceMappingURL=api.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createProtocolConnection = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nfunction createProtocolConnection(input, output, logger, options) {\n    if (vscode_jsonrpc_1.ConnectionStrategy.is(options)) {\n        options = { connectionStrategy: options };\n    }\n    return (0, vscode_jsonrpc_1.createMessageConnection)(input, output, logger, options);\n}\nexports.createProtocolConnection = createProtocolConnection;\n//# sourceMappingURL=connection.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ProtocolNotificationType = exports.ProtocolNotificationType0 = exports.ProtocolRequestType = exports.ProtocolRequestType0 = exports.RegistrationType = exports.MessageDirection = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nvar MessageDirection;\n(function (MessageDirection) {\n    MessageDirection[\"clientToServer\"] = \"clientToServer\";\n    MessageDirection[\"serverToClient\"] = \"serverToClient\";\n    MessageDirection[\"both\"] = \"both\";\n})(MessageDirection = exports.MessageDirection || (exports.MessageDirection = {}));\nclass RegistrationType {\n    constructor(method) {\n        this.method = method;\n    }\n}\nexports.RegistrationType = RegistrationType;\nclass ProtocolRequestType0 extends vscode_jsonrpc_1.RequestType0 {\n    constructor(method) {\n        super(method);\n    }\n}\nexports.ProtocolRequestType0 = ProtocolRequestType0;\nclass ProtocolRequestType extends vscode_jsonrpc_1.RequestType {\n    constructor(method) {\n        super(method, vscode_jsonrpc_1.ParameterStructures.byName);\n    }\n}\nexports.ProtocolRequestType = ProtocolRequestType;\nclass ProtocolNotificationType0 extends vscode_jsonrpc_1.NotificationType0 {\n    constructor(method) {\n        super(method);\n    }\n}\nexports.ProtocolNotificationType0 = ProtocolNotificationType0;\nclass ProtocolNotificationType extends vscode_jsonrpc_1.NotificationType {\n    constructor(method) {\n        super(method, vscode_jsonrpc_1.ParameterStructures.byName);\n    }\n}\nexports.ProtocolNotificationType = ProtocolNotificationType;\n//# sourceMappingURL=messages.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) TypeFox, Microsoft and others. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.CallHierarchyOutgoingCallsRequest = exports.CallHierarchyIncomingCallsRequest = exports.CallHierarchyPrepareRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to result a `CallHierarchyItem` in a document at a given position.\n * Can be used as an input to an incoming or outgoing call hierarchy.\n *\n * @since 3.16.0\n */\nvar CallHierarchyPrepareRequest;\n(function (CallHierarchyPrepareRequest) {\n    CallHierarchyPrepareRequest.method = 'textDocument/prepareCallHierarchy';\n    CallHierarchyPrepareRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CallHierarchyPrepareRequest.type = new messages_1.ProtocolRequestType(CallHierarchyPrepareRequest.method);\n})(CallHierarchyPrepareRequest = exports.CallHierarchyPrepareRequest || (exports.CallHierarchyPrepareRequest = {}));\n/**\n * A request to resolve the incoming calls for a given `CallHierarchyItem`.\n *\n * @since 3.16.0\n */\nvar CallHierarchyIncomingCallsRequest;\n(function (CallHierarchyIncomingCallsRequest) {\n    CallHierarchyIncomingCallsRequest.method = 'callHierarchy/incomingCalls';\n    CallHierarchyIncomingCallsRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CallHierarchyIncomingCallsRequest.type = new messages_1.ProtocolRequestType(CallHierarchyIncomingCallsRequest.method);\n})(CallHierarchyIncomingCallsRequest = exports.CallHierarchyIncomingCallsRequest || (exports.CallHierarchyIncomingCallsRequest = {}));\n/**\n * A request to resolve the outgoing calls for a given `CallHierarchyItem`.\n *\n * @since 3.16.0\n */\nvar CallHierarchyOutgoingCallsRequest;\n(function (CallHierarchyOutgoingCallsRequest) {\n    CallHierarchyOutgoingCallsRequest.method = 'callHierarchy/outgoingCalls';\n    CallHierarchyOutgoingCallsRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CallHierarchyOutgoingCallsRequest.type = new messages_1.ProtocolRequestType(CallHierarchyOutgoingCallsRequest.method);\n})(CallHierarchyOutgoingCallsRequest = exports.CallHierarchyOutgoingCallsRequest || (exports.CallHierarchyOutgoingCallsRequest = {}));\n//# sourceMappingURL=protocol.callHierarchy.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ColorPresentationRequest = exports.DocumentColorRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to list all color symbols found in a given text document. The request's\n * parameter is of type [DocumentColorParams](#DocumentColorParams) the\n * response is of type [ColorInformation[]](#ColorInformation) or a Thenable\n * that resolves to such.\n */\nvar DocumentColorRequest;\n(function (DocumentColorRequest) {\n    DocumentColorRequest.method = 'textDocument/documentColor';\n    DocumentColorRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentColorRequest.type = new messages_1.ProtocolRequestType(DocumentColorRequest.method);\n})(DocumentColorRequest = exports.DocumentColorRequest || (exports.DocumentColorRequest = {}));\n/**\n * A request to list all presentation for a color. The request's\n * parameter is of type [ColorPresentationParams](#ColorPresentationParams) the\n * response is of type [ColorInformation[]](#ColorInformation) or a Thenable\n * that resolves to such.\n */\nvar ColorPresentationRequest;\n(function (ColorPresentationRequest) {\n    ColorPresentationRequest.method = 'textDocument/colorPresentation';\n    ColorPresentationRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    ColorPresentationRequest.type = new messages_1.ProtocolRequestType(ColorPresentationRequest.method);\n})(ColorPresentationRequest = exports.ColorPresentationRequest || (exports.ColorPresentationRequest = {}));\n//# sourceMappingURL=protocol.colorProvider.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ConfigurationRequest = void 0;\nconst messages_1 = require(\"./messages\");\n//---- Get Configuration request ----\n/**\n * The 'workspace/configuration' request is sent from the server to the client to fetch a certain\n * configuration setting.\n *\n * This pull model replaces the old push model were the client signaled configuration change via an\n * event. If the server still needs to react to configuration changes (since the server caches the\n * result of `workspace/configuration` requests) the server should register for an empty configuration\n * change event and empty the cache if such an event is received.\n */\nvar ConfigurationRequest;\n(function (ConfigurationRequest) {\n    ConfigurationRequest.method = 'workspace/configuration';\n    ConfigurationRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    ConfigurationRequest.type = new messages_1.ProtocolRequestType(ConfigurationRequest.method);\n})(ConfigurationRequest = exports.ConfigurationRequest || (exports.ConfigurationRequest = {}));\n//# sourceMappingURL=protocol.configuration.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DeclarationRequest = void 0;\nconst messages_1 = require(\"./messages\");\n// @ts-ignore: to avoid inlining LocationLink as dynamic import\nlet __noDynamicImport;\n/**\n * A request to resolve the type definition locations of a symbol at a given text\n * document position. The request's parameter is of type [TextDocumentPositionParams]\n * (#TextDocumentPositionParams) the response is of type [Declaration](#Declaration)\n * or a typed array of [DeclarationLink](#DeclarationLink) or a Thenable that resolves\n * to such.\n */\nvar DeclarationRequest;\n(function (DeclarationRequest) {\n    DeclarationRequest.method = 'textDocument/declaration';\n    DeclarationRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DeclarationRequest.type = new messages_1.ProtocolRequestType(DeclarationRequest.method);\n})(DeclarationRequest = exports.DeclarationRequest || (exports.DeclarationRequest = {}));\n//# sourceMappingURL=protocol.declaration.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DiagnosticRefreshRequest = exports.WorkspaceDiagnosticRequest = exports.DocumentDiagnosticRequest = exports.DocumentDiagnosticReportKind = exports.DiagnosticServerCancellationData = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nconst Is = require(\"./utils/is\");\nconst messages_1 = require(\"./messages\");\n/**\n * @since 3.17.0\n */\nvar DiagnosticServerCancellationData;\n(function (DiagnosticServerCancellationData) {\n    function is(value) {\n        const candidate = value;\n        return candidate && Is.boolean(candidate.retriggerRequest);\n    }\n    DiagnosticServerCancellationData.is = is;\n})(DiagnosticServerCancellationData = exports.DiagnosticServerCancellationData || (exports.DiagnosticServerCancellationData = {}));\n/**\n * The document diagnostic report kinds.\n *\n * @since 3.17.0\n */\nvar DocumentDiagnosticReportKind;\n(function (DocumentDiagnosticReportKind) {\n    /**\n     * A diagnostic report with a full\n     * set of problems.\n     */\n    DocumentDiagnosticReportKind.Full = 'full';\n    /**\n     * A report indicating that the last\n     * returned report is still accurate.\n     */\n    DocumentDiagnosticReportKind.Unchanged = 'unchanged';\n})(DocumentDiagnosticReportKind = exports.DocumentDiagnosticReportKind || (exports.DocumentDiagnosticReportKind = {}));\n/**\n * The document diagnostic request definition.\n *\n * @since 3.17.0\n */\nvar DocumentDiagnosticRequest;\n(function (DocumentDiagnosticRequest) {\n    DocumentDiagnosticRequest.method = 'textDocument/diagnostic';\n    DocumentDiagnosticRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentDiagnosticRequest.type = new messages_1.ProtocolRequestType(DocumentDiagnosticRequest.method);\n    DocumentDiagnosticRequest.partialResult = new vscode_jsonrpc_1.ProgressType();\n})(DocumentDiagnosticRequest = exports.DocumentDiagnosticRequest || (exports.DocumentDiagnosticRequest = {}));\n/**\n * The workspace diagnostic request definition.\n *\n * @since 3.17.0\n */\nvar WorkspaceDiagnosticRequest;\n(function (WorkspaceDiagnosticRequest) {\n    WorkspaceDiagnosticRequest.method = 'workspace/diagnostic';\n    WorkspaceDiagnosticRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WorkspaceDiagnosticRequest.type = new messages_1.ProtocolRequestType(WorkspaceDiagnosticRequest.method);\n    WorkspaceDiagnosticRequest.partialResult = new vscode_jsonrpc_1.ProgressType();\n})(WorkspaceDiagnosticRequest = exports.WorkspaceDiagnosticRequest || (exports.WorkspaceDiagnosticRequest = {}));\n/**\n * The diagnostic refresh request definition.\n *\n * @since 3.17.0\n */\nvar DiagnosticRefreshRequest;\n(function (DiagnosticRefreshRequest) {\n    DiagnosticRefreshRequest.method = `workspace/diagnostic/refresh`;\n    DiagnosticRefreshRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DiagnosticRefreshRequest.type = new messages_1.ProtocolRequestType0(DiagnosticRefreshRequest.method);\n})(DiagnosticRefreshRequest = exports.DiagnosticRefreshRequest || (exports.DiagnosticRefreshRequest = {}));\n//# sourceMappingURL=protocol.diagnostic.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WillDeleteFilesRequest = exports.DidDeleteFilesNotification = exports.DidRenameFilesNotification = exports.WillRenameFilesRequest = exports.DidCreateFilesNotification = exports.WillCreateFilesRequest = exports.FileOperationPatternKind = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A pattern kind describing if a glob pattern matches a file a folder or\n * both.\n *\n * @since 3.16.0\n */\nvar FileOperationPatternKind;\n(function (FileOperationPatternKind) {\n    /**\n     * The pattern matches a file only.\n     */\n    FileOperationPatternKind.file = 'file';\n    /**\n     * The pattern matches a folder only.\n     */\n    FileOperationPatternKind.folder = 'folder';\n})(FileOperationPatternKind = exports.FileOperationPatternKind || (exports.FileOperationPatternKind = {}));\n/**\n * The will create files request is sent from the client to the server before files are actually\n * created as long as the creation is triggered from within the client.\n *\n * @since 3.16.0\n */\nvar WillCreateFilesRequest;\n(function (WillCreateFilesRequest) {\n    WillCreateFilesRequest.method = 'workspace/willCreateFiles';\n    WillCreateFilesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WillCreateFilesRequest.type = new messages_1.ProtocolRequestType(WillCreateFilesRequest.method);\n})(WillCreateFilesRequest = exports.WillCreateFilesRequest || (exports.WillCreateFilesRequest = {}));\n/**\n * The did create files notification is sent from the client to the server when\n * files were created from within the client.\n *\n * @since 3.16.0\n */\nvar DidCreateFilesNotification;\n(function (DidCreateFilesNotification) {\n    DidCreateFilesNotification.method = 'workspace/didCreateFiles';\n    DidCreateFilesNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidCreateFilesNotification.type = new messages_1.ProtocolNotificationType(DidCreateFilesNotification.method);\n})(DidCreateFilesNotification = exports.DidCreateFilesNotification || (exports.DidCreateFilesNotification = {}));\n/**\n * The will rename files request is sent from the client to the server before files are actually\n * renamed as long as the rename is triggered from within the client.\n *\n * @since 3.16.0\n */\nvar WillRenameFilesRequest;\n(function (WillRenameFilesRequest) {\n    WillRenameFilesRequest.method = 'workspace/willRenameFiles';\n    WillRenameFilesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WillRenameFilesRequest.type = new messages_1.ProtocolRequestType(WillRenameFilesRequest.method);\n})(WillRenameFilesRequest = exports.WillRenameFilesRequest || (exports.WillRenameFilesRequest = {}));\n/**\n * The did rename files notification is sent from the client to the server when\n * files were renamed from within the client.\n *\n * @since 3.16.0\n */\nvar DidRenameFilesNotification;\n(function (DidRenameFilesNotification) {\n    DidRenameFilesNotification.method = 'workspace/didRenameFiles';\n    DidRenameFilesNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidRenameFilesNotification.type = new messages_1.ProtocolNotificationType(DidRenameFilesNotification.method);\n})(DidRenameFilesNotification = exports.DidRenameFilesNotification || (exports.DidRenameFilesNotification = {}));\n/**\n * The will delete files request is sent from the client to the server before files are actually\n * deleted as long as the deletion is triggered from within the client.\n *\n * @since 3.16.0\n */\nvar DidDeleteFilesNotification;\n(function (DidDeleteFilesNotification) {\n    DidDeleteFilesNotification.method = 'workspace/didDeleteFiles';\n    DidDeleteFilesNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidDeleteFilesNotification.type = new messages_1.ProtocolNotificationType(DidDeleteFilesNotification.method);\n})(DidDeleteFilesNotification = exports.DidDeleteFilesNotification || (exports.DidDeleteFilesNotification = {}));\n/**\n * The did delete files notification is sent from the client to the server when\n * files were deleted from within the client.\n *\n * @since 3.16.0\n */\nvar WillDeleteFilesRequest;\n(function (WillDeleteFilesRequest) {\n    WillDeleteFilesRequest.method = 'workspace/willDeleteFiles';\n    WillDeleteFilesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WillDeleteFilesRequest.type = new messages_1.ProtocolRequestType(WillDeleteFilesRequest.method);\n})(WillDeleteFilesRequest = exports.WillDeleteFilesRequest || (exports.WillDeleteFilesRequest = {}));\n//# sourceMappingURL=protocol.fileOperations.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.FoldingRangeRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide folding ranges in a document. The request's\n * parameter is of type [FoldingRangeParams](#FoldingRangeParams), the\n * response is of type [FoldingRangeList](#FoldingRangeList) or a Thenable\n * that resolves to such.\n */\nvar FoldingRangeRequest;\n(function (FoldingRangeRequest) {\n    FoldingRangeRequest.method = 'textDocument/foldingRange';\n    FoldingRangeRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    FoldingRangeRequest.type = new messages_1.ProtocolRequestType(FoldingRangeRequest.method);\n})(FoldingRangeRequest = exports.FoldingRangeRequest || (exports.FoldingRangeRequest = {}));\n//# sourceMappingURL=protocol.foldingRange.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ImplementationRequest = void 0;\nconst messages_1 = require(\"./messages\");\n// @ts-ignore: to avoid inlining LocationLink as dynamic import\nlet __noDynamicImport;\n/**\n * A request to resolve the implementation locations of a symbol at a given text\n * document position. The request's parameter is of type [TextDocumentPositionParams]\n * (#TextDocumentPositionParams) the response is of type [Definition](#Definition) or a\n * Thenable that resolves to such.\n */\nvar ImplementationRequest;\n(function (ImplementationRequest) {\n    ImplementationRequest.method = 'textDocument/implementation';\n    ImplementationRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    ImplementationRequest.type = new messages_1.ProtocolRequestType(ImplementationRequest.method);\n})(ImplementationRequest = exports.ImplementationRequest || (exports.ImplementationRequest = {}));\n//# sourceMappingURL=protocol.implementation.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlayHintRefreshRequest = exports.InlayHintResolveRequest = exports.InlayHintRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide inlay hints in a document. The request's parameter is of\n * type [InlayHintsParams](#InlayHintsParams), the response is of type\n * [InlayHint[]](#InlayHint[]) or a Thenable that resolves to such.\n *\n * @since 3.17.0\n */\nvar InlayHintRequest;\n(function (InlayHintRequest) {\n    InlayHintRequest.method = 'textDocument/inlayHint';\n    InlayHintRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    InlayHintRequest.type = new messages_1.ProtocolRequestType(InlayHintRequest.method);\n})(InlayHintRequest = exports.InlayHintRequest || (exports.InlayHintRequest = {}));\n/**\n * A request to resolve additional properties for an inlay hint.\n * The request's parameter is of type [InlayHint](#InlayHint), the response is\n * of type [InlayHint](#InlayHint) or a Thenable that resolves to such.\n *\n * @since 3.17.0\n */\nvar InlayHintResolveRequest;\n(function (InlayHintResolveRequest) {\n    InlayHintResolveRequest.method = 'inlayHint/resolve';\n    InlayHintResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    InlayHintResolveRequest.type = new messages_1.ProtocolRequestType(InlayHintResolveRequest.method);\n})(InlayHintResolveRequest = exports.InlayHintResolveRequest || (exports.InlayHintResolveRequest = {}));\n/**\n * @since 3.17.0\n */\nvar InlayHintRefreshRequest;\n(function (InlayHintRefreshRequest) {\n    InlayHintRefreshRequest.method = `workspace/inlayHint/refresh`;\n    InlayHintRefreshRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    InlayHintRefreshRequest.type = new messages_1.ProtocolRequestType0(InlayHintRefreshRequest.method);\n})(InlayHintRefreshRequest = exports.InlayHintRefreshRequest || (exports.InlayHintRefreshRequest = {}));\n//# sourceMappingURL=protocol.inlayHint.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.InlineValueRefreshRequest = exports.InlineValueRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide inline values in a document. The request's parameter is of\n * type [InlineValueParams](#InlineValueParams), the response is of type\n * [InlineValue[]](#InlineValue[]) or a Thenable that resolves to such.\n *\n * @since 3.17.0\n */\nvar InlineValueRequest;\n(function (InlineValueRequest) {\n    InlineValueRequest.method = 'textDocument/inlineValue';\n    InlineValueRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    InlineValueRequest.type = new messages_1.ProtocolRequestType(InlineValueRequest.method);\n})(InlineValueRequest = exports.InlineValueRequest || (exports.InlineValueRequest = {}));\n/**\n * @since 3.17.0\n */\nvar InlineValueRefreshRequest;\n(function (InlineValueRefreshRequest) {\n    InlineValueRefreshRequest.method = `workspace/inlineValue/refresh`;\n    InlineValueRefreshRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    InlineValueRefreshRequest.type = new messages_1.ProtocolRequestType0(InlineValueRefreshRequest.method);\n})(InlineValueRefreshRequest = exports.InlineValueRefreshRequest || (exports.InlineValueRefreshRequest = {}));\n//# sourceMappingURL=protocol.inlineValue.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WorkspaceSymbolRequest = exports.CodeActionResolveRequest = exports.CodeActionRequest = exports.DocumentSymbolRequest = exports.DocumentHighlightRequest = exports.ReferencesRequest = exports.DefinitionRequest = exports.SignatureHelpRequest = exports.SignatureHelpTriggerKind = exports.HoverRequest = exports.CompletionResolveRequest = exports.CompletionRequest = exports.CompletionTriggerKind = exports.PublishDiagnosticsNotification = exports.WatchKind = exports.RelativePattern = exports.FileChangeType = exports.DidChangeWatchedFilesNotification = exports.WillSaveTextDocumentWaitUntilRequest = exports.WillSaveTextDocumentNotification = exports.TextDocumentSaveReason = exports.DidSaveTextDocumentNotification = exports.DidCloseTextDocumentNotification = exports.DidChangeTextDocumentNotification = exports.TextDocumentContentChangeEvent = exports.DidOpenTextDocumentNotification = exports.TextDocumentSyncKind = exports.TelemetryEventNotification = exports.LogMessageNotification = exports.ShowMessageRequest = exports.ShowMessageNotification = exports.MessageType = exports.DidChangeConfigurationNotification = exports.ExitNotification = exports.ShutdownRequest = exports.InitializedNotification = exports.InitializeErrorCodes = exports.InitializeRequest = exports.WorkDoneProgressOptions = exports.TextDocumentRegistrationOptions = exports.StaticRegistrationOptions = exports.PositionEncodingKind = exports.FailureHandlingKind = exports.ResourceOperationKind = exports.UnregistrationRequest = exports.RegistrationRequest = exports.DocumentSelector = exports.NotebookCellTextDocumentFilter = exports.NotebookDocumentFilter = exports.TextDocumentFilter = void 0;\nexports.TypeHierarchySubtypesRequest = exports.TypeHierarchyPrepareRequest = exports.MonikerRequest = exports.MonikerKind = exports.UniquenessLevel = exports.WillDeleteFilesRequest = exports.DidDeleteFilesNotification = exports.WillRenameFilesRequest = exports.DidRenameFilesNotification = exports.WillCreateFilesRequest = exports.DidCreateFilesNotification = exports.FileOperationPatternKind = exports.LinkedEditingRangeRequest = exports.ShowDocumentRequest = exports.SemanticTokensRegistrationType = exports.SemanticTokensRefreshRequest = exports.SemanticTokensRangeRequest = exports.SemanticTokensDeltaRequest = exports.SemanticTokensRequest = exports.TokenFormat = exports.CallHierarchyPrepareRequest = exports.CallHierarchyOutgoingCallsRequest = exports.CallHierarchyIncomingCallsRequest = exports.WorkDoneProgressCancelNotification = exports.WorkDoneProgressCreateRequest = exports.WorkDoneProgress = exports.SelectionRangeRequest = exports.DeclarationRequest = exports.FoldingRangeRequest = exports.ColorPresentationRequest = exports.DocumentColorRequest = exports.ConfigurationRequest = exports.DidChangeWorkspaceFoldersNotification = exports.WorkspaceFoldersRequest = exports.TypeDefinitionRequest = exports.ImplementationRequest = exports.ApplyWorkspaceEditRequest = exports.ExecuteCommandRequest = exports.PrepareRenameRequest = exports.RenameRequest = exports.PrepareSupportDefaultBehavior = exports.DocumentOnTypeFormattingRequest = exports.DocumentRangeFormattingRequest = exports.DocumentFormattingRequest = exports.DocumentLinkResolveRequest = exports.DocumentLinkRequest = exports.CodeLensRefreshRequest = exports.CodeLensResolveRequest = exports.CodeLensRequest = exports.WorkspaceSymbolResolveRequest = void 0;\nexports.DidCloseNotebookDocumentNotification = exports.DidSaveNotebookDocumentNotification = exports.DidChangeNotebookDocumentNotification = exports.NotebookCellArrayChange = exports.DidOpenNotebookDocumentNotification = exports.NotebookDocumentSyncRegistrationType = exports.NotebookDocument = exports.NotebookCell = exports.ExecutionSummary = exports.NotebookCellKind = exports.DiagnosticRefreshRequest = exports.WorkspaceDiagnosticRequest = exports.DocumentDiagnosticRequest = exports.DocumentDiagnosticReportKind = exports.DiagnosticServerCancellationData = exports.InlayHintRefreshRequest = exports.InlayHintResolveRequest = exports.InlayHintRequest = exports.InlineValueRefreshRequest = exports.InlineValueRequest = exports.TypeHierarchySupertypesRequest = void 0;\nconst messages_1 = require(\"./messages\");\nconst vscode_languageserver_types_1 = require(\"vscode-languageserver-types\");\nconst Is = require(\"./utils/is\");\nconst protocol_implementation_1 = require(\"./protocol.implementation\");\nObject.defineProperty(exports, \"ImplementationRequest\", { enumerable: true, get: function () { return protocol_implementation_1.ImplementationRequest; } });\nconst protocol_typeDefinition_1 = require(\"./protocol.typeDefinition\");\nObject.defineProperty(exports, \"TypeDefinitionRequest\", { enumerable: true, get: function () { return protocol_typeDefinition_1.TypeDefinitionRequest; } });\nconst protocol_workspaceFolder_1 = require(\"./protocol.workspaceFolder\");\nObject.defineProperty(exports, \"WorkspaceFoldersRequest\", { enumerable: true, get: function () { return protocol_workspaceFolder_1.WorkspaceFoldersRequest; } });\nObject.defineProperty(exports, \"DidChangeWorkspaceFoldersNotification\", { enumerable: true, get: function () { return protocol_workspaceFolder_1.DidChangeWorkspaceFoldersNotification; } });\nconst protocol_configuration_1 = require(\"./protocol.configuration\");\nObject.defineProperty(exports, \"ConfigurationRequest\", { enumerable: true, get: function () { return protocol_configuration_1.ConfigurationRequest; } });\nconst protocol_colorProvider_1 = require(\"./protocol.colorProvider\");\nObject.defineProperty(exports, \"DocumentColorRequest\", { enumerable: true, get: function () { return protocol_colorProvider_1.DocumentColorRequest; } });\nObject.defineProperty(exports, \"ColorPresentationRequest\", { enumerable: true, get: function () { return protocol_colorProvider_1.ColorPresentationRequest; } });\nconst protocol_foldingRange_1 = require(\"./protocol.foldingRange\");\nObject.defineProperty(exports, \"FoldingRangeRequest\", { enumerable: true, get: function () { return protocol_foldingRange_1.FoldingRangeRequest; } });\nconst protocol_declaration_1 = require(\"./protocol.declaration\");\nObject.defineProperty(exports, \"DeclarationRequest\", { enumerable: true, get: function () { return protocol_declaration_1.DeclarationRequest; } });\nconst protocol_selectionRange_1 = require(\"./protocol.selectionRange\");\nObject.defineProperty(exports, \"SelectionRangeRequest\", { enumerable: true, get: function () { return protocol_selectionRange_1.SelectionRangeRequest; } });\nconst protocol_progress_1 = require(\"./protocol.progress\");\nObject.defineProperty(exports, \"WorkDoneProgress\", { enumerable: true, get: function () { return protocol_progress_1.WorkDoneProgress; } });\nObject.defineProperty(exports, \"WorkDoneProgressCreateRequest\", { enumerable: true, get: function () { return protocol_progress_1.WorkDoneProgressCreateRequest; } });\nObject.defineProperty(exports, \"WorkDoneProgressCancelNotification\", { enumerable: true, get: function () { return protocol_progress_1.WorkDoneProgressCancelNotification; } });\nconst protocol_callHierarchy_1 = require(\"./protocol.callHierarchy\");\nObject.defineProperty(exports, \"CallHierarchyIncomingCallsRequest\", { enumerable: true, get: function () { return protocol_callHierarchy_1.CallHierarchyIncomingCallsRequest; } });\nObject.defineProperty(exports, \"CallHierarchyOutgoingCallsRequest\", { enumerable: true, get: function () { return protocol_callHierarchy_1.CallHierarchyOutgoingCallsRequest; } });\nObject.defineProperty(exports, \"CallHierarchyPrepareRequest\", { enumerable: true, get: function () { return protocol_callHierarchy_1.CallHierarchyPrepareRequest; } });\nconst protocol_semanticTokens_1 = require(\"./protocol.semanticTokens\");\nObject.defineProperty(exports, \"TokenFormat\", { enumerable: true, get: function () { return protocol_semanticTokens_1.TokenFormat; } });\nObject.defineProperty(exports, \"SemanticTokensRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRequest; } });\nObject.defineProperty(exports, \"SemanticTokensDeltaRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensDeltaRequest; } });\nObject.defineProperty(exports, \"SemanticTokensRangeRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRangeRequest; } });\nObject.defineProperty(exports, \"SemanticTokensRefreshRequest\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRefreshRequest; } });\nObject.defineProperty(exports, \"SemanticTokensRegistrationType\", { enumerable: true, get: function () { return protocol_semanticTokens_1.SemanticTokensRegistrationType; } });\nconst protocol_showDocument_1 = require(\"./protocol.showDocument\");\nObject.defineProperty(exports, \"ShowDocumentRequest\", { enumerable: true, get: function () { return protocol_showDocument_1.ShowDocumentRequest; } });\nconst protocol_linkedEditingRange_1 = require(\"./protocol.linkedEditingRange\");\nObject.defineProperty(exports, \"LinkedEditingRangeRequest\", { enumerable: true, get: function () { return protocol_linkedEditingRange_1.LinkedEditingRangeRequest; } });\nconst protocol_fileOperations_1 = require(\"./protocol.fileOperations\");\nObject.defineProperty(exports, \"FileOperationPatternKind\", { enumerable: true, get: function () { return protocol_fileOperations_1.FileOperationPatternKind; } });\nObject.defineProperty(exports, \"DidCreateFilesNotification\", { enumerable: true, get: function () { return protocol_fileOperations_1.DidCreateFilesNotification; } });\nObject.defineProperty(exports, \"WillCreateFilesRequest\", { enumerable: true, get: function () { return protocol_fileOperations_1.WillCreateFilesRequest; } });\nObject.defineProperty(exports, \"DidRenameFilesNotification\", { enumerable: true, get: function () { return protocol_fileOperations_1.DidRenameFilesNotification; } });\nObject.defineProperty(exports, \"WillRenameFilesRequest\", { enumerable: true, get: function () { return protocol_fileOperations_1.WillRenameFilesRequest; } });\nObject.defineProperty(exports, \"DidDeleteFilesNotification\", { enumerable: true, get: function () { return protocol_fileOperations_1.DidDeleteFilesNotification; } });\nObject.defineProperty(exports, \"WillDeleteFilesRequest\", { enumerable: true, get: function () { return protocol_fileOperations_1.WillDeleteFilesRequest; } });\nconst protocol_moniker_1 = require(\"./protocol.moniker\");\nObject.defineProperty(exports, \"UniquenessLevel\", { enumerable: true, get: function () { return protocol_moniker_1.UniquenessLevel; } });\nObject.defineProperty(exports, \"MonikerKind\", { enumerable: true, get: function () { return protocol_moniker_1.MonikerKind; } });\nObject.defineProperty(exports, \"MonikerRequest\", { enumerable: true, get: function () { return protocol_moniker_1.MonikerRequest; } });\nconst protocol_typeHierarchy_1 = require(\"./protocol.typeHierarchy\");\nObject.defineProperty(exports, \"TypeHierarchyPrepareRequest\", { enumerable: true, get: function () { return protocol_typeHierarchy_1.TypeHierarchyPrepareRequest; } });\nObject.defineProperty(exports, \"TypeHierarchySubtypesRequest\", { enumerable: true, get: function () { return protocol_typeHierarchy_1.TypeHierarchySubtypesRequest; } });\nObject.defineProperty(exports, \"TypeHierarchySupertypesRequest\", { enumerable: true, get: function () { return protocol_typeHierarchy_1.TypeHierarchySupertypesRequest; } });\nconst protocol_inlineValue_1 = require(\"./protocol.inlineValue\");\nObject.defineProperty(exports, \"InlineValueRequest\", { enumerable: true, get: function () { return protocol_inlineValue_1.InlineValueRequest; } });\nObject.defineProperty(exports, \"InlineValueRefreshRequest\", { enumerable: true, get: function () { return protocol_inlineValue_1.InlineValueRefreshRequest; } });\nconst protocol_inlayHint_1 = require(\"./protocol.inlayHint\");\nObject.defineProperty(exports, \"InlayHintRequest\", { enumerable: true, get: function () { return protocol_inlayHint_1.InlayHintRequest; } });\nObject.defineProperty(exports, \"InlayHintResolveRequest\", { enumerable: true, get: function () { return protocol_inlayHint_1.InlayHintResolveRequest; } });\nObject.defineProperty(exports, \"InlayHintRefreshRequest\", { enumerable: true, get: function () { return protocol_inlayHint_1.InlayHintRefreshRequest; } });\nconst protocol_diagnostic_1 = require(\"./protocol.diagnostic\");\nObject.defineProperty(exports, \"DiagnosticServerCancellationData\", { enumerable: true, get: function () { return protocol_diagnostic_1.DiagnosticServerCancellationData; } });\nObject.defineProperty(exports, \"DocumentDiagnosticReportKind\", { enumerable: true, get: function () { return protocol_diagnostic_1.DocumentDiagnosticReportKind; } });\nObject.defineProperty(exports, \"DocumentDiagnosticRequest\", { enumerable: true, get: function () { return protocol_diagnostic_1.DocumentDiagnosticRequest; } });\nObject.defineProperty(exports, \"WorkspaceDiagnosticRequest\", { enumerable: true, get: function () { return protocol_diagnostic_1.WorkspaceDiagnosticRequest; } });\nObject.defineProperty(exports, \"DiagnosticRefreshRequest\", { enumerable: true, get: function () { return protocol_diagnostic_1.DiagnosticRefreshRequest; } });\nconst protocol_notebook_1 = require(\"./protocol.notebook\");\nObject.defineProperty(exports, \"NotebookCellKind\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookCellKind; } });\nObject.defineProperty(exports, \"ExecutionSummary\", { enumerable: true, get: function () { return protocol_notebook_1.ExecutionSummary; } });\nObject.defineProperty(exports, \"NotebookCell\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookCell; } });\nObject.defineProperty(exports, \"NotebookDocument\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookDocument; } });\nObject.defineProperty(exports, \"NotebookDocumentSyncRegistrationType\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookDocumentSyncRegistrationType; } });\nObject.defineProperty(exports, \"DidOpenNotebookDocumentNotification\", { enumerable: true, get: function () { return protocol_notebook_1.DidOpenNotebookDocumentNotification; } });\nObject.defineProperty(exports, \"NotebookCellArrayChange\", { enumerable: true, get: function () { return protocol_notebook_1.NotebookCellArrayChange; } });\nObject.defineProperty(exports, \"DidChangeNotebookDocumentNotification\", { enumerable: true, get: function () { return protocol_notebook_1.DidChangeNotebookDocumentNotification; } });\nObject.defineProperty(exports, \"DidSaveNotebookDocumentNotification\", { enumerable: true, get: function () { return protocol_notebook_1.DidSaveNotebookDocumentNotification; } });\nObject.defineProperty(exports, \"DidCloseNotebookDocumentNotification\", { enumerable: true, get: function () { return protocol_notebook_1.DidCloseNotebookDocumentNotification; } });\n// @ts-ignore: to avoid inlining LocationLink as dynamic import\nlet __noDynamicImport;\n/**\n * The TextDocumentFilter namespace provides helper functions to work with\n * [TextDocumentFilter](#TextDocumentFilter) literals.\n *\n * @since 3.17.0\n */\nvar TextDocumentFilter;\n(function (TextDocumentFilter) {\n    function is(value) {\n        const candidate = value;\n        return Is.string(candidate.language) || Is.string(candidate.scheme) || Is.string(candidate.pattern);\n    }\n    TextDocumentFilter.is = is;\n})(TextDocumentFilter = exports.TextDocumentFilter || (exports.TextDocumentFilter = {}));\n/**\n * The NotebookDocumentFilter namespace provides helper functions to work with\n * [NotebookDocumentFilter](#NotebookDocumentFilter) literals.\n *\n * @since 3.17.0\n */\nvar NotebookDocumentFilter;\n(function (NotebookDocumentFilter) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && (Is.string(candidate.notebookType) || Is.string(candidate.scheme) || Is.string(candidate.pattern));\n    }\n    NotebookDocumentFilter.is = is;\n})(NotebookDocumentFilter = exports.NotebookDocumentFilter || (exports.NotebookDocumentFilter = {}));\n/**\n * The NotebookCellTextDocumentFilter namespace provides helper functions to work with\n * [NotebookCellTextDocumentFilter](#NotebookCellTextDocumentFilter) literals.\n *\n * @since 3.17.0\n */\nvar NotebookCellTextDocumentFilter;\n(function (NotebookCellTextDocumentFilter) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate)\n            && (Is.string(candidate.notebook) || NotebookDocumentFilter.is(candidate.notebook))\n            && (candidate.language === undefined || Is.string(candidate.language));\n    }\n    NotebookCellTextDocumentFilter.is = is;\n})(NotebookCellTextDocumentFilter = exports.NotebookCellTextDocumentFilter || (exports.NotebookCellTextDocumentFilter = {}));\n/**\n * The DocumentSelector namespace provides helper functions to work with\n * [DocumentSelector](#DocumentSelector)s.\n */\nvar DocumentSelector;\n(function (DocumentSelector) {\n    function is(value) {\n        if (!Array.isArray(value)) {\n            return false;\n        }\n        for (let elem of value) {\n            if (!Is.string(elem) && !TextDocumentFilter.is(elem) && !NotebookCellTextDocumentFilter.is(elem)) {\n                return false;\n            }\n        }\n        return true;\n    }\n    DocumentSelector.is = is;\n})(DocumentSelector = exports.DocumentSelector || (exports.DocumentSelector = {}));\n/**\n * The `client/registerCapability` request is sent from the server to the client to register a new capability\n * handler on the client side.\n */\nvar RegistrationRequest;\n(function (RegistrationRequest) {\n    RegistrationRequest.method = 'client/registerCapability';\n    RegistrationRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    RegistrationRequest.type = new messages_1.ProtocolRequestType(RegistrationRequest.method);\n})(RegistrationRequest = exports.RegistrationRequest || (exports.RegistrationRequest = {}));\n/**\n * The `client/unregisterCapability` request is sent from the server to the client to unregister a previously registered capability\n * handler on the client side.\n */\nvar UnregistrationRequest;\n(function (UnregistrationRequest) {\n    UnregistrationRequest.method = 'client/unregisterCapability';\n    UnregistrationRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    UnregistrationRequest.type = new messages_1.ProtocolRequestType(UnregistrationRequest.method);\n})(UnregistrationRequest = exports.UnregistrationRequest || (exports.UnregistrationRequest = {}));\nvar ResourceOperationKind;\n(function (ResourceOperationKind) {\n    /**\n     * Supports creating new files and folders.\n     */\n    ResourceOperationKind.Create = 'create';\n    /**\n     * Supports renaming existing files and folders.\n     */\n    ResourceOperationKind.Rename = 'rename';\n    /**\n     * Supports deleting existing files and folders.\n     */\n    ResourceOperationKind.Delete = 'delete';\n})(ResourceOperationKind = exports.ResourceOperationKind || (exports.ResourceOperationKind = {}));\nvar FailureHandlingKind;\n(function (FailureHandlingKind) {\n    /**\n     * Applying the workspace change is simply aborted if one of the changes provided\n     * fails. All operations executed before the failing operation stay executed.\n     */\n    FailureHandlingKind.Abort = 'abort';\n    /**\n     * All operations are executed transactional. That means they either all\n     * succeed or no changes at all are applied to the workspace.\n     */\n    FailureHandlingKind.Transactional = 'transactional';\n    /**\n     * If the workspace edit contains only textual file changes they are executed transactional.\n     * If resource changes (create, rename or delete file) are part of the change the failure\n     * handling strategy is abort.\n     */\n    FailureHandlingKind.TextOnlyTransactional = 'textOnlyTransactional';\n    /**\n     * The client tries to undo the operations already executed. But there is no\n     * guarantee that this is succeeding.\n     */\n    FailureHandlingKind.Undo = 'undo';\n})(FailureHandlingKind = exports.FailureHandlingKind || (exports.FailureHandlingKind = {}));\n/**\n * A set of predefined position encoding kinds.\n *\n * @since 3.17.0\n */\nvar PositionEncodingKind;\n(function (PositionEncodingKind) {\n    /**\n     * Character offsets count UTF-8 code units.\n     */\n    PositionEncodingKind.UTF8 = 'utf-8';\n    /**\n     * Character offsets count UTF-16 code units.\n     *\n     * This is the default and must always be supported\n     * by servers\n     */\n    PositionEncodingKind.UTF16 = 'utf-16';\n    /**\n     * Character offsets count UTF-32 code units.\n     *\n     * Implementation note: these are the same as Unicode code points,\n     * so this `PositionEncodingKind` may also be used for an\n     * encoding-agnostic representation of character offsets.\n     */\n    PositionEncodingKind.UTF32 = 'utf-32';\n})(PositionEncodingKind = exports.PositionEncodingKind || (exports.PositionEncodingKind = {}));\n/**\n * The StaticRegistrationOptions namespace provides helper functions to work with\n * [StaticRegistrationOptions](#StaticRegistrationOptions) literals.\n */\nvar StaticRegistrationOptions;\n(function (StaticRegistrationOptions) {\n    function hasId(value) {\n        const candidate = value;\n        return candidate && Is.string(candidate.id) && candidate.id.length > 0;\n    }\n    StaticRegistrationOptions.hasId = hasId;\n})(StaticRegistrationOptions = exports.StaticRegistrationOptions || (exports.StaticRegistrationOptions = {}));\n/**\n * The TextDocumentRegistrationOptions namespace provides helper functions to work with\n * [TextDocumentRegistrationOptions](#TextDocumentRegistrationOptions) literals.\n */\nvar TextDocumentRegistrationOptions;\n(function (TextDocumentRegistrationOptions) {\n    function is(value) {\n        const candidate = value;\n        return candidate && (candidate.documentSelector === null || DocumentSelector.is(candidate.documentSelector));\n    }\n    TextDocumentRegistrationOptions.is = is;\n})(TextDocumentRegistrationOptions = exports.TextDocumentRegistrationOptions || (exports.TextDocumentRegistrationOptions = {}));\n/**\n * The WorkDoneProgressOptions namespace provides helper functions to work with\n * [WorkDoneProgressOptions](#WorkDoneProgressOptions) literals.\n */\nvar WorkDoneProgressOptions;\n(function (WorkDoneProgressOptions) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && (candidate.workDoneProgress === undefined || Is.boolean(candidate.workDoneProgress));\n    }\n    WorkDoneProgressOptions.is = is;\n    function hasWorkDoneProgress(value) {\n        const candidate = value;\n        return candidate && Is.boolean(candidate.workDoneProgress);\n    }\n    WorkDoneProgressOptions.hasWorkDoneProgress = hasWorkDoneProgress;\n})(WorkDoneProgressOptions = exports.WorkDoneProgressOptions || (exports.WorkDoneProgressOptions = {}));\n/**\n * The initialize request is sent from the client to the server.\n * It is sent once as the request after starting up the server.\n * The requests parameter is of type [InitializeParams](#InitializeParams)\n * the response if of type [InitializeResult](#InitializeResult) of a Thenable that\n * resolves to such.\n */\nvar InitializeRequest;\n(function (InitializeRequest) {\n    InitializeRequest.method = 'initialize';\n    InitializeRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    InitializeRequest.type = new messages_1.ProtocolRequestType(InitializeRequest.method);\n})(InitializeRequest = exports.InitializeRequest || (exports.InitializeRequest = {}));\n/**\n * Known error codes for an `InitializeErrorCodes`;\n */\nvar InitializeErrorCodes;\n(function (InitializeErrorCodes) {\n    /**\n     * If the protocol version provided by the client can't be handled by the server.\n     *\n     * @deprecated This initialize error got replaced by client capabilities. There is\n     * no version handshake in version 3.0x\n     */\n    InitializeErrorCodes.unknownProtocolVersion = 1;\n})(InitializeErrorCodes = exports.InitializeErrorCodes || (exports.InitializeErrorCodes = {}));\n/**\n * The initialized notification is sent from the client to the\n * server after the client is fully initialized and the server\n * is allowed to send requests from the server to the client.\n */\nvar InitializedNotification;\n(function (InitializedNotification) {\n    InitializedNotification.method = 'initialized';\n    InitializedNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    InitializedNotification.type = new messages_1.ProtocolNotificationType(InitializedNotification.method);\n})(InitializedNotification = exports.InitializedNotification || (exports.InitializedNotification = {}));\n//---- Shutdown Method ----\n/**\n * A shutdown request is sent from the client to the server.\n * It is sent once when the client decides to shutdown the\n * server. The only notification that is sent after a shutdown request\n * is the exit event.\n */\nvar ShutdownRequest;\n(function (ShutdownRequest) {\n    ShutdownRequest.method = 'shutdown';\n    ShutdownRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    ShutdownRequest.type = new messages_1.ProtocolRequestType0(ShutdownRequest.method);\n})(ShutdownRequest = exports.ShutdownRequest || (exports.ShutdownRequest = {}));\n//---- Exit Notification ----\n/**\n * The exit event is sent from the client to the server to\n * ask the server to exit its process.\n */\nvar ExitNotification;\n(function (ExitNotification) {\n    ExitNotification.method = 'exit';\n    ExitNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    ExitNotification.type = new messages_1.ProtocolNotificationType0(ExitNotification.method);\n})(ExitNotification = exports.ExitNotification || (exports.ExitNotification = {}));\n/**\n * The configuration change notification is sent from the client to the server\n * when the client's configuration has changed. The notification contains\n * the changed configuration as defined by the language client.\n */\nvar DidChangeConfigurationNotification;\n(function (DidChangeConfigurationNotification) {\n    DidChangeConfigurationNotification.method = 'workspace/didChangeConfiguration';\n    DidChangeConfigurationNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidChangeConfigurationNotification.type = new messages_1.ProtocolNotificationType(DidChangeConfigurationNotification.method);\n})(DidChangeConfigurationNotification = exports.DidChangeConfigurationNotification || (exports.DidChangeConfigurationNotification = {}));\n//---- Message show and log notifications ----\n/**\n * The message type\n */\nvar MessageType;\n(function (MessageType) {\n    /**\n     * An error message.\n     */\n    MessageType.Error = 1;\n    /**\n     * A warning message.\n     */\n    MessageType.Warning = 2;\n    /**\n     * An information message.\n     */\n    MessageType.Info = 3;\n    /**\n     * A log message.\n     */\n    MessageType.Log = 4;\n})(MessageType = exports.MessageType || (exports.MessageType = {}));\n/**\n * The show message notification is sent from a server to a client to ask\n * the client to display a particular message in the user interface.\n */\nvar ShowMessageNotification;\n(function (ShowMessageNotification) {\n    ShowMessageNotification.method = 'window/showMessage';\n    ShowMessageNotification.messageDirection = messages_1.MessageDirection.serverToClient;\n    ShowMessageNotification.type = new messages_1.ProtocolNotificationType(ShowMessageNotification.method);\n})(ShowMessageNotification = exports.ShowMessageNotification || (exports.ShowMessageNotification = {}));\n/**\n * The show message request is sent from the server to the client to show a message\n * and a set of options actions to the user.\n */\nvar ShowMessageRequest;\n(function (ShowMessageRequest) {\n    ShowMessageRequest.method = 'window/showMessageRequest';\n    ShowMessageRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    ShowMessageRequest.type = new messages_1.ProtocolRequestType(ShowMessageRequest.method);\n})(ShowMessageRequest = exports.ShowMessageRequest || (exports.ShowMessageRequest = {}));\n/**\n * The log message notification is sent from the server to the client to ask\n * the client to log a particular message.\n */\nvar LogMessageNotification;\n(function (LogMessageNotification) {\n    LogMessageNotification.method = 'window/logMessage';\n    LogMessageNotification.messageDirection = messages_1.MessageDirection.serverToClient;\n    LogMessageNotification.type = new messages_1.ProtocolNotificationType(LogMessageNotification.method);\n})(LogMessageNotification = exports.LogMessageNotification || (exports.LogMessageNotification = {}));\n//---- Telemetry notification\n/**\n * The telemetry event notification is sent from the server to the client to ask\n * the client to log telemetry data.\n */\nvar TelemetryEventNotification;\n(function (TelemetryEventNotification) {\n    TelemetryEventNotification.method = 'telemetry/event';\n    TelemetryEventNotification.messageDirection = messages_1.MessageDirection.serverToClient;\n    TelemetryEventNotification.type = new messages_1.ProtocolNotificationType(TelemetryEventNotification.method);\n})(TelemetryEventNotification = exports.TelemetryEventNotification || (exports.TelemetryEventNotification = {}));\n/**\n * Defines how the host (editor) should sync\n * document changes to the language server.\n */\nvar TextDocumentSyncKind;\n(function (TextDocumentSyncKind) {\n    /**\n     * Documents should not be synced at all.\n     */\n    TextDocumentSyncKind.None = 0;\n    /**\n     * Documents are synced by always sending the full content\n     * of the document.\n     */\n    TextDocumentSyncKind.Full = 1;\n    /**\n     * Documents are synced by sending the full content on open.\n     * After that only incremental updates to the document are\n     * send.\n     */\n    TextDocumentSyncKind.Incremental = 2;\n})(TextDocumentSyncKind = exports.TextDocumentSyncKind || (exports.TextDocumentSyncKind = {}));\n/**\n * The document open notification is sent from the client to the server to signal\n * newly opened text documents. The document's truth is now managed by the client\n * and the server must not try to read the document's truth using the document's\n * uri. Open in this sense means it is managed by the client. It doesn't necessarily\n * mean that its content is presented in an editor. An open notification must not\n * be sent more than once without a corresponding close notification send before.\n * This means open and close notification must be balanced and the max open count\n * is one.\n */\nvar DidOpenTextDocumentNotification;\n(function (DidOpenTextDocumentNotification) {\n    DidOpenTextDocumentNotification.method = 'textDocument/didOpen';\n    DidOpenTextDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidOpenTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidOpenTextDocumentNotification.method);\n})(DidOpenTextDocumentNotification = exports.DidOpenTextDocumentNotification || (exports.DidOpenTextDocumentNotification = {}));\nvar TextDocumentContentChangeEvent;\n(function (TextDocumentContentChangeEvent) {\n    /**\n     * Checks whether the information describes a delta event.\n     */\n    function isIncremental(event) {\n        let candidate = event;\n        return candidate !== undefined && candidate !== null &&\n            typeof candidate.text === 'string' && candidate.range !== undefined &&\n            (candidate.rangeLength === undefined || typeof candidate.rangeLength === 'number');\n    }\n    TextDocumentContentChangeEvent.isIncremental = isIncremental;\n    /**\n     * Checks whether the information describes a full replacement event.\n     */\n    function isFull(event) {\n        let candidate = event;\n        return candidate !== undefined && candidate !== null &&\n            typeof candidate.text === 'string' && candidate.range === undefined && candidate.rangeLength === undefined;\n    }\n    TextDocumentContentChangeEvent.isFull = isFull;\n})(TextDocumentContentChangeEvent = exports.TextDocumentContentChangeEvent || (exports.TextDocumentContentChangeEvent = {}));\n/**\n * The document change notification is sent from the client to the server to signal\n * changes to a text document.\n */\nvar DidChangeTextDocumentNotification;\n(function (DidChangeTextDocumentNotification) {\n    DidChangeTextDocumentNotification.method = 'textDocument/didChange';\n    DidChangeTextDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidChangeTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidChangeTextDocumentNotification.method);\n})(DidChangeTextDocumentNotification = exports.DidChangeTextDocumentNotification || (exports.DidChangeTextDocumentNotification = {}));\n/**\n * The document close notification is sent from the client to the server when\n * the document got closed in the client. The document's truth now exists where\n * the document's uri points to (e.g. if the document's uri is a file uri the\n * truth now exists on disk). As with the open notification the close notification\n * is about managing the document's content. Receiving a close notification\n * doesn't mean that the document was open in an editor before. A close\n * notification requires a previous open notification to be sent.\n */\nvar DidCloseTextDocumentNotification;\n(function (DidCloseTextDocumentNotification) {\n    DidCloseTextDocumentNotification.method = 'textDocument/didClose';\n    DidCloseTextDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidCloseTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidCloseTextDocumentNotification.method);\n})(DidCloseTextDocumentNotification = exports.DidCloseTextDocumentNotification || (exports.DidCloseTextDocumentNotification = {}));\n/**\n * The document save notification is sent from the client to the server when\n * the document got saved in the client.\n */\nvar DidSaveTextDocumentNotification;\n(function (DidSaveTextDocumentNotification) {\n    DidSaveTextDocumentNotification.method = 'textDocument/didSave';\n    DidSaveTextDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidSaveTextDocumentNotification.type = new messages_1.ProtocolNotificationType(DidSaveTextDocumentNotification.method);\n})(DidSaveTextDocumentNotification = exports.DidSaveTextDocumentNotification || (exports.DidSaveTextDocumentNotification = {}));\n/**\n * Represents reasons why a text document is saved.\n */\nvar TextDocumentSaveReason;\n(function (TextDocumentSaveReason) {\n    /**\n     * Manually triggered, e.g. by the user pressing save, by starting debugging,\n     * or by an API call.\n     */\n    TextDocumentSaveReason.Manual = 1;\n    /**\n     * Automatic after a delay.\n     */\n    TextDocumentSaveReason.AfterDelay = 2;\n    /**\n     * When the editor lost focus.\n     */\n    TextDocumentSaveReason.FocusOut = 3;\n})(TextDocumentSaveReason = exports.TextDocumentSaveReason || (exports.TextDocumentSaveReason = {}));\n/**\n * A document will save notification is sent from the client to the server before\n * the document is actually saved.\n */\nvar WillSaveTextDocumentNotification;\n(function (WillSaveTextDocumentNotification) {\n    WillSaveTextDocumentNotification.method = 'textDocument/willSave';\n    WillSaveTextDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    WillSaveTextDocumentNotification.type = new messages_1.ProtocolNotificationType(WillSaveTextDocumentNotification.method);\n})(WillSaveTextDocumentNotification = exports.WillSaveTextDocumentNotification || (exports.WillSaveTextDocumentNotification = {}));\n/**\n * A document will save request is sent from the client to the server before\n * the document is actually saved. The request can return an array of TextEdits\n * which will be applied to the text document before it is saved. Please note that\n * clients might drop results if computing the text edits took too long or if a\n * server constantly fails on this request. This is done to keep the save fast and\n * reliable.\n */\nvar WillSaveTextDocumentWaitUntilRequest;\n(function (WillSaveTextDocumentWaitUntilRequest) {\n    WillSaveTextDocumentWaitUntilRequest.method = 'textDocument/willSaveWaitUntil';\n    WillSaveTextDocumentWaitUntilRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WillSaveTextDocumentWaitUntilRequest.type = new messages_1.ProtocolRequestType(WillSaveTextDocumentWaitUntilRequest.method);\n})(WillSaveTextDocumentWaitUntilRequest = exports.WillSaveTextDocumentWaitUntilRequest || (exports.WillSaveTextDocumentWaitUntilRequest = {}));\n/**\n * The watched files notification is sent from the client to the server when\n * the client detects changes to file watched by the language client.\n */\nvar DidChangeWatchedFilesNotification;\n(function (DidChangeWatchedFilesNotification) {\n    DidChangeWatchedFilesNotification.method = 'workspace/didChangeWatchedFiles';\n    DidChangeWatchedFilesNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidChangeWatchedFilesNotification.type = new messages_1.ProtocolNotificationType(DidChangeWatchedFilesNotification.method);\n})(DidChangeWatchedFilesNotification = exports.DidChangeWatchedFilesNotification || (exports.DidChangeWatchedFilesNotification = {}));\n/**\n * The file event type\n */\nvar FileChangeType;\n(function (FileChangeType) {\n    /**\n     * The file got created.\n     */\n    FileChangeType.Created = 1;\n    /**\n     * The file got changed.\n     */\n    FileChangeType.Changed = 2;\n    /**\n     * The file got deleted.\n     */\n    FileChangeType.Deleted = 3;\n})(FileChangeType = exports.FileChangeType || (exports.FileChangeType = {}));\nvar RelativePattern;\n(function (RelativePattern) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && (vscode_languageserver_types_1.URI.is(candidate.baseUri) || vscode_languageserver_types_1.WorkspaceFolder.is(candidate.baseUri)) && Is.string(candidate.pattern);\n    }\n    RelativePattern.is = is;\n})(RelativePattern = exports.RelativePattern || (exports.RelativePattern = {}));\nvar WatchKind;\n(function (WatchKind) {\n    /**\n     * Interested in create events.\n     */\n    WatchKind.Create = 1;\n    /**\n     * Interested in change events\n     */\n    WatchKind.Change = 2;\n    /**\n     * Interested in delete events\n     */\n    WatchKind.Delete = 4;\n})(WatchKind = exports.WatchKind || (exports.WatchKind = {}));\n/**\n * Diagnostics notification are sent from the server to the client to signal\n * results of validation runs.\n */\nvar PublishDiagnosticsNotification;\n(function (PublishDiagnosticsNotification) {\n    PublishDiagnosticsNotification.method = 'textDocument/publishDiagnostics';\n    PublishDiagnosticsNotification.messageDirection = messages_1.MessageDirection.serverToClient;\n    PublishDiagnosticsNotification.type = new messages_1.ProtocolNotificationType(PublishDiagnosticsNotification.method);\n})(PublishDiagnosticsNotification = exports.PublishDiagnosticsNotification || (exports.PublishDiagnosticsNotification = {}));\n/**\n * How a completion was triggered\n */\nvar CompletionTriggerKind;\n(function (CompletionTriggerKind) {\n    /**\n     * Completion was triggered by typing an identifier (24x7 code\n     * complete), manual invocation (e.g Ctrl+Space) or via API.\n     */\n    CompletionTriggerKind.Invoked = 1;\n    /**\n     * Completion was triggered by a trigger character specified by\n     * the `triggerCharacters` properties of the `CompletionRegistrationOptions`.\n     */\n    CompletionTriggerKind.TriggerCharacter = 2;\n    /**\n     * Completion was re-triggered as current completion list is incomplete\n     */\n    CompletionTriggerKind.TriggerForIncompleteCompletions = 3;\n})(CompletionTriggerKind = exports.CompletionTriggerKind || (exports.CompletionTriggerKind = {}));\n/**\n * Request to request completion at a given text document position. The request's\n * parameter is of type [TextDocumentPosition](#TextDocumentPosition) the response\n * is of type [CompletionItem[]](#CompletionItem) or [CompletionList](#CompletionList)\n * or a Thenable that resolves to such.\n *\n * The request can delay the computation of the [`detail`](#CompletionItem.detail)\n * and [`documentation`](#CompletionItem.documentation) properties to the `completionItem/resolve`\n * request. However, properties that are needed for the initial sorting and filtering, like `sortText`,\n * `filterText`, `insertText`, and `textEdit`, must not be changed during resolve.\n */\nvar CompletionRequest;\n(function (CompletionRequest) {\n    CompletionRequest.method = 'textDocument/completion';\n    CompletionRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CompletionRequest.type = new messages_1.ProtocolRequestType(CompletionRequest.method);\n})(CompletionRequest = exports.CompletionRequest || (exports.CompletionRequest = {}));\n/**\n * Request to resolve additional information for a given completion item.The request's\n * parameter is of type [CompletionItem](#CompletionItem) the response\n * is of type [CompletionItem](#CompletionItem) or a Thenable that resolves to such.\n */\nvar CompletionResolveRequest;\n(function (CompletionResolveRequest) {\n    CompletionResolveRequest.method = 'completionItem/resolve';\n    CompletionResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CompletionResolveRequest.type = new messages_1.ProtocolRequestType(CompletionResolveRequest.method);\n})(CompletionResolveRequest = exports.CompletionResolveRequest || (exports.CompletionResolveRequest = {}));\n/**\n * Request to request hover information at a given text document position. The request's\n * parameter is of type [TextDocumentPosition](#TextDocumentPosition) the response is of\n * type [Hover](#Hover) or a Thenable that resolves to such.\n */\nvar HoverRequest;\n(function (HoverRequest) {\n    HoverRequest.method = 'textDocument/hover';\n    HoverRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    HoverRequest.type = new messages_1.ProtocolRequestType(HoverRequest.method);\n})(HoverRequest = exports.HoverRequest || (exports.HoverRequest = {}));\n/**\n * How a signature help was triggered.\n *\n * @since 3.15.0\n */\nvar SignatureHelpTriggerKind;\n(function (SignatureHelpTriggerKind) {\n    /**\n     * Signature help was invoked manually by the user or by a command.\n     */\n    SignatureHelpTriggerKind.Invoked = 1;\n    /**\n     * Signature help was triggered by a trigger character.\n     */\n    SignatureHelpTriggerKind.TriggerCharacter = 2;\n    /**\n     * Signature help was triggered by the cursor moving or by the document content changing.\n     */\n    SignatureHelpTriggerKind.ContentChange = 3;\n})(SignatureHelpTriggerKind = exports.SignatureHelpTriggerKind || (exports.SignatureHelpTriggerKind = {}));\nvar SignatureHelpRequest;\n(function (SignatureHelpRequest) {\n    SignatureHelpRequest.method = 'textDocument/signatureHelp';\n    SignatureHelpRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SignatureHelpRequest.type = new messages_1.ProtocolRequestType(SignatureHelpRequest.method);\n})(SignatureHelpRequest = exports.SignatureHelpRequest || (exports.SignatureHelpRequest = {}));\n/**\n * A request to resolve the definition location of a symbol at a given text\n * document position. The request's parameter is of type [TextDocumentPosition]\n * (#TextDocumentPosition) the response is of either type [Definition](#Definition)\n * or a typed array of [DefinitionLink](#DefinitionLink) or a Thenable that resolves\n * to such.\n */\nvar DefinitionRequest;\n(function (DefinitionRequest) {\n    DefinitionRequest.method = 'textDocument/definition';\n    DefinitionRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DefinitionRequest.type = new messages_1.ProtocolRequestType(DefinitionRequest.method);\n})(DefinitionRequest = exports.DefinitionRequest || (exports.DefinitionRequest = {}));\n/**\n * A request to resolve project-wide references for the symbol denoted\n * by the given text document position. The request's parameter is of\n * type [ReferenceParams](#ReferenceParams) the response is of type\n * [Location[]](#Location) or a Thenable that resolves to such.\n */\nvar ReferencesRequest;\n(function (ReferencesRequest) {\n    ReferencesRequest.method = 'textDocument/references';\n    ReferencesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    ReferencesRequest.type = new messages_1.ProtocolRequestType(ReferencesRequest.method);\n})(ReferencesRequest = exports.ReferencesRequest || (exports.ReferencesRequest = {}));\n/**\n * Request to resolve a [DocumentHighlight](#DocumentHighlight) for a given\n * text document position. The request's parameter is of type [TextDocumentPosition]\n * (#TextDocumentPosition) the request response is of type [DocumentHighlight[]]\n * (#DocumentHighlight) or a Thenable that resolves to such.\n */\nvar DocumentHighlightRequest;\n(function (DocumentHighlightRequest) {\n    DocumentHighlightRequest.method = 'textDocument/documentHighlight';\n    DocumentHighlightRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentHighlightRequest.type = new messages_1.ProtocolRequestType(DocumentHighlightRequest.method);\n})(DocumentHighlightRequest = exports.DocumentHighlightRequest || (exports.DocumentHighlightRequest = {}));\n/**\n * A request to list all symbols found in a given text document. The request's\n * parameter is of type [TextDocumentIdentifier](#TextDocumentIdentifier) the\n * response is of type [SymbolInformation[]](#SymbolInformation) or a Thenable\n * that resolves to such.\n */\nvar DocumentSymbolRequest;\n(function (DocumentSymbolRequest) {\n    DocumentSymbolRequest.method = 'textDocument/documentSymbol';\n    DocumentSymbolRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentSymbolRequest.type = new messages_1.ProtocolRequestType(DocumentSymbolRequest.method);\n})(DocumentSymbolRequest = exports.DocumentSymbolRequest || (exports.DocumentSymbolRequest = {}));\n/**\n * A request to provide commands for the given text document and range.\n */\nvar CodeActionRequest;\n(function (CodeActionRequest) {\n    CodeActionRequest.method = 'textDocument/codeAction';\n    CodeActionRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CodeActionRequest.type = new messages_1.ProtocolRequestType(CodeActionRequest.method);\n})(CodeActionRequest = exports.CodeActionRequest || (exports.CodeActionRequest = {}));\n/**\n * Request to resolve additional information for a given code action.The request's\n * parameter is of type [CodeAction](#CodeAction) the response\n * is of type [CodeAction](#CodeAction) or a Thenable that resolves to such.\n */\nvar CodeActionResolveRequest;\n(function (CodeActionResolveRequest) {\n    CodeActionResolveRequest.method = 'codeAction/resolve';\n    CodeActionResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CodeActionResolveRequest.type = new messages_1.ProtocolRequestType(CodeActionResolveRequest.method);\n})(CodeActionResolveRequest = exports.CodeActionResolveRequest || (exports.CodeActionResolveRequest = {}));\n/**\n * A request to list project-wide symbols matching the query string given\n * by the [WorkspaceSymbolParams](#WorkspaceSymbolParams). The response is\n * of type [SymbolInformation[]](#SymbolInformation) or a Thenable that\n * resolves to such.\n *\n * @since 3.17.0 - support for WorkspaceSymbol in the returned data. Clients\n *  need to advertise support for WorkspaceSymbols via the client capability\n *  `workspace.symbol.resolveSupport`.\n *\n */\nvar WorkspaceSymbolRequest;\n(function (WorkspaceSymbolRequest) {\n    WorkspaceSymbolRequest.method = 'workspace/symbol';\n    WorkspaceSymbolRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WorkspaceSymbolRequest.type = new messages_1.ProtocolRequestType(WorkspaceSymbolRequest.method);\n})(WorkspaceSymbolRequest = exports.WorkspaceSymbolRequest || (exports.WorkspaceSymbolRequest = {}));\n/**\n * A request to resolve the range inside the workspace\n * symbol's location.\n *\n * @since 3.17.0\n */\nvar WorkspaceSymbolResolveRequest;\n(function (WorkspaceSymbolResolveRequest) {\n    WorkspaceSymbolResolveRequest.method = 'workspaceSymbol/resolve';\n    WorkspaceSymbolResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    WorkspaceSymbolResolveRequest.type = new messages_1.ProtocolRequestType(WorkspaceSymbolResolveRequest.method);\n})(WorkspaceSymbolResolveRequest = exports.WorkspaceSymbolResolveRequest || (exports.WorkspaceSymbolResolveRequest = {}));\n/**\n * A request to provide code lens for the given text document.\n */\nvar CodeLensRequest;\n(function (CodeLensRequest) {\n    CodeLensRequest.method = 'textDocument/codeLens';\n    CodeLensRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CodeLensRequest.type = new messages_1.ProtocolRequestType(CodeLensRequest.method);\n})(CodeLensRequest = exports.CodeLensRequest || (exports.CodeLensRequest = {}));\n/**\n * A request to resolve a command for a given code lens.\n */\nvar CodeLensResolveRequest;\n(function (CodeLensResolveRequest) {\n    CodeLensResolveRequest.method = 'codeLens/resolve';\n    CodeLensResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    CodeLensResolveRequest.type = new messages_1.ProtocolRequestType(CodeLensResolveRequest.method);\n})(CodeLensResolveRequest = exports.CodeLensResolveRequest || (exports.CodeLensResolveRequest = {}));\n/**\n * A request to refresh all code actions\n *\n * @since 3.16.0\n */\nvar CodeLensRefreshRequest;\n(function (CodeLensRefreshRequest) {\n    CodeLensRefreshRequest.method = `workspace/codeLens/refresh`;\n    CodeLensRefreshRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    CodeLensRefreshRequest.type = new messages_1.ProtocolRequestType0(CodeLensRefreshRequest.method);\n})(CodeLensRefreshRequest = exports.CodeLensRefreshRequest || (exports.CodeLensRefreshRequest = {}));\n/**\n * A request to provide document links\n */\nvar DocumentLinkRequest;\n(function (DocumentLinkRequest) {\n    DocumentLinkRequest.method = 'textDocument/documentLink';\n    DocumentLinkRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentLinkRequest.type = new messages_1.ProtocolRequestType(DocumentLinkRequest.method);\n})(DocumentLinkRequest = exports.DocumentLinkRequest || (exports.DocumentLinkRequest = {}));\n/**\n * Request to resolve additional information for a given document link. The request's\n * parameter is of type [DocumentLink](#DocumentLink) the response\n * is of type [DocumentLink](#DocumentLink) or a Thenable that resolves to such.\n */\nvar DocumentLinkResolveRequest;\n(function (DocumentLinkResolveRequest) {\n    DocumentLinkResolveRequest.method = 'documentLink/resolve';\n    DocumentLinkResolveRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentLinkResolveRequest.type = new messages_1.ProtocolRequestType(DocumentLinkResolveRequest.method);\n})(DocumentLinkResolveRequest = exports.DocumentLinkResolveRequest || (exports.DocumentLinkResolveRequest = {}));\n/**\n * A request to to format a whole document.\n */\nvar DocumentFormattingRequest;\n(function (DocumentFormattingRequest) {\n    DocumentFormattingRequest.method = 'textDocument/formatting';\n    DocumentFormattingRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentFormattingRequest.method);\n})(DocumentFormattingRequest = exports.DocumentFormattingRequest || (exports.DocumentFormattingRequest = {}));\n/**\n * A request to to format a range in a document.\n */\nvar DocumentRangeFormattingRequest;\n(function (DocumentRangeFormattingRequest) {\n    DocumentRangeFormattingRequest.method = 'textDocument/rangeFormatting';\n    DocumentRangeFormattingRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentRangeFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentRangeFormattingRequest.method);\n})(DocumentRangeFormattingRequest = exports.DocumentRangeFormattingRequest || (exports.DocumentRangeFormattingRequest = {}));\n/**\n * A request to format a document on type.\n */\nvar DocumentOnTypeFormattingRequest;\n(function (DocumentOnTypeFormattingRequest) {\n    DocumentOnTypeFormattingRequest.method = 'textDocument/onTypeFormatting';\n    DocumentOnTypeFormattingRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    DocumentOnTypeFormattingRequest.type = new messages_1.ProtocolRequestType(DocumentOnTypeFormattingRequest.method);\n})(DocumentOnTypeFormattingRequest = exports.DocumentOnTypeFormattingRequest || (exports.DocumentOnTypeFormattingRequest = {}));\n//---- Rename ----------------------------------------------\nvar PrepareSupportDefaultBehavior;\n(function (PrepareSupportDefaultBehavior) {\n    /**\n     * The client's default behavior is to select the identifier\n     * according the to language's syntax rule.\n     */\n    PrepareSupportDefaultBehavior.Identifier = 1;\n})(PrepareSupportDefaultBehavior = exports.PrepareSupportDefaultBehavior || (exports.PrepareSupportDefaultBehavior = {}));\n/**\n * A request to rename a symbol.\n */\nvar RenameRequest;\n(function (RenameRequest) {\n    RenameRequest.method = 'textDocument/rename';\n    RenameRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    RenameRequest.type = new messages_1.ProtocolRequestType(RenameRequest.method);\n})(RenameRequest = exports.RenameRequest || (exports.RenameRequest = {}));\n/**\n * A request to test and perform the setup necessary for a rename.\n *\n * @since 3.16 - support for default behavior\n */\nvar PrepareRenameRequest;\n(function (PrepareRenameRequest) {\n    PrepareRenameRequest.method = 'textDocument/prepareRename';\n    PrepareRenameRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    PrepareRenameRequest.type = new messages_1.ProtocolRequestType(PrepareRenameRequest.method);\n})(PrepareRenameRequest = exports.PrepareRenameRequest || (exports.PrepareRenameRequest = {}));\n/**\n * A request send from the client to the server to execute a command. The request might return\n * a workspace edit which the client will apply to the workspace.\n */\nvar ExecuteCommandRequest;\n(function (ExecuteCommandRequest) {\n    ExecuteCommandRequest.method = 'workspace/executeCommand';\n    ExecuteCommandRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    ExecuteCommandRequest.type = new messages_1.ProtocolRequestType(ExecuteCommandRequest.method);\n})(ExecuteCommandRequest = exports.ExecuteCommandRequest || (exports.ExecuteCommandRequest = {}));\n/**\n * A request sent from the server to the client to modified certain resources.\n */\nvar ApplyWorkspaceEditRequest;\n(function (ApplyWorkspaceEditRequest) {\n    ApplyWorkspaceEditRequest.method = 'workspace/applyEdit';\n    ApplyWorkspaceEditRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    ApplyWorkspaceEditRequest.type = new messages_1.ProtocolRequestType('workspace/applyEdit');\n})(ApplyWorkspaceEditRequest = exports.ApplyWorkspaceEditRequest || (exports.ApplyWorkspaceEditRequest = {}));\n//# sourceMappingURL=protocol.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.LinkedEditingRangeRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide ranges that can be edited together.\n *\n * @since 3.16.0\n */\nvar LinkedEditingRangeRequest;\n(function (LinkedEditingRangeRequest) {\n    LinkedEditingRangeRequest.method = 'textDocument/linkedEditingRange';\n    LinkedEditingRangeRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    LinkedEditingRangeRequest.type = new messages_1.ProtocolRequestType(LinkedEditingRangeRequest.method);\n})(LinkedEditingRangeRequest = exports.LinkedEditingRangeRequest || (exports.LinkedEditingRangeRequest = {}));\n//# sourceMappingURL=protocol.linkedEditingRange.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.MonikerRequest = exports.MonikerKind = exports.UniquenessLevel = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * Moniker uniqueness level to define scope of the moniker.\n *\n * @since 3.16.0\n */\nvar UniquenessLevel;\n(function (UniquenessLevel) {\n    /**\n     * The moniker is only unique inside a document\n     */\n    UniquenessLevel.document = 'document';\n    /**\n     * The moniker is unique inside a project for which a dump got created\n     */\n    UniquenessLevel.project = 'project';\n    /**\n     * The moniker is unique inside the group to which a project belongs\n     */\n    UniquenessLevel.group = 'group';\n    /**\n     * The moniker is unique inside the moniker scheme.\n     */\n    UniquenessLevel.scheme = 'scheme';\n    /**\n     * The moniker is globally unique\n     */\n    UniquenessLevel.global = 'global';\n})(UniquenessLevel = exports.UniquenessLevel || (exports.UniquenessLevel = {}));\n/**\n * The moniker kind.\n *\n * @since 3.16.0\n */\nvar MonikerKind;\n(function (MonikerKind) {\n    /**\n     * The moniker represent a symbol that is imported into a project\n     */\n    MonikerKind.$import = 'import';\n    /**\n     * The moniker represents a symbol that is exported from a project\n     */\n    MonikerKind.$export = 'export';\n    /**\n     * The moniker represents a symbol that is local to a project (e.g. a local\n     * variable of a function, a class not visible outside the project, ...)\n     */\n    MonikerKind.local = 'local';\n})(MonikerKind = exports.MonikerKind || (exports.MonikerKind = {}));\n/**\n * A request to get the moniker of a symbol at a given text document position.\n * The request parameter is of type [TextDocumentPositionParams](#TextDocumentPositionParams).\n * The response is of type [Moniker[]](#Moniker[]) or `null`.\n */\nvar MonikerRequest;\n(function (MonikerRequest) {\n    MonikerRequest.method = 'textDocument/moniker';\n    MonikerRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    MonikerRequest.type = new messages_1.ProtocolRequestType(MonikerRequest.method);\n})(MonikerRequest = exports.MonikerRequest || (exports.MonikerRequest = {}));\n//# sourceMappingURL=protocol.moniker.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DidCloseNotebookDocumentNotification = exports.DidSaveNotebookDocumentNotification = exports.DidChangeNotebookDocumentNotification = exports.NotebookCellArrayChange = exports.DidOpenNotebookDocumentNotification = exports.NotebookDocumentSyncRegistrationType = exports.NotebookDocument = exports.NotebookCell = exports.ExecutionSummary = exports.NotebookCellKind = void 0;\nconst vscode_languageserver_types_1 = require(\"vscode-languageserver-types\");\nconst Is = require(\"./utils/is\");\nconst messages_1 = require(\"./messages\");\n/**\n * A notebook cell kind.\n *\n * @since 3.17.0\n */\nvar NotebookCellKind;\n(function (NotebookCellKind) {\n    /**\n     * A markup-cell is formatted source that is used for display.\n     */\n    NotebookCellKind.Markup = 1;\n    /**\n     * A code-cell is source code.\n     */\n    NotebookCellKind.Code = 2;\n    function is(value) {\n        return value === 1 || value === 2;\n    }\n    NotebookCellKind.is = is;\n})(NotebookCellKind = exports.NotebookCellKind || (exports.NotebookCellKind = {}));\nvar ExecutionSummary;\n(function (ExecutionSummary) {\n    function create(executionOrder, success) {\n        const result = { executionOrder };\n        if (success === true || success === false) {\n            result.success = success;\n        }\n        return result;\n    }\n    ExecutionSummary.create = create;\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && vscode_languageserver_types_1.uinteger.is(candidate.executionOrder) && (candidate.success === undefined || Is.boolean(candidate.success));\n    }\n    ExecutionSummary.is = is;\n    function equals(one, other) {\n        if (one === other) {\n            return true;\n        }\n        if (one === null || one === undefined || other === null || other === undefined) {\n            return false;\n        }\n        return one.executionOrder === other.executionOrder && one.success === other.success;\n    }\n    ExecutionSummary.equals = equals;\n})(ExecutionSummary = exports.ExecutionSummary || (exports.ExecutionSummary = {}));\nvar NotebookCell;\n(function (NotebookCell) {\n    function create(kind, document) {\n        return { kind, document };\n    }\n    NotebookCell.create = create;\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && NotebookCellKind.is(candidate.kind) && vscode_languageserver_types_1.DocumentUri.is(candidate.document) &&\n            (candidate.metadata === undefined || Is.objectLiteral(candidate.metadata));\n    }\n    NotebookCell.is = is;\n    function diff(one, two) {\n        const result = new Set();\n        if (one.document !== two.document) {\n            result.add('document');\n        }\n        if (one.kind !== two.kind) {\n            result.add('kind');\n        }\n        if (one.executionSummary !== two.executionSummary) {\n            result.add('executionSummary');\n        }\n        if ((one.metadata !== undefined || two.metadata !== undefined) && !equalsMetadata(one.metadata, two.metadata)) {\n            result.add('metadata');\n        }\n        if ((one.executionSummary !== undefined || two.executionSummary !== undefined) && !ExecutionSummary.equals(one.executionSummary, two.executionSummary)) {\n            result.add('executionSummary');\n        }\n        return result;\n    }\n    NotebookCell.diff = diff;\n    function equalsMetadata(one, other) {\n        if (one === other) {\n            return true;\n        }\n        if (one === null || one === undefined || other === null || other === undefined) {\n            return false;\n        }\n        if (typeof one !== typeof other) {\n            return false;\n        }\n        if (typeof one !== 'object') {\n            return false;\n        }\n        const oneArray = Array.isArray(one);\n        const otherArray = Array.isArray(other);\n        if (oneArray !== otherArray) {\n            return false;\n        }\n        if (oneArray && otherArray) {\n            if (one.length !== other.length) {\n                return false;\n            }\n            for (let i = 0; i < one.length; i++) {\n                if (!equalsMetadata(one[i], other[i])) {\n                    return false;\n                }\n            }\n        }\n        if (Is.objectLiteral(one) && Is.objectLiteral(other)) {\n            const oneKeys = Object.keys(one);\n            const otherKeys = Object.keys(other);\n            if (oneKeys.length !== otherKeys.length) {\n                return false;\n            }\n            oneKeys.sort();\n            otherKeys.sort();\n            if (!equalsMetadata(oneKeys, otherKeys)) {\n                return false;\n            }\n            for (let i = 0; i < oneKeys.length; i++) {\n                const prop = oneKeys[i];\n                if (!equalsMetadata(one[prop], other[prop])) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n})(NotebookCell = exports.NotebookCell || (exports.NotebookCell = {}));\nvar NotebookDocument;\n(function (NotebookDocument) {\n    function create(uri, notebookType, version, cells) {\n        return { uri, notebookType, version, cells };\n    }\n    NotebookDocument.create = create;\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && Is.string(candidate.uri) && vscode_languageserver_types_1.integer.is(candidate.version) && Is.typedArray(candidate.cells, NotebookCell.is);\n    }\n    NotebookDocument.is = is;\n})(NotebookDocument = exports.NotebookDocument || (exports.NotebookDocument = {}));\nvar NotebookDocumentSyncRegistrationType;\n(function (NotebookDocumentSyncRegistrationType) {\n    NotebookDocumentSyncRegistrationType.method = 'notebookDocument/sync';\n    NotebookDocumentSyncRegistrationType.messageDirection = messages_1.MessageDirection.clientToServer;\n    NotebookDocumentSyncRegistrationType.type = new messages_1.RegistrationType(NotebookDocumentSyncRegistrationType.method);\n})(NotebookDocumentSyncRegistrationType = exports.NotebookDocumentSyncRegistrationType || (exports.NotebookDocumentSyncRegistrationType = {}));\n/**\n * A notification sent when a notebook opens.\n *\n * @since 3.17.0\n */\nvar DidOpenNotebookDocumentNotification;\n(function (DidOpenNotebookDocumentNotification) {\n    DidOpenNotebookDocumentNotification.method = 'notebookDocument/didOpen';\n    DidOpenNotebookDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidOpenNotebookDocumentNotification.type = new messages_1.ProtocolNotificationType(DidOpenNotebookDocumentNotification.method);\n    DidOpenNotebookDocumentNotification.registrationMethod = NotebookDocumentSyncRegistrationType.method;\n})(DidOpenNotebookDocumentNotification = exports.DidOpenNotebookDocumentNotification || (exports.DidOpenNotebookDocumentNotification = {}));\nvar NotebookCellArrayChange;\n(function (NotebookCellArrayChange) {\n    function is(value) {\n        const candidate = value;\n        return Is.objectLiteral(candidate) && vscode_languageserver_types_1.uinteger.is(candidate.start) && vscode_languageserver_types_1.uinteger.is(candidate.deleteCount) && (candidate.cells === undefined || Is.typedArray(candidate.cells, NotebookCell.is));\n    }\n    NotebookCellArrayChange.is = is;\n    function create(start, deleteCount, cells) {\n        const result = { start, deleteCount };\n        if (cells !== undefined) {\n            result.cells = cells;\n        }\n        return result;\n    }\n    NotebookCellArrayChange.create = create;\n})(NotebookCellArrayChange = exports.NotebookCellArrayChange || (exports.NotebookCellArrayChange = {}));\nvar DidChangeNotebookDocumentNotification;\n(function (DidChangeNotebookDocumentNotification) {\n    DidChangeNotebookDocumentNotification.method = 'notebookDocument/didChange';\n    DidChangeNotebookDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidChangeNotebookDocumentNotification.type = new messages_1.ProtocolNotificationType(DidChangeNotebookDocumentNotification.method);\n    DidChangeNotebookDocumentNotification.registrationMethod = NotebookDocumentSyncRegistrationType.method;\n})(DidChangeNotebookDocumentNotification = exports.DidChangeNotebookDocumentNotification || (exports.DidChangeNotebookDocumentNotification = {}));\n/**\n * A notification sent when a notebook document is saved.\n *\n * @since 3.17.0\n */\nvar DidSaveNotebookDocumentNotification;\n(function (DidSaveNotebookDocumentNotification) {\n    DidSaveNotebookDocumentNotification.method = 'notebookDocument/didSave';\n    DidSaveNotebookDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidSaveNotebookDocumentNotification.type = new messages_1.ProtocolNotificationType(DidSaveNotebookDocumentNotification.method);\n    DidSaveNotebookDocumentNotification.registrationMethod = NotebookDocumentSyncRegistrationType.method;\n})(DidSaveNotebookDocumentNotification = exports.DidSaveNotebookDocumentNotification || (exports.DidSaveNotebookDocumentNotification = {}));\n/**\n * A notification sent when a notebook closes.\n *\n * @since 3.17.0\n */\nvar DidCloseNotebookDocumentNotification;\n(function (DidCloseNotebookDocumentNotification) {\n    DidCloseNotebookDocumentNotification.method = 'notebookDocument/didClose';\n    DidCloseNotebookDocumentNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidCloseNotebookDocumentNotification.type = new messages_1.ProtocolNotificationType(DidCloseNotebookDocumentNotification.method);\n    DidCloseNotebookDocumentNotification.registrationMethod = NotebookDocumentSyncRegistrationType.method;\n})(DidCloseNotebookDocumentNotification = exports.DidCloseNotebookDocumentNotification || (exports.DidCloseNotebookDocumentNotification = {}));\n//# sourceMappingURL=protocol.notebook.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WorkDoneProgressCancelNotification = exports.WorkDoneProgressCreateRequest = exports.WorkDoneProgress = void 0;\nconst vscode_jsonrpc_1 = require(\"vscode-jsonrpc\");\nconst messages_1 = require(\"./messages\");\nvar WorkDoneProgress;\n(function (WorkDoneProgress) {\n    WorkDoneProgress.type = new vscode_jsonrpc_1.ProgressType();\n    function is(value) {\n        return value === WorkDoneProgress.type;\n    }\n    WorkDoneProgress.is = is;\n})(WorkDoneProgress = exports.WorkDoneProgress || (exports.WorkDoneProgress = {}));\n/**\n * The `window/workDoneProgress/create` request is sent from the server to the client to initiate progress\n * reporting from the server.\n */\nvar WorkDoneProgressCreateRequest;\n(function (WorkDoneProgressCreateRequest) {\n    WorkDoneProgressCreateRequest.method = 'window/workDoneProgress/create';\n    WorkDoneProgressCreateRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    WorkDoneProgressCreateRequest.type = new messages_1.ProtocolRequestType(WorkDoneProgressCreateRequest.method);\n})(WorkDoneProgressCreateRequest = exports.WorkDoneProgressCreateRequest || (exports.WorkDoneProgressCreateRequest = {}));\n/**\n * The `window/workDoneProgress/cancel` notification is sent from  the client to the server to cancel a progress\n * initiated on the server side.\n */\nvar WorkDoneProgressCancelNotification;\n(function (WorkDoneProgressCancelNotification) {\n    WorkDoneProgressCancelNotification.method = 'window/workDoneProgress/cancel';\n    WorkDoneProgressCancelNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    WorkDoneProgressCancelNotification.type = new messages_1.ProtocolNotificationType(WorkDoneProgressCancelNotification.method);\n})(WorkDoneProgressCancelNotification = exports.WorkDoneProgressCancelNotification || (exports.WorkDoneProgressCancelNotification = {}));\n//# sourceMappingURL=protocol.progress.js.map","\"use strict\";\n/*---------------------------------------------------------------------------------------------\n *  Copyright (c) Microsoft Corporation. All rights reserved.\n *  Licensed under the MIT License. See License.txt in the project root for license information.\n *--------------------------------------------------------------------------------------------*/\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SelectionRangeRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to provide selection ranges in a document. The request's\n * parameter is of type [SelectionRangeParams](#SelectionRangeParams), the\n * response is of type [SelectionRange[]](#SelectionRange[]) or a Thenable\n * that resolves to such.\n */\nvar SelectionRangeRequest;\n(function (SelectionRangeRequest) {\n    SelectionRangeRequest.method = 'textDocument/selectionRange';\n    SelectionRangeRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SelectionRangeRequest.type = new messages_1.ProtocolRequestType(SelectionRangeRequest.method);\n})(SelectionRangeRequest = exports.SelectionRangeRequest || (exports.SelectionRangeRequest = {}));\n//# sourceMappingURL=protocol.selectionRange.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.SemanticTokensRefreshRequest = exports.SemanticTokensRangeRequest = exports.SemanticTokensDeltaRequest = exports.SemanticTokensRequest = exports.SemanticTokensRegistrationType = exports.TokenFormat = void 0;\nconst messages_1 = require(\"./messages\");\n//------- 'textDocument/semanticTokens' -----\nvar TokenFormat;\n(function (TokenFormat) {\n    TokenFormat.Relative = 'relative';\n})(TokenFormat = exports.TokenFormat || (exports.TokenFormat = {}));\nvar SemanticTokensRegistrationType;\n(function (SemanticTokensRegistrationType) {\n    SemanticTokensRegistrationType.method = 'textDocument/semanticTokens';\n    SemanticTokensRegistrationType.type = new messages_1.RegistrationType(SemanticTokensRegistrationType.method);\n})(SemanticTokensRegistrationType = exports.SemanticTokensRegistrationType || (exports.SemanticTokensRegistrationType = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensRequest;\n(function (SemanticTokensRequest) {\n    SemanticTokensRequest.method = 'textDocument/semanticTokens/full';\n    SemanticTokensRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SemanticTokensRequest.type = new messages_1.ProtocolRequestType(SemanticTokensRequest.method);\n    SemanticTokensRequest.registrationMethod = SemanticTokensRegistrationType.method;\n})(SemanticTokensRequest = exports.SemanticTokensRequest || (exports.SemanticTokensRequest = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensDeltaRequest;\n(function (SemanticTokensDeltaRequest) {\n    SemanticTokensDeltaRequest.method = 'textDocument/semanticTokens/full/delta';\n    SemanticTokensDeltaRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SemanticTokensDeltaRequest.type = new messages_1.ProtocolRequestType(SemanticTokensDeltaRequest.method);\n    SemanticTokensDeltaRequest.registrationMethod = SemanticTokensRegistrationType.method;\n})(SemanticTokensDeltaRequest = exports.SemanticTokensDeltaRequest || (exports.SemanticTokensDeltaRequest = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensRangeRequest;\n(function (SemanticTokensRangeRequest) {\n    SemanticTokensRangeRequest.method = 'textDocument/semanticTokens/range';\n    SemanticTokensRangeRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SemanticTokensRangeRequest.type = new messages_1.ProtocolRequestType(SemanticTokensRangeRequest.method);\n    SemanticTokensRangeRequest.registrationMethod = SemanticTokensRegistrationType.method;\n})(SemanticTokensRangeRequest = exports.SemanticTokensRangeRequest || (exports.SemanticTokensRangeRequest = {}));\n/**\n * @since 3.16.0\n */\nvar SemanticTokensRefreshRequest;\n(function (SemanticTokensRefreshRequest) {\n    SemanticTokensRefreshRequest.method = `workspace/semanticTokens/refresh`;\n    SemanticTokensRefreshRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    SemanticTokensRefreshRequest.type = new messages_1.ProtocolRequestType0(SemanticTokensRefreshRequest.method);\n})(SemanticTokensRefreshRequest = exports.SemanticTokensRefreshRequest || (exports.SemanticTokensRefreshRequest = {}));\n//# sourceMappingURL=protocol.semanticTokens.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.ShowDocumentRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to show a document. This request might open an\n * external program depending on the value of the URI to open.\n * For example a request to open `https://code.visualstudio.com/`\n * will very likely open the URI in a WEB browser.\n *\n * @since 3.16.0\n*/\nvar ShowDocumentRequest;\n(function (ShowDocumentRequest) {\n    ShowDocumentRequest.method = 'window/showDocument';\n    ShowDocumentRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    ShowDocumentRequest.type = new messages_1.ProtocolRequestType(ShowDocumentRequest.method);\n})(ShowDocumentRequest = exports.ShowDocumentRequest || (exports.ShowDocumentRequest = {}));\n//# sourceMappingURL=protocol.showDocument.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypeDefinitionRequest = void 0;\nconst messages_1 = require(\"./messages\");\n// @ts-ignore: to avoid inlining LocatioLink as dynamic import\nlet __noDynamicImport;\n/**\n * A request to resolve the type definition locations of a symbol at a given text\n * document position. The request's parameter is of type [TextDocumentPositioParams]\n * (#TextDocumentPositionParams) the response is of type [Definition](#Definition) or a\n * Thenable that resolves to such.\n */\nvar TypeDefinitionRequest;\n(function (TypeDefinitionRequest) {\n    TypeDefinitionRequest.method = 'textDocument/typeDefinition';\n    TypeDefinitionRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    TypeDefinitionRequest.type = new messages_1.ProtocolRequestType(TypeDefinitionRequest.method);\n})(TypeDefinitionRequest = exports.TypeDefinitionRequest || (exports.TypeDefinitionRequest = {}));\n//# sourceMappingURL=protocol.typeDefinition.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) TypeFox, Microsoft and others. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.TypeHierarchySubtypesRequest = exports.TypeHierarchySupertypesRequest = exports.TypeHierarchyPrepareRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * A request to result a `TypeHierarchyItem` in a document at a given position.\n * Can be used as an input to a subtypes or supertypes type hierarchy.\n *\n * @since 3.17.0\n */\nvar TypeHierarchyPrepareRequest;\n(function (TypeHierarchyPrepareRequest) {\n    TypeHierarchyPrepareRequest.method = 'textDocument/prepareTypeHierarchy';\n    TypeHierarchyPrepareRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    TypeHierarchyPrepareRequest.type = new messages_1.ProtocolRequestType(TypeHierarchyPrepareRequest.method);\n})(TypeHierarchyPrepareRequest = exports.TypeHierarchyPrepareRequest || (exports.TypeHierarchyPrepareRequest = {}));\n/**\n * A request to resolve the supertypes for a given `TypeHierarchyItem`.\n *\n * @since 3.17.0\n */\nvar TypeHierarchySupertypesRequest;\n(function (TypeHierarchySupertypesRequest) {\n    TypeHierarchySupertypesRequest.method = 'typeHierarchy/supertypes';\n    TypeHierarchySupertypesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    TypeHierarchySupertypesRequest.type = new messages_1.ProtocolRequestType(TypeHierarchySupertypesRequest.method);\n})(TypeHierarchySupertypesRequest = exports.TypeHierarchySupertypesRequest || (exports.TypeHierarchySupertypesRequest = {}));\n/**\n * A request to resolve the subtypes for a given `TypeHierarchyItem`.\n *\n * @since 3.17.0\n */\nvar TypeHierarchySubtypesRequest;\n(function (TypeHierarchySubtypesRequest) {\n    TypeHierarchySubtypesRequest.method = 'typeHierarchy/subtypes';\n    TypeHierarchySubtypesRequest.messageDirection = messages_1.MessageDirection.clientToServer;\n    TypeHierarchySubtypesRequest.type = new messages_1.ProtocolRequestType(TypeHierarchySubtypesRequest.method);\n})(TypeHierarchySubtypesRequest = exports.TypeHierarchySubtypesRequest || (exports.TypeHierarchySubtypesRequest = {}));\n//# sourceMappingURL=protocol.typeHierarchy.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.DidChangeWorkspaceFoldersNotification = exports.WorkspaceFoldersRequest = void 0;\nconst messages_1 = require(\"./messages\");\n/**\n * The `workspace/workspaceFolders` is sent from the server to the client to fetch the open workspace folders.\n */\nvar WorkspaceFoldersRequest;\n(function (WorkspaceFoldersRequest) {\n    WorkspaceFoldersRequest.method = 'workspace/workspaceFolders';\n    WorkspaceFoldersRequest.messageDirection = messages_1.MessageDirection.serverToClient;\n    WorkspaceFoldersRequest.type = new messages_1.ProtocolRequestType0(WorkspaceFoldersRequest.method);\n})(WorkspaceFoldersRequest = exports.WorkspaceFoldersRequest || (exports.WorkspaceFoldersRequest = {}));\n/**\n * The `workspace/didChangeWorkspaceFolders` notification is sent from the client to the server when the workspace\n * folder configuration changes.\n */\nvar DidChangeWorkspaceFoldersNotification;\n(function (DidChangeWorkspaceFoldersNotification) {\n    DidChangeWorkspaceFoldersNotification.method = 'workspace/didChangeWorkspaceFolders';\n    DidChangeWorkspaceFoldersNotification.messageDirection = messages_1.MessageDirection.clientToServer;\n    DidChangeWorkspaceFoldersNotification.type = new messages_1.ProtocolNotificationType(DidChangeWorkspaceFoldersNotification.method);\n})(DidChangeWorkspaceFoldersNotification = exports.DidChangeWorkspaceFoldersNotification || (exports.DidChangeWorkspaceFoldersNotification = {}));\n//# sourceMappingURL=protocol.workspaceFolder.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.objectLiteral = exports.typedArray = exports.stringArray = exports.array = exports.func = exports.error = exports.number = exports.string = exports.boolean = void 0;\nfunction boolean(value) {\n    return value === true || value === false;\n}\nexports.boolean = boolean;\nfunction string(value) {\n    return typeof value === 'string' || value instanceof String;\n}\nexports.string = string;\nfunction number(value) {\n    return typeof value === 'number' || value instanceof Number;\n}\nexports.number = number;\nfunction error(value) {\n    return value instanceof Error;\n}\nexports.error = error;\nfunction func(value) {\n    return typeof value === 'function';\n}\nexports.func = func;\nfunction array(value) {\n    return Array.isArray(value);\n}\nexports.array = array;\nfunction stringArray(value) {\n    return array(value) && value.every(elem => string(elem));\n}\nexports.stringArray = stringArray;\nfunction typedArray(value, check) {\n    return Array.isArray(value) && value.every(check);\n}\nexports.typedArray = typedArray;\nfunction objectLiteral(value) {\n    // Strictly speaking class instances pass this check as well. Since the LSP\n    // doesn't use classes we ignore this for now. If we do we need to add something\n    // like this: `Object.getPrototypeOf(Object.getPrototypeOf(x)) === null`\n    return value !== null && typeof value === 'object';\n}\nexports.objectLiteral = objectLiteral;\n//# sourceMappingURL=is.js.map","\"use strict\";\n/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\nvar __createBinding = (this && this.__createBinding) || (Object.create ? (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    var desc = Object.getOwnPropertyDescriptor(m, k);\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\n      desc = { enumerable: true, get: function() { return m[k]; } };\n    }\n    Object.defineProperty(o, k2, desc);\n}) : (function(o, m, k, k2) {\n    if (k2 === undefined) k2 = k;\n    o[k2] = m[k];\n}));\nvar __exportStar = (this && this.__exportStar) || function(m, exports) {\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(exports, p)) __createBinding(exports, m, p);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createProtocolConnection = void 0;\nconst node_1 = require(\"vscode-jsonrpc/node\");\n__exportStar(require(\"vscode-jsonrpc/node\"), exports);\n__exportStar(require(\"../common/api\"), exports);\nfunction createProtocolConnection(input, output, logger, options) {\n    return (0, node_1.createMessageConnection)(input, output, logger, options);\n}\nexports.createProtocolConnection = createProtocolConnection;\n//# sourceMappingURL=main.js.map","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ----------------------------------------------------------------------------------------- */\n'use strict';\n\nmodule.exports = require('./lib/node/main');","/* --------------------------------------------------------------------------------------------\n * Copyright (c) Microsoft Corporation. All rights reserved.\n * Licensed under the MIT License. See License.txt in the project root for license information.\n * ------------------------------------------------------------------------------------------ */\n'use strict';\nexport var DocumentUri;\n(function (DocumentUri) {\n    function is(value) {\n        return typeof value === 'string';\n    }\n    DocumentUri.is = is;\n})(DocumentUri || (DocumentUri = {}));\nexport var URI;\n(function (URI) {\n    function is(value) {\n        return typeof value === 'string';\n    }\n    URI.is = is;\n})(URI || (URI = {}));\nexport var integer;\n(function (integer) {\n    integer.MIN_VALUE = -2147483648;\n    integer.MAX_VALUE = 2147483647;\n    function is(value) {\n        return typeof value === 'number' && integer.MIN_VALUE <= value && value <= integer.MAX_VALUE;\n    }\n    integer.is = is;\n})(integer || (integer = {}));\nexport var uinteger;\n(function (uinteger) {\n    uinteger.MIN_VALUE = 0;\n    uinteger.MAX_VALUE = 2147483647;\n    function is(value) {\n        return typeof value === 'number' && uinteger.MIN_VALUE <= value && value <= uinteger.MAX_VALUE;\n    }\n    uinteger.is = is;\n})(uinteger || (uinteger = {}));\n/**\n * The Position namespace provides helper functions to work with\n * [Position](#Position) literals.\n */\nexport var Position;\n(function (Position) {\n    /**\n     * Creates a new Position literal from the given line and character.\n     * @param line The position's line.\n     * @param character The position's character.\n     */\n    function create(line, character) {\n        if (line === Number.MAX_VALUE) {\n            line = uinteger.MAX_VALUE;\n        }\n        if (character === Number.MAX_VALUE) {\n            character = uinteger.MAX_VALUE;\n        }\n        return { line: line, character: character };\n    }\n    Position.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Position](#Position) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.uinteger(candidate.line) && Is.uinteger(candidate.character);\n    }\n    Position.is = is;\n})(Position || (Position = {}));\n/**\n * The Range namespace provides helper functions to work with\n * [Range](#Range) literals.\n */\nexport var Range;\n(function (Range) {\n    function create(one, two, three, four) {\n        if (Is.uinteger(one) && Is.uinteger(two) && Is.uinteger(three) && Is.uinteger(four)) {\n            return { start: Position.create(one, two), end: Position.create(three, four) };\n        }\n        else if (Position.is(one) && Position.is(two)) {\n            return { start: one, end: two };\n        }\n        else {\n            throw new Error(\"Range#create called with invalid arguments[\".concat(one, \", \").concat(two, \", \").concat(three, \", \").concat(four, \"]\"));\n        }\n    }\n    Range.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Range](#Range) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Position.is(candidate.start) && Position.is(candidate.end);\n    }\n    Range.is = is;\n})(Range || (Range = {}));\n/**\n * The Location namespace provides helper functions to work with\n * [Location](#Location) literals.\n */\nexport var Location;\n(function (Location) {\n    /**\n     * Creates a Location literal.\n     * @param uri The location's uri.\n     * @param range The location's range.\n     */\n    function create(uri, range) {\n        return { uri: uri, range: range };\n    }\n    Location.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Location](#Location) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Range.is(candidate.range) && (Is.string(candidate.uri) || Is.undefined(candidate.uri));\n    }\n    Location.is = is;\n})(Location || (Location = {}));\n/**\n * The LocationLink namespace provides helper functions to work with\n * [LocationLink](#LocationLink) literals.\n */\nexport var LocationLink;\n(function (LocationLink) {\n    /**\n     * Creates a LocationLink literal.\n     * @param targetUri The definition's uri.\n     * @param targetRange The full range of the definition.\n     * @param targetSelectionRange The span of the symbol definition at the target.\n     * @param originSelectionRange The span of the symbol being defined in the originating source file.\n     */\n    function create(targetUri, targetRange, targetSelectionRange, originSelectionRange) {\n        return { targetUri: targetUri, targetRange: targetRange, targetSelectionRange: targetSelectionRange, originSelectionRange: originSelectionRange };\n    }\n    LocationLink.create = create;\n    /**\n     * Checks whether the given literal conforms to the [LocationLink](#LocationLink) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Range.is(candidate.targetRange) && Is.string(candidate.targetUri)\n            && Range.is(candidate.targetSelectionRange)\n            && (Range.is(candidate.originSelectionRange) || Is.undefined(candidate.originSelectionRange));\n    }\n    LocationLink.is = is;\n})(LocationLink || (LocationLink = {}));\n/**\n * The Color namespace provides helper functions to work with\n * [Color](#Color) literals.\n */\nexport var Color;\n(function (Color) {\n    /**\n     * Creates a new Color literal.\n     */\n    function create(red, green, blue, alpha) {\n        return {\n            red: red,\n            green: green,\n            blue: blue,\n            alpha: alpha,\n        };\n    }\n    Color.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Color](#Color) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.numberRange(candidate.red, 0, 1)\n            && Is.numberRange(candidate.green, 0, 1)\n            && Is.numberRange(candidate.blue, 0, 1)\n            && Is.numberRange(candidate.alpha, 0, 1);\n    }\n    Color.is = is;\n})(Color || (Color = {}));\n/**\n * The ColorInformation namespace provides helper functions to work with\n * [ColorInformation](#ColorInformation) literals.\n */\nexport var ColorInformation;\n(function (ColorInformation) {\n    /**\n     * Creates a new ColorInformation literal.\n     */\n    function create(range, color) {\n        return {\n            range: range,\n            color: color,\n        };\n    }\n    ColorInformation.create = create;\n    /**\n     * Checks whether the given literal conforms to the [ColorInformation](#ColorInformation) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Range.is(candidate.range) && Color.is(candidate.color);\n    }\n    ColorInformation.is = is;\n})(ColorInformation || (ColorInformation = {}));\n/**\n * The Color namespace provides helper functions to work with\n * [ColorPresentation](#ColorPresentation) literals.\n */\nexport var ColorPresentation;\n(function (ColorPresentation) {\n    /**\n     * Creates a new ColorInformation literal.\n     */\n    function create(label, textEdit, additionalTextEdits) {\n        return {\n            label: label,\n            textEdit: textEdit,\n            additionalTextEdits: additionalTextEdits,\n        };\n    }\n    ColorPresentation.create = create;\n    /**\n     * Checks whether the given literal conforms to the [ColorInformation](#ColorInformation) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.string(candidate.label)\n            && (Is.undefined(candidate.textEdit) || TextEdit.is(candidate))\n            && (Is.undefined(candidate.additionalTextEdits) || Is.typedArray(candidate.additionalTextEdits, TextEdit.is));\n    }\n    ColorPresentation.is = is;\n})(ColorPresentation || (ColorPresentation = {}));\n/**\n * A set of predefined range kinds.\n */\nexport var FoldingRangeKind;\n(function (FoldingRangeKind) {\n    /**\n     * Folding range for a comment\n     */\n    FoldingRangeKind.Comment = 'comment';\n    /**\n     * Folding range for an import or include\n     */\n    FoldingRangeKind.Imports = 'imports';\n    /**\n     * Folding range for a region (e.g. `#region`)\n     */\n    FoldingRangeKind.Region = 'region';\n})(FoldingRangeKind || (FoldingRangeKind = {}));\n/**\n * The folding range namespace provides helper functions to work with\n * [FoldingRange](#FoldingRange) literals.\n */\nexport var FoldingRange;\n(function (FoldingRange) {\n    /**\n     * Creates a new FoldingRange literal.\n     */\n    function create(startLine, endLine, startCharacter, endCharacter, kind, collapsedText) {\n        var result = {\n            startLine: startLine,\n            endLine: endLine\n        };\n        if (Is.defined(startCharacter)) {\n            result.startCharacter = startCharacter;\n        }\n        if (Is.defined(endCharacter)) {\n            result.endCharacter = endCharacter;\n        }\n        if (Is.defined(kind)) {\n            result.kind = kind;\n        }\n        if (Is.defined(collapsedText)) {\n            result.collapsedText = collapsedText;\n        }\n        return result;\n    }\n    FoldingRange.create = create;\n    /**\n     * Checks whether the given literal conforms to the [FoldingRange](#FoldingRange) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.uinteger(candidate.startLine) && Is.uinteger(candidate.startLine)\n            && (Is.undefined(candidate.startCharacter) || Is.uinteger(candidate.startCharacter))\n            && (Is.undefined(candidate.endCharacter) || Is.uinteger(candidate.endCharacter))\n            && (Is.undefined(candidate.kind) || Is.string(candidate.kind));\n    }\n    FoldingRange.is = is;\n})(FoldingRange || (FoldingRange = {}));\n/**\n * The DiagnosticRelatedInformation namespace provides helper functions to work with\n * [DiagnosticRelatedInformation](#DiagnosticRelatedInformation) literals.\n */\nexport var DiagnosticRelatedInformation;\n(function (DiagnosticRelatedInformation) {\n    /**\n     * Creates a new DiagnosticRelatedInformation literal.\n     */\n    function create(location, message) {\n        return {\n            location: location,\n            message: message\n        };\n    }\n    DiagnosticRelatedInformation.create = create;\n    /**\n     * Checks whether the given literal conforms to the [DiagnosticRelatedInformation](#DiagnosticRelatedInformation) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Location.is(candidate.location) && Is.string(candidate.message);\n    }\n    DiagnosticRelatedInformation.is = is;\n})(DiagnosticRelatedInformation || (DiagnosticRelatedInformation = {}));\n/**\n * The diagnostic's severity.\n */\nexport var DiagnosticSeverity;\n(function (DiagnosticSeverity) {\n    /**\n     * Reports an error.\n     */\n    DiagnosticSeverity.Error = 1;\n    /**\n     * Reports a warning.\n     */\n    DiagnosticSeverity.Warning = 2;\n    /**\n     * Reports an information.\n     */\n    DiagnosticSeverity.Information = 3;\n    /**\n     * Reports a hint.\n     */\n    DiagnosticSeverity.Hint = 4;\n})(DiagnosticSeverity || (DiagnosticSeverity = {}));\n/**\n * The diagnostic tags.\n *\n * @since 3.15.0\n */\nexport var DiagnosticTag;\n(function (DiagnosticTag) {\n    /**\n     * Unused or unnecessary code.\n     *\n     * Clients are allowed to render diagnostics with this tag faded out instead of having\n     * an error squiggle.\n     */\n    DiagnosticTag.Unnecessary = 1;\n    /**\n     * Deprecated or obsolete code.\n     *\n     * Clients are allowed to rendered diagnostics with this tag strike through.\n     */\n    DiagnosticTag.Deprecated = 2;\n})(DiagnosticTag || (DiagnosticTag = {}));\n/**\n * The CodeDescription namespace provides functions to deal with descriptions for diagnostic codes.\n *\n * @since 3.16.0\n */\nexport var CodeDescription;\n(function (CodeDescription) {\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.string(candidate.href);\n    }\n    CodeDescription.is = is;\n})(CodeDescription || (CodeDescription = {}));\n/**\n * The Diagnostic namespace provides helper functions to work with\n * [Diagnostic](#Diagnostic) literals.\n */\nexport var Diagnostic;\n(function (Diagnostic) {\n    /**\n     * Creates a new Diagnostic literal.\n     */\n    function create(range, message, severity, code, source, relatedInformation) {\n        var result = { range: range, message: message };\n        if (Is.defined(severity)) {\n            result.severity = severity;\n        }\n        if (Is.defined(code)) {\n            result.code = code;\n        }\n        if (Is.defined(source)) {\n            result.source = source;\n        }\n        if (Is.defined(relatedInformation)) {\n            result.relatedInformation = relatedInformation;\n        }\n        return result;\n    }\n    Diagnostic.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Diagnostic](#Diagnostic) interface.\n     */\n    function is(value) {\n        var _a;\n        var candidate = value;\n        return Is.defined(candidate)\n            && Range.is(candidate.range)\n            && Is.string(candidate.message)\n            && (Is.number(candidate.severity) || Is.undefined(candidate.severity))\n            && (Is.integer(candidate.code) || Is.string(candidate.code) || Is.undefined(candidate.code))\n            && (Is.undefined(candidate.codeDescription) || (Is.string((_a = candidate.codeDescription) === null || _a === void 0 ? void 0 : _a.href)))\n            && (Is.string(candidate.source) || Is.undefined(candidate.source))\n            && (Is.undefined(candidate.relatedInformation) || Is.typedArray(candidate.relatedInformation, DiagnosticRelatedInformation.is));\n    }\n    Diagnostic.is = is;\n})(Diagnostic || (Diagnostic = {}));\n/**\n * The Command namespace provides helper functions to work with\n * [Command](#Command) literals.\n */\nexport var Command;\n(function (Command) {\n    /**\n     * Creates a new Command literal.\n     */\n    function create(title, command) {\n        var args = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            args[_i - 2] = arguments[_i];\n        }\n        var result = { title: title, command: command };\n        if (Is.defined(args) && args.length > 0) {\n            result.arguments = args;\n        }\n        return result;\n    }\n    Command.create = create;\n    /**\n     * Checks whether the given literal conforms to the [Command](#Command) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.title) && Is.string(candidate.command);\n    }\n    Command.is = is;\n})(Command || (Command = {}));\n/**\n * The TextEdit namespace provides helper function to create replace,\n * insert and delete edits more easily.\n */\nexport var TextEdit;\n(function (TextEdit) {\n    /**\n     * Creates a replace text edit.\n     * @param range The range of text to be replaced.\n     * @param newText The new text.\n     */\n    function replace(range, newText) {\n        return { range: range, newText: newText };\n    }\n    TextEdit.replace = replace;\n    /**\n     * Creates an insert text edit.\n     * @param position The position to insert the text at.\n     * @param newText The text to be inserted.\n     */\n    function insert(position, newText) {\n        return { range: { start: position, end: position }, newText: newText };\n    }\n    TextEdit.insert = insert;\n    /**\n     * Creates a delete text edit.\n     * @param range The range of text to be deleted.\n     */\n    function del(range) {\n        return { range: range, newText: '' };\n    }\n    TextEdit.del = del;\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate)\n            && Is.string(candidate.newText)\n            && Range.is(candidate.range);\n    }\n    TextEdit.is = is;\n})(TextEdit || (TextEdit = {}));\nexport var ChangeAnnotation;\n(function (ChangeAnnotation) {\n    function create(label, needsConfirmation, description) {\n        var result = { label: label };\n        if (needsConfirmation !== undefined) {\n            result.needsConfirmation = needsConfirmation;\n        }\n        if (description !== undefined) {\n            result.description = description;\n        }\n        return result;\n    }\n    ChangeAnnotation.create = create;\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Is.string(candidate.label) &&\n            (Is.boolean(candidate.needsConfirmation) || candidate.needsConfirmation === undefined) &&\n            (Is.string(candidate.description) || candidate.description === undefined);\n    }\n    ChangeAnnotation.is = is;\n})(ChangeAnnotation || (ChangeAnnotation = {}));\nexport var ChangeAnnotationIdentifier;\n(function (ChangeAnnotationIdentifier) {\n    function is(value) {\n        var candidate = value;\n        return Is.string(candidate);\n    }\n    ChangeAnnotationIdentifier.is = is;\n})(ChangeAnnotationIdentifier || (ChangeAnnotationIdentifier = {}));\nexport var AnnotatedTextEdit;\n(function (AnnotatedTextEdit) {\n    /**\n     * Creates an annotated replace text edit.\n     *\n     * @param range The range of text to be replaced.\n     * @param newText The new text.\n     * @param annotation The annotation.\n     */\n    function replace(range, newText, annotation) {\n        return { range: range, newText: newText, annotationId: annotation };\n    }\n    AnnotatedTextEdit.replace = replace;\n    /**\n     * Creates an annotated insert text edit.\n     *\n     * @param position The position to insert the text at.\n     * @param newText The text to be inserted.\n     * @param annotation The annotation.\n     */\n    function insert(position, newText, annotation) {\n        return { range: { start: position, end: position }, newText: newText, annotationId: annotation };\n    }\n    AnnotatedTextEdit.insert = insert;\n    /**\n     * Creates an annotated delete text edit.\n     *\n     * @param range The range of text to be deleted.\n     * @param annotation The annotation.\n     */\n    function del(range, annotation) {\n        return { range: range, newText: '', annotationId: annotation };\n    }\n    AnnotatedTextEdit.del = del;\n    function is(value) {\n        var candidate = value;\n        return TextEdit.is(candidate) && (ChangeAnnotation.is(candidate.annotationId) || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    AnnotatedTextEdit.is = is;\n})(AnnotatedTextEdit || (AnnotatedTextEdit = {}));\n/**\n * The TextDocumentEdit namespace provides helper function to create\n * an edit that manipulates a text document.\n */\nexport var TextDocumentEdit;\n(function (TextDocumentEdit) {\n    /**\n     * Creates a new `TextDocumentEdit`\n     */\n    function create(textDocument, edits) {\n        return { textDocument: textDocument, edits: edits };\n    }\n    TextDocumentEdit.create = create;\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate)\n            && OptionalVersionedTextDocumentIdentifier.is(candidate.textDocument)\n            && Array.isArray(candidate.edits);\n    }\n    TextDocumentEdit.is = is;\n})(TextDocumentEdit || (TextDocumentEdit = {}));\nexport var CreateFile;\n(function (CreateFile) {\n    function create(uri, options, annotation) {\n        var result = {\n            kind: 'create',\n            uri: uri\n        };\n        if (options !== undefined && (options.overwrite !== undefined || options.ignoreIfExists !== undefined)) {\n            result.options = options;\n        }\n        if (annotation !== undefined) {\n            result.annotationId = annotation;\n        }\n        return result;\n    }\n    CreateFile.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && candidate.kind === 'create' && Is.string(candidate.uri) && (candidate.options === undefined ||\n            ((candidate.options.overwrite === undefined || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === undefined || Is.boolean(candidate.options.ignoreIfExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    CreateFile.is = is;\n})(CreateFile || (CreateFile = {}));\nexport var RenameFile;\n(function (RenameFile) {\n    function create(oldUri, newUri, options, annotation) {\n        var result = {\n            kind: 'rename',\n            oldUri: oldUri,\n            newUri: newUri\n        };\n        if (options !== undefined && (options.overwrite !== undefined || options.ignoreIfExists !== undefined)) {\n            result.options = options;\n        }\n        if (annotation !== undefined) {\n            result.annotationId = annotation;\n        }\n        return result;\n    }\n    RenameFile.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && candidate.kind === 'rename' && Is.string(candidate.oldUri) && Is.string(candidate.newUri) && (candidate.options === undefined ||\n            ((candidate.options.overwrite === undefined || Is.boolean(candidate.options.overwrite)) && (candidate.options.ignoreIfExists === undefined || Is.boolean(candidate.options.ignoreIfExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    RenameFile.is = is;\n})(RenameFile || (RenameFile = {}));\nexport var DeleteFile;\n(function (DeleteFile) {\n    function create(uri, options, annotation) {\n        var result = {\n            kind: 'delete',\n            uri: uri\n        };\n        if (options !== undefined && (options.recursive !== undefined || options.ignoreIfNotExists !== undefined)) {\n            result.options = options;\n        }\n        if (annotation !== undefined) {\n            result.annotationId = annotation;\n        }\n        return result;\n    }\n    DeleteFile.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && candidate.kind === 'delete' && Is.string(candidate.uri) && (candidate.options === undefined ||\n            ((candidate.options.recursive === undefined || Is.boolean(candidate.options.recursive)) && (candidate.options.ignoreIfNotExists === undefined || Is.boolean(candidate.options.ignoreIfNotExists)))) && (candidate.annotationId === undefined || ChangeAnnotationIdentifier.is(candidate.annotationId));\n    }\n    DeleteFile.is = is;\n})(DeleteFile || (DeleteFile = {}));\nexport var WorkspaceEdit;\n(function (WorkspaceEdit) {\n    function is(value) {\n        var candidate = value;\n        return candidate &&\n            (candidate.changes !== undefined || candidate.documentChanges !== undefined) &&\n            (candidate.documentChanges === undefined || candidate.documentChanges.every(function (change) {\n                if (Is.string(change.kind)) {\n                    return CreateFile.is(change) || RenameFile.is(change) || DeleteFile.is(change);\n                }\n                else {\n                    return TextDocumentEdit.is(change);\n                }\n            }));\n    }\n    WorkspaceEdit.is = is;\n})(WorkspaceEdit || (WorkspaceEdit = {}));\nvar TextEditChangeImpl = /** @class */ (function () {\n    function TextEditChangeImpl(edits, changeAnnotations) {\n        this.edits = edits;\n        this.changeAnnotations = changeAnnotations;\n    }\n    TextEditChangeImpl.prototype.insert = function (position, newText, annotation) {\n        var edit;\n        var id;\n        if (annotation === undefined) {\n            edit = TextEdit.insert(position, newText);\n        }\n        else if (ChangeAnnotationIdentifier.is(annotation)) {\n            id = annotation;\n            edit = AnnotatedTextEdit.insert(position, newText, annotation);\n        }\n        else {\n            this.assertChangeAnnotations(this.changeAnnotations);\n            id = this.changeAnnotations.manage(annotation);\n            edit = AnnotatedTextEdit.insert(position, newText, id);\n        }\n        this.edits.push(edit);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    TextEditChangeImpl.prototype.replace = function (range, newText, annotation) {\n        var edit;\n        var id;\n        if (annotation === undefined) {\n            edit = TextEdit.replace(range, newText);\n        }\n        else if (ChangeAnnotationIdentifier.is(annotation)) {\n            id = annotation;\n            edit = AnnotatedTextEdit.replace(range, newText, annotation);\n        }\n        else {\n            this.assertChangeAnnotations(this.changeAnnotations);\n            id = this.changeAnnotations.manage(annotation);\n            edit = AnnotatedTextEdit.replace(range, newText, id);\n        }\n        this.edits.push(edit);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    TextEditChangeImpl.prototype.delete = function (range, annotation) {\n        var edit;\n        var id;\n        if (annotation === undefined) {\n            edit = TextEdit.del(range);\n        }\n        else if (ChangeAnnotationIdentifier.is(annotation)) {\n            id = annotation;\n            edit = AnnotatedTextEdit.del(range, annotation);\n        }\n        else {\n            this.assertChangeAnnotations(this.changeAnnotations);\n            id = this.changeAnnotations.manage(annotation);\n            edit = AnnotatedTextEdit.del(range, id);\n        }\n        this.edits.push(edit);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    TextEditChangeImpl.prototype.add = function (edit) {\n        this.edits.push(edit);\n    };\n    TextEditChangeImpl.prototype.all = function () {\n        return this.edits;\n    };\n    TextEditChangeImpl.prototype.clear = function () {\n        this.edits.splice(0, this.edits.length);\n    };\n    TextEditChangeImpl.prototype.assertChangeAnnotations = function (value) {\n        if (value === undefined) {\n            throw new Error(\"Text edit change is not configured to manage change annotations.\");\n        }\n    };\n    return TextEditChangeImpl;\n}());\n/**\n * A helper class\n */\nvar ChangeAnnotations = /** @class */ (function () {\n    function ChangeAnnotations(annotations) {\n        this._annotations = annotations === undefined ? Object.create(null) : annotations;\n        this._counter = 0;\n        this._size = 0;\n    }\n    ChangeAnnotations.prototype.all = function () {\n        return this._annotations;\n    };\n    Object.defineProperty(ChangeAnnotations.prototype, \"size\", {\n        get: function () {\n            return this._size;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    ChangeAnnotations.prototype.manage = function (idOrAnnotation, annotation) {\n        var id;\n        if (ChangeAnnotationIdentifier.is(idOrAnnotation)) {\n            id = idOrAnnotation;\n        }\n        else {\n            id = this.nextId();\n            annotation = idOrAnnotation;\n        }\n        if (this._annotations[id] !== undefined) {\n            throw new Error(\"Id \".concat(id, \" is already in use.\"));\n        }\n        if (annotation === undefined) {\n            throw new Error(\"No annotation provided for id \".concat(id));\n        }\n        this._annotations[id] = annotation;\n        this._size++;\n        return id;\n    };\n    ChangeAnnotations.prototype.nextId = function () {\n        this._counter++;\n        return this._counter.toString();\n    };\n    return ChangeAnnotations;\n}());\n/**\n * A workspace change helps constructing changes to a workspace.\n */\nvar WorkspaceChange = /** @class */ (function () {\n    function WorkspaceChange(workspaceEdit) {\n        var _this = this;\n        this._textEditChanges = Object.create(null);\n        if (workspaceEdit !== undefined) {\n            this._workspaceEdit = workspaceEdit;\n            if (workspaceEdit.documentChanges) {\n                this._changeAnnotations = new ChangeAnnotations(workspaceEdit.changeAnnotations);\n                workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n                workspaceEdit.documentChanges.forEach(function (change) {\n                    if (TextDocumentEdit.is(change)) {\n                        var textEditChange = new TextEditChangeImpl(change.edits, _this._changeAnnotations);\n                        _this._textEditChanges[change.textDocument.uri] = textEditChange;\n                    }\n                });\n            }\n            else if (workspaceEdit.changes) {\n                Object.keys(workspaceEdit.changes).forEach(function (key) {\n                    var textEditChange = new TextEditChangeImpl(workspaceEdit.changes[key]);\n                    _this._textEditChanges[key] = textEditChange;\n                });\n            }\n        }\n        else {\n            this._workspaceEdit = {};\n        }\n    }\n    Object.defineProperty(WorkspaceChange.prototype, \"edit\", {\n        /**\n         * Returns the underlying [WorkspaceEdit](#WorkspaceEdit) literal\n         * use to be returned from a workspace edit operation like rename.\n         */\n        get: function () {\n            this.initDocumentChanges();\n            if (this._changeAnnotations !== undefined) {\n                if (this._changeAnnotations.size === 0) {\n                    this._workspaceEdit.changeAnnotations = undefined;\n                }\n                else {\n                    this._workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n                }\n            }\n            return this._workspaceEdit;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    WorkspaceChange.prototype.getTextEditChange = function (key) {\n        if (OptionalVersionedTextDocumentIdentifier.is(key)) {\n            this.initDocumentChanges();\n            if (this._workspaceEdit.documentChanges === undefined) {\n                throw new Error('Workspace edit is not configured for document changes.');\n            }\n            var textDocument = { uri: key.uri, version: key.version };\n            var result = this._textEditChanges[textDocument.uri];\n            if (!result) {\n                var edits = [];\n                var textDocumentEdit = {\n                    textDocument: textDocument,\n                    edits: edits\n                };\n                this._workspaceEdit.documentChanges.push(textDocumentEdit);\n                result = new TextEditChangeImpl(edits, this._changeAnnotations);\n                this._textEditChanges[textDocument.uri] = result;\n            }\n            return result;\n        }\n        else {\n            this.initChanges();\n            if (this._workspaceEdit.changes === undefined) {\n                throw new Error('Workspace edit is not configured for normal text edit changes.');\n            }\n            var result = this._textEditChanges[key];\n            if (!result) {\n                var edits = [];\n                this._workspaceEdit.changes[key] = edits;\n                result = new TextEditChangeImpl(edits);\n                this._textEditChanges[key] = result;\n            }\n            return result;\n        }\n    };\n    WorkspaceChange.prototype.initDocumentChanges = function () {\n        if (this._workspaceEdit.documentChanges === undefined && this._workspaceEdit.changes === undefined) {\n            this._changeAnnotations = new ChangeAnnotations();\n            this._workspaceEdit.documentChanges = [];\n            this._workspaceEdit.changeAnnotations = this._changeAnnotations.all();\n        }\n    };\n    WorkspaceChange.prototype.initChanges = function () {\n        if (this._workspaceEdit.documentChanges === undefined && this._workspaceEdit.changes === undefined) {\n            this._workspaceEdit.changes = Object.create(null);\n        }\n    };\n    WorkspaceChange.prototype.createFile = function (uri, optionsOrAnnotation, options) {\n        this.initDocumentChanges();\n        if (this._workspaceEdit.documentChanges === undefined) {\n            throw new Error('Workspace edit is not configured for document changes.');\n        }\n        var annotation;\n        if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n            annotation = optionsOrAnnotation;\n        }\n        else {\n            options = optionsOrAnnotation;\n        }\n        var operation;\n        var id;\n        if (annotation === undefined) {\n            operation = CreateFile.create(uri, options);\n        }\n        else {\n            id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n            operation = CreateFile.create(uri, options, id);\n        }\n        this._workspaceEdit.documentChanges.push(operation);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    WorkspaceChange.prototype.renameFile = function (oldUri, newUri, optionsOrAnnotation, options) {\n        this.initDocumentChanges();\n        if (this._workspaceEdit.documentChanges === undefined) {\n            throw new Error('Workspace edit is not configured for document changes.');\n        }\n        var annotation;\n        if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n            annotation = optionsOrAnnotation;\n        }\n        else {\n            options = optionsOrAnnotation;\n        }\n        var operation;\n        var id;\n        if (annotation === undefined) {\n            operation = RenameFile.create(oldUri, newUri, options);\n        }\n        else {\n            id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n            operation = RenameFile.create(oldUri, newUri, options, id);\n        }\n        this._workspaceEdit.documentChanges.push(operation);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    WorkspaceChange.prototype.deleteFile = function (uri, optionsOrAnnotation, options) {\n        this.initDocumentChanges();\n        if (this._workspaceEdit.documentChanges === undefined) {\n            throw new Error('Workspace edit is not configured for document changes.');\n        }\n        var annotation;\n        if (ChangeAnnotation.is(optionsOrAnnotation) || ChangeAnnotationIdentifier.is(optionsOrAnnotation)) {\n            annotation = optionsOrAnnotation;\n        }\n        else {\n            options = optionsOrAnnotation;\n        }\n        var operation;\n        var id;\n        if (annotation === undefined) {\n            operation = DeleteFile.create(uri, options);\n        }\n        else {\n            id = ChangeAnnotationIdentifier.is(annotation) ? annotation : this._changeAnnotations.manage(annotation);\n            operation = DeleteFile.create(uri, options, id);\n        }\n        this._workspaceEdit.documentChanges.push(operation);\n        if (id !== undefined) {\n            return id;\n        }\n    };\n    return WorkspaceChange;\n}());\nexport { WorkspaceChange };\n/**\n * The TextDocumentIdentifier namespace provides helper functions to work with\n * [TextDocumentIdentifier](#TextDocumentIdentifier) literals.\n */\nexport var TextDocumentIdentifier;\n(function (TextDocumentIdentifier) {\n    /**\n     * Creates a new TextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     */\n    function create(uri) {\n        return { uri: uri };\n    }\n    TextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the [TextDocumentIdentifier](#TextDocumentIdentifier) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri);\n    }\n    TextDocumentIdentifier.is = is;\n})(TextDocumentIdentifier || (TextDocumentIdentifier = {}));\n/**\n * The VersionedTextDocumentIdentifier namespace provides helper functions to work with\n * [VersionedTextDocumentIdentifier](#VersionedTextDocumentIdentifier) literals.\n */\nexport var VersionedTextDocumentIdentifier;\n(function (VersionedTextDocumentIdentifier) {\n    /**\n     * Creates a new VersionedTextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     * @param version The document's version.\n     */\n    function create(uri, version) {\n        return { uri: uri, version: version };\n    }\n    VersionedTextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the [VersionedTextDocumentIdentifier](#VersionedTextDocumentIdentifier) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && Is.integer(candidate.version);\n    }\n    VersionedTextDocumentIdentifier.is = is;\n})(VersionedTextDocumentIdentifier || (VersionedTextDocumentIdentifier = {}));\n/**\n * The OptionalVersionedTextDocumentIdentifier namespace provides helper functions to work with\n * [OptionalVersionedTextDocumentIdentifier](#OptionalVersionedTextDocumentIdentifier) literals.\n */\nexport var OptionalVersionedTextDocumentIdentifier;\n(function (OptionalVersionedTextDocumentIdentifier) {\n    /**\n     * Creates a new OptionalVersionedTextDocumentIdentifier literal.\n     * @param uri The document's uri.\n     * @param version The document's version.\n     */\n    function create(uri, version) {\n        return { uri: uri, version: version };\n    }\n    OptionalVersionedTextDocumentIdentifier.create = create;\n    /**\n     * Checks whether the given literal conforms to the [OptionalVersionedTextDocumentIdentifier](#OptionalVersionedTextDocumentIdentifier) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && (candidate.version === null || Is.integer(candidate.version));\n    }\n    OptionalVersionedTextDocumentIdentifier.is = is;\n})(OptionalVersionedTextDocumentIdentifier || (OptionalVersionedTextDocumentIdentifier = {}));\n/**\n * The TextDocumentItem namespace provides helper functions to work with\n * [TextDocumentItem](#TextDocumentItem) literals.\n */\nexport var TextDocumentItem;\n(function (TextDocumentItem) {\n    /**\n     * Creates a new TextDocumentItem literal.\n     * @param uri The document's uri.\n     * @param languageId The document's language identifier.\n     * @param version The document's version number.\n     * @param text The document's text.\n     */\n    function create(uri, languageId, version, text) {\n        return { uri: uri, languageId: languageId, version: version, text: text };\n    }\n    TextDocumentItem.create = create;\n    /**\n     * Checks whether the given literal conforms to the [TextDocumentItem](#TextDocumentItem) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && Is.string(candidate.languageId) && Is.integer(candidate.version) && Is.string(candidate.text);\n    }\n    TextDocumentItem.is = is;\n})(TextDocumentItem || (TextDocumentItem = {}));\n/**\n * Describes the content type that a client supports in various\n * result literals like `Hover`, `ParameterInfo` or `CompletionItem`.\n *\n * Please note that `MarkupKinds` must not start with a `$`. This kinds\n * are reserved for internal usage.\n */\nexport var MarkupKind;\n(function (MarkupKind) {\n    /**\n     * Plain text is supported as a content format\n     */\n    MarkupKind.PlainText = 'plaintext';\n    /**\n     * Markdown is supported as a content format\n     */\n    MarkupKind.Markdown = 'markdown';\n    /**\n     * Checks whether the given value is a value of the [MarkupKind](#MarkupKind) type.\n     */\n    function is(value) {\n        var candidate = value;\n        return candidate === MarkupKind.PlainText || candidate === MarkupKind.Markdown;\n    }\n    MarkupKind.is = is;\n})(MarkupKind || (MarkupKind = {}));\nexport var MarkupContent;\n(function (MarkupContent) {\n    /**\n     * Checks whether the given value conforms to the [MarkupContent](#MarkupContent) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(value) && MarkupKind.is(candidate.kind) && Is.string(candidate.value);\n    }\n    MarkupContent.is = is;\n})(MarkupContent || (MarkupContent = {}));\n/**\n * The kind of a completion entry.\n */\nexport var CompletionItemKind;\n(function (CompletionItemKind) {\n    CompletionItemKind.Text = 1;\n    CompletionItemKind.Method = 2;\n    CompletionItemKind.Function = 3;\n    CompletionItemKind.Constructor = 4;\n    CompletionItemKind.Field = 5;\n    CompletionItemKind.Variable = 6;\n    CompletionItemKind.Class = 7;\n    CompletionItemKind.Interface = 8;\n    CompletionItemKind.Module = 9;\n    CompletionItemKind.Property = 10;\n    CompletionItemKind.Unit = 11;\n    CompletionItemKind.Value = 12;\n    CompletionItemKind.Enum = 13;\n    CompletionItemKind.Keyword = 14;\n    CompletionItemKind.Snippet = 15;\n    CompletionItemKind.Color = 16;\n    CompletionItemKind.File = 17;\n    CompletionItemKind.Reference = 18;\n    CompletionItemKind.Folder = 19;\n    CompletionItemKind.EnumMember = 20;\n    CompletionItemKind.Constant = 21;\n    CompletionItemKind.Struct = 22;\n    CompletionItemKind.Event = 23;\n    CompletionItemKind.Operator = 24;\n    CompletionItemKind.TypeParameter = 25;\n})(CompletionItemKind || (CompletionItemKind = {}));\n/**\n * Defines whether the insert text in a completion item should be interpreted as\n * plain text or a snippet.\n */\nexport var InsertTextFormat;\n(function (InsertTextFormat) {\n    /**\n     * The primary text to be inserted is treated as a plain string.\n     */\n    InsertTextFormat.PlainText = 1;\n    /**\n     * The primary text to be inserted is treated as a snippet.\n     *\n     * A snippet can define tab stops and placeholders with `$1`, `$2`\n     * and `${3:foo}`. `$0` defines the final tab stop, it defaults to\n     * the end of the snippet. Placeholders with equal identifiers are linked,\n     * that is typing in one will update others too.\n     *\n     * See also: https://microsoft.github.io/language-server-protocol/specifications/specification-current/#snippet_syntax\n     */\n    InsertTextFormat.Snippet = 2;\n})(InsertTextFormat || (InsertTextFormat = {}));\n/**\n * Completion item tags are extra annotations that tweak the rendering of a completion\n * item.\n *\n * @since 3.15.0\n */\nexport var CompletionItemTag;\n(function (CompletionItemTag) {\n    /**\n     * Render a completion as obsolete, usually using a strike-out.\n     */\n    CompletionItemTag.Deprecated = 1;\n})(CompletionItemTag || (CompletionItemTag = {}));\n/**\n * The InsertReplaceEdit namespace provides functions to deal with insert / replace edits.\n *\n * @since 3.16.0\n */\nexport var InsertReplaceEdit;\n(function (InsertReplaceEdit) {\n    /**\n     * Creates a new insert / replace edit\n     */\n    function create(newText, insert, replace) {\n        return { newText: newText, insert: insert, replace: replace };\n    }\n    InsertReplaceEdit.create = create;\n    /**\n     * Checks whether the given literal conforms to the [InsertReplaceEdit](#InsertReplaceEdit) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return candidate && Is.string(candidate.newText) && Range.is(candidate.insert) && Range.is(candidate.replace);\n    }\n    InsertReplaceEdit.is = is;\n})(InsertReplaceEdit || (InsertReplaceEdit = {}));\n/**\n * How whitespace and indentation is handled during completion\n * item insertion.\n *\n * @since 3.16.0\n */\nexport var InsertTextMode;\n(function (InsertTextMode) {\n    /**\n     * The insertion or replace strings is taken as it is. If the\n     * value is multi line the lines below the cursor will be\n     * inserted using the indentation defined in the string value.\n     * The client will not apply any kind of adjustments to the\n     * string.\n     */\n    InsertTextMode.asIs = 1;\n    /**\n     * The editor adjusts leading whitespace of new lines so that\n     * they match the indentation up to the cursor of the line for\n     * which the item is accepted.\n     *\n     * Consider a line like this: <2tabs><cursor><3tabs>foo. Accepting a\n     * multi line completion item is indented using 2 tabs and all\n     * following lines inserted will be indented using 2 tabs as well.\n     */\n    InsertTextMode.adjustIndentation = 2;\n})(InsertTextMode || (InsertTextMode = {}));\nexport var CompletionItemLabelDetails;\n(function (CompletionItemLabelDetails) {\n    function is(value) {\n        var candidate = value;\n        return candidate && (Is.string(candidate.detail) || candidate.detail === undefined) &&\n            (Is.string(candidate.description) || candidate.description === undefined);\n    }\n    CompletionItemLabelDetails.is = is;\n})(CompletionItemLabelDetails || (CompletionItemLabelDetails = {}));\n/**\n * The CompletionItem namespace provides functions to deal with\n * completion items.\n */\nexport var CompletionItem;\n(function (CompletionItem) {\n    /**\n     * Create a completion item and seed it with a label.\n     * @param label The completion item's label\n     */\n    function create(label) {\n        return { label: label };\n    }\n    CompletionItem.create = create;\n})(CompletionItem || (CompletionItem = {}));\n/**\n * The CompletionList namespace provides functions to deal with\n * completion lists.\n */\nexport var CompletionList;\n(function (CompletionList) {\n    /**\n     * Creates a new completion list.\n     *\n     * @param items The completion items.\n     * @param isIncomplete The list is not complete.\n     */\n    function create(items, isIncomplete) {\n        return { items: items ? items : [], isIncomplete: !!isIncomplete };\n    }\n    CompletionList.create = create;\n})(CompletionList || (CompletionList = {}));\nexport var MarkedString;\n(function (MarkedString) {\n    /**\n     * Creates a marked string from plain text.\n     *\n     * @param plainText The plain text.\n     */\n    function fromPlainText(plainText) {\n        return plainText.replace(/[\\\\`*_{}[\\]()#+\\-.!]/g, '\\\\$&'); // escape markdown syntax tokens: http://daringfireball.net/projects/markdown/syntax#backslash\n    }\n    MarkedString.fromPlainText = fromPlainText;\n    /**\n     * Checks whether the given value conforms to the [MarkedString](#MarkedString) type.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.string(candidate) || (Is.objectLiteral(candidate) && Is.string(candidate.language) && Is.string(candidate.value));\n    }\n    MarkedString.is = is;\n})(MarkedString || (MarkedString = {}));\nexport var Hover;\n(function (Hover) {\n    /**\n     * Checks whether the given value conforms to the [Hover](#Hover) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return !!candidate && Is.objectLiteral(candidate) && (MarkupContent.is(candidate.contents) ||\n            MarkedString.is(candidate.contents) ||\n            Is.typedArray(candidate.contents, MarkedString.is)) && (value.range === undefined || Range.is(value.range));\n    }\n    Hover.is = is;\n})(Hover || (Hover = {}));\n/**\n * The ParameterInformation namespace provides helper functions to work with\n * [ParameterInformation](#ParameterInformation) literals.\n */\nexport var ParameterInformation;\n(function (ParameterInformation) {\n    /**\n     * Creates a new parameter information literal.\n     *\n     * @param label A label string.\n     * @param documentation A doc string.\n     */\n    function create(label, documentation) {\n        return documentation ? { label: label, documentation: documentation } : { label: label };\n    }\n    ParameterInformation.create = create;\n})(ParameterInformation || (ParameterInformation = {}));\n/**\n * The SignatureInformation namespace provides helper functions to work with\n * [SignatureInformation](#SignatureInformation) literals.\n */\nexport var SignatureInformation;\n(function (SignatureInformation) {\n    function create(label, documentation) {\n        var parameters = [];\n        for (var _i = 2; _i < arguments.length; _i++) {\n            parameters[_i - 2] = arguments[_i];\n        }\n        var result = { label: label };\n        if (Is.defined(documentation)) {\n            result.documentation = documentation;\n        }\n        if (Is.defined(parameters)) {\n            result.parameters = parameters;\n        }\n        else {\n            result.parameters = [];\n        }\n        return result;\n    }\n    SignatureInformation.create = create;\n})(SignatureInformation || (SignatureInformation = {}));\n/**\n * A document highlight kind.\n */\nexport var DocumentHighlightKind;\n(function (DocumentHighlightKind) {\n    /**\n     * A textual occurrence.\n     */\n    DocumentHighlightKind.Text = 1;\n    /**\n     * Read-access of a symbol, like reading a variable.\n     */\n    DocumentHighlightKind.Read = 2;\n    /**\n     * Write-access of a symbol, like writing to a variable.\n     */\n    DocumentHighlightKind.Write = 3;\n})(DocumentHighlightKind || (DocumentHighlightKind = {}));\n/**\n * DocumentHighlight namespace to provide helper functions to work with\n * [DocumentHighlight](#DocumentHighlight) literals.\n */\nexport var DocumentHighlight;\n(function (DocumentHighlight) {\n    /**\n     * Create a DocumentHighlight object.\n     * @param range The range the highlight applies to.\n     * @param kind The highlight kind\n     */\n    function create(range, kind) {\n        var result = { range: range };\n        if (Is.number(kind)) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    DocumentHighlight.create = create;\n})(DocumentHighlight || (DocumentHighlight = {}));\n/**\n * A symbol kind.\n */\nexport var SymbolKind;\n(function (SymbolKind) {\n    SymbolKind.File = 1;\n    SymbolKind.Module = 2;\n    SymbolKind.Namespace = 3;\n    SymbolKind.Package = 4;\n    SymbolKind.Class = 5;\n    SymbolKind.Method = 6;\n    SymbolKind.Property = 7;\n    SymbolKind.Field = 8;\n    SymbolKind.Constructor = 9;\n    SymbolKind.Enum = 10;\n    SymbolKind.Interface = 11;\n    SymbolKind.Function = 12;\n    SymbolKind.Variable = 13;\n    SymbolKind.Constant = 14;\n    SymbolKind.String = 15;\n    SymbolKind.Number = 16;\n    SymbolKind.Boolean = 17;\n    SymbolKind.Array = 18;\n    SymbolKind.Object = 19;\n    SymbolKind.Key = 20;\n    SymbolKind.Null = 21;\n    SymbolKind.EnumMember = 22;\n    SymbolKind.Struct = 23;\n    SymbolKind.Event = 24;\n    SymbolKind.Operator = 25;\n    SymbolKind.TypeParameter = 26;\n})(SymbolKind || (SymbolKind = {}));\n/**\n * Symbol tags are extra annotations that tweak the rendering of a symbol.\n *\n * @since 3.16\n */\nexport var SymbolTag;\n(function (SymbolTag) {\n    /**\n     * Render a symbol as obsolete, usually using a strike-out.\n     */\n    SymbolTag.Deprecated = 1;\n})(SymbolTag || (SymbolTag = {}));\nexport var SymbolInformation;\n(function (SymbolInformation) {\n    /**\n     * Creates a new symbol information literal.\n     *\n     * @param name The name of the symbol.\n     * @param kind The kind of the symbol.\n     * @param range The range of the location of the symbol.\n     * @param uri The resource of the location of symbol.\n     * @param containerName The name of the symbol containing the symbol.\n     */\n    function create(name, kind, range, uri, containerName) {\n        var result = {\n            name: name,\n            kind: kind,\n            location: { uri: uri, range: range }\n        };\n        if (containerName) {\n            result.containerName = containerName;\n        }\n        return result;\n    }\n    SymbolInformation.create = create;\n})(SymbolInformation || (SymbolInformation = {}));\nexport var WorkspaceSymbol;\n(function (WorkspaceSymbol) {\n    /**\n     * Create a new workspace symbol.\n     *\n     * @param name The name of the symbol.\n     * @param kind The kind of the symbol.\n     * @param uri The resource of the location of the symbol.\n     * @param range An options range of the location.\n     * @returns A WorkspaceSymbol.\n     */\n    function create(name, kind, uri, range) {\n        return range !== undefined\n            ? { name: name, kind: kind, location: { uri: uri, range: range } }\n            : { name: name, kind: kind, location: { uri: uri } };\n    }\n    WorkspaceSymbol.create = create;\n})(WorkspaceSymbol || (WorkspaceSymbol = {}));\nexport var DocumentSymbol;\n(function (DocumentSymbol) {\n    /**\n     * Creates a new symbol information literal.\n     *\n     * @param name The name of the symbol.\n     * @param detail The detail of the symbol.\n     * @param kind The kind of the symbol.\n     * @param range The range of the symbol.\n     * @param selectionRange The selectionRange of the symbol.\n     * @param children Children of the symbol.\n     */\n    function create(name, detail, kind, range, selectionRange, children) {\n        var result = {\n            name: name,\n            detail: detail,\n            kind: kind,\n            range: range,\n            selectionRange: selectionRange\n        };\n        if (children !== undefined) {\n            result.children = children;\n        }\n        return result;\n    }\n    DocumentSymbol.create = create;\n    /**\n     * Checks whether the given literal conforms to the [DocumentSymbol](#DocumentSymbol) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return candidate &&\n            Is.string(candidate.name) && Is.number(candidate.kind) &&\n            Range.is(candidate.range) && Range.is(candidate.selectionRange) &&\n            (candidate.detail === undefined || Is.string(candidate.detail)) &&\n            (candidate.deprecated === undefined || Is.boolean(candidate.deprecated)) &&\n            (candidate.children === undefined || Array.isArray(candidate.children)) &&\n            (candidate.tags === undefined || Array.isArray(candidate.tags));\n    }\n    DocumentSymbol.is = is;\n})(DocumentSymbol || (DocumentSymbol = {}));\n/**\n * A set of predefined code action kinds\n */\nexport var CodeActionKind;\n(function (CodeActionKind) {\n    /**\n     * Empty kind.\n     */\n    CodeActionKind.Empty = '';\n    /**\n     * Base kind for quickfix actions: 'quickfix'\n     */\n    CodeActionKind.QuickFix = 'quickfix';\n    /**\n     * Base kind for refactoring actions: 'refactor'\n     */\n    CodeActionKind.Refactor = 'refactor';\n    /**\n     * Base kind for refactoring extraction actions: 'refactor.extract'\n     *\n     * Example extract actions:\n     *\n     * - Extract method\n     * - Extract function\n     * - Extract variable\n     * - Extract interface from class\n     * - ...\n     */\n    CodeActionKind.RefactorExtract = 'refactor.extract';\n    /**\n     * Base kind for refactoring inline actions: 'refactor.inline'\n     *\n     * Example inline actions:\n     *\n     * - Inline function\n     * - Inline variable\n     * - Inline constant\n     * - ...\n     */\n    CodeActionKind.RefactorInline = 'refactor.inline';\n    /**\n     * Base kind for refactoring rewrite actions: 'refactor.rewrite'\n     *\n     * Example rewrite actions:\n     *\n     * - Convert JavaScript function to class\n     * - Add or remove parameter\n     * - Encapsulate field\n     * - Make method static\n     * - Move method to base class\n     * - ...\n     */\n    CodeActionKind.RefactorRewrite = 'refactor.rewrite';\n    /**\n     * Base kind for source actions: `source`\n     *\n     * Source code actions apply to the entire file.\n     */\n    CodeActionKind.Source = 'source';\n    /**\n     * Base kind for an organize imports source action: `source.organizeImports`\n     */\n    CodeActionKind.SourceOrganizeImports = 'source.organizeImports';\n    /**\n     * Base kind for auto-fix source actions: `source.fixAll`.\n     *\n     * Fix all actions automatically fix errors that have a clear fix that do not require user input.\n     * They should not suppress errors or perform unsafe fixes such as generating new types or classes.\n     *\n     * @since 3.15.0\n     */\n    CodeActionKind.SourceFixAll = 'source.fixAll';\n})(CodeActionKind || (CodeActionKind = {}));\n/**\n * The reason why code actions were requested.\n *\n * @since 3.17.0\n */\nexport var CodeActionTriggerKind;\n(function (CodeActionTriggerKind) {\n    /**\n     * Code actions were explicitly requested by the user or by an extension.\n     */\n    CodeActionTriggerKind.Invoked = 1;\n    /**\n     * Code actions were requested automatically.\n     *\n     * This typically happens when current selection in a file changes, but can\n     * also be triggered when file content changes.\n     */\n    CodeActionTriggerKind.Automatic = 2;\n})(CodeActionTriggerKind || (CodeActionTriggerKind = {}));\n/**\n * The CodeActionContext namespace provides helper functions to work with\n * [CodeActionContext](#CodeActionContext) literals.\n */\nexport var CodeActionContext;\n(function (CodeActionContext) {\n    /**\n     * Creates a new CodeActionContext literal.\n     */\n    function create(diagnostics, only, triggerKind) {\n        var result = { diagnostics: diagnostics };\n        if (only !== undefined && only !== null) {\n            result.only = only;\n        }\n        if (triggerKind !== undefined && triggerKind !== null) {\n            result.triggerKind = triggerKind;\n        }\n        return result;\n    }\n    CodeActionContext.create = create;\n    /**\n     * Checks whether the given literal conforms to the [CodeActionContext](#CodeActionContext) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.typedArray(candidate.diagnostics, Diagnostic.is)\n            && (candidate.only === undefined || Is.typedArray(candidate.only, Is.string))\n            && (candidate.triggerKind === undefined || candidate.triggerKind === CodeActionTriggerKind.Invoked || candidate.triggerKind === CodeActionTriggerKind.Automatic);\n    }\n    CodeActionContext.is = is;\n})(CodeActionContext || (CodeActionContext = {}));\nexport var CodeAction;\n(function (CodeAction) {\n    function create(title, kindOrCommandOrEdit, kind) {\n        var result = { title: title };\n        var checkKind = true;\n        if (typeof kindOrCommandOrEdit === 'string') {\n            checkKind = false;\n            result.kind = kindOrCommandOrEdit;\n        }\n        else if (Command.is(kindOrCommandOrEdit)) {\n            result.command = kindOrCommandOrEdit;\n        }\n        else {\n            result.edit = kindOrCommandOrEdit;\n        }\n        if (checkKind && kind !== undefined) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    CodeAction.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate && Is.string(candidate.title) &&\n            (candidate.diagnostics === undefined || Is.typedArray(candidate.diagnostics, Diagnostic.is)) &&\n            (candidate.kind === undefined || Is.string(candidate.kind)) &&\n            (candidate.edit !== undefined || candidate.command !== undefined) &&\n            (candidate.command === undefined || Command.is(candidate.command)) &&\n            (candidate.isPreferred === undefined || Is.boolean(candidate.isPreferred)) &&\n            (candidate.edit === undefined || WorkspaceEdit.is(candidate.edit));\n    }\n    CodeAction.is = is;\n})(CodeAction || (CodeAction = {}));\n/**\n * The CodeLens namespace provides helper functions to work with\n * [CodeLens](#CodeLens) literals.\n */\nexport var CodeLens;\n(function (CodeLens) {\n    /**\n     * Creates a new CodeLens literal.\n     */\n    function create(range, data) {\n        var result = { range: range };\n        if (Is.defined(data)) {\n            result.data = data;\n        }\n        return result;\n    }\n    CodeLens.create = create;\n    /**\n     * Checks whether the given literal conforms to the [CodeLens](#CodeLens) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.command) || Command.is(candidate.command));\n    }\n    CodeLens.is = is;\n})(CodeLens || (CodeLens = {}));\n/**\n * The FormattingOptions namespace provides helper functions to work with\n * [FormattingOptions](#FormattingOptions) literals.\n */\nexport var FormattingOptions;\n(function (FormattingOptions) {\n    /**\n     * Creates a new FormattingOptions literal.\n     */\n    function create(tabSize, insertSpaces) {\n        return { tabSize: tabSize, insertSpaces: insertSpaces };\n    }\n    FormattingOptions.create = create;\n    /**\n     * Checks whether the given literal conforms to the [FormattingOptions](#FormattingOptions) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.uinteger(candidate.tabSize) && Is.boolean(candidate.insertSpaces);\n    }\n    FormattingOptions.is = is;\n})(FormattingOptions || (FormattingOptions = {}));\n/**\n * The DocumentLink namespace provides helper functions to work with\n * [DocumentLink](#DocumentLink) literals.\n */\nexport var DocumentLink;\n(function (DocumentLink) {\n    /**\n     * Creates a new DocumentLink literal.\n     */\n    function create(range, target, data) {\n        return { range: range, target: target, data: data };\n    }\n    DocumentLink.create = create;\n    /**\n     * Checks whether the given literal conforms to the [DocumentLink](#DocumentLink) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(candidate.range) && (Is.undefined(candidate.target) || Is.string(candidate.target));\n    }\n    DocumentLink.is = is;\n})(DocumentLink || (DocumentLink = {}));\n/**\n * The SelectionRange namespace provides helper function to work with\n * SelectionRange literals.\n */\nexport var SelectionRange;\n(function (SelectionRange) {\n    /**\n     * Creates a new SelectionRange\n     * @param range the range.\n     * @param parent an optional parent.\n     */\n    function create(range, parent) {\n        return { range: range, parent: parent };\n    }\n    SelectionRange.create = create;\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Range.is(candidate.range) && (candidate.parent === undefined || SelectionRange.is(candidate.parent));\n    }\n    SelectionRange.is = is;\n})(SelectionRange || (SelectionRange = {}));\n/**\n * A set of predefined token types. This set is not fixed\n * an clients can specify additional token types via the\n * corresponding client capabilities.\n *\n * @since 3.16.0\n */\nexport var SemanticTokenTypes;\n(function (SemanticTokenTypes) {\n    SemanticTokenTypes[\"namespace\"] = \"namespace\";\n    /**\n     * Represents a generic type. Acts as a fallback for types which can't be mapped to\n     * a specific type like class or enum.\n     */\n    SemanticTokenTypes[\"type\"] = \"type\";\n    SemanticTokenTypes[\"class\"] = \"class\";\n    SemanticTokenTypes[\"enum\"] = \"enum\";\n    SemanticTokenTypes[\"interface\"] = \"interface\";\n    SemanticTokenTypes[\"struct\"] = \"struct\";\n    SemanticTokenTypes[\"typeParameter\"] = \"typeParameter\";\n    SemanticTokenTypes[\"parameter\"] = \"parameter\";\n    SemanticTokenTypes[\"variable\"] = \"variable\";\n    SemanticTokenTypes[\"property\"] = \"property\";\n    SemanticTokenTypes[\"enumMember\"] = \"enumMember\";\n    SemanticTokenTypes[\"event\"] = \"event\";\n    SemanticTokenTypes[\"function\"] = \"function\";\n    SemanticTokenTypes[\"method\"] = \"method\";\n    SemanticTokenTypes[\"macro\"] = \"macro\";\n    SemanticTokenTypes[\"keyword\"] = \"keyword\";\n    SemanticTokenTypes[\"modifier\"] = \"modifier\";\n    SemanticTokenTypes[\"comment\"] = \"comment\";\n    SemanticTokenTypes[\"string\"] = \"string\";\n    SemanticTokenTypes[\"number\"] = \"number\";\n    SemanticTokenTypes[\"regexp\"] = \"regexp\";\n    SemanticTokenTypes[\"operator\"] = \"operator\";\n    /**\n     * @since 3.17.0\n     */\n    SemanticTokenTypes[\"decorator\"] = \"decorator\";\n})(SemanticTokenTypes || (SemanticTokenTypes = {}));\n/**\n * A set of predefined token modifiers. This set is not fixed\n * an clients can specify additional token types via the\n * corresponding client capabilities.\n *\n * @since 3.16.0\n */\nexport var SemanticTokenModifiers;\n(function (SemanticTokenModifiers) {\n    SemanticTokenModifiers[\"declaration\"] = \"declaration\";\n    SemanticTokenModifiers[\"definition\"] = \"definition\";\n    SemanticTokenModifiers[\"readonly\"] = \"readonly\";\n    SemanticTokenModifiers[\"static\"] = \"static\";\n    SemanticTokenModifiers[\"deprecated\"] = \"deprecated\";\n    SemanticTokenModifiers[\"abstract\"] = \"abstract\";\n    SemanticTokenModifiers[\"async\"] = \"async\";\n    SemanticTokenModifiers[\"modification\"] = \"modification\";\n    SemanticTokenModifiers[\"documentation\"] = \"documentation\";\n    SemanticTokenModifiers[\"defaultLibrary\"] = \"defaultLibrary\";\n})(SemanticTokenModifiers || (SemanticTokenModifiers = {}));\n/**\n * @since 3.16.0\n */\nexport var SemanticTokens;\n(function (SemanticTokens) {\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && (candidate.resultId === undefined || typeof candidate.resultId === 'string') &&\n            Array.isArray(candidate.data) && (candidate.data.length === 0 || typeof candidate.data[0] === 'number');\n    }\n    SemanticTokens.is = is;\n})(SemanticTokens || (SemanticTokens = {}));\n/**\n * The InlineValueText namespace provides functions to deal with InlineValueTexts.\n *\n * @since 3.17.0\n */\nexport var InlineValueText;\n(function (InlineValueText) {\n    /**\n     * Creates a new InlineValueText literal.\n     */\n    function create(range, text) {\n        return { range: range, text: text };\n    }\n    InlineValueText.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate !== undefined && candidate !== null && Range.is(candidate.range) && Is.string(candidate.text);\n    }\n    InlineValueText.is = is;\n})(InlineValueText || (InlineValueText = {}));\n/**\n * The InlineValueVariableLookup namespace provides functions to deal with InlineValueVariableLookups.\n *\n * @since 3.17.0\n */\nexport var InlineValueVariableLookup;\n(function (InlineValueVariableLookup) {\n    /**\n     * Creates a new InlineValueText literal.\n     */\n    function create(range, variableName, caseSensitiveLookup) {\n        return { range: range, variableName: variableName, caseSensitiveLookup: caseSensitiveLookup };\n    }\n    InlineValueVariableLookup.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate !== undefined && candidate !== null && Range.is(candidate.range) && Is.boolean(candidate.caseSensitiveLookup)\n            && (Is.string(candidate.variableName) || candidate.variableName === undefined);\n    }\n    InlineValueVariableLookup.is = is;\n})(InlineValueVariableLookup || (InlineValueVariableLookup = {}));\n/**\n * The InlineValueEvaluatableExpression namespace provides functions to deal with InlineValueEvaluatableExpression.\n *\n * @since 3.17.0\n */\nexport var InlineValueEvaluatableExpression;\n(function (InlineValueEvaluatableExpression) {\n    /**\n     * Creates a new InlineValueEvaluatableExpression literal.\n     */\n    function create(range, expression) {\n        return { range: range, expression: expression };\n    }\n    InlineValueEvaluatableExpression.create = create;\n    function is(value) {\n        var candidate = value;\n        return candidate !== undefined && candidate !== null && Range.is(candidate.range)\n            && (Is.string(candidate.expression) || candidate.expression === undefined);\n    }\n    InlineValueEvaluatableExpression.is = is;\n})(InlineValueEvaluatableExpression || (InlineValueEvaluatableExpression = {}));\n/**\n * The InlineValueContext namespace provides helper functions to work with\n * [InlineValueContext](#InlineValueContext) literals.\n *\n * @since 3.17.0\n */\nexport var InlineValueContext;\n(function (InlineValueContext) {\n    /**\n     * Creates a new InlineValueContext literal.\n     */\n    function create(frameId, stoppedLocation) {\n        return { frameId: frameId, stoppedLocation: stoppedLocation };\n    }\n    InlineValueContext.create = create;\n    /**\n     * Checks whether the given literal conforms to the [InlineValueContext](#InlineValueContext) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Range.is(value.stoppedLocation);\n    }\n    InlineValueContext.is = is;\n})(InlineValueContext || (InlineValueContext = {}));\n/**\n * Inlay hint kinds.\n *\n * @since 3.17.0\n */\nexport var InlayHintKind;\n(function (InlayHintKind) {\n    /**\n     * An inlay hint that for a type annotation.\n     */\n    InlayHintKind.Type = 1;\n    /**\n     * An inlay hint that is for a parameter.\n     */\n    InlayHintKind.Parameter = 2;\n    function is(value) {\n        return value === 1 || value === 2;\n    }\n    InlayHintKind.is = is;\n})(InlayHintKind || (InlayHintKind = {}));\nexport var InlayHintLabelPart;\n(function (InlayHintLabelPart) {\n    function create(value) {\n        return { value: value };\n    }\n    InlayHintLabelPart.create = create;\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate)\n            && (candidate.tooltip === undefined || Is.string(candidate.tooltip) || MarkupContent.is(candidate.tooltip))\n            && (candidate.location === undefined || Location.is(candidate.location))\n            && (candidate.command === undefined || Command.is(candidate.command));\n    }\n    InlayHintLabelPart.is = is;\n})(InlayHintLabelPart || (InlayHintLabelPart = {}));\nexport var InlayHint;\n(function (InlayHint) {\n    function create(position, label, kind) {\n        var result = { position: position, label: label };\n        if (kind !== undefined) {\n            result.kind = kind;\n        }\n        return result;\n    }\n    InlayHint.create = create;\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && Position.is(candidate.position)\n            && (Is.string(candidate.label) || Is.typedArray(candidate.label, InlayHintLabelPart.is))\n            && (candidate.kind === undefined || InlayHintKind.is(candidate.kind))\n            && (candidate.textEdits === undefined) || Is.typedArray(candidate.textEdits, TextEdit.is)\n            && (candidate.tooltip === undefined || Is.string(candidate.tooltip) || MarkupContent.is(candidate.tooltip))\n            && (candidate.paddingLeft === undefined || Is.boolean(candidate.paddingLeft))\n            && (candidate.paddingRight === undefined || Is.boolean(candidate.paddingRight));\n    }\n    InlayHint.is = is;\n})(InlayHint || (InlayHint = {}));\nexport var WorkspaceFolder;\n(function (WorkspaceFolder) {\n    function is(value) {\n        var candidate = value;\n        return Is.objectLiteral(candidate) && URI.is(candidate.uri) && Is.string(candidate.name);\n    }\n    WorkspaceFolder.is = is;\n})(WorkspaceFolder || (WorkspaceFolder = {}));\nexport var EOL = ['\\n', '\\r\\n', '\\r'];\n/**\n * @deprecated Use the text document from the new vscode-languageserver-textdocument package.\n */\nexport var TextDocument;\n(function (TextDocument) {\n    /**\n     * Creates a new ITextDocument literal from the given uri and content.\n     * @param uri The document's uri.\n     * @param languageId The document's language Id.\n     * @param version The document's version.\n     * @param content The document's content.\n     */\n    function create(uri, languageId, version, content) {\n        return new FullTextDocument(uri, languageId, version, content);\n    }\n    TextDocument.create = create;\n    /**\n     * Checks whether the given literal conforms to the [ITextDocument](#ITextDocument) interface.\n     */\n    function is(value) {\n        var candidate = value;\n        return Is.defined(candidate) && Is.string(candidate.uri) && (Is.undefined(candidate.languageId) || Is.string(candidate.languageId)) && Is.uinteger(candidate.lineCount)\n            && Is.func(candidate.getText) && Is.func(candidate.positionAt) && Is.func(candidate.offsetAt) ? true : false;\n    }\n    TextDocument.is = is;\n    function applyEdits(document, edits) {\n        var text = document.getText();\n        var sortedEdits = mergeSort(edits, function (a, b) {\n            var diff = a.range.start.line - b.range.start.line;\n            if (diff === 0) {\n                return a.range.start.character - b.range.start.character;\n            }\n            return diff;\n        });\n        var lastModifiedOffset = text.length;\n        for (var i = sortedEdits.length - 1; i >= 0; i--) {\n            var e = sortedEdits[i];\n            var startOffset = document.offsetAt(e.range.start);\n            var endOffset = document.offsetAt(e.range.end);\n            if (endOffset <= lastModifiedOffset) {\n                text = text.substring(0, startOffset) + e.newText + text.substring(endOffset, text.length);\n            }\n            else {\n                throw new Error('Overlapping edit');\n            }\n            lastModifiedOffset = startOffset;\n        }\n        return text;\n    }\n    TextDocument.applyEdits = applyEdits;\n    function mergeSort(data, compare) {\n        if (data.length <= 1) {\n            // sorted\n            return data;\n        }\n        var p = (data.length / 2) | 0;\n        var left = data.slice(0, p);\n        var right = data.slice(p);\n        mergeSort(left, compare);\n        mergeSort(right, compare);\n        var leftIdx = 0;\n        var rightIdx = 0;\n        var i = 0;\n        while (leftIdx < left.length && rightIdx < right.length) {\n            var ret = compare(left[leftIdx], right[rightIdx]);\n            if (ret <= 0) {\n                // smaller_equal -> take left to preserve order\n                data[i++] = left[leftIdx++];\n            }\n            else {\n                // greater -> take right\n                data[i++] = right[rightIdx++];\n            }\n        }\n        while (leftIdx < left.length) {\n            data[i++] = left[leftIdx++];\n        }\n        while (rightIdx < right.length) {\n            data[i++] = right[rightIdx++];\n        }\n        return data;\n    }\n})(TextDocument || (TextDocument = {}));\n/**\n * @deprecated Use the text document from the new vscode-languageserver-textdocument package.\n */\nvar FullTextDocument = /** @class */ (function () {\n    function FullTextDocument(uri, languageId, version, content) {\n        this._uri = uri;\n        this._languageId = languageId;\n        this._version = version;\n        this._content = content;\n        this._lineOffsets = undefined;\n    }\n    Object.defineProperty(FullTextDocument.prototype, \"uri\", {\n        get: function () {\n            return this._uri;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(FullTextDocument.prototype, \"languageId\", {\n        get: function () {\n            return this._languageId;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(FullTextDocument.prototype, \"version\", {\n        get: function () {\n            return this._version;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    FullTextDocument.prototype.getText = function (range) {\n        if (range) {\n            var start = this.offsetAt(range.start);\n            var end = this.offsetAt(range.end);\n            return this._content.substring(start, end);\n        }\n        return this._content;\n    };\n    FullTextDocument.prototype.update = function (event, version) {\n        this._content = event.text;\n        this._version = version;\n        this._lineOffsets = undefined;\n    };\n    FullTextDocument.prototype.getLineOffsets = function () {\n        if (this._lineOffsets === undefined) {\n            var lineOffsets = [];\n            var text = this._content;\n            var isLineStart = true;\n            for (var i = 0; i < text.length; i++) {\n                if (isLineStart) {\n                    lineOffsets.push(i);\n                    isLineStart = false;\n                }\n                var ch = text.charAt(i);\n                isLineStart = (ch === '\\r' || ch === '\\n');\n                if (ch === '\\r' && i + 1 < text.length && text.charAt(i + 1) === '\\n') {\n                    i++;\n                }\n            }\n            if (isLineStart && text.length > 0) {\n                lineOffsets.push(text.length);\n            }\n            this._lineOffsets = lineOffsets;\n        }\n        return this._lineOffsets;\n    };\n    FullTextDocument.prototype.positionAt = function (offset) {\n        offset = Math.max(Math.min(offset, this._content.length), 0);\n        var lineOffsets = this.getLineOffsets();\n        var low = 0, high = lineOffsets.length;\n        if (high === 0) {\n            return Position.create(0, offset);\n        }\n        while (low < high) {\n            var mid = Math.floor((low + high) / 2);\n            if (lineOffsets[mid] > offset) {\n                high = mid;\n            }\n            else {\n                low = mid + 1;\n            }\n        }\n        // low is the least x for which the line offset is larger than the current offset\n        // or array.length if no line offset is larger than the current offset\n        var line = low - 1;\n        return Position.create(line, offset - lineOffsets[line]);\n    };\n    FullTextDocument.prototype.offsetAt = function (position) {\n        var lineOffsets = this.getLineOffsets();\n        if (position.line >= lineOffsets.length) {\n            return this._content.length;\n        }\n        else if (position.line < 0) {\n            return 0;\n        }\n        var lineOffset = lineOffsets[position.line];\n        var nextLineOffset = (position.line + 1 < lineOffsets.length) ? lineOffsets[position.line + 1] : this._content.length;\n        return Math.max(Math.min(lineOffset + position.character, nextLineOffset), lineOffset);\n    };\n    Object.defineProperty(FullTextDocument.prototype, \"lineCount\", {\n        get: function () {\n            return this.getLineOffsets().length;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    return FullTextDocument;\n}());\nvar Is;\n(function (Is) {\n    var toString = Object.prototype.toString;\n    function defined(value) {\n        return typeof value !== 'undefined';\n    }\n    Is.defined = defined;\n    function undefined(value) {\n        return typeof value === 'undefined';\n    }\n    Is.undefined = undefined;\n    function boolean(value) {\n        return value === true || value === false;\n    }\n    Is.boolean = boolean;\n    function string(value) {\n        return toString.call(value) === '[object String]';\n    }\n    Is.string = string;\n    function number(value) {\n        return toString.call(value) === '[object Number]';\n    }\n    Is.number = number;\n    function numberRange(value, min, max) {\n        return toString.call(value) === '[object Number]' && min <= value && value <= max;\n    }\n    Is.numberRange = numberRange;\n    function integer(value) {\n        return toString.call(value) === '[object Number]' && -2147483648 <= value && value <= 2147483647;\n    }\n    Is.integer = integer;\n    function uinteger(value) {\n        return toString.call(value) === '[object Number]' && 0 <= value && value <= 2147483647;\n    }\n    Is.uinteger = uinteger;\n    function func(value) {\n        return toString.call(value) === '[object Function]';\n    }\n    Is.func = func;\n    function objectLiteral(value) {\n        // Strictly speaking class instances pass this check as well. Since the LSP\n        // doesn't use classes we ignore this for now. If we do we need to add something\n        // like this: `Object.getPrototypeOf(Object.getPrototypeOf(x)) === null`\n        return value !== null && typeof value === 'object';\n    }\n    Is.objectLiteral = objectLiteral;\n    function typedArray(value, check) {\n        return Array.isArray(value) && value.every(check);\n    }\n    Is.typedArray = typedArray;\n})(Is || (Is = {}));\n","const isWindows = process.platform === 'win32' ||\n    process.env.OSTYPE === 'cygwin' ||\n    process.env.OSTYPE === 'msys'\n\nconst path = require('path')\nconst COLON = isWindows ? ';' : ':'\nconst isexe = require('isexe')\n\nconst getNotFoundError = (cmd) =>\n  Object.assign(new Error(`not found: ${cmd}`), { code: 'ENOENT' })\n\nconst getPathInfo = (cmd, opt) => {\n  const colon = opt.colon || COLON\n\n  // If it has a slash, then we don't bother searching the pathenv.\n  // just check the file itself, and that's it.\n  const pathEnv = cmd.match(/\\//) || isWindows && cmd.match(/\\\\/) ? ['']\n    : (\n      [\n        // windows always checks the cwd first\n        ...(isWindows ? [process.cwd()] : []),\n        ...(opt.path || process.env.PATH ||\n          /* istanbul ignore next: very unusual */ '').split(colon),\n      ]\n    )\n  const pathExtExe = isWindows\n    ? opt.pathExt || process.env.PATHEXT || '.EXE;.CMD;.BAT;.COM'\n    : ''\n  const pathExt = isWindows ? pathExtExe.split(colon) : ['']\n\n  if (isWindows) {\n    if (cmd.indexOf('.') !== -1 && pathExt[0] !== '')\n      pathExt.unshift('')\n  }\n\n  return {\n    pathEnv,\n    pathExt,\n    pathExtExe,\n  }\n}\n\nconst which = (cmd, opt, cb) => {\n  if (typeof opt === 'function') {\n    cb = opt\n    opt = {}\n  }\n  if (!opt)\n    opt = {}\n\n  const { pathEnv, pathExt, pathExtExe } = getPathInfo(cmd, opt)\n  const found = []\n\n  const step = i => new Promise((resolve, reject) => {\n    if (i === pathEnv.length)\n      return opt.all && found.length ? resolve(found)\n        : reject(getNotFoundError(cmd))\n\n    const ppRaw = pathEnv[i]\n    const pathPart = /^\".*\"$/.test(ppRaw) ? ppRaw.slice(1, -1) : ppRaw\n\n    const pCmd = path.join(pathPart, cmd)\n    const p = !pathPart && /^\\.[\\\\\\/]/.test(cmd) ? cmd.slice(0, 2) + pCmd\n      : pCmd\n\n    resolve(subStep(p, i, 0))\n  })\n\n  const subStep = (p, i, ii) => new Promise((resolve, reject) => {\n    if (ii === pathExt.length)\n      return resolve(step(i + 1))\n    const ext = pathExt[ii]\n    isexe(p + ext, { pathExt: pathExtExe }, (er, is) => {\n      if (!er && is) {\n        if (opt.all)\n          found.push(p + ext)\n        else\n          return resolve(p + ext)\n      }\n      return resolve(subStep(p, i, ii + 1))\n    })\n  })\n\n  return cb ? step(0).then(res => cb(null, res), cb) : step(0)\n}\n\nconst whichSync = (cmd, opt) => {\n  opt = opt || {}\n\n  const { pathEnv, pathExt, pathExtExe } = getPathInfo(cmd, opt)\n  const found = []\n\n  for (let i = 0; i < pathEnv.length; i ++) {\n    const ppRaw = pathEnv[i]\n    const pathPart = /^\".*\"$/.test(ppRaw) ? ppRaw.slice(1, -1) : ppRaw\n\n    const pCmd = path.join(pathPart, cmd)\n    const p = !pathPart && /^\\.[\\\\\\/]/.test(cmd) ? cmd.slice(0, 2) + pCmd\n      : pCmd\n\n    for (let j = 0; j < pathExt.length; j ++) {\n      const cur = p + pathExt[j]\n      try {\n        const is = isexe.sync(cur, { pathExt: pathExtExe })\n        if (is) {\n          if (opt.all)\n            found.push(cur)\n          else\n            return cur\n        }\n      } catch (ex) {}\n    }\n  }\n\n  if (opt.all && found.length)\n    return found\n\n  if (opt.nothrow)\n    return null\n\n  throw getNotFoundError(cmd)\n}\n\nmodule.exports = which\nwhich.sync = whichSync\n","function DOMParser(options){\n\tthis.options = options ||{locator:{}};\n}\n\nDOMParser.prototype.parseFromString = function(source,mimeType){\n\tvar options = this.options;\n\tvar sax =  new XMLReader();\n\tvar domBuilder = options.domBuilder || new DOMHandler();//contentHandler and LexicalHandler\n\tvar errorHandler = options.errorHandler;\n\tvar locator = options.locator;\n\tvar defaultNSMap = options.xmlns||{};\n\tvar isHTML = /\\/x?html?$/.test(mimeType);//mimeType.toLowerCase().indexOf('html') > -1;\n  \tvar entityMap = isHTML?htmlEntity.entityMap:{'lt':'<','gt':'>','amp':'&','quot':'\"','apos':\"'\"};\n\tif(locator){\n\t\tdomBuilder.setDocumentLocator(locator)\n\t}\n\n\tsax.errorHandler = buildErrorHandler(errorHandler,domBuilder,locator);\n\tsax.domBuilder = options.domBuilder || domBuilder;\n\tif(isHTML){\n\t\tdefaultNSMap['']= 'http://www.w3.org/1999/xhtml';\n\t}\n\tdefaultNSMap.xml = defaultNSMap.xml || 'http://www.w3.org/XML/1998/namespace';\n\tif(source && typeof source === 'string'){\n\t\tsax.parse(source,defaultNSMap,entityMap);\n\t}else{\n\t\tsax.errorHandler.error(\"invalid doc source\");\n\t}\n\treturn domBuilder.doc;\n}\nfunction buildErrorHandler(errorImpl,domBuilder,locator){\n\tif(!errorImpl){\n\t\tif(domBuilder instanceof DOMHandler){\n\t\t\treturn domBuilder;\n\t\t}\n\t\terrorImpl = domBuilder ;\n\t}\n\tvar errorHandler = {}\n\tvar isCallback = errorImpl instanceof Function;\n\tlocator = locator||{}\n\tfunction build(key){\n\t\tvar fn = errorImpl[key];\n\t\tif(!fn && isCallback){\n\t\t\tfn = errorImpl.length == 2?function(msg){errorImpl(key,msg)}:errorImpl;\n\t\t}\n\t\terrorHandler[key] = fn && function(msg){\n\t\t\tfn('[xmldom '+key+']\\t'+msg+_locator(locator));\n\t\t}||function(){};\n\t}\n\tbuild('warning');\n\tbuild('error');\n\tbuild('fatalError');\n\treturn errorHandler;\n}\n\n//console.log('#\\n\\n\\n\\n\\n\\n\\n####')\n/**\n * +ContentHandler+ErrorHandler\n * +LexicalHandler+EntityResolver2\n * -DeclHandler-DTDHandler\n *\n * DefaultHandler:EntityResolver, DTDHandler, ContentHandler, ErrorHandler\n * DefaultHandler2:DefaultHandler,LexicalHandler, DeclHandler, EntityResolver2\n * @link http://www.saxproject.org/apidoc/org/xml/sax/helpers/DefaultHandler.html\n */\nfunction DOMHandler() {\n    this.cdata = false;\n}\nfunction position(locator,node){\n\tnode.lineNumber = locator.lineNumber;\n\tnode.columnNumber = locator.columnNumber;\n}\n/**\n * @see org.xml.sax.ContentHandler#startDocument\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ContentHandler.html\n */\nDOMHandler.prototype = {\n\tstartDocument : function() {\n    \tthis.doc = new DOMImplementation().createDocument(null, null, null);\n    \tif (this.locator) {\n        \tthis.doc.documentURI = this.locator.systemId;\n    \t}\n\t},\n\tstartElement:function(namespaceURI, localName, qName, attrs) {\n\t\tvar doc = this.doc;\n\t    var el = doc.createElementNS(namespaceURI, qName||localName);\n\t    var len = attrs.length;\n\t    appendElement(this, el);\n\t    this.currentElement = el;\n\n\t\tthis.locator && position(this.locator,el)\n\t    for (var i = 0 ; i < len; i++) {\n\t        var namespaceURI = attrs.getURI(i);\n\t        var value = attrs.getValue(i);\n\t        var qName = attrs.getQName(i);\n\t\t\tvar attr = doc.createAttributeNS(namespaceURI, qName);\n\t\t\tthis.locator &&position(attrs.getLocator(i),attr);\n\t\t\tattr.value = attr.nodeValue = value;\n\t\t\tel.setAttributeNode(attr)\n\t    }\n\t},\n\tendElement:function(namespaceURI, localName, qName) {\n\t\tvar current = this.currentElement\n\t\tvar tagName = current.tagName;\n\t\tthis.currentElement = current.parentNode;\n\t},\n\tstartPrefixMapping:function(prefix, uri) {\n\t},\n\tendPrefixMapping:function(prefix) {\n\t},\n\tprocessingInstruction:function(target, data) {\n\t    var ins = this.doc.createProcessingInstruction(target, data);\n\t    this.locator && position(this.locator,ins)\n\t    appendElement(this, ins);\n\t},\n\tignorableWhitespace:function(ch, start, length) {\n\t},\n\tcharacters:function(chars, start, length) {\n\t\tchars = _toString.apply(this,arguments)\n\t\t//console.log(chars)\n\t\tif(chars){\n\t\t\tif (this.cdata) {\n\t\t\t\tvar charNode = this.doc.createCDATASection(chars);\n\t\t\t} else {\n\t\t\t\tvar charNode = this.doc.createTextNode(chars);\n\t\t\t}\n\t\t\tif(this.currentElement){\n\t\t\t\tthis.currentElement.appendChild(charNode);\n\t\t\t}else if(/^\\s*$/.test(chars)){\n\t\t\t\tthis.doc.appendChild(charNode);\n\t\t\t\t//process xml\n\t\t\t}\n\t\t\tthis.locator && position(this.locator,charNode)\n\t\t}\n\t},\n\tskippedEntity:function(name) {\n\t},\n\tendDocument:function() {\n\t\tthis.doc.normalize();\n\t},\n\tsetDocumentLocator:function (locator) {\n\t    if(this.locator = locator){// && !('lineNumber' in locator)){\n\t    \tlocator.lineNumber = 0;\n\t    }\n\t},\n\t//LexicalHandler\n\tcomment:function(chars, start, length) {\n\t\tchars = _toString.apply(this,arguments)\n\t    var comm = this.doc.createComment(chars);\n\t    this.locator && position(this.locator,comm)\n\t    appendElement(this, comm);\n\t},\n\n\tstartCDATA:function() {\n\t    //used in characters() methods\n\t    this.cdata = true;\n\t},\n\tendCDATA:function() {\n\t    this.cdata = false;\n\t},\n\n\tstartDTD:function(name, publicId, systemId) {\n\t\tvar impl = this.doc.implementation;\n\t    if (impl && impl.createDocumentType) {\n\t        var dt = impl.createDocumentType(name, publicId, systemId);\n\t        this.locator && position(this.locator,dt)\n\t        appendElement(this, dt);\n\t    }\n\t},\n\t/**\n\t * @see org.xml.sax.ErrorHandler\n\t * @link http://www.saxproject.org/apidoc/org/xml/sax/ErrorHandler.html\n\t */\n\twarning:function(error) {\n\t\tconsole.warn('[xmldom warning]\\t'+error,_locator(this.locator));\n\t},\n\terror:function(error) {\n\t\tconsole.error('[xmldom error]\\t'+error,_locator(this.locator));\n\t},\n\tfatalError:function(error) {\n\t\tthrow new ParseError(error, this.locator);\n\t}\n}\nfunction _locator(l){\n\tif(l){\n\t\treturn '\\n@'+(l.systemId ||'')+'#[line:'+l.lineNumber+',col:'+l.columnNumber+']'\n\t}\n}\nfunction _toString(chars,start,length){\n\tif(typeof chars == 'string'){\n\t\treturn chars.substr(start,length)\n\t}else{//java sax connect width xmldom on rhino(what about: \"? && !(chars instanceof String)\")\n\t\tif(chars.length >= start+length || start){\n\t\t\treturn new java.lang.String(chars,start,length)+'';\n\t\t}\n\t\treturn chars;\n\t}\n}\n\n/*\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/LexicalHandler.html\n * used method of org.xml.sax.ext.LexicalHandler:\n *  #comment(chars, start, length)\n *  #startCDATA()\n *  #endCDATA()\n *  #startDTD(name, publicId, systemId)\n *\n *\n * IGNORED method of org.xml.sax.ext.LexicalHandler:\n *  #endDTD()\n *  #startEntity(name)\n *  #endEntity(name)\n *\n *\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/DeclHandler.html\n * IGNORED method of org.xml.sax.ext.DeclHandler\n * \t#attributeDecl(eName, aName, type, mode, value)\n *  #elementDecl(name, model)\n *  #externalEntityDecl(name, publicId, systemId)\n *  #internalEntityDecl(name, value)\n * @link http://www.saxproject.org/apidoc/org/xml/sax/ext/EntityResolver2.html\n * IGNORED method of org.xml.sax.EntityResolver2\n *  #resolveEntity(String name,String publicId,String baseURI,String systemId)\n *  #resolveEntity(publicId, systemId)\n *  #getExternalSubset(name, baseURI)\n * @link http://www.saxproject.org/apidoc/org/xml/sax/DTDHandler.html\n * IGNORED method of org.xml.sax.DTDHandler\n *  #notationDecl(name, publicId, systemId) {};\n *  #unparsedEntityDecl(name, publicId, systemId, notationName) {};\n */\n\"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl\".replace(/\\w+/g,function(key){\n\tDOMHandler.prototype[key] = function(){return null}\n})\n\n/* Private static helpers treated below as private instance methods, so don't need to add these to the public API; we might use a Relator to also get rid of non-standard public properties */\nfunction appendElement (hander,node) {\n    if (!hander.currentElement) {\n        hander.doc.appendChild(node);\n    } else {\n        hander.currentElement.appendChild(node);\n    }\n}//appendChild and setAttributeNS are preformance key\n\n//if(typeof require == 'function'){\nvar htmlEntity = require('./entities');\nvar sax = require('./sax');\nvar XMLReader = sax.XMLReader;\nvar ParseError = sax.ParseError;\nvar DOMImplementation = exports.DOMImplementation = require('./dom').DOMImplementation;\nexports.XMLSerializer = require('./dom').XMLSerializer ;\nexports.DOMParser = DOMParser;\nexports.__DOMHandler = DOMHandler;\n//}\n","function copy(src,dest){\n\tfor(var p in src){\n\t\tdest[p] = src[p];\n\t}\n}\n/**\n^\\w+\\.prototype\\.([_\\w]+)\\s*=\\s*((?:.*\\{\\s*?[\\r\\n][\\s\\S]*?^})|\\S.*?(?=[;\\r\\n]));?\n^\\w+\\.prototype\\.([_\\w]+)\\s*=\\s*(\\S.*?(?=[;\\r\\n]));?\n */\nfunction _extends(Class,Super){\n\tvar pt = Class.prototype;\n\tif(!(pt instanceof Super)){\n\t\tfunction t(){};\n\t\tt.prototype = Super.prototype;\n\t\tt = new t();\n\t\tcopy(pt,t);\n\t\tClass.prototype = pt = t;\n\t}\n\tif(pt.constructor != Class){\n\t\tif(typeof Class != 'function'){\n\t\t\tconsole.error(\"unknow Class:\"+Class)\n\t\t}\n\t\tpt.constructor = Class\n\t}\n}\nvar htmlns = 'http://www.w3.org/1999/xhtml' ;\n// Node Types\nvar NodeType = {}\nvar ELEMENT_NODE                = NodeType.ELEMENT_NODE                = 1;\nvar ATTRIBUTE_NODE              = NodeType.ATTRIBUTE_NODE              = 2;\nvar TEXT_NODE                   = NodeType.TEXT_NODE                   = 3;\nvar CDATA_SECTION_NODE          = NodeType.CDATA_SECTION_NODE          = 4;\nvar ENTITY_REFERENCE_NODE       = NodeType.ENTITY_REFERENCE_NODE       = 5;\nvar ENTITY_NODE                 = NodeType.ENTITY_NODE                 = 6;\nvar PROCESSING_INSTRUCTION_NODE = NodeType.PROCESSING_INSTRUCTION_NODE = 7;\nvar COMMENT_NODE                = NodeType.COMMENT_NODE                = 8;\nvar DOCUMENT_NODE               = NodeType.DOCUMENT_NODE               = 9;\nvar DOCUMENT_TYPE_NODE          = NodeType.DOCUMENT_TYPE_NODE          = 10;\nvar DOCUMENT_FRAGMENT_NODE      = NodeType.DOCUMENT_FRAGMENT_NODE      = 11;\nvar NOTATION_NODE               = NodeType.NOTATION_NODE               = 12;\n\n// ExceptionCode\nvar ExceptionCode = {}\nvar ExceptionMessage = {};\nvar INDEX_SIZE_ERR              = ExceptionCode.INDEX_SIZE_ERR              = ((ExceptionMessage[1]=\"Index size error\"),1);\nvar DOMSTRING_SIZE_ERR          = ExceptionCode.DOMSTRING_SIZE_ERR          = ((ExceptionMessage[2]=\"DOMString size error\"),2);\nvar HIERARCHY_REQUEST_ERR       = ExceptionCode.HIERARCHY_REQUEST_ERR       = ((ExceptionMessage[3]=\"Hierarchy request error\"),3);\nvar WRONG_DOCUMENT_ERR          = ExceptionCode.WRONG_DOCUMENT_ERR          = ((ExceptionMessage[4]=\"Wrong document\"),4);\nvar INVALID_CHARACTER_ERR       = ExceptionCode.INVALID_CHARACTER_ERR       = ((ExceptionMessage[5]=\"Invalid character\"),5);\nvar NO_DATA_ALLOWED_ERR         = ExceptionCode.NO_DATA_ALLOWED_ERR         = ((ExceptionMessage[6]=\"No data allowed\"),6);\nvar NO_MODIFICATION_ALLOWED_ERR = ExceptionCode.NO_MODIFICATION_ALLOWED_ERR = ((ExceptionMessage[7]=\"No modification allowed\"),7);\nvar NOT_FOUND_ERR               = ExceptionCode.NOT_FOUND_ERR               = ((ExceptionMessage[8]=\"Not found\"),8);\nvar NOT_SUPPORTED_ERR           = ExceptionCode.NOT_SUPPORTED_ERR           = ((ExceptionMessage[9]=\"Not supported\"),9);\nvar INUSE_ATTRIBUTE_ERR         = ExceptionCode.INUSE_ATTRIBUTE_ERR         = ((ExceptionMessage[10]=\"Attribute in use\"),10);\n//level2\nvar INVALID_STATE_ERR        \t= ExceptionCode.INVALID_STATE_ERR        \t= ((ExceptionMessage[11]=\"Invalid state\"),11);\nvar SYNTAX_ERR               \t= ExceptionCode.SYNTAX_ERR               \t= ((ExceptionMessage[12]=\"Syntax error\"),12);\nvar INVALID_MODIFICATION_ERR \t= ExceptionCode.INVALID_MODIFICATION_ERR \t= ((ExceptionMessage[13]=\"Invalid modification\"),13);\nvar NAMESPACE_ERR            \t= ExceptionCode.NAMESPACE_ERR           \t= ((ExceptionMessage[14]=\"Invalid namespace\"),14);\nvar INVALID_ACCESS_ERR       \t= ExceptionCode.INVALID_ACCESS_ERR      \t= ((ExceptionMessage[15]=\"Invalid access\"),15);\n\n/**\n * DOM Level 2\n * Object DOMException\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/ecma-script-binding.html\n * @see http://www.w3.org/TR/REC-DOM-Level-1/ecma-script-language-binding.html\n */\nfunction DOMException(code, message) {\n\tif(message instanceof Error){\n\t\tvar error = message;\n\t}else{\n\t\terror = this;\n\t\tError.call(this, ExceptionMessage[code]);\n\t\tthis.message = ExceptionMessage[code];\n\t\tif(Error.captureStackTrace) Error.captureStackTrace(this, DOMException);\n\t}\n\terror.code = code;\n\tif(message) this.message = this.message + \": \" + message;\n\treturn error;\n};\nDOMException.prototype = Error.prototype;\ncopy(ExceptionCode,DOMException)\n/**\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/core.html#ID-536297177\n * The NodeList interface provides the abstraction of an ordered collection of nodes, without defining or constraining how this collection is implemented. NodeList objects in the DOM are live.\n * The items in the NodeList are accessible via an integral index, starting from 0.\n */\nfunction NodeList() {\n};\nNodeList.prototype = {\n\t/**\n\t * The number of nodes in the list. The range of valid child node indices is 0 to length-1 inclusive.\n\t * @standard level1\n\t */\n\tlength:0, \n\t/**\n\t * Returns the indexth item in the collection. If index is greater than or equal to the number of nodes in the list, this returns null.\n\t * @standard level1\n\t * @param index  unsigned long \n\t *   Index into the collection.\n\t * @return Node\n\t * \tThe node at the indexth position in the NodeList, or null if that is not a valid index. \n\t */\n\titem: function(index) {\n\t\treturn this[index] || null;\n\t},\n\ttoString:function(isHTML,nodeFilter){\n\t\tfor(var buf = [], i = 0;i<this.length;i++){\n\t\t\tserializeToString(this[i],buf,isHTML,nodeFilter);\n\t\t}\n\t\treturn buf.join('');\n\t}\n};\nfunction LiveNodeList(node,refresh){\n\tthis._node = node;\n\tthis._refresh = refresh\n\t_updateLiveList(this);\n}\nfunction _updateLiveList(list){\n\tvar inc = list._node._inc || list._node.ownerDocument._inc;\n\tif(list._inc != inc){\n\t\tvar ls = list._refresh(list._node);\n\t\t//console.log(ls.length)\n\t\t__set__(list,'length',ls.length);\n\t\tcopy(ls,list);\n\t\tlist._inc = inc;\n\t}\n}\nLiveNodeList.prototype.item = function(i){\n\t_updateLiveList(this);\n\treturn this[i];\n}\n\n_extends(LiveNodeList,NodeList);\n/**\n * \n * Objects implementing the NamedNodeMap interface are used to represent collections of nodes that can be accessed by name. Note that NamedNodeMap does not inherit from NodeList; NamedNodeMaps are not maintained in any particular order. Objects contained in an object implementing NamedNodeMap may also be accessed by an ordinal index, but this is simply to allow convenient enumeration of the contents of a NamedNodeMap, and does not imply that the DOM specifies an order to these Nodes.\n * NamedNodeMap objects in the DOM are live.\n * used for attributes or DocumentType entities \n */\nfunction NamedNodeMap() {\n};\n\nfunction _findNodeIndex(list,node){\n\tvar i = list.length;\n\twhile(i--){\n\t\tif(list[i] === node){return i}\n\t}\n}\n\nfunction _addNamedNode(el,list,newAttr,oldAttr){\n\tif(oldAttr){\n\t\tlist[_findNodeIndex(list,oldAttr)] = newAttr;\n\t}else{\n\t\tlist[list.length++] = newAttr;\n\t}\n\tif(el){\n\t\tnewAttr.ownerElement = el;\n\t\tvar doc = el.ownerDocument;\n\t\tif(doc){\n\t\t\toldAttr && _onRemoveAttribute(doc,el,oldAttr);\n\t\t\t_onAddAttribute(doc,el,newAttr);\n\t\t}\n\t}\n}\nfunction _removeNamedNode(el,list,attr){\n\t//console.log('remove attr:'+attr)\n\tvar i = _findNodeIndex(list,attr);\n\tif(i>=0){\n\t\tvar lastIndex = list.length-1\n\t\twhile(i<lastIndex){\n\t\t\tlist[i] = list[++i]\n\t\t}\n\t\tlist.length = lastIndex;\n\t\tif(el){\n\t\t\tvar doc = el.ownerDocument;\n\t\t\tif(doc){\n\t\t\t\t_onRemoveAttribute(doc,el,attr);\n\t\t\t\tattr.ownerElement = null;\n\t\t\t}\n\t\t}\n\t}else{\n\t\tthrow DOMException(NOT_FOUND_ERR,new Error(el.tagName+'@'+attr))\n\t}\n}\nNamedNodeMap.prototype = {\n\tlength:0,\n\titem:NodeList.prototype.item,\n\tgetNamedItem: function(key) {\n//\t\tif(key.indexOf(':')>0 || key == 'xmlns'){\n//\t\t\treturn null;\n//\t\t}\n\t\t//console.log()\n\t\tvar i = this.length;\n\t\twhile(i--){\n\t\t\tvar attr = this[i];\n\t\t\t//console.log(attr.nodeName,key)\n\t\t\tif(attr.nodeName == key){\n\t\t\t\treturn attr;\n\t\t\t}\n\t\t}\n\t},\n\tsetNamedItem: function(attr) {\n\t\tvar el = attr.ownerElement;\n\t\tif(el && el!=this._ownerElement){\n\t\t\tthrow new DOMException(INUSE_ATTRIBUTE_ERR);\n\t\t}\n\t\tvar oldAttr = this.getNamedItem(attr.nodeName);\n\t\t_addNamedNode(this._ownerElement,this,attr,oldAttr);\n\t\treturn oldAttr;\n\t},\n\t/* returns Node */\n\tsetNamedItemNS: function(attr) {// raises: WRONG_DOCUMENT_ERR,NO_MODIFICATION_ALLOWED_ERR,INUSE_ATTRIBUTE_ERR\n\t\tvar el = attr.ownerElement, oldAttr;\n\t\tif(el && el!=this._ownerElement){\n\t\t\tthrow new DOMException(INUSE_ATTRIBUTE_ERR);\n\t\t}\n\t\toldAttr = this.getNamedItemNS(attr.namespaceURI,attr.localName);\n\t\t_addNamedNode(this._ownerElement,this,attr,oldAttr);\n\t\treturn oldAttr;\n\t},\n\n\t/* returns Node */\n\tremoveNamedItem: function(key) {\n\t\tvar attr = this.getNamedItem(key);\n\t\t_removeNamedNode(this._ownerElement,this,attr);\n\t\treturn attr;\n\t\t\n\t\t\n\t},// raises: NOT_FOUND_ERR,NO_MODIFICATION_ALLOWED_ERR\n\t\n\t//for level2\n\tremoveNamedItemNS:function(namespaceURI,localName){\n\t\tvar attr = this.getNamedItemNS(namespaceURI,localName);\n\t\t_removeNamedNode(this._ownerElement,this,attr);\n\t\treturn attr;\n\t},\n\tgetNamedItemNS: function(namespaceURI, localName) {\n\t\tvar i = this.length;\n\t\twhile(i--){\n\t\t\tvar node = this[i];\n\t\t\tif(node.localName == localName && node.namespaceURI == namespaceURI){\n\t\t\t\treturn node;\n\t\t\t}\n\t\t}\n\t\treturn null;\n\t}\n};\n/**\n * @see http://www.w3.org/TR/REC-DOM-Level-1/level-one-core.html#ID-102161490\n */\nfunction DOMImplementation(/* Object */ features) {\n\tthis._features = {};\n\tif (features) {\n\t\tfor (var feature in features) {\n\t\t\t this._features = features[feature];\n\t\t}\n\t}\n};\n\nDOMImplementation.prototype = {\n\thasFeature: function(/* string */ feature, /* string */ version) {\n\t\tvar versions = this._features[feature.toLowerCase()];\n\t\tif (versions && (!version || version in versions)) {\n\t\t\treturn true;\n\t\t} else {\n\t\t\treturn false;\n\t\t}\n\t},\n\t// Introduced in DOM Level 2:\n\tcreateDocument:function(namespaceURI,  qualifiedName, doctype){// raises:INVALID_CHARACTER_ERR,NAMESPACE_ERR,WRONG_DOCUMENT_ERR\n\t\tvar doc = new Document();\n\t\tdoc.implementation = this;\n\t\tdoc.childNodes = new NodeList();\n\t\tdoc.doctype = doctype;\n\t\tif(doctype){\n\t\t\tdoc.appendChild(doctype);\n\t\t}\n\t\tif(qualifiedName){\n\t\t\tvar root = doc.createElementNS(namespaceURI,qualifiedName);\n\t\t\tdoc.appendChild(root);\n\t\t}\n\t\treturn doc;\n\t},\n\t// Introduced in DOM Level 2:\n\tcreateDocumentType:function(qualifiedName, publicId, systemId){// raises:INVALID_CHARACTER_ERR,NAMESPACE_ERR\n\t\tvar node = new DocumentType();\n\t\tnode.name = qualifiedName;\n\t\tnode.nodeName = qualifiedName;\n\t\tnode.publicId = publicId;\n\t\tnode.systemId = systemId;\n\t\t// Introduced in DOM Level 2:\n\t\t//readonly attribute DOMString        internalSubset;\n\t\t\n\t\t//TODO:..\n\t\t//  readonly attribute NamedNodeMap     entities;\n\t\t//  readonly attribute NamedNodeMap     notations;\n\t\treturn node;\n\t}\n};\n\n\n/**\n * @see http://www.w3.org/TR/2000/REC-DOM-Level-2-Core-20001113/core.html#ID-1950641247\n */\n\nfunction Node() {\n};\n\nNode.prototype = {\n\tfirstChild : null,\n\tlastChild : null,\n\tpreviousSibling : null,\n\tnextSibling : null,\n\tattributes : null,\n\tparentNode : null,\n\tchildNodes : null,\n\townerDocument : null,\n\tnodeValue : null,\n\tnamespaceURI : null,\n\tprefix : null,\n\tlocalName : null,\n\t// Modified in DOM Level 2:\n\tinsertBefore:function(newChild, refChild){//raises \n\t\treturn _insertBefore(this,newChild,refChild);\n\t},\n\treplaceChild:function(newChild, oldChild){//raises \n\t\tthis.insertBefore(newChild,oldChild);\n\t\tif(oldChild){\n\t\t\tthis.removeChild(oldChild);\n\t\t}\n\t},\n\tremoveChild:function(oldChild){\n\t\treturn _removeChild(this,oldChild);\n\t},\n\tappendChild:function(newChild){\n\t\treturn this.insertBefore(newChild,null);\n\t},\n\thasChildNodes:function(){\n\t\treturn this.firstChild != null;\n\t},\n\tcloneNode:function(deep){\n\t\treturn cloneNode(this.ownerDocument||this,this,deep);\n\t},\n\t// Modified in DOM Level 2:\n\tnormalize:function(){\n\t\tvar child = this.firstChild;\n\t\twhile(child){\n\t\t\tvar next = child.nextSibling;\n\t\t\tif(next && next.nodeType == TEXT_NODE && child.nodeType == TEXT_NODE){\n\t\t\t\tthis.removeChild(next);\n\t\t\t\tchild.appendData(next.data);\n\t\t\t}else{\n\t\t\t\tchild.normalize();\n\t\t\t\tchild = next;\n\t\t\t}\n\t\t}\n\t},\n  \t// Introduced in DOM Level 2:\n\tisSupported:function(feature, version){\n\t\treturn this.ownerDocument.implementation.hasFeature(feature,version);\n\t},\n    // Introduced in DOM Level 2:\n    hasAttributes:function(){\n    \treturn this.attributes.length>0;\n    },\n    lookupPrefix:function(namespaceURI){\n    \tvar el = this;\n    \twhile(el){\n    \t\tvar map = el._nsMap;\n    \t\t//console.dir(map)\n    \t\tif(map){\n    \t\t\tfor(var n in map){\n    \t\t\t\tif(map[n] == namespaceURI){\n    \t\t\t\t\treturn n;\n    \t\t\t\t}\n    \t\t\t}\n    \t\t}\n    \t\tel = el.nodeType == ATTRIBUTE_NODE?el.ownerDocument : el.parentNode;\n    \t}\n    \treturn null;\n    },\n    // Introduced in DOM Level 3:\n    lookupNamespaceURI:function(prefix){\n    \tvar el = this;\n    \twhile(el){\n    \t\tvar map = el._nsMap;\n    \t\t//console.dir(map)\n    \t\tif(map){\n    \t\t\tif(prefix in map){\n    \t\t\t\treturn map[prefix] ;\n    \t\t\t}\n    \t\t}\n    \t\tel = el.nodeType == ATTRIBUTE_NODE?el.ownerDocument : el.parentNode;\n    \t}\n    \treturn null;\n    },\n    // Introduced in DOM Level 3:\n    isDefaultNamespace:function(namespaceURI){\n    \tvar prefix = this.lookupPrefix(namespaceURI);\n    \treturn prefix == null;\n    }\n};\n\n\nfunction _xmlEncoder(c){\n\treturn c == '<' && '&lt;' ||\n         c == '>' && '&gt;' ||\n         c == '&' && '&amp;' ||\n         c == '\"' && '&quot;' ||\n         '&#'+c.charCodeAt()+';'\n}\n\n\ncopy(NodeType,Node);\ncopy(NodeType,Node.prototype);\n\n/**\n * @param callback return true for continue,false for break\n * @return boolean true: break visit;\n */\nfunction _visitNode(node,callback){\n\tif(callback(node)){\n\t\treturn true;\n\t}\n\tif(node = node.firstChild){\n\t\tdo{\n\t\t\tif(_visitNode(node,callback)){return true}\n        }while(node=node.nextSibling)\n    }\n}\n\n\n\nfunction Document(){\n}\nfunction _onAddAttribute(doc,el,newAttr){\n\tdoc && doc._inc++;\n\tvar ns = newAttr.namespaceURI ;\n\tif(ns == 'http://www.w3.org/2000/xmlns/'){\n\t\t//update namespace\n\t\tel._nsMap[newAttr.prefix?newAttr.localName:''] = newAttr.value\n\t}\n}\nfunction _onRemoveAttribute(doc,el,newAttr,remove){\n\tdoc && doc._inc++;\n\tvar ns = newAttr.namespaceURI ;\n\tif(ns == 'http://www.w3.org/2000/xmlns/'){\n\t\t//update namespace\n\t\tdelete el._nsMap[newAttr.prefix?newAttr.localName:'']\n\t}\n}\nfunction _onUpdateChild(doc,el,newChild){\n\tif(doc && doc._inc){\n\t\tdoc._inc++;\n\t\t//update childNodes\n\t\tvar cs = el.childNodes;\n\t\tif(newChild){\n\t\t\tcs[cs.length++] = newChild;\n\t\t}else{\n\t\t\t//console.log(1)\n\t\t\tvar child = el.firstChild;\n\t\t\tvar i = 0;\n\t\t\twhile(child){\n\t\t\t\tcs[i++] = child;\n\t\t\t\tchild =child.nextSibling;\n\t\t\t}\n\t\t\tcs.length = i;\n\t\t}\n\t}\n}\n\n/**\n * attributes;\n * children;\n * \n * writeable properties:\n * nodeValue,Attr:value,CharacterData:data\n * prefix\n */\nfunction _removeChild(parentNode,child){\n\tvar previous = child.previousSibling;\n\tvar next = child.nextSibling;\n\tif(previous){\n\t\tprevious.nextSibling = next;\n\t}else{\n\t\tparentNode.firstChild = next\n\t}\n\tif(next){\n\t\tnext.previousSibling = previous;\n\t}else{\n\t\tparentNode.lastChild = previous;\n\t}\n\t_onUpdateChild(parentNode.ownerDocument,parentNode);\n\treturn child;\n}\n/**\n * preformance key(refChild == null)\n */\nfunction _insertBefore(parentNode,newChild,nextChild){\n\tvar cp = newChild.parentNode;\n\tif(cp){\n\t\tcp.removeChild(newChild);//remove and update\n\t}\n\tif(newChild.nodeType === DOCUMENT_FRAGMENT_NODE){\n\t\tvar newFirst = newChild.firstChild;\n\t\tif (newFirst == null) {\n\t\t\treturn newChild;\n\t\t}\n\t\tvar newLast = newChild.lastChild;\n\t}else{\n\t\tnewFirst = newLast = newChild;\n\t}\n\tvar pre = nextChild ? nextChild.previousSibling : parentNode.lastChild;\n\n\tnewFirst.previousSibling = pre;\n\tnewLast.nextSibling = nextChild;\n\t\n\t\n\tif(pre){\n\t\tpre.nextSibling = newFirst;\n\t}else{\n\t\tparentNode.firstChild = newFirst;\n\t}\n\tif(nextChild == null){\n\t\tparentNode.lastChild = newLast;\n\t}else{\n\t\tnextChild.previousSibling = newLast;\n\t}\n\tdo{\n\t\tnewFirst.parentNode = parentNode;\n\t}while(newFirst !== newLast && (newFirst= newFirst.nextSibling))\n\t_onUpdateChild(parentNode.ownerDocument||parentNode,parentNode);\n\t//console.log(parentNode.lastChild.nextSibling == null)\n\tif (newChild.nodeType == DOCUMENT_FRAGMENT_NODE) {\n\t\tnewChild.firstChild = newChild.lastChild = null;\n\t}\n\treturn newChild;\n}\nfunction _appendSingleChild(parentNode,newChild){\n\tvar cp = newChild.parentNode;\n\tif(cp){\n\t\tvar pre = parentNode.lastChild;\n\t\tcp.removeChild(newChild);//remove and update\n\t\tvar pre = parentNode.lastChild;\n\t}\n\tvar pre = parentNode.lastChild;\n\tnewChild.parentNode = parentNode;\n\tnewChild.previousSibling = pre;\n\tnewChild.nextSibling = null;\n\tif(pre){\n\t\tpre.nextSibling = newChild;\n\t}else{\n\t\tparentNode.firstChild = newChild;\n\t}\n\tparentNode.lastChild = newChild;\n\t_onUpdateChild(parentNode.ownerDocument,parentNode,newChild);\n\treturn newChild;\n\t//console.log(\"__aa\",parentNode.lastChild.nextSibling == null)\n}\nDocument.prototype = {\n\t//implementation : null,\n\tnodeName :  '#document',\n\tnodeType :  DOCUMENT_NODE,\n\tdoctype :  null,\n\tdocumentElement :  null,\n\t_inc : 1,\n\t\n\tinsertBefore :  function(newChild, refChild){//raises \n\t\tif(newChild.nodeType == DOCUMENT_FRAGMENT_NODE){\n\t\t\tvar child = newChild.firstChild;\n\t\t\twhile(child){\n\t\t\t\tvar next = child.nextSibling;\n\t\t\t\tthis.insertBefore(child,refChild);\n\t\t\t\tchild = next;\n\t\t\t}\n\t\t\treturn newChild;\n\t\t}\n\t\tif(this.documentElement == null && newChild.nodeType == ELEMENT_NODE){\n\t\t\tthis.documentElement = newChild;\n\t\t}\n\t\t\n\t\treturn _insertBefore(this,newChild,refChild),(newChild.ownerDocument = this),newChild;\n\t},\n\tremoveChild :  function(oldChild){\n\t\tif(this.documentElement == oldChild){\n\t\t\tthis.documentElement = null;\n\t\t}\n\t\treturn _removeChild(this,oldChild);\n\t},\n\t// Introduced in DOM Level 2:\n\timportNode : function(importedNode,deep){\n\t\treturn importNode(this,importedNode,deep);\n\t},\n\t// Introduced in DOM Level 2:\n\tgetElementById :\tfunction(id){\n\t\tvar rtv = null;\n\t\t_visitNode(this.documentElement,function(node){\n\t\t\tif(node.nodeType == ELEMENT_NODE){\n\t\t\t\tif(node.getAttribute('id') == id){\n\t\t\t\t\trtv = node;\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t\treturn rtv;\n\t},\n\t\n\tgetElementsByClassName: function(className) {\n\t\tvar pattern = new RegExp(\"(^|\\\\s)\" + className + \"(\\\\s|$)\");\n\t\treturn new LiveNodeList(this, function(base) {\n\t\t\tvar ls = [];\n\t\t\t_visitNode(base.documentElement, function(node) {\n\t\t\t\tif(node !== base && node.nodeType == ELEMENT_NODE) {\n\t\t\t\t\tif(pattern.test(node.getAttribute('class'))) {\n\t\t\t\t\t\tls.push(node);\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn ls;\n\t\t});\n\t},\n\t\n\t//document factory method:\n\tcreateElement :\tfunction(tagName){\n\t\tvar node = new Element();\n\t\tnode.ownerDocument = this;\n\t\tnode.nodeName = tagName;\n\t\tnode.tagName = tagName;\n\t\tnode.childNodes = new NodeList();\n\t\tvar attrs\t= node.attributes = new NamedNodeMap();\n\t\tattrs._ownerElement = node;\n\t\treturn node;\n\t},\n\tcreateDocumentFragment :\tfunction(){\n\t\tvar node = new DocumentFragment();\n\t\tnode.ownerDocument = this;\n\t\tnode.childNodes = new NodeList();\n\t\treturn node;\n\t},\n\tcreateTextNode :\tfunction(data){\n\t\tvar node = new Text();\n\t\tnode.ownerDocument = this;\n\t\tnode.appendData(data)\n\t\treturn node;\n\t},\n\tcreateComment :\tfunction(data){\n\t\tvar node = new Comment();\n\t\tnode.ownerDocument = this;\n\t\tnode.appendData(data)\n\t\treturn node;\n\t},\n\tcreateCDATASection :\tfunction(data){\n\t\tvar node = new CDATASection();\n\t\tnode.ownerDocument = this;\n\t\tnode.appendData(data)\n\t\treturn node;\n\t},\n\tcreateProcessingInstruction :\tfunction(target,data){\n\t\tvar node = new ProcessingInstruction();\n\t\tnode.ownerDocument = this;\n\t\tnode.tagName = node.target = target;\n\t\tnode.nodeValue= node.data = data;\n\t\treturn node;\n\t},\n\tcreateAttribute :\tfunction(name){\n\t\tvar node = new Attr();\n\t\tnode.ownerDocument\t= this;\n\t\tnode.name = name;\n\t\tnode.nodeName\t= name;\n\t\tnode.localName = name;\n\t\tnode.specified = true;\n\t\treturn node;\n\t},\n\tcreateEntityReference :\tfunction(name){\n\t\tvar node = new EntityReference();\n\t\tnode.ownerDocument\t= this;\n\t\tnode.nodeName\t= name;\n\t\treturn node;\n\t},\n\t// Introduced in DOM Level 2:\n\tcreateElementNS :\tfunction(namespaceURI,qualifiedName){\n\t\tvar node = new Element();\n\t\tvar pl = qualifiedName.split(':');\n\t\tvar attrs\t= node.attributes = new NamedNodeMap();\n\t\tnode.childNodes = new NodeList();\n\t\tnode.ownerDocument = this;\n\t\tnode.nodeName = qualifiedName;\n\t\tnode.tagName = qualifiedName;\n\t\tnode.namespaceURI = namespaceURI;\n\t\tif(pl.length == 2){\n\t\t\tnode.prefix = pl[0];\n\t\t\tnode.localName = pl[1];\n\t\t}else{\n\t\t\t//el.prefix = null;\n\t\t\tnode.localName = qualifiedName;\n\t\t}\n\t\tattrs._ownerElement = node;\n\t\treturn node;\n\t},\n\t// Introduced in DOM Level 2:\n\tcreateAttributeNS :\tfunction(namespaceURI,qualifiedName){\n\t\tvar node = new Attr();\n\t\tvar pl = qualifiedName.split(':');\n\t\tnode.ownerDocument = this;\n\t\tnode.nodeName = qualifiedName;\n\t\tnode.name = qualifiedName;\n\t\tnode.namespaceURI = namespaceURI;\n\t\tnode.specified = true;\n\t\tif(pl.length == 2){\n\t\t\tnode.prefix = pl[0];\n\t\t\tnode.localName = pl[1];\n\t\t}else{\n\t\t\t//el.prefix = null;\n\t\t\tnode.localName = qualifiedName;\n\t\t}\n\t\treturn node;\n\t}\n};\n_extends(Document,Node);\n\n\nfunction Element() {\n\tthis._nsMap = {};\n};\nElement.prototype = {\n\tnodeType : ELEMENT_NODE,\n\thasAttribute : function(name){\n\t\treturn this.getAttributeNode(name)!=null;\n\t},\n\tgetAttribute : function(name){\n\t\tvar attr = this.getAttributeNode(name);\n\t\treturn attr && attr.value || '';\n\t},\n\tgetAttributeNode : function(name){\n\t\treturn this.attributes.getNamedItem(name);\n\t},\n\tsetAttribute : function(name, value){\n\t\tvar attr = this.ownerDocument.createAttribute(name);\n\t\tattr.value = attr.nodeValue = \"\" + value;\n\t\tthis.setAttributeNode(attr)\n\t},\n\tremoveAttribute : function(name){\n\t\tvar attr = this.getAttributeNode(name)\n\t\tattr && this.removeAttributeNode(attr);\n\t},\n\t\n\t//four real opeartion method\n\tappendChild:function(newChild){\n\t\tif(newChild.nodeType === DOCUMENT_FRAGMENT_NODE){\n\t\t\treturn this.insertBefore(newChild,null);\n\t\t}else{\n\t\t\treturn _appendSingleChild(this,newChild);\n\t\t}\n\t},\n\tsetAttributeNode : function(newAttr){\n\t\treturn this.attributes.setNamedItem(newAttr);\n\t},\n\tsetAttributeNodeNS : function(newAttr){\n\t\treturn this.attributes.setNamedItemNS(newAttr);\n\t},\n\tremoveAttributeNode : function(oldAttr){\n\t\t//console.log(this == oldAttr.ownerElement)\n\t\treturn this.attributes.removeNamedItem(oldAttr.nodeName);\n\t},\n\t//get real attribute name,and remove it by removeAttributeNode\n\tremoveAttributeNS : function(namespaceURI, localName){\n\t\tvar old = this.getAttributeNodeNS(namespaceURI, localName);\n\t\told && this.removeAttributeNode(old);\n\t},\n\t\n\thasAttributeNS : function(namespaceURI, localName){\n\t\treturn this.getAttributeNodeNS(namespaceURI, localName)!=null;\n\t},\n\tgetAttributeNS : function(namespaceURI, localName){\n\t\tvar attr = this.getAttributeNodeNS(namespaceURI, localName);\n\t\treturn attr && attr.value || '';\n\t},\n\tsetAttributeNS : function(namespaceURI, qualifiedName, value){\n\t\tvar attr = this.ownerDocument.createAttributeNS(namespaceURI, qualifiedName);\n\t\tattr.value = attr.nodeValue = \"\" + value;\n\t\tthis.setAttributeNode(attr)\n\t},\n\tgetAttributeNodeNS : function(namespaceURI, localName){\n\t\treturn this.attributes.getNamedItemNS(namespaceURI, localName);\n\t},\n\t\n\tgetElementsByTagName : function(tagName){\n\t\treturn new LiveNodeList(this,function(base){\n\t\t\tvar ls = [];\n\t\t\t_visitNode(base,function(node){\n\t\t\t\tif(node !== base && node.nodeType == ELEMENT_NODE && (tagName === '*' || node.tagName == tagName)){\n\t\t\t\t\tls.push(node);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn ls;\n\t\t});\n\t},\n\tgetElementsByTagNameNS : function(namespaceURI, localName){\n\t\treturn new LiveNodeList(this,function(base){\n\t\t\tvar ls = [];\n\t\t\t_visitNode(base,function(node){\n\t\t\t\tif(node !== base && node.nodeType === ELEMENT_NODE && (namespaceURI === '*' || node.namespaceURI === namespaceURI) && (localName === '*' || node.localName == localName)){\n\t\t\t\t\tls.push(node);\n\t\t\t\t}\n\t\t\t});\n\t\t\treturn ls;\n\t\t\t\n\t\t});\n\t}\n};\nDocument.prototype.getElementsByTagName = Element.prototype.getElementsByTagName;\nDocument.prototype.getElementsByTagNameNS = Element.prototype.getElementsByTagNameNS;\n\n\n_extends(Element,Node);\nfunction Attr() {\n};\nAttr.prototype.nodeType = ATTRIBUTE_NODE;\n_extends(Attr,Node);\n\n\nfunction CharacterData() {\n};\nCharacterData.prototype = {\n\tdata : '',\n\tsubstringData : function(offset, count) {\n\t\treturn this.data.substring(offset, offset+count);\n\t},\n\tappendData: function(text) {\n\t\ttext = this.data+text;\n\t\tthis.nodeValue = this.data = text;\n\t\tthis.length = text.length;\n\t},\n\tinsertData: function(offset,text) {\n\t\tthis.replaceData(offset,0,text);\n\t\n\t},\n\tappendChild:function(newChild){\n\t\tthrow new Error(ExceptionMessage[HIERARCHY_REQUEST_ERR])\n\t},\n\tdeleteData: function(offset, count) {\n\t\tthis.replaceData(offset,count,\"\");\n\t},\n\treplaceData: function(offset, count, text) {\n\t\tvar start = this.data.substring(0,offset);\n\t\tvar end = this.data.substring(offset+count);\n\t\ttext = start + text + end;\n\t\tthis.nodeValue = this.data = text;\n\t\tthis.length = text.length;\n\t}\n}\n_extends(CharacterData,Node);\nfunction Text() {\n};\nText.prototype = {\n\tnodeName : \"#text\",\n\tnodeType : TEXT_NODE,\n\tsplitText : function(offset) {\n\t\tvar text = this.data;\n\t\tvar newText = text.substring(offset);\n\t\ttext = text.substring(0, offset);\n\t\tthis.data = this.nodeValue = text;\n\t\tthis.length = text.length;\n\t\tvar newNode = this.ownerDocument.createTextNode(newText);\n\t\tif(this.parentNode){\n\t\t\tthis.parentNode.insertBefore(newNode, this.nextSibling);\n\t\t}\n\t\treturn newNode;\n\t}\n}\n_extends(Text,CharacterData);\nfunction Comment() {\n};\nComment.prototype = {\n\tnodeName : \"#comment\",\n\tnodeType : COMMENT_NODE\n}\n_extends(Comment,CharacterData);\n\nfunction CDATASection() {\n};\nCDATASection.prototype = {\n\tnodeName : \"#cdata-section\",\n\tnodeType : CDATA_SECTION_NODE\n}\n_extends(CDATASection,CharacterData);\n\n\nfunction DocumentType() {\n};\nDocumentType.prototype.nodeType = DOCUMENT_TYPE_NODE;\n_extends(DocumentType,Node);\n\nfunction Notation() {\n};\nNotation.prototype.nodeType = NOTATION_NODE;\n_extends(Notation,Node);\n\nfunction Entity() {\n};\nEntity.prototype.nodeType = ENTITY_NODE;\n_extends(Entity,Node);\n\nfunction EntityReference() {\n};\nEntityReference.prototype.nodeType = ENTITY_REFERENCE_NODE;\n_extends(EntityReference,Node);\n\nfunction DocumentFragment() {\n};\nDocumentFragment.prototype.nodeName =\t\"#document-fragment\";\nDocumentFragment.prototype.nodeType =\tDOCUMENT_FRAGMENT_NODE;\n_extends(DocumentFragment,Node);\n\n\nfunction ProcessingInstruction() {\n}\nProcessingInstruction.prototype.nodeType = PROCESSING_INSTRUCTION_NODE;\n_extends(ProcessingInstruction,Node);\nfunction XMLSerializer(){}\nXMLSerializer.prototype.serializeToString = function(node,isHtml,nodeFilter){\n\treturn nodeSerializeToString.call(node,isHtml,nodeFilter);\n}\nNode.prototype.toString = nodeSerializeToString;\nfunction nodeSerializeToString(isHtml,nodeFilter){\n\tvar buf = [];\n\tvar refNode = this.nodeType == 9 && this.documentElement || this;\n\tvar prefix = refNode.prefix;\n\tvar uri = refNode.namespaceURI;\n\t\n\tif(uri && prefix == null){\n\t\t//console.log(prefix)\n\t\tvar prefix = refNode.lookupPrefix(uri);\n\t\tif(prefix == null){\n\t\t\t//isHTML = true;\n\t\t\tvar visibleNamespaces=[\n\t\t\t{namespace:uri,prefix:null}\n\t\t\t//{namespace:uri,prefix:''}\n\t\t\t]\n\t\t}\n\t}\n\tserializeToString(this,buf,isHtml,nodeFilter,visibleNamespaces);\n\t//console.log('###',this.nodeType,uri,prefix,buf.join(''))\n\treturn buf.join('');\n}\nfunction needNamespaceDefine(node,isHTML, visibleNamespaces) {\n\tvar prefix = node.prefix||'';\n\tvar uri = node.namespaceURI;\n\tif (!prefix && !uri){\n\t\treturn false;\n\t}\n\tif (prefix === \"xml\" && uri === \"http://www.w3.org/XML/1998/namespace\" \n\t\t|| uri == 'http://www.w3.org/2000/xmlns/'){\n\t\treturn false;\n\t}\n\t\n\tvar i = visibleNamespaces.length \n\t//console.log('@@@@',node.tagName,prefix,uri,visibleNamespaces)\n\twhile (i--) {\n\t\tvar ns = visibleNamespaces[i];\n\t\t// get namespace prefix\n\t\t//console.log(node.nodeType,node.tagName,ns.prefix,prefix)\n\t\tif (ns.prefix == prefix){\n\t\t\treturn ns.namespace != uri;\n\t\t}\n\t}\n\t//console.log(isHTML,uri,prefix=='')\n\t//if(isHTML && prefix ==null && uri == 'http://www.w3.org/1999/xhtml'){\n\t//\treturn false;\n\t//}\n\t//node.flag = '11111'\n\t//console.error(3,true,node.flag,node.prefix,node.namespaceURI)\n\treturn true;\n}\nfunction serializeToString(node,buf,isHTML,nodeFilter,visibleNamespaces){\n\tif(nodeFilter){\n\t\tnode = nodeFilter(node);\n\t\tif(node){\n\t\t\tif(typeof node == 'string'){\n\t\t\t\tbuf.push(node);\n\t\t\t\treturn;\n\t\t\t}\n\t\t}else{\n\t\t\treturn;\n\t\t}\n\t\t//buf.sort.apply(attrs, attributeSorter);\n\t}\n\tswitch(node.nodeType){\n\tcase ELEMENT_NODE:\n\t\tif (!visibleNamespaces) visibleNamespaces = [];\n\t\tvar startVisibleNamespaces = visibleNamespaces.length;\n\t\tvar attrs = node.attributes;\n\t\tvar len = attrs.length;\n\t\tvar child = node.firstChild;\n\t\tvar nodeName = node.tagName;\n\t\t\n\t\tisHTML =  (htmlns === node.namespaceURI) ||isHTML \n\t\tbuf.push('<',nodeName);\n\t\t\n\t\t\n\t\t\n\t\tfor(var i=0;i<len;i++){\n\t\t\t// add namespaces for attributes\n\t\t\tvar attr = attrs.item(i);\n\t\t\tif (attr.prefix == 'xmlns') {\n\t\t\t\tvisibleNamespaces.push({ prefix: attr.localName, namespace: attr.value });\n\t\t\t}else if(attr.nodeName == 'xmlns'){\n\t\t\t\tvisibleNamespaces.push({ prefix: '', namespace: attr.value });\n\t\t\t}\n\t\t}\n\t\tfor(var i=0;i<len;i++){\n\t\t\tvar attr = attrs.item(i);\n\t\t\tif (needNamespaceDefine(attr,isHTML, visibleNamespaces)) {\n\t\t\t\tvar prefix = attr.prefix||'';\n\t\t\t\tvar uri = attr.namespaceURI;\n\t\t\t\tvar ns = prefix ? ' xmlns:' + prefix : \" xmlns\";\n\t\t\t\tbuf.push(ns, '=\"' , uri , '\"');\n\t\t\t\tvisibleNamespaces.push({ prefix: prefix, namespace:uri });\n\t\t\t}\n\t\t\tserializeToString(attr,buf,isHTML,nodeFilter,visibleNamespaces);\n\t\t}\n\t\t// add namespace for current node\t\t\n\t\tif (needNamespaceDefine(node,isHTML, visibleNamespaces)) {\n\t\t\tvar prefix = node.prefix||'';\n\t\t\tvar uri = node.namespaceURI;\n\t\t\tif (uri) {\n\t\t\t\t// Avoid empty namespace value like xmlns:ds=\"\"\n\t\t\t\t// Empty namespace URL will we produce an invalid XML document\n\t\t\t\tvar ns = prefix ? ' xmlns:' + prefix : \" xmlns\";\n\t\t\t\tbuf.push(ns, '=\"' , uri , '\"');\n\t\t\t\tvisibleNamespaces.push({ prefix: prefix, namespace:uri });\n\t\t\t}\n\t\t}\n\t\t\n\t\tif(child || isHTML && !/^(?:meta|link|img|br|hr|input)$/i.test(nodeName)){\n\t\t\tbuf.push('>');\n\t\t\t//if is cdata child node\n\t\t\tif(isHTML && /^script$/i.test(nodeName)){\n\t\t\t\twhile(child){\n\t\t\t\t\tif(child.data){\n\t\t\t\t\t\tbuf.push(child.data);\n\t\t\t\t\t}else{\n\t\t\t\t\t\tserializeToString(child,buf,isHTML,nodeFilter,visibleNamespaces);\n\t\t\t\t\t}\n\t\t\t\t\tchild = child.nextSibling;\n\t\t\t\t}\n\t\t\t}else\n\t\t\t{\n\t\t\t\twhile(child){\n\t\t\t\t\tserializeToString(child,buf,isHTML,nodeFilter,visibleNamespaces);\n\t\t\t\t\tchild = child.nextSibling;\n\t\t\t\t}\n\t\t\t}\n\t\t\tbuf.push('</',nodeName,'>');\n\t\t}else{\n\t\t\tbuf.push('/>');\n\t\t}\n\t\t// remove added visible namespaces\n\t\t//visibleNamespaces.length = startVisibleNamespaces;\n\t\treturn;\n\tcase DOCUMENT_NODE:\n\tcase DOCUMENT_FRAGMENT_NODE:\n\t\tvar child = node.firstChild;\n\t\twhile(child){\n\t\t\tserializeToString(child,buf,isHTML,nodeFilter,visibleNamespaces);\n\t\t\tchild = child.nextSibling;\n\t\t}\n\t\treturn;\n\tcase ATTRIBUTE_NODE:\n\t\t/**\n\t\t * Well-formedness constraint: No < in Attribute Values\n\t\t * The replacement text of any entity referred to directly or indirectly in an attribute value must not contain a <.\n\t\t * @see https://www.w3.org/TR/xml/#CleanAttrVals\n\t\t * @see https://www.w3.org/TR/xml/#NT-AttValue\n\t\t */\n\t\treturn buf.push(' ', node.name, '=\"', node.value.replace(/[<&\"]/g,_xmlEncoder), '\"');\n\tcase TEXT_NODE:\n\t\t/**\n\t\t * The ampersand character (&) and the left angle bracket (<) must not appear in their literal form,\n\t\t * except when used as markup delimiters, or within a comment, a processing instruction, or a CDATA section.\n\t\t * If they are needed elsewhere, they must be escaped using either numeric character references or the strings\n\t\t * `&amp;` and `&lt;` respectively.\n\t\t * The right angle bracket (>) may be represented using the string \" &gt; \", and must, for compatibility,\n\t\t * be escaped using either `&gt;` or a character reference when it appears in the string `]]>` in content,\n\t\t * when that string is not marking the end of a CDATA section.\n\t\t *\n\t\t * In the content of elements, character data is any string of characters\n\t\t * which does not contain the start-delimiter of any markup\n\t\t * and does not include the CDATA-section-close delimiter, `]]>`.\n\t\t *\n\t\t * @see https://www.w3.org/TR/xml/#NT-CharData\n\t\t */\n\t\treturn buf.push(node.data\n\t\t\t.replace(/[<&]/g,_xmlEncoder)\n\t\t\t.replace(/]]>/g, ']]&gt;')\n\t\t);\n\tcase CDATA_SECTION_NODE:\n\t\treturn buf.push( '<![CDATA[',node.data,']]>');\n\tcase COMMENT_NODE:\n\t\treturn buf.push( \"<!--\",node.data,\"-->\");\n\tcase DOCUMENT_TYPE_NODE:\n\t\tvar pubid = node.publicId;\n\t\tvar sysid = node.systemId;\n\t\tbuf.push('<!DOCTYPE ',node.name);\n\t\tif(pubid){\n\t\t\tbuf.push(' PUBLIC ', pubid);\n\t\t\tif (sysid && sysid!='.') {\n\t\t\t\tbuf.push(' ', sysid);\n\t\t\t}\n\t\t\tbuf.push('>');\n\t\t}else if(sysid && sysid!='.'){\n\t\t\tbuf.push(' SYSTEM ', sysid, '>');\n\t\t}else{\n\t\t\tvar sub = node.internalSubset;\n\t\t\tif(sub){\n\t\t\t\tbuf.push(\" [\",sub,\"]\");\n\t\t\t}\n\t\t\tbuf.push(\">\");\n\t\t}\n\t\treturn;\n\tcase PROCESSING_INSTRUCTION_NODE:\n\t\treturn buf.push( \"<?\",node.target,\" \",node.data,\"?>\");\n\tcase ENTITY_REFERENCE_NODE:\n\t\treturn buf.push( '&',node.nodeName,';');\n\t//case ENTITY_NODE:\n\t//case NOTATION_NODE:\n\tdefault:\n\t\tbuf.push('??',node.nodeName);\n\t}\n}\nfunction importNode(doc,node,deep){\n\tvar node2;\n\tswitch (node.nodeType) {\n\tcase ELEMENT_NODE:\n\t\tnode2 = node.cloneNode(false);\n\t\tnode2.ownerDocument = doc;\n\t\t//var attrs = node2.attributes;\n\t\t//var len = attrs.length;\n\t\t//for(var i=0;i<len;i++){\n\t\t\t//node2.setAttributeNodeNS(importNode(doc,attrs.item(i),deep));\n\t\t//}\n\tcase DOCUMENT_FRAGMENT_NODE:\n\t\tbreak;\n\tcase ATTRIBUTE_NODE:\n\t\tdeep = true;\n\t\tbreak;\n\t//case ENTITY_REFERENCE_NODE:\n\t//case PROCESSING_INSTRUCTION_NODE:\n\t////case TEXT_NODE:\n\t//case CDATA_SECTION_NODE:\n\t//case COMMENT_NODE:\n\t//\tdeep = false;\n\t//\tbreak;\n\t//case DOCUMENT_NODE:\n\t//case DOCUMENT_TYPE_NODE:\n\t//cannot be imported.\n\t//case ENTITY_NODE:\n\t//case NOTATION_NODE\n\t//can not hit in level3\n\t//default:throw e;\n\t}\n\tif(!node2){\n\t\tnode2 = node.cloneNode(false);//false\n\t}\n\tnode2.ownerDocument = doc;\n\tnode2.parentNode = null;\n\tif(deep){\n\t\tvar child = node.firstChild;\n\t\twhile(child){\n\t\t\tnode2.appendChild(importNode(doc,child,deep));\n\t\t\tchild = child.nextSibling;\n\t\t}\n\t}\n\treturn node2;\n}\n//\n//var _relationMap = {firstChild:1,lastChild:1,previousSibling:1,nextSibling:1,\n//\t\t\t\t\tattributes:1,childNodes:1,parentNode:1,documentElement:1,doctype,};\nfunction cloneNode(doc,node,deep){\n\tvar node2 = new node.constructor();\n\tfor(var n in node){\n\t\tvar v = node[n];\n\t\tif(typeof v != 'object' ){\n\t\t\tif(v != node2[n]){\n\t\t\t\tnode2[n] = v;\n\t\t\t}\n\t\t}\n\t}\n\tif(node.childNodes){\n\t\tnode2.childNodes = new NodeList();\n\t}\n\tnode2.ownerDocument = doc;\n\tswitch (node2.nodeType) {\n\tcase ELEMENT_NODE:\n\t\tvar attrs\t= node.attributes;\n\t\tvar attrs2\t= node2.attributes = new NamedNodeMap();\n\t\tvar len = attrs.length\n\t\tattrs2._ownerElement = node2;\n\t\tfor(var i=0;i<len;i++){\n\t\t\tnode2.setAttributeNode(cloneNode(doc,attrs.item(i),true));\n\t\t}\n\t\tbreak;;\n\tcase ATTRIBUTE_NODE:\n\t\tdeep = true;\n\t}\n\tif(deep){\n\t\tvar child = node.firstChild;\n\t\twhile(child){\n\t\t\tnode2.appendChild(cloneNode(doc,child,deep));\n\t\t\tchild = child.nextSibling;\n\t\t}\n\t}\n\treturn node2;\n}\n\nfunction __set__(object,key,value){\n\tobject[key] = value\n}\n//do dynamic\ntry{\n\tif(Object.defineProperty){\n\t\tObject.defineProperty(LiveNodeList.prototype,'length',{\n\t\t\tget:function(){\n\t\t\t\t_updateLiveList(this);\n\t\t\t\treturn this.$$length;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(Node.prototype,'textContent',{\n\t\t\tget:function(){\n\t\t\t\treturn getTextContent(this);\n\t\t\t},\n\t\t\tset:function(data){\n\t\t\t\tswitch(this.nodeType){\n\t\t\t\tcase ELEMENT_NODE:\n\t\t\t\tcase DOCUMENT_FRAGMENT_NODE:\n\t\t\t\t\twhile(this.firstChild){\n\t\t\t\t\t\tthis.removeChild(this.firstChild);\n\t\t\t\t\t}\n\t\t\t\t\tif(data || String(data)){\n\t\t\t\t\t\tthis.appendChild(this.ownerDocument.createTextNode(data));\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\t//TODO:\n\t\t\t\t\tthis.data = data;\n\t\t\t\t\tthis.value = data;\n\t\t\t\t\tthis.nodeValue = data;\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t\t\n\t\tfunction getTextContent(node){\n\t\t\tswitch(node.nodeType){\n\t\t\tcase ELEMENT_NODE:\n\t\t\tcase DOCUMENT_FRAGMENT_NODE:\n\t\t\t\tvar buf = [];\n\t\t\t\tnode = node.firstChild;\n\t\t\t\twhile(node){\n\t\t\t\t\tif(node.nodeType!==7 && node.nodeType !==8){\n\t\t\t\t\t\tbuf.push(getTextContent(node));\n\t\t\t\t\t}\n\t\t\t\t\tnode = node.nextSibling;\n\t\t\t\t}\n\t\t\t\treturn buf.join('');\n\t\t\tdefault:\n\t\t\t\treturn node.nodeValue;\n\t\t\t}\n\t\t}\n\t\t__set__ = function(object,key,value){\n\t\t\t//console.log(value)\n\t\t\tobject['$$'+key] = value\n\t\t}\n\t}\n}catch(e){//ie8\n}\n\n//if(typeof require == 'function'){\n\texports.Node = Node;\n\texports.DOMException = DOMException;\n\texports.DOMImplementation = DOMImplementation;\n\texports.XMLSerializer = XMLSerializer;\n//}\n","exports.entityMap = {\n       lt: '<',\n       gt: '>',\n       amp: '&',\n       quot: '\"',\n       apos: \"'\",\n       Agrave: \"\",\n       Aacute: \"\",\n       Acirc: \"\",\n       Atilde: \"\",\n       Auml: \"\",\n       Aring: \"\",\n       AElig: \"\",\n       Ccedil: \"\",\n       Egrave: \"\",\n       Eacute: \"\",\n       Ecirc: \"\",\n       Euml: \"\",\n       Igrave: \"\",\n       Iacute: \"\",\n       Icirc: \"\",\n       Iuml: \"\",\n       ETH: \"\",\n       Ntilde: \"\",\n       Ograve: \"\",\n       Oacute: \"\",\n       Ocirc: \"\",\n       Otilde: \"\",\n       Ouml: \"\",\n       Oslash: \"\",\n       Ugrave: \"\",\n       Uacute: \"\",\n       Ucirc: \"\",\n       Uuml: \"\",\n       Yacute: \"\",\n       THORN: \"\",\n       szlig: \"\",\n       agrave: \"\",\n       aacute: \"\",\n       acirc: \"\",\n       atilde: \"\",\n       auml: \"\",\n       aring: \"\",\n       aelig: \"\",\n       ccedil: \"\",\n       egrave: \"\",\n       eacute: \"\",\n       ecirc: \"\",\n       euml: \"\",\n       igrave: \"\",\n       iacute: \"\",\n       icirc: \"\",\n       iuml: \"\",\n       eth: \"\",\n       ntilde: \"\",\n       ograve: \"\",\n       oacute: \"\",\n       ocirc: \"\",\n       otilde: \"\",\n       ouml: \"\",\n       oslash: \"\",\n       ugrave: \"\",\n       uacute: \"\",\n       ucirc: \"\",\n       uuml: \"\",\n       yacute: \"\",\n       thorn: \"\",\n       yuml: \"\",\n       nbsp: \"\\u00a0\",\n       iexcl: \"\",\n       cent: \"\",\n       pound: \"\",\n       curren: \"\",\n       yen: \"\",\n       brvbar: \"\",\n       sect: \"\",\n       uml: \"\",\n       copy: \"\",\n       ordf: \"\",\n       laquo: \"\",\n       not: \"\",\n       shy: \"\",\n       reg: \"\",\n       macr: \"\",\n       deg: \"\",\n       plusmn: \"\",\n       sup2: \"\",\n       sup3: \"\",\n       acute: \"\",\n       micro: \"\",\n       para: \"\",\n       middot: \"\",\n       cedil: \"\",\n       sup1: \"\",\n       ordm: \"\",\n       raquo: \"\",\n       frac14: \"\",\n       frac12: \"\",\n       frac34: \"\",\n       iquest: \"\",\n       times: \"\",\n       divide: \"\",\n       forall: \"\",\n       part: \"\",\n       exist: \"\",\n       empty: \"\",\n       nabla: \"\",\n       isin: \"\",\n       notin: \"\",\n       ni: \"\",\n       prod: \"\",\n       sum: \"\",\n       minus: \"\",\n       lowast: \"\",\n       radic: \"\",\n       prop: \"\",\n       infin: \"\",\n       ang: \"\",\n       and: \"\",\n       or: \"\",\n       cap: \"\",\n       cup: \"\",\n       'int': \"\",\n       there4: \"\",\n       sim: \"\",\n       cong: \"\",\n       asymp: \"\",\n       ne: \"\",\n       equiv: \"\",\n       le: \"\",\n       ge: \"\",\n       sub: \"\",\n       sup: \"\",\n       nsub: \"\",\n       sube: \"\",\n       supe: \"\",\n       oplus: \"\",\n       otimes: \"\",\n       perp: \"\",\n       sdot: \"\",\n       Alpha: \"\",\n       Beta: \"\",\n       Gamma: \"\",\n       Delta: \"\",\n       Epsilon: \"\",\n       Zeta: \"\",\n       Eta: \"\",\n       Theta: \"\",\n       Iota: \"\",\n       Kappa: \"\",\n       Lambda: \"\",\n       Mu: \"\",\n       Nu: \"\",\n       Xi: \"\",\n       Omicron: \"\",\n       Pi: \"\",\n       Rho: \"\",\n       Sigma: \"\",\n       Tau: \"\",\n       Upsilon: \"\",\n       Phi: \"\",\n       Chi: \"\",\n       Psi: \"\",\n       Omega: \"\",\n       alpha: \"\",\n       beta: \"\",\n       gamma: \"\",\n       delta: \"\",\n       epsilon: \"\",\n       zeta: \"\",\n       eta: \"\",\n       theta: \"\",\n       iota: \"\",\n       kappa: \"\",\n       lambda: \"\",\n       mu: \"\",\n       nu: \"\",\n       xi: \"\",\n       omicron: \"\",\n       pi: \"\",\n       rho: \"\",\n       sigmaf: \"\",\n       sigma: \"\",\n       tau: \"\",\n       upsilon: \"\",\n       phi: \"\",\n       chi: \"\",\n       psi: \"\",\n       omega: \"\",\n       thetasym: \"\",\n       upsih: \"\",\n       piv: \"\",\n       OElig: \"\",\n       oelig: \"\",\n       Scaron: \"\",\n       scaron: \"\",\n       Yuml: \"\",\n       fnof: \"\",\n       circ: \"\",\n       tilde: \"\",\n       ensp: \"\",\n       emsp: \"\",\n       thinsp: \"\",\n       zwnj: \"\",\n       zwj: \"\",\n       lrm: \"\",\n       rlm: \"\",\n       ndash: \"\",\n       mdash: \"\",\n       lsquo: \"\",\n       rsquo: \"\",\n       sbquo: \"\",\n       ldquo: \"\",\n       rdquo: \"\",\n       bdquo: \"\",\n       dagger: \"\",\n       Dagger: \"\",\n       bull: \"\",\n       hellip: \"\",\n       permil: \"\",\n       prime: \"\",\n       Prime: \"\",\n       lsaquo: \"\",\n       rsaquo: \"\",\n       oline: \"\",\n       euro: \"\",\n       trade: \"\",\n       larr: \"\",\n       uarr: \"\",\n       rarr: \"\",\n       darr: \"\",\n       harr: \"\",\n       crarr: \"\",\n       lceil: \"\",\n       rceil: \"\",\n       lfloor: \"\",\n       rfloor: \"\",\n       loz: \"\",\n       spades: \"\",\n       clubs: \"\",\n       hearts: \"\",\n       diams: \"\"\n};\n","//[4]   \tNameStartChar\t   ::=   \t\":\" | [A-Z] | \"_\" | [a-z] | [#xC0-#xD6] | [#xD8-#xF6] | [#xF8-#x2FF] | [#x370-#x37D] | [#x37F-#x1FFF] | [#x200C-#x200D] | [#x2070-#x218F] | [#x2C00-#x2FEF] | [#x3001-#xD7FF] | [#xF900-#xFDCF] | [#xFDF0-#xFFFD] | [#x10000-#xEFFFF]\n//[4a]   \tNameChar\t   ::=   \tNameStartChar | \"-\" | \".\" | [0-9] | #xB7 | [#x0300-#x036F] | [#x203F-#x2040]\n//[5]   \tName\t   ::=   \tNameStartChar (NameChar)*\nvar nameStartChar = /[A-Z_a-z\\xC0-\\xD6\\xD8-\\xF6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD]///\\u10000-\\uEFFFF\nvar nameChar = new RegExp(\"[\\\\-\\\\.0-9\"+nameStartChar.source.slice(1,-1)+\"\\\\u00B7\\\\u0300-\\\\u036F\\\\u203F-\\\\u2040]\");\nvar tagNamePattern = new RegExp('^'+nameStartChar.source+nameChar.source+'*(?:\\:'+nameStartChar.source+nameChar.source+'*)?$');\n//var tagNamePattern = /^[a-zA-Z_][\\w\\-\\.]*(?:\\:[a-zA-Z_][\\w\\-\\.]*)?$/\n//var handlers = 'resolveEntity,getExternalSubset,characters,endDocument,endElement,endPrefixMapping,ignorableWhitespace,processingInstruction,setDocumentLocator,skippedEntity,startDocument,startElement,startPrefixMapping,notationDecl,unparsedEntityDecl,error,fatalError,warning,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,comment,endCDATA,endDTD,endEntity,startCDATA,startDTD,startEntity'.split(',')\n\n//S_TAG,\tS_ATTR,\tS_EQ,\tS_ATTR_NOQUOT_VALUE\n//S_ATTR_SPACE,\tS_ATTR_END,\tS_TAG_SPACE, S_TAG_CLOSE\nvar S_TAG = 0;//tag name offerring\nvar S_ATTR = 1;//attr name offerring \nvar S_ATTR_SPACE=2;//attr name end and space offer\nvar S_EQ = 3;//=space?\nvar S_ATTR_NOQUOT_VALUE = 4;//attr value(no quot value only)\nvar S_ATTR_END = 5;//attr value end and no space(quot end)\nvar S_TAG_SPACE = 6;//(attr value end || tag end ) && (space offer)\nvar S_TAG_CLOSE = 7;//closed el<el />\n\n/**\n * Creates an error that will not be caught by XMLReader aka the SAX parser.\n *\n * @param {string} message\n * @param {any?} locator Optional, can provide details about the location in the source\n * @constructor\n */\nfunction ParseError(message, locator) {\n\tthis.message = message\n\tthis.locator = locator\n\tif(Error.captureStackTrace) Error.captureStackTrace(this, ParseError);\n}\nParseError.prototype = new Error();\nParseError.prototype.name = ParseError.name\n\nfunction XMLReader(){\n\t\n}\n\nXMLReader.prototype = {\n\tparse:function(source,defaultNSMap,entityMap){\n\t\tvar domBuilder = this.domBuilder;\n\t\tdomBuilder.startDocument();\n\t\t_copy(defaultNSMap ,defaultNSMap = {})\n\t\tparse(source,defaultNSMap,entityMap,\n\t\t\t\tdomBuilder,this.errorHandler);\n\t\tdomBuilder.endDocument();\n\t}\n}\nfunction parse(source,defaultNSMapCopy,entityMap,domBuilder,errorHandler){\n\tfunction fixedFromCharCode(code) {\n\t\t// String.prototype.fromCharCode does not supports\n\t\t// > 2 bytes unicode chars directly\n\t\tif (code > 0xffff) {\n\t\t\tcode -= 0x10000;\n\t\t\tvar surrogate1 = 0xd800 + (code >> 10)\n\t\t\t\t, surrogate2 = 0xdc00 + (code & 0x3ff);\n\n\t\t\treturn String.fromCharCode(surrogate1, surrogate2);\n\t\t} else {\n\t\t\treturn String.fromCharCode(code);\n\t\t}\n\t}\n\tfunction entityReplacer(a){\n\t\tvar k = a.slice(1,-1);\n\t\tif(k in entityMap){\n\t\t\treturn entityMap[k]; \n\t\t}else if(k.charAt(0) === '#'){\n\t\t\treturn fixedFromCharCode(parseInt(k.substr(1).replace('x','0x')))\n\t\t}else{\n\t\t\terrorHandler.error('entity not found:'+a);\n\t\t\treturn a;\n\t\t}\n\t}\n\tfunction appendText(end){//has some bugs\n\t\tif(end>start){\n\t\t\tvar xt = source.substring(start,end).replace(/&#?\\w+;/g,entityReplacer);\n\t\t\tlocator&&position(start);\n\t\t\tdomBuilder.characters(xt,0,end-start);\n\t\t\tstart = end\n\t\t}\n\t}\n\tfunction position(p,m){\n\t\twhile(p>=lineEnd && (m = linePattern.exec(source))){\n\t\t\tlineStart = m.index;\n\t\t\tlineEnd = lineStart + m[0].length;\n\t\t\tlocator.lineNumber++;\n\t\t\t//console.log('line++:',locator,startPos,endPos)\n\t\t}\n\t\tlocator.columnNumber = p-lineStart+1;\n\t}\n\tvar lineStart = 0;\n\tvar lineEnd = 0;\n\tvar linePattern = /.*(?:\\r\\n?|\\n)|.*$/g\n\tvar locator = domBuilder.locator;\n\t\n\tvar parseStack = [{currentNSMap:defaultNSMapCopy}]\n\tvar closeMap = {};\n\tvar start = 0;\n\twhile(true){\n\t\ttry{\n\t\t\tvar tagStart = source.indexOf('<',start);\n\t\t\tif(tagStart<0){\n\t\t\t\tif(!source.substr(start).match(/^\\s*$/)){\n\t\t\t\t\tvar doc = domBuilder.doc;\n\t    \t\t\tvar text = doc.createTextNode(source.substr(start));\n\t    \t\t\tdoc.appendChild(text);\n\t    \t\t\tdomBuilder.currentElement = text;\n\t\t\t\t}\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tif(tagStart>start){\n\t\t\t\tappendText(tagStart);\n\t\t\t}\n\t\t\tswitch(source.charAt(tagStart+1)){\n\t\t\tcase '/':\n\t\t\t\tvar end = source.indexOf('>',tagStart+3);\n\t\t\t\tvar tagName = source.substring(tagStart+2,end);\n\t\t\t\tvar config = parseStack.pop();\n\t\t\t\tif(end<0){\n\t\t\t\t\t\n\t        \t\ttagName = source.substring(tagStart+2).replace(/[\\s<].*/,'');\n\t        \t\terrorHandler.error(\"end tag name: \"+tagName+' is not complete:'+config.tagName);\n\t        \t\tend = tagStart+1+tagName.length;\n\t        \t}else if(tagName.match(/\\s</)){\n\t        \t\ttagName = tagName.replace(/[\\s<].*/,'');\n\t        \t\terrorHandler.error(\"end tag name: \"+tagName+' maybe not complete');\n\t        \t\tend = tagStart+1+tagName.length;\n\t\t\t\t}\n\t\t\t\tvar localNSMap = config.localNSMap;\n\t\t\t\tvar endMatch = config.tagName == tagName;\n\t\t\t\tvar endIgnoreCaseMach = endMatch || config.tagName&&config.tagName.toLowerCase() == tagName.toLowerCase()\n\t\t        if(endIgnoreCaseMach){\n\t\t        \tdomBuilder.endElement(config.uri,config.localName,tagName);\n\t\t\t\t\tif(localNSMap){\n\t\t\t\t\t\tfor(var prefix in localNSMap){\n\t\t\t\t\t\t\tdomBuilder.endPrefixMapping(prefix) ;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tif(!endMatch){\n\t\t            \terrorHandler.fatalError(\"end tag name: \"+tagName+' is not match the current start tagName:'+config.tagName ); // No known test case\n\t\t\t\t\t}\n\t\t        }else{\n\t\t        \tparseStack.push(config)\n\t\t        }\n\t\t\t\t\n\t\t\t\tend++;\n\t\t\t\tbreak;\n\t\t\t\t// end elment\n\t\t\tcase '?':// <?...?>\n\t\t\t\tlocator&&position(tagStart);\n\t\t\t\tend = parseInstruction(source,tagStart,domBuilder);\n\t\t\t\tbreak;\n\t\t\tcase '!':// <!doctype,<![CDATA,<!--\n\t\t\t\tlocator&&position(tagStart);\n\t\t\t\tend = parseDCC(source,tagStart,domBuilder,errorHandler);\n\t\t\t\tbreak;\n\t\t\tdefault:\n\t\t\t\tlocator&&position(tagStart);\n\t\t\t\tvar el = new ElementAttributes();\n\t\t\t\tvar currentNSMap = parseStack[parseStack.length-1].currentNSMap;\n\t\t\t\t//elStartEnd\n\t\t\t\tvar end = parseElementStartPart(source,tagStart,el,currentNSMap,entityReplacer,errorHandler);\n\t\t\t\tvar len = el.length;\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tif(!el.closed && fixSelfClosed(source,end,el.tagName,closeMap)){\n\t\t\t\t\tel.closed = true;\n\t\t\t\t\tif(!entityMap.nbsp){\n\t\t\t\t\t\terrorHandler.warning('unclosed xml attribute');\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\tif(locator && len){\n\t\t\t\t\tvar locator2 = copyLocator(locator,{});\n\t\t\t\t\t//try{//attribute position fixed\n\t\t\t\t\tfor(var i = 0;i<len;i++){\n\t\t\t\t\t\tvar a = el[i];\n\t\t\t\t\t\tposition(a.offset);\n\t\t\t\t\t\ta.locator = copyLocator(locator,{});\n\t\t\t\t\t}\n\t\t\t\t\tdomBuilder.locator = locator2\n\t\t\t\t\tif(appendElement(el,domBuilder,currentNSMap)){\n\t\t\t\t\t\tparseStack.push(el)\n\t\t\t\t\t}\n\t\t\t\t\tdomBuilder.locator = locator;\n\t\t\t\t}else{\n\t\t\t\t\tif(appendElement(el,domBuilder,currentNSMap)){\n\t\t\t\t\t\tparseStack.push(el)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\t\n\t\t\t\t\n\t\t\t\t\n\t\t\t\tif(el.uri === 'http://www.w3.org/1999/xhtml' && !el.closed){\n\t\t\t\t\tend = parseHtmlSpecialContent(source,end,el.tagName,entityReplacer,domBuilder)\n\t\t\t\t}else{\n\t\t\t\t\tend++;\n\t\t\t\t}\n\t\t\t}\n\t\t}catch(e){\n\t\t\tif (e instanceof ParseError) {\n\t\t\t\tthrow e;\n\t\t\t}\n\t\t\terrorHandler.error('element parse error: '+e)\n\t\t\tend = -1;\n\t\t}\n\t\tif(end>start){\n\t\t\tstart = end;\n\t\t}else{\n\t\t\t//TODO: sax\n\t\t\tappendText(Math.max(tagStart,start)+1);\n\t\t}\n\t}\n}\nfunction copyLocator(f,t){\n\tt.lineNumber = f.lineNumber;\n\tt.columnNumber = f.columnNumber;\n\treturn t;\n}\n\n/**\n * @see #appendElement(source,elStartEnd,el,selfClosed,entityReplacer,domBuilder,parseStack);\n * @return end of the elementStartPart(end of elementEndPart for selfClosed el)\n */\nfunction parseElementStartPart(source,start,el,currentNSMap,entityReplacer,errorHandler){\n\n\t/**\n\t * @param {string} qname\n\t * @param {string} value\n\t * @param {number} startIndex\n\t */\n\tfunction addAttribute(qname, value, startIndex) {\n\t\tif (qname in el.attributeNames) errorHandler.fatalError('Attribute ' + qname + ' redefined')\n\t\tel.addValue(qname, value, startIndex)\n\t}\n\tvar attrName;\n\tvar value;\n\tvar p = ++start;\n\tvar s = S_TAG;//status\n\twhile(true){\n\t\tvar c = source.charAt(p);\n\t\tswitch(c){\n\t\tcase '=':\n\t\t\tif(s === S_ATTR){//attrName\n\t\t\t\tattrName = source.slice(start,p);\n\t\t\t\ts = S_EQ;\n\t\t\t}else if(s === S_ATTR_SPACE){\n\t\t\t\ts = S_EQ;\n\t\t\t}else{\n\t\t\t\t//fatalError: equal must after attrName or space after attrName\n\t\t\t\tthrow new Error('attribute equal must after attrName'); // No known test case\n\t\t\t}\n\t\t\tbreak;\n\t\tcase '\\'':\n\t\tcase '\"':\n\t\t\tif(s === S_EQ || s === S_ATTR //|| s == S_ATTR_SPACE\n\t\t\t\t){//equal\n\t\t\t\tif(s === S_ATTR){\n\t\t\t\t\terrorHandler.warning('attribute value must after \"=\"')\n\t\t\t\t\tattrName = source.slice(start,p)\n\t\t\t\t}\n\t\t\t\tstart = p+1;\n\t\t\t\tp = source.indexOf(c,start)\n\t\t\t\tif(p>0){\n\t\t\t\t\tvalue = source.slice(start,p).replace(/&#?\\w+;/g,entityReplacer);\n\t\t\t\t\taddAttribute(attrName, value, start-1);\n\t\t\t\t\ts = S_ATTR_END;\n\t\t\t\t}else{\n\t\t\t\t\t//fatalError: no end quot match\n\t\t\t\t\tthrow new Error('attribute value no end \\''+c+'\\' match');\n\t\t\t\t}\n\t\t\t}else if(s == S_ATTR_NOQUOT_VALUE){\n\t\t\t\tvalue = source.slice(start,p).replace(/&#?\\w+;/g,entityReplacer);\n\t\t\t\t//console.log(attrName,value,start,p)\n\t\t\t\taddAttribute(attrName, value, start);\n\t\t\t\t//console.dir(el)\n\t\t\t\terrorHandler.warning('attribute \"'+attrName+'\" missed start quot('+c+')!!');\n\t\t\t\tstart = p+1;\n\t\t\t\ts = S_ATTR_END\n\t\t\t}else{\n\t\t\t\t//fatalError: no equal before\n\t\t\t\tthrow new Error('attribute value must after \"=\"'); // No known test case\n\t\t\t}\n\t\t\tbreak;\n\t\tcase '/':\n\t\t\tswitch(s){\n\t\t\tcase S_TAG:\n\t\t\t\tel.setTagName(source.slice(start,p));\n\t\t\tcase S_ATTR_END:\n\t\t\tcase S_TAG_SPACE:\n\t\t\tcase S_TAG_CLOSE:\n\t\t\t\ts =S_TAG_CLOSE;\n\t\t\t\tel.closed = true;\n\t\t\tcase S_ATTR_NOQUOT_VALUE:\n\t\t\tcase S_ATTR:\n\t\t\tcase S_ATTR_SPACE:\n\t\t\t\tbreak;\n\t\t\t//case S_EQ:\n\t\t\tdefault:\n\t\t\t\tthrow new Error(\"attribute invalid close char('/')\") // No known test case\n\t\t\t}\n\t\t\tbreak;\n\t\tcase ''://end document\n\t\t\terrorHandler.error('unexpected end of input');\n\t\t\tif(s == S_TAG){\n\t\t\t\tel.setTagName(source.slice(start,p));\n\t\t\t}\n\t\t\treturn p;\n\t\tcase '>':\n\t\t\tswitch(s){\n\t\t\tcase S_TAG:\n\t\t\t\tel.setTagName(source.slice(start,p));\n\t\t\tcase S_ATTR_END:\n\t\t\tcase S_TAG_SPACE:\n\t\t\tcase S_TAG_CLOSE:\n\t\t\t\tbreak;//normal\n\t\t\tcase S_ATTR_NOQUOT_VALUE://Compatible state\n\t\t\tcase S_ATTR:\n\t\t\t\tvalue = source.slice(start,p);\n\t\t\t\tif(value.slice(-1) === '/'){\n\t\t\t\t\tel.closed  = true;\n\t\t\t\t\tvalue = value.slice(0,-1)\n\t\t\t\t}\n\t\t\tcase S_ATTR_SPACE:\n\t\t\t\tif(s === S_ATTR_SPACE){\n\t\t\t\t\tvalue = attrName;\n\t\t\t\t}\n\t\t\t\tif(s == S_ATTR_NOQUOT_VALUE){\n\t\t\t\t\terrorHandler.warning('attribute \"'+value+'\" missed quot(\")!');\n\t\t\t\t\taddAttribute(attrName, value.replace(/&#?\\w+;/g,entityReplacer), start)\n\t\t\t\t}else{\n\t\t\t\t\tif(currentNSMap[''] !== 'http://www.w3.org/1999/xhtml' || !value.match(/^(?:disabled|checked|selected)$/i)){\n\t\t\t\t\t\terrorHandler.warning('attribute \"'+value+'\" missed value!! \"'+value+'\" instead!!')\n\t\t\t\t\t}\n\t\t\t\t\taddAttribute(value, value, start)\n\t\t\t\t}\n\t\t\t\tbreak;\n\t\t\tcase S_EQ:\n\t\t\t\tthrow new Error('attribute value missed!!');\n\t\t\t}\n//\t\t\tconsole.log(tagName,tagNamePattern,tagNamePattern.test(tagName))\n\t\t\treturn p;\n\t\t/*xml space '\\x20' | #x9 | #xD | #xA; */\n\t\tcase '\\u0080':\n\t\t\tc = ' ';\n\t\tdefault:\n\t\t\tif(c<= ' '){//space\n\t\t\t\tswitch(s){\n\t\t\t\tcase S_TAG:\n\t\t\t\t\tel.setTagName(source.slice(start,p));//tagName\n\t\t\t\t\ts = S_TAG_SPACE;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_ATTR:\n\t\t\t\t\tattrName = source.slice(start,p)\n\t\t\t\t\ts = S_ATTR_SPACE;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_ATTR_NOQUOT_VALUE:\n\t\t\t\t\tvar value = source.slice(start,p).replace(/&#?\\w+;/g,entityReplacer);\n\t\t\t\t\terrorHandler.warning('attribute \"'+value+'\" missed quot(\")!!');\n\t\t\t\t\taddAttribute(attrName, value, start)\n\t\t\t\tcase S_ATTR_END:\n\t\t\t\t\ts = S_TAG_SPACE;\n\t\t\t\t\tbreak;\n\t\t\t\t//case S_TAG_SPACE:\n\t\t\t\t//case S_EQ:\n\t\t\t\t//case S_ATTR_SPACE:\n\t\t\t\t//\tvoid();break;\n\t\t\t\t//case S_TAG_CLOSE:\n\t\t\t\t\t//ignore warning\n\t\t\t\t}\n\t\t\t}else{//not space\n//S_TAG,\tS_ATTR,\tS_EQ,\tS_ATTR_NOQUOT_VALUE\n//S_ATTR_SPACE,\tS_ATTR_END,\tS_TAG_SPACE, S_TAG_CLOSE\n\t\t\t\tswitch(s){\n\t\t\t\t//case S_TAG:void();break;\n\t\t\t\t//case S_ATTR:void();break;\n\t\t\t\t//case S_ATTR_NOQUOT_VALUE:void();break;\n\t\t\t\tcase S_ATTR_SPACE:\n\t\t\t\t\tvar tagName =  el.tagName;\n\t\t\t\t\tif(currentNSMap[''] !== 'http://www.w3.org/1999/xhtml' || !attrName.match(/^(?:disabled|checked|selected)$/i)){\n\t\t\t\t\t\terrorHandler.warning('attribute \"'+attrName+'\" missed value!! \"'+attrName+'\" instead2!!')\n\t\t\t\t\t}\n\t\t\t\t\taddAttribute(attrName, attrName, start);\n\t\t\t\t\tstart = p;\n\t\t\t\t\ts = S_ATTR;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_ATTR_END:\n\t\t\t\t\terrorHandler.warning('attribute space is required\"'+attrName+'\"!!')\n\t\t\t\tcase S_TAG_SPACE:\n\t\t\t\t\ts = S_ATTR;\n\t\t\t\t\tstart = p;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_EQ:\n\t\t\t\t\ts = S_ATTR_NOQUOT_VALUE;\n\t\t\t\t\tstart = p;\n\t\t\t\t\tbreak;\n\t\t\t\tcase S_TAG_CLOSE:\n\t\t\t\t\tthrow new Error(\"elements closed character '/' and '>' must be connected to\");\n\t\t\t\t}\n\t\t\t}\n\t\t}//end outer switch\n\t\t//console.log('p++',p)\n\t\tp++;\n\t}\n}\n/**\n * @return true if has new namespace define\n */\nfunction appendElement(el,domBuilder,currentNSMap){\n\tvar tagName = el.tagName;\n\tvar localNSMap = null;\n\t//var currentNSMap = parseStack[parseStack.length-1].currentNSMap;\n\tvar i = el.length;\n\twhile(i--){\n\t\tvar a = el[i];\n\t\tvar qName = a.qName;\n\t\tvar value = a.value;\n\t\tvar nsp = qName.indexOf(':');\n\t\tif(nsp>0){\n\t\t\tvar prefix = a.prefix = qName.slice(0,nsp);\n\t\t\tvar localName = qName.slice(nsp+1);\n\t\t\tvar nsPrefix = prefix === 'xmlns' && localName\n\t\t}else{\n\t\t\tlocalName = qName;\n\t\t\tprefix = null\n\t\t\tnsPrefix = qName === 'xmlns' && ''\n\t\t}\n\t\t//can not set prefix,because prefix !== ''\n\t\ta.localName = localName ;\n\t\t//prefix == null for no ns prefix attribute \n\t\tif(nsPrefix !== false){//hack!!\n\t\t\tif(localNSMap == null){\n\t\t\t\tlocalNSMap = {}\n\t\t\t\t//console.log(currentNSMap,0)\n\t\t\t\t_copy(currentNSMap,currentNSMap={})\n\t\t\t\t//console.log(currentNSMap,1)\n\t\t\t}\n\t\t\tcurrentNSMap[nsPrefix] = localNSMap[nsPrefix] = value;\n\t\t\ta.uri = 'http://www.w3.org/2000/xmlns/'\n\t\t\tdomBuilder.startPrefixMapping(nsPrefix, value) \n\t\t}\n\t}\n\tvar i = el.length;\n\twhile(i--){\n\t\ta = el[i];\n\t\tvar prefix = a.prefix;\n\t\tif(prefix){//no prefix attribute has no namespace\n\t\t\tif(prefix === 'xml'){\n\t\t\t\ta.uri = 'http://www.w3.org/XML/1998/namespace';\n\t\t\t}if(prefix !== 'xmlns'){\n\t\t\t\ta.uri = currentNSMap[prefix || '']\n\t\t\t\t\n\t\t\t\t//{console.log('###'+a.qName,domBuilder.locator.systemId+'',currentNSMap,a.uri)}\n\t\t\t}\n\t\t}\n\t}\n\tvar nsp = tagName.indexOf(':');\n\tif(nsp>0){\n\t\tprefix = el.prefix = tagName.slice(0,nsp);\n\t\tlocalName = el.localName = tagName.slice(nsp+1);\n\t}else{\n\t\tprefix = null;//important!!\n\t\tlocalName = el.localName = tagName;\n\t}\n\t//no prefix element has default namespace\n\tvar ns = el.uri = currentNSMap[prefix || ''];\n\tdomBuilder.startElement(ns,localName,tagName,el);\n\t//endPrefixMapping and startPrefixMapping have not any help for dom builder\n\t//localNSMap = null\n\tif(el.closed){\n\t\tdomBuilder.endElement(ns,localName,tagName);\n\t\tif(localNSMap){\n\t\t\tfor(prefix in localNSMap){\n\t\t\t\tdomBuilder.endPrefixMapping(prefix) \n\t\t\t}\n\t\t}\n\t}else{\n\t\tel.currentNSMap = currentNSMap;\n\t\tel.localNSMap = localNSMap;\n\t\t//parseStack.push(el);\n\t\treturn true;\n\t}\n}\nfunction parseHtmlSpecialContent(source,elStartEnd,tagName,entityReplacer,domBuilder){\n\tif(/^(?:script|textarea)$/i.test(tagName)){\n\t\tvar elEndStart =  source.indexOf('</'+tagName+'>',elStartEnd);\n\t\tvar text = source.substring(elStartEnd+1,elEndStart);\n\t\tif(/[&<]/.test(text)){\n\t\t\tif(/^script$/i.test(tagName)){\n\t\t\t\t//if(!/\\]\\]>/.test(text)){\n\t\t\t\t\t//lexHandler.startCDATA();\n\t\t\t\t\tdomBuilder.characters(text,0,text.length);\n\t\t\t\t\t//lexHandler.endCDATA();\n\t\t\t\t\treturn elEndStart;\n\t\t\t\t//}\n\t\t\t}//}else{//text area\n\t\t\t\ttext = text.replace(/&#?\\w+;/g,entityReplacer);\n\t\t\t\tdomBuilder.characters(text,0,text.length);\n\t\t\t\treturn elEndStart;\n\t\t\t//}\n\t\t\t\n\t\t}\n\t}\n\treturn elStartEnd+1;\n}\nfunction fixSelfClosed(source,elStartEnd,tagName,closeMap){\n\t//if(tagName in closeMap){\n\tvar pos = closeMap[tagName];\n\tif(pos == null){\n\t\t//console.log(tagName)\n\t\tpos =  source.lastIndexOf('</'+tagName+'>')\n\t\tif(pos<elStartEnd){//\n\t\t\tpos = source.lastIndexOf('</'+tagName)\n\t\t}\n\t\tcloseMap[tagName] =pos\n\t}\n\treturn pos<elStartEnd;\n\t//} \n}\nfunction _copy(source,target){\n\tfor(var n in source){target[n] = source[n]}\n}\nfunction parseDCC(source,start,domBuilder,errorHandler){//sure start with '<!'\n\tvar next= source.charAt(start+2)\n\tswitch(next){\n\tcase '-':\n\t\tif(source.charAt(start + 3) === '-'){\n\t\t\tvar end = source.indexOf('-->',start+4);\n\t\t\t//append comment source.substring(4,end)//<!--\n\t\t\tif(end>start){\n\t\t\t\tdomBuilder.comment(source,start+4,end-start-4);\n\t\t\t\treturn end+3;\n\t\t\t}else{\n\t\t\t\terrorHandler.error(\"Unclosed comment\");\n\t\t\t\treturn -1;\n\t\t\t}\n\t\t}else{\n\t\t\t//error\n\t\t\treturn -1;\n\t\t}\n\tdefault:\n\t\tif(source.substr(start+3,6) == 'CDATA['){\n\t\t\tvar end = source.indexOf(']]>',start+9);\n\t\t\tdomBuilder.startCDATA();\n\t\t\tdomBuilder.characters(source,start+9,end-start-9);\n\t\t\tdomBuilder.endCDATA() \n\t\t\treturn end+3;\n\t\t}\n\t\t//<!DOCTYPE\n\t\t//startDTD(java.lang.String name, java.lang.String publicId, java.lang.String systemId) \n\t\tvar matchs = split(source,start);\n\t\tvar len = matchs.length;\n\t\tif(len>1 && /!doctype/i.test(matchs[0][0])){\n\t\t\tvar name = matchs[1][0];\n\t\t\tvar pubid = false;\n\t\t\tvar sysid = false;\n\t\t\tif(len>3){\n\t\t\t\tif(/^public$/i.test(matchs[2][0])){\n\t\t\t\t\tpubid = matchs[3][0];\n\t\t\t\t\tsysid = len>4 && matchs[4][0];\n\t\t\t\t}else if(/^system$/i.test(matchs[2][0])){\n\t\t\t\t\tsysid = matchs[3][0];\n\t\t\t\t}\n\t\t\t}\n\t\t\tvar lastMatch = matchs[len-1]\n\t\t\tdomBuilder.startDTD(name, pubid, sysid);\n\t\t\tdomBuilder.endDTD();\n\t\t\t\n\t\t\treturn lastMatch.index+lastMatch[0].length\n\t\t}\n\t}\n\treturn -1;\n}\n\n\n\nfunction parseInstruction(source,start,domBuilder){\n\tvar end = source.indexOf('?>',start);\n\tif(end){\n\t\tvar match = source.substring(start,end).match(/^<\\?(\\S*)\\s*([\\s\\S]*?)\\s*$/);\n\t\tif(match){\n\t\t\tvar len = match[0].length;\n\t\t\tdomBuilder.processingInstruction(match[1], match[2]) ;\n\t\t\treturn end+2;\n\t\t}else{//error\n\t\t\treturn -1;\n\t\t}\n\t}\n\treturn -1;\n}\n\nfunction ElementAttributes(){\n\tthis.attributeNames = {}\n}\nElementAttributes.prototype = {\n\tsetTagName:function(tagName){\n\t\tif(!tagNamePattern.test(tagName)){\n\t\t\tthrow new Error('invalid tagName:'+tagName)\n\t\t}\n\t\tthis.tagName = tagName\n\t},\n\taddValue:function(qName, value, offset) {\n\t\tif(!tagNamePattern.test(qName)){\n\t\t\tthrow new Error('invalid attribute:'+qName)\n\t\t}\n\t\tthis.attributeNames[qName] = this.length;\n\t\tthis[this.length++] = {qName:qName,value:value,offset:offset}\n\t},\n\tlength:0,\n\tgetLocalName:function(i){return this[i].localName},\n\tgetLocator:function(i){return this[i].locator},\n\tgetQName:function(i){return this[i].qName},\n\tgetURI:function(i){return this[i].uri},\n\tgetValue:function(i){return this[i].value}\n//\t,getIndex:function(uri, localName)){\n//\t\tif(localName){\n//\t\t\t\n//\t\t}else{\n//\t\t\tvar qName = uri\n//\t\t}\n//\t},\n//\tgetValue:function(){return this.getValue(this.getIndex.apply(this,arguments))},\n//\tgetType:function(uri,localName){}\n//\tgetType:function(i){},\n}\n\n\n\nfunction split(source,start){\n\tvar match;\n\tvar buf = [];\n\tvar reg = /'[^']+'|\"[^\"]+\"|[^\\s<>\\/=]+=?|(\\/?\\s*>|<)/g;\n\treg.lastIndex = start;\n\treg.exec(source);//skip <\n\twhile(match = reg.exec(source)){\n\t\tbuf.push(match);\n\t\tif(match[1])return buf;\n\t}\n}\n\nexports.XMLReader = XMLReader;\nexports.ParseError = ParseError;\n","/*\r\n * xpath.js\r\n *\r\n * An XPath 1.0 library for JavaScript.\r\n *\r\n * Cameron McCormack <cam (at) mcc.id.au>\r\n *\r\n * This work is licensed under the MIT License.\r\n *\r\n * Revision 20: April 26, 2011\r\n *   Fixed a typo resulting in FIRST_ORDERED_NODE_TYPE results being wrong,\r\n *   thanks to <shi_a009 (at) hotmail.com>.\r\n *\r\n * Revision 19: November 29, 2005\r\n *   Nodesets now store their nodes in a height balanced tree, increasing\r\n *   performance for the common case of selecting nodes in document order,\r\n *   thanks to Sbastien Cramatte <contact (at) zeninteractif.com>.\r\n *   AVL tree code adapted from Raimund Neumann <rnova (at) gmx.net>.\r\n *\r\n * Revision 18: October 27, 2005\r\n *   DOM 3 XPath support.  Caveats:\r\n *     - namespace prefixes aren't resolved in XPathEvaluator.createExpression,\r\n *       but in XPathExpression.evaluate.\r\n *     - XPathResult.invalidIteratorState is not implemented.\r\n *\r\n * Revision 17: October 25, 2005\r\n *   Some core XPath function fixes and a patch to avoid crashing certain\r\n *   versions of MSXML in PathExpr.prototype.getOwnerElement, thanks to\r\n *   Sbastien Cramatte <contact (at) zeninteractif.com>.\r\n *\r\n * Revision 16: September 22, 2005\r\n *   Workarounds for some IE 5.5 deficiencies.\r\n *   Fixed problem with prefix node tests on attribute nodes.\r\n *\r\n * Revision 15: May 21, 2005\r\n *   Fixed problem with QName node tests on elements with an xmlns=\"...\".\r\n *\r\n * Revision 14: May 19, 2005\r\n *   Fixed QName node tests on attribute node regression.\r\n *\r\n * Revision 13: May 3, 2005\r\n *   Node tests are case insensitive now if working in an HTML DOM.\r\n *\r\n * Revision 12: April 26, 2005\r\n *   Updated licence.  Slight code changes to enable use of Dean\r\n *   Edwards' script compression, http://dean.edwards.name/packer/ .\r\n *\r\n * Revision 11: April 23, 2005\r\n *   Fixed bug with 'and' and 'or' operators, fix thanks to\r\n *   Sandy McArthur <sandy (at) mcarthur.org>.\r\n *\r\n * Revision 10: April 15, 2005\r\n *   Added support for a virtual root node, supposedly helpful for\r\n *   implementing XForms.  Fixed problem with QName node tests and\r\n *   the parent axis.\r\n *\r\n * Revision 9: March 17, 2005\r\n *   Namespace resolver tweaked so using the document node as the context\r\n *   for namespace lookups is equivalent to using the document element.\r\n *\r\n * Revision 8: February 13, 2005\r\n *   Handle implicit declaration of 'xmlns' namespace prefix.\r\n *   Fixed bug when comparing nodesets.\r\n *   Instance data can now be associated with a FunctionResolver, and\r\n *     workaround for MSXML not supporting 'localName' and 'getElementById',\r\n *     thanks to Grant Gongaware.\r\n *   Fix a few problems when the context node is the root node.\r\n *\r\n * Revision 7: February 11, 2005\r\n *   Default namespace resolver fix from Grant Gongaware\r\n *   <grant (at) gongaware.com>.\r\n *\r\n * Revision 6: February 10, 2005\r\n *   Fixed bug in 'number' function.\r\n *\r\n * Revision 5: February 9, 2005\r\n *   Fixed bug where text nodes not getting converted to string values.\r\n *\r\n * Revision 4: January 21, 2005\r\n *   Bug in 'name' function, fix thanks to Bill Edney.\r\n *   Fixed incorrect processing of namespace nodes.\r\n *   Fixed NamespaceResolver to resolve 'xml' namespace.\r\n *   Implemented union '|' operator.\r\n *\r\n * Revision 3: January 14, 2005\r\n *   Fixed bug with nodeset comparisons, bug lexing < and >.\r\n *\r\n * Revision 2: October 26, 2004\r\n *   QName node test namespace handling fixed.  Few other bug fixes.\r\n *\r\n * Revision 1: August 13, 2004\r\n *   Bug fixes from William J. Edney <bedney (at) technicalpursuit.com>.\r\n *   Added minimal licence.\r\n *\r\n * Initial version: June 14, 2004\r\n */\r\n\r\n// non-node wrapper\r\nvar xpath = (typeof exports === 'undefined') ? {} : exports;\r\n\r\n(function (exports) {\r\n    \"use strict\";\r\n\r\n    // functional helpers\r\n    function curry(func) {\r\n        var slice = Array.prototype.slice,\r\n            totalargs = func.length,\r\n            partial = function (args, fn) {\r\n                return function () {\r\n                    return fn.apply(this, args.concat(slice.call(arguments)));\r\n                }\r\n            },\r\n            fn = function () {\r\n                var args = slice.call(arguments);\r\n                return (args.length < totalargs) ?\r\n                    partial(args, fn) :\r\n                    func.apply(this, slice.apply(arguments, [0, totalargs]));\r\n            };\r\n        return fn;\r\n    }\r\n\r\n    var forEach = function (f, xs) {\r\n        for (var i = 0; i < xs.length; i += 1) {\r\n            f(xs[i], i, xs);\r\n        }\r\n    };\r\n\r\n    var reduce = function (f, seed, xs) {\r\n        var acc = seed;\r\n\r\n        forEach(function (x, i) { acc = f(acc, x, i); }, xs);\r\n\r\n        return acc;\r\n    };\r\n\r\n    var map = function (f, xs) {\r\n        var mapped = new Array(xs.length);\r\n\r\n        forEach(function (x, i) { mapped[i] = f(x); }, xs);\r\n\r\n        return mapped;\r\n    };\r\n\r\n    var filter = function (f, xs) {\r\n        var filtered = [];\r\n\r\n        forEach(function (x, i) { if (f(x, i)) { filtered.push(x); } }, xs);\r\n\r\n        return filtered;\r\n    };\r\n\r\n    var includes = function (values, value) {\r\n        for (var i = 0; i < values.length; i += 1) {\r\n            if (values[i] === value) {\r\n                return true;\r\n            }\r\n        }\r\n\r\n        return false;\r\n    };\r\n\r\n    function always(value) { return function () { return value; } }\r\n\r\n    function toString(x) { return x.toString(); }\r\n    var join = function (s, xs) { return xs.join(s); };\r\n    var wrap = function (pref, suf, str) { return pref + str + suf; };\r\n\r\n    var prototypeConcat = Array.prototype.concat;\r\n\r\n    // .apply() fails above a certain number of arguments - https://github.com/goto100/xpath/pull/98\r\n    var MAX_ARGUMENT_LENGTH = 32767;\r\n\r\n    function flatten(arr) {\r\n        var result = [];\r\n\r\n        for (var start = 0; start < arr.length; start += MAX_ARGUMENT_LENGTH) {\r\n            var chunk = arr.slice(start, start + MAX_ARGUMENT_LENGTH);\r\n            \r\n            result = prototypeConcat.apply(result, chunk);\r\n        }\r\n        \r\n        return result;\r\n    }\r\n\r\n    function assign(target, varArgs) { // .length of function is 2\r\n        var to = Object(target);\r\n\r\n        for (var index = 1; index < arguments.length; index++) {\r\n            var nextSource = arguments[index];\r\n\r\n            if (nextSource != null) { // Skip over if undefined or null\r\n                for (var nextKey in nextSource) {\r\n                    // Avoid bugs when hasOwnProperty is shadowed\r\n                    if (Object.prototype.hasOwnProperty.call(nextSource, nextKey)) {\r\n                        to[nextKey] = nextSource[nextKey];\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        return to;\r\n    }\r\n\r\n    var NodeTypes = {\r\n        ELEMENT_NODE: 1,\r\n        ATTRIBUTE_NODE: 2,\r\n        TEXT_NODE: 3,\r\n        CDATA_SECTION_NODE: 4,\r\n        PROCESSING_INSTRUCTION_NODE: 7,\r\n        COMMENT_NODE: 8,\r\n        DOCUMENT_NODE: 9,\r\n        DOCUMENT_TYPE_NODE: 10,\r\n        DOCUMENT_FRAGMENT_NODE: 11,\r\n    };\r\n\r\n    // XPathParser ///////////////////////////////////////////////////////////////\r\n\r\n    XPathParser.prototype = new Object();\r\n    XPathParser.prototype.constructor = XPathParser;\r\n    XPathParser.superclass = Object.prototype;\r\n\r\n    function XPathParser() {\r\n        this.init();\r\n    }\r\n\r\n    XPathParser.prototype.init = function () {\r\n        this.reduceActions = [];\r\n\r\n        this.reduceActions[3] = function (rhs) {\r\n            return new OrOperation(rhs[0], rhs[2]);\r\n        };\r\n        this.reduceActions[5] = function (rhs) {\r\n            return new AndOperation(rhs[0], rhs[2]);\r\n        };\r\n        this.reduceActions[7] = function (rhs) {\r\n            return new EqualsOperation(rhs[0], rhs[2]);\r\n        };\r\n        this.reduceActions[8] = function (rhs) {\r\n            return new NotEqualOperation(rhs[0], rhs[2]);\r\n        };\r\n        this.reduceActions[10] = function (rhs) {\r\n            return new LessThanOperation(rhs[0], rhs[2]);\r\n        };\r\n        this.reduceActions[11] = function (rhs) {\r\n            return new GreaterThanOperation(rhs[0], rhs[2]);\r\n        };\r\n        this.reduceActions[12] = function (rhs) {\r\n            return new LessThanOrEqualOperation(rhs[0], rhs[2]);\r\n        };\r\n        this.reduceActions[13] = function (rhs) {\r\n            return new GreaterThanOrEqualOperation(rhs[0], rhs[2]);\r\n        };\r\n        this.reduceActions[15] = function (rhs) {\r\n            return new PlusOperation(rhs[0], rhs[2]);\r\n        };\r\n        this.reduceActions[16] = function (rhs) {\r\n            return new MinusOperation(rhs[0], rhs[2]);\r\n        };\r\n        this.reduceActions[18] = function (rhs) {\r\n            return new MultiplyOperation(rhs[0], rhs[2]);\r\n        };\r\n        this.reduceActions[19] = function (rhs) {\r\n            return new DivOperation(rhs[0], rhs[2]);\r\n        };\r\n        this.reduceActions[20] = function (rhs) {\r\n            return new ModOperation(rhs[0], rhs[2]);\r\n        };\r\n        this.reduceActions[22] = function (rhs) {\r\n            return new UnaryMinusOperation(rhs[1]);\r\n        };\r\n        this.reduceActions[24] = function (rhs) {\r\n            return new BarOperation(rhs[0], rhs[2]);\r\n        };\r\n        this.reduceActions[25] = function (rhs) {\r\n            return new PathExpr(undefined, undefined, rhs[0]);\r\n        };\r\n        this.reduceActions[27] = function (rhs) {\r\n            rhs[0].locationPath = rhs[2];\r\n            return rhs[0];\r\n        };\r\n        this.reduceActions[28] = function (rhs) {\r\n            rhs[0].locationPath = rhs[2];\r\n            rhs[0].locationPath.steps.unshift(new Step(Step.DESCENDANTORSELF, NodeTest.nodeTest, []));\r\n            return rhs[0];\r\n        };\r\n        this.reduceActions[29] = function (rhs) {\r\n            return new PathExpr(rhs[0], [], undefined);\r\n        };\r\n        this.reduceActions[30] = function (rhs) {\r\n            if (Utilities.instance_of(rhs[0], PathExpr)) {\r\n                if (rhs[0].filterPredicates == undefined) {\r\n                    rhs[0].filterPredicates = [];\r\n                }\r\n                rhs[0].filterPredicates.push(rhs[1]);\r\n                return rhs[0];\r\n            } else {\r\n                return new PathExpr(rhs[0], [rhs[1]], undefined);\r\n            }\r\n        };\r\n        this.reduceActions[32] = function (rhs) {\r\n            return rhs[1];\r\n        };\r\n        this.reduceActions[33] = function (rhs) {\r\n            return new XString(rhs[0]);\r\n        };\r\n        this.reduceActions[34] = function (rhs) {\r\n            return new XNumber(rhs[0]);\r\n        };\r\n        this.reduceActions[36] = function (rhs) {\r\n            return new FunctionCall(rhs[0], []);\r\n        };\r\n        this.reduceActions[37] = function (rhs) {\r\n            return new FunctionCall(rhs[0], rhs[2]);\r\n        };\r\n        this.reduceActions[38] = function (rhs) {\r\n            return [rhs[0]];\r\n        };\r\n        this.reduceActions[39] = function (rhs) {\r\n            rhs[2].unshift(rhs[0]);\r\n            return rhs[2];\r\n        };\r\n        this.reduceActions[43] = function (rhs) {\r\n            return new LocationPath(true, []);\r\n        };\r\n        this.reduceActions[44] = function (rhs) {\r\n            rhs[1].absolute = true;\r\n            return rhs[1];\r\n        };\r\n        this.reduceActions[46] = function (rhs) {\r\n            return new LocationPath(false, [rhs[0]]);\r\n        };\r\n        this.reduceActions[47] = function (rhs) {\r\n            rhs[0].steps.push(rhs[2]);\r\n            return rhs[0];\r\n        };\r\n        this.reduceActions[49] = function (rhs) {\r\n            return new Step(rhs[0], rhs[1], []);\r\n        };\r\n        this.reduceActions[50] = function (rhs) {\r\n            return new Step(Step.CHILD, rhs[0], []);\r\n        };\r\n        this.reduceActions[51] = function (rhs) {\r\n            return new Step(rhs[0], rhs[1], rhs[2]);\r\n        };\r\n        this.reduceActions[52] = function (rhs) {\r\n            return new Step(Step.CHILD, rhs[0], rhs[1]);\r\n        };\r\n        this.reduceActions[54] = function (rhs) {\r\n            return [rhs[0]];\r\n        };\r\n        this.reduceActions[55] = function (rhs) {\r\n            rhs[1].unshift(rhs[0]);\r\n            return rhs[1];\r\n        };\r\n        this.reduceActions[56] = function (rhs) {\r\n            if (rhs[0] == \"ancestor\") {\r\n                return Step.ANCESTOR;\r\n            } else if (rhs[0] == \"ancestor-or-self\") {\r\n                return Step.ANCESTORORSELF;\r\n            } else if (rhs[0] == \"attribute\") {\r\n                return Step.ATTRIBUTE;\r\n            } else if (rhs[0] == \"child\") {\r\n                return Step.CHILD;\r\n            } else if (rhs[0] == \"descendant\") {\r\n                return Step.DESCENDANT;\r\n            } else if (rhs[0] == \"descendant-or-self\") {\r\n                return Step.DESCENDANTORSELF;\r\n            } else if (rhs[0] == \"following\") {\r\n                return Step.FOLLOWING;\r\n            } else if (rhs[0] == \"following-sibling\") {\r\n                return Step.FOLLOWINGSIBLING;\r\n            } else if (rhs[0] == \"namespace\") {\r\n                return Step.NAMESPACE;\r\n            } else if (rhs[0] == \"parent\") {\r\n                return Step.PARENT;\r\n            } else if (rhs[0] == \"preceding\") {\r\n                return Step.PRECEDING;\r\n            } else if (rhs[0] == \"preceding-sibling\") {\r\n                return Step.PRECEDINGSIBLING;\r\n            } else if (rhs[0] == \"self\") {\r\n                return Step.SELF;\r\n            }\r\n            return -1;\r\n        };\r\n        this.reduceActions[57] = function (rhs) {\r\n            return Step.ATTRIBUTE;\r\n        };\r\n        this.reduceActions[59] = function (rhs) {\r\n            if (rhs[0] == \"comment\") {\r\n                return NodeTest.commentTest;\r\n            } else if (rhs[0] == \"text\") {\r\n                return NodeTest.textTest;\r\n            } else if (rhs[0] == \"processing-instruction\") {\r\n                return NodeTest.anyPiTest;\r\n            } else if (rhs[0] == \"node\") {\r\n                return NodeTest.nodeTest;\r\n            }\r\n            return new NodeTest(-1, undefined);\r\n        };\r\n        this.reduceActions[60] = function (rhs) {\r\n            return new NodeTest.PITest(rhs[2]);\r\n        };\r\n        this.reduceActions[61] = function (rhs) {\r\n            return rhs[1];\r\n        };\r\n        this.reduceActions[63] = function (rhs) {\r\n            rhs[1].absolute = true;\r\n            rhs[1].steps.unshift(new Step(Step.DESCENDANTORSELF, NodeTest.nodeTest, []));\r\n            return rhs[1];\r\n        };\r\n        this.reduceActions[64] = function (rhs) {\r\n            rhs[0].steps.push(new Step(Step.DESCENDANTORSELF, NodeTest.nodeTest, []));\r\n            rhs[0].steps.push(rhs[2]);\r\n            return rhs[0];\r\n        };\r\n        this.reduceActions[65] = function (rhs) {\r\n            return new Step(Step.SELF, NodeTest.nodeTest, []);\r\n        };\r\n        this.reduceActions[66] = function (rhs) {\r\n            return new Step(Step.PARENT, NodeTest.nodeTest, []);\r\n        };\r\n        this.reduceActions[67] = function (rhs) {\r\n            return new VariableReference(rhs[1]);\r\n        };\r\n        this.reduceActions[68] = function (rhs) {\r\n            return NodeTest.nameTestAny;\r\n        };\r\n        this.reduceActions[69] = function (rhs) {\r\n            return new NodeTest.NameTestPrefixAny(rhs[0].split(':')[0]);\r\n        };\r\n        this.reduceActions[70] = function (rhs) {\r\n            return new NodeTest.NameTestQName(rhs[0]);\r\n        };\r\n    };\r\n\r\n    XPathParser.actionTable = [\r\n        \" s s        sssssssss    s ss  s  ss\",\r\n        \"                 s                  \",\r\n        \"r  rrrrrrrrr         rrrrrrr rr  r  \",\r\n        \"                rrrrr               \",\r\n        \" s s        sssssssss    s ss  s  ss\",\r\n        \"rs  rrrrrrrr s  sssssrrrrrr  rrs rs \",\r\n        \" s s        sssssssss    s ss  s  ss\",\r\n        \"                            s       \",\r\n        \"                            s       \",\r\n        \"r  rrrrrrrrr         rrrrrrr rr rr  \",\r\n        \"r  rrrrrrrrr         rrrrrrr rr rr  \",\r\n        \"r  rrrrrrrrr         rrrrrrr rr rr  \",\r\n        \"r  rrrrrrrrr         rrrrrrr rr rr  \",\r\n        \"r  rrrrrrrrr         rrrrrrr rr rr  \",\r\n        \"  s                                 \",\r\n        \"                            s       \",\r\n        \" s           s  sssss          s  s \",\r\n        \"r  rrrrrrrrr         rrrrrrr rr  r  \",\r\n        \"a                                   \",\r\n        \"r       s                    rr  r  \",\r\n        \"r      sr                    rr  r  \",\r\n        \"r   s  rr            s       rr  r  \",\r\n        \"r   rssrr            rss     rr  r  \",\r\n        \"r   rrrrr            rrrss   rr  r  \",\r\n        \"r   rrrrrsss         rrrrr   rr  r  \",\r\n        \"r   rrrrrrrr         rrrrr   rr  r  \",\r\n        \"r   rrrrrrrr         rrrrrs  rr  r  \",\r\n        \"r   rrrrrrrr         rrrrrr  rr  r  \",\r\n        \"r   rrrrrrrr         rrrrrr  rr  r  \",\r\n        \"r  srrrrrrrr         rrrrrrs rr sr  \",\r\n        \"r  srrrrrrrr         rrrrrrs rr  r  \",\r\n        \"r  rrrrrrrrr         rrrrrrr rr rr  \",\r\n        \"r  rrrrrrrrr         rrrrrrr rr rr  \",\r\n        \"r  rrrrrrrrr         rrrrrrr rr rr  \",\r\n        \"r   rrrrrrrr         rrrrrr  rr  r  \",\r\n        \"r   rrrrrrrr         rrrrrr  rr  r  \",\r\n        \"r  rrrrrrrrr         rrrrrrr rr  r  \",\r\n        \"r  rrrrrrrrr         rrrrrrr rr  r  \",\r\n        \"                sssss               \",\r\n        \"r  rrrrrrrrr         rrrrrrr rr sr  \",\r\n        \"r  rrrrrrrrr         rrrrrrr rr  r  \",\r\n        \"r  rrrrrrrrr         rrrrrrr rr rr  \",\r\n        \"r  rrrrrrrrr         rrrrrrr rr rr  \",\r\n        \"                             s      \",\r\n        \"r  srrrrrrrr         rrrrrrs rr  r  \",\r\n        \"r   rrrrrrrr         rrrrr   rr  r  \",\r\n        \"              s                     \",\r\n        \"                             s      \",\r\n        \"                rrrrr               \",\r\n        \" s s        sssssssss    s sss s  ss\",\r\n        \"r  srrrrrrrr         rrrrrrs rr  r  \",\r\n        \" s s        sssssssss    s ss  s  ss\",\r\n        \" s s        sssssssss    s ss  s  ss\",\r\n        \" s s        sssssssss    s ss  s  ss\",\r\n        \" s s        sssssssss    s ss  s  ss\",\r\n        \" s s        sssssssss    s ss  s  ss\",\r\n        \" s s        sssssssss    s ss  s  ss\",\r\n        \" s s        sssssssss    s ss  s  ss\",\r\n        \" s s        sssssssss    s ss  s  ss\",\r\n        \" s s        sssssssss    s ss  s  ss\",\r\n        \" s s        sssssssss    s ss  s  ss\",\r\n        \" s s        sssssssss    s ss  s  ss\",\r\n        \" s s        sssssssss    s ss  s  ss\",\r\n        \" s s        sssssssss    s ss  s  ss\",\r\n        \" s s        sssssssss      ss  s  ss\",\r\n        \" s s        sssssssss    s ss  s  ss\",\r\n        \" s           s  sssss          s  s \",\r\n        \" s           s  sssss          s  s \",\r\n        \"r  rrrrrrrrr         rrrrrrr rr rr  \",\r\n        \" s           s  sssss          s  s \",\r\n        \" s           s  sssss          s  s \",\r\n        \"r  rrrrrrrrr         rrrrrrr rr sr  \",\r\n        \"r  rrrrrrrrr         rrrrrrr rr sr  \",\r\n        \"r  rrrrrrrrr         rrrrrrr rr  r  \",\r\n        \"r  rrrrrrrrr         rrrrrrr rr rr  \",\r\n        \"                             s      \",\r\n        \"r  rrrrrrrrr         rrrrrrr rr rr  \",\r\n        \"r  rrrrrrrrr         rrrrrrr rr rr  \",\r\n        \"                             rr     \",\r\n        \"                             s      \",\r\n        \"                             rs     \",\r\n        \"r      sr                    rr  r  \",\r\n        \"r   s  rr            s       rr  r  \",\r\n        \"r   rssrr            rss     rr  r  \",\r\n        \"r   rssrr            rss     rr  r  \",\r\n        \"r   rrrrr            rrrss   rr  r  \",\r\n        \"r   rrrrr            rrrss   rr  r  \",\r\n        \"r   rrrrr            rrrss   rr  r  \",\r\n        \"r   rrrrr            rrrss   rr  r  \",\r\n        \"r   rrrrrsss         rrrrr   rr  r  \",\r\n        \"r   rrrrrsss         rrrrr   rr  r  \",\r\n        \"r   rrrrrrrr         rrrrr   rr  r  \",\r\n        \"r   rrrrrrrr         rrrrr   rr  r  \",\r\n        \"r   rrrrrrrr         rrrrr   rr  r  \",\r\n        \"r   rrrrrrrr         rrrrrr  rr  r  \",\r\n        \"                                 r  \",\r\n        \"                                 s  \",\r\n        \"r  srrrrrrrr         rrrrrrs rr  r  \",\r\n        \"r  srrrrrrrr         rrrrrrs rr  r  \",\r\n        \"r  rrrrrrrrr         rrrrrrr rr  r  \",\r\n        \"r  rrrrrrrrr         rrrrrrr rr  r  \",\r\n        \"r  rrrrrrrrr         rrrrrrr rr  r  \",\r\n        \"r  rrrrrrrrr         rrrrrrr rr  r  \",\r\n        \"r  rrrrrrrrr         rrrrrrr rr rr  \",\r\n        \"r  rrrrrrrrr         rrrrrrr rr rr  \",\r\n        \" s s        sssssssss    s ss  s  ss\",\r\n        \"r  rrrrrrrrr         rrrrrrr rr rr  \",\r\n        \"                             r      \"\r\n    ];\r\n\r\n    XPathParser.actionTableNumber = [\r\n        \" 1 0        /.-,+*)('    & %$  #  \\\"!\",\r\n        \"                 J                  \",\r\n        \"a  aaaaaaaaa         aaaaaaa aa  a  \",\r\n        \"                YYYYY               \",\r\n        \" 1 0        /.-,+*)('    & %$  #  \\\"!\",\r\n        \"K1  KKKKKKKK .  +*)('KKKKKK  KK# K\\\" \",\r\n        \" 1 0        /.-,+*)('    & %$  #  \\\"!\",\r\n        \"                            N       \",\r\n        \"                            O       \",\r\n        \"e  eeeeeeeee         eeeeeee ee ee  \",\r\n        \"f  fffffffff         fffffff ff ff  \",\r\n        \"d  ddddddddd         ddddddd dd dd  \",\r\n        \"B  BBBBBBBBB         BBBBBBB BB BB  \",\r\n        \"A  AAAAAAAAA         AAAAAAA AA AA  \",\r\n        \"  P                                 \",\r\n        \"                            Q       \",\r\n        \" 1           .  +*)('          #  \\\" \",\r\n        \"b  bbbbbbbbb         bbbbbbb bb  b  \",\r\n        \"                                    \",\r\n        \"!       S                    !!  !  \",\r\n        \"\\\"      T\\\"                    \\\"\\\"  \\\"  \",\r\n        \"$   V  $$            U       $$  $  \",\r\n        \"&   &ZY&&            &XW     &&  &  \",\r\n        \")   )))))            )))\\\\[   ))  )  \",\r\n        \".   ....._^]         .....   ..  .  \",\r\n        \"1   11111111         11111   11  1  \",\r\n        \"5   55555555         55555`  55  5  \",\r\n        \"7   77777777         777777  77  7  \",\r\n        \"9   99999999         999999  99  9  \",\r\n        \":  c::::::::         ::::::b :: a:  \",\r\n        \"I  fIIIIIIII         IIIIIIe II  I  \",\r\n        \"=  =========         ======= == ==  \",\r\n        \"?  ?????????         ??????? ?? ??  \",\r\n        \"C  CCCCCCCCC         CCCCCCC CC CC  \",\r\n        \"J   JJJJJJJJ         JJJJJJ  JJ  J  \",\r\n        \"M   MMMMMMMM         MMMMMM  MM  M  \",\r\n        \"N  NNNNNNNNN         NNNNNNN NN  N  \",\r\n        \"P  PPPPPPPPP         PPPPPPP PP  P  \",\r\n        \"                +*)('               \",\r\n        \"R  RRRRRRRRR         RRRRRRR RR aR  \",\r\n        \"U  UUUUUUUUU         UUUUUUU UU  U  \",\r\n        \"Z  ZZZZZZZZZ         ZZZZZZZ ZZ ZZ  \",\r\n        \"c  ccccccccc         ccccccc cc cc  \",\r\n        \"                             j      \",\r\n        \"L  fLLLLLLLL         LLLLLLe LL  L  \",\r\n        \"6   66666666         66666   66  6  \",\r\n        \"              k                     \",\r\n        \"                             l      \",\r\n        \"                XXXXX               \",\r\n        \" 1 0        /.-,+*)('    & %$m #  \\\"!\",\r\n        \"_  f________         ______e __  _  \",\r\n        \" 1 0        /.-,+*)('    & %$  #  \\\"!\",\r\n        \" 1 0        /.-,+*)('    & %$  #  \\\"!\",\r\n        \" 1 0        /.-,+*)('    & %$  #  \\\"!\",\r\n        \" 1 0        /.-,+*)('    & %$  #  \\\"!\",\r\n        \" 1 0        /.-,+*)('    & %$  #  \\\"!\",\r\n        \" 1 0        /.-,+*)('    & %$  #  \\\"!\",\r\n        \" 1 0        /.-,+*)('    & %$  #  \\\"!\",\r\n        \" 1 0        /.-,+*)('    & %$  #  \\\"!\",\r\n        \" 1 0        /.-,+*)('    & %$  #  \\\"!\",\r\n        \" 1 0        /.-,+*)('    & %$  #  \\\"!\",\r\n        \" 1 0        /.-,+*)('    & %$  #  \\\"!\",\r\n        \" 1 0        /.-,+*)('    & %$  #  \\\"!\",\r\n        \" 1 0        /.-,+*)('    & %$  #  \\\"!\",\r\n        \" 1 0        /.-,+*)('      %$  #  \\\"!\",\r\n        \" 1 0        /.-,+*)('    & %$  #  \\\"!\",\r\n        \" 1           .  +*)('          #  \\\" \",\r\n        \" 1           .  +*)('          #  \\\" \",\r\n        \">  >>>>>>>>>         >>>>>>> >> >>  \",\r\n        \" 1           .  +*)('          #  \\\" \",\r\n        \" 1           .  +*)('          #  \\\" \",\r\n        \"Q  QQQQQQQQQ         QQQQQQQ QQ aQ  \",\r\n        \"V  VVVVVVVVV         VVVVVVV VV aV  \",\r\n        \"T  TTTTTTTTT         TTTTTTT TT  T  \",\r\n        \"@  @@@@@@@@@         @@@@@@@ @@ @@  \",\r\n        \"                             \\x87      \",\r\n        \"[  [[[[[[[[[         [[[[[[[ [[ [[  \",\r\n        \"D  DDDDDDDDD         DDDDDDD DD DD  \",\r\n        \"                             HH     \",\r\n        \"                             \\x88      \",\r\n        \"                             F\\x89     \",\r\n        \"#      T#                    ##  #  \",\r\n        \"%   V  %%            U       %%  %  \",\r\n        \"'   'ZY''            'XW     ''  '  \",\r\n        \"(   (ZY((            (XW     ((  (  \",\r\n        \"+   +++++            +++\\\\[   ++  +  \",\r\n        \"*   *****            ***\\\\[   **  *  \",\r\n        \"-   -----            ---\\\\[   --  -  \",\r\n        \",   ,,,,,            ,,,\\\\[   ,,  ,  \",\r\n        \"0   00000_^]         00000   00  0  \",\r\n        \"/   /////_^]         /////   //  /  \",\r\n        \"2   22222222         22222   22  2  \",\r\n        \"3   33333333         33333   33  3  \",\r\n        \"4   44444444         44444   44  4  \",\r\n        \"8   88888888         888888  88  8  \",\r\n        \"                                 ^  \",\r\n        \"                                 \\x8a  \",\r\n        \";  f;;;;;;;;         ;;;;;;e ;;  ;  \",\r\n        \"<  f<<<<<<<<         <<<<<<e <<  <  \",\r\n        \"O  OOOOOOOOO         OOOOOOO OO  O  \",\r\n        \"`  `````````         ``````` ``  `  \",\r\n        \"S  SSSSSSSSS         SSSSSSS SS  S  \",\r\n        \"W  WWWWWWWWW         WWWWWWW WW  W  \",\r\n        \"\\\\  \\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\         \\\\\\\\\\\\\\\\\\\\\\\\\\\\ \\\\\\\\ \\\\\\\\  \",\r\n        \"E  EEEEEEEEE         EEEEEEE EE EE  \",\r\n        \" 1 0        /.-,+*)('    & %$  #  \\\"!\",\r\n        \"]  ]]]]]]]]]         ]]]]]]] ]] ]]  \",\r\n        \"                             G      \"\r\n    ];\r\n\r\n    XPathParser.gotoTable = [\r\n        \"3456789:;<=>?@ AB  CDEFGH IJ \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"L456789:;<=>?@ AB  CDEFGH IJ \",\r\n        \"            M        EFGH IJ \",\r\n        \"       N;<=>?@ AB  CDEFGH IJ \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"            S        EFGH IJ \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"              e              \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                        h  J \",\r\n        \"              i          j   \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"o456789:;<=>?@ ABpqCDEFGH IJ \",\r\n        \"                             \",\r\n        \"  r6789:;<=>?@ AB  CDEFGH IJ \",\r\n        \"   s789:;<=>?@ AB  CDEFGH IJ \",\r\n        \"    t89:;<=>?@ AB  CDEFGH IJ \",\r\n        \"    u89:;<=>?@ AB  CDEFGH IJ \",\r\n        \"     v9:;<=>?@ AB  CDEFGH IJ \",\r\n        \"     w9:;<=>?@ AB  CDEFGH IJ \",\r\n        \"     x9:;<=>?@ AB  CDEFGH IJ \",\r\n        \"     y9:;<=>?@ AB  CDEFGH IJ \",\r\n        \"      z:;<=>?@ AB  CDEFGH IJ \",\r\n        \"      {:;<=>?@ AB  CDEFGH IJ \",\r\n        \"       |;<=>?@ AB  CDEFGH IJ \",\r\n        \"       };<=>?@ AB  CDEFGH IJ \",\r\n        \"       ~;<=>?@ AB  CDEFGH IJ \",\r\n        \"         \\x7f=>?@ AB  CDEFGH IJ \",\r\n        \"\\x80456789:;<=>?@ AB  CDEFGH IJ\\x81\",\r\n        \"            \\x82        EFGH IJ \",\r\n        \"            \\x83        EFGH IJ \",\r\n        \"                             \",\r\n        \"                     \\x84 GH IJ \",\r\n        \"                     \\x85 GH IJ \",\r\n        \"              i          \\x86   \",\r\n        \"              i          \\x87   \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"                             \",\r\n        \"o456789:;<=>?@ AB\\x8cqCDEFGH IJ \",\r\n        \"                             \",\r\n        \"                             \"\r\n    ];\r\n\r\n    XPathParser.productions = [\r\n        [1, 1, 2],\r\n        [2, 1, 3],\r\n        [3, 1, 4],\r\n        [3, 3, 3, -9, 4],\r\n        [4, 1, 5],\r\n        [4, 3, 4, -8, 5],\r\n        [5, 1, 6],\r\n        [5, 3, 5, -22, 6],\r\n        [5, 3, 5, -5, 6],\r\n        [6, 1, 7],\r\n        [6, 3, 6, -23, 7],\r\n        [6, 3, 6, -24, 7],\r\n        [6, 3, 6, -6, 7],\r\n        [6, 3, 6, -7, 7],\r\n        [7, 1, 8],\r\n        [7, 3, 7, -25, 8],\r\n        [7, 3, 7, -26, 8],\r\n        [8, 1, 9],\r\n        [8, 3, 8, -12, 9],\r\n        [8, 3, 8, -11, 9],\r\n        [8, 3, 8, -10, 9],\r\n        [9, 1, 10],\r\n        [9, 2, -26, 9],\r\n        [10, 1, 11],\r\n        [10, 3, 10, -27, 11],\r\n        [11, 1, 12],\r\n        [11, 1, 13],\r\n        [11, 3, 13, -28, 14],\r\n        [11, 3, 13, -4, 14],\r\n        [13, 1, 15],\r\n        [13, 2, 13, 16],\r\n        [15, 1, 17],\r\n        [15, 3, -29, 2, -30],\r\n        [15, 1, -15],\r\n        [15, 1, -16],\r\n        [15, 1, 18],\r\n        [18, 3, -13, -29, -30],\r\n        [18, 4, -13, -29, 19, -30],\r\n        [19, 1, 20],\r\n        [19, 3, 20, -31, 19],\r\n        [20, 1, 2],\r\n        [12, 1, 14],\r\n        [12, 1, 21],\r\n        [21, 1, -28],\r\n        [21, 2, -28, 14],\r\n        [21, 1, 22],\r\n        [14, 1, 23],\r\n        [14, 3, 14, -28, 23],\r\n        [14, 1, 24],\r\n        [23, 2, 25, 26],\r\n        [23, 1, 26],\r\n        [23, 3, 25, 26, 27],\r\n        [23, 2, 26, 27],\r\n        [23, 1, 28],\r\n        [27, 1, 16],\r\n        [27, 2, 16, 27],\r\n        [25, 2, -14, -3],\r\n        [25, 1, -32],\r\n        [26, 1, 29],\r\n        [26, 3, -20, -29, -30],\r\n        [26, 4, -21, -29, -15, -30],\r\n        [16, 3, -33, 30, -34],\r\n        [30, 1, 2],\r\n        [22, 2, -4, 14],\r\n        [24, 3, 14, -4, 23],\r\n        [28, 1, -35],\r\n        [28, 1, -2],\r\n        [17, 2, -36, -18],\r\n        [29, 1, -17],\r\n        [29, 1, -19],\r\n        [29, 1, -18]\r\n    ];\r\n\r\n    XPathParser.DOUBLEDOT = 2;\r\n    XPathParser.DOUBLECOLON = 3;\r\n    XPathParser.DOUBLESLASH = 4;\r\n    XPathParser.NOTEQUAL = 5;\r\n    XPathParser.LESSTHANOREQUAL = 6;\r\n    XPathParser.GREATERTHANOREQUAL = 7;\r\n    XPathParser.AND = 8;\r\n    XPathParser.OR = 9;\r\n    XPathParser.MOD = 10;\r\n    XPathParser.DIV = 11;\r\n    XPathParser.MULTIPLYOPERATOR = 12;\r\n    XPathParser.FUNCTIONNAME = 13;\r\n    XPathParser.AXISNAME = 14;\r\n    XPathParser.LITERAL = 15;\r\n    XPathParser.NUMBER = 16;\r\n    XPathParser.ASTERISKNAMETEST = 17;\r\n    XPathParser.QNAME = 18;\r\n    XPathParser.NCNAMECOLONASTERISK = 19;\r\n    XPathParser.NODETYPE = 20;\r\n    XPathParser.PROCESSINGINSTRUCTIONWITHLITERAL = 21;\r\n    XPathParser.EQUALS = 22;\r\n    XPathParser.LESSTHAN = 23;\r\n    XPathParser.GREATERTHAN = 24;\r\n    XPathParser.PLUS = 25;\r\n    XPathParser.MINUS = 26;\r\n    XPathParser.BAR = 27;\r\n    XPathParser.SLASH = 28;\r\n    XPathParser.LEFTPARENTHESIS = 29;\r\n    XPathParser.RIGHTPARENTHESIS = 30;\r\n    XPathParser.COMMA = 31;\r\n    XPathParser.AT = 32;\r\n    XPathParser.LEFTBRACKET = 33;\r\n    XPathParser.RIGHTBRACKET = 34;\r\n    XPathParser.DOT = 35;\r\n    XPathParser.DOLLAR = 36;\r\n\r\n    XPathParser.prototype.tokenize = function (s1) {\r\n        var types = [];\r\n        var values = [];\r\n        var s = s1 + '\\0';\r\n\r\n        var pos = 0;\r\n        var c = s.charAt(pos++);\r\n        while (1) {\r\n            while (c == ' ' || c == '\\t' || c == '\\r' || c == '\\n') {\r\n                c = s.charAt(pos++);\r\n            }\r\n            if (c == '\\0' || pos >= s.length) {\r\n                break;\r\n            }\r\n\r\n            if (c == '(') {\r\n                types.push(XPathParser.LEFTPARENTHESIS);\r\n                values.push(c);\r\n                c = s.charAt(pos++);\r\n                continue;\r\n            }\r\n            if (c == ')') {\r\n                types.push(XPathParser.RIGHTPARENTHESIS);\r\n                values.push(c);\r\n                c = s.charAt(pos++);\r\n                continue;\r\n            }\r\n            if (c == '[') {\r\n                types.push(XPathParser.LEFTBRACKET);\r\n                values.push(c);\r\n                c = s.charAt(pos++);\r\n                continue;\r\n            }\r\n            if (c == ']') {\r\n                types.push(XPathParser.RIGHTBRACKET);\r\n                values.push(c);\r\n                c = s.charAt(pos++);\r\n                continue;\r\n            }\r\n            if (c == '@') {\r\n                types.push(XPathParser.AT);\r\n                values.push(c);\r\n                c = s.charAt(pos++);\r\n                continue;\r\n            }\r\n            if (c == ',') {\r\n                types.push(XPathParser.COMMA);\r\n                values.push(c);\r\n                c = s.charAt(pos++);\r\n                continue;\r\n            }\r\n            if (c == '|') {\r\n                types.push(XPathParser.BAR);\r\n                values.push(c);\r\n                c = s.charAt(pos++);\r\n                continue;\r\n            }\r\n            if (c == '+') {\r\n                types.push(XPathParser.PLUS);\r\n                values.push(c);\r\n                c = s.charAt(pos++);\r\n                continue;\r\n            }\r\n            if (c == '-') {\r\n                types.push(XPathParser.MINUS);\r\n                values.push(c);\r\n                c = s.charAt(pos++);\r\n                continue;\r\n            }\r\n            if (c == '=') {\r\n                types.push(XPathParser.EQUALS);\r\n                values.push(c);\r\n                c = s.charAt(pos++);\r\n                continue;\r\n            }\r\n            if (c == '$') {\r\n                types.push(XPathParser.DOLLAR);\r\n                values.push(c);\r\n                c = s.charAt(pos++);\r\n                continue;\r\n            }\r\n\r\n            if (c == '.') {\r\n                c = s.charAt(pos++);\r\n                if (c == '.') {\r\n                    types.push(XPathParser.DOUBLEDOT);\r\n                    values.push(\"..\");\r\n                    c = s.charAt(pos++);\r\n                    continue;\r\n                }\r\n                if (c >= '0' && c <= '9') {\r\n                    var number = \".\" + c;\r\n                    c = s.charAt(pos++);\r\n                    while (c >= '0' && c <= '9') {\r\n                        number += c;\r\n                        c = s.charAt(pos++);\r\n                    }\r\n                    types.push(XPathParser.NUMBER);\r\n                    values.push(number);\r\n                    continue;\r\n                }\r\n                types.push(XPathParser.DOT);\r\n                values.push('.');\r\n                continue;\r\n            }\r\n\r\n            if (c == '\\'' || c == '\"') {\r\n                var delimiter = c;\r\n                var literal = \"\";\r\n                while (pos < s.length && (c = s.charAt(pos)) !== delimiter) {\r\n                    literal += c;\r\n                    pos += 1;\r\n                }\r\n                if (c !== delimiter) {\r\n                    throw XPathException.fromMessage(\"Unterminated string literal: \" + delimiter + literal);\r\n                }\r\n                pos += 1;\r\n                types.push(XPathParser.LITERAL);\r\n                values.push(literal);\r\n                c = s.charAt(pos++);\r\n                continue;\r\n            }\r\n\r\n            if (c >= '0' && c <= '9') {\r\n                var number = c;\r\n                c = s.charAt(pos++);\r\n                while (c >= '0' && c <= '9') {\r\n                    number += c;\r\n                    c = s.charAt(pos++);\r\n                }\r\n                if (c == '.') {\r\n                    if (s.charAt(pos) >= '0' && s.charAt(pos) <= '9') {\r\n                        number += c;\r\n                        number += s.charAt(pos++);\r\n                        c = s.charAt(pos++);\r\n                        while (c >= '0' && c <= '9') {\r\n                            number += c;\r\n                            c = s.charAt(pos++);\r\n                        }\r\n                    }\r\n                }\r\n                types.push(XPathParser.NUMBER);\r\n                values.push(number);\r\n                continue;\r\n            }\r\n\r\n            if (c == '*') {\r\n                if (types.length > 0) {\r\n                    var last = types[types.length - 1];\r\n                    if (last != XPathParser.AT\r\n                        && last != XPathParser.DOUBLECOLON\r\n                        && last != XPathParser.LEFTPARENTHESIS\r\n                        && last != XPathParser.LEFTBRACKET\r\n                        && last != XPathParser.AND\r\n                        && last != XPathParser.OR\r\n                        && last != XPathParser.MOD\r\n                        && last != XPathParser.DIV\r\n                        && last != XPathParser.MULTIPLYOPERATOR\r\n                        && last != XPathParser.SLASH\r\n                        && last != XPathParser.DOUBLESLASH\r\n                        && last != XPathParser.BAR\r\n                        && last != XPathParser.PLUS\r\n                        && last != XPathParser.MINUS\r\n                        && last != XPathParser.EQUALS\r\n                        && last != XPathParser.NOTEQUAL\r\n                        && last != XPathParser.LESSTHAN\r\n                        && last != XPathParser.LESSTHANOREQUAL\r\n                        && last != XPathParser.GREATERTHAN\r\n                        && last != XPathParser.GREATERTHANOREQUAL) {\r\n                        types.push(XPathParser.MULTIPLYOPERATOR);\r\n                        values.push(c);\r\n                        c = s.charAt(pos++);\r\n                        continue;\r\n                    }\r\n                }\r\n                types.push(XPathParser.ASTERISKNAMETEST);\r\n                values.push(c);\r\n                c = s.charAt(pos++);\r\n                continue;\r\n            }\r\n\r\n            if (c == ':') {\r\n                if (s.charAt(pos) == ':') {\r\n                    types.push(XPathParser.DOUBLECOLON);\r\n                    values.push(\"::\");\r\n                    pos++;\r\n                    c = s.charAt(pos++);\r\n                    continue;\r\n                }\r\n            }\r\n\r\n            if (c == '/') {\r\n                c = s.charAt(pos++);\r\n                if (c == '/') {\r\n                    types.push(XPathParser.DOUBLESLASH);\r\n                    values.push(\"//\");\r\n                    c = s.charAt(pos++);\r\n                    continue;\r\n                }\r\n                types.push(XPathParser.SLASH);\r\n                values.push('/');\r\n                continue;\r\n            }\r\n\r\n            if (c == '!') {\r\n                if (s.charAt(pos) == '=') {\r\n                    types.push(XPathParser.NOTEQUAL);\r\n                    values.push(\"!=\");\r\n                    pos++;\r\n                    c = s.charAt(pos++);\r\n                    continue;\r\n                }\r\n            }\r\n\r\n            if (c == '<') {\r\n                if (s.charAt(pos) == '=') {\r\n                    types.push(XPathParser.LESSTHANOREQUAL);\r\n                    values.push(\"<=\");\r\n                    pos++;\r\n                    c = s.charAt(pos++);\r\n                    continue;\r\n                }\r\n                types.push(XPathParser.LESSTHAN);\r\n                values.push('<');\r\n                c = s.charAt(pos++);\r\n                continue;\r\n            }\r\n\r\n            if (c == '>') {\r\n                if (s.charAt(pos) == '=') {\r\n                    types.push(XPathParser.GREATERTHANOREQUAL);\r\n                    values.push(\">=\");\r\n                    pos++;\r\n                    c = s.charAt(pos++);\r\n                    continue;\r\n                }\r\n                types.push(XPathParser.GREATERTHAN);\r\n                values.push('>');\r\n                c = s.charAt(pos++);\r\n                continue;\r\n            }\r\n\r\n            if (c == '_' || Utilities.isLetter(c.charCodeAt(0))) {\r\n                var name = c;\r\n                c = s.charAt(pos++);\r\n                while (Utilities.isNCNameChar(c.charCodeAt(0))) {\r\n                    name += c;\r\n                    c = s.charAt(pos++);\r\n                }\r\n                if (types.length > 0) {\r\n                    var last = types[types.length - 1];\r\n                    if (last != XPathParser.AT\r\n                        && last != XPathParser.DOUBLECOLON\r\n                        && last != XPathParser.LEFTPARENTHESIS\r\n                        && last != XPathParser.LEFTBRACKET\r\n                        && last != XPathParser.AND\r\n                        && last != XPathParser.OR\r\n                        && last != XPathParser.MOD\r\n                        && last != XPathParser.DIV\r\n                        && last != XPathParser.MULTIPLYOPERATOR\r\n                        && last != XPathParser.SLASH\r\n                        && last != XPathParser.DOUBLESLASH\r\n                        && last != XPathParser.BAR\r\n                        && last != XPathParser.PLUS\r\n                        && last != XPathParser.MINUS\r\n                        && last != XPathParser.EQUALS\r\n                        && last != XPathParser.NOTEQUAL\r\n                        && last != XPathParser.LESSTHAN\r\n                        && last != XPathParser.LESSTHANOREQUAL\r\n                        && last != XPathParser.GREATERTHAN\r\n                        && last != XPathParser.GREATERTHANOREQUAL) {\r\n                        if (name == \"and\") {\r\n                            types.push(XPathParser.AND);\r\n                            values.push(name);\r\n                            continue;\r\n                        }\r\n                        if (name == \"or\") {\r\n                            types.push(XPathParser.OR);\r\n                            values.push(name);\r\n                            continue;\r\n                        }\r\n                        if (name == \"mod\") {\r\n                            types.push(XPathParser.MOD);\r\n                            values.push(name);\r\n                            continue;\r\n                        }\r\n                        if (name == \"div\") {\r\n                            types.push(XPathParser.DIV);\r\n                            values.push(name);\r\n                            continue;\r\n                        }\r\n                    }\r\n                }\r\n                if (c == ':') {\r\n                    if (s.charAt(pos) == '*') {\r\n                        types.push(XPathParser.NCNAMECOLONASTERISK);\r\n                        values.push(name + \":*\");\r\n                        pos++;\r\n                        c = s.charAt(pos++);\r\n                        continue;\r\n                    }\r\n                    if (s.charAt(pos) == '_' || Utilities.isLetter(s.charCodeAt(pos))) {\r\n                        name += ':';\r\n                        c = s.charAt(pos++);\r\n                        while (Utilities.isNCNameChar(c.charCodeAt(0))) {\r\n                            name += c;\r\n                            c = s.charAt(pos++);\r\n                        }\r\n                        if (c == '(') {\r\n                            types.push(XPathParser.FUNCTIONNAME);\r\n                            values.push(name);\r\n                            continue;\r\n                        }\r\n                        types.push(XPathParser.QNAME);\r\n                        values.push(name);\r\n                        continue;\r\n                    }\r\n                    if (s.charAt(pos) == ':') {\r\n                        types.push(XPathParser.AXISNAME);\r\n                        values.push(name);\r\n                        continue;\r\n                    }\r\n                }\r\n                if (c == '(') {\r\n                    if (name == \"comment\" || name == \"text\" || name == \"node\") {\r\n                        types.push(XPathParser.NODETYPE);\r\n                        values.push(name);\r\n                        continue;\r\n                    }\r\n                    if (name == \"processing-instruction\") {\r\n                        if (s.charAt(pos) == ')') {\r\n                            types.push(XPathParser.NODETYPE);\r\n                        } else {\r\n                            types.push(XPathParser.PROCESSINGINSTRUCTIONWITHLITERAL);\r\n                        }\r\n                        values.push(name);\r\n                        continue;\r\n                    }\r\n                    types.push(XPathParser.FUNCTIONNAME);\r\n                    values.push(name);\r\n                    continue;\r\n                }\r\n                types.push(XPathParser.QNAME);\r\n                values.push(name);\r\n                continue;\r\n            }\r\n\r\n            throw new Error(\"Unexpected character \" + c);\r\n        }\r\n        types.push(1);\r\n        values.push(\"[EOF]\");\r\n        return [types, values];\r\n    };\r\n\r\n    XPathParser.SHIFT = 's';\r\n    XPathParser.REDUCE = 'r';\r\n    XPathParser.ACCEPT = 'a';\r\n\r\n    XPathParser.prototype.parse = function (s) {\r\n        var types;\r\n        var values;\r\n        var res = this.tokenize(s);\r\n        if (res == undefined) {\r\n            return undefined;\r\n        }\r\n        types = res[0];\r\n        values = res[1];\r\n        var tokenPos = 0;\r\n        var state = [];\r\n        var tokenType = [];\r\n        var tokenValue = [];\r\n        var s;\r\n        var a;\r\n        var t;\r\n\r\n        state.push(0);\r\n        tokenType.push(1);\r\n        tokenValue.push(\"_S\");\r\n\r\n        a = types[tokenPos];\r\n        t = values[tokenPos++];\r\n        while (1) {\r\n            s = state[state.length - 1];\r\n            switch (XPathParser.actionTable[s].charAt(a - 1)) {\r\n                case XPathParser.SHIFT:\r\n                    tokenType.push(-a);\r\n                    tokenValue.push(t);\r\n                    state.push(XPathParser.actionTableNumber[s].charCodeAt(a - 1) - 32);\r\n                    a = types[tokenPos];\r\n                    t = values[tokenPos++];\r\n                    break;\r\n                case XPathParser.REDUCE:\r\n                    var num = XPathParser.productions[XPathParser.actionTableNumber[s].charCodeAt(a - 1) - 32][1];\r\n                    var rhs = [];\r\n                    for (var i = 0; i < num; i++) {\r\n                        tokenType.pop();\r\n                        rhs.unshift(tokenValue.pop());\r\n                        state.pop();\r\n                    }\r\n                    var s_ = state[state.length - 1];\r\n                    tokenType.push(XPathParser.productions[XPathParser.actionTableNumber[s].charCodeAt(a - 1) - 32][0]);\r\n                    if (this.reduceActions[XPathParser.actionTableNumber[s].charCodeAt(a - 1) - 32] == undefined) {\r\n                        tokenValue.push(rhs[0]);\r\n                    } else {\r\n                        tokenValue.push(this.reduceActions[XPathParser.actionTableNumber[s].charCodeAt(a - 1) - 32](rhs));\r\n                    }\r\n                    state.push(XPathParser.gotoTable[s_].charCodeAt(XPathParser.productions[XPathParser.actionTableNumber[s].charCodeAt(a - 1) - 32][0] - 2) - 33);\r\n                    break;\r\n                case XPathParser.ACCEPT:\r\n                    return new XPath(tokenValue.pop());\r\n                default:\r\n                    throw new Error(\"XPath parse error\");\r\n            }\r\n        }\r\n    };\r\n\r\n    // XPath /////////////////////////////////////////////////////////////////////\r\n\r\n    XPath.prototype = new Object();\r\n    XPath.prototype.constructor = XPath;\r\n    XPath.superclass = Object.prototype;\r\n\r\n    function XPath(e) {\r\n        this.expression = e;\r\n    }\r\n\r\n    XPath.prototype.toString = function () {\r\n        return this.expression.toString();\r\n    };\r\n\r\n    function setIfUnset(obj, prop, value) {\r\n        if (!(prop in obj)) {\r\n            obj[prop] = value;\r\n        }\r\n    }\r\n\r\n    XPath.prototype.evaluate = function (c) {\r\n        c.contextNode = c.expressionContextNode;\r\n        c.contextSize = 1;\r\n        c.contextPosition = 1;\r\n\r\n        // [2017-11-25] Removed usage of .implementation.hasFeature() since it does\r\n        //              not reliably detect HTML DOMs (always returns false in xmldom and true in browsers)\r\n        if (c.isHtml) {\r\n            setIfUnset(c, 'caseInsensitive', true);\r\n            setIfUnset(c, 'allowAnyNamespaceForNoPrefix', true);\r\n        }\r\n\r\n        setIfUnset(c, 'caseInsensitive', false);\r\n\r\n        return this.expression.evaluate(c);\r\n    };\r\n\r\n    XPath.XML_NAMESPACE_URI = \"http://www.w3.org/XML/1998/namespace\";\r\n    XPath.XMLNS_NAMESPACE_URI = \"http://www.w3.org/2000/xmlns/\";\r\n\r\n    // Expression ////////////////////////////////////////////////////////////////\r\n\r\n    Expression.prototype = new Object();\r\n    Expression.prototype.constructor = Expression;\r\n    Expression.superclass = Object.prototype;\r\n\r\n    function Expression() {\r\n    }\r\n\r\n    Expression.prototype.init = function () {\r\n    };\r\n\r\n    Expression.prototype.toString = function () {\r\n        return \"<Expression>\";\r\n    };\r\n\r\n    Expression.prototype.evaluate = function (c) {\r\n        throw new Error(\"Could not evaluate expression.\");\r\n    };\r\n\r\n    // UnaryOperation ////////////////////////////////////////////////////////////\r\n\r\n    UnaryOperation.prototype = new Expression();\r\n    UnaryOperation.prototype.constructor = UnaryOperation;\r\n    UnaryOperation.superclass = Expression.prototype;\r\n\r\n    function UnaryOperation(rhs) {\r\n        if (arguments.length > 0) {\r\n            this.init(rhs);\r\n        }\r\n    }\r\n\r\n    UnaryOperation.prototype.init = function (rhs) {\r\n        this.rhs = rhs;\r\n    };\r\n\r\n    // UnaryMinusOperation ///////////////////////////////////////////////////////\r\n\r\n    UnaryMinusOperation.prototype = new UnaryOperation();\r\n    UnaryMinusOperation.prototype.constructor = UnaryMinusOperation;\r\n    UnaryMinusOperation.superclass = UnaryOperation.prototype;\r\n\r\n    function UnaryMinusOperation(rhs) {\r\n        if (arguments.length > 0) {\r\n            this.init(rhs);\r\n        }\r\n    }\r\n\r\n    UnaryMinusOperation.prototype.init = function (rhs) {\r\n        UnaryMinusOperation.superclass.init.call(this, rhs);\r\n    };\r\n\r\n    UnaryMinusOperation.prototype.evaluate = function (c) {\r\n        return this.rhs.evaluate(c).number().negate();\r\n    };\r\n\r\n    UnaryMinusOperation.prototype.toString = function () {\r\n        return \"-\" + this.rhs.toString();\r\n    };\r\n\r\n    // BinaryOperation ///////////////////////////////////////////////////////////\r\n\r\n    BinaryOperation.prototype = new Expression();\r\n    BinaryOperation.prototype.constructor = BinaryOperation;\r\n    BinaryOperation.superclass = Expression.prototype;\r\n\r\n    function BinaryOperation(lhs, rhs) {\r\n        if (arguments.length > 0) {\r\n            this.init(lhs, rhs);\r\n        }\r\n    }\r\n\r\n    BinaryOperation.prototype.init = function (lhs, rhs) {\r\n        this.lhs = lhs;\r\n        this.rhs = rhs;\r\n    };\r\n\r\n    // OrOperation ///////////////////////////////////////////////////////////////\r\n\r\n    OrOperation.prototype = new BinaryOperation();\r\n    OrOperation.prototype.constructor = OrOperation;\r\n    OrOperation.superclass = BinaryOperation.prototype;\r\n\r\n    function OrOperation(lhs, rhs) {\r\n        if (arguments.length > 0) {\r\n            this.init(lhs, rhs);\r\n        }\r\n    }\r\n\r\n    OrOperation.prototype.init = function (lhs, rhs) {\r\n        OrOperation.superclass.init.call(this, lhs, rhs);\r\n    };\r\n\r\n    OrOperation.prototype.toString = function () {\r\n        return \"(\" + this.lhs.toString() + \" or \" + this.rhs.toString() + \")\";\r\n    };\r\n\r\n    OrOperation.prototype.evaluate = function (c) {\r\n        var b = this.lhs.evaluate(c).bool();\r\n        if (b.booleanValue()) {\r\n            return b;\r\n        }\r\n        return this.rhs.evaluate(c).bool();\r\n    };\r\n\r\n    // AndOperation //////////////////////////////////////////////////////////////\r\n\r\n    AndOperation.prototype = new BinaryOperation();\r\n    AndOperation.prototype.constructor = AndOperation;\r\n    AndOperation.superclass = BinaryOperation.prototype;\r\n\r\n    function AndOperation(lhs, rhs) {\r\n        if (arguments.length > 0) {\r\n            this.init(lhs, rhs);\r\n        }\r\n    }\r\n\r\n    AndOperation.prototype.init = function (lhs, rhs) {\r\n        AndOperation.superclass.init.call(this, lhs, rhs);\r\n    };\r\n\r\n    AndOperation.prototype.toString = function () {\r\n        return \"(\" + this.lhs.toString() + \" and \" + this.rhs.toString() + \")\";\r\n    };\r\n\r\n    AndOperation.prototype.evaluate = function (c) {\r\n        var b = this.lhs.evaluate(c).bool();\r\n        if (!b.booleanValue()) {\r\n            return b;\r\n        }\r\n        return this.rhs.evaluate(c).bool();\r\n    };\r\n\r\n    // EqualsOperation ///////////////////////////////////////////////////////////\r\n\r\n    EqualsOperation.prototype = new BinaryOperation();\r\n    EqualsOperation.prototype.constructor = EqualsOperation;\r\n    EqualsOperation.superclass = BinaryOperation.prototype;\r\n\r\n    function EqualsOperation(lhs, rhs) {\r\n        if (arguments.length > 0) {\r\n            this.init(lhs, rhs);\r\n        }\r\n    }\r\n\r\n    EqualsOperation.prototype.init = function (lhs, rhs) {\r\n        EqualsOperation.superclass.init.call(this, lhs, rhs);\r\n    };\r\n\r\n    EqualsOperation.prototype.toString = function () {\r\n        return \"(\" + this.lhs.toString() + \" = \" + this.rhs.toString() + \")\";\r\n    };\r\n\r\n    EqualsOperation.prototype.evaluate = function (c) {\r\n        return this.lhs.evaluate(c).equals(this.rhs.evaluate(c));\r\n    };\r\n\r\n    // NotEqualOperation /////////////////////////////////////////////////////////\r\n\r\n    NotEqualOperation.prototype = new BinaryOperation();\r\n    NotEqualOperation.prototype.constructor = NotEqualOperation;\r\n    NotEqualOperation.superclass = BinaryOperation.prototype;\r\n\r\n    function NotEqualOperation(lhs, rhs) {\r\n        if (arguments.length > 0) {\r\n            this.init(lhs, rhs);\r\n        }\r\n    }\r\n\r\n    NotEqualOperation.prototype.init = function (lhs, rhs) {\r\n        NotEqualOperation.superclass.init.call(this, lhs, rhs);\r\n    };\r\n\r\n    NotEqualOperation.prototype.toString = function () {\r\n        return \"(\" + this.lhs.toString() + \" != \" + this.rhs.toString() + \")\";\r\n    };\r\n\r\n    NotEqualOperation.prototype.evaluate = function (c) {\r\n        return this.lhs.evaluate(c).notequal(this.rhs.evaluate(c));\r\n    };\r\n\r\n    // LessThanOperation /////////////////////////////////////////////////////////\r\n\r\n    LessThanOperation.prototype = new BinaryOperation();\r\n    LessThanOperation.prototype.constructor = LessThanOperation;\r\n    LessThanOperation.superclass = BinaryOperation.prototype;\r\n\r\n    function LessThanOperation(lhs, rhs) {\r\n        if (arguments.length > 0) {\r\n            this.init(lhs, rhs);\r\n        }\r\n    }\r\n\r\n    LessThanOperation.prototype.init = function (lhs, rhs) {\r\n        LessThanOperation.superclass.init.call(this, lhs, rhs);\r\n    };\r\n\r\n    LessThanOperation.prototype.evaluate = function (c) {\r\n        return this.lhs.evaluate(c).lessthan(this.rhs.evaluate(c));\r\n    };\r\n\r\n    LessThanOperation.prototype.toString = function () {\r\n        return \"(\" + this.lhs.toString() + \" < \" + this.rhs.toString() + \")\";\r\n    };\r\n\r\n    // GreaterThanOperation //////////////////////////////////////////////////////\r\n\r\n    GreaterThanOperation.prototype = new BinaryOperation();\r\n    GreaterThanOperation.prototype.constructor = GreaterThanOperation;\r\n    GreaterThanOperation.superclass = BinaryOperation.prototype;\r\n\r\n    function GreaterThanOperation(lhs, rhs) {\r\n        if (arguments.length > 0) {\r\n            this.init(lhs, rhs);\r\n        }\r\n    }\r\n\r\n    GreaterThanOperation.prototype.init = function (lhs, rhs) {\r\n        GreaterThanOperation.superclass.init.call(this, lhs, rhs);\r\n    };\r\n\r\n    GreaterThanOperation.prototype.evaluate = function (c) {\r\n        return this.lhs.evaluate(c).greaterthan(this.rhs.evaluate(c));\r\n    };\r\n\r\n    GreaterThanOperation.prototype.toString = function () {\r\n        return \"(\" + this.lhs.toString() + \" > \" + this.rhs.toString() + \")\";\r\n    };\r\n\r\n    // LessThanOrEqualOperation //////////////////////////////////////////////////\r\n\r\n    LessThanOrEqualOperation.prototype = new BinaryOperation();\r\n    LessThanOrEqualOperation.prototype.constructor = LessThanOrEqualOperation;\r\n    LessThanOrEqualOperation.superclass = BinaryOperation.prototype;\r\n\r\n    function LessThanOrEqualOperation(lhs, rhs) {\r\n        if (arguments.length > 0) {\r\n            this.init(lhs, rhs);\r\n        }\r\n    }\r\n\r\n    LessThanOrEqualOperation.prototype.init = function (lhs, rhs) {\r\n        LessThanOrEqualOperation.superclass.init.call(this, lhs, rhs);\r\n    };\r\n\r\n    LessThanOrEqualOperation.prototype.evaluate = function (c) {\r\n        return this.lhs.evaluate(c).lessthanorequal(this.rhs.evaluate(c));\r\n    };\r\n\r\n    LessThanOrEqualOperation.prototype.toString = function () {\r\n        return \"(\" + this.lhs.toString() + \" <= \" + this.rhs.toString() + \")\";\r\n    };\r\n\r\n    // GreaterThanOrEqualOperation ///////////////////////////////////////////////\r\n\r\n    GreaterThanOrEqualOperation.prototype = new BinaryOperation();\r\n    GreaterThanOrEqualOperation.prototype.constructor = GreaterThanOrEqualOperation;\r\n    GreaterThanOrEqualOperation.superclass = BinaryOperation.prototype;\r\n\r\n    function GreaterThanOrEqualOperation(lhs, rhs) {\r\n        if (arguments.length > 0) {\r\n            this.init(lhs, rhs);\r\n        }\r\n    }\r\n\r\n    GreaterThanOrEqualOperation.prototype.init = function (lhs, rhs) {\r\n        GreaterThanOrEqualOperation.superclass.init.call(this, lhs, rhs);\r\n    };\r\n\r\n    GreaterThanOrEqualOperation.prototype.evaluate = function (c) {\r\n        return this.lhs.evaluate(c).greaterthanorequal(this.rhs.evaluate(c));\r\n    };\r\n\r\n    GreaterThanOrEqualOperation.prototype.toString = function () {\r\n        return \"(\" + this.lhs.toString() + \" >= \" + this.rhs.toString() + \")\";\r\n    };\r\n\r\n    // PlusOperation /////////////////////////////////////////////////////////////\r\n\r\n    PlusOperation.prototype = new BinaryOperation();\r\n    PlusOperation.prototype.constructor = PlusOperation;\r\n    PlusOperation.superclass = BinaryOperation.prototype;\r\n\r\n    function PlusOperation(lhs, rhs) {\r\n        if (arguments.length > 0) {\r\n            this.init(lhs, rhs);\r\n        }\r\n    }\r\n\r\n    PlusOperation.prototype.init = function (lhs, rhs) {\r\n        PlusOperation.superclass.init.call(this, lhs, rhs);\r\n    };\r\n\r\n    PlusOperation.prototype.evaluate = function (c) {\r\n        return this.lhs.evaluate(c).number().plus(this.rhs.evaluate(c).number());\r\n    };\r\n\r\n    PlusOperation.prototype.toString = function () {\r\n        return \"(\" + this.lhs.toString() + \" + \" + this.rhs.toString() + \")\";\r\n    };\r\n\r\n    // MinusOperation ////////////////////////////////////////////////////////////\r\n\r\n    MinusOperation.prototype = new BinaryOperation();\r\n    MinusOperation.prototype.constructor = MinusOperation;\r\n    MinusOperation.superclass = BinaryOperation.prototype;\r\n\r\n    function MinusOperation(lhs, rhs) {\r\n        if (arguments.length > 0) {\r\n            this.init(lhs, rhs);\r\n        }\r\n    }\r\n\r\n    MinusOperation.prototype.init = function (lhs, rhs) {\r\n        MinusOperation.superclass.init.call(this, lhs, rhs);\r\n    };\r\n\r\n    MinusOperation.prototype.evaluate = function (c) {\r\n        return this.lhs.evaluate(c).number().minus(this.rhs.evaluate(c).number());\r\n    };\r\n\r\n    MinusOperation.prototype.toString = function () {\r\n        return \"(\" + this.lhs.toString() + \" - \" + this.rhs.toString() + \")\";\r\n    };\r\n\r\n    // MultiplyOperation /////////////////////////////////////////////////////////\r\n\r\n    MultiplyOperation.prototype = new BinaryOperation();\r\n    MultiplyOperation.prototype.constructor = MultiplyOperation;\r\n    MultiplyOperation.superclass = BinaryOperation.prototype;\r\n\r\n    function MultiplyOperation(lhs, rhs) {\r\n        if (arguments.length > 0) {\r\n            this.init(lhs, rhs);\r\n        }\r\n    }\r\n\r\n    MultiplyOperation.prototype.init = function (lhs, rhs) {\r\n        MultiplyOperation.superclass.init.call(this, lhs, rhs);\r\n    };\r\n\r\n    MultiplyOperation.prototype.evaluate = function (c) {\r\n        return this.lhs.evaluate(c).number().multiply(this.rhs.evaluate(c).number());\r\n    };\r\n\r\n    MultiplyOperation.prototype.toString = function () {\r\n        return \"(\" + this.lhs.toString() + \" * \" + this.rhs.toString() + \")\";\r\n    };\r\n\r\n    // DivOperation //////////////////////////////////////////////////////////////\r\n\r\n    DivOperation.prototype = new BinaryOperation();\r\n    DivOperation.prototype.constructor = DivOperation;\r\n    DivOperation.superclass = BinaryOperation.prototype;\r\n\r\n    function DivOperation(lhs, rhs) {\r\n        if (arguments.length > 0) {\r\n            this.init(lhs, rhs);\r\n        }\r\n    }\r\n\r\n    DivOperation.prototype.init = function (lhs, rhs) {\r\n        DivOperation.superclass.init.call(this, lhs, rhs);\r\n    };\r\n\r\n    DivOperation.prototype.evaluate = function (c) {\r\n        return this.lhs.evaluate(c).number().div(this.rhs.evaluate(c).number());\r\n    };\r\n\r\n    DivOperation.prototype.toString = function () {\r\n        return \"(\" + this.lhs.toString() + \" div \" + this.rhs.toString() + \")\";\r\n    };\r\n\r\n    // ModOperation //////////////////////////////////////////////////////////////\r\n\r\n    ModOperation.prototype = new BinaryOperation();\r\n    ModOperation.prototype.constructor = ModOperation;\r\n    ModOperation.superclass = BinaryOperation.prototype;\r\n\r\n    function ModOperation(lhs, rhs) {\r\n        if (arguments.length > 0) {\r\n            this.init(lhs, rhs);\r\n        }\r\n    }\r\n\r\n    ModOperation.prototype.init = function (lhs, rhs) {\r\n        ModOperation.superclass.init.call(this, lhs, rhs);\r\n    };\r\n\r\n    ModOperation.prototype.evaluate = function (c) {\r\n        return this.lhs.evaluate(c).number().mod(this.rhs.evaluate(c).number());\r\n    };\r\n\r\n    ModOperation.prototype.toString = function () {\r\n        return \"(\" + this.lhs.toString() + \" mod \" + this.rhs.toString() + \")\";\r\n    };\r\n\r\n    // BarOperation //////////////////////////////////////////////////////////////\r\n\r\n    BarOperation.prototype = new BinaryOperation();\r\n    BarOperation.prototype.constructor = BarOperation;\r\n    BarOperation.superclass = BinaryOperation.prototype;\r\n\r\n    function BarOperation(lhs, rhs) {\r\n        if (arguments.length > 0) {\r\n            this.init(lhs, rhs);\r\n        }\r\n    }\r\n\r\n    BarOperation.prototype.init = function (lhs, rhs) {\r\n        BarOperation.superclass.init.call(this, lhs, rhs);\r\n    };\r\n\r\n    BarOperation.prototype.evaluate = function (c) {\r\n        return this.lhs.evaluate(c).nodeset().union(this.rhs.evaluate(c).nodeset());\r\n    };\r\n\r\n    BarOperation.prototype.toString = function () {\r\n        return map(toString, [this.lhs, this.rhs]).join(' | ');\r\n    };\r\n\r\n    // PathExpr //////////////////////////////////////////////////////////////////\r\n\r\n    PathExpr.prototype = new Expression();\r\n    PathExpr.prototype.constructor = PathExpr;\r\n    PathExpr.superclass = Expression.prototype;\r\n\r\n    function PathExpr(filter, filterPreds, locpath) {\r\n        if (arguments.length > 0) {\r\n            this.init(filter, filterPreds, locpath);\r\n        }\r\n    }\r\n\r\n    PathExpr.prototype.init = function (filter, filterPreds, locpath) {\r\n        PathExpr.superclass.init.call(this);\r\n        this.filter = filter;\r\n        this.filterPredicates = filterPreds;\r\n        this.locationPath = locpath;\r\n    };\r\n\r\n    /**\r\n     * Returns the topmost node of the tree containing node\r\n     */\r\n    function findRoot(node) {\r\n        while (node && node.parentNode) {\r\n            node = node.parentNode;\r\n        }\r\n\r\n        return node;\r\n    }\r\n\r\n    PathExpr.applyPredicates = function (predicates, c, nodes) {\r\n        if (predicates.length === 0) {\r\n            return nodes;\r\n        }\r\n\r\n        var ctx = c.extend({});\r\n\r\n        return reduce(\r\n            function (inNodes, pred) {\r\n                ctx.contextSize = inNodes.length;\r\n\r\n                return filter(\r\n                    function (node, i) {\r\n                        ctx.contextNode = node;\r\n                        ctx.contextPosition = i + 1;\r\n\r\n                        return PathExpr.predicateMatches(pred, ctx);\r\n                    },\r\n                    inNodes\r\n                );\r\n            },\r\n            nodes,\r\n            predicates\r\n        );\r\n    };\r\n\r\n    PathExpr.getRoot = function (xpc, nodes) {\r\n        var firstNode = nodes[0];\r\n\r\n        if (firstNode.nodeType === NodeTypes.DOCUMENT_NODE) {\r\n            return firstNode;\r\n        }\r\n\r\n        if (xpc.virtualRoot) {\r\n            return xpc.virtualRoot;\r\n        }\r\n\r\n        var ownerDoc = firstNode.ownerDocument;\r\n\r\n        if (ownerDoc) {\r\n            return ownerDoc;\r\n        }\r\n\r\n        // IE 5.5 doesn't have ownerDocument?\r\n        var n = firstNode;\r\n        while (n.parentNode != null) {\r\n            n = n.parentNode;\r\n        }\r\n        return n;\r\n    }\r\n\r\n    PathExpr.applyStep = function (step, xpc, node) {\r\n        var self = this;\r\n        var newNodes = [];\r\n        xpc.contextNode = node;\r\n\r\n        switch (step.axis) {\r\n            case Step.ANCESTOR:\r\n                // look at all the ancestor nodes\r\n                if (xpc.contextNode === xpc.virtualRoot) {\r\n                    break;\r\n                }\r\n                var m;\r\n                if (xpc.contextNode.nodeType == NodeTypes.ATTRIBUTE_NODE) {\r\n                    m = PathExpr.getOwnerElement(xpc.contextNode);\r\n                } else {\r\n                    m = xpc.contextNode.parentNode;\r\n                }\r\n                while (m != null) {\r\n                    if (step.nodeTest.matches(m, xpc)) {\r\n                        newNodes.push(m);\r\n                    }\r\n                    if (m === xpc.virtualRoot) {\r\n                        break;\r\n                    }\r\n                    m = m.parentNode;\r\n                }\r\n                break;\r\n\r\n            case Step.ANCESTORORSELF:\r\n                // look at all the ancestor nodes and the current node\r\n                for (var m = xpc.contextNode; m != null; m = m.nodeType == NodeTypes.ATTRIBUTE_NODE ? PathExpr.getOwnerElement(m) : m.parentNode) {\r\n                    if (step.nodeTest.matches(m, xpc)) {\r\n                        newNodes.push(m);\r\n                    }\r\n                    if (m === xpc.virtualRoot) {\r\n                        break;\r\n                    }\r\n                }\r\n                break;\r\n\r\n            case Step.ATTRIBUTE:\r\n                // look at the attributes\r\n                var nnm = xpc.contextNode.attributes;\r\n                if (nnm != null) {\r\n                    for (var k = 0; k < nnm.length; k++) {\r\n                        var m = nnm.item(k);\r\n                        if (step.nodeTest.matches(m, xpc)) {\r\n                            newNodes.push(m);\r\n                        }\r\n                    }\r\n                }\r\n                break;\r\n\r\n            case Step.CHILD:\r\n                // look at all child elements\r\n                for (var m = xpc.contextNode.firstChild; m != null; m = m.nextSibling) {\r\n                    if (step.nodeTest.matches(m, xpc)) {\r\n                        newNodes.push(m);\r\n                    }\r\n                }\r\n                break;\r\n\r\n            case Step.DESCENDANT:\r\n                // look at all descendant nodes\r\n                var st = [xpc.contextNode.firstChild];\r\n                while (st.length > 0) {\r\n                    for (var m = st.pop(); m != null;) {\r\n                        if (step.nodeTest.matches(m, xpc)) {\r\n                            newNodes.push(m);\r\n                        }\r\n                        if (m.firstChild != null) {\r\n                            st.push(m.nextSibling);\r\n                            m = m.firstChild;\r\n                        } else {\r\n                            m = m.nextSibling;\r\n                        }\r\n                    }\r\n                }\r\n                break;\r\n\r\n            case Step.DESCENDANTORSELF:\r\n                // look at self\r\n                if (step.nodeTest.matches(xpc.contextNode, xpc)) {\r\n                    newNodes.push(xpc.contextNode);\r\n                }\r\n                // look at all descendant nodes\r\n                var st = [xpc.contextNode.firstChild];\r\n                while (st.length > 0) {\r\n                    for (var m = st.pop(); m != null;) {\r\n                        if (step.nodeTest.matches(m, xpc)) {\r\n                            newNodes.push(m);\r\n                        }\r\n                        if (m.firstChild != null) {\r\n                            st.push(m.nextSibling);\r\n                            m = m.firstChild;\r\n                        } else {\r\n                            m = m.nextSibling;\r\n                        }\r\n                    }\r\n                }\r\n                break;\r\n\r\n            case Step.FOLLOWING:\r\n                if (xpc.contextNode === xpc.virtualRoot) {\r\n                    break;\r\n                }\r\n                var st = [];\r\n                if (xpc.contextNode.firstChild != null) {\r\n                    st.unshift(xpc.contextNode.firstChild);\r\n                } else {\r\n                    st.unshift(xpc.contextNode.nextSibling);\r\n                }\r\n                for (var m = xpc.contextNode.parentNode; m != null && m.nodeType != NodeTypes.DOCUMENT_NODE && m !== xpc.virtualRoot; m = m.parentNode) {\r\n                    st.unshift(m.nextSibling);\r\n                }\r\n                do {\r\n                    for (var m = st.pop(); m != null;) {\r\n                        if (step.nodeTest.matches(m, xpc)) {\r\n                            newNodes.push(m);\r\n                        }\r\n                        if (m.firstChild != null) {\r\n                            st.push(m.nextSibling);\r\n                            m = m.firstChild;\r\n                        } else {\r\n                            m = m.nextSibling;\r\n                        }\r\n                    }\r\n                } while (st.length > 0);\r\n                break;\r\n\r\n            case Step.FOLLOWINGSIBLING:\r\n                if (xpc.contextNode === xpc.virtualRoot) {\r\n                    break;\r\n                }\r\n                for (var m = xpc.contextNode.nextSibling; m != null; m = m.nextSibling) {\r\n                    if (step.nodeTest.matches(m, xpc)) {\r\n                        newNodes.push(m);\r\n                    }\r\n                }\r\n                break;\r\n\r\n            case Step.NAMESPACE:\r\n                var n = {};\r\n                if (xpc.contextNode.nodeType == NodeTypes.ELEMENT_NODE) {\r\n                    n[\"xml\"] = XPath.XML_NAMESPACE_URI;\r\n                    n[\"xmlns\"] = XPath.XMLNS_NAMESPACE_URI;\r\n                    for (var m = xpc.contextNode; m != null && m.nodeType == NodeTypes.ELEMENT_NODE; m = m.parentNode) {\r\n                        for (var k = 0; k < m.attributes.length; k++) {\r\n                            var attr = m.attributes.item(k);\r\n                            var nm = String(attr.name);\r\n                            if (nm == \"xmlns\") {\r\n                                if (n[\"\"] == undefined) {\r\n                                    n[\"\"] = attr.value;\r\n                                }\r\n                            } else if (nm.length > 6 && nm.substring(0, 6) == \"xmlns:\") {\r\n                                var pre = nm.substring(6, nm.length);\r\n                                if (n[pre] == undefined) {\r\n                                    n[pre] = attr.value;\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                    for (var pre in n) {\r\n                        var nsn = new XPathNamespace(pre, n[pre], xpc.contextNode);\r\n                        if (step.nodeTest.matches(nsn, xpc)) {\r\n                            newNodes.push(nsn);\r\n                        }\r\n                    }\r\n                }\r\n                break;\r\n\r\n            case Step.PARENT:\r\n                m = null;\r\n                if (xpc.contextNode !== xpc.virtualRoot) {\r\n                    if (xpc.contextNode.nodeType == NodeTypes.ATTRIBUTE_NODE) {\r\n                        m = PathExpr.getOwnerElement(xpc.contextNode);\r\n                    } else {\r\n                        m = xpc.contextNode.parentNode;\r\n                    }\r\n                }\r\n                if (m != null && step.nodeTest.matches(m, xpc)) {\r\n                    newNodes.push(m);\r\n                }\r\n                break;\r\n\r\n            case Step.PRECEDING:\r\n                var st;\r\n                if (xpc.virtualRoot != null) {\r\n                    st = [xpc.virtualRoot];\r\n                } else {\r\n                    // cannot rely on .ownerDocument because the node may be in a document fragment\r\n                    st = [findRoot(xpc.contextNode)];\r\n                }\r\n                outer: while (st.length > 0) {\r\n                    for (var m = st.pop(); m != null;) {\r\n                        if (m == xpc.contextNode) {\r\n                            break outer;\r\n                        }\r\n                        if (step.nodeTest.matches(m, xpc)) {\r\n                            newNodes.unshift(m);\r\n                        }\r\n                        if (m.firstChild != null) {\r\n                            st.push(m.nextSibling);\r\n                            m = m.firstChild;\r\n                        } else {\r\n                            m = m.nextSibling;\r\n                        }\r\n                    }\r\n                }\r\n                break;\r\n\r\n            case Step.PRECEDINGSIBLING:\r\n                if (xpc.contextNode === xpc.virtualRoot) {\r\n                    break;\r\n                }\r\n                for (var m = xpc.contextNode.previousSibling; m != null; m = m.previousSibling) {\r\n                    if (step.nodeTest.matches(m, xpc)) {\r\n                        newNodes.push(m);\r\n                    }\r\n                }\r\n                break;\r\n\r\n            case Step.SELF:\r\n                if (step.nodeTest.matches(xpc.contextNode, xpc)) {\r\n                    newNodes.push(xpc.contextNode);\r\n                }\r\n                break;\r\n\r\n            default:\r\n        }\r\n\r\n        return newNodes;\r\n    };\r\n\r\n    function applyStepWithPredicates(step, xpc, node) {\r\n        return PathExpr.applyPredicates(\r\n            step.predicates,\r\n            xpc,\r\n            PathExpr.applyStep(step, xpc, node)\r\n        );\r\n    }\r\n\r\n    function applyStepToNodes(context, nodes, step) {\r\n        return flatten(\r\n            map(\r\n                applyStepWithPredicates.bind(null, step, context),\r\n                nodes\r\n            )\r\n        );\r\n    }\r\n\r\n    PathExpr.applySteps = function (steps, xpc, nodes) {\r\n        return reduce(\r\n            applyStepToNodes.bind(null, xpc),\r\n            nodes,\r\n            steps\r\n        );\r\n    }\r\n\r\n    PathExpr.prototype.applyFilter = function (c, xpc) {\r\n        if (!this.filter) {\r\n            return { nodes: [c.contextNode] };\r\n        }\r\n\r\n        var ns = this.filter.evaluate(c);\r\n\r\n        if (!Utilities.instance_of(ns, XNodeSet)) {\r\n            if (this.filterPredicates != null && this.filterPredicates.length > 0 || this.locationPath != null) {\r\n                throw new Error(\"Path expression filter must evaluate to a nodeset if predicates or location path are used\");\r\n            }\r\n\r\n            return { nonNodes: ns };\r\n        }\r\n\r\n        return {\r\n            nodes: PathExpr.applyPredicates(this.filterPredicates || [], xpc, ns.toUnsortedArray())\r\n        };\r\n    };\r\n\r\n    PathExpr.applyLocationPath = function (locationPath, xpc, nodes) {\r\n        if (!locationPath) {\r\n            return nodes;\r\n        }\r\n\r\n        var startNodes = locationPath.absolute ? [PathExpr.getRoot(xpc, nodes)] : nodes;\r\n\r\n        return PathExpr.applySteps(locationPath.steps, xpc, startNodes);\r\n    };\r\n\r\n    PathExpr.prototype.evaluate = function (c) {\r\n        var xpc = assign(new XPathContext(), c);\r\n\r\n        var filterResult = this.applyFilter(c, xpc);\r\n\r\n        if ('nonNodes' in filterResult) {\r\n            return filterResult.nonNodes;\r\n        }\r\n\r\n        var ns = new XNodeSet();\r\n        ns.addArray(PathExpr.applyLocationPath(this.locationPath, xpc, filterResult.nodes));\r\n        return ns;\r\n    };\r\n\r\n    PathExpr.predicateMatches = function (pred, c) {\r\n        var res = pred.evaluate(c);\r\n\r\n        return Utilities.instance_of(res, XNumber)\r\n            ? c.contextPosition === res.numberValue()\r\n            : res.booleanValue();\r\n    };\r\n\r\n    PathExpr.predicateString = function (predicate) {\r\n        return wrap('[', ']', predicate.toString());\r\n    }\r\n\r\n    PathExpr.predicatesString = function (predicates) {\r\n        return join(\r\n            '',\r\n            map(PathExpr.predicateString, predicates)\r\n        );\r\n    }\r\n\r\n    PathExpr.prototype.toString = function () {\r\n        if (this.filter != undefined) {\r\n            var filterStr = toString(this.filter);\r\n\r\n            if (Utilities.instance_of(this.filter, XString)) {\r\n                return wrap(\"'\", \"'\", filterStr);\r\n            }\r\n            if (this.filterPredicates != undefined && this.filterPredicates.length) {\r\n                return wrap('(', ')', filterStr) +\r\n                    PathExpr.predicatesString(this.filterPredicates);\r\n            }\r\n            if (this.locationPath != undefined) {\r\n                return filterStr +\r\n                    (this.locationPath.absolute ? '' : '/') +\r\n                    toString(this.locationPath);\r\n            }\r\n\r\n            return filterStr;\r\n        }\r\n\r\n        return toString(this.locationPath);\r\n    };\r\n\r\n    PathExpr.getOwnerElement = function (n) {\r\n        // DOM 2 has ownerElement\r\n        if (n.ownerElement) {\r\n            return n.ownerElement;\r\n        }\r\n        // DOM 1 Internet Explorer can use selectSingleNode (ironically)\r\n        try {\r\n            if (n.selectSingleNode) {\r\n                return n.selectSingleNode(\"..\");\r\n            }\r\n        } catch (e) {\r\n        }\r\n        // Other DOM 1 implementations must use this egregious search\r\n        var doc = n.nodeType == NodeTypes.DOCUMENT_NODE\r\n            ? n\r\n            : n.ownerDocument;\r\n        var elts = doc.getElementsByTagName(\"*\");\r\n        for (var i = 0; i < elts.length; i++) {\r\n            var elt = elts.item(i);\r\n            var nnm = elt.attributes;\r\n            for (var j = 0; j < nnm.length; j++) {\r\n                var an = nnm.item(j);\r\n                if (an === n) {\r\n                    return elt;\r\n                }\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n\r\n    // LocationPath //////////////////////////////////////////////////////////////\r\n\r\n    LocationPath.prototype = new Object();\r\n    LocationPath.prototype.constructor = LocationPath;\r\n    LocationPath.superclass = Object.prototype;\r\n\r\n    function LocationPath(abs, steps) {\r\n        if (arguments.length > 0) {\r\n            this.init(abs, steps);\r\n        }\r\n    }\r\n\r\n    LocationPath.prototype.init = function (abs, steps) {\r\n        this.absolute = abs;\r\n        this.steps = steps;\r\n    };\r\n\r\n    LocationPath.prototype.toString = function () {\r\n        return (\r\n            (this.absolute ? '/' : '') +\r\n            map(toString, this.steps).join('/')\r\n        );\r\n    };\r\n\r\n    // Step //////////////////////////////////////////////////////////////////////\r\n\r\n    Step.prototype = new Object();\r\n    Step.prototype.constructor = Step;\r\n    Step.superclass = Object.prototype;\r\n\r\n    function Step(axis, nodetest, preds) {\r\n        if (arguments.length > 0) {\r\n            this.init(axis, nodetest, preds);\r\n        }\r\n    }\r\n\r\n    Step.prototype.init = function (axis, nodetest, preds) {\r\n        this.axis = axis;\r\n        this.nodeTest = nodetest;\r\n        this.predicates = preds;\r\n    };\r\n\r\n    Step.prototype.toString = function () {\r\n        return Step.STEPNAMES[this.axis] +\r\n            \"::\" +\r\n            this.nodeTest.toString() +\r\n            PathExpr.predicatesString(this.predicates);\r\n    };\r\n\r\n\r\n    Step.ANCESTOR = 0;\r\n    Step.ANCESTORORSELF = 1;\r\n    Step.ATTRIBUTE = 2;\r\n    Step.CHILD = 3;\r\n    Step.DESCENDANT = 4;\r\n    Step.DESCENDANTORSELF = 5;\r\n    Step.FOLLOWING = 6;\r\n    Step.FOLLOWINGSIBLING = 7;\r\n    Step.NAMESPACE = 8;\r\n    Step.PARENT = 9;\r\n    Step.PRECEDING = 10;\r\n    Step.PRECEDINGSIBLING = 11;\r\n    Step.SELF = 12;\r\n\r\n    Step.STEPNAMES = reduce(function (acc, x) { return acc[x[0]] = x[1], acc; }, {}, [\r\n        [Step.ANCESTOR, 'ancestor'],\r\n        [Step.ANCESTORORSELF, 'ancestor-or-self'],\r\n        [Step.ATTRIBUTE, 'attribute'],\r\n        [Step.CHILD, 'child'],\r\n        [Step.DESCENDANT, 'descendant'],\r\n        [Step.DESCENDANTORSELF, 'descendant-or-self'],\r\n        [Step.FOLLOWING, 'following'],\r\n        [Step.FOLLOWINGSIBLING, 'following-sibling'],\r\n        [Step.NAMESPACE, 'namespace'],\r\n        [Step.PARENT, 'parent'],\r\n        [Step.PRECEDING, 'preceding'],\r\n        [Step.PRECEDINGSIBLING, 'preceding-sibling'],\r\n        [Step.SELF, 'self']\r\n    ]);\r\n\r\n    // NodeTest //////////////////////////////////////////////////////////////////\r\n\r\n    NodeTest.prototype = new Object();\r\n    NodeTest.prototype.constructor = NodeTest;\r\n    NodeTest.superclass = Object.prototype;\r\n\r\n    function NodeTest(type, value) {\r\n        if (arguments.length > 0) {\r\n            this.init(type, value);\r\n        }\r\n    }\r\n\r\n    NodeTest.prototype.init = function (type, value) {\r\n        this.type = type;\r\n        this.value = value;\r\n    };\r\n\r\n    NodeTest.prototype.toString = function () {\r\n        return \"<unknown nodetest type>\";\r\n    };\r\n\r\n    NodeTest.prototype.matches = function (n, xpc) {\r\n        console.warn('unknown node test type');\r\n    };\r\n\r\n    NodeTest.NAMETESTANY = 0;\r\n    NodeTest.NAMETESTPREFIXANY = 1;\r\n    NodeTest.NAMETESTQNAME = 2;\r\n    NodeTest.COMMENT = 3;\r\n    NodeTest.TEXT = 4;\r\n    NodeTest.PI = 5;\r\n    NodeTest.NODE = 6;\r\n\r\n    NodeTest.isNodeType = function (types) {\r\n        return function (node) {\r\n            return includes(types, node.nodeType);\r\n        };\r\n    };\r\n\r\n    NodeTest.makeNodeTestType = function (type, members, ctor) {\r\n        var newType = ctor || function () { };\r\n\r\n        newType.prototype = new NodeTest(type);\r\n        newType.prototype.constructor = newType;\r\n\r\n        assign(newType.prototype, members);\r\n\r\n        return newType;\r\n    };\r\n    // create invariant node test for certain node types\r\n    NodeTest.makeNodeTypeTest = function (type, nodeTypes, stringVal) {\r\n        return new (NodeTest.makeNodeTestType(type, {\r\n            matches: NodeTest.isNodeType(nodeTypes),\r\n            toString: always(stringVal)\r\n        }))();\r\n    };\r\n\r\n    NodeTest.hasPrefix = function (node) {\r\n        return node.prefix || (node.nodeName || node.tagName).indexOf(':') !== -1;\r\n    };\r\n\r\n    NodeTest.isElementOrAttribute = NodeTest.isNodeType([1, 2]);\r\n    NodeTest.nameSpaceMatches = function (prefix, xpc, n) {\r\n        var nNamespace = (n.namespaceURI || '');\r\n\r\n        if (!prefix) {\r\n            return !nNamespace || (xpc.allowAnyNamespaceForNoPrefix && !NodeTest.hasPrefix(n));\r\n        }\r\n\r\n        var ns = xpc.namespaceResolver.getNamespace(prefix, xpc.expressionContextNode);\r\n\r\n        if (ns == null) {\r\n            throw new Error(\"Cannot resolve QName \" + prefix);\r\n        }\r\n\r\n        return ns === nNamespace;\r\n    };\r\n    NodeTest.localNameMatches = function (localName, xpc, n) {\r\n        var nLocalName = (n.localName || n.nodeName);\r\n\r\n        return xpc.caseInsensitive\r\n            ? localName.toLowerCase() === nLocalName.toLowerCase()\r\n            : localName === nLocalName;\r\n    };\r\n\r\n    NodeTest.NameTestPrefixAny = NodeTest.makeNodeTestType(\r\n        NodeTest.NAMETESTPREFIXANY,\r\n        {\r\n            matches: function (n, xpc) {\r\n                return NodeTest.isElementOrAttribute(n) &&\r\n                    NodeTest.nameSpaceMatches(this.prefix, xpc, n);\r\n            },\r\n            toString: function () {\r\n                return this.prefix + \":*\";\r\n            }\r\n        },\r\n        function NameTestPrefixAny(prefix) { this.prefix = prefix; }\r\n    );\r\n\r\n    NodeTest.NameTestQName = NodeTest.makeNodeTestType(\r\n        NodeTest.NAMETESTQNAME,\r\n        {\r\n            matches: function (n, xpc) {\r\n                return NodeTest.isNodeType(\r\n                    [\r\n                        NodeTypes.ELEMENT_NODE,\r\n                        NodeTypes.ATTRIBUTE_NODE,\r\n                        XPathNamespace.XPATH_NAMESPACE_NODE,\r\n                    ]\r\n                )(n) &&\r\n                    NodeTest.nameSpaceMatches(this.prefix, xpc, n) &&\r\n                    NodeTest.localNameMatches(this.localName, xpc, n);\r\n            },\r\n            toString: function () {\r\n                return this.name;\r\n            }\r\n        },\r\n        function NameTestQName(name) {\r\n            var nameParts = name.split(':');\r\n\r\n            this.name = name;\r\n            this.prefix = nameParts.length > 1 ? nameParts[0] : null;\r\n            this.localName = nameParts[nameParts.length > 1 ? 1 : 0];\r\n        }\r\n    );\r\n\r\n    NodeTest.PITest = NodeTest.makeNodeTestType(NodeTest.PI, {\r\n        matches: function (n, xpc) {\r\n            return NodeTest.isNodeType(\r\n                [NodeTypes.PROCESSING_INSTRUCTION_NODE]\r\n            )(n) &&\r\n                (n.target || n.nodeName) === this.name;\r\n        },\r\n        toString: function () {\r\n            return wrap('processing-instruction(\"', '\")', this.name);\r\n        }\r\n    }, function (name) { this.name = name; })\r\n\r\n    // singletons\r\n\r\n    // elements, attributes, namespaces\r\n    NodeTest.nameTestAny = NodeTest.makeNodeTypeTest(\r\n        NodeTest.NAMETESTANY,\r\n        [\r\n            NodeTypes.ELEMENT_NODE,\r\n            NodeTypes.ATTRIBUTE_NODE,\r\n            XPathNamespace.XPATH_NAMESPACE_NODE,\r\n        ],\r\n        '*'\r\n    );\r\n    // text, cdata\r\n    NodeTest.textTest = NodeTest.makeNodeTypeTest(\r\n        NodeTest.TEXT,\r\n        [\r\n            NodeTypes.TEXT_NODE,\r\n            NodeTypes.CDATA_SECTION_NODE,\r\n        ],\r\n        'text()'\r\n    );\r\n    NodeTest.commentTest = NodeTest.makeNodeTypeTest(\r\n        NodeTest.COMMENT,\r\n        [NodeTypes.COMMENT_NODE],\r\n        'comment()'\r\n    );\r\n    // elements, attributes, text, cdata, PIs, comments, document nodes\r\n    NodeTest.nodeTest = NodeTest.makeNodeTypeTest(\r\n        NodeTest.NODE,\r\n        [\r\n            NodeTypes.ELEMENT_NODE,\r\n            NodeTypes.ATTRIBUTE_NODE, \r\n            NodeTypes.TEXT_NODE, \r\n            NodeTypes.CDATA_SECTION_NODE,\r\n            NodeTypes.PROCESSING_INSTRUCTION_NODE,\r\n            NodeTypes.COMMENT_NODE,\r\n            NodeTypes.DOCUMENT_NODE,\r\n        ],\r\n        'node()'\r\n    );\r\n    NodeTest.anyPiTest = NodeTest.makeNodeTypeTest(\r\n        NodeTest.PI,\r\n        [NodeTypes.PROCESSING_INSTRUCTION_NODE],\r\n        'processing-instruction()'\r\n    );\r\n\r\n    // VariableReference /////////////////////////////////////////////////////////\r\n\r\n    VariableReference.prototype = new Expression();\r\n    VariableReference.prototype.constructor = VariableReference;\r\n    VariableReference.superclass = Expression.prototype;\r\n\r\n    function VariableReference(v) {\r\n        if (arguments.length > 0) {\r\n            this.init(v);\r\n        }\r\n    }\r\n\r\n    VariableReference.prototype.init = function (v) {\r\n        this.variable = v;\r\n    };\r\n\r\n    VariableReference.prototype.toString = function () {\r\n        return \"$\" + this.variable;\r\n    };\r\n\r\n    VariableReference.prototype.evaluate = function (c) {\r\n        var parts = Utilities.resolveQName(this.variable, c.namespaceResolver, c.contextNode, false);\r\n\r\n        if (parts[0] == null) {\r\n            throw new Error(\"Cannot resolve QName \" + fn);\r\n        }\r\n        var result = c.variableResolver.getVariable(parts[1], parts[0]);\r\n        if (!result) {\r\n            throw XPathException.fromMessage(\"Undeclared variable: \" + this.toString());\r\n        }\r\n        return result;\r\n    };\r\n\r\n    // FunctionCall //////////////////////////////////////////////////////////////\r\n\r\n    FunctionCall.prototype = new Expression();\r\n    FunctionCall.prototype.constructor = FunctionCall;\r\n    FunctionCall.superclass = Expression.prototype;\r\n\r\n    function FunctionCall(fn, args) {\r\n        if (arguments.length > 0) {\r\n            this.init(fn, args);\r\n        }\r\n    }\r\n\r\n    FunctionCall.prototype.init = function (fn, args) {\r\n        this.functionName = fn;\r\n        this.arguments = args;\r\n    };\r\n\r\n    FunctionCall.prototype.toString = function () {\r\n        var s = this.functionName + \"(\";\r\n        for (var i = 0; i < this.arguments.length; i++) {\r\n            if (i > 0) {\r\n                s += \", \";\r\n            }\r\n            s += this.arguments[i].toString();\r\n        }\r\n        return s + \")\";\r\n    };\r\n\r\n    FunctionCall.prototype.evaluate = function (c) {\r\n        var f = FunctionResolver.getFunctionFromContext(this.functionName, c);\r\n\r\n        if (!f) {\r\n            throw new Error(\"Unknown function \" + this.functionName);\r\n        }\r\n\r\n        var a = [c].concat(this.arguments);\r\n        return f.apply(c.functionResolver.thisArg, a);\r\n    };\r\n\r\n    // Operators /////////////////////////////////////////////////////////////////\r\n\r\n    var Operators = new Object();\r\n\r\n    Operators.equals = function (l, r) {\r\n        return l.equals(r);\r\n    };\r\n\r\n    Operators.notequal = function (l, r) {\r\n        return l.notequal(r);\r\n    };\r\n\r\n    Operators.lessthan = function (l, r) {\r\n        return l.lessthan(r);\r\n    };\r\n\r\n    Operators.greaterthan = function (l, r) {\r\n        return l.greaterthan(r);\r\n    };\r\n\r\n    Operators.lessthanorequal = function (l, r) {\r\n        return l.lessthanorequal(r);\r\n    };\r\n\r\n    Operators.greaterthanorequal = function (l, r) {\r\n        return l.greaterthanorequal(r);\r\n    };\r\n\r\n    // XString ///////////////////////////////////////////////////////////////////\r\n\r\n    XString.prototype = new Expression();\r\n    XString.prototype.constructor = XString;\r\n    XString.superclass = Expression.prototype;\r\n\r\n    function XString(s) {\r\n        if (arguments.length > 0) {\r\n            this.init(s);\r\n        }\r\n    }\r\n\r\n    XString.prototype.init = function (s) {\r\n        this.str = String(s);\r\n    };\r\n\r\n    XString.prototype.toString = function () {\r\n        return this.str;\r\n    };\r\n\r\n    XString.prototype.evaluate = function (c) {\r\n        return this;\r\n    };\r\n\r\n    XString.prototype.string = function () {\r\n        return this;\r\n    };\r\n\r\n    XString.prototype.number = function () {\r\n        return new XNumber(this.str);\r\n    };\r\n\r\n    XString.prototype.bool = function () {\r\n        return new XBoolean(this.str);\r\n    };\r\n\r\n    XString.prototype.nodeset = function () {\r\n        throw new Error(\"Cannot convert string to nodeset\");\r\n    };\r\n\r\n    XString.prototype.stringValue = function () {\r\n        return this.str;\r\n    };\r\n\r\n    XString.prototype.numberValue = function () {\r\n        return this.number().numberValue();\r\n    };\r\n\r\n    XString.prototype.booleanValue = function () {\r\n        return this.bool().booleanValue();\r\n    };\r\n\r\n    XString.prototype.equals = function (r) {\r\n        if (Utilities.instance_of(r, XBoolean)) {\r\n            return this.bool().equals(r);\r\n        }\r\n        if (Utilities.instance_of(r, XNumber)) {\r\n            return this.number().equals(r);\r\n        }\r\n        if (Utilities.instance_of(r, XNodeSet)) {\r\n            return r.compareWithString(this, Operators.equals);\r\n        }\r\n        return new XBoolean(this.str == r.str);\r\n    };\r\n\r\n    XString.prototype.notequal = function (r) {\r\n        if (Utilities.instance_of(r, XBoolean)) {\r\n            return this.bool().notequal(r);\r\n        }\r\n        if (Utilities.instance_of(r, XNumber)) {\r\n            return this.number().notequal(r);\r\n        }\r\n        if (Utilities.instance_of(r, XNodeSet)) {\r\n            return r.compareWithString(this, Operators.notequal);\r\n        }\r\n        return new XBoolean(this.str != r.str);\r\n    };\r\n\r\n    XString.prototype.lessthan = function (r) {\r\n        return this.number().lessthan(r);\r\n    };\r\n\r\n    XString.prototype.greaterthan = function (r) {\r\n        return this.number().greaterthan(r);\r\n    };\r\n\r\n    XString.prototype.lessthanorequal = function (r) {\r\n        return this.number().lessthanorequal(r);\r\n    };\r\n\r\n    XString.prototype.greaterthanorequal = function (r) {\r\n        return this.number().greaterthanorequal(r);\r\n    };\r\n\r\n    // XNumber ///////////////////////////////////////////////////////////////////\r\n\r\n    XNumber.prototype = new Expression();\r\n    XNumber.prototype.constructor = XNumber;\r\n    XNumber.superclass = Expression.prototype;\r\n\r\n    function XNumber(n) {\r\n        if (arguments.length > 0) {\r\n            this.init(n);\r\n        }\r\n    }\r\n\r\n    XNumber.prototype.init = function (n) {\r\n        this.num = typeof n === \"string\" ? this.parse(n) : Number(n);\r\n    };\r\n\r\n    XNumber.prototype.numberFormat = /^\\s*-?[0-9]*\\.?[0-9]+\\s*$/;\r\n\r\n    XNumber.prototype.parse = function (s) {\r\n        // XPath representation of numbers is more restrictive than what Number() or parseFloat() allow\r\n        return this.numberFormat.test(s) ? parseFloat(s) : Number.NaN;\r\n    };\r\n\r\n    function padSmallNumber(numberStr) {\r\n        var parts = numberStr.split('e-');\r\n        var base = parts[0].replace('.', '');\r\n        var exponent = Number(parts[1]);\r\n\r\n        for (var i = 0; i < exponent - 1; i += 1) {\r\n            base = '0' + base;\r\n        }\r\n\r\n        return '0.' + base;\r\n    }\r\n\r\n    function padLargeNumber(numberStr) {\r\n        var parts = numberStr.split('e');\r\n        var base = parts[0].replace('.', '');\r\n        var exponent = Number(parts[1]);\r\n        var zerosToAppend = exponent + 1 - base.length;\r\n\r\n        for (var i = 0; i < zerosToAppend; i += 1) {\r\n            base += '0';\r\n        }\r\n\r\n        return base;\r\n    }\r\n\r\n    XNumber.prototype.toString = function () {\r\n        var strValue = this.num.toString();\r\n\r\n        if (strValue.indexOf('e-') !== -1) {\r\n            return padSmallNumber(strValue);\r\n        }\r\n\r\n        if (strValue.indexOf('e') !== -1) {\r\n            return padLargeNumber(strValue);\r\n        }\r\n\r\n        return strValue;\r\n    };\r\n\r\n    XNumber.prototype.evaluate = function (c) {\r\n        return this;\r\n    };\r\n\r\n    XNumber.prototype.string = function () {\r\n\r\n\r\n        return new XString(this.toString());\r\n    };\r\n\r\n    XNumber.prototype.number = function () {\r\n        return this;\r\n    };\r\n\r\n    XNumber.prototype.bool = function () {\r\n        return new XBoolean(this.num);\r\n    };\r\n\r\n    XNumber.prototype.nodeset = function () {\r\n        throw new Error(\"Cannot convert number to nodeset\");\r\n    };\r\n\r\n    XNumber.prototype.stringValue = function () {\r\n        return this.string().stringValue();\r\n    };\r\n\r\n    XNumber.prototype.numberValue = function () {\r\n        return this.num;\r\n    };\r\n\r\n    XNumber.prototype.booleanValue = function () {\r\n        return this.bool().booleanValue();\r\n    };\r\n\r\n    XNumber.prototype.negate = function () {\r\n        return new XNumber(-this.num);\r\n    };\r\n\r\n    XNumber.prototype.equals = function (r) {\r\n        if (Utilities.instance_of(r, XBoolean)) {\r\n            return this.bool().equals(r);\r\n        }\r\n        if (Utilities.instance_of(r, XString)) {\r\n            return this.equals(r.number());\r\n        }\r\n        if (Utilities.instance_of(r, XNodeSet)) {\r\n            return r.compareWithNumber(this, Operators.equals);\r\n        }\r\n        return new XBoolean(this.num == r.num);\r\n    };\r\n\r\n    XNumber.prototype.notequal = function (r) {\r\n        if (Utilities.instance_of(r, XBoolean)) {\r\n            return this.bool().notequal(r);\r\n        }\r\n        if (Utilities.instance_of(r, XString)) {\r\n            return this.notequal(r.number());\r\n        }\r\n        if (Utilities.instance_of(r, XNodeSet)) {\r\n            return r.compareWithNumber(this, Operators.notequal);\r\n        }\r\n        return new XBoolean(this.num != r.num);\r\n    };\r\n\r\n    XNumber.prototype.lessthan = function (r) {\r\n        if (Utilities.instance_of(r, XNodeSet)) {\r\n            return r.compareWithNumber(this, Operators.greaterthan);\r\n        }\r\n        if (Utilities.instance_of(r, XBoolean) || Utilities.instance_of(r, XString)) {\r\n            return this.lessthan(r.number());\r\n        }\r\n        return new XBoolean(this.num < r.num);\r\n    };\r\n\r\n    XNumber.prototype.greaterthan = function (r) {\r\n        if (Utilities.instance_of(r, XNodeSet)) {\r\n            return r.compareWithNumber(this, Operators.lessthan);\r\n        }\r\n        if (Utilities.instance_of(r, XBoolean) || Utilities.instance_of(r, XString)) {\r\n            return this.greaterthan(r.number());\r\n        }\r\n        return new XBoolean(this.num > r.num);\r\n    };\r\n\r\n    XNumber.prototype.lessthanorequal = function (r) {\r\n        if (Utilities.instance_of(r, XNodeSet)) {\r\n            return r.compareWithNumber(this, Operators.greaterthanorequal);\r\n        }\r\n        if (Utilities.instance_of(r, XBoolean) || Utilities.instance_of(r, XString)) {\r\n            return this.lessthanorequal(r.number());\r\n        }\r\n        return new XBoolean(this.num <= r.num);\r\n    };\r\n\r\n    XNumber.prototype.greaterthanorequal = function (r) {\r\n        if (Utilities.instance_of(r, XNodeSet)) {\r\n            return r.compareWithNumber(this, Operators.lessthanorequal);\r\n        }\r\n        if (Utilities.instance_of(r, XBoolean) || Utilities.instance_of(r, XString)) {\r\n            return this.greaterthanorequal(r.number());\r\n        }\r\n        return new XBoolean(this.num >= r.num);\r\n    };\r\n\r\n    XNumber.prototype.plus = function (r) {\r\n        return new XNumber(this.num + r.num);\r\n    };\r\n\r\n    XNumber.prototype.minus = function (r) {\r\n        return new XNumber(this.num - r.num);\r\n    };\r\n\r\n    XNumber.prototype.multiply = function (r) {\r\n        return new XNumber(this.num * r.num);\r\n    };\r\n\r\n    XNumber.prototype.div = function (r) {\r\n        return new XNumber(this.num / r.num);\r\n    };\r\n\r\n    XNumber.prototype.mod = function (r) {\r\n        return new XNumber(this.num % r.num);\r\n    };\r\n\r\n    // XBoolean //////////////////////////////////////////////////////////////////\r\n\r\n    XBoolean.prototype = new Expression();\r\n    XBoolean.prototype.constructor = XBoolean;\r\n    XBoolean.superclass = Expression.prototype;\r\n\r\n    function XBoolean(b) {\r\n        if (arguments.length > 0) {\r\n            this.init(b);\r\n        }\r\n    }\r\n\r\n    XBoolean.prototype.init = function (b) {\r\n        this.b = Boolean(b);\r\n    };\r\n\r\n    XBoolean.prototype.toString = function () {\r\n        return this.b.toString();\r\n    };\r\n\r\n    XBoolean.prototype.evaluate = function (c) {\r\n        return this;\r\n    };\r\n\r\n    XBoolean.prototype.string = function () {\r\n        return new XString(this.b);\r\n    };\r\n\r\n    XBoolean.prototype.number = function () {\r\n        return new XNumber(this.b);\r\n    };\r\n\r\n    XBoolean.prototype.bool = function () {\r\n        return this;\r\n    };\r\n\r\n    XBoolean.prototype.nodeset = function () {\r\n        throw new Error(\"Cannot convert boolean to nodeset\");\r\n    };\r\n\r\n    XBoolean.prototype.stringValue = function () {\r\n        return this.string().stringValue();\r\n    };\r\n\r\n    XBoolean.prototype.numberValue = function () {\r\n        return this.number().numberValue();\r\n    };\r\n\r\n    XBoolean.prototype.booleanValue = function () {\r\n        return this.b;\r\n    };\r\n\r\n    XBoolean.prototype.not = function () {\r\n        return new XBoolean(!this.b);\r\n    };\r\n\r\n    XBoolean.prototype.equals = function (r) {\r\n        if (Utilities.instance_of(r, XString) || Utilities.instance_of(r, XNumber)) {\r\n            return this.equals(r.bool());\r\n        }\r\n        if (Utilities.instance_of(r, XNodeSet)) {\r\n            return r.compareWithBoolean(this, Operators.equals);\r\n        }\r\n        return new XBoolean(this.b == r.b);\r\n    };\r\n\r\n    XBoolean.prototype.notequal = function (r) {\r\n        if (Utilities.instance_of(r, XString) || Utilities.instance_of(r, XNumber)) {\r\n            return this.notequal(r.bool());\r\n        }\r\n        if (Utilities.instance_of(r, XNodeSet)) {\r\n            return r.compareWithBoolean(this, Operators.notequal);\r\n        }\r\n        return new XBoolean(this.b != r.b);\r\n    };\r\n\r\n    XBoolean.prototype.lessthan = function (r) {\r\n        return this.number().lessthan(r);\r\n    };\r\n\r\n    XBoolean.prototype.greaterthan = function (r) {\r\n        return this.number().greaterthan(r);\r\n    };\r\n\r\n    XBoolean.prototype.lessthanorequal = function (r) {\r\n        return this.number().lessthanorequal(r);\r\n    };\r\n\r\n    XBoolean.prototype.greaterthanorequal = function (r) {\r\n        return this.number().greaterthanorequal(r);\r\n    };\r\n\r\n    XBoolean.true_ = new XBoolean(true);\r\n    XBoolean.false_ = new XBoolean(false);\r\n\r\n    // AVLTree ///////////////////////////////////////////////////////////////////\r\n\r\n    AVLTree.prototype = new Object();\r\n    AVLTree.prototype.constructor = AVLTree;\r\n    AVLTree.superclass = Object.prototype;\r\n\r\n    function AVLTree(n) {\r\n        this.init(n);\r\n    }\r\n\r\n    AVLTree.prototype.init = function (n) {\r\n        this.left = null;\r\n        this.right = null;\r\n        this.node = n;\r\n        this.depth = 1;\r\n    };\r\n\r\n    AVLTree.prototype.balance = function () {\r\n        var ldepth = this.left == null ? 0 : this.left.depth;\r\n        var rdepth = this.right == null ? 0 : this.right.depth;\r\n\r\n        if (ldepth > rdepth + 1) {\r\n            // LR or LL rotation\r\n            var lldepth = this.left.left == null ? 0 : this.left.left.depth;\r\n            var lrdepth = this.left.right == null ? 0 : this.left.right.depth;\r\n\r\n            if (lldepth < lrdepth) {\r\n                // LR rotation consists of a RR rotation of the left child\r\n                this.left.rotateRR();\r\n                // plus a LL rotation of this node, which happens anyway\r\n            }\r\n            this.rotateLL();\r\n        } else if (ldepth + 1 < rdepth) {\r\n            // RR or RL rorarion\r\n            var rrdepth = this.right.right == null ? 0 : this.right.right.depth;\r\n            var rldepth = this.right.left == null ? 0 : this.right.left.depth;\r\n\r\n            if (rldepth > rrdepth) {\r\n                // RR rotation consists of a LL rotation of the right child\r\n                this.right.rotateLL();\r\n                // plus a RR rotation of this node, which happens anyway\r\n            }\r\n            this.rotateRR();\r\n        }\r\n    };\r\n\r\n    AVLTree.prototype.rotateLL = function () {\r\n        // the left side is too long => rotate from the left (_not_ leftwards)\r\n        var nodeBefore = this.node;\r\n        var rightBefore = this.right;\r\n        this.node = this.left.node;\r\n        this.right = this.left;\r\n        this.left = this.left.left;\r\n        this.right.left = this.right.right;\r\n        this.right.right = rightBefore;\r\n        this.right.node = nodeBefore;\r\n        this.right.updateInNewLocation();\r\n        this.updateInNewLocation();\r\n    };\r\n\r\n    AVLTree.prototype.rotateRR = function () {\r\n        // the right side is too long => rotate from the right (_not_ rightwards)\r\n        var nodeBefore = this.node;\r\n        var leftBefore = this.left;\r\n        this.node = this.right.node;\r\n        this.left = this.right;\r\n        this.right = this.right.right;\r\n        this.left.right = this.left.left;\r\n        this.left.left = leftBefore;\r\n        this.left.node = nodeBefore;\r\n        this.left.updateInNewLocation();\r\n        this.updateInNewLocation();\r\n    };\r\n\r\n    AVLTree.prototype.updateInNewLocation = function () {\r\n        this.getDepthFromChildren();\r\n    };\r\n\r\n    AVLTree.prototype.getDepthFromChildren = function () {\r\n        this.depth = this.node == null ? 0 : 1;\r\n        if (this.left != null) {\r\n            this.depth = this.left.depth + 1;\r\n        }\r\n        if (this.right != null && this.depth <= this.right.depth) {\r\n            this.depth = this.right.depth + 1;\r\n        }\r\n    };\r\n\r\n    function nodeOrder(n1, n2) {\r\n        if (n1 === n2) {\r\n            return 0;\r\n        }\r\n\r\n        if (n1.compareDocumentPosition) {\r\n            var cpos = n1.compareDocumentPosition(n2);\r\n\r\n            if (cpos & 0x01) {\r\n                // not in the same document; return an arbitrary result (is there a better way to do this)\r\n                return 1;\r\n            }\r\n            if (cpos & 0x0A) {\r\n                // n2 precedes or contains n1\r\n                return 1;\r\n            }\r\n            if (cpos & 0x14) {\r\n                // n2 follows or is contained by n1\r\n                return -1;\r\n            }\r\n\r\n            return 0;\r\n        }\r\n\r\n        var d1 = 0,\r\n            d2 = 0;\r\n        for (var m1 = n1; m1 != null; m1 = m1.parentNode || m1.ownerElement) {\r\n            d1++;\r\n        }\r\n        for (var m2 = n2; m2 != null; m2 = m2.parentNode || m2.ownerElement) {\r\n            d2++;\r\n        }\r\n\r\n        // step up to same depth\r\n        if (d1 > d2) {\r\n            while (d1 > d2) {\r\n                n1 = n1.parentNode || n1.ownerElement;\r\n                d1--;\r\n            }\r\n            if (n1 === n2) {\r\n                return 1;\r\n            }\r\n        } else if (d2 > d1) {\r\n            while (d2 > d1) {\r\n                n2 = n2.parentNode || n2.ownerElement;\r\n                d2--;\r\n            }\r\n            if (n1 === n2) {\r\n                return -1;\r\n            }\r\n        }\r\n\r\n        var n1Par = n1.parentNode || n1.ownerElement,\r\n            n2Par = n2.parentNode || n2.ownerElement;\r\n\r\n        // find common parent\r\n        while (n1Par !== n2Par) {\r\n            n1 = n1Par;\r\n            n2 = n2Par;\r\n            n1Par = n1.parentNode || n1.ownerElement;\r\n            n2Par = n2.parentNode || n2.ownerElement;\r\n        }\r\n\r\n        var n1isAttr = Utilities.isAttribute(n1);\r\n        var n2isAttr = Utilities.isAttribute(n2);\r\n\r\n        if (n1isAttr && !n2isAttr) {\r\n            return -1;\r\n        }\r\n        if (!n1isAttr && n2isAttr) {\r\n            return 1;\r\n        }\r\n\r\n        if (n1Par) {\r\n            var cn = n1isAttr ? n1Par.attributes : n1Par.childNodes,\r\n                len = cn.length;\r\n            for (var i = 0; i < len; i += 1) {\r\n                var n = cn[i];\r\n                if (n === n1) {\r\n                    return -1;\r\n                }\r\n                if (n === n2) {\r\n                    return 1;\r\n                }\r\n            }\r\n        }\r\n\r\n        throw new Error('Unexpected: could not determine node order');\r\n    }\r\n\r\n    AVLTree.prototype.add = function (n) {\r\n        if (n === this.node) {\r\n            return false;\r\n        }\r\n\r\n        var o = nodeOrder(n, this.node);\r\n\r\n        var ret = false;\r\n        if (o == -1) {\r\n            if (this.left == null) {\r\n                this.left = new AVLTree(n);\r\n                ret = true;\r\n            } else {\r\n                ret = this.left.add(n);\r\n                if (ret) {\r\n                    this.balance();\r\n                }\r\n            }\r\n        } else if (o == 1) {\r\n            if (this.right == null) {\r\n                this.right = new AVLTree(n);\r\n                ret = true;\r\n            } else {\r\n                ret = this.right.add(n);\r\n                if (ret) {\r\n                    this.balance();\r\n                }\r\n            }\r\n        }\r\n\r\n        if (ret) {\r\n            this.getDepthFromChildren();\r\n        }\r\n        return ret;\r\n    };\r\n\r\n    // XNodeSet //////////////////////////////////////////////////////////////////\r\n\r\n    XNodeSet.prototype = new Expression();\r\n    XNodeSet.prototype.constructor = XNodeSet;\r\n    XNodeSet.superclass = Expression.prototype;\r\n\r\n    function XNodeSet() {\r\n        this.init();\r\n    }\r\n\r\n    XNodeSet.prototype.init = function () {\r\n        this.tree = null;\r\n        this.nodes = [];\r\n        this.size = 0;\r\n    };\r\n\r\n    XNodeSet.prototype.toString = function () {\r\n        var p = this.first();\r\n        if (p == null) {\r\n            return \"\";\r\n        }\r\n        return this.stringForNode(p);\r\n    };\r\n\r\n    XNodeSet.prototype.evaluate = function (c) {\r\n        return this;\r\n    };\r\n\r\n    XNodeSet.prototype.string = function () {\r\n        return new XString(this.toString());\r\n    };\r\n\r\n    XNodeSet.prototype.stringValue = function () {\r\n        return this.toString();\r\n    };\r\n\r\n    XNodeSet.prototype.number = function () {\r\n        return new XNumber(this.string());\r\n    };\r\n\r\n    XNodeSet.prototype.numberValue = function () {\r\n        return Number(this.string());\r\n    };\r\n\r\n    XNodeSet.prototype.bool = function () {\r\n        return new XBoolean(this.booleanValue());\r\n    };\r\n\r\n    XNodeSet.prototype.booleanValue = function () {\r\n        return !!this.size;\r\n    };\r\n\r\n    XNodeSet.prototype.nodeset = function () {\r\n        return this;\r\n    };\r\n\r\n    XNodeSet.prototype.stringForNode = function (n) {\r\n        if (n.nodeType == NodeTypes.DOCUMENT_NODE ||\r\n            n.nodeType == NodeTypes.ELEMENT_NODE ||\r\n            n.nodeType === NodeTypes.DOCUMENT_FRAGMENT_NODE) {\r\n            return this.stringForContainerNode(n);\r\n        }\r\n        if (n.nodeType === NodeTypes.ATTRIBUTE_NODE) {\r\n            return n.value || n.nodeValue;\r\n        }\r\n        if (n.isNamespaceNode) {\r\n            return n.namespace;\r\n        }\r\n        return n.nodeValue;\r\n    };\r\n\r\n    XNodeSet.prototype.stringForContainerNode = function (n) {\r\n        var s = \"\";\r\n        for (var n2 = n.firstChild; n2 != null; n2 = n2.nextSibling) {\r\n            var nt = n2.nodeType;\r\n            //  Element,    Text,       CDATA,      Document,   Document Fragment\r\n            if (nt === 1 || nt === 3 || nt === 4 || nt === 9 || nt === 11) {\r\n                s += this.stringForNode(n2);\r\n            }\r\n        }\r\n        return s;\r\n    };\r\n\r\n    XNodeSet.prototype.buildTree = function () {\r\n        if (!this.tree && this.nodes.length) {\r\n            this.tree = new AVLTree(this.nodes[0]);\r\n            for (var i = 1; i < this.nodes.length; i += 1) {\r\n                this.tree.add(this.nodes[i]);\r\n            }\r\n        }\r\n\r\n        return this.tree;\r\n    };\r\n\r\n    XNodeSet.prototype.first = function () {\r\n        var p = this.buildTree();\r\n        if (p == null) {\r\n            return null;\r\n        }\r\n        while (p.left != null) {\r\n            p = p.left;\r\n        }\r\n        return p.node;\r\n    };\r\n\r\n    XNodeSet.prototype.add = function (n) {\r\n        for (var i = 0; i < this.nodes.length; i += 1) {\r\n            if (n === this.nodes[i]) {\r\n                return;\r\n            }\r\n        }\r\n\r\n        this.tree = null;\r\n        this.nodes.push(n);\r\n        this.size += 1;\r\n    };\r\n\r\n    XNodeSet.prototype.addArray = function (ns) {\r\n        var self = this;\r\n\r\n        forEach(function (x) { self.add(x); }, ns);\r\n    };\r\n\r\n    /**\r\n     * Returns an array of the node set's contents in document order\r\n     */\r\n    XNodeSet.prototype.toArray = function () {\r\n        var a = [];\r\n        this.toArrayRec(this.buildTree(), a);\r\n        return a;\r\n    };\r\n\r\n    XNodeSet.prototype.toArrayRec = function (t, a) {\r\n        if (t != null) {\r\n            this.toArrayRec(t.left, a);\r\n            a.push(t.node);\r\n            this.toArrayRec(t.right, a);\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Returns an array of the node set's contents in arbitrary order\r\n     */\r\n    XNodeSet.prototype.toUnsortedArray = function () {\r\n        return this.nodes.slice();\r\n    };\r\n\r\n    XNodeSet.prototype.compareWithString = function (r, o) {\r\n        var a = this.toUnsortedArray();\r\n        for (var i = 0; i < a.length; i++) {\r\n            var n = a[i];\r\n            var l = new XString(this.stringForNode(n));\r\n            var res = o(l, r);\r\n            if (res.booleanValue()) {\r\n                return res;\r\n            }\r\n        }\r\n        return new XBoolean(false);\r\n    };\r\n\r\n    XNodeSet.prototype.compareWithNumber = function (r, o) {\r\n        var a = this.toUnsortedArray();\r\n        for (var i = 0; i < a.length; i++) {\r\n            var n = a[i];\r\n            var l = new XNumber(this.stringForNode(n));\r\n            var res = o(l, r);\r\n            if (res.booleanValue()) {\r\n                return res;\r\n            }\r\n        }\r\n        return new XBoolean(false);\r\n    };\r\n\r\n    XNodeSet.prototype.compareWithBoolean = function (r, o) {\r\n        return o(this.bool(), r);\r\n    };\r\n\r\n    XNodeSet.prototype.compareWithNodeSet = function (r, o) {\r\n        var arr = this.toUnsortedArray();\r\n        var oInvert = function (lop, rop) { return o(rop, lop); };\r\n\r\n        for (var i = 0; i < arr.length; i++) {\r\n            var l = new XString(this.stringForNode(arr[i]));\r\n\r\n            var res = r.compareWithString(l, oInvert);\r\n            if (res.booleanValue()) {\r\n                return res;\r\n            }\r\n        }\r\n\r\n        return new XBoolean(false);\r\n    };\r\n\r\n    XNodeSet.compareWith = curry(function (o, r) {\r\n        if (Utilities.instance_of(r, XString)) {\r\n            return this.compareWithString(r, o);\r\n        }\r\n        if (Utilities.instance_of(r, XNumber)) {\r\n            return this.compareWithNumber(r, o);\r\n        }\r\n        if (Utilities.instance_of(r, XBoolean)) {\r\n            return this.compareWithBoolean(r, o);\r\n        }\r\n        return this.compareWithNodeSet(r, o);\r\n    });\r\n\r\n    XNodeSet.prototype.equals = XNodeSet.compareWith(Operators.equals);\r\n    XNodeSet.prototype.notequal = XNodeSet.compareWith(Operators.notequal);\r\n    XNodeSet.prototype.lessthan = XNodeSet.compareWith(Operators.lessthan);\r\n    XNodeSet.prototype.greaterthan = XNodeSet.compareWith(Operators.greaterthan);\r\n    XNodeSet.prototype.lessthanorequal = XNodeSet.compareWith(Operators.lessthanorequal);\r\n    XNodeSet.prototype.greaterthanorequal = XNodeSet.compareWith(Operators.greaterthanorequal);\r\n\r\n    XNodeSet.prototype.union = function (r) {\r\n        var ns = new XNodeSet();\r\n        ns.addArray(this.toUnsortedArray());\r\n        ns.addArray(r.toUnsortedArray());\r\n        return ns;\r\n    };\r\n\r\n    // XPathNamespace ////////////////////////////////////////////////////////////\r\n\r\n    XPathNamespace.prototype = new Object();\r\n    XPathNamespace.prototype.constructor = XPathNamespace;\r\n    XPathNamespace.superclass = Object.prototype;\r\n\r\n    function XPathNamespace(pre, ns, p) {\r\n        this.isXPathNamespace = true;\r\n        this.ownerDocument = p.ownerDocument;\r\n        this.nodeName = \"#namespace\";\r\n        this.prefix = pre;\r\n        this.localName = pre;\r\n        this.namespaceURI = ns;\r\n        this.nodeValue = ns;\r\n        this.ownerElement = p;\r\n        this.nodeType = XPathNamespace.XPATH_NAMESPACE_NODE;\r\n    }\r\n\r\n    XPathNamespace.prototype.toString = function () {\r\n        return \"{ \\\"\" + this.prefix + \"\\\", \\\"\" + this.namespaceURI + \"\\\" }\";\r\n    };\r\n\r\n    // XPathContext //////////////////////////////////////////////////////////////\r\n\r\n    XPathContext.prototype = new Object();\r\n    XPathContext.prototype.constructor = XPathContext;\r\n    XPathContext.superclass = Object.prototype;\r\n\r\n    function XPathContext(vr, nr, fr) {\r\n        this.variableResolver = vr != null ? vr : new VariableResolver();\r\n        this.namespaceResolver = nr != null ? nr : new NamespaceResolver();\r\n        this.functionResolver = fr != null ? fr : new FunctionResolver();\r\n    }\r\n\r\n    XPathContext.prototype.extend = function (newProps) {\r\n        return assign(new XPathContext(), this, newProps);\r\n    };\r\n\r\n    // VariableResolver //////////////////////////////////////////////////////////\r\n\r\n    VariableResolver.prototype = new Object();\r\n    VariableResolver.prototype.constructor = VariableResolver;\r\n    VariableResolver.superclass = Object.prototype;\r\n\r\n    function VariableResolver() {\r\n    }\r\n\r\n    VariableResolver.prototype.getVariable = function (ln, ns) {\r\n        return null;\r\n    };\r\n\r\n    // FunctionResolver //////////////////////////////////////////////////////////\r\n\r\n    FunctionResolver.prototype = new Object();\r\n    FunctionResolver.prototype.constructor = FunctionResolver;\r\n    FunctionResolver.superclass = Object.prototype;\r\n\r\n    function FunctionResolver(thisArg) {\r\n        this.thisArg = thisArg != null ? thisArg : Functions;\r\n        this.functions = new Object();\r\n        this.addStandardFunctions();\r\n    }\r\n\r\n    FunctionResolver.prototype.addStandardFunctions = function () {\r\n        this.functions[\"{}last\"] = Functions.last;\r\n        this.functions[\"{}position\"] = Functions.position;\r\n        this.functions[\"{}count\"] = Functions.count;\r\n        this.functions[\"{}id\"] = Functions.id;\r\n        this.functions[\"{}local-name\"] = Functions.localName;\r\n        this.functions[\"{}namespace-uri\"] = Functions.namespaceURI;\r\n        this.functions[\"{}name\"] = Functions.name;\r\n        this.functions[\"{}string\"] = Functions.string;\r\n        this.functions[\"{}concat\"] = Functions.concat;\r\n        this.functions[\"{}starts-with\"] = Functions.startsWith;\r\n        this.functions[\"{}contains\"] = Functions.contains;\r\n        this.functions[\"{}substring-before\"] = Functions.substringBefore;\r\n        this.functions[\"{}substring-after\"] = Functions.substringAfter;\r\n        this.functions[\"{}substring\"] = Functions.substring;\r\n        this.functions[\"{}string-length\"] = Functions.stringLength;\r\n        this.functions[\"{}normalize-space\"] = Functions.normalizeSpace;\r\n        this.functions[\"{}translate\"] = Functions.translate;\r\n        this.functions[\"{}boolean\"] = Functions.boolean_;\r\n        this.functions[\"{}not\"] = Functions.not;\r\n        this.functions[\"{}true\"] = Functions.true_;\r\n        this.functions[\"{}false\"] = Functions.false_;\r\n        this.functions[\"{}lang\"] = Functions.lang;\r\n        this.functions[\"{}number\"] = Functions.number;\r\n        this.functions[\"{}sum\"] = Functions.sum;\r\n        this.functions[\"{}floor\"] = Functions.floor;\r\n        this.functions[\"{}ceiling\"] = Functions.ceiling;\r\n        this.functions[\"{}round\"] = Functions.round;\r\n    };\r\n\r\n    FunctionResolver.prototype.addFunction = function (ns, ln, f) {\r\n        this.functions[\"{\" + ns + \"}\" + ln] = f;\r\n    };\r\n\r\n    FunctionResolver.getFunctionFromContext = function (qName, context) {\r\n        var parts = Utilities.resolveQName(qName, context.namespaceResolver, context.contextNode, false);\r\n\r\n        if (parts[0] === null) {\r\n            throw new Error(\"Cannot resolve QName \" + name);\r\n        }\r\n\r\n        return context.functionResolver.getFunction(parts[1], parts[0]);\r\n    };\r\n\r\n    FunctionResolver.prototype.getFunction = function (localName, namespace) {\r\n        return this.functions[\"{\" + namespace + \"}\" + localName];\r\n    };\r\n\r\n    // NamespaceResolver /////////////////////////////////////////////////////////\r\n\r\n    NamespaceResolver.prototype = new Object();\r\n    NamespaceResolver.prototype.constructor = NamespaceResolver;\r\n    NamespaceResolver.superclass = Object.prototype;\r\n\r\n    function NamespaceResolver() {\r\n    }\r\n\r\n    NamespaceResolver.prototype.getNamespace = function (prefix, n) {\r\n        if (prefix == \"xml\") {\r\n            return XPath.XML_NAMESPACE_URI;\r\n        } else if (prefix == \"xmlns\") {\r\n            return XPath.XMLNS_NAMESPACE_URI;\r\n        }\r\n        if (n.nodeType == NodeTypes.DOCUMENT_NODE) {\r\n            n = n.documentElement;\r\n        } else if (n.nodeType == NodeTypes.ATTRIBUTE_NODE) {\r\n            n = PathExpr.getOwnerElement(n);\r\n        } else if (n.nodeType != NodeTypes.ELEMENT_NODE) {\r\n            n = n.parentNode;\r\n        }\r\n        while (n != null && n.nodeType == NodeTypes.ELEMENT_NODE) {\r\n            var nnm = n.attributes;\r\n            for (var i = 0; i < nnm.length; i++) {\r\n                var a = nnm.item(i);\r\n                var aname = a.name || a.nodeName;\r\n                if ((aname === \"xmlns\" && prefix === \"\")\r\n                    || aname === \"xmlns:\" + prefix) {\r\n                    return String(a.value || a.nodeValue);\r\n                }\r\n            }\r\n            n = n.parentNode;\r\n        }\r\n        return null;\r\n    };\r\n\r\n    // Functions /////////////////////////////////////////////////////////////////\r\n\r\n    var Functions = new Object();\r\n\r\n    Functions.last = function (c) {\r\n        if (arguments.length != 1) {\r\n            throw new Error(\"Function last expects ()\");\r\n        }\r\n\r\n        return new XNumber(c.contextSize);\r\n    };\r\n\r\n    Functions.position = function (c) {\r\n        if (arguments.length != 1) {\r\n            throw new Error(\"Function position expects ()\");\r\n        }\r\n\r\n        return new XNumber(c.contextPosition);\r\n    };\r\n\r\n    Functions.count = function () {\r\n        var c = arguments[0];\r\n        var ns;\r\n        if (arguments.length != 2 || !Utilities.instance_of(ns = arguments[1].evaluate(c), XNodeSet)) {\r\n            throw new Error(\"Function count expects (node-set)\");\r\n        }\r\n        return new XNumber(ns.size);\r\n    };\r\n\r\n    Functions.id = function () {\r\n        var c = arguments[0];\r\n        var id;\r\n        if (arguments.length != 2) {\r\n            throw new Error(\"Function id expects (object)\");\r\n        }\r\n        id = arguments[1].evaluate(c);\r\n        if (Utilities.instance_of(id, XNodeSet)) {\r\n            id = id.toArray().join(\" \");\r\n        } else {\r\n            id = id.stringValue();\r\n        }\r\n        var ids = id.split(/[\\x0d\\x0a\\x09\\x20]+/);\r\n        var count = 0;\r\n        var ns = new XNodeSet();\r\n        var doc = c.contextNode.nodeType == NodeTypes.DOCUMENT_NODE\r\n            ? c.contextNode\r\n            : c.contextNode.ownerDocument;\r\n        for (var i = 0; i < ids.length; i++) {\r\n            var n;\r\n            if (doc.getElementById) {\r\n                n = doc.getElementById(ids[i]);\r\n            } else {\r\n                n = Utilities.getElementById(doc, ids[i]);\r\n            }\r\n            if (n != null) {\r\n                ns.add(n);\r\n                count++;\r\n            }\r\n        }\r\n        return ns;\r\n    };\r\n\r\n    Functions.localName = function (c, eNode) {\r\n        var n;\r\n\r\n        if (arguments.length == 1) {\r\n            n = c.contextNode;\r\n        } else if (arguments.length == 2) {\r\n            n = eNode.evaluate(c).first();\r\n        } else {\r\n            throw new Error(\"Function local-name expects (node-set?)\");\r\n        }\r\n\r\n        if (n == null) {\r\n            return new XString(\"\");\r\n        }\r\n\r\n        return new XString(\r\n            n.localName ||     //  standard elements and attributes\r\n            n.baseName ||     //  IE\r\n            n.target ||     //  processing instructions\r\n            n.nodeName ||     //  DOM1 elements\r\n            \"\"                 //  fallback\r\n        );\r\n    };\r\n\r\n    Functions.namespaceURI = function () {\r\n        var c = arguments[0];\r\n        var n;\r\n        if (arguments.length == 1) {\r\n            n = c.contextNode;\r\n        } else if (arguments.length == 2) {\r\n            n = arguments[1].evaluate(c).first();\r\n        } else {\r\n            throw new Error(\"Function namespace-uri expects (node-set?)\");\r\n        }\r\n        if (n == null) {\r\n            return new XString(\"\");\r\n        }\r\n        return new XString(n.namespaceURI);\r\n    };\r\n\r\n    Functions.name = function () {\r\n        var c = arguments[0];\r\n        var n;\r\n        if (arguments.length == 1) {\r\n            n = c.contextNode;\r\n        } else if (arguments.length == 2) {\r\n            n = arguments[1].evaluate(c).first();\r\n        } else {\r\n            throw new Error(\"Function name expects (node-set?)\");\r\n        }\r\n        if (n == null) {\r\n            return new XString(\"\");\r\n        }\r\n        if (n.nodeType == NodeTypes.ELEMENT_NODE) {\r\n            return new XString(n.nodeName);\r\n        } else if (n.nodeType == NodeTypes.ATTRIBUTE_NODE) {\r\n            return new XString(n.name || n.nodeName);\r\n        } else if (n.nodeType === NodeTypes.PROCESSING_INSTRUCTION_NODE) {\r\n            return new XString(n.target || n.nodeName);\r\n        } else if (n.localName == null) {\r\n            return new XString(\"\");\r\n        } else {\r\n            return new XString(n.localName);\r\n        }\r\n    };\r\n\r\n    Functions.string = function () {\r\n        var c = arguments[0];\r\n        if (arguments.length == 1) {\r\n            return new XString(XNodeSet.prototype.stringForNode(c.contextNode));\r\n        } else if (arguments.length == 2) {\r\n            return arguments[1].evaluate(c).string();\r\n        }\r\n        throw new Error(\"Function string expects (object?)\");\r\n    };\r\n\r\n    Functions.concat = function (c) {\r\n        if (arguments.length < 3) {\r\n            throw new Error(\"Function concat expects (string, string[, string]*)\");\r\n        }\r\n        var s = \"\";\r\n        for (var i = 1; i < arguments.length; i++) {\r\n            s += arguments[i].evaluate(c).stringValue();\r\n        }\r\n        return new XString(s);\r\n    };\r\n\r\n    Functions.startsWith = function () {\r\n        var c = arguments[0];\r\n        if (arguments.length != 3) {\r\n            throw new Error(\"Function startsWith expects (string, string)\");\r\n        }\r\n        var s1 = arguments[1].evaluate(c).stringValue();\r\n        var s2 = arguments[2].evaluate(c).stringValue();\r\n        return new XBoolean(s1.substring(0, s2.length) == s2);\r\n    };\r\n\r\n    Functions.contains = function () {\r\n        var c = arguments[0];\r\n        if (arguments.length != 3) {\r\n            throw new Error(\"Function contains expects (string, string)\");\r\n        }\r\n        var s1 = arguments[1].evaluate(c).stringValue();\r\n        var s2 = arguments[2].evaluate(c).stringValue();\r\n        return new XBoolean(s1.indexOf(s2) !== -1);\r\n    };\r\n\r\n    Functions.substringBefore = function () {\r\n        var c = arguments[0];\r\n        if (arguments.length != 3) {\r\n            throw new Error(\"Function substring-before expects (string, string)\");\r\n        }\r\n        var s1 = arguments[1].evaluate(c).stringValue();\r\n        var s2 = arguments[2].evaluate(c).stringValue();\r\n        return new XString(s1.substring(0, s1.indexOf(s2)));\r\n    };\r\n\r\n    Functions.substringAfter = function () {\r\n        var c = arguments[0];\r\n        if (arguments.length != 3) {\r\n            throw new Error(\"Function substring-after expects (string, string)\");\r\n        }\r\n        var s1 = arguments[1].evaluate(c).stringValue();\r\n        var s2 = arguments[2].evaluate(c).stringValue();\r\n        if (s2.length == 0) {\r\n            return new XString(s1);\r\n        }\r\n        var i = s1.indexOf(s2);\r\n        if (i == -1) {\r\n            return new XString(\"\");\r\n        }\r\n        return new XString(s1.substring(i + s2.length));\r\n    };\r\n\r\n    Functions.substring = function () {\r\n        var c = arguments[0];\r\n        if (!(arguments.length == 3 || arguments.length == 4)) {\r\n            throw new Error(\"Function substring expects (string, number, number?)\");\r\n        }\r\n        var s = arguments[1].evaluate(c).stringValue();\r\n        var n1 = Math.round(arguments[2].evaluate(c).numberValue()) - 1;\r\n        var n2 = arguments.length == 4 ? n1 + Math.round(arguments[3].evaluate(c).numberValue()) : undefined;\r\n        return new XString(s.substring(n1, n2));\r\n    };\r\n\r\n    Functions.stringLength = function () {\r\n        var c = arguments[0];\r\n        var s;\r\n        if (arguments.length == 1) {\r\n            s = XNodeSet.prototype.stringForNode(c.contextNode);\r\n        } else if (arguments.length == 2) {\r\n            s = arguments[1].evaluate(c).stringValue();\r\n        } else {\r\n            throw new Error(\"Function string-length expects (string?)\");\r\n        }\r\n        return new XNumber(s.length);\r\n    };\r\n\r\n    Functions.normalizeSpace = function () {\r\n        var c = arguments[0];\r\n        var s;\r\n        if (arguments.length == 1) {\r\n            s = XNodeSet.prototype.stringForNode(c.contextNode);\r\n        } else if (arguments.length == 2) {\r\n            s = arguments[1].evaluate(c).stringValue();\r\n        } else {\r\n            throw new Error(\"Function normalize-space expects (string?)\");\r\n        }\r\n        var i = 0;\r\n        var j = s.length - 1;\r\n        while (Utilities.isSpace(s.charCodeAt(j))) {\r\n            j--;\r\n        }\r\n        var t = \"\";\r\n        while (i <= j && Utilities.isSpace(s.charCodeAt(i))) {\r\n            i++;\r\n        }\r\n        while (i <= j) {\r\n            if (Utilities.isSpace(s.charCodeAt(i))) {\r\n                t += \" \";\r\n                while (i <= j && Utilities.isSpace(s.charCodeAt(i))) {\r\n                    i++;\r\n                }\r\n            } else {\r\n                t += s.charAt(i);\r\n                i++;\r\n            }\r\n        }\r\n        return new XString(t);\r\n    };\r\n\r\n    Functions.translate = function (c, eValue, eFrom, eTo) {\r\n        if (arguments.length != 4) {\r\n            throw new Error(\"Function translate expects (string, string, string)\");\r\n        }\r\n\r\n        var value = eValue.evaluate(c).stringValue();\r\n        var from = eFrom.evaluate(c).stringValue();\r\n        var to = eTo.evaluate(c).stringValue();\r\n\r\n        var cMap = reduce(function (acc, ch, i) {\r\n            if (!(ch in acc)) {\r\n                acc[ch] = i > to.length ? '' : to[i];\r\n            }\r\n            return acc;\r\n        }, {}, from);\r\n\r\n        var t = join(\r\n            '',\r\n            map(function (ch) {\r\n                return ch in cMap ? cMap[ch] : ch;\r\n            }, value)\r\n        );\r\n\r\n        return new XString(t);\r\n    };\r\n\r\n    Functions.boolean_ = function () {\r\n        var c = arguments[0];\r\n        if (arguments.length != 2) {\r\n            throw new Error(\"Function boolean expects (object)\");\r\n        }\r\n        return arguments[1].evaluate(c).bool();\r\n    };\r\n\r\n    Functions.not = function (c, eValue) {\r\n        if (arguments.length != 2) {\r\n            throw new Error(\"Function not expects (object)\");\r\n        }\r\n        return eValue.evaluate(c).bool().not();\r\n    };\r\n\r\n    Functions.true_ = function () {\r\n        if (arguments.length != 1) {\r\n            throw new Error(\"Function true expects ()\");\r\n        }\r\n        return XBoolean.true_;\r\n    };\r\n\r\n    Functions.false_ = function () {\r\n        if (arguments.length != 1) {\r\n            throw new Error(\"Function false expects ()\");\r\n        }\r\n        return XBoolean.false_;\r\n    };\r\n\r\n    Functions.lang = function () {\r\n        var c = arguments[0];\r\n        if (arguments.length != 2) {\r\n            throw new Error(\"Function lang expects (string)\");\r\n        }\r\n        var lang;\r\n        for (var n = c.contextNode; n != null && n.nodeType != NodeTypes.DOCUMENT_NODE; n = n.parentNode) {\r\n            var a = n.getAttributeNS(XPath.XML_NAMESPACE_URI, \"lang\");\r\n            if (a != null) {\r\n                lang = String(a);\r\n                break;\r\n            }\r\n        }\r\n        if (lang == null) {\r\n            return XBoolean.false_;\r\n        }\r\n        var s = arguments[1].evaluate(c).stringValue();\r\n        return new XBoolean(lang.substring(0, s.length) == s\r\n            && (lang.length == s.length || lang.charAt(s.length) == '-'));\r\n    };\r\n\r\n    Functions.number = function () {\r\n        var c = arguments[0];\r\n        if (!(arguments.length == 1 || arguments.length == 2)) {\r\n            throw new Error(\"Function number expects (object?)\");\r\n        }\r\n        if (arguments.length == 1) {\r\n            return new XNumber(XNodeSet.prototype.stringForNode(c.contextNode));\r\n        }\r\n        return arguments[1].evaluate(c).number();\r\n    };\r\n\r\n    Functions.sum = function () {\r\n        var c = arguments[0];\r\n        var ns;\r\n        if (arguments.length != 2 || !Utilities.instance_of((ns = arguments[1].evaluate(c)), XNodeSet)) {\r\n            throw new Error(\"Function sum expects (node-set)\");\r\n        }\r\n        ns = ns.toUnsortedArray();\r\n        var n = 0;\r\n        for (var i = 0; i < ns.length; i++) {\r\n            n += new XNumber(XNodeSet.prototype.stringForNode(ns[i])).numberValue();\r\n        }\r\n        return new XNumber(n);\r\n    };\r\n\r\n    Functions.floor = function () {\r\n        var c = arguments[0];\r\n        if (arguments.length != 2) {\r\n            throw new Error(\"Function floor expects (number)\");\r\n        }\r\n        return new XNumber(Math.floor(arguments[1].evaluate(c).numberValue()));\r\n    };\r\n\r\n    Functions.ceiling = function () {\r\n        var c = arguments[0];\r\n        if (arguments.length != 2) {\r\n            throw new Error(\"Function ceiling expects (number)\");\r\n        }\r\n        return new XNumber(Math.ceil(arguments[1].evaluate(c).numberValue()));\r\n    };\r\n\r\n    Functions.round = function () {\r\n        var c = arguments[0];\r\n        if (arguments.length != 2) {\r\n            throw new Error(\"Function round expects (number)\");\r\n        }\r\n        return new XNumber(Math.round(arguments[1].evaluate(c).numberValue()));\r\n    };\r\n\r\n    // Utilities /////////////////////////////////////////////////////////////////\r\n\r\n    var Utilities = new Object();\r\n\r\n    Utilities.isAttribute = function (val) {\r\n        return val && (val.nodeType === NodeTypes.ATTRIBUTE_NODE || val.ownerElement);\r\n    }\r\n\r\n    Utilities.splitQName = function (qn) {\r\n        var i = qn.indexOf(\":\");\r\n        if (i == -1) {\r\n            return [null, qn];\r\n        }\r\n        return [qn.substring(0, i), qn.substring(i + 1)];\r\n    };\r\n\r\n    Utilities.resolveQName = function (qn, nr, n, useDefault) {\r\n        var parts = Utilities.splitQName(qn);\r\n        if (parts[0] != null) {\r\n            parts[0] = nr.getNamespace(parts[0], n);\r\n        } else {\r\n            if (useDefault) {\r\n                parts[0] = nr.getNamespace(\"\", n);\r\n                if (parts[0] == null) {\r\n                    parts[0] = \"\";\r\n                }\r\n            } else {\r\n                parts[0] = \"\";\r\n            }\r\n        }\r\n        return parts;\r\n    };\r\n\r\n    Utilities.isSpace = function (c) {\r\n        return c == 0x9 || c == 0xd || c == 0xa || c == 0x20;\r\n    };\r\n\r\n    Utilities.isLetter = function (c) {\r\n        return c >= 0x0041 && c <= 0x005A ||\r\n            c >= 0x0061 && c <= 0x007A ||\r\n            c >= 0x00C0 && c <= 0x00D6 ||\r\n            c >= 0x00D8 && c <= 0x00F6 ||\r\n            c >= 0x00F8 && c <= 0x00FF ||\r\n            c >= 0x0100 && c <= 0x0131 ||\r\n            c >= 0x0134 && c <= 0x013E ||\r\n            c >= 0x0141 && c <= 0x0148 ||\r\n            c >= 0x014A && c <= 0x017E ||\r\n            c >= 0x0180 && c <= 0x01C3 ||\r\n            c >= 0x01CD && c <= 0x01F0 ||\r\n            c >= 0x01F4 && c <= 0x01F5 ||\r\n            c >= 0x01FA && c <= 0x0217 ||\r\n            c >= 0x0250 && c <= 0x02A8 ||\r\n            c >= 0x02BB && c <= 0x02C1 ||\r\n            c == 0x0386 ||\r\n            c >= 0x0388 && c <= 0x038A ||\r\n            c == 0x038C ||\r\n            c >= 0x038E && c <= 0x03A1 ||\r\n            c >= 0x03A3 && c <= 0x03CE ||\r\n            c >= 0x03D0 && c <= 0x03D6 ||\r\n            c == 0x03DA ||\r\n            c == 0x03DC ||\r\n            c == 0x03DE ||\r\n            c == 0x03E0 ||\r\n            c >= 0x03E2 && c <= 0x03F3 ||\r\n            c >= 0x0401 && c <= 0x040C ||\r\n            c >= 0x040E && c <= 0x044F ||\r\n            c >= 0x0451 && c <= 0x045C ||\r\n            c >= 0x045E && c <= 0x0481 ||\r\n            c >= 0x0490 && c <= 0x04C4 ||\r\n            c >= 0x04C7 && c <= 0x04C8 ||\r\n            c >= 0x04CB && c <= 0x04CC ||\r\n            c >= 0x04D0 && c <= 0x04EB ||\r\n            c >= 0x04EE && c <= 0x04F5 ||\r\n            c >= 0x04F8 && c <= 0x04F9 ||\r\n            c >= 0x0531 && c <= 0x0556 ||\r\n            c == 0x0559 ||\r\n            c >= 0x0561 && c <= 0x0586 ||\r\n            c >= 0x05D0 && c <= 0x05EA ||\r\n            c >= 0x05F0 && c <= 0x05F2 ||\r\n            c >= 0x0621 && c <= 0x063A ||\r\n            c >= 0x0641 && c <= 0x064A ||\r\n            c >= 0x0671 && c <= 0x06B7 ||\r\n            c >= 0x06BA && c <= 0x06BE ||\r\n            c >= 0x06C0 && c <= 0x06CE ||\r\n            c >= 0x06D0 && c <= 0x06D3 ||\r\n            c == 0x06D5 ||\r\n            c >= 0x06E5 && c <= 0x06E6 ||\r\n            c >= 0x0905 && c <= 0x0939 ||\r\n            c == 0x093D ||\r\n            c >= 0x0958 && c <= 0x0961 ||\r\n            c >= 0x0985 && c <= 0x098C ||\r\n            c >= 0x098F && c <= 0x0990 ||\r\n            c >= 0x0993 && c <= 0x09A8 ||\r\n            c >= 0x09AA && c <= 0x09B0 ||\r\n            c == 0x09B2 ||\r\n            c >= 0x09B6 && c <= 0x09B9 ||\r\n            c >= 0x09DC && c <= 0x09DD ||\r\n            c >= 0x09DF && c <= 0x09E1 ||\r\n            c >= 0x09F0 && c <= 0x09F1 ||\r\n            c >= 0x0A05 && c <= 0x0A0A ||\r\n            c >= 0x0A0F && c <= 0x0A10 ||\r\n            c >= 0x0A13 && c <= 0x0A28 ||\r\n            c >= 0x0A2A && c <= 0x0A30 ||\r\n            c >= 0x0A32 && c <= 0x0A33 ||\r\n            c >= 0x0A35 && c <= 0x0A36 ||\r\n            c >= 0x0A38 && c <= 0x0A39 ||\r\n            c >= 0x0A59 && c <= 0x0A5C ||\r\n            c == 0x0A5E ||\r\n            c >= 0x0A72 && c <= 0x0A74 ||\r\n            c >= 0x0A85 && c <= 0x0A8B ||\r\n            c == 0x0A8D ||\r\n            c >= 0x0A8F && c <= 0x0A91 ||\r\n            c >= 0x0A93 && c <= 0x0AA8 ||\r\n            c >= 0x0AAA && c <= 0x0AB0 ||\r\n            c >= 0x0AB2 && c <= 0x0AB3 ||\r\n            c >= 0x0AB5 && c <= 0x0AB9 ||\r\n            c == 0x0ABD ||\r\n            c == 0x0AE0 ||\r\n            c >= 0x0B05 && c <= 0x0B0C ||\r\n            c >= 0x0B0F && c <= 0x0B10 ||\r\n            c >= 0x0B13 && c <= 0x0B28 ||\r\n            c >= 0x0B2A && c <= 0x0B30 ||\r\n            c >= 0x0B32 && c <= 0x0B33 ||\r\n            c >= 0x0B36 && c <= 0x0B39 ||\r\n            c == 0x0B3D ||\r\n            c >= 0x0B5C && c <= 0x0B5D ||\r\n            c >= 0x0B5F && c <= 0x0B61 ||\r\n            c >= 0x0B85 && c <= 0x0B8A ||\r\n            c >= 0x0B8E && c <= 0x0B90 ||\r\n            c >= 0x0B92 && c <= 0x0B95 ||\r\n            c >= 0x0B99 && c <= 0x0B9A ||\r\n            c == 0x0B9C ||\r\n            c >= 0x0B9E && c <= 0x0B9F ||\r\n            c >= 0x0BA3 && c <= 0x0BA4 ||\r\n            c >= 0x0BA8 && c <= 0x0BAA ||\r\n            c >= 0x0BAE && c <= 0x0BB5 ||\r\n            c >= 0x0BB7 && c <= 0x0BB9 ||\r\n            c >= 0x0C05 && c <= 0x0C0C ||\r\n            c >= 0x0C0E && c <= 0x0C10 ||\r\n            c >= 0x0C12 && c <= 0x0C28 ||\r\n            c >= 0x0C2A && c <= 0x0C33 ||\r\n            c >= 0x0C35 && c <= 0x0C39 ||\r\n            c >= 0x0C60 && c <= 0x0C61 ||\r\n            c >= 0x0C85 && c <= 0x0C8C ||\r\n            c >= 0x0C8E && c <= 0x0C90 ||\r\n            c >= 0x0C92 && c <= 0x0CA8 ||\r\n            c >= 0x0CAA && c <= 0x0CB3 ||\r\n            c >= 0x0CB5 && c <= 0x0CB9 ||\r\n            c == 0x0CDE ||\r\n            c >= 0x0CE0 && c <= 0x0CE1 ||\r\n            c >= 0x0D05 && c <= 0x0D0C ||\r\n            c >= 0x0D0E && c <= 0x0D10 ||\r\n            c >= 0x0D12 && c <= 0x0D28 ||\r\n            c >= 0x0D2A && c <= 0x0D39 ||\r\n            c >= 0x0D60 && c <= 0x0D61 ||\r\n            c >= 0x0E01 && c <= 0x0E2E ||\r\n            c == 0x0E30 ||\r\n            c >= 0x0E32 && c <= 0x0E33 ||\r\n            c >= 0x0E40 && c <= 0x0E45 ||\r\n            c >= 0x0E81 && c <= 0x0E82 ||\r\n            c == 0x0E84 ||\r\n            c >= 0x0E87 && c <= 0x0E88 ||\r\n            c == 0x0E8A ||\r\n            c == 0x0E8D ||\r\n            c >= 0x0E94 && c <= 0x0E97 ||\r\n            c >= 0x0E99 && c <= 0x0E9F ||\r\n            c >= 0x0EA1 && c <= 0x0EA3 ||\r\n            c == 0x0EA5 ||\r\n            c == 0x0EA7 ||\r\n            c >= 0x0EAA && c <= 0x0EAB ||\r\n            c >= 0x0EAD && c <= 0x0EAE ||\r\n            c == 0x0EB0 ||\r\n            c >= 0x0EB2 && c <= 0x0EB3 ||\r\n            c == 0x0EBD ||\r\n            c >= 0x0EC0 && c <= 0x0EC4 ||\r\n            c >= 0x0F40 && c <= 0x0F47 ||\r\n            c >= 0x0F49 && c <= 0x0F69 ||\r\n            c >= 0x10A0 && c <= 0x10C5 ||\r\n            c >= 0x10D0 && c <= 0x10F6 ||\r\n            c == 0x1100 ||\r\n            c >= 0x1102 && c <= 0x1103 ||\r\n            c >= 0x1105 && c <= 0x1107 ||\r\n            c == 0x1109 ||\r\n            c >= 0x110B && c <= 0x110C ||\r\n            c >= 0x110E && c <= 0x1112 ||\r\n            c == 0x113C ||\r\n            c == 0x113E ||\r\n            c == 0x1140 ||\r\n            c == 0x114C ||\r\n            c == 0x114E ||\r\n            c == 0x1150 ||\r\n            c >= 0x1154 && c <= 0x1155 ||\r\n            c == 0x1159 ||\r\n            c >= 0x115F && c <= 0x1161 ||\r\n            c == 0x1163 ||\r\n            c == 0x1165 ||\r\n            c == 0x1167 ||\r\n            c == 0x1169 ||\r\n            c >= 0x116D && c <= 0x116E ||\r\n            c >= 0x1172 && c <= 0x1173 ||\r\n            c == 0x1175 ||\r\n            c == 0x119E ||\r\n            c == 0x11A8 ||\r\n            c == 0x11AB ||\r\n            c >= 0x11AE && c <= 0x11AF ||\r\n            c >= 0x11B7 && c <= 0x11B8 ||\r\n            c == 0x11BA ||\r\n            c >= 0x11BC && c <= 0x11C2 ||\r\n            c == 0x11EB ||\r\n            c == 0x11F0 ||\r\n            c == 0x11F9 ||\r\n            c >= 0x1E00 && c <= 0x1E9B ||\r\n            c >= 0x1EA0 && c <= 0x1EF9 ||\r\n            c >= 0x1F00 && c <= 0x1F15 ||\r\n            c >= 0x1F18 && c <= 0x1F1D ||\r\n            c >= 0x1F20 && c <= 0x1F45 ||\r\n            c >= 0x1F48 && c <= 0x1F4D ||\r\n            c >= 0x1F50 && c <= 0x1F57 ||\r\n            c == 0x1F59 ||\r\n            c == 0x1F5B ||\r\n            c == 0x1F5D ||\r\n            c >= 0x1F5F && c <= 0x1F7D ||\r\n            c >= 0x1F80 && c <= 0x1FB4 ||\r\n            c >= 0x1FB6 && c <= 0x1FBC ||\r\n            c == 0x1FBE ||\r\n            c >= 0x1FC2 && c <= 0x1FC4 ||\r\n            c >= 0x1FC6 && c <= 0x1FCC ||\r\n            c >= 0x1FD0 && c <= 0x1FD3 ||\r\n            c >= 0x1FD6 && c <= 0x1FDB ||\r\n            c >= 0x1FE0 && c <= 0x1FEC ||\r\n            c >= 0x1FF2 && c <= 0x1FF4 ||\r\n            c >= 0x1FF6 && c <= 0x1FFC ||\r\n            c == 0x2126 ||\r\n            c >= 0x212A && c <= 0x212B ||\r\n            c == 0x212E ||\r\n            c >= 0x2180 && c <= 0x2182 ||\r\n            c >= 0x3041 && c <= 0x3094 ||\r\n            c >= 0x30A1 && c <= 0x30FA ||\r\n            c >= 0x3105 && c <= 0x312C ||\r\n            c >= 0xAC00 && c <= 0xD7A3 ||\r\n            c >= 0x4E00 && c <= 0x9FA5 ||\r\n            c == 0x3007 ||\r\n            c >= 0x3021 && c <= 0x3029;\r\n    };\r\n\r\n    Utilities.isNCNameChar = function (c) {\r\n        return c >= 0x0030 && c <= 0x0039\r\n            || c >= 0x0660 && c <= 0x0669\r\n            || c >= 0x06F0 && c <= 0x06F9\r\n            || c >= 0x0966 && c <= 0x096F\r\n            || c >= 0x09E6 && c <= 0x09EF\r\n            || c >= 0x0A66 && c <= 0x0A6F\r\n            || c >= 0x0AE6 && c <= 0x0AEF\r\n            || c >= 0x0B66 && c <= 0x0B6F\r\n            || c >= 0x0BE7 && c <= 0x0BEF\r\n            || c >= 0x0C66 && c <= 0x0C6F\r\n            || c >= 0x0CE6 && c <= 0x0CEF\r\n            || c >= 0x0D66 && c <= 0x0D6F\r\n            || c >= 0x0E50 && c <= 0x0E59\r\n            || c >= 0x0ED0 && c <= 0x0ED9\r\n            || c >= 0x0F20 && c <= 0x0F29\r\n            || c == 0x002E\r\n            || c == 0x002D\r\n            || c == 0x005F\r\n            || Utilities.isLetter(c)\r\n            || c >= 0x0300 && c <= 0x0345\r\n            || c >= 0x0360 && c <= 0x0361\r\n            || c >= 0x0483 && c <= 0x0486\r\n            || c >= 0x0591 && c <= 0x05A1\r\n            || c >= 0x05A3 && c <= 0x05B9\r\n            || c >= 0x05BB && c <= 0x05BD\r\n            || c == 0x05BF\r\n            || c >= 0x05C1 && c <= 0x05C2\r\n            || c == 0x05C4\r\n            || c >= 0x064B && c <= 0x0652\r\n            || c == 0x0670\r\n            || c >= 0x06D6 && c <= 0x06DC\r\n            || c >= 0x06DD && c <= 0x06DF\r\n            || c >= 0x06E0 && c <= 0x06E4\r\n            || c >= 0x06E7 && c <= 0x06E8\r\n            || c >= 0x06EA && c <= 0x06ED\r\n            || c >= 0x0901 && c <= 0x0903\r\n            || c == 0x093C\r\n            || c >= 0x093E && c <= 0x094C\r\n            || c == 0x094D\r\n            || c >= 0x0951 && c <= 0x0954\r\n            || c >= 0x0962 && c <= 0x0963\r\n            || c >= 0x0981 && c <= 0x0983\r\n            || c == 0x09BC\r\n            || c == 0x09BE\r\n            || c == 0x09BF\r\n            || c >= 0x09C0 && c <= 0x09C4\r\n            || c >= 0x09C7 && c <= 0x09C8\r\n            || c >= 0x09CB && c <= 0x09CD\r\n            || c == 0x09D7\r\n            || c >= 0x09E2 && c <= 0x09E3\r\n            || c == 0x0A02\r\n            || c == 0x0A3C\r\n            || c == 0x0A3E\r\n            || c == 0x0A3F\r\n            || c >= 0x0A40 && c <= 0x0A42\r\n            || c >= 0x0A47 && c <= 0x0A48\r\n            || c >= 0x0A4B && c <= 0x0A4D\r\n            || c >= 0x0A70 && c <= 0x0A71\r\n            || c >= 0x0A81 && c <= 0x0A83\r\n            || c == 0x0ABC\r\n            || c >= 0x0ABE && c <= 0x0AC5\r\n            || c >= 0x0AC7 && c <= 0x0AC9\r\n            || c >= 0x0ACB && c <= 0x0ACD\r\n            || c >= 0x0B01 && c <= 0x0B03\r\n            || c == 0x0B3C\r\n            || c >= 0x0B3E && c <= 0x0B43\r\n            || c >= 0x0B47 && c <= 0x0B48\r\n            || c >= 0x0B4B && c <= 0x0B4D\r\n            || c >= 0x0B56 && c <= 0x0B57\r\n            || c >= 0x0B82 && c <= 0x0B83\r\n            || c >= 0x0BBE && c <= 0x0BC2\r\n            || c >= 0x0BC6 && c <= 0x0BC8\r\n            || c >= 0x0BCA && c <= 0x0BCD\r\n            || c == 0x0BD7\r\n            || c >= 0x0C01 && c <= 0x0C03\r\n            || c >= 0x0C3E && c <= 0x0C44\r\n            || c >= 0x0C46 && c <= 0x0C48\r\n            || c >= 0x0C4A && c <= 0x0C4D\r\n            || c >= 0x0C55 && c <= 0x0C56\r\n            || c >= 0x0C82 && c <= 0x0C83\r\n            || c >= 0x0CBE && c <= 0x0CC4\r\n            || c >= 0x0CC6 && c <= 0x0CC8\r\n            || c >= 0x0CCA && c <= 0x0CCD\r\n            || c >= 0x0CD5 && c <= 0x0CD6\r\n            || c >= 0x0D02 && c <= 0x0D03\r\n            || c >= 0x0D3E && c <= 0x0D43\r\n            || c >= 0x0D46 && c <= 0x0D48\r\n            || c >= 0x0D4A && c <= 0x0D4D\r\n            || c == 0x0D57\r\n            || c == 0x0E31\r\n            || c >= 0x0E34 && c <= 0x0E3A\r\n            || c >= 0x0E47 && c <= 0x0E4E\r\n            || c == 0x0EB1\r\n            || c >= 0x0EB4 && c <= 0x0EB9\r\n            || c >= 0x0EBB && c <= 0x0EBC\r\n            || c >= 0x0EC8 && c <= 0x0ECD\r\n            || c >= 0x0F18 && c <= 0x0F19\r\n            || c == 0x0F35\r\n            || c == 0x0F37\r\n            || c == 0x0F39\r\n            || c == 0x0F3E\r\n            || c == 0x0F3F\r\n            || c >= 0x0F71 && c <= 0x0F84\r\n            || c >= 0x0F86 && c <= 0x0F8B\r\n            || c >= 0x0F90 && c <= 0x0F95\r\n            || c == 0x0F97\r\n            || c >= 0x0F99 && c <= 0x0FAD\r\n            || c >= 0x0FB1 && c <= 0x0FB7\r\n            || c == 0x0FB9\r\n            || c >= 0x20D0 && c <= 0x20DC\r\n            || c == 0x20E1\r\n            || c >= 0x302A && c <= 0x302F\r\n            || c == 0x3099\r\n            || c == 0x309A\r\n            || c == 0x00B7\r\n            || c == 0x02D0\r\n            || c == 0x02D1\r\n            || c == 0x0387\r\n            || c == 0x0640\r\n            || c == 0x0E46\r\n            || c == 0x0EC6\r\n            || c == 0x3005\r\n            || c >= 0x3031 && c <= 0x3035\r\n            || c >= 0x309D && c <= 0x309E\r\n            || c >= 0x30FC && c <= 0x30FE;\r\n    };\r\n\r\n    Utilities.coalesceText = function (n) {\r\n        for (var m = n.firstChild; m != null; m = m.nextSibling) {\r\n            if (m.nodeType == NodeTypes.TEXT_NODE || m.nodeType == NodeTypes.CDATA_SECTION_NODE) {\r\n                var s = m.nodeValue;\r\n                var first = m;\r\n                m = m.nextSibling;\r\n                while (m != null && (m.nodeType == NodeTypes.TEXT_NODE || m.nodeType == NodeTypes.CDATA_SECTION_NODE)) {\r\n                    s += m.nodeValue;\r\n                    var del = m;\r\n                    m = m.nextSibling;\r\n                    del.parentNode.removeChild(del);\r\n                }\r\n                if (first.nodeType == NodeTypes.CDATA_SECTION_NODE) {\r\n                    var p = first.parentNode;\r\n                    if (first.nextSibling == null) {\r\n                        p.removeChild(first);\r\n                        p.appendChild(p.ownerDocument.createTextNode(s));\r\n                    } else {\r\n                        var next = first.nextSibling;\r\n                        p.removeChild(first);\r\n                        p.insertBefore(p.ownerDocument.createTextNode(s), next);\r\n                    }\r\n                } else {\r\n                    first.nodeValue = s;\r\n                }\r\n                if (m == null) {\r\n                    break;\r\n                }\r\n            } else if (m.nodeType == NodeTypes.ELEMENT_NODE) {\r\n                Utilities.coalesceText(m);\r\n            }\r\n        }\r\n    };\r\n\r\n    Utilities.instance_of = function (o, c) {\r\n        while (o != null) {\r\n            if (o.constructor === c) {\r\n                return true;\r\n            }\r\n            if (o === Object) {\r\n                return false;\r\n            }\r\n            o = o.constructor.superclass;\r\n        }\r\n        return false;\r\n    };\r\n\r\n    Utilities.getElementById = function (n, id) {\r\n        // Note that this does not check the DTD to check for actual\r\n        // attributes of type ID, so this may be a bit wrong.\r\n        if (n.nodeType == NodeTypes.ELEMENT_NODE) {\r\n            if (n.getAttribute(\"id\") == id\r\n                || n.getAttributeNS(null, \"id\") == id) {\r\n                return n;\r\n            }\r\n        }\r\n        for (var m = n.firstChild; m != null; m = m.nextSibling) {\r\n            var res = Utilities.getElementById(m, id);\r\n            if (res != null) {\r\n                return res;\r\n            }\r\n        }\r\n        return null;\r\n    };\r\n\r\n    // XPathException ////////////////////////////////////////////////////////////\r\n\r\n    var XPathException = (function () {\r\n        function getMessage(code, exception) {\r\n            var msg = exception ? \": \" + exception.toString() : \"\";\r\n            switch (code) {\r\n                case XPathException.INVALID_EXPRESSION_ERR:\r\n                    return \"Invalid expression\" + msg;\r\n                case XPathException.TYPE_ERR:\r\n                    return \"Type error\" + msg;\r\n            }\r\n            return null;\r\n        }\r\n\r\n        function XPathException(code, error, message) {\r\n            var err = Error.call(this, getMessage(code, error) || message);\r\n\r\n            err.code = code;\r\n            err.exception = error;\r\n\r\n            return err;\r\n        }\r\n\r\n        XPathException.prototype = Object.create(Error.prototype);\r\n        XPathException.prototype.constructor = XPathException;\r\n        XPathException.superclass = Error;\r\n\r\n        XPathException.prototype.toString = function () {\r\n            return this.message;\r\n        };\r\n\r\n        XPathException.fromMessage = function (message, error) {\r\n            return new XPathException(null, error, message);\r\n        };\r\n\r\n        XPathException.INVALID_EXPRESSION_ERR = 51;\r\n        XPathException.TYPE_ERR = 52;\r\n\r\n        return XPathException;\r\n    })();\r\n\r\n    // XPathExpression ///////////////////////////////////////////////////////////\r\n\r\n    XPathExpression.prototype = {};\r\n    XPathExpression.prototype.constructor = XPathExpression;\r\n    XPathExpression.superclass = Object.prototype;\r\n\r\n    function XPathExpression(e, r, p) {\r\n        this.xpath = p.parse(e);\r\n        this.context = new XPathContext();\r\n        this.context.namespaceResolver = new XPathNSResolverWrapper(r);\r\n    }\r\n\r\n    XPathExpression.getOwnerDocument = function (n) {\r\n        return n.nodeType === NodeTypes.DOCUMENT_NODE ? n : n.ownerDocument;\r\n    }\r\n\r\n    XPathExpression.detectHtmlDom = function (n) {\r\n        if (!n) { return false; }\r\n\r\n        var doc = XPathExpression.getOwnerDocument(n);\r\n\r\n        try {\r\n            return doc.implementation.hasFeature(\"HTML\", \"2.0\");\r\n        } catch (e) {\r\n            return true;\r\n        }\r\n    }\r\n\r\n    XPathExpression.prototype.evaluate = function (n, t, res) {\r\n        this.context.expressionContextNode = n;\r\n        // backward compatibility - no reliable way to detect whether the DOM is HTML, but\r\n        // this library has been using this method up until now, so we will continue to use it\r\n        // ONLY when using an XPathExpression\r\n        this.context.caseInsensitive = XPathExpression.detectHtmlDom(n);\r\n\r\n        var result = this.xpath.evaluate(this.context);\r\n        return new XPathResult(result, t);\r\n    }\r\n\r\n    // XPathNSResolverWrapper ////////////////////////////////////////////////////\r\n\r\n    XPathNSResolverWrapper.prototype = {};\r\n    XPathNSResolverWrapper.prototype.constructor = XPathNSResolverWrapper;\r\n    XPathNSResolverWrapper.superclass = Object.prototype;\r\n\r\n    function XPathNSResolverWrapper(r) {\r\n        this.xpathNSResolver = r;\r\n    }\r\n\r\n    XPathNSResolverWrapper.prototype.getNamespace = function (prefix, n) {\r\n        if (this.xpathNSResolver == null) {\r\n            return null;\r\n        }\r\n        return this.xpathNSResolver.lookupNamespaceURI(prefix);\r\n    };\r\n\r\n    // NodeXPathNSResolver ///////////////////////////////////////////////////////\r\n\r\n    NodeXPathNSResolver.prototype = {};\r\n    NodeXPathNSResolver.prototype.constructor = NodeXPathNSResolver;\r\n    NodeXPathNSResolver.superclass = Object.prototype;\r\n\r\n    function NodeXPathNSResolver(n) {\r\n        this.node = n;\r\n        this.namespaceResolver = new NamespaceResolver();\r\n    }\r\n\r\n    NodeXPathNSResolver.prototype.lookupNamespaceURI = function (prefix) {\r\n        return this.namespaceResolver.getNamespace(prefix, this.node);\r\n    };\r\n\r\n    // XPathResult ///////////////////////////////////////////////////////////////\r\n\r\n    XPathResult.prototype = {};\r\n    XPathResult.prototype.constructor = XPathResult;\r\n    XPathResult.superclass = Object.prototype;\r\n\r\n    function XPathResult(v, t) {\r\n        if (t == XPathResult.ANY_TYPE) {\r\n            if (v.constructor === XString) {\r\n                t = XPathResult.STRING_TYPE;\r\n            } else if (v.constructor === XNumber) {\r\n                t = XPathResult.NUMBER_TYPE;\r\n            } else if (v.constructor === XBoolean) {\r\n                t = XPathResult.BOOLEAN_TYPE;\r\n            } else if (v.constructor === XNodeSet) {\r\n                t = XPathResult.UNORDERED_NODE_ITERATOR_TYPE;\r\n            }\r\n        }\r\n        this.resultType = t;\r\n        switch (t) {\r\n            case XPathResult.NUMBER_TYPE:\r\n                this.numberValue = v.numberValue();\r\n                return;\r\n            case XPathResult.STRING_TYPE:\r\n                this.stringValue = v.stringValue();\r\n                return;\r\n            case XPathResult.BOOLEAN_TYPE:\r\n                this.booleanValue = v.booleanValue();\r\n                return;\r\n            case XPathResult.ANY_UNORDERED_NODE_TYPE:\r\n            case XPathResult.FIRST_ORDERED_NODE_TYPE:\r\n                if (v.constructor === XNodeSet) {\r\n                    this.singleNodeValue = v.first();\r\n                    return;\r\n                }\r\n                break;\r\n            case XPathResult.UNORDERED_NODE_ITERATOR_TYPE:\r\n            case XPathResult.ORDERED_NODE_ITERATOR_TYPE:\r\n                if (v.constructor === XNodeSet) {\r\n                    this.invalidIteratorState = false;\r\n                    this.nodes = v.toArray();\r\n                    this.iteratorIndex = 0;\r\n                    return;\r\n                }\r\n                break;\r\n            case XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE:\r\n            case XPathResult.ORDERED_NODE_SNAPSHOT_TYPE:\r\n                if (v.constructor === XNodeSet) {\r\n                    this.nodes = v.toArray();\r\n                    this.snapshotLength = this.nodes.length;\r\n                    return;\r\n                }\r\n                break;\r\n        }\r\n        throw new XPathException(XPathException.TYPE_ERR);\r\n    };\r\n\r\n    XPathResult.prototype.iterateNext = function () {\r\n        if (this.resultType != XPathResult.UNORDERED_NODE_ITERATOR_TYPE\r\n            && this.resultType != XPathResult.ORDERED_NODE_ITERATOR_TYPE) {\r\n            throw new XPathException(XPathException.TYPE_ERR);\r\n        }\r\n        return this.nodes[this.iteratorIndex++];\r\n    };\r\n\r\n    XPathResult.prototype.snapshotItem = function (i) {\r\n        if (this.resultType != XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE\r\n            && this.resultType != XPathResult.ORDERED_NODE_SNAPSHOT_TYPE) {\r\n            throw new XPathException(XPathException.TYPE_ERR);\r\n        }\r\n        return this.nodes[i];\r\n    };\r\n\r\n    XPathResult.ANY_TYPE = 0;\r\n    XPathResult.NUMBER_TYPE = 1;\r\n    XPathResult.STRING_TYPE = 2;\r\n    XPathResult.BOOLEAN_TYPE = 3;\r\n    XPathResult.UNORDERED_NODE_ITERATOR_TYPE = 4;\r\n    XPathResult.ORDERED_NODE_ITERATOR_TYPE = 5;\r\n    XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE = 6;\r\n    XPathResult.ORDERED_NODE_SNAPSHOT_TYPE = 7;\r\n    XPathResult.ANY_UNORDERED_NODE_TYPE = 8;\r\n    XPathResult.FIRST_ORDERED_NODE_TYPE = 9;\r\n\r\n    // DOM 3 XPath support ///////////////////////////////////////////////////////\r\n\r\n    function installDOM3XPathSupport(doc, p) {\r\n        doc.createExpression = function (e, r) {\r\n            try {\r\n                return new XPathExpression(e, r, p);\r\n            } catch (e) {\r\n                throw new XPathException(XPathException.INVALID_EXPRESSION_ERR, e);\r\n            }\r\n        };\r\n        doc.createNSResolver = function (n) {\r\n            return new NodeXPathNSResolver(n);\r\n        };\r\n        doc.evaluate = function (e, cn, r, t, res) {\r\n            if (t < 0 || t > 9) {\r\n                throw { code: 0, toString: function () { return \"Request type not supported\"; } };\r\n            }\r\n            return doc.createExpression(e, r, p).evaluate(cn, t, res);\r\n        };\r\n    };\r\n\r\n    // ---------------------------------------------------------------------------\r\n\r\n    // Install DOM 3 XPath support for the current document.\r\n    try {\r\n        var shouldInstall = true;\r\n        try {\r\n            if (document.implementation\r\n                && document.implementation.hasFeature\r\n                && document.implementation.hasFeature(\"XPath\", null)) {\r\n                shouldInstall = false;\r\n            }\r\n        } catch (e) {\r\n        }\r\n        if (shouldInstall) {\r\n            installDOM3XPathSupport(document, new XPathParser());\r\n        }\r\n    } catch (e) {\r\n    }\r\n\r\n    // ---------------------------------------------------------------------------\r\n    // exports for node.js\r\n\r\n    installDOM3XPathSupport(exports, new XPathParser());\r\n\r\n    (function () {\r\n        var parser = new XPathParser();\r\n\r\n        var defaultNSResolver = new NamespaceResolver();\r\n        var defaultFunctionResolver = new FunctionResolver();\r\n        var defaultVariableResolver = new VariableResolver();\r\n\r\n        function makeNSResolverFromFunction(func) {\r\n            return {\r\n                getNamespace: function (prefix, node) {\r\n                    var ns = func(prefix, node);\r\n\r\n                    return ns || defaultNSResolver.getNamespace(prefix, node);\r\n                }\r\n            };\r\n        }\r\n\r\n        function makeNSResolverFromObject(obj) {\r\n            return makeNSResolverFromFunction(obj.getNamespace.bind(obj));\r\n        }\r\n\r\n        function makeNSResolverFromMap(map) {\r\n            return makeNSResolverFromFunction(function (prefix) {\r\n                return map[prefix];\r\n            });\r\n        }\r\n\r\n        function makeNSResolver(resolver) {\r\n            if (resolver && typeof resolver.getNamespace === \"function\") {\r\n                return makeNSResolverFromObject(resolver);\r\n            }\r\n\r\n            if (typeof resolver === \"function\") {\r\n                return makeNSResolverFromFunction(resolver);\r\n            }\r\n\r\n            // assume prefix -> uri mapping\r\n            if (typeof resolver === \"object\") {\r\n                return makeNSResolverFromMap(resolver);\r\n            }\r\n\r\n            return defaultNSResolver;\r\n        }\r\n\r\n        /** Converts native JavaScript types to their XPath library equivalent */\r\n        function convertValue(value) {\r\n            if (value === null ||\r\n                typeof value === \"undefined\" ||\r\n                value instanceof XString ||\r\n                value instanceof XBoolean ||\r\n                value instanceof XNumber ||\r\n                value instanceof XNodeSet) {\r\n                return value;\r\n            }\r\n\r\n            switch (typeof value) {\r\n                case \"string\": return new XString(value);\r\n                case \"boolean\": return new XBoolean(value);\r\n                case \"number\": return new XNumber(value);\r\n            }\r\n\r\n            // assume node(s)\r\n            var ns = new XNodeSet();\r\n            ns.addArray([].concat(value));\r\n            return ns;\r\n        }\r\n\r\n        function makeEvaluator(func) {\r\n            return function (context) {\r\n                var args = Array.prototype.slice.call(arguments, 1).map(function (arg) {\r\n                    return arg.evaluate(context);\r\n                });\r\n                var result = func.apply(this, [].concat(context, args));\r\n                return convertValue(result);\r\n            };\r\n        }\r\n\r\n        function makeFunctionResolverFromFunction(func) {\r\n            return {\r\n                getFunction: function (name, namespace) {\r\n                    var found = func(name, namespace);\r\n                    if (found) {\r\n                        return makeEvaluator(found);\r\n                    }\r\n                    return defaultFunctionResolver.getFunction(name, namespace);\r\n                }\r\n            };\r\n        }\r\n\r\n        function makeFunctionResolverFromObject(obj) {\r\n            return makeFunctionResolverFromFunction(obj.getFunction.bind(obj));\r\n        }\r\n\r\n        function makeFunctionResolverFromMap(map) {\r\n            return makeFunctionResolverFromFunction(function (name) {\r\n                return map[name];\r\n            });\r\n        }\r\n\r\n        function makeFunctionResolver(resolver) {\r\n            if (resolver && typeof resolver.getFunction === \"function\") {\r\n                return makeFunctionResolverFromObject(resolver);\r\n            }\r\n\r\n            if (typeof resolver === \"function\") {\r\n                return makeFunctionResolverFromFunction(resolver);\r\n            }\r\n\r\n            // assume map\r\n            if (typeof resolver === \"object\") {\r\n                return makeFunctionResolverFromMap(resolver);\r\n            }\r\n\r\n            return defaultFunctionResolver;\r\n        }\r\n\r\n        function makeVariableResolverFromFunction(func) {\r\n            return {\r\n                getVariable: function (name, namespace) {\r\n                    var value = func(name, namespace);\r\n                    return convertValue(value);\r\n                }\r\n            };\r\n        }\r\n\r\n        function makeVariableResolver(resolver) {\r\n            if (resolver) {\r\n                if (typeof resolver.getVariable === \"function\") {\r\n                    return makeVariableResolverFromFunction(resolver.getVariable.bind(resolver));\r\n                }\r\n\r\n                if (typeof resolver === \"function\") {\r\n                    return makeVariableResolverFromFunction(resolver);\r\n                }\r\n\r\n                // assume map\r\n                if (typeof resolver === \"object\") {\r\n                    return makeVariableResolverFromFunction(function (name) {\r\n                        return resolver[name];\r\n                    });\r\n                }\r\n            }\r\n\r\n            return defaultVariableResolver;\r\n        }\r\n\r\n        function copyIfPresent(prop, dest, source) {\r\n            if (prop in source) { dest[prop] = source[prop]; }\r\n        }\r\n\r\n        function makeContext(options) {\r\n            var context = new XPathContext();\r\n\r\n            if (options) {\r\n                context.namespaceResolver = makeNSResolver(options.namespaces);\r\n                context.functionResolver = makeFunctionResolver(options.functions);\r\n                context.variableResolver = makeVariableResolver(options.variables);\r\n                context.expressionContextNode = options.node;\r\n                copyIfPresent('allowAnyNamespaceForNoPrefix', context, options);\r\n                copyIfPresent('isHtml', context, options);\r\n            } else {\r\n                context.namespaceResolver = defaultNSResolver;\r\n            }\r\n\r\n            return context;\r\n        }\r\n\r\n        function evaluate(parsedExpression, options) {\r\n            var context = makeContext(options);\r\n\r\n            return parsedExpression.evaluate(context);\r\n        }\r\n\r\n        var evaluatorPrototype = {\r\n            evaluate: function (options) {\r\n                return evaluate(this.expression, options);\r\n            }\r\n\r\n            , evaluateNumber: function (options) {\r\n                return this.evaluate(options).numberValue();\r\n            }\r\n\r\n            , evaluateString: function (options) {\r\n                return this.evaluate(options).stringValue();\r\n            }\r\n\r\n            , evaluateBoolean: function (options) {\r\n                return this.evaluate(options).booleanValue();\r\n            }\r\n\r\n            , evaluateNodeSet: function (options) {\r\n                return this.evaluate(options).nodeset();\r\n            }\r\n\r\n            , select: function (options) {\r\n                return this.evaluateNodeSet(options).toArray()\r\n            }\r\n\r\n            , select1: function (options) {\r\n                return this.select(options)[0];\r\n            }\r\n        };\r\n\r\n        function parse(xpath) {\r\n            var parsed = parser.parse(xpath);\r\n\r\n            return Object.create(evaluatorPrototype, {\r\n                expression: {\r\n                    value: parsed\r\n                }\r\n            });\r\n        }\r\n\r\n        exports.parse = parse;\r\n    })();\r\n\r\n    assign(\r\n        exports,\r\n        {\r\n            XPath: XPath,\r\n            XPathParser: XPathParser,\r\n            XPathResult: XPathResult,\r\n\r\n            Step: Step,\r\n            PathExpr: PathExpr,\r\n            NodeTest: NodeTest,\r\n            LocationPath: LocationPath,\r\n\r\n            OrOperation: OrOperation,\r\n            AndOperation: AndOperation,\r\n\r\n            BarOperation: BarOperation,\r\n\r\n            EqualsOperation: EqualsOperation,\r\n            NotEqualOperation: NotEqualOperation,\r\n            LessThanOperation: LessThanOperation,\r\n            GreaterThanOperation: GreaterThanOperation,\r\n            LessThanOrEqualOperation: LessThanOrEqualOperation,\r\n            GreaterThanOrEqualOperation: GreaterThanOrEqualOperation,\r\n\r\n            PlusOperation: PlusOperation,\r\n            MinusOperation: MinusOperation,\r\n            MultiplyOperation: MultiplyOperation,\r\n            DivOperation: DivOperation,\r\n            ModOperation: ModOperation,\r\n            UnaryMinusOperation: UnaryMinusOperation,\r\n          \r\n            FunctionCall: FunctionCall,\r\n            VariableReference: VariableReference,\r\n          \r\n            XPathContext: XPathContext,\r\n          \r\n            XNodeSet: XNodeSet,\r\n            XBoolean: XBoolean,\r\n            XString: XString,\r\n            XNumber: XNumber,\r\n          \r\n            NamespaceResolver: NamespaceResolver,\r\n            FunctionResolver: FunctionResolver,\r\n            VariableResolver: VariableResolver,\r\n          \r\n            Utilities: Utilities,\r\n        }\r\n    );\r\n\r\n    // helper\r\n    exports.select = function (e, doc, single) {\r\n        return exports.selectWithResolver(e, doc, null, single);\r\n    };\r\n\r\n    exports.useNamespaces = function (mappings) {\r\n        var resolver = {\r\n            mappings: mappings || {},\r\n            lookupNamespaceURI: function (prefix) {\r\n                return this.mappings[prefix];\r\n            }\r\n        };\r\n\r\n        return function (e, doc, single) {\r\n            return exports.selectWithResolver(e, doc, resolver, single);\r\n        };\r\n    };\r\n\r\n    exports.selectWithResolver = function (e, doc, resolver, single) {\r\n        var expression = new XPathExpression(e, resolver, new XPathParser());\r\n        var type = XPathResult.ANY_TYPE;\r\n\r\n        var result = expression.evaluate(doc, type, null);\r\n\r\n        if (result.resultType == XPathResult.STRING_TYPE) {\r\n            result = result.stringValue;\r\n        }\r\n        else if (result.resultType == XPathResult.NUMBER_TYPE) {\r\n            result = result.numberValue;\r\n        }\r\n        else if (result.resultType == XPathResult.BOOLEAN_TYPE) {\r\n            result = result.booleanValue;\r\n        }\r\n        else {\r\n            result = result.nodes;\r\n            if (single) {\r\n                result = result[0];\r\n            }\r\n        }\r\n\r\n        return result;\r\n    };\r\n\r\n    exports.select1 = function (e, doc) {\r\n        return exports.select(e, doc, true);\r\n    };\r\n\r\n    var isNodeLike = function (value) {\r\n        return value \r\n            && typeof value.nodeType === \"number\" \r\n            && Number.isInteger(value.nodeType)\r\n            && value.nodeType >= 1\r\n            && value.nodeType <= 11\r\n            && typeof value.nodeName === \"string\";\r\n    };\r\n\r\n    var isArrayOfNodes = function (value) {\r\n        return Array.isArray(value) && value.every(isNodeLike);\r\n    };\r\n\r\n    var isNodeOfType = function (type) {\r\n        return function (value) {\r\n            return isNodeLike(value) && value.nodeType === type;\r\n        };\r\n    };\r\n\r\n    assign(\r\n        exports,\r\n        {\r\n            isNodeLike: isNodeLike,\r\n            isArrayOfNodes: isArrayOfNodes,\r\n            isElement: isNodeOfType(NodeTypes.ELEMENT_NODE),\r\n            isAttribute: isNodeOfType(NodeTypes.ATTRIBUTE_NODE),\r\n            isTextNode: isNodeOfType(NodeTypes.TEXT_NODE),\r\n            isCDATASection: isNodeOfType(NodeTypes.CDATA_SECTION_NODE),\r\n            isProcessingInstruction: isNodeOfType(NodeTypes.PROCESSING_INSTRUCTION_NODE),\r\n            isComment: isNodeOfType(NodeTypes.COMMENT_NODE),\r\n            isDocumentNode: isNodeOfType(NodeTypes.DOCUMENT_NODE),\r\n            isDocumentTypeNode: isNodeOfType(NodeTypes.DOCUMENT_TYPE_NODE),\r\n            isDocumentFragment: isNodeOfType(NodeTypes.DOCUMENT_FRAGMENT_NODE),\r\n        }\r\n    );\r\n    // end non-node wrapper\r\n})(xpath);\r\n","'use strict'\nmodule.exports = function (Yallist) {\n  Yallist.prototype[Symbol.iterator] = function* () {\n    for (let walker = this.head; walker; walker = walker.next) {\n      yield walker.value\n    }\n  }\n}\n","'use strict'\nmodule.exports = Yallist\n\nYallist.Node = Node\nYallist.create = Yallist\n\nfunction Yallist (list) {\n  var self = this\n  if (!(self instanceof Yallist)) {\n    self = new Yallist()\n  }\n\n  self.tail = null\n  self.head = null\n  self.length = 0\n\n  if (list && typeof list.forEach === 'function') {\n    list.forEach(function (item) {\n      self.push(item)\n    })\n  } else if (arguments.length > 0) {\n    for (var i = 0, l = arguments.length; i < l; i++) {\n      self.push(arguments[i])\n    }\n  }\n\n  return self\n}\n\nYallist.prototype.removeNode = function (node) {\n  if (node.list !== this) {\n    throw new Error('removing node which does not belong to this list')\n  }\n\n  var next = node.next\n  var prev = node.prev\n\n  if (next) {\n    next.prev = prev\n  }\n\n  if (prev) {\n    prev.next = next\n  }\n\n  if (node === this.head) {\n    this.head = next\n  }\n  if (node === this.tail) {\n    this.tail = prev\n  }\n\n  node.list.length--\n  node.next = null\n  node.prev = null\n  node.list = null\n\n  return next\n}\n\nYallist.prototype.unshiftNode = function (node) {\n  if (node === this.head) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var head = this.head\n  node.list = this\n  node.next = head\n  if (head) {\n    head.prev = node\n  }\n\n  this.head = node\n  if (!this.tail) {\n    this.tail = node\n  }\n  this.length++\n}\n\nYallist.prototype.pushNode = function (node) {\n  if (node === this.tail) {\n    return\n  }\n\n  if (node.list) {\n    node.list.removeNode(node)\n  }\n\n  var tail = this.tail\n  node.list = this\n  node.prev = tail\n  if (tail) {\n    tail.next = node\n  }\n\n  this.tail = node\n  if (!this.head) {\n    this.head = node\n  }\n  this.length++\n}\n\nYallist.prototype.push = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    push(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.unshift = function () {\n  for (var i = 0, l = arguments.length; i < l; i++) {\n    unshift(this, arguments[i])\n  }\n  return this.length\n}\n\nYallist.prototype.pop = function () {\n  if (!this.tail) {\n    return undefined\n  }\n\n  var res = this.tail.value\n  this.tail = this.tail.prev\n  if (this.tail) {\n    this.tail.next = null\n  } else {\n    this.head = null\n  }\n  this.length--\n  return res\n}\n\nYallist.prototype.shift = function () {\n  if (!this.head) {\n    return undefined\n  }\n\n  var res = this.head.value\n  this.head = this.head.next\n  if (this.head) {\n    this.head.prev = null\n  } else {\n    this.tail = null\n  }\n  this.length--\n  return res\n}\n\nYallist.prototype.forEach = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.head, i = 0; walker !== null; i++) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.next\n  }\n}\n\nYallist.prototype.forEachReverse = function (fn, thisp) {\n  thisp = thisp || this\n  for (var walker = this.tail, i = this.length - 1; walker !== null; i--) {\n    fn.call(thisp, walker.value, i, this)\n    walker = walker.prev\n  }\n}\n\nYallist.prototype.get = function (n) {\n  for (var i = 0, walker = this.head; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.next\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.getReverse = function (n) {\n  for (var i = 0, walker = this.tail; walker !== null && i < n; i++) {\n    // abort out of the list early if we hit a cycle\n    walker = walker.prev\n  }\n  if (i === n && walker !== null) {\n    return walker.value\n  }\n}\n\nYallist.prototype.map = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.head; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.next\n  }\n  return res\n}\n\nYallist.prototype.mapReverse = function (fn, thisp) {\n  thisp = thisp || this\n  var res = new Yallist()\n  for (var walker = this.tail; walker !== null;) {\n    res.push(fn.call(thisp, walker.value, this))\n    walker = walker.prev\n  }\n  return res\n}\n\nYallist.prototype.reduce = function (fn, initial) {\n  var acc\n  var walker = this.head\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.head) {\n    walker = this.head.next\n    acc = this.head.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = 0; walker !== null; i++) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.next\n  }\n\n  return acc\n}\n\nYallist.prototype.reduceReverse = function (fn, initial) {\n  var acc\n  var walker = this.tail\n  if (arguments.length > 1) {\n    acc = initial\n  } else if (this.tail) {\n    walker = this.tail.prev\n    acc = this.tail.value\n  } else {\n    throw new TypeError('Reduce of empty list with no initial value')\n  }\n\n  for (var i = this.length - 1; walker !== null; i--) {\n    acc = fn(acc, walker.value, i)\n    walker = walker.prev\n  }\n\n  return acc\n}\n\nYallist.prototype.toArray = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.head; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.next\n  }\n  return arr\n}\n\nYallist.prototype.toArrayReverse = function () {\n  var arr = new Array(this.length)\n  for (var i = 0, walker = this.tail; walker !== null; i++) {\n    arr[i] = walker.value\n    walker = walker.prev\n  }\n  return arr\n}\n\nYallist.prototype.slice = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = 0, walker = this.head; walker !== null && i < from; i++) {\n    walker = walker.next\n  }\n  for (; walker !== null && i < to; i++, walker = walker.next) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.sliceReverse = function (from, to) {\n  to = to || this.length\n  if (to < 0) {\n    to += this.length\n  }\n  from = from || 0\n  if (from < 0) {\n    from += this.length\n  }\n  var ret = new Yallist()\n  if (to < from || to < 0) {\n    return ret\n  }\n  if (from < 0) {\n    from = 0\n  }\n  if (to > this.length) {\n    to = this.length\n  }\n  for (var i = this.length, walker = this.tail; walker !== null && i > to; i--) {\n    walker = walker.prev\n  }\n  for (; walker !== null && i > from; i--, walker = walker.prev) {\n    ret.push(walker.value)\n  }\n  return ret\n}\n\nYallist.prototype.splice = function (start, deleteCount, ...nodes) {\n  if (start > this.length) {\n    start = this.length - 1\n  }\n  if (start < 0) {\n    start = this.length + start;\n  }\n\n  for (var i = 0, walker = this.head; walker !== null && i < start; i++) {\n    walker = walker.next\n  }\n\n  var ret = []\n  for (var i = 0; walker && i < deleteCount; i++) {\n    ret.push(walker.value)\n    walker = this.removeNode(walker)\n  }\n  if (walker === null) {\n    walker = this.tail\n  }\n\n  if (walker !== this.head && walker !== this.tail) {\n    walker = walker.prev\n  }\n\n  for (var i = 0; i < nodes.length; i++) {\n    walker = insert(this, walker, nodes[i])\n  }\n  return ret;\n}\n\nYallist.prototype.reverse = function () {\n  var head = this.head\n  var tail = this.tail\n  for (var walker = head; walker !== null; walker = walker.prev) {\n    var p = walker.prev\n    walker.prev = walker.next\n    walker.next = p\n  }\n  this.head = tail\n  this.tail = head\n  return this\n}\n\nfunction insert (self, node, value) {\n  var inserted = node === self.head ?\n    new Node(value, null, node, self) :\n    new Node(value, node, node.next, self)\n\n  if (inserted.next === null) {\n    self.tail = inserted\n  }\n  if (inserted.prev === null) {\n    self.head = inserted\n  }\n\n  self.length++\n\n  return inserted\n}\n\nfunction push (self, item) {\n  self.tail = new Node(item, self.tail, null, self)\n  if (!self.head) {\n    self.head = self.tail\n  }\n  self.length++\n}\n\nfunction unshift (self, item) {\n  self.head = new Node(item, null, self.head, self)\n  if (!self.tail) {\n    self.tail = self.head\n  }\n  self.length++\n}\n\nfunction Node (value, prev, next, list) {\n  if (!(this instanceof Node)) {\n    return new Node(value, prev, next, list)\n  }\n\n  this.list = list\n  this.value = value\n\n  if (prev) {\n    prev.next = this\n    this.prev = prev\n  } else {\n    this.prev = null\n  }\n\n  if (next) {\n    next.prev = this\n    this.next = next\n  } else {\n    this.next = null\n  }\n}\n\ntry {\n  // add if support for Symbol.iterator is present\n  require('./iterator.js')(Yallist)\n} catch (er) {}\n","module.exports = require(\"vscode\");","module.exports = require(\"child_process\");","module.exports = require(\"crypto\");","module.exports = require(\"events\");","module.exports = require(\"fs\");","module.exports = require(\"net\");","module.exports = require(\"os\");","module.exports = require(\"path\");","module.exports = require(\"stream\");","module.exports = require(\"string_decoder\");","module.exports = require(\"util\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","// tslint:disable:ban-types\nexport function isArrayLike(x) {\n    return Array.isArray(x) || ArrayBuffer.isView(x);\n}\nexport function isIterable(x) {\n    return x != null && typeof x === \"object\" && Symbol.iterator in x;\n}\nexport function isEnumerable(x) {\n    return x != null && typeof x.GetEnumerator === \"function\";\n}\nexport function isComparer(x) {\n    return x != null && typeof x.Compare === \"function\";\n}\nexport function isComparable(x) {\n    return x != null && typeof x.CompareTo === \"function\";\n}\nexport function isEquatable(x) {\n    return x != null && typeof x.Equals === \"function\";\n}\nexport function isHashable(x) {\n    return x != null && typeof x.GetHashCode === \"function\";\n}\nexport function isDisposable(x) {\n    return x != null && typeof x.Dispose === \"function\";\n}\nexport function disposeSafe(x) {\n    if (isDisposable(x)) {\n        x.Dispose();\n    }\n}\nexport function defaultOf() {\n    return null;\n}\nexport function sameConstructor(x, y) {\n    return Object.getPrototypeOf(x)?.constructor === Object.getPrototypeOf(y)?.constructor;\n}\nexport class Enumerable {\n    constructor(en) {\n        this.en = en;\n    }\n    GetEnumerator() { return this.en; }\n    \"System.Collections.IEnumerable.GetEnumerator\"() { return this.en; }\n    [Symbol.iterator]() {\n        return this;\n    }\n    next() {\n        const hasNext = this.en[\"System.Collections.IEnumerator.MoveNext\"]();\n        const current = hasNext ? this.en[\"System.Collections.Generic.IEnumerator`1.get_Current\"]() : undefined;\n        return { done: !hasNext, value: current };\n    }\n}\nexport class Enumerator {\n    constructor(iter) {\n        this.iter = iter;\n        this.current = defaultOf();\n    }\n    [\"System.Collections.Generic.IEnumerator`1.get_Current\"]() {\n        return this.current;\n    }\n    [\"System.Collections.IEnumerator.get_Current\"]() {\n        return this.current;\n    }\n    [\"System.Collections.IEnumerator.MoveNext\"]() {\n        const cur = this.iter.next();\n        this.current = cur.value;\n        return !cur.done;\n    }\n    [\"System.Collections.IEnumerator.Reset\"]() {\n        throw new Error(\"JS iterators cannot be reset\");\n    }\n    Dispose() {\n        return;\n    }\n}\nexport function toEnumerable(e) {\n    if (isEnumerable(e)) {\n        return e;\n    }\n    else {\n        return new Enumerable(new Enumerator(e[Symbol.iterator]()));\n    }\n}\nexport function getEnumerator(e) {\n    if (isEnumerable(e)) {\n        return e.GetEnumerator();\n    }\n    else {\n        return new Enumerator(e[Symbol.iterator]());\n    }\n}\nexport function toIterator(en) {\n    return {\n        next() {\n            const hasNext = en[\"System.Collections.IEnumerator.MoveNext\"]();\n            const current = hasNext ? en[\"System.Collections.Generic.IEnumerator`1.get_Current\"]() : undefined;\n            return { done: !hasNext, value: current };\n        },\n    };\n}\nexport function enumerableToIterator(e) {\n    return toIterator(toEnumerable(e).GetEnumerator());\n}\nexport class Comparer {\n    constructor(f) {\n        this.Compare = f || compare;\n    }\n}\nexport function comparerFromEqualityComparer(comparer) {\n    // Sometimes IEqualityComparer also implements IComparer\n    if (isComparer(comparer)) {\n        return new Comparer(comparer.Compare);\n    }\n    else {\n        return new Comparer((x, y) => {\n            const xhash = comparer.GetHashCode(x);\n            const yhash = comparer.GetHashCode(y);\n            if (xhash === yhash) {\n                return comparer.Equals(x, y) ? 0 : -1;\n            }\n            else {\n                return xhash < yhash ? -1 : 1;\n            }\n        });\n    }\n}\nexport function assertEqual(actual, expected, msg) {\n    if (!equals(actual, expected)) {\n        throw Object.assign(new Error(msg || `Expected: ${expected} - Actual: ${actual}`), {\n            actual,\n            expected,\n        });\n    }\n}\nexport function assertNotEqual(actual, expected, msg) {\n    if (equals(actual, expected)) {\n        throw Object.assign(new Error(msg || `Expected: ${expected} - Actual: ${actual}`), {\n            actual,\n            expected,\n        });\n    }\n}\nexport class Lazy {\n    constructor(factory) {\n        this.factory = factory;\n        this.isValueCreated = false;\n    }\n    get Value() {\n        if (!this.isValueCreated) {\n            this.createdValue = this.factory();\n            this.isValueCreated = true;\n        }\n        return this.createdValue;\n    }\n    get IsValueCreated() {\n        return this.isValueCreated;\n    }\n}\nexport function lazyFromValue(v) {\n    return new Lazy(() => v);\n}\nexport function padWithZeros(i, length) {\n    let str = i.toString(10);\n    while (str.length < length) {\n        str = \"0\" + str;\n    }\n    return str;\n}\nexport function padLeftAndRightWithZeros(i, lengthLeft, lengthRight) {\n    let str = i.toString(10);\n    while (str.length < lengthLeft) {\n        str = \"0\" + str;\n    }\n    while (str.length < lengthRight) {\n        str = str + \"0\";\n    }\n    return str;\n}\nexport function dateOffset(date) {\n    const date1 = date;\n    return typeof date1.offset === \"number\"\n        ? date1.offset\n        : (date.kind === 1 /* DateKind.UTC */\n            ? 0 : date.getTimezoneOffset() * -60000);\n}\nexport function int16ToString(i, radix) {\n    i = i < 0 && radix != null && radix !== 10 ? 0xFFFF + i + 1 : i;\n    return i.toString(radix);\n}\nexport function int32ToString(i, radix) {\n    i = i < 0 && radix != null && radix !== 10 ? 0xFFFFFFFF + i + 1 : i;\n    return i.toString(radix);\n}\nexport function int64ToString(i, radix) {\n    i = i < 0 && radix != null && radix !== 10 ? 0xffffffffffffffffn + i + 1n : i;\n    return i.toString(radix);\n}\nclass ObjectRef {\n    static id(o) {\n        if (!ObjectRef.idMap.has(o)) {\n            ObjectRef.idMap.set(o, ++ObjectRef.count);\n        }\n        return ObjectRef.idMap.get(o);\n    }\n}\nObjectRef.idMap = new WeakMap();\nObjectRef.count = 0;\nexport { ObjectRef };\nexport function stringHash(s) {\n    let i = 0;\n    let h = 5381;\n    const len = s.length;\n    while (i < len) {\n        h = (h * 33) ^ s.charCodeAt(i++);\n    }\n    return h;\n}\nexport function numberHash(x) {\n    return x * 2654435761 | 0;\n}\nexport function bigintHash(x) {\n    return stringHash(x.toString(32));\n}\n// From https://stackoverflow.com/a/37449594\nexport function combineHashCodes(hashes) {\n    let h1 = 0;\n    const len = hashes.length;\n    for (let i = 0; i < len; i++) {\n        const h2 = hashes[i];\n        h1 = ((h1 << 5) + h1) ^ h2;\n    }\n    return h1;\n}\nexport function physicalHash(x) {\n    if (x == null) {\n        return 0;\n    }\n    switch (typeof x) {\n        case \"boolean\":\n            return x ? 1 : 0;\n        case \"number\":\n            return numberHash(x);\n        case \"bigint\":\n            return bigintHash(x);\n        case \"string\":\n            return stringHash(x);\n        default:\n            return numberHash(ObjectRef.id(x));\n    }\n}\nexport function identityHash(x) {\n    if (isHashable(x)) {\n        return x.GetHashCode();\n    }\n    else {\n        return physicalHash(x);\n    }\n}\nexport function dateHash(x) {\n    return x.getTime();\n}\nexport function arrayHash(x) {\n    const len = x.length;\n    const hashes = new Array(len);\n    for (let i = 0; i < len; i++) {\n        hashes[i] = structuralHash(x[i]);\n    }\n    return combineHashCodes(hashes);\n}\nexport function structuralHash(x) {\n    if (x == null) {\n        return 0;\n    }\n    switch (typeof x) {\n        case \"boolean\":\n            return x ? 1 : 0;\n        case \"number\":\n            return numberHash(x);\n        case \"bigint\":\n            return bigintHash(x);\n        case \"string\":\n            return stringHash(x);\n        default: {\n            if (isHashable(x)) {\n                return x.GetHashCode();\n            }\n            else if (isArrayLike(x)) {\n                return arrayHash(x);\n            }\n            else if (x instanceof Date) {\n                return dateHash(x);\n            }\n            else if (Object.getPrototypeOf(x)?.constructor === Object) {\n                // TODO: check call-stack to prevent cyclic objects?\n                const hashes = Object.values(x).map((v) => structuralHash(v));\n                return combineHashCodes(hashes);\n            }\n            else {\n                // Classes don't implement GetHashCode by default, but must use identity hashing\n                return numberHash(ObjectRef.id(x));\n                // return stringHash(String(x));\n            }\n        }\n    }\n}\n// Intended for custom numeric types, like long or decimal\nexport function fastStructuralHash(x) {\n    return stringHash(String(x));\n}\n// Intended for declared types that may or may not implement GetHashCode\nexport function safeHash(x) {\n    // return x == null ? 0 : isHashable(x) ? x.GetHashCode() : numberHash(ObjectRef.id(x));\n    return identityHash(x);\n}\nexport function equalArraysWith(x, y, eq) {\n    if (x == null) {\n        return y == null;\n    }\n    if (y == null) {\n        return false;\n    }\n    if (x.length !== y.length) {\n        return false;\n    }\n    for (let i = 0; i < x.length; i++) {\n        if (!eq(x[i], y[i])) {\n            return false;\n        }\n    }\n    return true;\n}\nexport function equalArrays(x, y) {\n    return equalArraysWith(x, y, equals);\n}\nfunction equalObjects(x, y) {\n    const xKeys = Object.keys(x);\n    const yKeys = Object.keys(y);\n    if (xKeys.length !== yKeys.length) {\n        return false;\n    }\n    xKeys.sort();\n    yKeys.sort();\n    for (let i = 0; i < xKeys.length; i++) {\n        if (xKeys[i] !== yKeys[i] || !equals(x[xKeys[i]], y[yKeys[i]])) {\n            return false;\n        }\n    }\n    return true;\n}\nexport function physicalEquality(x, y) {\n    return x === y;\n}\nexport function equals(x, y) {\n    if (x === y) {\n        return true;\n    }\n    else if (x == null) {\n        return y == null;\n    }\n    else if (y == null) {\n        return false;\n    }\n    else if (isEquatable(x)) {\n        return x.Equals(y);\n    }\n    else if (isArrayLike(x)) {\n        return isArrayLike(y) && equalArrays(x, y);\n    }\n    else if (typeof x !== \"object\") {\n        return false;\n    }\n    else if (x instanceof Date) {\n        return (y instanceof Date) && compareDates(x, y) === 0;\n    }\n    else {\n        return Object.getPrototypeOf(x)?.constructor === Object && equalObjects(x, y);\n    }\n}\nexport function compareDates(x, y) {\n    let xtime;\n    let ytime;\n    // DateTimeOffset and DateTime deals with equality differently.\n    if (\"offset\" in x && \"offset\" in y) {\n        xtime = x.getTime();\n        ytime = y.getTime();\n    }\n    else {\n        xtime = x.getTime() + dateOffset(x);\n        ytime = y.getTime() + dateOffset(y);\n    }\n    return xtime === ytime ? 0 : (xtime < ytime ? -1 : 1);\n}\nexport function comparePrimitives(x, y) {\n    return x === y ? 0 : (x < y ? -1 : 1);\n}\nexport function compareArraysWith(x, y, comp) {\n    if (x == null) {\n        return y == null ? 0 : 1;\n    }\n    if (y == null) {\n        return -1;\n    }\n    if (x.length !== y.length) {\n        return x.length < y.length ? -1 : 1;\n    }\n    for (let i = 0, j = 0; i < x.length; i++) {\n        j = comp(x[i], y[i]);\n        if (j !== 0) {\n            return j;\n        }\n    }\n    return 0;\n}\nexport function compareArrays(x, y) {\n    return compareArraysWith(x, y, compare);\n}\nfunction compareObjects(x, y) {\n    const xKeys = Object.keys(x);\n    const yKeys = Object.keys(y);\n    if (xKeys.length !== yKeys.length) {\n        return xKeys.length < yKeys.length ? -1 : 1;\n    }\n    xKeys.sort();\n    yKeys.sort();\n    for (let i = 0, j = 0; i < xKeys.length; i++) {\n        const key = xKeys[i];\n        if (key !== yKeys[i]) {\n            return key < yKeys[i] ? -1 : 1;\n        }\n        else {\n            j = compare(x[key], y[key]);\n            if (j !== 0) {\n                return j;\n            }\n        }\n    }\n    return 0;\n}\nexport function compare(x, y) {\n    if (x === y) {\n        return 0;\n    }\n    else if (x == null) {\n        return y == null ? 0 : -1;\n    }\n    else if (y == null) {\n        return 1;\n    }\n    else if (isComparable(x)) {\n        return x.CompareTo(y);\n    }\n    else if (isArrayLike(x)) {\n        return isArrayLike(y) ? compareArrays(x, y) : -1;\n    }\n    else if (typeof x !== \"object\") {\n        return x < y ? -1 : 1;\n    }\n    else if (x instanceof Date) {\n        return y instanceof Date ? compareDates(x, y) : -1;\n    }\n    else {\n        return Object.getPrototypeOf(x)?.constructor === Object ? compareObjects(x, y) : -1;\n    }\n}\nexport function min(comparer, x, y) {\n    return comparer(x, y) < 0 ? x : y;\n}\nexport function max(comparer, x, y) {\n    return comparer(x, y) > 0 ? x : y;\n}\nexport function clamp(comparer, value, min, max) {\n    return (comparer(value, min) < 0) ? min : (comparer(value, max) > 0) ? max : value;\n}\nexport function createAtom(value) {\n    let atom = value;\n    return (...args) => {\n        if (args.length === 0) {\n            return atom;\n        }\n        else {\n            atom = args[0];\n        }\n    };\n}\nexport function createObj(fields) {\n    const obj = {};\n    for (const kv of fields) {\n        obj[kv[0]] = kv[1];\n    }\n    return obj;\n}\nexport function jsOptions(mutator) {\n    const opts = {};\n    mutator(opts);\n    return opts;\n}\nexport function round(value, digits = 0) {\n    const m = Math.pow(10, digits);\n    const n = +(digits ? value * m : value).toFixed(8);\n    const i = Math.floor(n);\n    const f = n - i;\n    const e = 1e-8;\n    const r = (f > 0.5 - e && f < 0.5 + e) ? ((i % 2 === 0) ? i : i + 1) : Math.round(n);\n    return digits ? r / m : r;\n}\nexport function sign(x) {\n    return x > 0 ? 1 : x < 0 ? -1 : 0;\n}\nexport function unescapeDataString(s) {\n    // https://stackoverflow.com/a/4458580/524236\n    return decodeURIComponent((s).replace(/\\+/g, \"%20\"));\n}\nexport function escapeDataString(s) {\n    return encodeURIComponent(s).replace(/!/g, \"%21\")\n        .replace(/'/g, \"%27\")\n        .replace(/\\(/g, \"%28\")\n        .replace(/\\)/g, \"%29\")\n        .replace(/\\*/g, \"%2A\");\n}\nexport function escapeUriString(s) {\n    return encodeURI(s);\n}\n// ICollection.Clear and Count members can be called on Arrays\n// or Dictionaries so we need a runtime check (see #1120)\nexport function count(col) {\n    if (isArrayLike(col)) {\n        return col.length;\n    }\n    else {\n        let count = 0;\n        for (const _ of col) {\n            count++;\n        }\n        return count;\n    }\n}\nexport function clear(col) {\n    if (isArrayLike(col)) {\n        col.splice(0);\n    }\n    else {\n        col.clear();\n    }\n}\nconst curried = new WeakMap();\nexport function uncurry2(f) {\n    if (f == null) {\n        return null;\n    }\n    const f2 = (a1, a2) => f(a1)(a2);\n    curried.set(f2, f);\n    return f2;\n}\nexport function curry2(f) {\n    return curried.get(f) ?? ((a1) => (a2) => f(a1, a2));\n}\nexport function uncurry3(f) {\n    if (f == null) {\n        return null;\n    }\n    const f2 = (a1, a2, a3) => f(a1)(a2)(a3);\n    curried.set(f2, f);\n    return f2;\n}\nexport function curry3(f) {\n    return curried.get(f)\n        ?? ((a1) => (a2) => (a3) => f(a1, a2, a3));\n}\nexport function uncurry4(f) {\n    if (f == null) {\n        return null;\n    }\n    const f2 = (a1, a2, a3, a4) => f(a1)(a2)(a3)(a4);\n    curried.set(f2, f);\n    return f2;\n}\nexport function curry4(f) {\n    return curried.get(f)\n        ?? ((a1) => (a2) => (a3) => (a4) => f(a1, a2, a3, a4));\n}\nexport function uncurry5(f) {\n    if (f == null) {\n        return null;\n    }\n    const f2 = (a1, a2, a3, a4, a5) => f(a1)(a2)(a3)(a4)(a5);\n    curried.set(f2, f);\n    return f2;\n}\nexport function curry5(f) {\n    return curried.get(f)\n        ?? ((a1) => (a2) => (a3) => (a4) => (a5) => f(a1, a2, a3, a4, a5));\n}\nexport function uncurry6(f) {\n    if (f == null) {\n        return null;\n    }\n    const f2 = (a1, a2, a3, a4, a5, a6) => f(a1)(a2)(a3)(a4)(a5)(a6);\n    curried.set(f2, f);\n    return f2;\n}\nexport function curry6(f) {\n    return curried.get(f)\n        ?? ((a1) => (a2) => (a3) => (a4) => (a5) => (a6) => f(a1, a2, a3, a4, a5, a6));\n}\nexport function uncurry7(f) {\n    if (f == null) {\n        return null;\n    }\n    const f2 = (a1, a2, a3, a4, a5, a6, a7) => f(a1)(a2)(a3)(a4)(a5)(a6)(a7);\n    curried.set(f2, f);\n    return f2;\n}\nexport function curry7(f) {\n    return curried.get(f)\n        ?? ((a1) => (a2) => (a3) => (a4) => (a5) => (a6) => (a7) => f(a1, a2, a3, a4, a5, a6, a7));\n}\nexport function uncurry8(f) {\n    if (f == null) {\n        return null;\n    }\n    const f2 = (a1, a2, a3, a4, a5, a6, a7, a8) => f(a1)(a2)(a3)(a4)(a5)(a6)(a7)(a8);\n    curried.set(f2, f);\n    return f2;\n}\nexport function curry8(f) {\n    return curried.get(f)\n        ?? ((a1) => (a2) => (a3) => (a4) => (a5) => (a6) => (a7) => (a8) => f(a1, a2, a3, a4, a5, a6, a7, a8));\n}\nexport function uncurry9(f) {\n    if (f == null) {\n        return null;\n    }\n    const f2 = (a1, a2, a3, a4, a5, a6, a7, a8, a9) => f(a1)(a2)(a3)(a4)(a5)(a6)(a7)(a8)(a9);\n    curried.set(f2, f);\n    return f2;\n}\nexport function curry9(f) {\n    return curried.get(f)\n        ?? ((a1) => (a2) => (a3) => (a4) => (a5) => (a6) => (a7) => (a8) => (a9) => f(a1, a2, a3, a4, a5, a6, a7, a8, a9));\n}\nexport function uncurry10(f) {\n    if (f == null) {\n        return null;\n    }\n    const f2 = (a1, a2, a3, a4, a5, a6, a7, a8, a9, a10) => f(a1)(a2)(a3)(a4)(a5)(a6)(a7)(a8)(a9)(a10);\n    curried.set(f2, f);\n    return f2;\n}\nexport function curry10(f) {\n    return curried.get(f)\n        ?? ((a1) => (a2) => (a3) => (a4) => (a5) => (a6) => (a7) => (a8) => (a9) => (a10) => f(a1, a2, a3, a4, a5, a6, a7, a8, a9, a10));\n}\n// More performant method to copy arrays, see #2352\nexport function copyToArray(source, sourceIndex, target, targetIndex, count) {\n    if (ArrayBuffer.isView(source) && ArrayBuffer.isView(target)) {\n        target.set(source.subarray(sourceIndex, sourceIndex + count), targetIndex);\n    }\n    else {\n        for (let i = 0; i < count; ++i) {\n            target[targetIndex + i] = source[sourceIndex + i];\n        }\n    }\n}\n","import { combineHashCodes, compare, compareArrays, equalArrays, equals, sameConstructor, numberHash, structuralHash } from \"./Util.js\";\nexport function seqToString(self) {\n    let count = 0;\n    let str = \"[\";\n    for (const x of self) {\n        if (count === 0) {\n            str += toString(x);\n        }\n        else if (count === 100) {\n            str += \"; ...\";\n            break;\n        }\n        else {\n            str += \"; \" + toString(x);\n        }\n        count++;\n    }\n    return str + \"]\";\n}\nexport function toString(x, callStack = 0) {\n    if (x != null && typeof x === \"object\") {\n        if (typeof x.toString === \"function\") {\n            return x.toString();\n        }\n        else if (Symbol.iterator in x) {\n            return seqToString(x);\n        }\n        else { // TODO: Date?\n            const cons = Object.getPrototypeOf(x)?.constructor;\n            return cons === Object && callStack < 10\n                // Same format as recordToString\n                ? \"{ \" + Object.entries(x).map(([k, v]) => k + \" = \" + toString(v, callStack + 1)).join(\"\\n  \") + \" }\"\n                : cons?.name ?? \"\";\n        }\n    }\n    return String(x);\n}\nexport function unionToString(name, fields) {\n    if (fields.length === 0) {\n        return name;\n    }\n    else {\n        let fieldStr;\n        let withParens = true;\n        if (fields.length === 1) {\n            fieldStr = toString(fields[0]);\n            withParens = fieldStr.indexOf(\" \") >= 0;\n        }\n        else {\n            fieldStr = fields.map((x) => toString(x)).join(\", \");\n        }\n        return name + (withParens ? \" (\" : \" \") + fieldStr + (withParens ? \")\" : \"\");\n    }\n}\nexport class Union {\n    get name() {\n        return this.cases()[this.tag];\n    }\n    toJSON() {\n        return this.fields.length === 0 ? this.name : [this.name].concat(this.fields);\n    }\n    toString() {\n        return unionToString(this.name, this.fields);\n    }\n    GetHashCode() {\n        const hashes = this.fields.map((x) => structuralHash(x));\n        hashes.splice(0, 0, numberHash(this.tag));\n        return combineHashCodes(hashes);\n    }\n    Equals(other) {\n        if (this === other) {\n            return true;\n        }\n        else if (!sameConstructor(this, other)) {\n            return false;\n        }\n        else if (this.tag === other.tag) {\n            return equalArrays(this.fields, other.fields);\n        }\n        else {\n            return false;\n        }\n    }\n    CompareTo(other) {\n        if (this === other) {\n            return 0;\n        }\n        else if (!sameConstructor(this, other)) {\n            return -1;\n        }\n        else if (this.tag === other.tag) {\n            return compareArrays(this.fields, other.fields);\n        }\n        else {\n            return this.tag < other.tag ? -1 : 1;\n        }\n    }\n}\nfunction recordToJSON(self) {\n    const o = {};\n    const keys = Object.keys(self);\n    for (let i = 0; i < keys.length; i++) {\n        o[keys[i]] = self[keys[i]];\n    }\n    return o;\n}\nfunction recordToString(self) {\n    return \"{ \" + Object.entries(self).map(([k, v]) => k + \" = \" + toString(v)).join(\"\\n  \") + \" }\";\n}\nfunction recordGetHashCode(self) {\n    const hashes = Object.values(self).map((v) => structuralHash(v));\n    return combineHashCodes(hashes);\n}\nfunction recordEquals(self, other) {\n    if (self === other) {\n        return true;\n    }\n    else if (!sameConstructor(self, other)) {\n        return false;\n    }\n    else {\n        const thisNames = Object.keys(self);\n        for (let i = 0; i < thisNames.length; i++) {\n            if (!equals(self[thisNames[i]], other[thisNames[i]])) {\n                return false;\n            }\n        }\n        return true;\n    }\n}\nfunction recordCompareTo(self, other) {\n    if (self === other) {\n        return 0;\n    }\n    else if (!sameConstructor(self, other)) {\n        return -1;\n    }\n    else {\n        const thisNames = Object.keys(self);\n        for (let i = 0; i < thisNames.length; i++) {\n            const result = compare(self[thisNames[i]], other[thisNames[i]]);\n            if (result !== 0) {\n                return result;\n            }\n        }\n        return 0;\n    }\n}\nexport class Record {\n    toJSON() { return recordToJSON(this); }\n    toString() { return recordToString(this); }\n    GetHashCode() { return recordGetHashCode(this); }\n    Equals(other) { return recordEquals(this, other); }\n    CompareTo(other) { return recordCompareTo(this, other); }\n}\nexport class FSharpRef {\n    get contents() {\n        return this.getter();\n    }\n    set contents(v) {\n        this.setter(v);\n    }\n    constructor(contentsOrGetter, setter) {\n        if (typeof setter === \"function\") {\n            this.getter = contentsOrGetter;\n            this.setter = setter;\n        }\n        else {\n            this.getter = () => contentsOrGetter;\n            this.setter = (v) => { contentsOrGetter = v; };\n        }\n    }\n}\n// EXCEPTIONS\n// Exception is intentionally not derived from Error, for performance reasons (see #2160)\nexport class Exception {\n    constructor(message) {\n        this.message = message;\n    }\n}\nexport function isException(x) {\n    return x instanceof Exception || x instanceof Error;\n}\nexport function isPromise(x) {\n    return x instanceof Promise;\n}\nexport function ensureErrorOrException(e) {\n    // Exceptionally admitting promises as errors for compatibility with React.suspense (see #3298)\n    return (isException(e) || isPromise(e)) ? e : new Error(String(e));\n}\nexport class FSharpException extends Exception {\n    toJSON() { return recordToJSON(this); }\n    toString() { return recordToString(this); }\n    GetHashCode() { return recordGetHashCode(this); }\n    Equals(other) { return recordEquals(this, other); }\n    CompareTo(other) { return recordCompareTo(this, other); }\n}\nexport class MatchFailureException extends FSharpException {\n    constructor(arg1, arg2, arg3) {\n        super();\n        this.arg1 = arg1;\n        this.arg2 = arg2 | 0;\n        this.arg3 = arg3 | 0;\n        this.message = \"The match cases were incomplete\";\n    }\n}\nexport class Attribute {\n}\n","/**\n * DateTimeOffset functions.\n *\n * Note: Date instances are always DateObjects in local\n * timezone (because JS dates are all kinds of messed up).\n * A local date returns UTC epoch when `.getTime()` is called.\n *\n * Basically; invariant: date.getTime() always return UTC time.\n */\nimport { toInt64, toFloat64 } from \"./BigInt.js\";\nimport { compareDates, dateOffset, padWithZeros } from \"./Util.js\";\nexport function kind(value) {\n    return value.kind || 0;\n}\nexport function unixEpochMillisecondsToTicks(ms, offset) {\n    return toInt64(((BigInt(ms) + 62135596800000n) + BigInt(offset)) * 10000n);\n}\nexport function ticksToUnixEpochMilliseconds(ticks) {\n    return Number(((BigInt(ticks) / 10000n) - 62135596800000n));\n}\nexport function dateOffsetToString(offset) {\n    const isMinus = offset < 0;\n    offset = Math.abs(offset);\n    const hours = ~~(offset / 3600000);\n    const minutes = (offset % 3600000) / 60000;\n    return (isMinus ? \"-\" : \"+\") +\n        padWithZeros(hours, 2) + \":\" +\n        padWithZeros(minutes, 2);\n}\nexport function dateToHalfUTCString(date, half) {\n    const str = date.toISOString();\n    return half === \"first\"\n        ? str.substring(0, str.indexOf(\"T\"))\n        : str.substring(str.indexOf(\"T\") + 1, str.length - 1);\n}\nfunction dateToISOString(d, utc) {\n    if (utc) {\n        return d.toISOString();\n    }\n    else {\n        // JS Date is always local\n        const printOffset = d.kind == null ? true : d.kind === 2 /* DateKind.Local */;\n        return padWithZeros(d.getFullYear(), 4) + \"-\" +\n            padWithZeros(d.getMonth() + 1, 2) + \"-\" +\n            padWithZeros(d.getDate(), 2) + \"T\" +\n            padWithZeros(d.getHours(), 2) + \":\" +\n            padWithZeros(d.getMinutes(), 2) + \":\" +\n            padWithZeros(d.getSeconds(), 2) + \".\" +\n            padWithZeros(d.getMilliseconds(), 3) +\n            (printOffset ? dateOffsetToString(d.getTimezoneOffset() * -60000) : \"\");\n    }\n}\nfunction dateToISOStringWithOffset(dateWithOffset, offset) {\n    const str = dateWithOffset.toISOString();\n    return str.substring(0, str.length - 1) + dateOffsetToString(offset);\n}\nfunction dateToStringWithCustomFormat(date, format, utc) {\n    return format.replace(/(\\w)\\1*/g, (match) => {\n        let rep = Number.NaN;\n        switch (match.substring(0, 1)) {\n            case \"y\":\n                const y = utc ? date.getUTCFullYear() : date.getFullYear();\n                rep = match.length < 4 ? y % 100 : y;\n                break;\n            case \"M\":\n                rep = (utc ? date.getUTCMonth() : date.getMonth()) + 1;\n                break;\n            case \"d\":\n                rep = utc ? date.getUTCDate() : date.getDate();\n                break;\n            case \"H\":\n                rep = utc ? date.getUTCHours() : date.getHours();\n                break;\n            case \"h\":\n                const h = utc ? date.getUTCHours() : date.getHours();\n                rep = h > 12 ? h % 12 : h;\n                break;\n            case \"m\":\n                rep = utc ? date.getUTCMinutes() : date.getMinutes();\n                break;\n            case \"s\":\n                rep = utc ? date.getUTCSeconds() : date.getSeconds();\n                break;\n            case \"f\":\n                rep = utc ? date.getUTCMilliseconds() : date.getMilliseconds();\n                break;\n        }\n        if (Number.isNaN(rep)) {\n            return match;\n        }\n        else {\n            return padWithZeros(rep, match.length);\n        }\n    });\n}\nfunction dateToStringWithOffset(date, format) {\n    const d = new Date(date.getTime() + (date.offset ?? 0));\n    if (typeof format !== \"string\") {\n        return d.toISOString().replace(/\\.\\d+/, \"\").replace(/[A-Z]|\\.\\d+/g, \" \") + dateOffsetToString((date.offset ?? 0));\n    }\n    else if (format.length === 1) {\n        switch (format) {\n            case \"D\":\n            case \"d\": return dateToHalfUTCString(d, \"first\");\n            case \"T\":\n            case \"t\": return dateToHalfUTCString(d, \"second\");\n            case \"O\":\n            case \"o\": return dateToISOStringWithOffset(d, (date.offset ?? 0));\n            default: throw new Error(\"Unrecognized Date print format\");\n        }\n    }\n    else {\n        return dateToStringWithCustomFormat(d, format, true);\n    }\n}\nfunction dateToStringWithKind(date, format) {\n    const utc = date.kind === 1 /* DateKind.UTC */;\n    if (typeof format !== \"string\") {\n        return utc ? date.toUTCString() : date.toLocaleString();\n    }\n    else if (format.length === 1) {\n        switch (format) {\n            case \"D\":\n            case \"d\":\n                return utc ? dateToHalfUTCString(date, \"first\") : date.toLocaleDateString();\n            case \"T\":\n            case \"t\":\n                return utc ? dateToHalfUTCString(date, \"second\") : date.toLocaleTimeString();\n            case \"O\":\n            case \"o\":\n                return dateToISOString(date, utc);\n            default:\n                throw new Error(\"Unrecognized Date print format\");\n        }\n    }\n    else {\n        return dateToStringWithCustomFormat(date, format, utc);\n    }\n}\nexport function toString(date, format, _provider) {\n    return date.offset != null\n        ? dateToStringWithOffset(date, format)\n        : dateToStringWithKind(date, format);\n}\nexport function DateTime(value, kind) {\n    const d = new Date(value);\n    d.kind = (kind == null ? 0 /* DateKind.Unspecified */ : kind) | 0;\n    return d;\n}\nexport function fromTicks(ticks, kind) {\n    kind = kind != null ? kind : 2 /* DateKind.Local */; // better default than Unspecified\n    let date = DateTime(ticksToUnixEpochMilliseconds(ticks), kind);\n    // Ticks are local to offset (in this case, either UTC or Local/Unknown).\n    // If kind is anything but UTC, that means that the tick number was not\n    // in utc, thus getTime() cannot return UTC, and needs to be shifted.\n    if (kind !== 1 /* DateKind.UTC */) {\n        date = DateTime(date.getTime() - dateOffset(date), kind);\n    }\n    return date;\n}\nexport function fromDateTimeOffset(date, kind) {\n    switch (kind) {\n        case 1 /* DateKind.UTC */: return DateTime(date.getTime(), 1 /* DateKind.UTC */);\n        case 2 /* DateKind.Local */: return DateTime(date.getTime(), 2 /* DateKind.Local */);\n        default:\n            const d = DateTime(date.getTime() + (date.offset ?? 0), kind);\n            return DateTime(d.getTime() - dateOffset(d), kind);\n    }\n}\nexport function getTicks(date) {\n    return unixEpochMillisecondsToTicks(date.getTime(), dateOffset(date));\n}\nexport function minValue() {\n    // This is \"0001-01-01T00:00:00.000Z\", actual JS min value is -8640000000000000\n    return DateTime(-62135596800000, 0 /* DateKind.Unspecified */);\n}\nexport function maxValue() {\n    // This is \"9999-12-31T23:59:59.999Z\", actual JS max value is 8640000000000000\n    return DateTime(253402300799999, 0 /* DateKind.Unspecified */);\n}\nexport function parseRaw(input) {\n    function fail() {\n        throw new Error(`The string is not a valid Date: ${input}`);\n    }\n    if (input == null || input.trim() === \"\") {\n        fail();\n    }\n    // ISO dates without TZ are parsed as UTC. Adding time without TZ keeps them local.\n    if (input.length === 10 && input[4] === \"-\" && input[7] === \"-\") {\n        input += \"T00:00:00\";\n    }\n    let date = new Date(input);\n    let offset = null;\n    if (isNaN(date.getTime())) {\n        // Try to check strings JS Date cannot parse (see #1045, #1422)\n        // tslint:disable-next-line:max-line-length\n        const m = /^\\s*(\\d+[^\\w\\s:]\\d+[^\\w\\s:]\\d+)?\\s*(\\d+:\\d+(?::\\d+(?:\\.\\d+)?)?)?\\s*([AaPp][Mm])?\\s*(Z|[+-]([01]?\\d):?([0-5]?\\d)?)?\\s*$/.exec(input);\n        if (m != null) {\n            let baseDate;\n            let timeInSeconds = 0;\n            if (m[2] != null) {\n                const timeParts = m[2].split(\":\");\n                timeInSeconds =\n                    parseInt(timeParts[0], 10) * 3600 +\n                        parseInt(timeParts[1] || \"0\", 10) * 60 +\n                        parseFloat(timeParts[2] || \"0\");\n                if (m[3] != null && m[3].toUpperCase() === \"PM\") {\n                    timeInSeconds += 720;\n                }\n            }\n            if (m[4] != null) { // There's an offset, parse as UTC\n                if (m[1] != null) {\n                    baseDate = new Date(m[1] + \" UTC\");\n                }\n                else {\n                    const d = new Date();\n                    baseDate = new Date(d.getUTCFullYear() + \"/\" + (d.getUTCMonth() + 1) + \"/\" + d.getUTCDate());\n                }\n                if (m[4] === \"Z\") {\n                    offset = \"Z\";\n                }\n                else {\n                    let offsetInMinutes = parseInt(m[5], 10) * 60 + parseInt(m[6] || \"0\", 10);\n                    if (m[4][0] === \"-\") {\n                        offsetInMinutes *= -1;\n                    }\n                    offset = offsetInMinutes;\n                    timeInSeconds -= offsetInMinutes * 60;\n                }\n            }\n            else {\n                if (m[1] != null) {\n                    baseDate = new Date(m[1]);\n                }\n                else {\n                    const d = new Date();\n                    baseDate = new Date(d.getFullYear() + \"/\" + (d.getMonth() + 1) + \"/\" + d.getDate());\n                }\n            }\n            date = new Date(baseDate.getTime() + timeInSeconds * 1000);\n            // correct for daylight savings time\n            date = new Date(date.getTime() + (date.getTimezoneOffset() - baseDate.getTimezoneOffset()) * 60000);\n        }\n        else {\n            fail();\n        }\n        // Check again the date is valid after transformations, see #2229\n        if (isNaN(date.getTime())) {\n            fail();\n        }\n    }\n    return [date, offset];\n}\nexport function parse(str, detectUTC = false) {\n    const [date, offset] = parseRaw(str);\n    // .NET always parses DateTime as Local if there's offset info (even \"Z\")\n    // Newtonsoft.Json uses UTC if the offset is \"Z\"\n    const kind = offset != null\n        ? (detectUTC && offset === \"Z\" ? 1 /* DateKind.UTC */ : 2 /* DateKind.Local */)\n        : 0 /* DateKind.Unspecified */;\n    return DateTime(date.getTime(), kind);\n}\nexport function tryParse(v, defValue) {\n    try {\n        defValue.contents = parse(v);\n        return true;\n    }\n    catch (_err) {\n        return false;\n    }\n}\nexport function create(year, month, day, h = 0, m = 0, s = 0, ms = 0, kind) {\n    const date = kind === 1 /* DateKind.UTC */\n        ? new Date(Date.UTC(year, month - 1, day, h, m, s, ms))\n        : new Date(year, month - 1, day, h, m, s, ms);\n    if (year <= 99) {\n        if (kind === 1 /* DateKind.UTC */) {\n            date.setUTCFullYear(year, month - 1, day);\n        }\n        else {\n            date.setFullYear(year, month - 1, day);\n        }\n    }\n    const dateValue = date.getTime();\n    if (isNaN(dateValue)) {\n        throw new Error(\"The parameters describe an unrepresentable Date.\");\n    }\n    return DateTime(dateValue, kind);\n}\nexport function now() {\n    return DateTime(Date.now(), 2 /* DateKind.Local */);\n}\nexport function utcNow() {\n    return DateTime(Date.now(), 1 /* DateKind.UTC */);\n}\nexport function today() {\n    return date(now());\n}\nexport function isLeapYear(year) {\n    return year % 4 === 0 && year % 100 !== 0 || year % 400 === 0;\n}\nexport function daysInMonth(year, month) {\n    return month === 2\n        ? (isLeapYear(year) ? 29 : 28)\n        : (month >= 8 ? (month % 2 === 0 ? 31 : 30) : (month % 2 === 0 ? 30 : 31));\n}\nexport function toUniversalTime(date) {\n    return date.kind === 1 /* DateKind.UTC */ ? date : DateTime(date.getTime(), 1 /* DateKind.UTC */);\n}\nexport function toLocalTime(date) {\n    return date.kind === 2 /* DateKind.Local */ ? date : DateTime(date.getTime(), 2 /* DateKind.Local */);\n}\nexport function specifyKind(d, kind) {\n    return create(year(d), month(d), day(d), hour(d), minute(d), second(d), millisecond(d), kind);\n}\nexport function timeOfDay(d) {\n    return hour(d) * 3600000\n        + minute(d) * 60000\n        + second(d) * 1000\n        + millisecond(d);\n}\nexport function date(d) {\n    return create(year(d), month(d), day(d), 0, 0, 0, 0, d.kind);\n}\nexport function day(d) {\n    return d.kind === 1 /* DateKind.UTC */ ? d.getUTCDate() : d.getDate();\n}\nexport function hour(d) {\n    return d.kind === 1 /* DateKind.UTC */ ? d.getUTCHours() : d.getHours();\n}\nexport function millisecond(d) {\n    return d.kind === 1 /* DateKind.UTC */ ? d.getUTCMilliseconds() : d.getMilliseconds();\n}\nexport function minute(d) {\n    return d.kind === 1 /* DateKind.UTC */ ? d.getUTCMinutes() : d.getMinutes();\n}\nexport function month(d) {\n    return (d.kind === 1 /* DateKind.UTC */ ? d.getUTCMonth() : d.getMonth()) + 1;\n}\nexport function second(d) {\n    return d.kind === 1 /* DateKind.UTC */ ? d.getUTCSeconds() : d.getSeconds();\n}\nexport function year(d) {\n    return d.kind === 1 /* DateKind.UTC */ ? d.getUTCFullYear() : d.getFullYear();\n}\nexport function dayOfWeek(d) {\n    return d.kind === 1 /* DateKind.UTC */ ? d.getUTCDay() : d.getDay();\n}\nexport function dayOfYear(d) {\n    const _year = year(d);\n    const _month = month(d);\n    let _day = day(d);\n    for (let i = 1; i < _month; i++) {\n        _day += daysInMonth(_year, i);\n    }\n    return _day;\n}\nexport function add(d, ts) {\n    const newDate = DateTime(d.getTime() + ts, d.kind);\n    if (d.kind === 2 /* DateKind.Local */) {\n        const oldTzOffset = d.getTimezoneOffset();\n        const newTzOffset = newDate.getTimezoneOffset();\n        return oldTzOffset !== newTzOffset\n            ? DateTime(newDate.getTime() + (newTzOffset - oldTzOffset) * 60000, d.kind)\n            : newDate;\n    }\n    else {\n        return newDate;\n    }\n}\nexport function addDays(d, v) {\n    return add(d, v * 86400000);\n}\nexport function addHours(d, v) {\n    return add(d, v * 3600000);\n}\nexport function addMinutes(d, v) {\n    return add(d, v * 60000);\n}\nexport function addSeconds(d, v) {\n    return add(d, v * 1000);\n}\nexport function addMilliseconds(d, v) {\n    return add(d, v);\n}\nexport function addTicks(d, v) {\n    return add(d, toFloat64(v / 10000n));\n}\nexport function addYears(d, v) {\n    const newMonth = month(d);\n    const newYear = year(d) + v;\n    const _daysInMonth = daysInMonth(newYear, newMonth);\n    const newDay = Math.min(_daysInMonth, day(d));\n    return create(newYear, newMonth, newDay, hour(d), minute(d), second(d), millisecond(d), d.kind);\n}\nexport function addMonths(d, v) {\n    let newMonth = month(d) + v;\n    let newMonth_ = 0;\n    let yearOffset = 0;\n    if (newMonth > 12) {\n        newMonth_ = newMonth % 12;\n        yearOffset = Math.floor(newMonth / 12);\n        newMonth = newMonth_;\n    }\n    else if (newMonth < 1) {\n        newMonth_ = 12 + newMonth % 12;\n        yearOffset = Math.floor(newMonth / 12) + (newMonth_ === 12 ? -1 : 0);\n        newMonth = newMonth_;\n    }\n    const newYear = year(d) + yearOffset;\n    const _daysInMonth = daysInMonth(newYear, newMonth);\n    const newDay = Math.min(_daysInMonth, day(d));\n    return create(newYear, newMonth, newDay, hour(d), minute(d), second(d), millisecond(d), d.kind);\n}\nexport function subtract(d, that) {\n    return typeof that === \"number\"\n        ? add(d, -that)\n        : d.getTime() - that.getTime();\n}\nexport function toLongDateString(d) {\n    return d.toDateString();\n}\nexport function toShortDateString(d) {\n    return d.toLocaleDateString();\n}\nexport function toLongTimeString(d) {\n    return d.toLocaleTimeString();\n}\nexport function toShortTimeString(d) {\n    return d.toLocaleTimeString().replace(/:\\d\\d(?!:)/, \"\");\n}\nexport function equals(d1, d2) {\n    return d1.getTime() === d2.getTime();\n}\nexport const compare = compareDates;\nexport const compareTo = compareDates;\nexport function op_Addition(x, y) {\n    return add(x, y);\n}\nexport function op_Subtraction(x, y) {\n    return subtract(x, y);\n}\nexport function isDaylightSavingTime(x) {\n    const jan = new Date(x.getFullYear(), 0, 1);\n    const jul = new Date(x.getFullYear(), 6, 1);\n    return isDST(jan.getTimezoneOffset(), jul.getTimezoneOffset(), x.getTimezoneOffset());\n}\nfunction isDST(janOffset, julOffset, tOffset) {\n    return Math.min(janOffset, julOffset) === tOffset;\n}\nexport default DateTime;\n","export const symbol = Symbol(\"numeric\");\nexport function isNumeric(x) {\n    return typeof x === \"number\" || typeof x === \"bigint\" || x?.[symbol];\n}\nexport function compare(x, y) {\n    if (typeof x === \"number\") {\n        return x < y ? -1 : (x > y ? 1 : 0);\n    }\n    else if (typeof x === \"bigint\") {\n        return x < y ? -1 : (x > y ? 1 : 0);\n    }\n    else {\n        return x.CompareTo(y);\n    }\n}\nexport function multiply(x, y) {\n    if (typeof x === \"number\") {\n        return x * y;\n    }\n    else if (typeof x === \"bigint\") {\n        return x * BigInt(y);\n    }\n    else {\n        return x[symbol]().multiply(y);\n    }\n}\nexport function toFixed(x, dp) {\n    if (typeof x === \"number\") {\n        return x.toFixed(dp);\n    }\n    else if (typeof x === \"bigint\") {\n        return x;\n    }\n    else {\n        return x[symbol]().toFixed(dp);\n    }\n}\nexport function toPrecision(x, sd) {\n    if (typeof x === \"number\") {\n        return x.toPrecision(sd);\n    }\n    else if (typeof x === \"bigint\") {\n        return x;\n    }\n    else {\n        return x[symbol]().toPrecision(sd);\n    }\n}\nexport function toExponential(x, dp) {\n    if (typeof x === \"number\") {\n        return x.toExponential(dp);\n    }\n    else if (typeof x === \"bigint\") {\n        return x;\n    }\n    else {\n        return x[symbol]().toExponential(dp);\n    }\n}\nexport function toHex(x) {\n    if (typeof x === \"number\") {\n        return (Number(x) >>> 0).toString(16);\n    }\n    else if (typeof x === \"bigint\") {\n        // TODO: properly handle other bit sizes\n        return BigInt.asUintN(64, x).toString(16);\n    }\n    else {\n        return x[symbol]().toHex();\n    }\n}\n","export function create(pattern, options = 0) {\n    // Supported RegexOptions\n    // * IgnoreCase:  0x0001\n    // * Multiline:   0x0002\n    // * Compiled:    0x0008 (ignored)\n    // * Singleline:  0x0010\n    // * ECMAScript:  0x0100 (ignored)\n    if ((options & ~(1 ^ 2 ^ 8 ^ 16 ^ 256)) !== 0) {\n        throw new Error(\"RegexOptions only supports: IgnoreCase, Multiline, Compiled, Singleline and ECMAScript\");\n    }\n    // Set always global and unicode flags for compatibility with dotnet, see #2925\n    let flags = \"gu\";\n    flags += options & 1 ? \"i\" : \"\"; // 0x0001 RegexOptions.IgnoreCase\n    flags += options & 2 ? \"m\" : \"\";\n    flags += options & 16 ? \"s\" : \"\";\n    return new RegExp(pattern, flags);\n}\n// From http://stackoverflow.com/questions/3446170/escape-string-for-use-in-javascript-regex\nexport function escape(str) {\n    return str.replace(/[\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|]/g, \"\\\\$&\");\n}\nexport function unescape(str) {\n    return str.replace(/\\\\([\\-\\[\\]\\/\\{\\}\\(\\)\\*\\+\\?\\.\\\\\\^\\$\\|])/g, \"$1\");\n}\nexport function isMatch(reg, input, startAt = 0) {\n    reg.lastIndex = startAt;\n    return reg.test(input);\n}\nexport function match(reg, input, startAt = 0) {\n    reg.lastIndex = startAt;\n    return reg.exec(input);\n}\nexport function matches(reg, input, startAt = 0) {\n    if (input == null) {\n        throw new Error(\"Input cannot ve null\");\n    }\n    if (!reg.global) {\n        throw new Error(\"Non-global RegExp\"); // Prevent infinite loop\n    }\n    reg.lastIndex = startAt;\n    const matches = [];\n    let m;\n    let lastMatchIndex = -1;\n    // tslint:disable-next-line:no-conditional-assignment\n    while ((m = reg.exec(input)) != null) {\n        // It can happen even global regex get stuck, see #2845\n        if (m.index === lastMatchIndex) {\n            reg.lastIndex++;\n        }\n        else {\n            lastMatchIndex = m.index;\n            matches.push(m);\n        }\n    }\n    return matches;\n}\nexport function options(reg) {\n    let options = 256; // ECMAScript\n    options |= reg.ignoreCase ? 1 : 0;\n    options |= reg.multiline ? 2 : 0;\n    return options;\n}\nexport function replace(reg, input, replacement, limit, offset = 0) {\n    function replacer() {\n        let res = arguments[0];\n        if (limit) {\n            limit--;\n            const match = [];\n            const len = arguments.length;\n            // arguments: https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/replace#specifying_a_function_as_a_parameter\n            // * match: matched substring\n            // * p1, p2, ...: nth capture group string\n            // * offset: offset of matched substring\n            // * string: whole string examined\n            // * groups: named capturing groups\n            //           ONLY if regex contains a named capture group AND browser supports named groups\n            // -> last element can be groups OR input string\n            // -> check if last element is string\n            const withGroups = typeof arguments[len - 1] !== \"string\";\n            let pLast = withGroups ? len - 3 : len - 2;\n            for (let i = 0; i < pLast; i++) {\n                match.push(arguments[i]);\n            }\n            match.index = arguments[pLast++];\n            match.input = arguments[pLast++];\n            if (withGroups) {\n                match.groups = arguments[pLast];\n            }\n            res = replacement(match);\n        }\n        return res;\n    }\n    if (typeof reg === \"string\") {\n        const tmp = reg;\n        reg = create(input, limit ?? 0);\n        input = tmp;\n        limit = undefined;\n    }\n    if (typeof replacement === \"function\") {\n        limit = limit == null ? -1 : limit;\n        return input.substring(0, offset) + input.substring(offset).replace(reg, replacer);\n    }\n    else {\n        replacement =\n            replacement\n                // $0 doesn't work with JS regex, see #1155\n                .replace(/\\$0/g, (_s) => \"$&\")\n                // named groups in replacement are `${name}` in .Net, but `$<name>` in JS (in regex: groups are `(?<name>...)` in both)\n                .replace(/\\${([^}]+)}/g, \"\\$<$1>\");\n        if (limit != null) {\n            let m;\n            const sub1 = input.substring(offset);\n            const _matches = matches(reg, sub1);\n            const sub2 = matches.length > limit ? (m = _matches[limit - 1], sub1.substring(0, m.index + m[0].length)) : sub1;\n            return input.substring(0, offset) + sub2.replace(reg, replacement)\n                + input.substring(offset + sub2.length);\n        }\n        else {\n            return input.replace(reg, replacement);\n        }\n    }\n}\nexport function split(reg, input, limit, offset = 0) {\n    if (typeof reg === \"string\") {\n        const tmp = reg;\n        reg = create(input, limit ?? 0);\n        input = tmp;\n        limit = undefined;\n    }\n    input = input.substring(offset);\n    return input.split(reg, limit);\n}\n","import { toString as dateToString } from \"./Date.js\";\nimport { compare as numericCompare, isNumeric, multiply, toExponential, toFixed, toHex, toPrecision } from \"./Numeric.js\";\nimport { escape } from \"./RegExp.js\";\nimport { toString } from \"./Types.js\";\nconst fsFormatRegExp = /(^|[^%])%([0+\\- ]*)(\\*|\\d+)?(?:\\.(\\d+))?(\\w)/g;\nconst interpolateRegExp = /(?:(^|[^%])%([0+\\- ]*)(\\d+)?(?:\\.(\\d+))?(\\w))?%P\\(\\)/g;\nconst formatRegExp = /\\{(\\d+)(,-?\\d+)?(?:\\:([a-zA-Z])(\\d{0,2})|\\:(.+?))?\\}/g;\nfunction isLessThan(x, y) {\n    return numericCompare(x, y) < 0;\n}\nfunction cmp(x, y, ic) {\n    function isIgnoreCase(i) {\n        return i === true ||\n            i === 1 /* StringComparison.CurrentCultureIgnoreCase */ ||\n            i === 3 /* StringComparison.InvariantCultureIgnoreCase */ ||\n            i === 5 /* StringComparison.OrdinalIgnoreCase */;\n    }\n    function isOrdinal(i) {\n        return i === 4 /* StringComparison.Ordinal */ ||\n            i === 5 /* StringComparison.OrdinalIgnoreCase */;\n    }\n    if (x == null) {\n        return y == null ? 0 : -1;\n    }\n    if (y == null) {\n        return 1;\n    } // everything is bigger than null\n    if (isOrdinal(ic)) {\n        if (isIgnoreCase(ic)) {\n            x = x.toLowerCase();\n            y = y.toLowerCase();\n        }\n        return (x === y) ? 0 : (x < y ? -1 : 1);\n    }\n    else {\n        if (isIgnoreCase(ic)) {\n            x = x.toLocaleLowerCase();\n            y = y.toLocaleLowerCase();\n        }\n        return x.localeCompare(y);\n    }\n}\nexport function compare(...args) {\n    switch (args.length) {\n        case 2: return cmp(args[0], args[1], false);\n        case 3: return cmp(args[0], args[1], args[2]);\n        case 4: return cmp(args[0], args[1], args[2] === true);\n        case 5: return cmp(args[0].substr(args[1], args[4]), args[2].substr(args[3], args[4]), false);\n        case 6: return cmp(args[0].substr(args[1], args[4]), args[2].substr(args[3], args[4]), args[5]);\n        case 7: return cmp(args[0].substr(args[1], args[4]), args[2].substr(args[3], args[4]), args[5] === true);\n        default: throw new Error(\"String.compare: Unsupported number of parameters\");\n    }\n}\nexport function compareOrdinal(x, y) {\n    return cmp(x, y, 4 /* StringComparison.Ordinal */);\n}\nexport function compareTo(x, y) {\n    return cmp(x, y, 0 /* StringComparison.CurrentCulture */);\n}\nexport function startsWith(str, pattern, ic) {\n    if (str.length >= pattern.length) {\n        return cmp(str.substr(0, pattern.length), pattern, ic) === 0;\n    }\n    return false;\n}\nexport function indexOfAny(str, anyOf, ...args) {\n    if (str == null || str === \"\") {\n        return -1;\n    }\n    const startIndex = (args.length > 0) ? args[0] : 0;\n    if (startIndex < 0) {\n        throw new Error(\"Start index cannot be negative\");\n    }\n    const length = (args.length > 1) ? args[1] : str.length - startIndex;\n    if (length < 0) {\n        throw new Error(\"Length cannot be negative\");\n    }\n    if (startIndex + length > str.length) {\n        throw new Error(\"Invalid startIndex and length\");\n    }\n    str = str.substring(startIndex, startIndex + length);\n    for (const c of anyOf) {\n        const index = str.indexOf(c);\n        if (index > -1) {\n            return index + startIndex;\n        }\n    }\n    return -1;\n}\nexport function printf(input) {\n    return {\n        input,\n        cont: fsFormat(input),\n    };\n}\nexport function interpolate(str, values) {\n    let valIdx = 0;\n    let strIdx = 0;\n    let result = \"\";\n    interpolateRegExp.lastIndex = 0;\n    let match = interpolateRegExp.exec(str);\n    while (match) {\n        // The first group corresponds to the no-escape char (^|[^%]), the actual pattern starts in the next char\n        // Note: we don't use negative lookbehind because some browsers don't support it yet\n        const matchIndex = match.index + (match[1] || \"\").length;\n        result += str.substring(strIdx, matchIndex).replace(/%%/g, \"%\");\n        const [, , flags, padLength, precision, format] = match;\n        // Save interpolateRegExp.lastIndex before running formatReplacement because the values\n        // may also involve interpolation and make use of interpolateRegExp (see #3078)\n        strIdx = interpolateRegExp.lastIndex;\n        result += formatReplacement(values[valIdx++], flags, padLength, precision, format);\n        // Move interpolateRegExp.lastIndex one char behind to make sure we match the no-escape char next time\n        interpolateRegExp.lastIndex = strIdx - 1;\n        match = interpolateRegExp.exec(str);\n    }\n    result += str.substring(strIdx).replace(/%%/g, \"%\");\n    return result;\n}\nfunction continuePrint(cont, arg) {\n    return typeof arg === \"string\" ? cont(arg) : arg.cont(cont);\n}\nexport function toConsole(arg) {\n    // Don't remove the lambda here, see #1357\n    return continuePrint((x) => console.log(x), arg);\n}\nexport function toConsoleError(arg) {\n    return continuePrint((x) => console.error(x), arg);\n}\nexport function toText(arg) {\n    return continuePrint((x) => x, arg);\n}\nexport function toFail(arg) {\n    return continuePrint((x) => {\n        throw new Error(x);\n    }, arg);\n}\nfunction formatReplacement(rep, flags, padLength, precision, format) {\n    let sign = \"\";\n    flags = flags || \"\";\n    format = format || \"\";\n    if (isNumeric(rep)) {\n        if (format.toLowerCase() !== \"x\") {\n            if (isLessThan(rep, 0)) {\n                rep = multiply(rep, -1);\n                sign = \"-\";\n            }\n            else {\n                if (flags.indexOf(\" \") >= 0) {\n                    sign = \" \";\n                }\n                else if (flags.indexOf(\"+\") >= 0) {\n                    sign = \"+\";\n                }\n            }\n        }\n        precision = precision == null ? null : parseInt(precision, 10);\n        switch (format) {\n            case \"f\":\n            case \"F\":\n                precision = precision != null ? precision : 6;\n                rep = toFixed(rep, precision);\n                break;\n            case \"g\":\n            case \"G\":\n                rep = precision != null ? toPrecision(rep, precision) : toPrecision(rep);\n                break;\n            case \"e\":\n            case \"E\":\n                rep = precision != null ? toExponential(rep, precision) : toExponential(rep);\n                break;\n            case \"x\":\n                rep = toHex(rep);\n                break;\n            case \"X\":\n                rep = toHex(rep).toUpperCase();\n                break;\n            default: // AOid\n                rep = String(rep);\n                break;\n        }\n    }\n    else if (rep instanceof Date) {\n        rep = dateToString(rep);\n    }\n    else {\n        rep = toString(rep);\n    }\n    padLength = typeof padLength === \"number\" ? padLength : parseInt(padLength, 10);\n    if (!isNaN(padLength)) {\n        const zeroFlag = flags.indexOf(\"0\") >= 0; // Use '0' for left padding\n        const minusFlag = flags.indexOf(\"-\") >= 0; // Right padding\n        const ch = minusFlag || !zeroFlag ? \" \" : \"0\";\n        if (ch === \"0\") {\n            rep = pad(rep, padLength - sign.length, ch, minusFlag);\n            rep = sign + rep;\n        }\n        else {\n            rep = pad(sign + rep, padLength, ch, minusFlag);\n        }\n    }\n    else {\n        rep = sign + rep;\n    }\n    return rep;\n}\nfunction createPrinter(cont, _strParts, _matches, _result = \"\", padArg = -1) {\n    return (...args) => {\n        // Make copies of the values passed by reference because the function can be used multiple times\n        let result = _result;\n        const strParts = _strParts.slice();\n        const matches = _matches.slice();\n        for (const arg of args) {\n            const [, , flags, _padLength, precision, format] = matches[0];\n            let padLength = _padLength;\n            if (padArg >= 0) {\n                padLength = padArg;\n                padArg = -1;\n            }\n            else if (padLength === \"*\") {\n                if (arg < 0) {\n                    throw new Error(\"Non-negative number required\");\n                }\n                padArg = arg;\n                continue;\n            }\n            result += strParts[0];\n            result += formatReplacement(arg, flags, padLength, precision, format);\n            strParts.splice(0, 1);\n            matches.splice(0, 1);\n        }\n        if (matches.length === 0) {\n            result += strParts[0];\n            return cont(result);\n        }\n        else {\n            return createPrinter(cont, strParts, matches, result, padArg);\n        }\n    };\n}\nexport function fsFormat(str) {\n    return (cont) => {\n        fsFormatRegExp.lastIndex = 0;\n        const strParts = [];\n        const matches = [];\n        let strIdx = 0;\n        let match = fsFormatRegExp.exec(str);\n        while (match) {\n            // The first group corresponds to the no-escape char (^|[^%]), the actual pattern starts in the next char\n            // Note: we don't use negative lookbehind because some browsers don't support it yet\n            const matchIndex = match.index + (match[1] || \"\").length;\n            strParts.push(str.substring(strIdx, matchIndex).replace(/%%/g, \"%\"));\n            matches.push(match);\n            strIdx = fsFormatRegExp.lastIndex;\n            // Likewise we need to move fsFormatRegExp.lastIndex one char behind to make sure we match the no-escape char next time\n            fsFormatRegExp.lastIndex -= 1;\n            match = fsFormatRegExp.exec(str);\n        }\n        if (strParts.length === 0) {\n            return cont(str.replace(/%%/g, \"%\"));\n        }\n        else {\n            strParts.push(str.substring(strIdx).replace(/%%/g, \"%\"));\n            return createPrinter(cont, strParts, matches);\n        }\n    };\n}\nexport function format(str, ...args) {\n    let str2;\n    if (typeof str === \"object\") {\n        // Called with culture info\n        str2 = String(args[0]);\n        args.shift();\n    }\n    else {\n        str2 = str;\n    }\n    return str2.replace(formatRegExp, (_, idx, padLength, format, precision, pattern) => {\n        if (idx < 0 || idx >= args.length) {\n            throw new Error(\"Index must be greater or equal to zero and less than the arguments' length.\");\n        }\n        let rep = args[idx];\n        if (isNumeric(rep)) {\n            precision = precision == null ? null : parseInt(precision, 10);\n            switch (format) {\n                case \"f\":\n                case \"F\":\n                    precision = precision != null ? precision : 2;\n                    rep = toFixed(rep, precision);\n                    break;\n                case \"g\":\n                case \"G\":\n                    rep = precision != null ? toPrecision(rep, precision) : toPrecision(rep);\n                    break;\n                case \"e\":\n                case \"E\":\n                    rep = precision != null ? toExponential(rep, precision) : toExponential(rep);\n                    break;\n                case \"p\":\n                case \"P\":\n                    precision = precision != null ? precision : 2;\n                    rep = toFixed(multiply(rep, 100), precision) + \" %\";\n                    break;\n                case \"d\":\n                case \"D\":\n                    rep = precision != null ? padLeft(String(rep), precision, \"0\") : String(rep);\n                    break;\n                case \"x\":\n                case \"X\":\n                    rep = precision != null ? padLeft(toHex(rep), precision, \"0\") : toHex(rep);\n                    if (format === \"X\") {\n                        rep = rep.toUpperCase();\n                    }\n                    break;\n                default:\n                    if (pattern) {\n                        let sign = \"\";\n                        rep = pattern.replace(/([0#,]+)(\\.[0#]+)?/, (_, intPart, decimalPart) => {\n                            if (isLessThan(rep, 0)) {\n                                rep = multiply(rep, -1);\n                                sign = \"-\";\n                            }\n                            decimalPart = decimalPart == null ? \"\" : decimalPart.substring(1);\n                            rep = toFixed(rep, Math.max(decimalPart.length, 0));\n                            let [repInt, repDecimal] = rep.split(\".\");\n                            repDecimal || (repDecimal = \"\");\n                            const leftZeroes = intPart.replace(/,/g, \"\").replace(/^#+/, \"\").length;\n                            repInt = padLeft(repInt, leftZeroes, \"0\");\n                            const rightZeros = decimalPart.replace(/#+$/, \"\").length;\n                            if (rightZeros > repDecimal.length) {\n                                repDecimal = padRight(repDecimal, rightZeros, \"0\");\n                            }\n                            else if (rightZeros < repDecimal.length) {\n                                repDecimal = repDecimal.substring(0, rightZeros) + repDecimal.substring(rightZeros).replace(/0+$/, \"\");\n                            }\n                            // Thousands separator\n                            if (intPart.indexOf(\",\") > 0) {\n                                const i = repInt.length % 3;\n                                const thousandGroups = Math.floor(repInt.length / 3);\n                                let thousands = i > 0 ? repInt.substr(0, i) + (thousandGroups > 0 ? \",\" : \"\") : \"\";\n                                for (let j = 0; j < thousandGroups; j++) {\n                                    thousands += repInt.substr(i + j * 3, 3) + (j < thousandGroups - 1 ? \",\" : \"\");\n                                }\n                                repInt = thousands;\n                            }\n                            return repDecimal.length > 0 ? repInt + \".\" + repDecimal : repInt;\n                        });\n                        rep = sign + rep;\n                    }\n            }\n        }\n        else if (rep instanceof Date) {\n            rep = dateToString(rep, pattern || format);\n        }\n        else {\n            rep = toString(rep);\n        }\n        padLength = parseInt((padLength || \" \").substring(1), 10);\n        if (!isNaN(padLength)) {\n            rep = pad(String(rep), Math.abs(padLength), \" \", padLength < 0);\n        }\n        return rep;\n    });\n}\nexport function endsWith(str, search) {\n    const idx = str.lastIndexOf(search);\n    return idx >= 0 && idx === str.length - search.length;\n}\nexport function initialize(n, f) {\n    if (n < 0) {\n        throw new Error(\"String length must be non-negative\");\n    }\n    const xs = new Array(n);\n    for (let i = 0; i < n; i++) {\n        xs[i] = f(i);\n    }\n    return xs.join(\"\");\n}\nexport function insert(str, startIndex, value) {\n    if (startIndex < 0 || startIndex > str.length) {\n        throw new Error(\"startIndex is negative or greater than the length of this instance.\");\n    }\n    return str.substring(0, startIndex) + value + str.substring(startIndex);\n}\nexport function isNullOrEmpty(str) {\n    return typeof str !== \"string\" || str.length === 0;\n}\nexport function isNullOrWhiteSpace(str) {\n    return typeof str !== \"string\" || /^\\s*$/.test(str);\n}\nexport function concat(...xs) {\n    return xs.map((x) => String(x)).join(\"\");\n}\nexport function join(delimiter, xs) {\n    if (Array.isArray(xs)) {\n        return xs.join(delimiter);\n    }\n    else {\n        return Array.from(xs).join(delimiter);\n    }\n}\nexport function joinWithIndices(delimiter, xs, startIndex, count) {\n    const endIndexPlusOne = startIndex + count;\n    if (endIndexPlusOne > xs.length) {\n        throw new Error(\"Index and count must refer to a location within the buffer.\");\n    }\n    return xs.slice(startIndex, endIndexPlusOne).join(delimiter);\n}\nfunction notSupported(name) {\n    throw new Error(\"The environment doesn't support '\" + name + \"', please use a polyfill.\");\n}\nexport function toBase64String(inArray) {\n    let str = \"\";\n    for (let i = 0; i < inArray.length; i++) {\n        str += String.fromCharCode(inArray[i]);\n    }\n    return typeof btoa === \"function\" ? btoa(str) : notSupported(\"btoa\");\n}\nexport function fromBase64String(b64Encoded) {\n    const binary = typeof atob === \"function\" ? atob(b64Encoded) : notSupported(\"atob\");\n    const bytes = new Uint8Array(binary.length);\n    for (let i = 0; i < binary.length; i++) {\n        bytes[i] = binary.charCodeAt(i);\n    }\n    return bytes;\n}\nfunction pad(str, len, ch, isRight) {\n    ch = ch || \" \";\n    len = len - str.length;\n    for (let i = 0; i < len; i++) {\n        str = isRight ? str + ch : ch + str;\n    }\n    return str;\n}\nexport function padLeft(str, len, ch) {\n    return pad(str, len, ch);\n}\nexport function padRight(str, len, ch) {\n    return pad(str, len, ch, true);\n}\nexport function remove(str, startIndex, count) {\n    if (startIndex >= str.length) {\n        throw new Error(\"startIndex must be less than length of string\");\n    }\n    if (typeof count === \"number\" && (startIndex + count) > str.length) {\n        throw new Error(\"Index and count must refer to a location within the string.\");\n    }\n    return str.slice(0, startIndex) + (typeof count === \"number\" ? str.substr(startIndex + count) : \"\");\n}\nexport function replace(str, search, replace) {\n    return str.replace(new RegExp(escape(search), \"g\"), replace);\n}\nexport function replicate(n, x) {\n    return initialize(n, () => x);\n}\nexport function getCharAtIndex(input, index) {\n    if (index < 0 || index >= input.length) {\n        throw new Error(\"Index was outside the bounds of the array.\");\n    }\n    return input[index];\n}\nexport function split(str, splitters, count, options) {\n    count = typeof count === \"number\" ? count : undefined;\n    options = typeof options === \"number\" ? options : 0;\n    if (count && count < 0) {\n        throw new Error(\"Count cannot be less than zero\");\n    }\n    if (count === 0) {\n        return [];\n    }\n    const removeEmpty = (options & 1) === 1;\n    const trim = (options & 2) === 2;\n    splitters = splitters || [];\n    splitters = splitters.filter(x => x).map(escape);\n    splitters = splitters.length > 0 ? splitters : [\"\\\\s\"];\n    const splits = [];\n    const reg = new RegExp(splitters.join(\"|\"), \"g\");\n    let findSplits = true;\n    let i = 0;\n    do {\n        const match = reg.exec(str);\n        if (match === null) {\n            const candidate = trim ? str.substring(i).trim() : str.substring(i);\n            if (!removeEmpty || candidate.length > 0) {\n                splits.push(candidate);\n            }\n            findSplits = false;\n        }\n        else {\n            const candidate = trim ? str.substring(i, match.index).trim() : str.substring(i, match.index);\n            if (!removeEmpty || candidate.length > 0) {\n                if (count != null && splits.length + 1 === count) {\n                    splits.push(trim ? str.substring(i).trim() : str.substring(i));\n                    findSplits = false;\n                }\n                else {\n                    splits.push(candidate);\n                }\n            }\n            i = reg.lastIndex;\n        }\n    } while (findSplits);\n    return splits;\n}\nexport function trim(str, ...chars) {\n    if (chars.length === 0) {\n        return str.trim();\n    }\n    const pattern = \"[\" + escape(chars.join(\"\")) + \"]+\";\n    return str.replace(new RegExp(\"^\" + pattern), \"\").replace(new RegExp(pattern + \"$\"), \"\");\n}\nexport function trimStart(str, ...chars) {\n    return chars.length === 0\n        ? str.trimStart()\n        : str.replace(new RegExp(\"^[\" + escape(chars.join(\"\")) + \"]+\"), \"\");\n}\nexport function trimEnd(str, ...chars) {\n    return chars.length === 0\n        ? str.trimEnd()\n        : str.replace(new RegExp(\"[\" + escape(chars.join(\"\")) + \"]+$\"), \"\");\n}\nexport function filter(pred, x) {\n    return x.split(\"\").filter((c) => pred(c)).join(\"\");\n}\nexport function substring(str, startIndex, length) {\n    if ((startIndex + (length || 0) > str.length)) {\n        throw new Error(\"Invalid startIndex and/or length\");\n    }\n    return length != null ? str.substr(startIndex, length) : str.substr(startIndex);\n}\nexport function fmt(strs, ...args) {\n    return ({ strs, args });\n}\nexport function fmtWith(fmts) {\n    return (strs, ...args) => ({ strs, args, fmts });\n}\nexport function getFormat(s) {\n    return s.fmts\n        ? s.strs.reduce((acc, newPart, index) => acc + `{${String(index - 1) + s.fmts[index - 1]}}` + newPart)\n        : s.strs.reduce((acc, newPart, index) => acc + `{${index - 1}}` + newPart);\n}\n","import { structuralHash, equals, compare } from \"./Util.js\";\n// Using a class here for better compatibility with TS files importing Some\nexport class Some {\n    constructor(value) {\n        this.value = value;\n    }\n    toJSON() {\n        return this.value;\n    }\n    // Don't add \"Some\" for consistency with erased options\n    toString() {\n        return String(this.value);\n    }\n    GetHashCode() {\n        return structuralHash(this.value);\n    }\n    Equals(other) {\n        if (other == null) {\n            return false;\n        }\n        else {\n            return equals(this.value, other instanceof Some ? other.value : other);\n        }\n    }\n    CompareTo(other) {\n        if (other == null) {\n            return 1;\n        }\n        else {\n            return compare(this.value, other instanceof Some ? other.value : other);\n        }\n    }\n}\nexport function value(x) {\n    if (x == null) {\n        throw new Error(\"Option has no value\");\n    }\n    else {\n        return x instanceof Some ? x.value : x;\n    }\n}\nexport function unwrap(opt) {\n    return opt instanceof Some ? opt.value : opt;\n}\nexport function some(x) {\n    return x == null || x instanceof Some ? new Some(x) : x;\n}\nexport function ofNullable(x) {\n    // This will fail with unit probably, an alternative would be:\n    // return x === null ? undefined : (x === undefined ? new Some(x) : x);\n    return x == null ? undefined : x;\n}\nexport function toNullable(x) {\n    return x == null ? null : value(x);\n}\nexport function flatten(x) {\n    return x == null ? undefined : value(x);\n}\nexport function toArray(opt) {\n    return (opt == null) ? [] : [value(opt)];\n}\nexport function defaultArg(opt, defaultValue) {\n    return (opt != null) ? value(opt) : defaultValue;\n}\nexport function defaultArgWith(opt, defThunk) {\n    return (opt != null) ? value(opt) : defThunk();\n}\nexport function orElse(opt, ifNone) {\n    return opt == null ? ifNone : opt;\n}\nexport function orElseWith(opt, ifNoneThunk) {\n    return opt == null ? ifNoneThunk() : opt;\n}\nexport function filter(predicate, opt) {\n    return (opt != null) ? (predicate(value(opt)) ? opt : undefined) : opt;\n}\nexport function map(mapping, opt) {\n    return (opt != null) ? some(mapping(value(opt))) : undefined;\n}\nexport function map2(mapping, opt1, opt2) {\n    return (opt1 != null && opt2 != null) ? mapping(value(opt1), value(opt2)) : undefined;\n}\nexport function map3(mapping, opt1, opt2, opt3) {\n    return (opt1 != null && opt2 != null && opt3 != null) ? mapping(value(opt1), value(opt2), value(opt3)) : undefined;\n}\nexport function bind(binder, opt) {\n    return opt != null ? binder(value(opt)) : undefined;\n}\nexport function tryOp(op, arg) {\n    try {\n        return some(op(arg));\n    }\n    catch {\n        return undefined;\n    }\n}\n","export function Helpers_allocateArrayFromCons(cons, len) {\n    if ((typeof cons) === \"function\") {\n        return new cons(len);\n    }\n    else {\n        return new Array(len);\n    }\n}\n","import { FSharpRef } from \"./Types.js\";\nexport function tryParse(str, defValue) {\n    // TODO: test if value is valid and in range\n    if (str != null && /\\S/.test(str)) {\n        const v = +str.replace(\"_\", \"\");\n        if (!Number.isNaN(v)) {\n            defValue.contents = v;\n            return true;\n        }\n    }\n    return false;\n}\nexport function parse(str) {\n    const defValue = new FSharpRef(0);\n    if (tryParse(str, defValue)) {\n        return defValue.contents;\n    }\n    else {\n        throw new Error(\"Input string was not in a correct format.\");\n    }\n}\n// JS Number.isFinite function evals false for NaN\nexport function isPositiveInfinity(x) {\n    return x === Number.POSITIVE_INFINITY;\n}\nexport function isNegativeInfinity(x) {\n    return x === Number.NEGATIVE_INFINITY;\n}\nexport function isInfinity(x) {\n    return x === Number.POSITIVE_INFINITY || x === Number.NEGATIVE_INFINITY;\n}\nexport function max(x, y) {\n    return x > y ? x : y;\n}\nexport function min(x, y) {\n    return x < y ? x : y;\n}\nexport function maxMagnitude(x, y) {\n    return Math.abs(x) > Math.abs(y) ? x : y;\n}\nexport function minMagnitude(x, y) {\n    return Math.abs(x) < Math.abs(y) ? x : y;\n}\nexport function clamp(x, min, max) {\n    return x < min ? min : x > max ? max : x;\n}\n","import { Helpers_allocateArrayFromCons } from \"./Native.js\";\nimport { value as value_2, map as map_1, defaultArg, some } from \"./Option.js\";\nimport { min as min_1, max as max_1 } from \"./Double.js\";\nimport { equals as equals_1, disposeSafe, getEnumerator, copyToArray, defaultOf } from \"./Util.js\";\nimport { SR_indexOutOfBounds } from \"./Global.js\";\nfunction indexNotFound() {\n    throw new Error(\"An index satisfying the predicate was not found in the collection.\");\n}\nfunction differentLengths() {\n    throw new Error(\"Arrays had different lengths\");\n}\nexport function append(array1, array2, cons) {\n    const len1 = array1.length | 0;\n    const len2 = array2.length | 0;\n    const newArray = Helpers_allocateArrayFromCons(cons, len1 + len2);\n    for (let i = 0; i <= (len1 - 1); i++) {\n        newArray[i] = array1[i];\n    }\n    for (let i_1 = 0; i_1 <= (len2 - 1); i_1++) {\n        newArray[i_1 + len1] = array2[i_1];\n    }\n    return newArray;\n}\nexport function filter(predicate, array) {\n    return array.filter(predicate);\n}\nexport function fill(target, targetIndex, count, value) {\n    const start = targetIndex | 0;\n    return target.fill(value, start, (start + count));\n}\nexport function getSubArray(array, start, count) {\n    const start_1 = start | 0;\n    return array.slice(start_1, (start_1 + count));\n}\nexport function last(array) {\n    if (array.length === 0) {\n        throw new Error(\"The input array was empty\\\\nParameter name: array\");\n    }\n    return array[array.length - 1];\n}\nexport function tryLast(array) {\n    if (array.length === 0) {\n        return void 0;\n    }\n    else {\n        return some(array[array.length - 1]);\n    }\n}\nexport function mapIndexed(f, source, cons) {\n    const len = source.length | 0;\n    const target = Helpers_allocateArrayFromCons(cons, len);\n    for (let i = 0; i <= (len - 1); i++) {\n        target[i] = f(i, source[i]);\n    }\n    return target;\n}\nexport function map(f, source, cons) {\n    const len = source.length | 0;\n    const target = Helpers_allocateArrayFromCons(cons, len);\n    for (let i = 0; i <= (len - 1); i++) {\n        target[i] = f(source[i]);\n    }\n    return target;\n}\nexport function mapIndexed2(f, source1, source2, cons) {\n    if (source1.length !== source2.length) {\n        throw new Error(\"Arrays had different lengths\");\n    }\n    const result = Helpers_allocateArrayFromCons(cons, source1.length);\n    for (let i = 0; i <= (source1.length - 1); i++) {\n        result[i] = f(i, source1[i], source2[i]);\n    }\n    return result;\n}\nexport function map2(f, source1, source2, cons) {\n    if (source1.length !== source2.length) {\n        throw new Error(\"Arrays had different lengths\");\n    }\n    const result = Helpers_allocateArrayFromCons(cons, source1.length);\n    for (let i = 0; i <= (source1.length - 1); i++) {\n        result[i] = f(source1[i], source2[i]);\n    }\n    return result;\n}\nexport function mapIndexed3(f, source1, source2, source3, cons) {\n    if ((source1.length !== source2.length) ? true : (source2.length !== source3.length)) {\n        throw new Error(\"Arrays had different lengths\");\n    }\n    const result = Helpers_allocateArrayFromCons(cons, source1.length);\n    for (let i = 0; i <= (source1.length - 1); i++) {\n        result[i] = f(i, source1[i], source2[i], source3[i]);\n    }\n    return result;\n}\nexport function map3(f, source1, source2, source3, cons) {\n    if ((source1.length !== source2.length) ? true : (source2.length !== source3.length)) {\n        throw new Error(\"Arrays had different lengths\");\n    }\n    const result = Helpers_allocateArrayFromCons(cons, source1.length);\n    for (let i = 0; i <= (source1.length - 1); i++) {\n        result[i] = f(source1[i], source2[i], source3[i]);\n    }\n    return result;\n}\nexport function mapFold(mapping, state, array, cons) {\n    const matchValue = array.length | 0;\n    if (matchValue === 0) {\n        return [[], state];\n    }\n    else {\n        let acc = state;\n        const res = Helpers_allocateArrayFromCons(cons, matchValue);\n        for (let i = 0; i <= (array.length - 1); i++) {\n            const patternInput = mapping(acc, array[i]);\n            res[i] = patternInput[0];\n            acc = patternInput[1];\n        }\n        return [res, acc];\n    }\n}\nexport function mapFoldBack(mapping, array, state, cons) {\n    const matchValue = array.length | 0;\n    if (matchValue === 0) {\n        return [[], state];\n    }\n    else {\n        let acc = state;\n        const res = Helpers_allocateArrayFromCons(cons, matchValue);\n        for (let i = array.length - 1; i >= 0; i--) {\n            const patternInput = mapping(array[i], acc);\n            res[i] = patternInput[0];\n            acc = patternInput[1];\n        }\n        return [res, acc];\n    }\n}\nexport function indexed(source) {\n    const len = source.length | 0;\n    const target = new Array(len);\n    for (let i = 0; i <= (len - 1); i++) {\n        target[i] = [i, source[i]];\n    }\n    return target;\n}\nexport function truncate(count, array) {\n    const count_1 = max_1(0, count) | 0;\n    return array.slice(0, (0 + count_1));\n}\nexport function concat(arrays, cons) {\n    const arrays_1 = Array.isArray(arrays) ? arrays : (Array.from(arrays));\n    const matchValue = arrays_1.length | 0;\n    switch (matchValue) {\n        case 0:\n            return Helpers_allocateArrayFromCons(cons, 0);\n        case 1:\n            return arrays_1[0];\n        default: {\n            let totalIdx = 0;\n            let totalLength = 0;\n            for (let idx = 0; idx <= (arrays_1.length - 1); idx++) {\n                const arr_1 = arrays_1[idx];\n                totalLength = ((totalLength + arr_1.length) | 0);\n            }\n            const result = Helpers_allocateArrayFromCons(cons, totalLength);\n            for (let idx_1 = 0; idx_1 <= (arrays_1.length - 1); idx_1++) {\n                const arr_2 = arrays_1[idx_1];\n                for (let j = 0; j <= (arr_2.length - 1); j++) {\n                    result[totalIdx] = arr_2[j];\n                    totalIdx = ((totalIdx + 1) | 0);\n                }\n            }\n            return result;\n        }\n    }\n}\nexport function collect(mapping, array, cons) {\n    return concat(map(mapping, array, defaultOf()), cons);\n}\nexport function where(predicate, array) {\n    return array.filter(predicate);\n}\nexport function indexOf(array, item_1, start, count, eq) {\n    const start_1 = defaultArg(start, 0) | 0;\n    const end$0027 = defaultArg(map_1((c) => (start_1 + c), count), array.length) | 0;\n    const loop = (i_mut) => {\n        loop: while (true) {\n            const i = i_mut;\n            if (i >= end$0027) {\n                return -1;\n            }\n            else if (eq.Equals(item_1, array[i])) {\n                return i | 0;\n            }\n            else {\n                i_mut = (i + 1);\n                continue loop;\n            }\n            break;\n        }\n    };\n    return loop(start_1) | 0;\n}\nexport function contains(value, array, eq) {\n    return indexOf(array, value, void 0, void 0, eq) >= 0;\n}\nexport function empty(cons) {\n    return Helpers_allocateArrayFromCons(cons, 0);\n}\nexport function singleton(value, cons) {\n    const ar = Helpers_allocateArrayFromCons(cons, 1);\n    ar[0] = value;\n    return ar;\n}\nexport function initialize(count, initializer, cons) {\n    if (count < 0) {\n        throw new Error(\"The input must be non-negative\\\\nParameter name: count\");\n    }\n    const result = Helpers_allocateArrayFromCons(cons, count);\n    for (let i = 0; i <= (count - 1); i++) {\n        result[i] = initializer(i);\n    }\n    return result;\n}\nexport function pairwise(array) {\n    if (array.length < 2) {\n        return [];\n    }\n    else {\n        const count = (array.length - 1) | 0;\n        const result = new Array(count);\n        for (let i = 0; i <= (count - 1); i++) {\n            result[i] = [array[i], array[i + 1]];\n        }\n        return result;\n    }\n}\nexport function replicate(count, initial, cons) {\n    if (count < 0) {\n        throw new Error(\"The input must be non-negative\\\\nParameter name: count\");\n    }\n    const result = Helpers_allocateArrayFromCons(cons, count);\n    for (let i = 0; i <= (result.length - 1); i++) {\n        result[i] = initial;\n    }\n    return result;\n}\nexport function copy(array) {\n    return array.slice();\n}\nexport function copyTo(source, sourceIndex, target, targetIndex, count) {\n    copyToArray(source, sourceIndex, target, targetIndex, count);\n}\nexport function reverse(array) {\n    const array_2 = array.slice();\n    return array_2.reverse();\n}\nexport function scan(folder, state, array, cons) {\n    const res = Helpers_allocateArrayFromCons(cons, array.length + 1);\n    res[0] = state;\n    for (let i = 0; i <= (array.length - 1); i++) {\n        res[i + 1] = folder(res[i], array[i]);\n    }\n    return res;\n}\nexport function scanBack(folder, array, state, cons) {\n    const res = Helpers_allocateArrayFromCons(cons, array.length + 1);\n    res[array.length] = state;\n    for (let i = array.length - 1; i >= 0; i--) {\n        res[i] = folder(array[i], res[i + 1]);\n    }\n    return res;\n}\nexport function skip(count, array, cons) {\n    if (count > array.length) {\n        throw new Error(\"count is greater than array length\\\\nParameter name: count\");\n    }\n    if (count === array.length) {\n        return Helpers_allocateArrayFromCons(cons, 0);\n    }\n    else {\n        const count_1 = ((count < 0) ? 0 : count) | 0;\n        return array.slice(count_1);\n    }\n}\nexport function skipWhile(predicate, array, cons) {\n    let count = 0;\n    while ((count < array.length) && predicate(array[count])) {\n        count = ((count + 1) | 0);\n    }\n    if (count === array.length) {\n        return Helpers_allocateArrayFromCons(cons, 0);\n    }\n    else {\n        const count_1 = count | 0;\n        return array.slice(count_1);\n    }\n}\nexport function take(count, array, cons) {\n    if (count < 0) {\n        throw new Error(\"The input must be non-negative\\\\nParameter name: count\");\n    }\n    if (count > array.length) {\n        throw new Error(\"count is greater than array length\\\\nParameter name: count\");\n    }\n    if (count === 0) {\n        return Helpers_allocateArrayFromCons(cons, 0);\n    }\n    else {\n        return array.slice(0, (0 + count));\n    }\n}\nexport function takeWhile(predicate, array, cons) {\n    let count = 0;\n    while ((count < array.length) && predicate(array[count])) {\n        count = ((count + 1) | 0);\n    }\n    if (count === 0) {\n        return Helpers_allocateArrayFromCons(cons, 0);\n    }\n    else {\n        const count_1 = count | 0;\n        return array.slice(0, (0 + count_1));\n    }\n}\nexport function addInPlace(x, array) {\n    array.push(x);\n}\nexport function addRangeInPlace(range, array) {\n    const enumerator = getEnumerator(range);\n    try {\n        while (enumerator[\"System.Collections.IEnumerator.MoveNext\"]()) {\n            addInPlace(enumerator[\"System.Collections.Generic.IEnumerator`1.get_Current\"](), array);\n        }\n    }\n    finally {\n        disposeSafe(enumerator);\n    }\n}\nexport function insertRangeInPlace(index, range, array) {\n    let index_1;\n    let i = index;\n    const enumerator = getEnumerator(range);\n    try {\n        while (enumerator[\"System.Collections.IEnumerator.MoveNext\"]()) {\n            const x = enumerator[\"System.Collections.Generic.IEnumerator`1.get_Current\"]();\n            (index_1 = (i | 0), array.splice(index_1, 0, x));\n            i = ((i + 1) | 0);\n        }\n    }\n    finally {\n        disposeSafe(enumerator);\n    }\n}\nexport function removeInPlace(item_1, array, eq) {\n    const i = indexOf(array, item_1, void 0, void 0, eq) | 0;\n    if (i > -1) {\n        array.splice(i, 1);\n        return true;\n    }\n    else {\n        return false;\n    }\n}\nexport function removeAllInPlace(predicate, array) {\n    const countRemoveAll = (count) => {\n        const i = (array.findIndex(predicate)) | 0;\n        if (i > -1) {\n            array.splice(i, 1);\n            return (countRemoveAll(count) + 1) | 0;\n        }\n        else {\n            return count | 0;\n        }\n    };\n    return countRemoveAll(0) | 0;\n}\nexport function partition(f, source, cons) {\n    const len = source.length | 0;\n    const res1 = Helpers_allocateArrayFromCons(cons, len);\n    const res2 = Helpers_allocateArrayFromCons(cons, len);\n    let iTrue = 0;\n    let iFalse = 0;\n    for (let i = 0; i <= (len - 1); i++) {\n        if (f(source[i])) {\n            res1[iTrue] = source[i];\n            iTrue = ((iTrue + 1) | 0);\n        }\n        else {\n            res2[iFalse] = source[i];\n            iFalse = ((iFalse + 1) | 0);\n        }\n    }\n    return [truncate(iTrue, res1), truncate(iFalse, res2)];\n}\nexport function find(predicate, array) {\n    const matchValue = array.find(predicate);\n    if (matchValue == null) {\n        return indexNotFound();\n    }\n    else {\n        return value_2(matchValue);\n    }\n}\nexport function tryFind(predicate, array) {\n    return array.find(predicate);\n}\nexport function findIndex(predicate, array) {\n    const matchValue = (array.findIndex(predicate)) | 0;\n    if (matchValue > -1) {\n        return matchValue | 0;\n    }\n    else {\n        indexNotFound();\n        return -1;\n    }\n}\nexport function tryFindIndex(predicate, array) {\n    const matchValue = (array.findIndex(predicate)) | 0;\n    if (matchValue > -1) {\n        return matchValue;\n    }\n    else {\n        return void 0;\n    }\n}\nexport function pick(chooser, array) {\n    const loop = (i_mut) => {\n        loop: while (true) {\n            const i = i_mut;\n            if (i >= array.length) {\n                return indexNotFound();\n            }\n            else {\n                const matchValue = chooser(array[i]);\n                if (matchValue != null) {\n                    return value_2(matchValue);\n                }\n                else {\n                    i_mut = (i + 1);\n                    continue loop;\n                }\n            }\n            break;\n        }\n    };\n    return loop(0);\n}\nexport function tryPick(chooser, array) {\n    const loop = (i_mut) => {\n        loop: while (true) {\n            const i = i_mut;\n            if (i >= array.length) {\n                return void 0;\n            }\n            else {\n                const matchValue = chooser(array[i]);\n                if (matchValue == null) {\n                    i_mut = (i + 1);\n                    continue loop;\n                }\n                else {\n                    return matchValue;\n                }\n            }\n            break;\n        }\n    };\n    return loop(0);\n}\nexport function findBack(predicate, array) {\n    const loop = (i_mut) => {\n        loop: while (true) {\n            const i = i_mut;\n            if (i < 0) {\n                return indexNotFound();\n            }\n            else if (predicate(array[i])) {\n                return array[i];\n            }\n            else {\n                i_mut = (i - 1);\n                continue loop;\n            }\n            break;\n        }\n    };\n    return loop(array.length - 1);\n}\nexport function tryFindBack(predicate, array) {\n    const loop = (i_mut) => {\n        loop: while (true) {\n            const i = i_mut;\n            if (i < 0) {\n                return void 0;\n            }\n            else if (predicate(array[i])) {\n                return some(array[i]);\n            }\n            else {\n                i_mut = (i - 1);\n                continue loop;\n            }\n            break;\n        }\n    };\n    return loop(array.length - 1);\n}\nexport function findLastIndex(predicate, array) {\n    const loop = (i_mut) => {\n        loop: while (true) {\n            const i = i_mut;\n            if (i < 0) {\n                return -1;\n            }\n            else if (predicate(array[i])) {\n                return i | 0;\n            }\n            else {\n                i_mut = (i - 1);\n                continue loop;\n            }\n            break;\n        }\n    };\n    return loop(array.length - 1) | 0;\n}\nexport function findIndexBack(predicate, array) {\n    const loop = (i_mut) => {\n        loop: while (true) {\n            const i = i_mut;\n            if (i < 0) {\n                indexNotFound();\n                return -1;\n            }\n            else if (predicate(array[i])) {\n                return i | 0;\n            }\n            else {\n                i_mut = (i - 1);\n                continue loop;\n            }\n            break;\n        }\n    };\n    return loop(array.length - 1) | 0;\n}\nexport function tryFindIndexBack(predicate, array) {\n    const loop = (i_mut) => {\n        loop: while (true) {\n            const i = i_mut;\n            if (i < 0) {\n                return void 0;\n            }\n            else if (predicate(array[i])) {\n                return i;\n            }\n            else {\n                i_mut = (i - 1);\n                continue loop;\n            }\n            break;\n        }\n    };\n    return loop(array.length - 1);\n}\nexport function choose(chooser, array, cons) {\n    const res = [];\n    for (let i = 0; i <= (array.length - 1); i++) {\n        const matchValue = chooser(array[i]);\n        if (matchValue != null) {\n            const y = value_2(matchValue);\n            res.push(y);\n        }\n    }\n    if (equals_1(cons, defaultOf())) {\n        return res;\n    }\n    else {\n        return map((x) => x, res, cons);\n    }\n}\nexport function foldIndexed(folder, state, array) {\n    return array.reduce(((delegateArg, delegateArg_1, delegateArg_2) => folder(delegateArg_2, delegateArg, delegateArg_1)), state);\n}\nexport function fold(folder, state, array) {\n    return array.reduce((folder), state);\n}\nexport function iterate(action, array) {\n    for (let i = 0; i <= (array.length - 1); i++) {\n        action(array[i]);\n    }\n}\nexport function iterateIndexed(action, array) {\n    for (let i = 0; i <= (array.length - 1); i++) {\n        action(i, array[i]);\n    }\n}\nexport function iterate2(action, array1, array2) {\n    if (array1.length !== array2.length) {\n        differentLengths();\n    }\n    for (let i = 0; i <= (array1.length - 1); i++) {\n        action(array1[i], array2[i]);\n    }\n}\nexport function iterateIndexed2(action, array1, array2) {\n    if (array1.length !== array2.length) {\n        differentLengths();\n    }\n    for (let i = 0; i <= (array1.length - 1); i++) {\n        action(i, array1[i], array2[i]);\n    }\n}\nexport function isEmpty(array) {\n    return array.length === 0;\n}\nexport function forAll(predicate, array) {\n    return array.every(predicate);\n}\nexport function permute(f, array) {\n    const size = array.length | 0;\n    const res = array.slice();\n    const checkFlags = new Array(size);\n    iterateIndexed((i, x) => {\n        const j = f(i) | 0;\n        if ((j < 0) ? true : (j >= size)) {\n            throw new Error(\"Not a valid permutation\");\n        }\n        res[j] = x;\n        checkFlags[j] = 1;\n    }, array);\n    if (!(checkFlags.every((y) => (1 === y)))) {\n        throw new Error(\"Not a valid permutation\");\n    }\n    return res;\n}\nexport function setSlice(target, lower, upper, source) {\n    const lower_1 = defaultArg(lower, 0) | 0;\n    const upper_1 = defaultArg(upper, -1) | 0;\n    const length = (((upper_1 >= 0) ? upper_1 : (target.length - 1)) - lower_1) | 0;\n    for (let i = 0; i <= length; i++) {\n        target[i + lower_1] = source[i];\n    }\n}\nexport function sortInPlaceBy(projection, xs, comparer) {\n    xs.sort((x, y) => comparer.Compare(projection(x), projection(y)));\n}\nexport function sortInPlace(xs, comparer) {\n    xs.sort((x, y) => comparer.Compare(x, y));\n}\nexport function sort(xs, comparer) {\n    const xs_1 = xs.slice();\n    xs_1.sort((x, y) => comparer.Compare(x, y));\n    return xs_1;\n}\nexport function sortBy(projection, xs, comparer) {\n    const xs_1 = xs.slice();\n    xs_1.sort((x, y) => comparer.Compare(projection(x), projection(y)));\n    return xs_1;\n}\nexport function sortDescending(xs, comparer) {\n    const xs_1 = xs.slice();\n    xs_1.sort((x, y) => (comparer.Compare(x, y) * -1));\n    return xs_1;\n}\nexport function sortByDescending(projection, xs, comparer) {\n    const xs_1 = xs.slice();\n    xs_1.sort((x, y) => (comparer.Compare(projection(x), projection(y)) * -1));\n    return xs_1;\n}\nexport function sortWith(comparer, xs) {\n    const comparer_1 = comparer;\n    const xs_1 = xs.slice();\n    xs_1.sort(comparer_1);\n    return xs_1;\n}\nexport function allPairs(xs, ys) {\n    const len1 = xs.length | 0;\n    const len2 = ys.length | 0;\n    const res = new Array(len1 * len2);\n    for (let i = 0; i <= (xs.length - 1); i++) {\n        for (let j = 0; j <= (ys.length - 1); j++) {\n            res[(i * len2) + j] = [xs[i], ys[j]];\n        }\n    }\n    return res;\n}\nexport function unfold(generator, state) {\n    const res = [];\n    const loop = (state_1_mut) => {\n        loop: while (true) {\n            const state_1 = state_1_mut;\n            const matchValue = generator(state_1);\n            if (matchValue != null) {\n                const x = value_2(matchValue)[0];\n                const s = value_2(matchValue)[1];\n                res.push(x);\n                state_1_mut = s;\n                continue loop;\n            }\n            break;\n        }\n    };\n    loop(state);\n    return res;\n}\nexport function unzip(array) {\n    const len = array.length | 0;\n    const res1 = new Array(len);\n    const res2 = new Array(len);\n    iterateIndexed((i, tupledArg) => {\n        res1[i] = tupledArg[0];\n        res2[i] = tupledArg[1];\n    }, array);\n    return [res1, res2];\n}\nexport function unzip3(array) {\n    const len = array.length | 0;\n    const res1 = new Array(len);\n    const res2 = new Array(len);\n    const res3 = new Array(len);\n    iterateIndexed((i, tupledArg) => {\n        res1[i] = tupledArg[0];\n        res2[i] = tupledArg[1];\n        res3[i] = tupledArg[2];\n    }, array);\n    return [res1, res2, res3];\n}\nexport function zip(array1, array2) {\n    if (array1.length !== array2.length) {\n        differentLengths();\n    }\n    const result = new Array(array1.length);\n    for (let i = 0; i <= (array1.length - 1); i++) {\n        result[i] = [array1[i], array2[i]];\n    }\n    return result;\n}\nexport function zip3(array1, array2, array3) {\n    if ((array1.length !== array2.length) ? true : (array2.length !== array3.length)) {\n        differentLengths();\n    }\n    const result = new Array(array1.length);\n    for (let i = 0; i <= (array1.length - 1); i++) {\n        result[i] = [array1[i], array2[i], array3[i]];\n    }\n    return result;\n}\nexport function chunkBySize(chunkSize, array) {\n    if (chunkSize < 1) {\n        throw new Error(\"The input must be positive.\\\\nParameter name: size\");\n    }\n    if (array.length === 0) {\n        return [[]];\n    }\n    else {\n        const result = [];\n        for (let x = 0; x <= (~~Math.ceil(array.length / chunkSize) - 1); x++) {\n            let slice;\n            const start_1 = (x * chunkSize) | 0;\n            slice = (array.slice(start_1, (start_1 + chunkSize)));\n            result.push(slice);\n        }\n        return result;\n    }\n}\nexport function splitAt(index, array) {\n    if ((index < 0) ? true : (index > array.length)) {\n        throw new Error((SR_indexOutOfBounds + \"\\\\nParameter name: \") + \"index\");\n    }\n    return [array.slice(0, (0 + index)), array.slice(index)];\n}\nexport function compareWith(comparer, source1, source2) {\n    if (source1 == null) {\n        if (source2 == null) {\n            return 0;\n        }\n        else {\n            return -1;\n        }\n    }\n    else if (source2 == null) {\n        return 1;\n    }\n    else {\n        const len1 = source1.length | 0;\n        const len2 = source2.length | 0;\n        const len = ((len1 < len2) ? len1 : len2) | 0;\n        let i = 0;\n        let res = 0;\n        while ((res === 0) && (i < len)) {\n            res = (comparer(source1[i], source2[i]) | 0);\n            i = ((i + 1) | 0);\n        }\n        if (res !== 0) {\n            return res | 0;\n        }\n        else if (len1 > len2) {\n            return 1;\n        }\n        else if (len1 < len2) {\n            return -1;\n        }\n        else {\n            return 0;\n        }\n    }\n}\nexport function compareTo(comparer, source1, source2) {\n    if (source1 == null) {\n        if (source2 == null) {\n            return 0;\n        }\n        else {\n            return -1;\n        }\n    }\n    else if (source2 == null) {\n        return 1;\n    }\n    else {\n        const len1 = source1.length | 0;\n        const len2 = source2.length | 0;\n        if (len1 > len2) {\n            return 1;\n        }\n        else if (len1 < len2) {\n            return -1;\n        }\n        else {\n            let i = 0;\n            let res = 0;\n            while ((res === 0) && (i < len1)) {\n                res = (comparer(source1[i], source2[i]) | 0);\n                i = ((i + 1) | 0);\n            }\n            return res | 0;\n        }\n    }\n}\nexport function equalsWith(equals, array1, array2) {\n    if (array1 == null) {\n        if (array2 == null) {\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n    else if (array2 == null) {\n        return false;\n    }\n    else {\n        let i = 0;\n        let result = true;\n        const length1 = array1.length | 0;\n        const length2 = array2.length | 0;\n        if (length1 > length2) {\n            return false;\n        }\n        else if (length1 < length2) {\n            return false;\n        }\n        else {\n            while ((i < length1) && result) {\n                result = equals(array1[i], array2[i]);\n                i = ((i + 1) | 0);\n            }\n            return result;\n        }\n    }\n}\nexport function exactlyOne(array) {\n    switch (array.length) {\n        case 1:\n            return array[0];\n        case 0:\n            throw new Error(\"The input sequence was empty\\\\nParameter name: array\");\n        default:\n            throw new Error(\"Input array too long\\\\nParameter name: array\");\n    }\n}\nexport function tryExactlyOne(array) {\n    if (array.length === 1) {\n        return some(array[0]);\n    }\n    else {\n        return void 0;\n    }\n}\nexport function head(array) {\n    if (array.length === 0) {\n        throw new Error(\"The input array was empty\\\\nParameter name: array\");\n    }\n    else {\n        return array[0];\n    }\n}\nexport function tryHead(array) {\n    if (array.length === 0) {\n        return void 0;\n    }\n    else {\n        return some(array[0]);\n    }\n}\nexport function tail(array) {\n    if (array.length === 0) {\n        throw new Error(\"Not enough elements\\\\nParameter name: array\");\n    }\n    return array.slice(1);\n}\nexport function item(index, array) {\n    return array[index];\n}\nexport function tryItem(index, array) {\n    if ((index < 0) ? true : (index >= array.length)) {\n        return void 0;\n    }\n    else {\n        return some(array[index]);\n    }\n}\nexport function foldBackIndexed(folder, array, state) {\n    return array.reduceRight(((delegateArg, delegateArg_1, delegateArg_2) => folder(delegateArg_2, delegateArg_1, delegateArg)), state);\n}\nexport function foldBack(folder, array, state) {\n    return array.reduceRight(((delegateArg, delegateArg_1) => folder(delegateArg_1, delegateArg)), state);\n}\nexport function foldIndexed2(folder, state, array1, array2) {\n    let acc = state;\n    if (array1.length !== array2.length) {\n        throw new Error(\"Arrays have different lengths\");\n    }\n    for (let i = 0; i <= (array1.length - 1); i++) {\n        acc = folder(i, acc, array1[i], array2[i]);\n    }\n    return acc;\n}\nexport function fold2(folder, state, array1, array2) {\n    return foldIndexed2((_arg, acc, x, y) => folder(acc, x, y), state, array1, array2);\n}\nexport function foldBackIndexed2(folder, array1, array2, state) {\n    let acc = state;\n    if (array1.length !== array2.length) {\n        differentLengths();\n    }\n    const size = array1.length | 0;\n    for (let i = 1; i <= size; i++) {\n        acc = folder(i - 1, array1[size - i], array2[size - i], acc);\n    }\n    return acc;\n}\nexport function foldBack2(f, array1, array2, state) {\n    return foldBackIndexed2((_arg, x, y, acc) => f(x, y, acc), array1, array2, state);\n}\nexport function reduce(reduction, array) {\n    if (array.length === 0) {\n        throw new Error(\"The input array was empty\");\n    }\n    const reduction_1 = reduction;\n    return array.reduce(reduction_1);\n}\nexport function reduceBack(reduction, array) {\n    if (array.length === 0) {\n        throw new Error(\"The input array was empty\");\n    }\n    const reduction_1 = reduction;\n    return array.reduceRight(reduction_1);\n}\nexport function forAll2(predicate, array1, array2) {\n    return fold2((acc, x, y) => (acc && predicate(x, y)), true, array1, array2);\n}\nexport function existsOffset(predicate_mut, array_mut, index_mut) {\n    existsOffset: while (true) {\n        const predicate = predicate_mut, array = array_mut, index = index_mut;\n        if (index === array.length) {\n            return false;\n        }\n        else if (predicate(array[index])) {\n            return true;\n        }\n        else {\n            predicate_mut = predicate;\n            array_mut = array;\n            index_mut = (index + 1);\n            continue existsOffset;\n        }\n        break;\n    }\n}\nexport function exists(predicate, array) {\n    return existsOffset(predicate, array, 0);\n}\nexport function existsOffset2(predicate_mut, array1_mut, array2_mut, index_mut) {\n    existsOffset2: while (true) {\n        const predicate = predicate_mut, array1 = array1_mut, array2 = array2_mut, index = index_mut;\n        if (index === array1.length) {\n            return false;\n        }\n        else if (predicate(array1[index], array2[index])) {\n            return true;\n        }\n        else {\n            predicate_mut = predicate;\n            array1_mut = array1;\n            array2_mut = array2;\n            index_mut = (index + 1);\n            continue existsOffset2;\n        }\n        break;\n    }\n}\nexport function exists2(predicate, array1, array2) {\n    if (array1.length !== array2.length) {\n        differentLengths();\n    }\n    return existsOffset2(predicate, array1, array2, 0);\n}\nexport function sum(array, adder) {\n    let acc = adder.GetZero();\n    for (let i = 0; i <= (array.length - 1); i++) {\n        acc = adder.Add(acc, array[i]);\n    }\n    return acc;\n}\nexport function sumBy(projection, array, adder) {\n    let acc = adder.GetZero();\n    for (let i = 0; i <= (array.length - 1); i++) {\n        acc = adder.Add(acc, projection(array[i]));\n    }\n    return acc;\n}\nexport function maxBy(projection, xs, comparer) {\n    return reduce((x, y) => ((comparer.Compare(projection(y), projection(x)) > 0) ? y : x), xs);\n}\nexport function max(xs, comparer) {\n    return reduce((x, y) => ((comparer.Compare(y, x) > 0) ? y : x), xs);\n}\nexport function minBy(projection, xs, comparer) {\n    return reduce((x, y) => ((comparer.Compare(projection(y), projection(x)) > 0) ? x : y), xs);\n}\nexport function min(xs, comparer) {\n    return reduce((x, y) => ((comparer.Compare(y, x) > 0) ? x : y), xs);\n}\nexport function average(array, averager) {\n    if (array.length === 0) {\n        throw new Error(\"The input array was empty\\\\nParameter name: array\");\n    }\n    let total = averager.GetZero();\n    for (let i = 0; i <= (array.length - 1); i++) {\n        total = averager.Add(total, array[i]);\n    }\n    return averager.DivideByInt(total, array.length);\n}\nexport function averageBy(projection, array, averager) {\n    if (array.length === 0) {\n        throw new Error(\"The input array was empty\\\\nParameter name: array\");\n    }\n    let total = averager.GetZero();\n    for (let i = 0; i <= (array.length - 1); i++) {\n        total = averager.Add(total, projection(array[i]));\n    }\n    return averager.DivideByInt(total, array.length);\n}\nexport function windowed(windowSize, source) {\n    if (windowSize <= 0) {\n        throw new Error(\"windowSize must be positive\");\n    }\n    let res;\n    const len = max_1(0, (source.length - windowSize) + 1) | 0;\n    res = (new Array(len));\n    for (let i = windowSize; i <= source.length; i++) {\n        res[i - windowSize] = source.slice(i - windowSize, (i - 1) + 1);\n    }\n    return res;\n}\nexport function splitInto(chunks, array) {\n    if (chunks < 1) {\n        throw new Error(\"The input must be positive.\\\\nParameter name: chunks\");\n    }\n    if (array.length === 0) {\n        return [[]];\n    }\n    else {\n        const result = [];\n        const chunks_1 = min_1(chunks, array.length) | 0;\n        const minChunkSize = ~~(array.length / chunks_1) | 0;\n        const chunksWithExtraItem = (array.length % chunks_1) | 0;\n        for (let i = 0; i <= (chunks_1 - 1); i++) {\n            const chunkSize = ((i < chunksWithExtraItem) ? (minChunkSize + 1) : minChunkSize) | 0;\n            let slice;\n            const start_1 = ((i * minChunkSize) + min_1(chunksWithExtraItem, i)) | 0;\n            slice = (array.slice(start_1, (start_1 + chunkSize)));\n            result.push(slice);\n        }\n        return result;\n    }\n}\nexport function transpose(arrays, cons) {\n    const arrays_1 = Array.isArray(arrays) ? arrays : (Array.from(arrays));\n    const len = arrays_1.length | 0;\n    if (len === 0) {\n        return new Array(0);\n    }\n    else {\n        const firstArray = arrays_1[0];\n        const lenInner = firstArray.length | 0;\n        if (!forAll((a) => (a.length === lenInner), arrays_1)) {\n            differentLengths();\n        }\n        const result = new Array(lenInner);\n        for (let i = 0; i <= (lenInner - 1); i++) {\n            result[i] = Helpers_allocateArrayFromCons(cons, len);\n            for (let j = 0; j <= (len - 1); j++) {\n                result[i][j] = arrays_1[j][i];\n            }\n        }\n        return result;\n    }\n}\nexport function insertAt(index, y, xs, cons) {\n    const len = xs.length | 0;\n    if ((index < 0) ? true : (index > len)) {\n        throw new Error((SR_indexOutOfBounds + \"\\\\nParameter name: \") + \"index\");\n    }\n    const target = Helpers_allocateArrayFromCons(cons, len + 1);\n    for (let i = 0; i <= (index - 1); i++) {\n        target[i] = xs[i];\n    }\n    target[index] = y;\n    for (let i_1 = index; i_1 <= (len - 1); i_1++) {\n        target[i_1 + 1] = xs[i_1];\n    }\n    return target;\n}\nexport function insertManyAt(index, ys, xs, cons) {\n    const len = xs.length | 0;\n    if ((index < 0) ? true : (index > len)) {\n        throw new Error((SR_indexOutOfBounds + \"\\\\nParameter name: \") + \"index\");\n    }\n    const ys_1 = Array.from(ys);\n    const len2 = ys_1.length | 0;\n    const target = Helpers_allocateArrayFromCons(cons, len + len2);\n    for (let i = 0; i <= (index - 1); i++) {\n        target[i] = xs[i];\n    }\n    for (let i_1 = 0; i_1 <= (len2 - 1); i_1++) {\n        target[index + i_1] = ys_1[i_1];\n    }\n    for (let i_2 = index; i_2 <= (len - 1); i_2++) {\n        target[i_2 + len2] = xs[i_2];\n    }\n    return target;\n}\nexport function removeAt(index, xs) {\n    if ((index < 0) ? true : (index >= xs.length)) {\n        throw new Error((SR_indexOutOfBounds + \"\\\\nParameter name: \") + \"index\");\n    }\n    let i = -1;\n    return filter((_arg) => {\n        i = ((i + 1) | 0);\n        return i !== index;\n    }, xs);\n}\nexport function removeManyAt(index, count, xs) {\n    let i = -1;\n    let status = -1;\n    const ys = filter((_arg) => {\n        i = ((i + 1) | 0);\n        if (i === index) {\n            status = 0;\n            return false;\n        }\n        else if (i > index) {\n            if (i < (index + count)) {\n                return false;\n            }\n            else {\n                status = 1;\n                return true;\n            }\n        }\n        else {\n            return true;\n        }\n    }, xs);\n    const status_1 = (((status === 0) && ((i + 1) === (index + count))) ? 1 : status) | 0;\n    if (status_1 < 1) {\n        throw new Error((SR_indexOutOfBounds + \"\\\\nParameter name: \") + ((status_1 < 0) ? \"index\" : \"count\"));\n    }\n    return ys;\n}\nexport function updateAt(index, y, xs, cons) {\n    const len = xs.length | 0;\n    if ((index < 0) ? true : (index >= len)) {\n        throw new Error((SR_indexOutOfBounds + \"\\\\nParameter name: \") + \"index\");\n    }\n    const target = Helpers_allocateArrayFromCons(cons, len);\n    for (let i = 0; i <= (len - 1); i++) {\n        target[i] = ((i === index) ? y : xs[i]);\n    }\n    return target;\n}\n","import { join } from \"./String.js\";\nimport { defaultArg, some, value as value_1 } from \"./Option.js\";\nimport { disposeSafe, isArrayLike, defaultOf, toIterator, getEnumerator, compare, structuralHash, equals } from \"./Util.js\";\nimport { Record } from \"./Types.js\";\nimport { class_type, record_type, option_type } from \"./Reflection.js\";\nimport { SR_inputSequenceTooLong, SR_inputSequenceEmpty, SR_inputMustBeNonNegative, SR_notEnoughElements, SR_differentLengths, SR_keyNotFoundAlt, SR_indexOutOfBounds, SR_inputWasEmpty } from \"./Global.js\";\nimport { transpose as transpose_1, splitInto as splitInto_1, windowed as windowed_1, pairwise as pairwise_1, chunkBySize as chunkBySize_1, map as map_1, permute as permute_1, tryFindIndexBack as tryFindIndexBack_1, tryFindBack as tryFindBack_1, scanBack as scanBack_1, foldBack2 as foldBack2_1, foldBack as foldBack_1, fill } from \"./Array.js\";\nexport class FSharpList extends Record {\n    constructor(head, tail) {\n        super();\n        this.head = head;\n        this.tail = tail;\n    }\n    toString() {\n        const xs = this;\n        return (\"[\" + join(\"; \", xs)) + \"]\";\n    }\n    Equals(other) {\n        const xs = this;\n        if (xs === other) {\n            return true;\n        }\n        else {\n            const loop = (xs_1_mut, ys_1_mut) => {\n                loop: while (true) {\n                    const xs_1 = xs_1_mut, ys_1 = ys_1_mut;\n                    const matchValue = xs_1.tail;\n                    const matchValue_1 = ys_1.tail;\n                    if (matchValue != null) {\n                        if (matchValue_1 != null) {\n                            const xt = value_1(matchValue);\n                            const yt = value_1(matchValue_1);\n                            if (equals(xs_1.head, ys_1.head)) {\n                                xs_1_mut = xt;\n                                ys_1_mut = yt;\n                                continue loop;\n                            }\n                            else {\n                                return false;\n                            }\n                        }\n                        else {\n                            return false;\n                        }\n                    }\n                    else if (matchValue_1 != null) {\n                        return false;\n                    }\n                    else {\n                        return true;\n                    }\n                    break;\n                }\n            };\n            return loop(xs, other);\n        }\n    }\n    GetHashCode() {\n        const xs = this;\n        const loop = (i_mut, h_mut, xs_1_mut) => {\n            loop: while (true) {\n                const i = i_mut, h = h_mut, xs_1 = xs_1_mut;\n                const matchValue = xs_1.tail;\n                if (matchValue != null) {\n                    const t = value_1(matchValue);\n                    if (i > 18) {\n                        return h | 0;\n                    }\n                    else {\n                        i_mut = (i + 1);\n                        h_mut = (((h << 1) + structuralHash(xs_1.head)) + (631 * i));\n                        xs_1_mut = t;\n                        continue loop;\n                    }\n                }\n                else {\n                    return h | 0;\n                }\n                break;\n            }\n        };\n        return loop(0, 0, xs) | 0;\n    }\n    toJSON() {\n        const this$ = this;\n        return Array.from(this$);\n    }\n    CompareTo(other) {\n        const xs = this;\n        const loop = (xs_1_mut, ys_1_mut) => {\n            loop: while (true) {\n                const xs_1 = xs_1_mut, ys_1 = ys_1_mut;\n                const matchValue = xs_1.tail;\n                const matchValue_1 = ys_1.tail;\n                if (matchValue != null) {\n                    if (matchValue_1 != null) {\n                        const xt = value_1(matchValue);\n                        const yt = value_1(matchValue_1);\n                        const c = compare(xs_1.head, ys_1.head) | 0;\n                        if (c === 0) {\n                            xs_1_mut = xt;\n                            ys_1_mut = yt;\n                            continue loop;\n                        }\n                        else {\n                            return c | 0;\n                        }\n                    }\n                    else {\n                        return 1;\n                    }\n                }\n                else if (matchValue_1 != null) {\n                    return -1;\n                }\n                else {\n                    return 0;\n                }\n                break;\n            }\n        };\n        return loop(xs, other) | 0;\n    }\n    GetEnumerator() {\n        const xs = this;\n        return ListEnumerator$1_$ctor_3002E699(xs);\n    }\n    [Symbol.iterator]() {\n        return toIterator(getEnumerator(this));\n    }\n    \"System.Collections.IEnumerable.GetEnumerator\"() {\n        const xs = this;\n        return getEnumerator(xs);\n    }\n}\nexport function FSharpList_$reflection(gen0) {\n    return record_type(\"ListModule.FSharpList\", [gen0], FSharpList, () => [[\"head\", gen0], [\"tail\", option_type(FSharpList_$reflection(gen0))]]);\n}\nexport class ListEnumerator$1 {\n    constructor(xs) {\n        this.xs = xs;\n        this.it = this.xs;\n        this.current = defaultOf();\n    }\n    \"System.Collections.Generic.IEnumerator`1.get_Current\"() {\n        const _ = this;\n        return _.current;\n    }\n    \"System.Collections.IEnumerator.get_Current\"() {\n        const _ = this;\n        return _.current;\n    }\n    \"System.Collections.IEnumerator.MoveNext\"() {\n        const _ = this;\n        const matchValue = _.it.tail;\n        if (matchValue != null) {\n            const t = value_1(matchValue);\n            _.current = _.it.head;\n            _.it = t;\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n    \"System.Collections.IEnumerator.Reset\"() {\n        const _ = this;\n        _.it = _.xs;\n        _.current = defaultOf();\n    }\n    Dispose() {\n    }\n}\nexport function ListEnumerator$1_$reflection(gen0) {\n    return class_type(\"ListModule.ListEnumerator`1\", [gen0], ListEnumerator$1);\n}\nexport function ListEnumerator$1_$ctor_3002E699(xs) {\n    return new ListEnumerator$1(xs);\n}\nexport function FSharpList_get_Empty() {\n    return new FSharpList(defaultOf(), void 0);\n}\nexport function FSharpList_Cons_305B8EAC(x, xs) {\n    return new FSharpList(x, xs);\n}\nexport function FSharpList__get_IsEmpty(xs) {\n    return xs.tail == null;\n}\nexport function FSharpList__get_Length(xs) {\n    const loop = (i_mut, xs_1_mut) => {\n        loop: while (true) {\n            const i = i_mut, xs_1 = xs_1_mut;\n            const matchValue = xs_1.tail;\n            if (matchValue != null) {\n                i_mut = (i + 1);\n                xs_1_mut = value_1(matchValue);\n                continue loop;\n            }\n            else {\n                return i | 0;\n            }\n            break;\n        }\n    };\n    return loop(0, xs) | 0;\n}\nexport function FSharpList__get_Head(xs) {\n    const matchValue = xs.tail;\n    if (matchValue != null) {\n        return xs.head;\n    }\n    else {\n        throw new Error((SR_inputWasEmpty + \"\\\\nParameter name: \") + \"list\");\n    }\n}\nexport function FSharpList__get_Tail(xs) {\n    const matchValue = xs.tail;\n    if (matchValue != null) {\n        return value_1(matchValue);\n    }\n    else {\n        throw new Error((SR_inputWasEmpty + \"\\\\nParameter name: \") + \"list\");\n    }\n}\nexport function FSharpList__get_Item_Z524259A4(xs, index) {\n    const loop = (i_mut, xs_1_mut) => {\n        loop: while (true) {\n            const i = i_mut, xs_1 = xs_1_mut;\n            const matchValue = xs_1.tail;\n            if (matchValue != null) {\n                if (i === index) {\n                    return xs_1.head;\n                }\n                else {\n                    i_mut = (i + 1);\n                    xs_1_mut = value_1(matchValue);\n                    continue loop;\n                }\n            }\n            else {\n                throw new Error((SR_indexOutOfBounds + \"\\\\nParameter name: \") + \"index\");\n            }\n            break;\n        }\n    };\n    return loop(0, xs);\n}\nexport function indexNotFound() {\n    throw new Error(SR_keyNotFoundAlt);\n}\nexport function empty() {\n    return FSharpList_get_Empty();\n}\nexport function cons(x, xs) {\n    return FSharpList_Cons_305B8EAC(x, xs);\n}\nexport function singleton(x) {\n    return FSharpList_Cons_305B8EAC(x, FSharpList_get_Empty());\n}\nexport function isEmpty(xs) {\n    return FSharpList__get_IsEmpty(xs);\n}\nexport function length(xs) {\n    return FSharpList__get_Length(xs);\n}\nexport function head(xs) {\n    return FSharpList__get_Head(xs);\n}\nexport function tryHead(xs) {\n    if (FSharpList__get_IsEmpty(xs)) {\n        return void 0;\n    }\n    else {\n        return some(FSharpList__get_Head(xs));\n    }\n}\nexport function tail(xs) {\n    return FSharpList__get_Tail(xs);\n}\nexport function tryLast(xs_mut) {\n    tryLast: while (true) {\n        const xs = xs_mut;\n        if (FSharpList__get_IsEmpty(xs)) {\n            return void 0;\n        }\n        else {\n            const t = FSharpList__get_Tail(xs);\n            if (FSharpList__get_IsEmpty(t)) {\n                return some(FSharpList__get_Head(xs));\n            }\n            else {\n                xs_mut = t;\n                continue tryLast;\n            }\n        }\n        break;\n    }\n}\nexport function last(xs) {\n    const matchValue = tryLast(xs);\n    if (matchValue == null) {\n        throw new Error(SR_inputWasEmpty);\n    }\n    else {\n        return value_1(matchValue);\n    }\n}\nexport function compareWith(comparer, xs, ys) {\n    const loop = (xs_1_mut, ys_1_mut) => {\n        loop: while (true) {\n            const xs_1 = xs_1_mut, ys_1 = ys_1_mut;\n            const matchValue = FSharpList__get_IsEmpty(xs_1);\n            const matchValue_1 = FSharpList__get_IsEmpty(ys_1);\n            if (matchValue) {\n                if (matchValue_1) {\n                    return 0;\n                }\n                else {\n                    return -1;\n                }\n            }\n            else if (matchValue_1) {\n                return 1;\n            }\n            else {\n                const c = comparer(FSharpList__get_Head(xs_1), FSharpList__get_Head(ys_1)) | 0;\n                if (c === 0) {\n                    xs_1_mut = FSharpList__get_Tail(xs_1);\n                    ys_1_mut = FSharpList__get_Tail(ys_1);\n                    continue loop;\n                }\n                else {\n                    return c | 0;\n                }\n            }\n            break;\n        }\n    };\n    return loop(xs, ys) | 0;\n}\nexport function toArray(xs) {\n    const len = FSharpList__get_Length(xs) | 0;\n    const res = fill(new Array(len), 0, len, null);\n    const loop = (i_mut, xs_1_mut) => {\n        loop: while (true) {\n            const i = i_mut, xs_1 = xs_1_mut;\n            if (!FSharpList__get_IsEmpty(xs_1)) {\n                res[i] = FSharpList__get_Head(xs_1);\n                i_mut = (i + 1);\n                xs_1_mut = FSharpList__get_Tail(xs_1);\n                continue loop;\n            }\n            break;\n        }\n    };\n    loop(0, xs);\n    return res;\n}\nexport function fold(folder, state, xs) {\n    let acc = state;\n    let xs_1 = xs;\n    while (!FSharpList__get_IsEmpty(xs_1)) {\n        acc = folder(acc, head(xs_1));\n        xs_1 = FSharpList__get_Tail(xs_1);\n    }\n    return acc;\n}\nexport function reverse(xs) {\n    return fold((acc, x) => FSharpList_Cons_305B8EAC(x, acc), FSharpList_get_Empty(), xs);\n}\nexport function foldBack(folder, xs, state) {\n    return foldBack_1(folder, toArray(xs), state);\n}\nexport function foldIndexed(folder, state, xs) {\n    const loop = (i_mut, acc_mut, xs_1_mut) => {\n        loop: while (true) {\n            const i = i_mut, acc = acc_mut, xs_1 = xs_1_mut;\n            if (FSharpList__get_IsEmpty(xs_1)) {\n                return acc;\n            }\n            else {\n                i_mut = (i + 1);\n                acc_mut = folder(i, acc, FSharpList__get_Head(xs_1));\n                xs_1_mut = FSharpList__get_Tail(xs_1);\n                continue loop;\n            }\n            break;\n        }\n    };\n    return loop(0, state, xs);\n}\nexport function fold2(folder, state, xs, ys) {\n    let acc = state;\n    let xs_1 = xs;\n    let ys_1 = ys;\n    while (!FSharpList__get_IsEmpty(xs_1) && !FSharpList__get_IsEmpty(ys_1)) {\n        acc = folder(acc, FSharpList__get_Head(xs_1), FSharpList__get_Head(ys_1));\n        xs_1 = FSharpList__get_Tail(xs_1);\n        ys_1 = FSharpList__get_Tail(ys_1);\n    }\n    return acc;\n}\nexport function foldBack2(folder, xs, ys, state) {\n    return foldBack2_1(folder, toArray(xs), toArray(ys), state);\n}\nexport function unfold(gen, state) {\n    const loop = (acc_mut, node_mut) => {\n        let t;\n        loop: while (true) {\n            const acc = acc_mut, node = node_mut;\n            const matchValue = gen(acc);\n            if (matchValue != null) {\n                acc_mut = value_1(matchValue)[1];\n                node_mut = ((t = (new FSharpList(value_1(matchValue)[0], void 0)), (node.tail = t, t)));\n                continue loop;\n            }\n            else {\n                return node;\n            }\n            break;\n        }\n    };\n    const root = FSharpList_get_Empty();\n    const node_1 = loop(state, root);\n    const t_2 = FSharpList_get_Empty();\n    node_1.tail = t_2;\n    return FSharpList__get_Tail(root);\n}\nexport function iterate(action, xs) {\n    fold((unitVar, x) => {\n        action(x);\n    }, void 0, xs);\n}\nexport function iterate2(action, xs, ys) {\n    fold2((unitVar, x, y) => {\n        action(x, y);\n    }, void 0, xs, ys);\n}\nexport function iterateIndexed(action, xs) {\n    fold((i, x) => {\n        action(i, x);\n        return (i + 1) | 0;\n    }, 0, xs);\n}\nexport function iterateIndexed2(action, xs, ys) {\n    fold2((i, x, y) => {\n        action(i, x, y);\n        return (i + 1) | 0;\n    }, 0, xs, ys);\n}\nexport function toSeq(xs) {\n    return xs;\n}\nexport function ofArrayWithTail(xs, tail_1) {\n    let res = tail_1;\n    for (let i = xs.length - 1; i >= 0; i--) {\n        res = FSharpList_Cons_305B8EAC(xs[i], res);\n    }\n    return res;\n}\nexport function ofArray(xs) {\n    return ofArrayWithTail(xs, FSharpList_get_Empty());\n}\nexport function ofSeq(xs) {\n    let xs_3, t;\n    if (isArrayLike(xs)) {\n        return ofArray(xs);\n    }\n    else if (xs instanceof FSharpList) {\n        return xs;\n    }\n    else {\n        const root = FSharpList_get_Empty();\n        let node = root;\n        const enumerator = getEnumerator(xs);\n        try {\n            while (enumerator[\"System.Collections.IEnumerator.MoveNext\"]()) {\n                const x = enumerator[\"System.Collections.Generic.IEnumerator`1.get_Current\"]();\n                node = ((xs_3 = node, (t = (new FSharpList(x, void 0)), (xs_3.tail = t, t))));\n            }\n        }\n        finally {\n            disposeSafe(enumerator);\n        }\n        const xs_5 = node;\n        const t_2 = FSharpList_get_Empty();\n        xs_5.tail = t_2;\n        return FSharpList__get_Tail(root);\n    }\n}\nexport function concat(lists) {\n    const root = FSharpList_get_Empty();\n    let node = root;\n    const action = (xs) => {\n        node = fold((acc, x) => {\n            const t = new FSharpList(x, void 0);\n            acc.tail = t;\n            return t;\n        }, node, xs);\n    };\n    if (isArrayLike(lists)) {\n        const xs_3 = lists;\n        xs_3.forEach(action);\n    }\n    else if (lists instanceof FSharpList) {\n        iterate(action, lists);\n    }\n    else {\n        const enumerator = getEnumerator(lists);\n        try {\n            while (enumerator[\"System.Collections.IEnumerator.MoveNext\"]()) {\n                action(enumerator[\"System.Collections.Generic.IEnumerator`1.get_Current\"]());\n            }\n        }\n        finally {\n            disposeSafe(enumerator);\n        }\n    }\n    const xs_6 = node;\n    const t_2 = FSharpList_get_Empty();\n    xs_6.tail = t_2;\n    return FSharpList__get_Tail(root);\n}\nexport function scan(folder, state, xs) {\n    let xs_4, t_2;\n    const root = FSharpList_get_Empty();\n    let node;\n    const t = new FSharpList(state, void 0);\n    root.tail = t;\n    node = t;\n    let acc = state;\n    let xs_3 = xs;\n    while (!FSharpList__get_IsEmpty(xs_3)) {\n        acc = folder(acc, FSharpList__get_Head(xs_3));\n        node = ((xs_4 = node, (t_2 = (new FSharpList(acc, void 0)), (xs_4.tail = t_2, t_2))));\n        xs_3 = FSharpList__get_Tail(xs_3);\n    }\n    const xs_6 = node;\n    const t_4 = FSharpList_get_Empty();\n    xs_6.tail = t_4;\n    return FSharpList__get_Tail(root);\n}\nexport function scanBack(folder, xs, state) {\n    return ofArray(scanBack_1(folder, toArray(xs), state));\n}\nexport function append(xs, ys) {\n    return fold((acc, x) => FSharpList_Cons_305B8EAC(x, acc), ys, reverse(xs));\n}\nexport function collect(mapping, xs) {\n    let xs_1, t;\n    const root = FSharpList_get_Empty();\n    let node = root;\n    let ys = xs;\n    while (!FSharpList__get_IsEmpty(ys)) {\n        let zs = mapping(FSharpList__get_Head(ys));\n        while (!FSharpList__get_IsEmpty(zs)) {\n            node = ((xs_1 = node, (t = (new FSharpList(FSharpList__get_Head(zs), void 0)), (xs_1.tail = t, t))));\n            zs = FSharpList__get_Tail(zs);\n        }\n        ys = FSharpList__get_Tail(ys);\n    }\n    const xs_3 = node;\n    const t_2 = FSharpList_get_Empty();\n    xs_3.tail = t_2;\n    return FSharpList__get_Tail(root);\n}\nexport function mapIndexed(mapping, xs) {\n    const root = FSharpList_get_Empty();\n    const node = foldIndexed((i, acc, x) => {\n        const t = new FSharpList(mapping(i, x), void 0);\n        acc.tail = t;\n        return t;\n    }, root, xs);\n    const t_2 = FSharpList_get_Empty();\n    node.tail = t_2;\n    return FSharpList__get_Tail(root);\n}\nexport function map(mapping, xs) {\n    const root = FSharpList_get_Empty();\n    const node = fold((acc, x) => {\n        const t = new FSharpList(mapping(x), void 0);\n        acc.tail = t;\n        return t;\n    }, root, xs);\n    const t_2 = FSharpList_get_Empty();\n    node.tail = t_2;\n    return FSharpList__get_Tail(root);\n}\nexport function indexed(xs) {\n    return mapIndexed((i, x) => [i, x], xs);\n}\nexport function map2(mapping, xs, ys) {\n    const root = FSharpList_get_Empty();\n    const node = fold2((acc, x, y) => {\n        const t = new FSharpList(mapping(x, y), void 0);\n        acc.tail = t;\n        return t;\n    }, root, xs, ys);\n    const t_2 = FSharpList_get_Empty();\n    node.tail = t_2;\n    return FSharpList__get_Tail(root);\n}\nexport function mapIndexed2(mapping, xs, ys) {\n    const loop = (i_mut, acc_mut, xs_1_mut, ys_1_mut) => {\n        let t;\n        loop: while (true) {\n            const i = i_mut, acc = acc_mut, xs_1 = xs_1_mut, ys_1 = ys_1_mut;\n            if (FSharpList__get_IsEmpty(xs_1) ? true : FSharpList__get_IsEmpty(ys_1)) {\n                return acc;\n            }\n            else {\n                i_mut = (i + 1);\n                acc_mut = ((t = (new FSharpList(mapping(i, FSharpList__get_Head(xs_1), FSharpList__get_Head(ys_1)), void 0)), (acc.tail = t, t)));\n                xs_1_mut = FSharpList__get_Tail(xs_1);\n                ys_1_mut = FSharpList__get_Tail(ys_1);\n                continue loop;\n            }\n            break;\n        }\n    };\n    const root = FSharpList_get_Empty();\n    const node_1 = loop(0, root, xs, ys);\n    const t_2 = FSharpList_get_Empty();\n    node_1.tail = t_2;\n    return FSharpList__get_Tail(root);\n}\nexport function map3(mapping, xs, ys, zs) {\n    const loop = (acc_mut, xs_1_mut, ys_1_mut, zs_1_mut) => {\n        let t;\n        loop: while (true) {\n            const acc = acc_mut, xs_1 = xs_1_mut, ys_1 = ys_1_mut, zs_1 = zs_1_mut;\n            if ((FSharpList__get_IsEmpty(xs_1) ? true : FSharpList__get_IsEmpty(ys_1)) ? true : FSharpList__get_IsEmpty(zs_1)) {\n                return acc;\n            }\n            else {\n                acc_mut = ((t = (new FSharpList(mapping(FSharpList__get_Head(xs_1), FSharpList__get_Head(ys_1), FSharpList__get_Head(zs_1)), void 0)), (acc.tail = t, t)));\n                xs_1_mut = FSharpList__get_Tail(xs_1);\n                ys_1_mut = FSharpList__get_Tail(ys_1);\n                zs_1_mut = FSharpList__get_Tail(zs_1);\n                continue loop;\n            }\n            break;\n        }\n    };\n    const root = FSharpList_get_Empty();\n    const node_1 = loop(root, xs, ys, zs);\n    const t_2 = FSharpList_get_Empty();\n    node_1.tail = t_2;\n    return FSharpList__get_Tail(root);\n}\nexport function mapFold(mapping, state, xs) {\n    const root = FSharpList_get_Empty();\n    const patternInput_1 = fold((tupledArg, x) => {\n        let t;\n        const patternInput = mapping(tupledArg[1], x);\n        return [(t = (new FSharpList(patternInput[0], void 0)), (tupledArg[0].tail = t, t)), patternInput[1]];\n    }, [root, state], xs);\n    const t_2 = FSharpList_get_Empty();\n    patternInput_1[0].tail = t_2;\n    return [FSharpList__get_Tail(root), patternInput_1[1]];\n}\nexport function mapFoldBack(mapping, xs, state) {\n    return mapFold((acc, x) => mapping(x, acc), state, reverse(xs));\n}\nexport function tryPick(f, xs) {\n    const loop = (xs_1_mut) => {\n        loop: while (true) {\n            const xs_1 = xs_1_mut;\n            if (FSharpList__get_IsEmpty(xs_1)) {\n                return void 0;\n            }\n            else {\n                const matchValue = f(FSharpList__get_Head(xs_1));\n                if (matchValue == null) {\n                    xs_1_mut = FSharpList__get_Tail(xs_1);\n                    continue loop;\n                }\n                else {\n                    return matchValue;\n                }\n            }\n            break;\n        }\n    };\n    return loop(xs);\n}\nexport function pick(f, xs) {\n    const matchValue = tryPick(f, xs);\n    if (matchValue == null) {\n        return indexNotFound();\n    }\n    else {\n        return value_1(matchValue);\n    }\n}\nexport function tryFind(f, xs) {\n    return tryPick((x) => (f(x) ? some(x) : void 0), xs);\n}\nexport function find(f, xs) {\n    const matchValue = tryFind(f, xs);\n    if (matchValue == null) {\n        return indexNotFound();\n    }\n    else {\n        return value_1(matchValue);\n    }\n}\nexport function tryFindBack(f, xs) {\n    return tryFindBack_1(f, toArray(xs));\n}\nexport function findBack(f, xs) {\n    const matchValue = tryFindBack(f, xs);\n    if (matchValue == null) {\n        return indexNotFound();\n    }\n    else {\n        return value_1(matchValue);\n    }\n}\nexport function tryFindIndex(f, xs) {\n    const loop = (i_mut, xs_1_mut) => {\n        loop: while (true) {\n            const i = i_mut, xs_1 = xs_1_mut;\n            if (FSharpList__get_IsEmpty(xs_1)) {\n                return void 0;\n            }\n            else if (f(FSharpList__get_Head(xs_1))) {\n                return i;\n            }\n            else {\n                i_mut = (i + 1);\n                xs_1_mut = FSharpList__get_Tail(xs_1);\n                continue loop;\n            }\n            break;\n        }\n    };\n    return loop(0, xs);\n}\nexport function findIndex(f, xs) {\n    const matchValue = tryFindIndex(f, xs);\n    if (matchValue == null) {\n        indexNotFound();\n        return -1;\n    }\n    else {\n        return value_1(matchValue) | 0;\n    }\n}\nexport function tryFindIndexBack(f, xs) {\n    return tryFindIndexBack_1(f, toArray(xs));\n}\nexport function findIndexBack(f, xs) {\n    const matchValue = tryFindIndexBack(f, xs);\n    if (matchValue == null) {\n        indexNotFound();\n        return -1;\n    }\n    else {\n        return value_1(matchValue) | 0;\n    }\n}\nexport function tryItem(n, xs) {\n    const loop = (i_mut, xs_1_mut) => {\n        loop: while (true) {\n            const i = i_mut, xs_1 = xs_1_mut;\n            if (FSharpList__get_IsEmpty(xs_1)) {\n                return void 0;\n            }\n            else if (i === n) {\n                return some(FSharpList__get_Head(xs_1));\n            }\n            else {\n                i_mut = (i + 1);\n                xs_1_mut = FSharpList__get_Tail(xs_1);\n                continue loop;\n            }\n            break;\n        }\n    };\n    return loop(0, xs);\n}\nexport function item(n, xs) {\n    return FSharpList__get_Item_Z524259A4(xs, n);\n}\nexport function filter(f, xs) {\n    const root = FSharpList_get_Empty();\n    const node = fold((acc, x) => {\n        if (f(x)) {\n            const t = new FSharpList(x, void 0);\n            acc.tail = t;\n            return t;\n        }\n        else {\n            return acc;\n        }\n    }, root, xs);\n    const t_2 = FSharpList_get_Empty();\n    node.tail = t_2;\n    return FSharpList__get_Tail(root);\n}\nexport function partition(f, xs) {\n    const matchValue = FSharpList_get_Empty();\n    const root2 = FSharpList_get_Empty();\n    const root1 = matchValue;\n    const patternInput_1 = fold((tupledArg, x) => {\n        let t, t_2;\n        const lacc = tupledArg[0];\n        const racc = tupledArg[1];\n        if (f(x)) {\n            return [(t = (new FSharpList(x, void 0)), (lacc.tail = t, t)), racc];\n        }\n        else {\n            return [lacc, (t_2 = (new FSharpList(x, void 0)), (racc.tail = t_2, t_2))];\n        }\n    }, [root1, root2], xs);\n    const t_4 = FSharpList_get_Empty();\n    patternInput_1[0].tail = t_4;\n    const t_5 = FSharpList_get_Empty();\n    patternInput_1[1].tail = t_5;\n    return [FSharpList__get_Tail(root1), FSharpList__get_Tail(root2)];\n}\nexport function choose(f, xs) {\n    const root = FSharpList_get_Empty();\n    const node = fold((acc, x) => {\n        const matchValue = f(x);\n        if (matchValue == null) {\n            return acc;\n        }\n        else {\n            const t = new FSharpList(value_1(matchValue), void 0);\n            acc.tail = t;\n            return t;\n        }\n    }, root, xs);\n    const t_2 = FSharpList_get_Empty();\n    node.tail = t_2;\n    return FSharpList__get_Tail(root);\n}\nexport function contains(value, xs, eq) {\n    return tryFindIndex((v) => eq.Equals(value, v), xs) != null;\n}\nexport function initialize(n, f) {\n    let xs, t;\n    const root = FSharpList_get_Empty();\n    let node = root;\n    for (let i = 0; i <= (n - 1); i++) {\n        node = ((xs = node, (t = (new FSharpList(f(i), void 0)), (xs.tail = t, t))));\n    }\n    const xs_2 = node;\n    const t_2 = FSharpList_get_Empty();\n    xs_2.tail = t_2;\n    return FSharpList__get_Tail(root);\n}\nexport function replicate(n, x) {\n    return initialize(n, (_arg) => x);\n}\nexport function reduce(f, xs) {\n    if (FSharpList__get_IsEmpty(xs)) {\n        throw new Error(SR_inputWasEmpty);\n    }\n    else {\n        return fold(f, head(xs), tail(xs));\n    }\n}\nexport function reduceBack(f, xs) {\n    if (FSharpList__get_IsEmpty(xs)) {\n        throw new Error(SR_inputWasEmpty);\n    }\n    else {\n        return foldBack(f, tail(xs), head(xs));\n    }\n}\nexport function forAll(f, xs) {\n    return fold((acc, x) => (acc && f(x)), true, xs);\n}\nexport function forAll2(f, xs, ys) {\n    return fold2((acc, x, y) => (acc && f(x, y)), true, xs, ys);\n}\nexport function exists(f, xs) {\n    return tryFindIndex(f, xs) != null;\n}\nexport function exists2(f_mut, xs_mut, ys_mut) {\n    exists2: while (true) {\n        const f = f_mut, xs = xs_mut, ys = ys_mut;\n        const matchValue = FSharpList__get_IsEmpty(xs);\n        const matchValue_1 = FSharpList__get_IsEmpty(ys);\n        let matchResult;\n        if (matchValue) {\n            if (matchValue_1) {\n                matchResult = 0;\n            }\n            else {\n                matchResult = 2;\n            }\n        }\n        else if (matchValue_1) {\n            matchResult = 2;\n        }\n        else {\n            matchResult = 1;\n        }\n        switch (matchResult) {\n            case 0:\n                return false;\n            case 1:\n                if (f(FSharpList__get_Head(xs), FSharpList__get_Head(ys))) {\n                    return true;\n                }\n                else {\n                    f_mut = f;\n                    xs_mut = FSharpList__get_Tail(xs);\n                    ys_mut = FSharpList__get_Tail(ys);\n                    continue exists2;\n                }\n            default:\n                throw new Error((SR_differentLengths + \"\\\\nParameter name: \") + \"list2\");\n        }\n        break;\n    }\n}\nexport function unzip(xs) {\n    return foldBack((tupledArg, tupledArg_1) => [FSharpList_Cons_305B8EAC(tupledArg[0], tupledArg_1[0]), FSharpList_Cons_305B8EAC(tupledArg[1], tupledArg_1[1])], xs, [FSharpList_get_Empty(), FSharpList_get_Empty()]);\n}\nexport function unzip3(xs) {\n    return foldBack((tupledArg, tupledArg_1) => [FSharpList_Cons_305B8EAC(tupledArg[0], tupledArg_1[0]), FSharpList_Cons_305B8EAC(tupledArg[1], tupledArg_1[1]), FSharpList_Cons_305B8EAC(tupledArg[2], tupledArg_1[2])], xs, [FSharpList_get_Empty(), FSharpList_get_Empty(), FSharpList_get_Empty()]);\n}\nexport function zip(xs, ys) {\n    return map2((x, y) => [x, y], xs, ys);\n}\nexport function zip3(xs, ys, zs) {\n    return map3((x, y, z) => [x, y, z], xs, ys, zs);\n}\nexport function sortWith(comparer, xs) {\n    const arr = toArray(xs);\n    arr.sort(comparer);\n    return ofArray(arr);\n}\nexport function sort(xs, comparer) {\n    return sortWith((x, y) => comparer.Compare(x, y), xs);\n}\nexport function sortBy(projection, xs, comparer) {\n    return sortWith((x, y) => comparer.Compare(projection(x), projection(y)), xs);\n}\nexport function sortDescending(xs, comparer) {\n    return sortWith((x, y) => (comparer.Compare(x, y) * -1), xs);\n}\nexport function sortByDescending(projection, xs, comparer) {\n    return sortWith((x, y) => (comparer.Compare(projection(x), projection(y)) * -1), xs);\n}\nexport function sum(xs, adder) {\n    return fold((acc, x) => adder.Add(acc, x), adder.GetZero(), xs);\n}\nexport function sumBy(f, xs, adder) {\n    return fold((acc, x) => adder.Add(acc, f(x)), adder.GetZero(), xs);\n}\nexport function maxBy(projection, xs, comparer) {\n    return reduce((x, y) => ((comparer.Compare(projection(y), projection(x)) > 0) ? y : x), xs);\n}\nexport function max(xs, comparer) {\n    return reduce((x, y) => ((comparer.Compare(y, x) > 0) ? y : x), xs);\n}\nexport function minBy(projection, xs, comparer) {\n    return reduce((x, y) => ((comparer.Compare(projection(y), projection(x)) > 0) ? x : y), xs);\n}\nexport function min(xs, comparer) {\n    return reduce((x, y) => ((comparer.Compare(y, x) > 0) ? x : y), xs);\n}\nexport function average(xs, averager) {\n    let count = 0;\n    const total = fold((acc, x) => {\n        count = ((count + 1) | 0);\n        return averager.Add(acc, x);\n    }, averager.GetZero(), xs);\n    return averager.DivideByInt(total, count);\n}\nexport function averageBy(f, xs, averager) {\n    let count = 0;\n    const total = fold((acc, x) => {\n        count = ((count + 1) | 0);\n        return averager.Add(acc, f(x));\n    }, averager.GetZero(), xs);\n    return averager.DivideByInt(total, count);\n}\nexport function permute(f, xs) {\n    return ofArray(permute_1(f, toArray(xs)));\n}\nexport function chunkBySize(chunkSize, xs) {\n    return ofArray(map_1(ofArray, chunkBySize_1(chunkSize, toArray(xs))));\n}\nexport function allPairs(xs, ys) {\n    const root = FSharpList_get_Empty();\n    let node = root;\n    iterate((x) => {\n        iterate((y) => {\n            let xs_1, t;\n            node = ((xs_1 = node, (t = (new FSharpList([x, y], void 0)), (xs_1.tail = t, t))));\n        }, ys);\n    }, xs);\n    const xs_3 = node;\n    const t_2 = FSharpList_get_Empty();\n    xs_3.tail = t_2;\n    return FSharpList__get_Tail(root);\n}\nexport function skip(count_mut, xs_mut) {\n    skip: while (true) {\n        const count = count_mut, xs = xs_mut;\n        if (count <= 0) {\n            return xs;\n        }\n        else if (FSharpList__get_IsEmpty(xs)) {\n            throw new Error((SR_notEnoughElements + \"\\\\nParameter name: \") + \"list\");\n        }\n        else {\n            count_mut = (count - 1);\n            xs_mut = FSharpList__get_Tail(xs);\n            continue skip;\n        }\n        break;\n    }\n}\nexport function skipWhile(predicate_mut, xs_mut) {\n    skipWhile: while (true) {\n        const predicate = predicate_mut, xs = xs_mut;\n        if (FSharpList__get_IsEmpty(xs)) {\n            return xs;\n        }\n        else if (!predicate(FSharpList__get_Head(xs))) {\n            return xs;\n        }\n        else {\n            predicate_mut = predicate;\n            xs_mut = FSharpList__get_Tail(xs);\n            continue skipWhile;\n        }\n        break;\n    }\n}\nexport function take(count, xs) {\n    if (count < 0) {\n        throw new Error((SR_inputMustBeNonNegative + \"\\\\nParameter name: \") + \"count\");\n    }\n    const loop = (i_mut, acc_mut, xs_1_mut) => {\n        let t;\n        loop: while (true) {\n            const i = i_mut, acc = acc_mut, xs_1 = xs_1_mut;\n            if (i <= 0) {\n                return acc;\n            }\n            else if (FSharpList__get_IsEmpty(xs_1)) {\n                throw new Error((SR_notEnoughElements + \"\\\\nParameter name: \") + \"list\");\n            }\n            else {\n                i_mut = (i - 1);\n                acc_mut = ((t = (new FSharpList(FSharpList__get_Head(xs_1), void 0)), (acc.tail = t, t)));\n                xs_1_mut = FSharpList__get_Tail(xs_1);\n                continue loop;\n            }\n            break;\n        }\n    };\n    const root = FSharpList_get_Empty();\n    const node = loop(count, root, xs);\n    const t_2 = FSharpList_get_Empty();\n    node.tail = t_2;\n    return FSharpList__get_Tail(root);\n}\nexport function takeWhile(predicate, xs) {\n    const loop = (acc_mut, xs_1_mut) => {\n        let t;\n        loop: while (true) {\n            const acc = acc_mut, xs_1 = xs_1_mut;\n            if (FSharpList__get_IsEmpty(xs_1)) {\n                return acc;\n            }\n            else if (!predicate(FSharpList__get_Head(xs_1))) {\n                return acc;\n            }\n            else {\n                acc_mut = ((t = (new FSharpList(FSharpList__get_Head(xs_1), void 0)), (acc.tail = t, t)));\n                xs_1_mut = FSharpList__get_Tail(xs_1);\n                continue loop;\n            }\n            break;\n        }\n    };\n    const root = FSharpList_get_Empty();\n    const node = loop(root, xs);\n    const t_2 = FSharpList_get_Empty();\n    node.tail = t_2;\n    return FSharpList__get_Tail(root);\n}\nexport function truncate(count, xs) {\n    const loop = (i_mut, acc_mut, xs_1_mut) => {\n        let t;\n        loop: while (true) {\n            const i = i_mut, acc = acc_mut, xs_1 = xs_1_mut;\n            if (i <= 0) {\n                return acc;\n            }\n            else if (FSharpList__get_IsEmpty(xs_1)) {\n                return acc;\n            }\n            else {\n                i_mut = (i - 1);\n                acc_mut = ((t = (new FSharpList(FSharpList__get_Head(xs_1), void 0)), (acc.tail = t, t)));\n                xs_1_mut = FSharpList__get_Tail(xs_1);\n                continue loop;\n            }\n            break;\n        }\n    };\n    const root = FSharpList_get_Empty();\n    const node = loop(count, root, xs);\n    const t_2 = FSharpList_get_Empty();\n    node.tail = t_2;\n    return FSharpList__get_Tail(root);\n}\nexport function getSlice(startIndex, endIndex, xs) {\n    const len = length(xs) | 0;\n    let startIndex_1;\n    const index = defaultArg(startIndex, 0) | 0;\n    startIndex_1 = ((index < 0) ? 0 : index);\n    let endIndex_1;\n    const index_1 = defaultArg(endIndex, len - 1) | 0;\n    endIndex_1 = ((index_1 >= len) ? (len - 1) : index_1);\n    if (endIndex_1 < startIndex_1) {\n        return FSharpList_get_Empty();\n    }\n    else {\n        return take((endIndex_1 - startIndex_1) + 1, skip(startIndex_1, xs));\n    }\n}\nexport function splitAt(index, xs) {\n    if (index < 0) {\n        throw new Error((SR_inputMustBeNonNegative + \"\\\\nParameter name: \") + \"index\");\n    }\n    if (index > FSharpList__get_Length(xs)) {\n        throw new Error((SR_notEnoughElements + \"\\\\nParameter name: \") + \"index\");\n    }\n    return [take(index, xs), skip(index, xs)];\n}\nexport function exactlyOne(xs) {\n    if (FSharpList__get_IsEmpty(xs)) {\n        throw new Error((SR_inputSequenceEmpty + \"\\\\nParameter name: \") + \"list\");\n    }\n    else if (FSharpList__get_IsEmpty(FSharpList__get_Tail(xs))) {\n        return FSharpList__get_Head(xs);\n    }\n    else {\n        throw new Error((SR_inputSequenceTooLong + \"\\\\nParameter name: \") + \"list\");\n    }\n}\nexport function tryExactlyOne(xs) {\n    if (!FSharpList__get_IsEmpty(xs) && FSharpList__get_IsEmpty(FSharpList__get_Tail(xs))) {\n        return some(FSharpList__get_Head(xs));\n    }\n    else {\n        return void 0;\n    }\n}\nexport function where(predicate, xs) {\n    return filter(predicate, xs);\n}\nexport function pairwise(xs) {\n    return ofArray(pairwise_1(toArray(xs)));\n}\nexport function windowed(windowSize, xs) {\n    return ofArray(map_1(ofArray, windowed_1(windowSize, toArray(xs))));\n}\nexport function splitInto(chunks, xs) {\n    return ofArray(map_1(ofArray, splitInto_1(chunks, toArray(xs))));\n}\nexport function transpose(lists) {\n    return ofArray(map_1(ofArray, transpose_1(map_1(toArray, Array.from(lists)))));\n}\nexport function insertAt(index, y, xs) {\n    let i = -1;\n    let isDone = false;\n    const result = fold((acc, x) => {\n        i = ((i + 1) | 0);\n        if (i === index) {\n            isDone = true;\n            return FSharpList_Cons_305B8EAC(x, FSharpList_Cons_305B8EAC(y, acc));\n        }\n        else {\n            return FSharpList_Cons_305B8EAC(x, acc);\n        }\n    }, FSharpList_get_Empty(), xs);\n    return reverse(isDone ? result : (((i + 1) === index) ? FSharpList_Cons_305B8EAC(y, result) : (() => {\n        throw new Error((SR_indexOutOfBounds + \"\\\\nParameter name: \") + \"index\");\n    })()));\n}\nexport function insertManyAt(index, ys, xs) {\n    let i = -1;\n    let isDone = false;\n    const ys_1 = ofSeq(ys);\n    const result = fold((acc, x) => {\n        i = ((i + 1) | 0);\n        if (i === index) {\n            isDone = true;\n            return FSharpList_Cons_305B8EAC(x, append(ys_1, acc));\n        }\n        else {\n            return FSharpList_Cons_305B8EAC(x, acc);\n        }\n    }, FSharpList_get_Empty(), xs);\n    return reverse(isDone ? result : (((i + 1) === index) ? append(ys_1, result) : (() => {\n        throw new Error((SR_indexOutOfBounds + \"\\\\nParameter name: \") + \"index\");\n    })()));\n}\nexport function removeAt(index, xs) {\n    let i = -1;\n    let isDone = false;\n    const ys = filter((_arg) => {\n        i = ((i + 1) | 0);\n        if (i === index) {\n            isDone = true;\n            return false;\n        }\n        else {\n            return true;\n        }\n    }, xs);\n    if (!isDone) {\n        throw new Error((SR_indexOutOfBounds + \"\\\\nParameter name: \") + \"index\");\n    }\n    return ys;\n}\nexport function removeManyAt(index, count, xs) {\n    let i = -1;\n    let status = -1;\n    const ys = filter((_arg) => {\n        i = ((i + 1) | 0);\n        if (i === index) {\n            status = 0;\n            return false;\n        }\n        else if (i > index) {\n            if (i < (index + count)) {\n                return false;\n            }\n            else {\n                status = 1;\n                return true;\n            }\n        }\n        else {\n            return true;\n        }\n    }, xs);\n    const status_1 = (((status === 0) && ((i + 1) === (index + count))) ? 1 : status) | 0;\n    if (status_1 < 1) {\n        throw new Error((SR_indexOutOfBounds + \"\\\\nParameter name: \") + ((status_1 < 0) ? \"index\" : \"count\"));\n    }\n    return ys;\n}\nexport function updateAt(index, y, xs) {\n    let isDone = false;\n    const ys = mapIndexed((i, x) => {\n        if (i === index) {\n            isDone = true;\n            return y;\n        }\n        else {\n            return x;\n        }\n    }, xs);\n    if (!isDone) {\n        throw new Error((SR_indexOutOfBounds + \"\\\\nParameter name: \") + \"index\");\n    }\n    return ys;\n}\n","import { toString, Union } from \"../fable_modules/fable-library.4.2.2/Types.js\";\r\nimport { class_type, union_type } from \"../fable_modules/fable-library.4.2.2/Reflection.js\";\r\nimport { tail, length, ofArray, singleton, append, empty } from \"../fable_modules/fable-library.4.2.2/List.js\";\r\nimport { replace, format, join } from \"../fable_modules/fable-library.4.2.2/String.js\";\r\nimport * as util from \"util\";\r\nimport { now } from \"../fable_modules/fable-library.4.2.2/Date.js\";\r\nimport { value } from \"../fable_modules/fable-library.4.2.2/Option.js\";\r\nimport { equals } from \"../fable_modules/fable-library.4.2.2/Util.js\";\r\nimport { window as window$ } from \"vscode\";\r\n\r\nexport class Level extends Union {\r\n    constructor(tag, fields) {\r\n        super();\r\n        this.tag = tag;\r\n        this.fields = fields;\r\n    }\r\n    cases() {\r\n        return [\"DEBUG\", \"INFO\", \"WARN\", \"ERROR\"];\r\n    }\r\n    toString() {\r\n        const this$ = this;\r\n        return (this$.tag === 1) ? \"INFO\" : ((this$.tag === 2) ? \"WARN\" : ((this$.tag === 0) ? \"DEBUG\" : \"ERROR\"));\r\n    }\r\n}\r\n\r\nexport function Level_$reflection() {\r\n    return union_type(\"Ionide.VSCode.FSharp.Logging.Level\", [], Level, () => [[], [], [], []]);\r\n}\r\n\r\nexport function Level_get_GetLevelNum() {\r\n    return (_arg) => ((_arg.tag === 1) ? 20 : ((_arg.tag === 2) ? 30 : ((_arg.tag === 3) ? 40 : 10)));\r\n}\r\n\r\nexport function Level__isGreaterOrEqualTo_Z4DA8F37A(this$, level) {\r\n    return Level_get_GetLevelNum()(this$) >= Level_get_GetLevelNum()(level);\r\n}\r\n\r\nexport function Level__isLessOrEqualTo_Z4DA8F37A(this$, level) {\r\n    return Level_get_GetLevelNum()(this$) <= Level_get_GetLevelNum()(level);\r\n}\r\n\r\nlet ionideLogsMemory = empty();\r\n\r\nexport function getIonideLogs() {\r\n    return join(\"\\n\", ionideLogsMemory);\r\n}\r\n\r\nexport function getConsoleLogArgs(level, source, template, args) {\r\n    const browserLogTemplate = format(\"[{0}] {1}\", toString(source), replace(template, \"%j\", \"%O\"));\r\n    return [(level.tag === 1) ? \"info\" : ((level.tag === 2) ? \"warn\" : ((level.tag === 3) ? \"error\" : \"debug\")), append(singleton(browserLogTemplate), ofArray(args))];\r\n}\r\n\r\nfunction writeOutputChannel(out, level, source, template, args) {\r\n    const formattedMessage = util.format(template, ...args);\r\n    const formattedLogLine = format(\"[{0:HH:mm:ss} {1,-5}] [{2}] {3}\", now(), toString(level), source, formattedMessage);\r\n    out.appendLine(formattedLogLine);\r\n}\r\n\r\nfunction writeToFile(level, source, template, args) {\r\n    const formattedMessage = util.format(template, ...args);\r\n    const formattedLogLine = format(\"[{0:HH:mm:ss} {1,-5}] [{2}] {3}\\n\", now(), toString(level), source, formattedMessage);\r\n    if (length(ionideLogsMemory) >= 200) {\r\n        ionideLogsMemory = append(tail(ionideLogsMemory), singleton(formattedLogLine));\r\n    }\r\n    else {\r\n        ionideLogsMemory = append(ionideLogsMemory, singleton(formattedLogLine));\r\n    }\r\n}\r\n\r\nfunction writeOutputChannelIfConfigured(out, chanMinLevel, level, source, template, args) {\r\n    if ((out != null) && Level__isGreaterOrEqualTo_Z4DA8F37A(level, chanMinLevel)) {\r\n        writeOutputChannel(value(out), level, source, template, args);\r\n    }\r\n    if (equals(source, \"IONIDE-FSAC\")) {\r\n        try {\r\n            if (toString(args[0]) !== \"parse\") {\r\n                writeToFile(level, source, template, args);\r\n            }\r\n        }\r\n        catch (matchValue) {\r\n        }\r\n    }\r\n}\r\n\r\nexport class ConsoleAndOutputChannelLogger {\r\n    constructor(source, chanDefaultMinLevel, out, consoleMinLevel) {\r\n        this.source = source;\r\n        this.out = out;\r\n        this.consoleMinLevel = consoleMinLevel;\r\n        this[\"ChanMinLevel@\"] = chanDefaultMinLevel;\r\n    }\r\n}\r\n\r\nexport function ConsoleAndOutputChannelLogger_$reflection() {\r\n    return class_type(\"Ionide.VSCode.FSharp.Logging.ConsoleAndOutputChannelLogger\", void 0, ConsoleAndOutputChannelLogger);\r\n}\r\n\r\nexport function ConsoleAndOutputChannelLogger_$ctor_Z565F02F0(source, chanDefaultMinLevel, out, consoleMinLevel) {\r\n    return new ConsoleAndOutputChannelLogger(source, chanDefaultMinLevel, out, consoleMinLevel);\r\n}\r\n\r\nexport function ConsoleAndOutputChannelLogger__get_ChanMinLevel(__) {\r\n    return __[\"ChanMinLevel@\"];\r\n}\r\n\r\nexport function ConsoleAndOutputChannelLogger__set_ChanMinLevel_Z4DA8F37A(__, v) {\r\n    __[\"ChanMinLevel@\"] = v;\r\n}\r\n\r\n/**\r\n * Logs a different message in either DEBUG (if enabled) or INFO (otherwise).\r\n * The templates may use node util.format placeholders: %s, %d, %j, %%\r\n * https://nodejs.org/api/util.html#util_util_format_format\r\n */\r\nexport function ConsoleAndOutputChannelLogger__DebugOrInfo(this$, debugTemplateAndArgs, infoTemplateAndArgs) {\r\n    if (this$.out != null) {\r\n        if (Level__isLessOrEqualTo_Z4DA8F37A(ConsoleAndOutputChannelLogger__get_ChanMinLevel(this$), new Level(0, []))) {\r\n            writeOutputChannel(value(this$.out), new Level(0, []), this$.source, debugTemplateAndArgs[0], debugTemplateAndArgs[1]);\r\n        }\r\n        else if (Level__isLessOrEqualTo_Z4DA8F37A(ConsoleAndOutputChannelLogger__get_ChanMinLevel(this$), new Level(1, []))) {\r\n            writeOutputChannel(value(this$.out), new Level(1, []), this$.source, infoTemplateAndArgs[0], infoTemplateAndArgs[1]);\r\n        }\r\n    }\r\n    if (this$.consoleMinLevel != null) {\r\n        if (Level__isGreaterOrEqualTo_Z4DA8F37A(new Level(0, []), value(this$.consoleMinLevel))) {\r\n            const patternInput = getConsoleLogArgs(new Level(0, []), this$.source, debugTemplateAndArgs[0], debugTemplateAndArgs[1]);\r\n            console[patternInput[0]] ? console[patternInput[0]](...patternInput[1]) : void 0;\r\n        }\r\n        else if (Level__isGreaterOrEqualTo_Z4DA8F37A(new Level(1, []), value(this$.consoleMinLevel))) {\r\n            const patternInput_1 = getConsoleLogArgs(new Level(1, []), this$.source, infoTemplateAndArgs[0], infoTemplateAndArgs[1]);\r\n            console[patternInput_1[0]] ? console[patternInput_1[0]](...patternInput_1[1]) : void 0;\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * Logs a message that should/could be seen by developers when diagnosing problems.\r\n * The templates may use node util.format placeholders: %s, %d, %j, %%\r\n * https://nodejs.org/api/util.html#util_util_format_format\r\n */\r\nexport function ConsoleAndOutputChannelLogger__Debug_Z17053F5(this$, template, ...args) {\r\n    const chanMinLevel = ConsoleAndOutputChannelLogger__get_ChanMinLevel(this$);\r\n    const consoleMinLevel = this$.consoleMinLevel;\r\n    const level = new Level(0, []);\r\n    const source = this$.source;\r\n    const template_1 = template;\r\n    const args_1 = args;\r\n    if ((consoleMinLevel != null) && Level__isGreaterOrEqualTo_Z4DA8F37A(level, value(consoleMinLevel))) {\r\n        const patternInput = getConsoleLogArgs(level, source, template_1, args_1);\r\n        console[patternInput[0]] ? console[patternInput[0]](...patternInput[1]) : void 0;\r\n    }\r\n    writeOutputChannelIfConfigured(this$.out, chanMinLevel, level, source, template_1, args_1);\r\n}\r\n\r\n/**\r\n * Logs a message that should/could be seen by the user in the output channel.\r\n * The templates may use node util.format placeholders: %s, %d, %j, %%\r\n * https://nodejs.org/api/util.html#util_util_format_format\r\n */\r\nexport function ConsoleAndOutputChannelLogger__Info_Z17053F5(this$, template, ...args) {\r\n    const chanMinLevel = ConsoleAndOutputChannelLogger__get_ChanMinLevel(this$);\r\n    const consoleMinLevel = this$.consoleMinLevel;\r\n    const level = new Level(1, []);\r\n    const source = this$.source;\r\n    const template_1 = template;\r\n    const args_1 = args;\r\n    if ((consoleMinLevel != null) && Level__isGreaterOrEqualTo_Z4DA8F37A(level, value(consoleMinLevel))) {\r\n        const patternInput = getConsoleLogArgs(level, source, template_1, args_1);\r\n        console[patternInput[0]] ? console[patternInput[0]](...patternInput[1]) : void 0;\r\n    }\r\n    writeOutputChannelIfConfigured(this$.out, chanMinLevel, level, source, template_1, args_1);\r\n}\r\n\r\n/**\r\n * Logs a message that should/could be seen by the user in the output channel when a problem happens.\r\n * The templates may use node util.format placeholders: %s, %d, %j, %%\r\n * https://nodejs.org/api/util.html#util_util_format_format\r\n */\r\nexport function ConsoleAndOutputChannelLogger__Error_Z17053F5(this$, template, ...args) {\r\n    const chanMinLevel = ConsoleAndOutputChannelLogger__get_ChanMinLevel(this$);\r\n    const consoleMinLevel = this$.consoleMinLevel;\r\n    const level = new Level(3, []);\r\n    const source = this$.source;\r\n    const template_1 = template;\r\n    const args_1 = args;\r\n    if ((consoleMinLevel != null) && Level__isGreaterOrEqualTo_Z4DA8F37A(level, value(consoleMinLevel))) {\r\n        const patternInput = getConsoleLogArgs(level, source, template_1, args_1);\r\n        console[patternInput[0]] ? console[patternInput[0]](...patternInput[1]) : void 0;\r\n    }\r\n    writeOutputChannelIfConfigured(this$.out, chanMinLevel, level, source, template_1, args_1);\r\n}\r\n\r\n/**\r\n * Logs a message that should/could be seen by the user in the output channel when a problem happens.\r\n * The templates may use node util.format placeholders: %s, %d, %j, %%\r\n * https://nodejs.org/api/util.html#util_util_format_format\r\n */\r\nexport function ConsoleAndOutputChannelLogger__Warn_Z17053F5(this$, template, ...args) {\r\n    const chanMinLevel = ConsoleAndOutputChannelLogger__get_ChanMinLevel(this$);\r\n    const consoleMinLevel = this$.consoleMinLevel;\r\n    const level = new Level(2, []);\r\n    const source = this$.source;\r\n    const template_1 = template;\r\n    const args_1 = args;\r\n    if ((consoleMinLevel != null) && Level__isGreaterOrEqualTo_Z4DA8F37A(level, value(consoleMinLevel))) {\r\n        const patternInput = getConsoleLogArgs(level, source, template_1, args_1);\r\n        console[patternInput[0]] ? console[patternInput[0]](...patternInput[1]) : void 0;\r\n    }\r\n    writeOutputChannelIfConfigured(this$.out, chanMinLevel, level, source, template_1, args_1);\r\n}\r\n\r\n/**\r\n * Logs a message that should/could be seen by the user in the output channel if the promise fail.\r\n * The templates may use node util.format placeholders: %s, %d, %j, %%\r\n * https://nodejs.org/api/util.html#util_util_format_format\r\n */\r\nexport function ConsoleAndOutputChannelLogger__ErrorOnFailed(this$, text, p) {\r\n    void (p.catch((err) => {\r\n        ConsoleAndOutputChannelLogger__Error_Z17053F5(this$, text + \": %O\", err);\r\n    }));\r\n}\r\n\r\nexport const defaultOutputChannel = window$.createOutputChannel(\"Ionide\");\r\n\r\n//# sourceMappingURL=Logging.js.map\r\n","import { Record, Union } from \"./Types.js\";\nimport { combineHashCodes, equalArraysWith, stringHash } from \"./Util.js\";\nimport Decimal from \"./Decimal.js\";\nexport class CaseInfo {\n    constructor(declaringType, tag, name, fields) {\n        this.declaringType = declaringType;\n        this.tag = tag;\n        this.name = name;\n        this.fields = fields;\n    }\n}\nexport class MethodInfo {\n    constructor(name, parameters, returnType) {\n        this.name = name;\n        this.parameters = parameters;\n        this.returnType = returnType;\n    }\n}\nexport class TypeInfo {\n    constructor(fullname, generics, construct, parent, fields, cases, enumCases) {\n        this.fullname = fullname;\n        this.generics = generics;\n        this.construct = construct;\n        this.parent = parent;\n        this.fields = fields;\n        this.cases = cases;\n        this.enumCases = enumCases;\n    }\n    toString() {\n        return fullName(this);\n    }\n    GetHashCode() {\n        return getHashCode(this);\n    }\n    Equals(other) {\n        return equals(this, other);\n    }\n}\nexport class GenericParameter extends TypeInfo {\n    constructor(name) {\n        super(name);\n    }\n}\nexport function getGenerics(t) {\n    return t.generics != null ? t.generics : [];\n}\nexport function getHashCode(t) {\n    const fullnameHash = stringHash(t.fullname);\n    const genHashes = getGenerics(t).map(getHashCode);\n    return combineHashCodes([fullnameHash, ...genHashes]);\n}\nexport function equals(t1, t2) {\n    if (t1.fullname === \"\") { // Anonymous records\n        return t2.fullname === \"\"\n            && equalArraysWith(getRecordElements(t1), getRecordElements(t2), ([k1, v1], [k2, v2]) => k1 === k2 && equals(v1, v2));\n    }\n    else {\n        return t1.fullname === t2.fullname\n            && equalArraysWith(getGenerics(t1), getGenerics(t2), equals);\n    }\n}\nexport function class_type(fullname, generics, construct, parent) {\n    return new TypeInfo(fullname, generics, construct, parent);\n}\nexport function record_type(fullname, generics, construct, fields) {\n    return new TypeInfo(fullname, generics, construct, undefined, fields);\n}\nexport function anonRecord_type(...fields) {\n    return new TypeInfo(\"\", undefined, undefined, undefined, () => fields);\n}\nexport function union_type(fullname, generics, construct, cases) {\n    const t = new TypeInfo(fullname, generics, construct, undefined, undefined, () => {\n        const caseNames = construct.prototype.cases();\n        return cases().map((fields, i) => new CaseInfo(t, i, caseNames[i], fields));\n    });\n    return t;\n}\nexport function tuple_type(...generics) {\n    return new TypeInfo(\"System.Tuple`\" + generics.length, generics);\n}\nexport function delegate_type(...generics) {\n    return new TypeInfo(\"System.Func`\" + generics.length, generics);\n}\nexport function lambda_type(argType, returnType) {\n    return new TypeInfo(\"Microsoft.FSharp.Core.FSharpFunc`2\", [argType, returnType]);\n}\nexport function option_type(generic) {\n    return new TypeInfo(\"Microsoft.FSharp.Core.FSharpOption`1\", [generic]);\n}\nexport function list_type(generic) {\n    return new TypeInfo(\"Microsoft.FSharp.Collections.FSharpList`1\", [generic]);\n}\nexport function array_type(generic) {\n    return new TypeInfo(\"[]\", [generic]);\n}\nexport function enum_type(fullname, underlyingType, enumCases) {\n    return new TypeInfo(fullname, [underlyingType], undefined, undefined, undefined, undefined, enumCases);\n}\nexport function measure_type(fullname) {\n    return new TypeInfo(fullname);\n}\nexport function generic_type(name) {\n    return new GenericParameter(name);\n}\nexport const obj_type = new TypeInfo(\"System.Object\");\nexport const unit_type = new TypeInfo(\"Microsoft.FSharp.Core.Unit\");\nexport const char_type = new TypeInfo(\"System.Char\");\nexport const string_type = new TypeInfo(\"System.String\");\nexport const bool_type = new TypeInfo(\"System.Boolean\");\nexport const int8_type = new TypeInfo(\"System.SByte\");\nexport const uint8_type = new TypeInfo(\"System.Byte\");\nexport const int16_type = new TypeInfo(\"System.Int16\");\nexport const uint16_type = new TypeInfo(\"System.UInt16\");\nexport const int32_type = new TypeInfo(\"System.Int32\");\nexport const uint32_type = new TypeInfo(\"System.UInt32\");\nexport const int64_type = new TypeInfo(\"System.Int64\");\nexport const uint64_type = new TypeInfo(\"System.UInt64\");\nexport const int128_type = new TypeInfo(\"System.Int128\");\nexport const uint128_type = new TypeInfo(\"System.UInt128\");\nexport const nativeint_type = new TypeInfo(\"System.IntPtr\");\nexport const unativeint_type = new TypeInfo(\"System.UIntPtr\");\nexport const float16_type = new TypeInfo(\"System.Half\");\nexport const float32_type = new TypeInfo(\"System.Single\");\nexport const float64_type = new TypeInfo(\"System.Double\");\nexport const decimal_type = new TypeInfo(\"System.Decimal\");\nexport const bigint_type = new TypeInfo(\"System.Numerics.BigInteger\");\nexport function name(info) {\n    if (Array.isArray(info)) {\n        return info[0];\n    }\n    else if (info instanceof TypeInfo) {\n        const elemType = getElementType(info);\n        if (elemType != null) {\n            return name(elemType) + \"[]\";\n        }\n        else {\n            const i = info.fullname.lastIndexOf(\".\");\n            return i === -1 ? info.fullname : info.fullname.substr(i + 1);\n        }\n    }\n    else {\n        return info.name;\n    }\n}\nexport function fullName(t) {\n    const elemType = getElementType(t);\n    if (elemType != null) {\n        return fullName(elemType) + \"[]\";\n    }\n    else if (t.generics == null || t.generics.length === 0) {\n        return t.fullname;\n    }\n    else {\n        return t.fullname + \"[\" + t.generics.map((x) => fullName(x)).join(\",\") + \"]\";\n    }\n}\nexport function namespace(t) {\n    const elemType = getElementType(t);\n    if (elemType != null) {\n        return namespace(elemType);\n    }\n    else {\n        const i = t.fullname.lastIndexOf(\".\");\n        return i === -1 ? \"\" : t.fullname.substr(0, i);\n    }\n}\nexport function isArray(t) {\n    return getElementType(t) != null;\n}\nexport function getElementType(t) {\n    return t.fullname === \"[]\" && t.generics?.length === 1 ? t.generics[0] : undefined;\n}\nexport function isGenericType(t) {\n    return t.generics != null && t.generics.length > 0;\n}\nexport function isGenericParameter(t) {\n    return t instanceof GenericParameter;\n}\nexport function isEnum(t) {\n    return t.enumCases != null && t.enumCases.length > 0;\n}\nexport function isSubclassOf(t1, t2) {\n    return (t2.fullname === obj_type.fullname) || (t1.parent != null && (t1.parent.Equals(t2) || isSubclassOf(t1.parent, t2)));\n}\nfunction isErasedToNumber(t) {\n    return isEnum(t) || [\n        int8_type.fullname,\n        uint8_type.fullname,\n        int16_type.fullname,\n        uint16_type.fullname,\n        int32_type.fullname,\n        uint32_type.fullname,\n        float16_type.fullname,\n        float32_type.fullname,\n        float64_type.fullname,\n    ].includes(t.fullname);\n}\nfunction isErasedToBigInt(t) {\n    return isEnum(t) || [\n        int64_type.fullname,\n        uint64_type.fullname,\n        int128_type.fullname,\n        uint128_type.fullname,\n        nativeint_type.fullname,\n        unativeint_type.fullname,\n        bigint_type.fullname,\n    ].includes(t.fullname);\n}\nexport function isInstanceOfType(t, o) {\n    if (t.fullname === obj_type.fullname)\n        return true;\n    switch (typeof o) {\n        case \"boolean\":\n            return t.fullname === bool_type.fullname;\n        case \"string\":\n            return t.fullname === string_type.fullname;\n        case \"function\":\n            return isFunction(t);\n        case \"number\":\n            return isErasedToNumber(t);\n        case \"bigint\":\n            return isErasedToBigInt(t);\n        default:\n            return t.construct != null && o instanceof t.construct;\n    }\n}\n/**\n * This doesn't replace types for fields (records) or cases (unions)\n * but it should be enough for type comparison purposes\n */\nexport function getGenericTypeDefinition(t) {\n    return t.generics == null ? t : new TypeInfo(t.fullname, t.generics.map(() => obj_type));\n}\nexport function getEnumUnderlyingType(t) {\n    return t.generics?.[0];\n}\nexport function getEnumValues(t) {\n    if (isEnum(t) && t.enumCases != null) {\n        return t.enumCases.map((kv) => kv[1]);\n    }\n    else {\n        throw new Error(`${t.fullname} is not an enum type`);\n    }\n}\nexport function getEnumNames(t) {\n    if (isEnum(t) && t.enumCases != null) {\n        return t.enumCases.map((kv) => kv[0]);\n    }\n    else {\n        throw new Error(`${t.fullname} is not an enum type`);\n    }\n}\nfunction getEnumCase(t, v) {\n    if (t.enumCases != null) {\n        if (typeof v === \"string\") {\n            for (const kv of t.enumCases) {\n                if (kv[0] === v) {\n                    return kv;\n                }\n            }\n            throw new Error(`'${v}' was not found in ${t.fullname}`);\n        }\n        else {\n            for (const kv of t.enumCases) {\n                if (kv[1] === v) {\n                    return kv;\n                }\n            }\n            // .NET returns the number even if it doesn't match any of the cases\n            return [\"\", v];\n        }\n    }\n    else {\n        throw new Error(`${t.fullname} is not an enum type`);\n    }\n}\nexport function parseEnum(t, str) {\n    // TODO: better int parsing here, parseInt ceils floats: \"4.8\" -> 4\n    const value = parseInt(str, 10);\n    return getEnumCase(t, isNaN(value) ? str : value)[1];\n}\nexport function tryParseEnum(t, str, defValue) {\n    try {\n        defValue.contents = parseEnum(t, str);\n        return true;\n    }\n    catch {\n        return false;\n    }\n}\nexport function getEnumName(t, v) {\n    return getEnumCase(t, v)[0];\n}\nexport function isEnumDefined(t, v) {\n    try {\n        const kv = getEnumCase(t, v);\n        return kv[0] != null && kv[0] !== \"\";\n    }\n    catch {\n        // supress error\n    }\n    return false;\n}\n// FSharpType\nexport function getUnionCases(t) {\n    if (t.cases != null) {\n        return t.cases();\n    }\n    else {\n        throw new Error(`${t.fullname} is not an F# union type`);\n    }\n}\nexport function getRecordElements(t) {\n    if (t.fields != null) {\n        return t.fields();\n    }\n    else {\n        throw new Error(`${t.fullname} is not an F# record type`);\n    }\n}\nexport function getTupleElements(t) {\n    if (isTuple(t) && t.generics != null) {\n        return t.generics;\n    }\n    else {\n        throw new Error(`${t.fullname} is not a tuple type`);\n    }\n}\nexport function getFunctionElements(t) {\n    if (isFunction(t) && t.generics != null) {\n        const gen = t.generics;\n        return [gen[0], gen[1]];\n    }\n    else {\n        throw new Error(`${t.fullname} is not an F# function type`);\n    }\n}\nexport function isUnion(t) {\n    return t instanceof TypeInfo ? t.cases != null : t instanceof Union;\n}\nexport function isRecord(t) {\n    return t instanceof TypeInfo ? t.fields != null : t instanceof Record;\n}\nexport function isTuple(t) {\n    return t.fullname.startsWith(\"System.Tuple\");\n}\n// In .NET this is false for delegates\nexport function isFunction(t) {\n    return t.fullname === \"Microsoft.FSharp.Core.FSharpFunc`2\";\n}\n// FSharpValue\nexport function getUnionFields(v, t) {\n    const cases = getUnionCases(t);\n    const case_ = cases[v.tag];\n    if (case_ == null) {\n        throw new Error(`Cannot find case ${v.name} in union type`);\n    }\n    return [case_, v.fields];\n}\nexport function getUnionCaseFields(uci) {\n    return uci.fields == null ? [] : uci.fields;\n}\n// This is used as replacement of `FSharpValue.GetRecordFields`\n// For `FSharpTypes.GetRecordFields` see `getRecordElements`\n// Object.keys returns keys in the order they were added to the object\nexport function getRecordFields(v) {\n    return Object.keys(v).map((k) => v[k]);\n}\nexport function getRecordField(v, field) {\n    return v[field[0]];\n}\nexport function getTupleFields(v) {\n    return v;\n}\nexport function getTupleField(v, i) {\n    return v[i];\n}\nexport function makeUnion(uci, values) {\n    const expectedLength = (uci.fields || []).length;\n    if (values.length !== expectedLength) {\n        throw new Error(`Expected an array of length ${expectedLength} but got ${values.length}`);\n    }\n    const construct = uci.declaringType.construct;\n    if (construct == null) {\n        return {};\n    }\n    const isSingleCase = uci.declaringType.cases ? uci.declaringType.cases().length == 1 : false;\n    if (isSingleCase) {\n        return new construct(...values);\n    }\n    else {\n        return new construct(uci.tag, values);\n    }\n}\nexport function makeRecord(t, values) {\n    const fields = getRecordElements(t);\n    if (fields.length !== values.length) {\n        throw new Error(`Expected an array of length ${fields.length} but got ${values.length}`);\n    }\n    return t.construct != null\n        ? new t.construct(...values)\n        : fields.reduce((obj, [key, _t], i) => {\n            obj[key] = values[i];\n            return obj;\n        }, {});\n}\nexport function makeTuple(values, _t) {\n    return values;\n}\nexport function makeGenericType(t, generics) {\n    return new TypeInfo(t.fullname, generics, t.construct, t.parent, t.fields, t.cases);\n}\nexport function createInstance(t, consArgs) {\n    // TODO: Check if consArgs length is same as t.construct?\n    // (Arg types can still be different)\n    if (typeof t.construct === \"function\") {\n        return new t.construct(...(consArgs ?? []));\n    }\n    else if (isErasedToNumber(t)) {\n        return 0;\n    }\n    else if (isErasedToBigInt(t)) {\n        return 0n;\n    }\n    else {\n        switch (t.fullname) {\n            case obj_type.fullname:\n                return {};\n            case bool_type.fullname:\n                return false;\n            case decimal_type.fullname:\n                return new Decimal(0);\n            case char_type.fullname:\n                // Even though char is a value type, it's erased to string, and Unchecked.defaultof<char> is null\n                return null;\n            default:\n                throw new Error(`Cannot access constructor of ${t.fullname}`);\n        }\n    }\n}\nexport function getValue(propertyInfo, v) {\n    return v[propertyInfo[0]];\n}\n// Fable.Core.Reflection\nfunction assertUnion(x) {\n    if (!(x instanceof Union)) {\n        throw new Error(`Value is not an F# union type`);\n    }\n}\nexport function getCaseTag(x) {\n    assertUnion(x);\n    return x.tag;\n}\nexport function getCaseName(x) {\n    assertUnion(x);\n    return x.cases()[x.tag];\n}\nexport function getCaseFields(x) {\n    assertUnion(x);\n    return x.fields;\n}\n","import { Union, Record } from \"../fable_modules/fable-library.4.2.2/Types.js\";\r\nimport { union_type, class_type, option_type, list_type, array_type, bool_type, string_type, record_type, int32_type } from \"../fable_modules/fable-library.4.2.2/Reflection.js\";\r\n\r\nexport class Pos extends Record {\r\n    constructor(Line, Column) {\r\n        super();\r\n        this.Line = (Line | 0);\r\n        this.Column = (Column | 0);\r\n    }\r\n}\r\n\r\nexport function Pos_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.Pos\", [], Pos, () => [[\"Line\", int32_type], [\"Column\", int32_type]]);\r\n}\r\n\r\nexport class ParseRequest extends Record {\r\n    constructor(FileName, IsAsync, Lines, Version) {\r\n        super();\r\n        this.FileName = FileName;\r\n        this.IsAsync = IsAsync;\r\n        this.Lines = Lines;\r\n        this.Version = (Version | 0);\r\n    }\r\n}\r\n\r\nexport function ParseRequest_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.ParseRequest\", [], ParseRequest, () => [[\"FileName\", string_type], [\"IsAsync\", bool_type], [\"Lines\", array_type(string_type)], [\"Version\", int32_type]]);\r\n}\r\n\r\nexport class ProjectRequest extends Record {\r\n    constructor(FileName) {\r\n        super();\r\n        this.FileName = FileName;\r\n    }\r\n}\r\n\r\nexport function ProjectRequest_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.ProjectRequest\", [], ProjectRequest, () => [[\"FileName\", string_type]]);\r\n}\r\n\r\nexport class DeclarationsRequest extends Record {\r\n    constructor(FileName, Lines, Version) {\r\n        super();\r\n        this.FileName = FileName;\r\n        this.Lines = Lines;\r\n        this.Version = (Version | 0);\r\n    }\r\n}\r\n\r\nexport function DeclarationsRequest_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.DeclarationsRequest\", [], DeclarationsRequest, () => [[\"FileName\", string_type], [\"Lines\", array_type(string_type)], [\"Version\", int32_type]]);\r\n}\r\n\r\nexport class HelptextRequest extends Record {\r\n    constructor(Symbol$) {\r\n        super();\r\n        this.Symbol = Symbol$;\r\n    }\r\n}\r\n\r\nexport function HelptextRequest_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.HelptextRequest\", [], HelptextRequest, () => [[\"Symbol\", string_type]]);\r\n}\r\n\r\nexport class PositionRequest extends Record {\r\n    constructor(FileName, Line, Column, Filter) {\r\n        super();\r\n        this.FileName = FileName;\r\n        this.Line = (Line | 0);\r\n        this.Column = (Column | 0);\r\n        this.Filter = Filter;\r\n    }\r\n}\r\n\r\nexport function PositionRequest_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.PositionRequest\", [], PositionRequest, () => [[\"FileName\", string_type], [\"Line\", int32_type], [\"Column\", int32_type], [\"Filter\", string_type]]);\r\n}\r\n\r\nexport class CompletionRequest extends Record {\r\n    constructor(FileName, SourceLine, Line, Column, Filter, IncludeKeywords, IncludeExternal, Version) {\r\n        super();\r\n        this.FileName = FileName;\r\n        this.SourceLine = SourceLine;\r\n        this.Line = (Line | 0);\r\n        this.Column = (Column | 0);\r\n        this.Filter = Filter;\r\n        this.IncludeKeywords = IncludeKeywords;\r\n        this.IncludeExternal = IncludeExternal;\r\n        this.Version = (Version | 0);\r\n    }\r\n}\r\n\r\nexport function CompletionRequest_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.CompletionRequest\", [], CompletionRequest, () => [[\"FileName\", string_type], [\"SourceLine\", string_type], [\"Line\", int32_type], [\"Column\", int32_type], [\"Filter\", string_type], [\"IncludeKeywords\", bool_type], [\"IncludeExternal\", bool_type], [\"Version\", int32_type]]);\r\n}\r\n\r\nexport class WorkspacePeekRequest extends Record {\r\n    constructor(Directory, Deep, ExcludedDirs) {\r\n        super();\r\n        this.Directory = Directory;\r\n        this.Deep = (Deep | 0);\r\n        this.ExcludedDirs = ExcludedDirs;\r\n    }\r\n}\r\n\r\nexport function WorkspacePeekRequest_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.WorkspacePeekRequest\", [], WorkspacePeekRequest, () => [[\"Directory\", string_type], [\"Deep\", int32_type], [\"ExcludedDirs\", array_type(string_type)]]);\r\n}\r\n\r\nexport class RangesAtPositionRequest extends Record {\r\n    constructor(FileName, Positions) {\r\n        super();\r\n        this.FileName = FileName;\r\n        this.Positions = Positions;\r\n    }\r\n}\r\n\r\nexport function RangesAtPositionRequest_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.RangesAtPositionRequest\", [], RangesAtPositionRequest, () => [[\"FileName\", string_type], [\"Positions\", array_type(Pos_$reflection())]]);\r\n}\r\n\r\nexport class WorkspaceLoadRequest extends Record {\r\n    constructor(Files, DisableInMemoryProjectReferences) {\r\n        super();\r\n        this.Files = Files;\r\n        this.DisableInMemoryProjectReferences = DisableInMemoryProjectReferences;\r\n    }\r\n}\r\n\r\nexport function WorkspaceLoadRequest_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.WorkspaceLoadRequest\", [], WorkspaceLoadRequest, () => [[\"Files\", array_type(string_type)], [\"DisableInMemoryProjectReferences\", bool_type]]);\r\n}\r\n\r\nexport class DocumentationForSymbolRequest extends Record {\r\n    constructor(XmlSig, Assembly) {\r\n        super();\r\n        this.XmlSig = XmlSig;\r\n        this.Assembly = Assembly;\r\n    }\r\n}\r\n\r\nexport function DocumentationForSymbolRequest_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.DocumentationForSymbolRequest\", [], DocumentationForSymbolRequest, () => [[\"XmlSig\", string_type], [\"Assembly\", string_type]]);\r\n}\r\n\r\nexport class OverloadSignature extends Record {\r\n    constructor(Signature, Comment$) {\r\n        super();\r\n        this.Signature = Signature;\r\n        this.Comment = Comment$;\r\n    }\r\n}\r\n\r\nexport function OverloadSignature_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.OverloadSignature\", [], OverloadSignature, () => [[\"Signature\", string_type], [\"Comment\", string_type]]);\r\n}\r\n\r\nexport class TooltipSignature extends Record {\r\n    constructor(Signature, Comment$, Footer) {\r\n        super();\r\n        this.Signature = Signature;\r\n        this.Comment = Comment$;\r\n        this.Footer = Footer;\r\n    }\r\n}\r\n\r\nexport function TooltipSignature_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.TooltipSignature\", [], TooltipSignature, () => [[\"Signature\", string_type], [\"Comment\", string_type], [\"Footer\", string_type]]);\r\n}\r\n\r\nexport class DocumentationDescription extends Record {\r\n    constructor(XmlKey, Constructors, Fields, Functions, Interfaces, Attributes, DeclaredTypes, Signature, Comment$, FooterLines) {\r\n        super();\r\n        this.XmlKey = XmlKey;\r\n        this.Constructors = Constructors;\r\n        this.Fields = Fields;\r\n        this.Functions = Functions;\r\n        this.Interfaces = Interfaces;\r\n        this.Attributes = Attributes;\r\n        this.DeclaredTypes = DeclaredTypes;\r\n        this.Signature = Signature;\r\n        this.Comment = Comment$;\r\n        this.FooterLines = FooterLines;\r\n    }\r\n}\r\n\r\nexport function DocumentationDescription_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.DocumentationDescription\", [], DocumentationDescription, () => [[\"XmlKey\", string_type], [\"Constructors\", list_type(string_type)], [\"Fields\", list_type(string_type)], [\"Functions\", list_type(string_type)], [\"Interfaces\", list_type(string_type)], [\"Attributes\", list_type(string_type)], [\"DeclaredTypes\", list_type(string_type)], [\"Signature\", string_type], [\"Comment\", string_type], [\"FooterLines\", list_type(string_type)]]);\r\n}\r\n\r\nexport class Error$ extends Record {\r\n    constructor(StartLine, StartColumn, EndLine, EndColumn, Message, Severity, Subcategory, FileName) {\r\n        super();\r\n        this.StartLine = (StartLine | 0);\r\n        this.StartColumn = (StartColumn | 0);\r\n        this.EndLine = (EndLine | 0);\r\n        this.EndColumn = (EndColumn | 0);\r\n        this.Message = Message;\r\n        this.Severity = Severity;\r\n        this.Subcategory = Subcategory;\r\n        this.FileName = FileName;\r\n    }\r\n}\r\n\r\nexport function Error$_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.Error\", [], Error$, () => [[\"StartLine\", int32_type], [\"StartColumn\", int32_type], [\"EndLine\", int32_type], [\"EndColumn\", int32_type], [\"Message\", string_type], [\"Severity\", string_type], [\"Subcategory\", string_type], [\"FileName\", string_type]]);\r\n}\r\n\r\nexport class ErrorResp extends Record {\r\n    constructor(File, Errors) {\r\n        super();\r\n        this.File = File;\r\n        this.Errors = Errors;\r\n    }\r\n}\r\n\r\nexport function ErrorResp_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.ErrorResp\", [], ErrorResp, () => [[\"File\", string_type], [\"Errors\", array_type(Error$_$reflection())]]);\r\n}\r\n\r\nexport class Declaration extends Record {\r\n    constructor(File, Line, Column) {\r\n        super();\r\n        this.File = File;\r\n        this.Line = (Line | 0);\r\n        this.Column = (Column | 0);\r\n    }\r\n}\r\n\r\nexport function Declaration_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.Declaration\", [], Declaration, () => [[\"File\", string_type], [\"Line\", int32_type], [\"Column\", int32_type]]);\r\n}\r\n\r\nexport class Completion extends Record {\r\n    constructor(Name, ReplacementText, Glyph, GlyphChar, NamespaceToOpen) {\r\n        super();\r\n        this.Name = Name;\r\n        this.ReplacementText = ReplacementText;\r\n        this.Glyph = Glyph;\r\n        this.GlyphChar = GlyphChar;\r\n        this.NamespaceToOpen = NamespaceToOpen;\r\n    }\r\n}\r\n\r\nexport function Completion_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.Completion\", [], Completion, () => [[\"Name\", string_type], [\"ReplacementText\", string_type], [\"Glyph\", string_type], [\"GlyphChar\", string_type], [\"NamespaceToOpen\", string_type]]);\r\n}\r\n\r\nexport class SymbolUse extends Record {\r\n    constructor(FileName, StartLine, StartColumn, EndLine, EndColumn, IsFromDefinition, IsFromAttribute, IsFromComputationExpression, IsFromDispatchSlotImplementation, IsFromPattern, IsFromType) {\r\n        super();\r\n        this.FileName = FileName;\r\n        this.StartLine = (StartLine | 0);\r\n        this.StartColumn = (StartColumn | 0);\r\n        this.EndLine = (EndLine | 0);\r\n        this.EndColumn = (EndColumn | 0);\r\n        this.IsFromDefinition = IsFromDefinition;\r\n        this.IsFromAttribute = IsFromAttribute;\r\n        this.IsFromComputationExpression = IsFromComputationExpression;\r\n        this.IsFromDispatchSlotImplementation = IsFromDispatchSlotImplementation;\r\n        this.IsFromPattern = IsFromPattern;\r\n        this.IsFromType = IsFromType;\r\n    }\r\n}\r\n\r\nexport function SymbolUse_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.SymbolUse\", [], SymbolUse, () => [[\"FileName\", string_type], [\"StartLine\", int32_type], [\"StartColumn\", int32_type], [\"EndLine\", int32_type], [\"EndColumn\", int32_type], [\"IsFromDefinition\", bool_type], [\"IsFromAttribute\", bool_type], [\"IsFromComputationExpression\", bool_type], [\"IsFromDispatchSlotImplementation\", bool_type], [\"IsFromPattern\", bool_type], [\"IsFromType\", bool_type]]);\r\n}\r\n\r\nexport class SymbolUses extends Record {\r\n    constructor(Name, Uses) {\r\n        super();\r\n        this.Name = Name;\r\n        this.Uses = Uses;\r\n    }\r\n}\r\n\r\nexport function SymbolUses_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.SymbolUses\", [], SymbolUses, () => [[\"Name\", string_type], [\"Uses\", array_type(SymbolUse_$reflection())]]);\r\n}\r\n\r\nexport class AdditionalEdit extends Record {\r\n    constructor(Text$, Line, Column, Type) {\r\n        super();\r\n        this.Text = Text$;\r\n        this.Line = (Line | 0);\r\n        this.Column = (Column | 0);\r\n        this.Type = Type;\r\n    }\r\n}\r\n\r\nexport function AdditionalEdit_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.AdditionalEdit\", [], AdditionalEdit, () => [[\"Text\", string_type], [\"Line\", int32_type], [\"Column\", int32_type], [\"Type\", string_type]]);\r\n}\r\n\r\nexport class Helptext extends Record {\r\n    constructor(Name, Overloads, AdditionalEdit) {\r\n        super();\r\n        this.Name = Name;\r\n        this.Overloads = Overloads;\r\n        this.AdditionalEdit = AdditionalEdit;\r\n    }\r\n}\r\n\r\nexport function Helptext_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.Helptext\", [], Helptext, () => [[\"Name\", string_type], [\"Overloads\", array_type(array_type(OverloadSignature_$reflection()))], [\"AdditionalEdit\", AdditionalEdit_$reflection()]]);\r\n}\r\n\r\nexport class OverloadParameter extends Record {\r\n    constructor(Name, CanonicalTypeTextForSorting, Display, Description) {\r\n        super();\r\n        this.Name = Name;\r\n        this.CanonicalTypeTextForSorting = CanonicalTypeTextForSorting;\r\n        this.Display = Display;\r\n        this.Description = Description;\r\n    }\r\n}\r\n\r\nexport function OverloadParameter_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.OverloadParameter\", [], OverloadParameter, () => [[\"Name\", string_type], [\"CanonicalTypeTextForSorting\", string_type], [\"Display\", string_type], [\"Description\", string_type]]);\r\n}\r\n\r\nexport class Overload extends Record {\r\n    constructor(Tip, TypeText, Parameters, IsStaticArguments) {\r\n        super();\r\n        this.Tip = Tip;\r\n        this.TypeText = TypeText;\r\n        this.Parameters = Parameters;\r\n        this.IsStaticArguments = IsStaticArguments;\r\n    }\r\n}\r\n\r\nexport function Overload_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.Overload\", [], Overload, () => [[\"Tip\", array_type(array_type(OverloadSignature_$reflection()))], [\"TypeText\", string_type], [\"Parameters\", array_type(OverloadParameter_$reflection())], [\"IsStaticArguments\", bool_type]]);\r\n}\r\n\r\nexport class Method extends Record {\r\n    constructor(Name, CurrentParameter, Overloads) {\r\n        super();\r\n        this.Name = Name;\r\n        this.CurrentParameter = (CurrentParameter | 0);\r\n        this.Overloads = Overloads;\r\n    }\r\n}\r\n\r\nexport function Method_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.Method\", [], Method, () => [[\"Name\", string_type], [\"CurrentParameter\", int32_type], [\"Overloads\", array_type(Overload_$reflection())]]);\r\n}\r\n\r\nexport class Range$ extends Record {\r\n    constructor(StartColumn, StartLine, EndColumn, EndLine) {\r\n        super();\r\n        this.StartColumn = (StartColumn | 0);\r\n        this.StartLine = (StartLine | 0);\r\n        this.EndColumn = (EndColumn | 0);\r\n        this.EndLine = (EndLine | 0);\r\n    }\r\n}\r\n\r\nexport function Range$_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.Range\", [], Range$, () => [[\"StartColumn\", int32_type], [\"StartLine\", int32_type], [\"EndColumn\", int32_type], [\"EndLine\", int32_type]]);\r\n}\r\n\r\nexport class Symbol$ extends Record {\r\n    constructor(UniqueName, Name, Glyph, GlyphChar, IsTopLevel, Range$, BodyRange, File, EnclosingEntity, IsAbstract) {\r\n        super();\r\n        this.UniqueName = UniqueName;\r\n        this.Name = Name;\r\n        this.Glyph = Glyph;\r\n        this.GlyphChar = GlyphChar;\r\n        this.IsTopLevel = IsTopLevel;\r\n        this.Range = Range$;\r\n        this.BodyRange = BodyRange;\r\n        this.File = File;\r\n        this.EnclosingEntity = EnclosingEntity;\r\n        this.IsAbstract = IsAbstract;\r\n    }\r\n}\r\n\r\nexport function Symbol$_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.Symbol\", [], Symbol$, () => [[\"UniqueName\", string_type], [\"Name\", string_type], [\"Glyph\", string_type], [\"GlyphChar\", string_type], [\"IsTopLevel\", bool_type], [\"Range\", Range$_$reflection()], [\"BodyRange\", Range$_$reflection()], [\"File\", string_type], [\"EnclosingEntity\", string_type], [\"IsAbstract\", bool_type]]);\r\n}\r\n\r\nexport class Symbols extends Record {\r\n    constructor(Declaration, Nested) {\r\n        super();\r\n        this.Declaration = Declaration;\r\n        this.Nested = Nested;\r\n    }\r\n}\r\n\r\nexport function Symbols_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.Symbols\", [], Symbols, () => [[\"Declaration\", Symbol$_$reflection()], [\"Nested\", array_type(Symbol$_$reflection())]]);\r\n}\r\n\r\nexport class Fix extends Record {\r\n    constructor(FromRange, FromText, ToText) {\r\n        super();\r\n        this.FromRange = FromRange;\r\n        this.FromText = FromText;\r\n        this.ToText = ToText;\r\n    }\r\n}\r\n\r\nexport function Fix_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.Fix\", [], Fix, () => [[\"FromRange\", Range$_$reflection()], [\"FromText\", string_type], [\"ToText\", string_type]]);\r\n}\r\n\r\nexport class Lint extends Record {\r\n    constructor(Info, Input, Range$, Fix) {\r\n        super();\r\n        this.Info = Info;\r\n        this.Input = Input;\r\n        this.Range = Range$;\r\n        this.Fix = Fix;\r\n    }\r\n}\r\n\r\nexport function Lint_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.Lint\", [], Lint, () => [[\"Info\", string_type], [\"Input\", string_type], [\"Range\", Range$_$reflection()], [\"Fix\", Fix_$reflection()]]);\r\n}\r\n\r\nexport class AnalyzerMsg extends Record {\r\n    constructor(Type, Message, Code, Severity, Range$, Fixes) {\r\n        super();\r\n        this.Type = Type;\r\n        this.Message = Message;\r\n        this.Code = Code;\r\n        this.Severity = Severity;\r\n        this.Range = Range$;\r\n        this.Fixes = Fixes;\r\n    }\r\n}\r\n\r\nexport function AnalyzerMsg_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.AnalyzerMsg\", [], AnalyzerMsg, () => [[\"Type\", string_type], [\"Message\", string_type], [\"Code\", string_type], [\"Severity\", string_type], [\"Range\", Range$_$reflection()], [\"Fixes\", array_type(Fix_$reflection())]]);\r\n}\r\n\r\nexport class AnalyzerResponse extends Record {\r\n    constructor(File, Messages) {\r\n        super();\r\n        this.File = File;\r\n        this.Messages = Messages;\r\n    }\r\n}\r\n\r\nexport function AnalyzerResponse_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.AnalyzerResponse\", [], AnalyzerResponse, () => [[\"File\", string_type], [\"Messages\", array_type(AnalyzerMsg_$reflection())]]);\r\n}\r\n\r\nexport class ProjectLoading extends Record {\r\n    constructor(Project) {\r\n        super();\r\n        this.Project = Project;\r\n    }\r\n}\r\n\r\nexport function ProjectLoading_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.ProjectLoading\", [], ProjectLoading, () => [[\"Project\", string_type]]);\r\n}\r\n\r\nexport class ProjectResponseInfoDotnetSdk extends Record {\r\n    constructor(IsTestProject, Configuration, IsPackable, TargetFramework, TargetFrameworkIdentifier, TargetFrameworkVersion, RestoreSuccess, TargetFrameworks, RunCmd, IsPublishable) {\r\n        super();\r\n        this.IsTestProject = IsTestProject;\r\n        this.Configuration = Configuration;\r\n        this.IsPackable = IsPackable;\r\n        this.TargetFramework = TargetFramework;\r\n        this.TargetFrameworkIdentifier = TargetFrameworkIdentifier;\r\n        this.TargetFrameworkVersion = TargetFrameworkVersion;\r\n        this.RestoreSuccess = RestoreSuccess;\r\n        this.TargetFrameworks = TargetFrameworks;\r\n        this.RunCmd = RunCmd;\r\n        this.IsPublishable = IsPublishable;\r\n    }\r\n}\r\n\r\nexport function ProjectResponseInfoDotnetSdk_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.ProjectResponseInfoDotnetSdk\", [], ProjectResponseInfoDotnetSdk, () => [[\"IsTestProject\", bool_type], [\"Configuration\", string_type], [\"IsPackable\", bool_type], [\"TargetFramework\", string_type], [\"TargetFrameworkIdentifier\", string_type], [\"TargetFrameworkVersion\", string_type], [\"RestoreSuccess\", bool_type], [\"TargetFrameworks\", list_type(string_type)], [\"RunCmd\", option_type(RunCmd_$reflection())], [\"IsPublishable\", option_type(bool_type)]]);\r\n}\r\n\r\nexport class RunCmd extends Record {\r\n    constructor(Command, Arguments) {\r\n        super();\r\n        this.Command = Command;\r\n        this.Arguments = Arguments;\r\n    }\r\n}\r\n\r\nexport function RunCmd_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.RunCmd\", [], RunCmd, () => [[\"Command\", string_type], [\"Arguments\", string_type]]);\r\n}\r\n\r\nexport class ProjectResponseItem extends Record {\r\n    constructor(Name, FilePath, VirtualPath, Metadata) {\r\n        super();\r\n        this.Name = Name;\r\n        this.FilePath = FilePath;\r\n        this.VirtualPath = VirtualPath;\r\n        this.Metadata = Metadata;\r\n    }\r\n}\r\n\r\nexport function ProjectResponseItem_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.ProjectResponseItem\", [], ProjectResponseItem, () => [[\"Name\", string_type], [\"FilePath\", string_type], [\"VirtualPath\", string_type], [\"Metadata\", class_type(\"Microsoft.FSharp.Collections.FSharpMap`2\", [string_type, string_type])]]);\r\n}\r\n\r\nexport class ProjectReference extends Record {\r\n    constructor(RelativePath, ProjectFileName) {\r\n        super();\r\n        this.RelativePath = RelativePath;\r\n        this.ProjectFileName = ProjectFileName;\r\n    }\r\n}\r\n\r\nexport function ProjectReference_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.ProjectReference\", [], ProjectReference, () => [[\"RelativePath\", string_type], [\"ProjectFileName\", string_type]]);\r\n}\r\n\r\nexport class PackageReference extends Record {\r\n    constructor(Name, Version, FullPath) {\r\n        super();\r\n        this.Name = Name;\r\n        this.Version = Version;\r\n        this.FullPath = FullPath;\r\n    }\r\n}\r\n\r\nexport function PackageReference_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.PackageReference\", [], PackageReference, () => [[\"Name\", string_type], [\"Version\", string_type], [\"FullPath\", string_type]]);\r\n}\r\n\r\nexport class Project extends Record {\r\n    constructor(Project, Files, Output, References, ProjectReferences, PackageReferences, Logs, OutputType, Info, Items, AdditionalInfo) {\r\n        super();\r\n        this.Project = Project;\r\n        this.Files = Files;\r\n        this.Output = Output;\r\n        this.References = References;\r\n        this.ProjectReferences = ProjectReferences;\r\n        this.PackageReferences = PackageReferences;\r\n        this.Logs = Logs;\r\n        this.OutputType = OutputType;\r\n        this.Info = Info;\r\n        this.Items = Items;\r\n        this.AdditionalInfo = AdditionalInfo;\r\n    }\r\n}\r\n\r\nexport function Project_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.Project\", [], Project, () => [[\"Project\", string_type], [\"Files\", array_type(string_type)], [\"Output\", string_type], [\"References\", array_type(string_type)], [\"ProjectReferences\", array_type(ProjectReference_$reflection())], [\"PackageReferences\", array_type(PackageReference_$reflection())], [\"Logs\", class_type(\"Microsoft.FSharp.Collections.FSharpMap`2\", [string_type, string_type])], [\"OutputType\", string_type], [\"Info\", ProjectResponseInfoDotnetSdk_$reflection()], [\"Items\", array_type(ProjectResponseItem_$reflection())], [\"AdditionalInfo\", class_type(\"Microsoft.FSharp.Collections.FSharpMap`2\", [string_type, string_type])]]);\r\n}\r\n\r\nexport class FsdnRequest extends Record {\r\n    constructor(Signature) {\r\n        super();\r\n        this.Signature = Signature;\r\n    }\r\n}\r\n\r\nexport function FsdnRequest_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.FsdnRequest\", [], FsdnRequest, () => [[\"Signature\", string_type]]);\r\n}\r\n\r\nexport class OpenNamespace extends Record {\r\n    constructor(Namespace, Name, Type, Line, Column, MultipleNames) {\r\n        super();\r\n        this.Namespace = Namespace;\r\n        this.Name = Name;\r\n        this.Type = Type;\r\n        this.Line = (Line | 0);\r\n        this.Column = (Column | 0);\r\n        this.MultipleNames = MultipleNames;\r\n    }\r\n}\r\n\r\nexport function OpenNamespace_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.OpenNamespace\", [], OpenNamespace, () => [[\"Namespace\", string_type], [\"Name\", string_type], [\"Type\", string_type], [\"Line\", int32_type], [\"Column\", int32_type], [\"MultipleNames\", bool_type]]);\r\n}\r\n\r\nexport class QualifySymbol extends Record {\r\n    constructor(Name, Qualifier) {\r\n        super();\r\n        this.Name = Name;\r\n        this.Qualifier = Qualifier;\r\n    }\r\n}\r\n\r\nexport function QualifySymbol_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.QualifySymbol\", [], QualifySymbol, () => [[\"Name\", string_type], [\"Qualifier\", string_type]]);\r\n}\r\n\r\nexport class ResolveNamespace extends Record {\r\n    constructor(Opens, Qualifies, Word) {\r\n        super();\r\n        this.Opens = Opens;\r\n        this.Qualifies = Qualifies;\r\n        this.Word = Word;\r\n    }\r\n}\r\n\r\nexport function ResolveNamespace_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.ResolveNamespace\", [], ResolveNamespace, () => [[\"Opens\", array_type(OpenNamespace_$reflection())], [\"Qualifies\", array_type(QualifySymbol_$reflection())], [\"Word\", string_type]]);\r\n}\r\n\r\nexport class UnionCaseGenerator extends Record {\r\n    constructor(Text$, Position) {\r\n        super();\r\n        this.Text = Text$;\r\n        this.Position = Position;\r\n    }\r\n}\r\n\r\nexport function UnionCaseGenerator_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.UnionCaseGenerator\", [], UnionCaseGenerator, () => [[\"Text\", string_type], [\"Position\", Pos_$reflection()]]);\r\n}\r\n\r\nexport class RecordStubCaseGenerator extends Record {\r\n    constructor(Text$, Position) {\r\n        super();\r\n        this.Text = Text$;\r\n        this.Position = Position;\r\n    }\r\n}\r\n\r\nexport function RecordStubCaseGenerator_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.RecordStubCaseGenerator\", [], RecordStubCaseGenerator, () => [[\"Text\", string_type], [\"Position\", Pos_$reflection()]]);\r\n}\r\n\r\nexport class InterfaceStubGenerator extends Record {\r\n    constructor(Text$, Position) {\r\n        super();\r\n        this.Text = Text$;\r\n        this.Position = Position;\r\n    }\r\n}\r\n\r\nexport function InterfaceStubGenerator_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.InterfaceStubGenerator\", [], InterfaceStubGenerator, () => [[\"Text\", string_type], [\"Position\", Pos_$reflection()]]);\r\n}\r\n\r\nexport class Parameter extends Record {\r\n    constructor(Name, Type) {\r\n        super();\r\n        this.Name = Name;\r\n        this.Type = Type;\r\n    }\r\n}\r\n\r\nexport function Parameter_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.Parameter\", [], Parameter, () => [[\"Name\", string_type], [\"Type\", string_type]]);\r\n}\r\n\r\nexport class SignatureData extends Record {\r\n    constructor(OutputType, Parameters, Generics) {\r\n        super();\r\n        this.OutputType = OutputType;\r\n        this.Parameters = Parameters;\r\n        this.Generics = Generics;\r\n    }\r\n}\r\n\r\nexport function SignatureData_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.SignatureData\", [], SignatureData, () => [[\"OutputType\", string_type], [\"Parameters\", list_type(list_type(Parameter_$reflection()))], [\"Generics\", list_type(string_type)]]);\r\n}\r\n\r\nexport class RangesAtPosition extends Record {\r\n    constructor(Ranges) {\r\n        super();\r\n        this.Ranges = Ranges;\r\n    }\r\n}\r\n\r\nexport function RangesAtPosition_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.RangesAtPosition\", [], RangesAtPosition, () => [[\"Ranges\", list_type(list_type(Range$_$reflection()))]]);\r\n}\r\n\r\nexport class WorkspacePeek extends Record {\r\n    constructor(Found) {\r\n        super();\r\n        this.Found = Found;\r\n    }\r\n}\r\n\r\nexport function WorkspacePeek_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.WorkspacePeek\", [], WorkspacePeek, () => [[\"Found\", array_type(WorkspacePeekFound_$reflection())]]);\r\n}\r\n\r\nexport class WorkspacePeekFound extends Union {\r\n    constructor(tag, fields) {\r\n        super();\r\n        this.tag = tag;\r\n        this.fields = fields;\r\n    }\r\n    cases() {\r\n        return [\"Directory\", \"Solution\"];\r\n    }\r\n}\r\n\r\nexport function WorkspacePeekFound_$reflection() {\r\n    return union_type(\"Ionide.VSCode.FSharp.DTO.WorkspacePeekFound\", [], WorkspacePeekFound, () => [[[\"Item\", WorkspacePeekFoundDirectory_$reflection()]], [[\"Item\", WorkspacePeekFoundSolution_$reflection()]]]);\r\n}\r\n\r\nexport class WorkspacePeekFoundDirectory extends Record {\r\n    constructor(Directory, Fsprojs) {\r\n        super();\r\n        this.Directory = Directory;\r\n        this.Fsprojs = Fsprojs;\r\n    }\r\n}\r\n\r\nexport function WorkspacePeekFoundDirectory_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.WorkspacePeekFoundDirectory\", [], WorkspacePeekFoundDirectory, () => [[\"Directory\", string_type], [\"Fsprojs\", array_type(string_type)]]);\r\n}\r\n\r\nexport class WorkspacePeekFoundSolution extends Record {\r\n    constructor(Path, Items, Configurations) {\r\n        super();\r\n        this.Path = Path;\r\n        this.Items = Items;\r\n        this.Configurations = Configurations;\r\n    }\r\n}\r\n\r\nexport function WorkspacePeekFoundSolution_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.WorkspacePeekFoundSolution\", [], WorkspacePeekFoundSolution, () => [[\"Path\", string_type], [\"Items\", array_type(WorkspacePeekFoundSolutionItem_$reflection())], [\"Configurations\", array_type(WorkspacePeekFoundSolutionConfiguration_$reflection())]]);\r\n}\r\n\r\nexport class WorkspacePeekFoundSolutionItem extends Record {\r\n    constructor(Guid, Name, Kind) {\r\n        super();\r\n        this.Guid = Guid;\r\n        this.Name = Name;\r\n        this.Kind = Kind;\r\n    }\r\n}\r\n\r\nexport function WorkspacePeekFoundSolutionItem_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.WorkspacePeekFoundSolutionItem\", [], WorkspacePeekFoundSolutionItem, () => [[\"Guid\", string_type], [\"Name\", string_type], [\"Kind\", WorkspacePeekFoundSolutionItemKind_$reflection()]]);\r\n}\r\n\r\nexport class WorkspacePeekFoundSolutionItemKind extends Union {\r\n    constructor(tag, fields) {\r\n        super();\r\n        this.tag = tag;\r\n        this.fields = fields;\r\n    }\r\n    cases() {\r\n        return [\"MsbuildFormat\", \"Folder\"];\r\n    }\r\n}\r\n\r\nexport function WorkspacePeekFoundSolutionItemKind_$reflection() {\r\n    return union_type(\"Ionide.VSCode.FSharp.DTO.WorkspacePeekFoundSolutionItemKind\", [], WorkspacePeekFoundSolutionItemKind, () => [[[\"Item\", WorkspacePeekFoundSolutionItemKindMsbuildFormat_$reflection()]], [[\"Item\", WorkspacePeekFoundSolutionItemKindFolder_$reflection()]]]);\r\n}\r\n\r\nexport class WorkspacePeekFoundSolutionItemKindMsbuildFormat extends Record {\r\n    constructor(Configurations) {\r\n        super();\r\n        this.Configurations = Configurations;\r\n    }\r\n}\r\n\r\nexport function WorkspacePeekFoundSolutionItemKindMsbuildFormat_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.WorkspacePeekFoundSolutionItemKindMsbuildFormat\", [], WorkspacePeekFoundSolutionItemKindMsbuildFormat, () => [[\"Configurations\", array_type(WorkspacePeekFoundSolutionConfiguration_$reflection())]]);\r\n}\r\n\r\nexport class WorkspacePeekFoundSolutionItemKindFolder extends Record {\r\n    constructor(Items, Files) {\r\n        super();\r\n        this.Items = Items;\r\n        this.Files = Files;\r\n    }\r\n}\r\n\r\nexport function WorkspacePeekFoundSolutionItemKindFolder_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.WorkspacePeekFoundSolutionItemKindFolder\", [], WorkspacePeekFoundSolutionItemKindFolder, () => [[\"Items\", array_type(WorkspacePeekFoundSolutionItem_$reflection())], [\"Files\", array_type(string_type)]]);\r\n}\r\n\r\nexport class WorkspacePeekFoundSolutionConfiguration extends Record {\r\n    constructor(Id, ConfigurationName, PlatformName) {\r\n        super();\r\n        this.Id = Id;\r\n        this.ConfigurationName = ConfigurationName;\r\n        this.PlatformName = PlatformName;\r\n    }\r\n}\r\n\r\nexport function WorkspacePeekFoundSolutionConfiguration_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.WorkspacePeekFoundSolutionConfiguration\", [], WorkspacePeekFoundSolutionConfiguration, () => [[\"Id\", string_type], [\"ConfigurationName\", string_type], [\"PlatformName\", string_type]]);\r\n}\r\n\r\nexport class FsdnResponse extends Record {\r\n    constructor(Functions) {\r\n        super();\r\n        this.Functions = Functions;\r\n    }\r\n}\r\n\r\nexport function FsdnResponse_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.FsdnResponse\", [], FsdnResponse, () => [[\"Functions\", array_type(string_type)]]);\r\n}\r\n\r\nexport class HighlightingRange extends Record {\r\n    constructor(range, tokenType) {\r\n        super();\r\n        this.range = range;\r\n        this.tokenType = tokenType;\r\n    }\r\n}\r\n\r\nexport function HighlightingRange_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.HighlightingRange\", [], HighlightingRange, () => [[\"range\", class_type(\"Fable.Import.VSCode.Vscode.Range\")], [\"tokenType\", string_type]]);\r\n}\r\n\r\nexport class HighlightingResponse extends Record {\r\n    constructor(highlights) {\r\n        super();\r\n        this.highlights = highlights;\r\n    }\r\n}\r\n\r\nexport function HighlightingResponse_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.HighlightingResponse\", [], HighlightingResponse, () => [[\"highlights\", array_type(HighlightingRange_$reflection())]]);\r\n}\r\n\r\nexport class ResponseError$1 extends Record {\r\n    constructor(Code, Message, AdditionalData) {\r\n        super();\r\n        this.Code = (Code | 0);\r\n        this.Message = Message;\r\n        this.AdditionalData = AdditionalData;\r\n    }\r\n}\r\n\r\nexport function ResponseError$1_$reflection(gen0) {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.ResponseError`1\", [gen0], ResponseError$1, () => [[\"Code\", int32_type], [\"Message\", string_type], [\"AdditionalData\", gen0]]);\r\n}\r\n\r\nexport class ErrorDataTypes_ProjectNotRestoredData extends Record {\r\n    constructor(Project) {\r\n        super();\r\n        this.Project = Project;\r\n    }\r\n}\r\n\r\nexport function ErrorDataTypes_ProjectNotRestoredData_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.ErrorDataTypes.ProjectNotRestoredData\", [], ErrorDataTypes_ProjectNotRestoredData, () => [[\"Project\", string_type]]);\r\n}\r\n\r\nexport class ErrorDataTypes_ProjectParsingFailedData extends Record {\r\n    constructor(Project) {\r\n        super();\r\n        this.Project = Project;\r\n    }\r\n}\r\n\r\nexport function ErrorDataTypes_ProjectParsingFailedData_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.ErrorDataTypes.ProjectParsingFailedData\", [], ErrorDataTypes_ProjectParsingFailedData, () => [[\"Project\", string_type]]);\r\n}\r\n\r\nexport class ErrorDataTypes_LanguageNotSupportedData extends Record {\r\n    constructor(Project) {\r\n        super();\r\n        this.Project = Project;\r\n    }\r\n}\r\n\r\nexport function ErrorDataTypes_LanguageNotSupportedData_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.ErrorDataTypes.LanguageNotSupportedData\", [], ErrorDataTypes_LanguageNotSupportedData, () => [[\"Project\", string_type]]);\r\n}\r\n\r\nexport class ErrorData extends Union {\r\n    constructor(tag, fields) {\r\n        super();\r\n        this.tag = tag;\r\n        this.fields = fields;\r\n    }\r\n    cases() {\r\n        return [\"GenericError\", \"ProjectNotRestored\", \"ProjectParsingFailed\", \"LangugageNotSupported\"];\r\n    }\r\n}\r\n\r\nexport function ErrorData_$reflection() {\r\n    return union_type(\"Ionide.VSCode.FSharp.DTO.ErrorData\", [], ErrorData, () => [[], [[\"Item\", ErrorDataTypes_ProjectNotRestoredData_$reflection()]], [[\"Item\", ErrorDataTypes_ProjectParsingFailedData_$reflection()]], [[\"Item\", ErrorDataTypes_LanguageNotSupportedData_$reflection()]]]);\r\n}\r\n\r\nexport class UnusedDeclaration extends Record {\r\n    constructor(Range$, IsThisMember) {\r\n        super();\r\n        this.Range = Range$;\r\n        this.IsThisMember = IsThisMember;\r\n    }\r\n}\r\n\r\nexport function UnusedDeclaration_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.UnusedDeclaration\", [], UnusedDeclaration, () => [[\"Range\", Range$_$reflection()], [\"IsThisMember\", bool_type]]);\r\n}\r\n\r\nexport class UnusedDeclarations extends Record {\r\n    constructor(Declarations) {\r\n        super();\r\n        this.Declarations = Declarations;\r\n    }\r\n}\r\n\r\nexport function UnusedDeclarations_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.UnusedDeclarations\", [], UnusedDeclarations, () => [[\"Declarations\", array_type(UnusedDeclaration_$reflection())]]);\r\n}\r\n\r\nexport class UnusedOpens extends Record {\r\n    constructor(Declarations) {\r\n        super();\r\n        this.Declarations = Declarations;\r\n    }\r\n}\r\n\r\nexport function UnusedOpens_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.UnusedOpens\", [], UnusedOpens, () => [[\"Declarations\", array_type(Range$_$reflection())]]);\r\n}\r\n\r\nexport class SimplifiedNameData extends Record {\r\n    constructor(RelativeName, UnnecessaryRange) {\r\n        super();\r\n        this.RelativeName = RelativeName;\r\n        this.UnnecessaryRange = UnnecessaryRange;\r\n    }\r\n}\r\n\r\nexport function SimplifiedNameData_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.SimplifiedNameData\", [], SimplifiedNameData, () => [[\"RelativeName\", string_type], [\"UnnecessaryRange\", Range$_$reflection()]]);\r\n}\r\n\r\nexport class SimplifiedName extends Record {\r\n    constructor(Names) {\r\n        super();\r\n        this.Names = Names;\r\n    }\r\n}\r\n\r\nexport function SimplifiedName_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.SimplifiedName\", [], SimplifiedName, () => [[\"Names\", array_type(SimplifiedNameData_$reflection())]]);\r\n}\r\n\r\nexport class CompileData extends Record {\r\n    constructor(Code) {\r\n        super();\r\n        this.Code = (Code | 0);\r\n    }\r\n}\r\n\r\nexport function CompileData_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.CompileData\", [], CompileData, () => [[\"Code\", int32_type]]);\r\n}\r\n\r\nexport class PipelineHint extends Record {\r\n    constructor(Line, Types, PrecedingNonPipeExprLine) {\r\n        super();\r\n        this.Line = (Line | 0);\r\n        this.Types = Types;\r\n        this.PrecedingNonPipeExprLine = PrecedingNonPipeExprLine;\r\n    }\r\n}\r\n\r\nexport function PipelineHint_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.PipelineHint\", [], PipelineHint, () => [[\"Line\", int32_type], [\"Types\", array_type(string_type)], [\"PrecedingNonPipeExprLine\", option_type(int32_type)]]);\r\n}\r\n\r\nexport class TestAdapterEntry extends Record {\r\n    constructor(name, range, childs, id, list, type, moduleType) {\r\n        super();\r\n        this.name = name;\r\n        this.range = range;\r\n        this.childs = childs;\r\n        this.id = (id | 0);\r\n        this.list = list;\r\n        this.type = type;\r\n        this.moduleType = moduleType;\r\n    }\r\n}\r\n\r\nexport function TestAdapterEntry_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.TestAdapterEntry\", [], TestAdapterEntry, () => [[\"name\", string_type], [\"range\", class_type(\"Fable.Import.VSCode.Vscode.Range\")], [\"childs\", array_type(TestAdapterEntry_$reflection())], [\"id\", int32_type], [\"list\", bool_type], [\"type\", string_type], [\"moduleType\", string_type]]);\r\n}\r\n\r\nexport class TestForFile extends Record {\r\n    constructor(file, tests) {\r\n        super();\r\n        this.file = file;\r\n        this.tests = tests;\r\n    }\r\n}\r\n\r\nexport function TestForFile_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.TestForFile\", [], TestForFile, () => [[\"file\", string_type], [\"tests\", array_type(TestAdapterEntry_$reflection())]]);\r\n}\r\n\r\nexport class Result$1 extends Record {\r\n    constructor(Kind, Data) {\r\n        super();\r\n        this.Kind = Kind;\r\n        this.Data = Data;\r\n    }\r\n}\r\n\r\nexport function Result$1_$reflection(gen0) {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.Result`1\", [gen0], Result$1, () => [[\"Kind\", string_type], [\"Data\", gen0]]);\r\n}\r\n\r\nexport class DotnetNew_Template extends Record {\r\n    constructor(Name, ShortName, Tags) {\r\n        super();\r\n        this.Name = Name;\r\n        this.ShortName = ShortName;\r\n        this.Tags = Tags;\r\n    }\r\n}\r\n\r\nexport function DotnetNew_Template_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.DotnetNew.Template\", [], DotnetNew_Template, () => [[\"Name\", string_type], [\"ShortName\", string_type], [\"Tags\", list_type(string_type)]]);\r\n}\r\n\r\nexport class DotnetNew_DotnetNewListRequest extends Record {\r\n    constructor(Query) {\r\n        super();\r\n        this.Query = Query;\r\n    }\r\n}\r\n\r\nexport function DotnetNew_DotnetNewListRequest_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.DotnetNew.DotnetNewListRequest\", [], DotnetNew_DotnetNewListRequest, () => [[\"Query\", string_type]]);\r\n}\r\n\r\nexport class DotnetNew_DotnetNewRunRequest extends Record {\r\n    constructor(Template, Output, Name) {\r\n        super();\r\n        this.Template = Template;\r\n        this.Output = Output;\r\n        this.Name = Name;\r\n    }\r\n}\r\n\r\nexport function DotnetNew_DotnetNewRunRequest_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.DotnetNew.DotnetNewRunRequest\", [], DotnetNew_DotnetNewRunRequest, () => [[\"Template\", string_type], [\"Output\", option_type(string_type)], [\"Name\", option_type(string_type)]]);\r\n}\r\n\r\nexport class FsProj_DotnetProjectRequest extends Record {\r\n    constructor(Target, Reference) {\r\n        super();\r\n        this.Target = Target;\r\n        this.Reference = Reference;\r\n    }\r\n}\r\n\r\nexport function FsProj_DotnetProjectRequest_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.FsProj.DotnetProjectRequest\", [], FsProj_DotnetProjectRequest, () => [[\"Target\", string_type], [\"Reference\", string_type]]);\r\n}\r\n\r\nexport class FsProj_DotnetFileRequest extends Record {\r\n    constructor(FsProj, FileVirtualPath) {\r\n        super();\r\n        this.FsProj = FsProj;\r\n        this.FileVirtualPath = FileVirtualPath;\r\n    }\r\n}\r\n\r\nexport function FsProj_DotnetFileRequest_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.FsProj.DotnetFileRequest\", [], FsProj_DotnetFileRequest, () => [[\"FsProj\", string_type], [\"FileVirtualPath\", string_type]]);\r\n}\r\n\r\nexport class FsProj_DotnetFile2Request extends Record {\r\n    constructor(FsProj, FileVirtualPath, NewFile) {\r\n        super();\r\n        this.FsProj = FsProj;\r\n        this.FileVirtualPath = FileVirtualPath;\r\n        this.NewFile = NewFile;\r\n    }\r\n}\r\n\r\nexport function FsProj_DotnetFile2Request_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.FsProj.DotnetFile2Request\", [], FsProj_DotnetFile2Request, () => [[\"FsProj\", string_type], [\"FileVirtualPath\", string_type], [\"NewFile\", string_type]]);\r\n}\r\n\r\nexport class FsProj_DotnetRenameFileRequest extends Record {\r\n    constructor(FsProj, OldFileVirtualPath, NewFileName) {\r\n        super();\r\n        this.FsProj = FsProj;\r\n        this.OldFileVirtualPath = OldFileVirtualPath;\r\n        this.NewFileName = NewFileName;\r\n    }\r\n}\r\n\r\nexport function FsProj_DotnetRenameFileRequest_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.DTO.FsProj.DotnetRenameFileRequest\", [], FsProj_DotnetRenameFileRequest, () => [[\"FsProj\", string_type], [\"OldFileVirtualPath\", string_type], [\"NewFileName\", string_type]]);\r\n}\r\n\r\n//# sourceMappingURL=DTO.js.map\r\n","import { Result_MapError, Result_Map, FSharpResult$2 } from \"../fable-library.4.2.2/Choice.js\";\r\nimport { class_type } from \"../fable-library.4.2.2/Reflection.js\";\r\nimport { disposeSafe, getEnumerator } from \"../fable-library.4.2.2/Util.js\";\r\n\r\n/**\r\n * This is an identity function, it calls the given function and return the promise value untouched.\r\n * <example>\r\n * <code lang=\"fsharp\">\r\n * fetchUser ()\r\n * |> Promise.tap (fun user ->\r\n * // Do something\r\n * console.log \"The user has been received\"\r\n * )\r\n * |> Promise.map (fun user ->\r\n * // user value is available here untouched\r\n * )\r\n * </code>\r\n * </example>\r\n */\r\nexport function tap(fn, a) {\r\n    return a.then((x) => {\r\n        fn(x);\r\n        return x;\r\n    });\r\n}\r\n\r\n/**\r\n * Map the <c>Promise</c> result into a <c>Result</c> type.\r\n * <example>\r\n * <code lang=\"fsharp\">\r\n * Success example\r\n * Promise.lift 42\r\n * |> Promise.result\r\n * |> Promise.map (fun value ->\r\n * // value = Ok 42\r\n * )\r\n * \r\n * // Fail example\r\n * Promise.reject \"Invalid value\"\r\n * |> Promise.result\r\n * |> Promise.map (fun value ->\r\n * // value = Error \"Invalid value\"\r\n * )\r\n * </code>\r\n * </example>\r\n */\r\nexport function result(a) {\r\n    return a.then((arg) => (new FSharpResult$2(0, [arg]))).catch((arg_1) => (new FSharpResult$2(1, [arg_1])));\r\n}\r\n\r\n/**\r\n * Evaluates to `myPromise |> Promise.map (Result.map fn)`\r\n * <example>\r\n * <code lang=\"fsharp\">\r\n * Promise.lift 42\r\n * |> Promise.result\r\n * |> Promise.mapResult (fun value ->\r\n * value + 10\r\n * )\r\n * |> Promise.map (fun value ->\r\n * // value = Ok 52\r\n * )\r\n * </code>\r\n * </example>\r\n */\r\nexport function mapResult(fn, a) {\r\n    return a.then((result_1) => Result_Map(fn, result_1));\r\n}\r\n\r\n/**\r\n * Transform the success part of a result promise into another promise.\r\n * <example>\r\n * <code lang=\"fsharp\">\r\n * let multiplyBy2 (value : int) =\r\n * Promise.create (fun resolve reject ->\r\n * resolve (value * 2)\r\n * )\r\n * \r\n * Promise.lift 42\r\n * |> Promise.result\r\n * |> Promise.bindResult (fun value ->\r\n * multiplyBy2 value\r\n * )\r\n * |> Promise.map (fun value ->\r\n * // value = Ok 84\r\n * )\r\n * </code>\r\n * </example>\r\n */\r\nexport function bindResult(fn, a) {\r\n    return a.then((a_1) => {\r\n        if (a_1.tag === 1) {\r\n            return Promise.resolve(new FSharpResult$2(1, [a_1.fields[0]]));\r\n        }\r\n        else {\r\n            const pr = fn(a_1.fields[0]);\r\n            return pr.then((arg) => (new FSharpResult$2(0, [arg])));\r\n        }\r\n    });\r\n}\r\n\r\n/**\r\n * Evaluates to <c>myPromise |> Promise.map (Result.map fn)</c>\r\n * <example>\r\n * <code lang=\"fsharp\">\r\n * Promise.reject -1\r\n * |> Promise.result\r\n * |> Promise.mapResultError (fun value ->\r\n * $\"%s{value} is not a valid value\"\r\n * )\r\n * |> Promise.map (fun value ->\r\n * // value = Error \"-1 is not a valid value\"\r\n * )\r\n * </code>\r\n * </example>\r\n */\r\nexport function mapResultError(fn, a) {\r\n    return a.then((result_1) => Result_MapError(fn, result_1));\r\n}\r\n\r\nexport class PromiseBuilder {\r\n    constructor() {\r\n    }\r\n}\r\n\r\nexport function PromiseBuilder_$reflection() {\r\n    return class_type(\"Promise.PromiseBuilder\", void 0, PromiseBuilder);\r\n}\r\n\r\nexport function PromiseBuilder_$ctor() {\r\n    return new PromiseBuilder();\r\n}\r\n\r\nexport function PromiseBuilder__For_1565554B(_, seq, body) {\r\n    let pr;\r\n    let p = Promise.resolve(void 0);\r\n    const enumerator = getEnumerator(seq);\r\n    try {\r\n        while (enumerator[\"System.Collections.IEnumerator.MoveNext\"]()) {\r\n            const a = enumerator[\"System.Collections.Generic.IEnumerator`1.get_Current\"]();\r\n            p = ((pr = p, pr.then(() => body(a))));\r\n        }\r\n    }\r\n    finally {\r\n        disposeSafe(enumerator);\r\n    }\r\n    return p;\r\n}\r\n\r\nexport function PromiseBuilder__While_2044D34(this$, guard, p) {\r\n    if (guard()) {\r\n        return p.then(() => PromiseBuilder__While_2044D34(this$, guard, p));\r\n    }\r\n    else {\r\n        return Promise.resolve(void 0);\r\n    }\r\n}\r\n\r\nexport function PromiseBuilder__TryFinally_7D49A2FD(_, p, compensation) {\r\n    return p.then((x) => {\r\n        compensation();\r\n        return x;\r\n    }).catch((er) => {\r\n        compensation();\r\n        throw er;\r\n    });\r\n}\r\n\r\nexport function PromiseBuilder__Delay_62FBFDE1(_, generator) {\r\n    return {\r\n        then: (onSuccess, onError) => {\r\n            try {\r\n                return generator().then(onSuccess, onError);\r\n            }\r\n            catch (er) {\r\n                if (onError == null) {\r\n                    return Promise.reject(er);\r\n                }\r\n                else {\r\n                    try {\r\n                        const a = onError(er);\r\n                        return Promise.resolve(a);\r\n                    }\r\n                    catch (er_1) {\r\n                        return Promise.reject(er_1);\r\n                    }\r\n                }\r\n            }\r\n        },\r\n        catch: (onError_1) => {\r\n            try {\r\n                return generator().catch(onError_1);\r\n            }\r\n            catch (er_2) {\r\n                try {\r\n                    const a_1 = onError_1(er_2);\r\n                    return Promise.resolve(a_1);\r\n                }\r\n                catch (er_3) {\r\n                    return Promise.reject(er_3);\r\n                }\r\n            }\r\n        },\r\n    };\r\n}\r\n\r\nexport function PromiseBuilder__Run_212F1D4B(_, p) {\r\n    return p.then((x) => x);\r\n}\r\n\r\nexport function PromiseBuilder__Using_74F7E79D(this$, resource, binder) {\r\n    return PromiseBuilder__TryFinally_7D49A2FD(this$, binder(resource), () => {\r\n        let copyOfStruct = resource;\r\n        disposeSafe(copyOfStruct);\r\n    });\r\n}\r\n\r\n//# sourceMappingURL=Promise.fs.js.map\r\n","import { Union } from \"./Types.js\";\nimport { union_type } from \"./Reflection.js\";\nimport { some } from \"./Option.js\";\nexport function FSharpResult$2_Ok(ResultValue) {\n    return new FSharpResult$2(0, [ResultValue]);\n}\nexport function FSharpResult$2_Error(ErrorValue) {\n    return new FSharpResult$2(1, [ErrorValue]);\n}\nexport class FSharpResult$2 extends Union {\n    constructor(tag, fields) {\n        super();\n        this.tag = tag;\n        this.fields = fields;\n    }\n    cases() {\n        return [\"Ok\", \"Error\"];\n    }\n}\nexport function FSharpResult$2_$reflection(gen0, gen1) {\n    return union_type(\"FSharp.Core.FSharpResult`2\", [gen0, gen1], FSharpResult$2, () => [[[\"ResultValue\", gen0]], [[\"ErrorValue\", gen1]]]);\n}\nexport function Result_Map(mapping, result) {\n    if (result.tag === /* Ok */ 0) {\n        return FSharpResult$2_Ok(mapping(result.fields[0]));\n    }\n    else {\n        return FSharpResult$2_Error(result.fields[0]);\n    }\n}\nexport function Result_MapError(mapping, result) {\n    if (result.tag === /* Ok */ 0) {\n        return FSharpResult$2_Ok(result.fields[0]);\n    }\n    else {\n        return FSharpResult$2_Error(mapping(result.fields[0]));\n    }\n}\nexport function Result_Bind(binder, result) {\n    if (result.tag === /* Ok */ 0) {\n        return binder(result.fields[0]);\n    }\n    else {\n        return FSharpResult$2_Error(result.fields[0]);\n    }\n}\nexport function FSharpChoice$2_Choice1Of2(Item) {\n    return new FSharpChoice$2(0, [Item]);\n}\nexport function FSharpChoice$2_Choice2Of2(Item) {\n    return new FSharpChoice$2(1, [Item]);\n}\nexport class FSharpChoice$2 extends Union {\n    constructor(tag, fields) {\n        super();\n        this.tag = tag;\n        this.fields = fields;\n    }\n    cases() {\n        return [\"Choice1Of2\", \"Choice2Of2\"];\n    }\n}\nexport function FSharpChoice$2_$reflection(gen0, gen1) {\n    return union_type(\"FSharp.Core.FSharpChoice`2\", [gen0, gen1], FSharpChoice$2, () => [[[\"Item\", gen0]], [[\"Item\", gen1]]]);\n}\nexport function FSharpChoice$3_Choice1Of3(Item) {\n    return new FSharpChoice$3(0, [Item]);\n}\nexport function FSharpChoice$3_Choice2Of3(Item) {\n    return new FSharpChoice$3(1, [Item]);\n}\nexport function FSharpChoice$3_Choice3Of3(Item) {\n    return new FSharpChoice$3(2, [Item]);\n}\nexport class FSharpChoice$3 extends Union {\n    constructor(tag, fields) {\n        super();\n        this.tag = tag;\n        this.fields = fields;\n    }\n    cases() {\n        return [\"Choice1Of3\", \"Choice2Of3\", \"Choice3Of3\"];\n    }\n}\nexport function FSharpChoice$3_$reflection(gen0, gen1, gen2) {\n    return union_type(\"FSharp.Core.FSharpChoice`3\", [gen0, gen1, gen2], FSharpChoice$3, () => [[[\"Item\", gen0]], [[\"Item\", gen1]], [[\"Item\", gen2]]]);\n}\nexport function FSharpChoice$4_Choice1Of4(Item) {\n    return new FSharpChoice$4(0, [Item]);\n}\nexport function FSharpChoice$4_Choice2Of4(Item) {\n    return new FSharpChoice$4(1, [Item]);\n}\nexport function FSharpChoice$4_Choice3Of4(Item) {\n    return new FSharpChoice$4(2, [Item]);\n}\nexport function FSharpChoice$4_Choice4Of4(Item) {\n    return new FSharpChoice$4(3, [Item]);\n}\nexport class FSharpChoice$4 extends Union {\n    constructor(tag, fields) {\n        super();\n        this.tag = tag;\n        this.fields = fields;\n    }\n    cases() {\n        return [\"Choice1Of4\", \"Choice2Of4\", \"Choice3Of4\", \"Choice4Of4\"];\n    }\n}\nexport function FSharpChoice$4_$reflection(gen0, gen1, gen2, gen3) {\n    return union_type(\"FSharp.Core.FSharpChoice`4\", [gen0, gen1, gen2, gen3], FSharpChoice$4, () => [[[\"Item\", gen0]], [[\"Item\", gen1]], [[\"Item\", gen2]], [[\"Item\", gen3]]]);\n}\nexport function FSharpChoice$5_Choice1Of5(Item) {\n    return new FSharpChoice$5(0, [Item]);\n}\nexport function FSharpChoice$5_Choice2Of5(Item) {\n    return new FSharpChoice$5(1, [Item]);\n}\nexport function FSharpChoice$5_Choice3Of5(Item) {\n    return new FSharpChoice$5(2, [Item]);\n}\nexport function FSharpChoice$5_Choice4Of5(Item) {\n    return new FSharpChoice$5(3, [Item]);\n}\nexport function FSharpChoice$5_Choice5Of5(Item) {\n    return new FSharpChoice$5(4, [Item]);\n}\nexport class FSharpChoice$5 extends Union {\n    constructor(tag, fields) {\n        super();\n        this.tag = tag;\n        this.fields = fields;\n    }\n    cases() {\n        return [\"Choice1Of5\", \"Choice2Of5\", \"Choice3Of5\", \"Choice4Of5\", \"Choice5Of5\"];\n    }\n}\nexport function FSharpChoice$5_$reflection(gen0, gen1, gen2, gen3, gen4) {\n    return union_type(\"FSharp.Core.FSharpChoice`5\", [gen0, gen1, gen2, gen3, gen4], FSharpChoice$5, () => [[[\"Item\", gen0]], [[\"Item\", gen1]], [[\"Item\", gen2]], [[\"Item\", gen3]], [[\"Item\", gen4]]]);\n}\nexport function FSharpChoice$6_Choice1Of6(Item) {\n    return new FSharpChoice$6(0, [Item]);\n}\nexport function FSharpChoice$6_Choice2Of6(Item) {\n    return new FSharpChoice$6(1, [Item]);\n}\nexport function FSharpChoice$6_Choice3Of6(Item) {\n    return new FSharpChoice$6(2, [Item]);\n}\nexport function FSharpChoice$6_Choice4Of6(Item) {\n    return new FSharpChoice$6(3, [Item]);\n}\nexport function FSharpChoice$6_Choice5Of6(Item) {\n    return new FSharpChoice$6(4, [Item]);\n}\nexport function FSharpChoice$6_Choice6Of6(Item) {\n    return new FSharpChoice$6(5, [Item]);\n}\nexport class FSharpChoice$6 extends Union {\n    constructor(tag, fields) {\n        super();\n        this.tag = tag;\n        this.fields = fields;\n    }\n    cases() {\n        return [\"Choice1Of6\", \"Choice2Of6\", \"Choice3Of6\", \"Choice4Of6\", \"Choice5Of6\", \"Choice6Of6\"];\n    }\n}\nexport function FSharpChoice$6_$reflection(gen0, gen1, gen2, gen3, gen4, gen5) {\n    return union_type(\"FSharp.Core.FSharpChoice`6\", [gen0, gen1, gen2, gen3, gen4, gen5], FSharpChoice$6, () => [[[\"Item\", gen0]], [[\"Item\", gen1]], [[\"Item\", gen2]], [[\"Item\", gen3]], [[\"Item\", gen4]], [[\"Item\", gen5]]]);\n}\nexport function FSharpChoice$7_Choice1Of7(Item) {\n    return new FSharpChoice$7(0, [Item]);\n}\nexport function FSharpChoice$7_Choice2Of7(Item) {\n    return new FSharpChoice$7(1, [Item]);\n}\nexport function FSharpChoice$7_Choice3Of7(Item) {\n    return new FSharpChoice$7(2, [Item]);\n}\nexport function FSharpChoice$7_Choice4Of7(Item) {\n    return new FSharpChoice$7(3, [Item]);\n}\nexport function FSharpChoice$7_Choice5Of7(Item) {\n    return new FSharpChoice$7(4, [Item]);\n}\nexport function FSharpChoice$7_Choice6Of7(Item) {\n    return new FSharpChoice$7(5, [Item]);\n}\nexport function FSharpChoice$7_Choice7Of7(Item) {\n    return new FSharpChoice$7(6, [Item]);\n}\nexport class FSharpChoice$7 extends Union {\n    constructor(tag, fields) {\n        super();\n        this.tag = tag;\n        this.fields = fields;\n    }\n    cases() {\n        return [\"Choice1Of7\", \"Choice2Of7\", \"Choice3Of7\", \"Choice4Of7\", \"Choice5Of7\", \"Choice6Of7\", \"Choice7Of7\"];\n    }\n}\nexport function FSharpChoice$7_$reflection(gen0, gen1, gen2, gen3, gen4, gen5, gen6) {\n    return union_type(\"FSharp.Core.FSharpChoice`7\", [gen0, gen1, gen2, gen3, gen4, gen5, gen6], FSharpChoice$7, () => [[[\"Item\", gen0]], [[\"Item\", gen1]], [[\"Item\", gen2]], [[\"Item\", gen3]], [[\"Item\", gen4]], [[\"Item\", gen5]], [[\"Item\", gen6]]]);\n}\nexport function Choice_makeChoice1Of2(x) {\n    return FSharpChoice$2_Choice1Of2(x);\n}\nexport function Choice_makeChoice2Of2(x) {\n    return FSharpChoice$2_Choice2Of2(x);\n}\nexport function Choice_tryValueIfChoice1Of2(x) {\n    if (x.tag === /* Choice1Of2 */ 0) {\n        return some(x.fields[0]);\n    }\n    else {\n        return void 0;\n    }\n}\nexport function Choice_tryValueIfChoice2Of2(x) {\n    if (x.tag === /* Choice2Of2 */ 1) {\n        return some(x.fields[0]);\n    }\n    else {\n        return void 0;\n    }\n}\n","import { clear, defaultOf, equals, isDisposable, isArrayLike, toIterator, disposeSafe, getEnumerator } from \"./Util.js\";\nimport { toString } from \"./Types.js\";\nimport { class_type } from \"./Reflection.js\";\nimport { some, value as value_1 } from \"./Option.js\";\nimport { Operators_Lock, Operators_NullArg } from \"./FSharp.Core.js\";\nimport { chunkBySize as chunkBySize_1, permute as permute_1, transpose as transpose_1, map as map_1, windowed as windowed_1, splitInto as splitInto_1, pairwise as pairwise_1, scanBack as scanBack_1, reverse as reverse_1, mapFoldBack as mapFoldBack_1, mapFold as mapFold_1, tryItem as tryItem_1, tryHead as tryHead_1, foldBack2 as foldBack2_1, foldBack as foldBack_1, tryFindIndexBack as tryFindIndexBack_1, tryFindBack as tryFindBack_1, singleton as singleton_1 } from \"./Array.js\";\nimport { length as length_1, tryItem as tryItem_2, isEmpty as isEmpty_1, tryHead as tryHead_2, ofSeq as ofSeq_1, ofArray as ofArray_1, toArray as toArray_1, FSharpList } from \"./List.js\";\nimport { SR_indexOutOfBounds } from \"./Global.js\";\nexport const SR_enumerationAlreadyFinished = \"Enumeration already finished.\";\nexport const SR_enumerationNotStarted = \"Enumeration has not started. Call MoveNext.\";\nexport const SR_inputSequenceEmpty = \"The input sequence was empty.\";\nexport const SR_inputSequenceTooLong = \"The input sequence contains more than one element.\";\nexport const SR_keyNotFoundAlt = \"An index satisfying the predicate was not found in the collection.\";\nexport const SR_notEnoughElements = \"The input sequence has an insufficient number of elements.\";\nexport const SR_resetNotSupported = \"Reset is not supported on this enumerator.\";\nexport function Enumerator_noReset() {\n    throw new Error(SR_resetNotSupported);\n}\nexport function Enumerator_notStarted() {\n    throw new Error(SR_enumerationNotStarted);\n}\nexport function Enumerator_alreadyFinished() {\n    throw new Error(SR_enumerationAlreadyFinished);\n}\nexport class Enumerator_Seq {\n    constructor(f) {\n        this.f = f;\n    }\n    toString() {\n        const xs = this;\n        let i = 0;\n        let str = \"seq [\";\n        const e = getEnumerator(xs);\n        try {\n            while ((i < 4) && e[\"System.Collections.IEnumerator.MoveNext\"]()) {\n                if (i > 0) {\n                    str = (str + \"; \");\n                }\n                str = (str + toString(e[\"System.Collections.Generic.IEnumerator`1.get_Current\"]()));\n                i = ((i + 1) | 0);\n            }\n            if (i === 4) {\n                str = (str + \"; ...\");\n            }\n            return str + \"]\";\n        }\n        finally {\n            disposeSafe(e);\n        }\n    }\n    GetEnumerator() {\n        const x = this;\n        return x.f();\n    }\n    [Symbol.iterator]() {\n        return toIterator(getEnumerator(this));\n    }\n    \"System.Collections.IEnumerable.GetEnumerator\"() {\n        const x = this;\n        return x.f();\n    }\n}\nexport function Enumerator_Seq_$reflection(gen0) {\n    return class_type(\"SeqModule.Enumerator.Seq\", [gen0], Enumerator_Seq);\n}\nexport function Enumerator_Seq_$ctor_673A07F2(f) {\n    return new Enumerator_Seq(f);\n}\nexport class Enumerator_FromFunctions$1 {\n    constructor(current, next, dispose) {\n        this.current = current;\n        this.next = next;\n        this.dispose = dispose;\n    }\n    \"System.Collections.Generic.IEnumerator`1.get_Current\"() {\n        const _ = this;\n        return _.current();\n    }\n    \"System.Collections.IEnumerator.get_Current\"() {\n        const _ = this;\n        return _.current();\n    }\n    \"System.Collections.IEnumerator.MoveNext\"() {\n        const _ = this;\n        return _.next();\n    }\n    \"System.Collections.IEnumerator.Reset\"() {\n        Enumerator_noReset();\n    }\n    Dispose() {\n        const _ = this;\n        _.dispose();\n    }\n}\nexport function Enumerator_FromFunctions$1_$reflection(gen0) {\n    return class_type(\"SeqModule.Enumerator.FromFunctions`1\", [gen0], Enumerator_FromFunctions$1);\n}\nexport function Enumerator_FromFunctions$1_$ctor_58C54629(current, next, dispose) {\n    return new Enumerator_FromFunctions$1(current, next, dispose);\n}\nexport function Enumerator_cast(e) {\n    return Enumerator_FromFunctions$1_$ctor_58C54629(() => e[\"System.Collections.Generic.IEnumerator`1.get_Current\"](), () => e[\"System.Collections.IEnumerator.MoveNext\"](), () => {\n        const e_1 = e;\n        disposeSafe(e_1);\n    });\n}\nexport function Enumerator_concat(sources) {\n    let outerOpt = void 0;\n    let innerOpt = void 0;\n    let started = false;\n    let finished = false;\n    let curr = void 0;\n    const finish = () => {\n        finished = true;\n        if (innerOpt != null) {\n            const inner = value_1(innerOpt);\n            try {\n                disposeSafe(inner);\n            }\n            finally {\n                innerOpt = void 0;\n            }\n        }\n        if (outerOpt != null) {\n            const outer = value_1(outerOpt);\n            try {\n                disposeSafe(outer);\n            }\n            finally {\n                outerOpt = void 0;\n            }\n        }\n    };\n    return Enumerator_FromFunctions$1_$ctor_58C54629(() => {\n        if (!started) {\n            Enumerator_notStarted();\n        }\n        else if (finished) {\n            Enumerator_alreadyFinished();\n        }\n        if (curr != null) {\n            return value_1(curr);\n        }\n        else {\n            return Enumerator_alreadyFinished();\n        }\n    }, () => {\n        let copyOfStruct;\n        if (!started) {\n            started = true;\n        }\n        if (finished) {\n            return false;\n        }\n        else {\n            let res = void 0;\n            while (res == null) {\n                const outerOpt_1 = outerOpt;\n                const innerOpt_1 = innerOpt;\n                if (outerOpt_1 != null) {\n                    if (innerOpt_1 != null) {\n                        const inner_1 = value_1(innerOpt_1);\n                        if (inner_1[\"System.Collections.IEnumerator.MoveNext\"]()) {\n                            curr = some(inner_1[\"System.Collections.Generic.IEnumerator`1.get_Current\"]());\n                            res = true;\n                        }\n                        else {\n                            try {\n                                disposeSafe(inner_1);\n                            }\n                            finally {\n                                innerOpt = void 0;\n                            }\n                        }\n                    }\n                    else {\n                        const outer_1 = value_1(outerOpt_1);\n                        if (outer_1[\"System.Collections.IEnumerator.MoveNext\"]()) {\n                            const ie = outer_1[\"System.Collections.Generic.IEnumerator`1.get_Current\"]();\n                            innerOpt = ((copyOfStruct = ie, getEnumerator(copyOfStruct)));\n                        }\n                        else {\n                            finish();\n                            res = false;\n                        }\n                    }\n                }\n                else {\n                    outerOpt = getEnumerator(sources);\n                }\n            }\n            return value_1(res);\n        }\n    }, () => {\n        if (!finished) {\n            finish();\n        }\n    });\n}\nexport function Enumerator_enumerateThenFinally(f, e) {\n    return Enumerator_FromFunctions$1_$ctor_58C54629(() => e[\"System.Collections.Generic.IEnumerator`1.get_Current\"](), () => e[\"System.Collections.IEnumerator.MoveNext\"](), () => {\n        try {\n            disposeSafe(e);\n        }\n        finally {\n            f();\n        }\n    });\n}\nexport function Enumerator_generateWhileSome(openf, compute, closef) {\n    let started = false;\n    let curr = void 0;\n    let state = some(openf());\n    const dispose = () => {\n        if (state != null) {\n            const x_1 = value_1(state);\n            try {\n                closef(x_1);\n            }\n            finally {\n                state = void 0;\n            }\n        }\n    };\n    const finish = () => {\n        try {\n            dispose();\n        }\n        finally {\n            curr = void 0;\n        }\n    };\n    return Enumerator_FromFunctions$1_$ctor_58C54629(() => {\n        if (!started) {\n            Enumerator_notStarted();\n        }\n        if (curr != null) {\n            return value_1(curr);\n        }\n        else {\n            return Enumerator_alreadyFinished();\n        }\n    }, () => {\n        if (!started) {\n            started = true;\n        }\n        if (state != null) {\n            const s = value_1(state);\n            let matchValue_1;\n            try {\n                matchValue_1 = compute(s);\n            }\n            catch (matchValue) {\n                finish();\n                throw matchValue;\n            }\n            if (matchValue_1 != null) {\n                curr = matchValue_1;\n                return true;\n            }\n            else {\n                finish();\n                return false;\n            }\n        }\n        else {\n            return false;\n        }\n    }, dispose);\n}\nexport function Enumerator_unfold(f, state) {\n    let curr = void 0;\n    let acc = state;\n    return Enumerator_FromFunctions$1_$ctor_58C54629(() => {\n        if (curr != null) {\n            const x = value_1(curr)[0];\n            const st = value_1(curr)[1];\n            return x;\n        }\n        else {\n            return Enumerator_notStarted();\n        }\n    }, () => {\n        curr = f(acc);\n        if (curr != null) {\n            const x_1 = value_1(curr)[0];\n            const st_1 = value_1(curr)[1];\n            acc = st_1;\n            return true;\n        }\n        else {\n            return false;\n        }\n    }, () => {\n    });\n}\nexport function indexNotFound() {\n    throw new Error(SR_keyNotFoundAlt);\n}\nexport function checkNonNull(argName, arg) {\n    if (arg == null) {\n        Operators_NullArg(argName);\n    }\n}\nexport function mkSeq(f) {\n    return Enumerator_Seq_$ctor_673A07F2(f);\n}\nexport function ofSeq(xs) {\n    checkNonNull(\"source\", xs);\n    return getEnumerator(xs);\n}\nexport function delay(generator) {\n    return mkSeq(() => getEnumerator(generator()));\n}\nexport function concat(sources) {\n    return mkSeq(() => Enumerator_concat(sources));\n}\nexport function unfold(generator, state) {\n    return mkSeq(() => Enumerator_unfold(generator, state));\n}\nexport function empty() {\n    return delay(() => (new Array(0)));\n}\nexport function singleton(x) {\n    return delay(() => singleton_1(x));\n}\nexport function ofArray(arr) {\n    return arr;\n}\nexport function toArray(xs) {\n    if (xs instanceof FSharpList) {\n        const a = xs;\n        return toArray_1(a);\n    }\n    else {\n        return Array.from(xs);\n    }\n}\nexport function ofList(xs) {\n    return xs;\n}\nexport function toList(xs) {\n    if (isArrayLike(xs)) {\n        return ofArray_1(xs);\n    }\n    else if (xs instanceof FSharpList) {\n        return xs;\n    }\n    else {\n        return ofSeq_1(xs);\n    }\n}\nexport function generate(create, compute, dispose) {\n    return mkSeq(() => Enumerator_generateWhileSome(create, compute, dispose));\n}\nexport function generateIndexed(create, compute, dispose) {\n    return mkSeq(() => {\n        let i = -1;\n        return Enumerator_generateWhileSome(create, (x) => {\n            i = ((i + 1) | 0);\n            return compute(i, x);\n        }, dispose);\n    });\n}\nexport function append(xs, ys) {\n    return concat([xs, ys]);\n}\nexport function cast(xs) {\n    return mkSeq(() => {\n        checkNonNull(\"source\", xs);\n        return Enumerator_cast(getEnumerator(xs));\n    });\n}\nexport function choose(chooser, xs) {\n    return generate(() => ofSeq(xs), (e) => {\n        let curr = void 0;\n        while ((curr == null) && e[\"System.Collections.IEnumerator.MoveNext\"]()) {\n            curr = chooser(e[\"System.Collections.Generic.IEnumerator`1.get_Current\"]());\n        }\n        return curr;\n    }, (e_1) => {\n        disposeSafe(e_1);\n    });\n}\nexport function compareWith(comparer, xs, ys) {\n    const e1 = ofSeq(xs);\n    try {\n        const e2 = ofSeq(ys);\n        try {\n            let c = 0;\n            let b1 = e1[\"System.Collections.IEnumerator.MoveNext\"]();\n            let b2 = e2[\"System.Collections.IEnumerator.MoveNext\"]();\n            while (((c === 0) && b1) && b2) {\n                c = (comparer(e1[\"System.Collections.Generic.IEnumerator`1.get_Current\"](), e2[\"System.Collections.Generic.IEnumerator`1.get_Current\"]()) | 0);\n                if (c === 0) {\n                    b1 = e1[\"System.Collections.IEnumerator.MoveNext\"]();\n                    b2 = e2[\"System.Collections.IEnumerator.MoveNext\"]();\n                }\n            }\n            return ((c !== 0) ? c : (b1 ? 1 : (b2 ? -1 : 0))) | 0;\n        }\n        finally {\n            disposeSafe(e2);\n        }\n    }\n    finally {\n        disposeSafe(e1);\n    }\n}\nexport function contains(value, xs, comparer) {\n    const e = ofSeq(xs);\n    try {\n        let found = false;\n        while (!found && e[\"System.Collections.IEnumerator.MoveNext\"]()) {\n            found = comparer.Equals(value, e[\"System.Collections.Generic.IEnumerator`1.get_Current\"]());\n        }\n        return found;\n    }\n    finally {\n        disposeSafe(e);\n    }\n}\nexport function enumerateFromFunctions(create, moveNext, current) {\n    return generate(create, (x) => (moveNext(x) ? some(current(x)) : void 0), (x_1) => {\n        const matchValue = x_1;\n        if (isDisposable(matchValue)) {\n            const id = matchValue;\n            disposeSafe(id);\n        }\n    });\n}\nexport function enumerateThenFinally(source, compensation) {\n    const compensation_1 = compensation;\n    return mkSeq(() => {\n        try {\n            return Enumerator_enumerateThenFinally(compensation_1, ofSeq(source));\n        }\n        catch (matchValue) {\n            compensation_1();\n            throw matchValue;\n        }\n    });\n}\nexport function enumerateUsing(resource, source) {\n    const compensation = () => {\n        if (equals(resource, defaultOf())) {\n        }\n        else {\n            let copyOfStruct = resource;\n            disposeSafe(copyOfStruct);\n        }\n    };\n    return mkSeq(() => {\n        try {\n            return Enumerator_enumerateThenFinally(compensation, ofSeq(source(resource)));\n        }\n        catch (matchValue_1) {\n            compensation();\n            throw matchValue_1;\n        }\n    });\n}\nexport function enumerateWhile(guard, xs) {\n    return concat(unfold((i) => (guard() ? [xs, i + 1] : void 0), 0));\n}\nexport function filter(f, xs) {\n    return choose((x) => {\n        if (f(x)) {\n            return some(x);\n        }\n        else {\n            return void 0;\n        }\n    }, xs);\n}\nexport function exists(predicate, xs) {\n    const e = ofSeq(xs);\n    try {\n        let found = false;\n        while (!found && e[\"System.Collections.IEnumerator.MoveNext\"]()) {\n            found = predicate(e[\"System.Collections.Generic.IEnumerator`1.get_Current\"]());\n        }\n        return found;\n    }\n    finally {\n        disposeSafe(e);\n    }\n}\nexport function exists2(predicate, xs, ys) {\n    const e1 = ofSeq(xs);\n    try {\n        const e2 = ofSeq(ys);\n        try {\n            let found = false;\n            while ((!found && e1[\"System.Collections.IEnumerator.MoveNext\"]()) && e2[\"System.Collections.IEnumerator.MoveNext\"]()) {\n                found = predicate(e1[\"System.Collections.Generic.IEnumerator`1.get_Current\"](), e2[\"System.Collections.Generic.IEnumerator`1.get_Current\"]());\n            }\n            return found;\n        }\n        finally {\n            disposeSafe(e2);\n        }\n    }\n    finally {\n        disposeSafe(e1);\n    }\n}\nexport function exactlyOne(xs) {\n    const e = ofSeq(xs);\n    try {\n        if (e[\"System.Collections.IEnumerator.MoveNext\"]()) {\n            const v = e[\"System.Collections.Generic.IEnumerator`1.get_Current\"]();\n            if (e[\"System.Collections.IEnumerator.MoveNext\"]()) {\n                throw new Error((SR_inputSequenceTooLong + \"\\\\nParameter name: \") + \"source\");\n            }\n            else {\n                return v;\n            }\n        }\n        else {\n            throw new Error((SR_inputSequenceEmpty + \"\\\\nParameter name: \") + \"source\");\n        }\n    }\n    finally {\n        disposeSafe(e);\n    }\n}\nexport function tryExactlyOne(xs) {\n    const e = ofSeq(xs);\n    try {\n        if (e[\"System.Collections.IEnumerator.MoveNext\"]()) {\n            const v = e[\"System.Collections.Generic.IEnumerator`1.get_Current\"]();\n            return e[\"System.Collections.IEnumerator.MoveNext\"]() ? void 0 : some(v);\n        }\n        else {\n            return void 0;\n        }\n    }\n    finally {\n        disposeSafe(e);\n    }\n}\nexport function tryFind(predicate, xs) {\n    const e = ofSeq(xs);\n    try {\n        let res = void 0;\n        while ((res == null) && e[\"System.Collections.IEnumerator.MoveNext\"]()) {\n            const c = e[\"System.Collections.Generic.IEnumerator`1.get_Current\"]();\n            if (predicate(c)) {\n                res = some(c);\n            }\n        }\n        return res;\n    }\n    finally {\n        disposeSafe(e);\n    }\n}\nexport function find(predicate, xs) {\n    const matchValue = tryFind(predicate, xs);\n    if (matchValue == null) {\n        return indexNotFound();\n    }\n    else {\n        return value_1(matchValue);\n    }\n}\nexport function tryFindBack(predicate, xs) {\n    return tryFindBack_1(predicate, toArray(xs));\n}\nexport function findBack(predicate, xs) {\n    const matchValue = tryFindBack(predicate, xs);\n    if (matchValue == null) {\n        return indexNotFound();\n    }\n    else {\n        return value_1(matchValue);\n    }\n}\nexport function tryFindIndex(predicate, xs) {\n    const e = ofSeq(xs);\n    try {\n        const loop = (i_mut) => {\n            loop: while (true) {\n                const i = i_mut;\n                if (e[\"System.Collections.IEnumerator.MoveNext\"]()) {\n                    if (predicate(e[\"System.Collections.Generic.IEnumerator`1.get_Current\"]())) {\n                        return i;\n                    }\n                    else {\n                        i_mut = (i + 1);\n                        continue loop;\n                    }\n                }\n                else {\n                    return void 0;\n                }\n                break;\n            }\n        };\n        return loop(0);\n    }\n    finally {\n        disposeSafe(e);\n    }\n}\nexport function findIndex(predicate, xs) {\n    const matchValue = tryFindIndex(predicate, xs);\n    if (matchValue == null) {\n        indexNotFound();\n        return -1;\n    }\n    else {\n        return value_1(matchValue) | 0;\n    }\n}\nexport function tryFindIndexBack(predicate, xs) {\n    return tryFindIndexBack_1(predicate, toArray(xs));\n}\nexport function findIndexBack(predicate, xs) {\n    const matchValue = tryFindIndexBack(predicate, xs);\n    if (matchValue == null) {\n        indexNotFound();\n        return -1;\n    }\n    else {\n        return value_1(matchValue) | 0;\n    }\n}\nexport function fold(folder, state, xs) {\n    const e = ofSeq(xs);\n    try {\n        let acc = state;\n        while (e[\"System.Collections.IEnumerator.MoveNext\"]()) {\n            acc = folder(acc, e[\"System.Collections.Generic.IEnumerator`1.get_Current\"]());\n        }\n        return acc;\n    }\n    finally {\n        disposeSafe(e);\n    }\n}\nexport function foldBack(folder, xs, state) {\n    return foldBack_1(folder, toArray(xs), state);\n}\nexport function fold2(folder, state, xs, ys) {\n    const e1 = ofSeq(xs);\n    try {\n        const e2 = ofSeq(ys);\n        try {\n            let acc = state;\n            while (e1[\"System.Collections.IEnumerator.MoveNext\"]() && e2[\"System.Collections.IEnumerator.MoveNext\"]()) {\n                acc = folder(acc, e1[\"System.Collections.Generic.IEnumerator`1.get_Current\"](), e2[\"System.Collections.Generic.IEnumerator`1.get_Current\"]());\n            }\n            return acc;\n        }\n        finally {\n            disposeSafe(e2);\n        }\n    }\n    finally {\n        disposeSafe(e1);\n    }\n}\nexport function foldBack2(folder, xs, ys, state) {\n    return foldBack2_1(folder, toArray(xs), toArray(ys), state);\n}\nexport function forAll(predicate, xs) {\n    return !exists((x) => !predicate(x), xs);\n}\nexport function forAll2(predicate, xs, ys) {\n    return !exists2((x, y) => !predicate(x, y), xs, ys);\n}\nexport function tryHead(xs) {\n    if (isArrayLike(xs)) {\n        return tryHead_1(xs);\n    }\n    else if (xs instanceof FSharpList) {\n        return tryHead_2(xs);\n    }\n    else {\n        const e = ofSeq(xs);\n        try {\n            return e[\"System.Collections.IEnumerator.MoveNext\"]() ? some(e[\"System.Collections.Generic.IEnumerator`1.get_Current\"]()) : void 0;\n        }\n        finally {\n            disposeSafe(e);\n        }\n    }\n}\nexport function head(xs) {\n    const matchValue = tryHead(xs);\n    if (matchValue == null) {\n        throw new Error((SR_inputSequenceEmpty + \"\\\\nParameter name: \") + \"source\");\n    }\n    else {\n        return value_1(matchValue);\n    }\n}\nexport function initialize(count, f) {\n    return unfold((i) => ((i < count) ? [f(i), i + 1] : void 0), 0);\n}\nexport function initializeInfinite(f) {\n    return initialize(2147483647, f);\n}\nexport function isEmpty(xs) {\n    if (isArrayLike(xs)) {\n        const a = xs;\n        return a.length === 0;\n    }\n    else if (xs instanceof FSharpList) {\n        return isEmpty_1(xs);\n    }\n    else {\n        const e = ofSeq(xs);\n        try {\n            return !e[\"System.Collections.IEnumerator.MoveNext\"]();\n        }\n        finally {\n            disposeSafe(e);\n        }\n    }\n}\nexport function tryItem(index, xs) {\n    if (isArrayLike(xs)) {\n        return tryItem_1(index, xs);\n    }\n    else if (xs instanceof FSharpList) {\n        return tryItem_2(index, xs);\n    }\n    else {\n        const e = ofSeq(xs);\n        try {\n            const loop = (index_1_mut) => {\n                loop: while (true) {\n                    const index_1 = index_1_mut;\n                    if (!e[\"System.Collections.IEnumerator.MoveNext\"]()) {\n                        return void 0;\n                    }\n                    else if (index_1 === 0) {\n                        return some(e[\"System.Collections.Generic.IEnumerator`1.get_Current\"]());\n                    }\n                    else {\n                        index_1_mut = (index_1 - 1);\n                        continue loop;\n                    }\n                    break;\n                }\n            };\n            return loop(index);\n        }\n        finally {\n            disposeSafe(e);\n        }\n    }\n}\nexport function item(index, xs) {\n    const matchValue = tryItem(index, xs);\n    if (matchValue == null) {\n        throw new Error((SR_notEnoughElements + \"\\\\nParameter name: \") + \"index\");\n    }\n    else {\n        return value_1(matchValue);\n    }\n}\nexport function iterate(action, xs) {\n    fold((unitVar, x) => {\n        action(x);\n    }, void 0, xs);\n}\nexport function iterate2(action, xs, ys) {\n    fold2((unitVar, x, y) => {\n        action(x, y);\n    }, void 0, xs, ys);\n}\nexport function iterateIndexed(action, xs) {\n    fold((i, x) => {\n        action(i, x);\n        return (i + 1) | 0;\n    }, 0, xs);\n}\nexport function iterateIndexed2(action, xs, ys) {\n    fold2((i, x, y) => {\n        action(i, x, y);\n        return (i + 1) | 0;\n    }, 0, xs, ys);\n}\nexport function tryLast(xs) {\n    const e = ofSeq(xs);\n    try {\n        const loop = (acc_mut) => {\n            loop: while (true) {\n                const acc = acc_mut;\n                if (!e[\"System.Collections.IEnumerator.MoveNext\"]()) {\n                    return acc;\n                }\n                else {\n                    acc_mut = e[\"System.Collections.Generic.IEnumerator`1.get_Current\"]();\n                    continue loop;\n                }\n                break;\n            }\n        };\n        return e[\"System.Collections.IEnumerator.MoveNext\"]() ? some(loop(e[\"System.Collections.Generic.IEnumerator`1.get_Current\"]())) : void 0;\n    }\n    finally {\n        disposeSafe(e);\n    }\n}\nexport function last(xs) {\n    const matchValue = tryLast(xs);\n    if (matchValue == null) {\n        throw new Error((SR_notEnoughElements + \"\\\\nParameter name: \") + \"source\");\n    }\n    else {\n        return value_1(matchValue);\n    }\n}\nexport function length(xs) {\n    if (isArrayLike(xs)) {\n        const a = xs;\n        return a.length | 0;\n    }\n    else if (xs instanceof FSharpList) {\n        return length_1(xs) | 0;\n    }\n    else {\n        const e = ofSeq(xs);\n        try {\n            let count = 0;\n            while (e[\"System.Collections.IEnumerator.MoveNext\"]()) {\n                count = ((count + 1) | 0);\n            }\n            return count | 0;\n        }\n        finally {\n            disposeSafe(e);\n        }\n    }\n}\nexport function map(mapping, xs) {\n    return generate(() => ofSeq(xs), (e) => (e[\"System.Collections.IEnumerator.MoveNext\"]() ? some(mapping(e[\"System.Collections.Generic.IEnumerator`1.get_Current\"]())) : void 0), (e_1) => {\n        disposeSafe(e_1);\n    });\n}\nexport function mapIndexed(mapping, xs) {\n    return generateIndexed(() => ofSeq(xs), (i, e) => (e[\"System.Collections.IEnumerator.MoveNext\"]() ? some(mapping(i, e[\"System.Collections.Generic.IEnumerator`1.get_Current\"]())) : void 0), (e_1) => {\n        disposeSafe(e_1);\n    });\n}\nexport function indexed(xs) {\n    return mapIndexed((i, x) => [i, x], xs);\n}\nexport function map2(mapping, xs, ys) {\n    return generate(() => [ofSeq(xs), ofSeq(ys)], (tupledArg) => {\n        const e1 = tupledArg[0];\n        const e2 = tupledArg[1];\n        return (e1[\"System.Collections.IEnumerator.MoveNext\"]() && e2[\"System.Collections.IEnumerator.MoveNext\"]()) ? some(mapping(e1[\"System.Collections.Generic.IEnumerator`1.get_Current\"](), e2[\"System.Collections.Generic.IEnumerator`1.get_Current\"]())) : void 0;\n    }, (tupledArg_1) => {\n        try {\n            disposeSafe(tupledArg_1[0]);\n        }\n        finally {\n            disposeSafe(tupledArg_1[1]);\n        }\n    });\n}\nexport function mapIndexed2(mapping, xs, ys) {\n    return generateIndexed(() => [ofSeq(xs), ofSeq(ys)], (i, tupledArg) => {\n        const e1 = tupledArg[0];\n        const e2 = tupledArg[1];\n        return (e1[\"System.Collections.IEnumerator.MoveNext\"]() && e2[\"System.Collections.IEnumerator.MoveNext\"]()) ? some(mapping(i, e1[\"System.Collections.Generic.IEnumerator`1.get_Current\"](), e2[\"System.Collections.Generic.IEnumerator`1.get_Current\"]())) : void 0;\n    }, (tupledArg_1) => {\n        try {\n            disposeSafe(tupledArg_1[0]);\n        }\n        finally {\n            disposeSafe(tupledArg_1[1]);\n        }\n    });\n}\nexport function map3(mapping, xs, ys, zs) {\n    return generate(() => [ofSeq(xs), ofSeq(ys), ofSeq(zs)], (tupledArg) => {\n        const e1 = tupledArg[0];\n        const e2 = tupledArg[1];\n        const e3 = tupledArg[2];\n        return ((e1[\"System.Collections.IEnumerator.MoveNext\"]() && e2[\"System.Collections.IEnumerator.MoveNext\"]()) && e3[\"System.Collections.IEnumerator.MoveNext\"]()) ? some(mapping(e1[\"System.Collections.Generic.IEnumerator`1.get_Current\"](), e2[\"System.Collections.Generic.IEnumerator`1.get_Current\"](), e3[\"System.Collections.Generic.IEnumerator`1.get_Current\"]())) : void 0;\n    }, (tupledArg_1) => {\n        try {\n            disposeSafe(tupledArg_1[0]);\n        }\n        finally {\n            try {\n                disposeSafe(tupledArg_1[1]);\n            }\n            finally {\n                disposeSafe(tupledArg_1[2]);\n            }\n        }\n    });\n}\nexport function readOnly(xs) {\n    checkNonNull(\"source\", xs);\n    return map((x) => x, xs);\n}\nexport class CachedSeq$1 {\n    constructor(cleanup, res) {\n        this.cleanup = cleanup;\n        this.res = res;\n    }\n    Dispose() {\n        const _ = this;\n        _.cleanup();\n    }\n    GetEnumerator() {\n        const _ = this;\n        return getEnumerator(_.res);\n    }\n    [Symbol.iterator]() {\n        return toIterator(getEnumerator(this));\n    }\n    \"System.Collections.IEnumerable.GetEnumerator\"() {\n        const _ = this;\n        return getEnumerator(_.res);\n    }\n}\nexport function CachedSeq$1_$reflection(gen0) {\n    return class_type(\"SeqModule.CachedSeq`1\", [gen0], CachedSeq$1);\n}\nexport function CachedSeq$1_$ctor_Z7A8347D4(cleanup, res) {\n    return new CachedSeq$1(cleanup, res);\n}\nexport function CachedSeq$1__Clear(_) {\n    _.cleanup();\n}\nexport function cache(source) {\n    checkNonNull(\"source\", source);\n    const prefix = [];\n    let enumeratorR = void 0;\n    return CachedSeq$1_$ctor_Z7A8347D4(() => {\n        Operators_Lock(prefix, () => {\n            clear(prefix);\n            let matchResult, e;\n            if (enumeratorR != null) {\n                if (value_1(enumeratorR) != null) {\n                    matchResult = 0;\n                    e = value_1(value_1(enumeratorR));\n                }\n                else {\n                    matchResult = 1;\n                }\n            }\n            else {\n                matchResult = 1;\n            }\n            switch (matchResult) {\n                case 0: {\n                    disposeSafe(e);\n                    break;\n                }\n            }\n            enumeratorR = void 0;\n        });\n    }, unfold((i_1) => Operators_Lock(prefix, () => {\n        if (i_1 < prefix.length) {\n            return [prefix[i_1], i_1 + 1];\n        }\n        else {\n            if (i_1 >= prefix.length) {\n                let optEnumerator_2;\n                if (enumeratorR != null) {\n                    optEnumerator_2 = value_1(enumeratorR);\n                }\n                else {\n                    const optEnumerator = getEnumerator(source);\n                    enumeratorR = some(optEnumerator);\n                    optEnumerator_2 = optEnumerator;\n                }\n                if (optEnumerator_2 == null) {\n                }\n                else {\n                    const enumerator = value_1(optEnumerator_2);\n                    if (enumerator[\"System.Collections.IEnumerator.MoveNext\"]()) {\n                        void (prefix.push(enumerator[\"System.Collections.Generic.IEnumerator`1.get_Current\"]()));\n                    }\n                    else {\n                        disposeSafe(enumerator);\n                        enumeratorR = some(void 0);\n                    }\n                }\n            }\n            if (i_1 < prefix.length) {\n                return [prefix[i_1], i_1 + 1];\n            }\n            else {\n                return void 0;\n            }\n        }\n    }), 0));\n}\nexport function allPairs(xs, ys) {\n    const ysCache = cache(ys);\n    return delay(() => concat(map((x) => map((y) => [x, y], ysCache), xs)));\n}\nexport function mapFold(mapping, state, xs) {\n    const patternInput = mapFold_1(mapping, state, toArray(xs));\n    return [readOnly(patternInput[0]), patternInput[1]];\n}\nexport function mapFoldBack(mapping, xs, state) {\n    const patternInput = mapFoldBack_1(mapping, toArray(xs), state);\n    return [readOnly(patternInput[0]), patternInput[1]];\n}\nexport function tryPick(chooser, xs) {\n    const e = ofSeq(xs);\n    try {\n        let res = void 0;\n        while ((res == null) && e[\"System.Collections.IEnumerator.MoveNext\"]()) {\n            res = chooser(e[\"System.Collections.Generic.IEnumerator`1.get_Current\"]());\n        }\n        return res;\n    }\n    finally {\n        disposeSafe(e);\n    }\n}\nexport function pick(chooser, xs) {\n    const matchValue = tryPick(chooser, xs);\n    if (matchValue == null) {\n        return indexNotFound();\n    }\n    else {\n        return value_1(matchValue);\n    }\n}\nexport function reduce(folder, xs) {\n    const e = ofSeq(xs);\n    try {\n        const loop = (acc_mut) => {\n            loop: while (true) {\n                const acc = acc_mut;\n                if (e[\"System.Collections.IEnumerator.MoveNext\"]()) {\n                    acc_mut = folder(acc, e[\"System.Collections.Generic.IEnumerator`1.get_Current\"]());\n                    continue loop;\n                }\n                else {\n                    return acc;\n                }\n                break;\n            }\n        };\n        if (e[\"System.Collections.IEnumerator.MoveNext\"]()) {\n            return loop(e[\"System.Collections.Generic.IEnumerator`1.get_Current\"]());\n        }\n        else {\n            throw new Error(SR_inputSequenceEmpty);\n        }\n    }\n    finally {\n        disposeSafe(e);\n    }\n}\nexport function reduceBack(folder, xs) {\n    const arr = toArray(xs);\n    if (arr.length > 0) {\n        return arr.reduceRight(folder);\n    }\n    else {\n        throw new Error(SR_inputSequenceEmpty);\n    }\n}\nexport function replicate(n, x) {\n    return initialize(n, (_arg) => x);\n}\nexport function reverse(xs) {\n    return delay(() => ofArray(reverse_1(toArray(xs))));\n}\nexport function scan(folder, state, xs) {\n    return delay(() => {\n        let acc = state;\n        return concat([singleton(state), map((x) => {\n                acc = folder(acc, x);\n                return acc;\n            }, xs)]);\n    });\n}\nexport function scanBack(folder, xs, state) {\n    return delay(() => ofArray(scanBack_1(folder, toArray(xs), state)));\n}\nexport function skip(count, source) {\n    return mkSeq(() => {\n        const e = ofSeq(source);\n        try {\n            for (let _ = 1; _ <= count; _++) {\n                if (!e[\"System.Collections.IEnumerator.MoveNext\"]()) {\n                    throw new Error((SR_notEnoughElements + \"\\\\nParameter name: \") + \"source\");\n                }\n            }\n            return Enumerator_enumerateThenFinally(() => {\n            }, e);\n        }\n        catch (matchValue) {\n            disposeSafe(e);\n            throw matchValue;\n        }\n    });\n}\nexport function skipWhile(predicate, xs) {\n    return delay(() => {\n        let skipped = true;\n        return filter((x) => {\n            if (skipped) {\n                skipped = predicate(x);\n            }\n            return !skipped;\n        }, xs);\n    });\n}\nexport function tail(xs) {\n    return skip(1, xs);\n}\nexport function take(count, xs) {\n    return generateIndexed(() => ofSeq(xs), (i, e) => {\n        if (i < count) {\n            if (e[\"System.Collections.IEnumerator.MoveNext\"]()) {\n                return some(e[\"System.Collections.Generic.IEnumerator`1.get_Current\"]());\n            }\n            else {\n                throw new Error((SR_notEnoughElements + \"\\\\nParameter name: \") + \"source\");\n            }\n        }\n        else {\n            return void 0;\n        }\n    }, (e_1) => {\n        disposeSafe(e_1);\n    });\n}\nexport function takeWhile(predicate, xs) {\n    return generate(() => ofSeq(xs), (e) => ((e[\"System.Collections.IEnumerator.MoveNext\"]() && predicate(e[\"System.Collections.Generic.IEnumerator`1.get_Current\"]())) ? some(e[\"System.Collections.Generic.IEnumerator`1.get_Current\"]()) : void 0), (e_1) => {\n        disposeSafe(e_1);\n    });\n}\nexport function truncate(count, xs) {\n    return generateIndexed(() => ofSeq(xs), (i, e) => (((i < count) && e[\"System.Collections.IEnumerator.MoveNext\"]()) ? some(e[\"System.Collections.Generic.IEnumerator`1.get_Current\"]()) : void 0), (e_1) => {\n        disposeSafe(e_1);\n    });\n}\nexport function zip(xs, ys) {\n    return map2((x, y) => [x, y], xs, ys);\n}\nexport function zip3(xs, ys, zs) {\n    return map3((x, y, z) => [x, y, z], xs, ys, zs);\n}\nexport function collect(mapping, xs) {\n    return delay(() => concat(map(mapping, xs)));\n}\nexport function where(predicate, xs) {\n    return filter(predicate, xs);\n}\nexport function pairwise(xs) {\n    return delay(() => ofArray(pairwise_1(toArray(xs))));\n}\nexport function splitInto(chunks, xs) {\n    return delay(() => ofArray(splitInto_1(chunks, toArray(xs))));\n}\nexport function windowed(windowSize, xs) {\n    return delay(() => ofArray(windowed_1(windowSize, toArray(xs))));\n}\nexport function transpose(xss) {\n    return delay(() => ofArray(map_1(ofArray, transpose_1(map_1(toArray, toArray(xss))))));\n}\nexport function sortWith(comparer, xs) {\n    return delay(() => {\n        const arr = toArray(xs);\n        arr.sort(comparer);\n        return ofArray(arr);\n    });\n}\nexport function sort(xs, comparer) {\n    return sortWith((x, y) => comparer.Compare(x, y), xs);\n}\nexport function sortBy(projection, xs, comparer) {\n    return sortWith((x, y) => comparer.Compare(projection(x), projection(y)), xs);\n}\nexport function sortDescending(xs, comparer) {\n    return sortWith((x, y) => (comparer.Compare(x, y) * -1), xs);\n}\nexport function sortByDescending(projection, xs, comparer) {\n    return sortWith((x, y) => (comparer.Compare(projection(x), projection(y)) * -1), xs);\n}\nexport function sum(xs, adder) {\n    return fold((acc, x) => adder.Add(acc, x), adder.GetZero(), xs);\n}\nexport function sumBy(f, xs, adder) {\n    return fold((acc, x) => adder.Add(acc, f(x)), adder.GetZero(), xs);\n}\nexport function maxBy(projection, xs, comparer) {\n    return reduce((x, y) => ((comparer.Compare(projection(y), projection(x)) > 0) ? y : x), xs);\n}\nexport function max(xs, comparer) {\n    return reduce((x, y) => ((comparer.Compare(y, x) > 0) ? y : x), xs);\n}\nexport function minBy(projection, xs, comparer) {\n    return reduce((x, y) => ((comparer.Compare(projection(y), projection(x)) > 0) ? x : y), xs);\n}\nexport function min(xs, comparer) {\n    return reduce((x, y) => ((comparer.Compare(y, x) > 0) ? x : y), xs);\n}\nexport function average(xs, averager) {\n    let count = 0;\n    const total = fold((acc, x) => {\n        count = ((count + 1) | 0);\n        return averager.Add(acc, x);\n    }, averager.GetZero(), xs);\n    if (count === 0) {\n        throw new Error((SR_inputSequenceEmpty + \"\\\\nParameter name: \") + \"source\");\n    }\n    else {\n        return averager.DivideByInt(total, count);\n    }\n}\nexport function averageBy(f, xs, averager) {\n    let count = 0;\n    const total = fold((acc, x) => {\n        count = ((count + 1) | 0);\n        return averager.Add(acc, f(x));\n    }, averager.GetZero(), xs);\n    if (count === 0) {\n        throw new Error((SR_inputSequenceEmpty + \"\\\\nParameter name: \") + \"source\");\n    }\n    else {\n        return averager.DivideByInt(total, count);\n    }\n}\nexport function permute(f, xs) {\n    return delay(() => ofArray(permute_1(f, toArray(xs))));\n}\nexport function chunkBySize(chunkSize, xs) {\n    return delay(() => ofArray(chunkBySize_1(chunkSize, toArray(xs))));\n}\nexport function insertAt(index, y, xs) {\n    let isDone = false;\n    if (index < 0) {\n        throw new Error((SR_indexOutOfBounds + \"\\\\nParameter name: \") + \"index\");\n    }\n    return generateIndexed(() => ofSeq(xs), (i, e) => {\n        if ((isDone ? true : (i < index)) && e[\"System.Collections.IEnumerator.MoveNext\"]()) {\n            return some(e[\"System.Collections.Generic.IEnumerator`1.get_Current\"]());\n        }\n        else if (i === index) {\n            isDone = true;\n            return some(y);\n        }\n        else {\n            if (!isDone) {\n                throw new Error((SR_indexOutOfBounds + \"\\\\nParameter name: \") + \"index\");\n            }\n            return void 0;\n        }\n    }, (e_1) => {\n        disposeSafe(e_1);\n    });\n}\nexport function insertManyAt(index, ys, xs) {\n    let status = -1;\n    if (index < 0) {\n        throw new Error((SR_indexOutOfBounds + \"\\\\nParameter name: \") + \"index\");\n    }\n    return generateIndexed(() => [ofSeq(xs), ofSeq(ys)], (i, tupledArg) => {\n        const e1 = tupledArg[0];\n        const e2 = tupledArg[1];\n        if (i === index) {\n            status = 0;\n        }\n        let inserted;\n        if (status === 0) {\n            if (e2[\"System.Collections.IEnumerator.MoveNext\"]()) {\n                inserted = some(e2[\"System.Collections.Generic.IEnumerator`1.get_Current\"]());\n            }\n            else {\n                status = 1;\n                inserted = void 0;\n            }\n        }\n        else {\n            inserted = void 0;\n        }\n        if (inserted == null) {\n            if (e1[\"System.Collections.IEnumerator.MoveNext\"]()) {\n                return some(e1[\"System.Collections.Generic.IEnumerator`1.get_Current\"]());\n            }\n            else {\n                if (status < 1) {\n                    throw new Error((SR_indexOutOfBounds + \"\\\\nParameter name: \") + \"index\");\n                }\n                return void 0;\n            }\n        }\n        else {\n            return some(value_1(inserted));\n        }\n    }, (tupledArg_1) => {\n        disposeSafe(tupledArg_1[0]);\n        disposeSafe(tupledArg_1[1]);\n    });\n}\nexport function removeAt(index, xs) {\n    let isDone = false;\n    if (index < 0) {\n        throw new Error((SR_indexOutOfBounds + \"\\\\nParameter name: \") + \"index\");\n    }\n    return generateIndexed(() => ofSeq(xs), (i, e) => {\n        if ((isDone ? true : (i < index)) && e[\"System.Collections.IEnumerator.MoveNext\"]()) {\n            return some(e[\"System.Collections.Generic.IEnumerator`1.get_Current\"]());\n        }\n        else if ((i === index) && e[\"System.Collections.IEnumerator.MoveNext\"]()) {\n            isDone = true;\n            return e[\"System.Collections.IEnumerator.MoveNext\"]() ? some(e[\"System.Collections.Generic.IEnumerator`1.get_Current\"]()) : void 0;\n        }\n        else {\n            if (!isDone) {\n                throw new Error((SR_indexOutOfBounds + \"\\\\nParameter name: \") + \"index\");\n            }\n            return void 0;\n        }\n    }, (e_1) => {\n        disposeSafe(e_1);\n    });\n}\nexport function removeManyAt(index, count, xs) {\n    if (index < 0) {\n        throw new Error((SR_indexOutOfBounds + \"\\\\nParameter name: \") + \"index\");\n    }\n    return generateIndexed(() => ofSeq(xs), (i, e) => {\n        if (i < index) {\n            if (e[\"System.Collections.IEnumerator.MoveNext\"]()) {\n                return some(e[\"System.Collections.Generic.IEnumerator`1.get_Current\"]());\n            }\n            else {\n                throw new Error((SR_indexOutOfBounds + \"\\\\nParameter name: \") + \"index\");\n            }\n        }\n        else {\n            if (i === index) {\n                for (let _ = 1; _ <= count; _++) {\n                    if (!e[\"System.Collections.IEnumerator.MoveNext\"]()) {\n                        throw new Error((SR_indexOutOfBounds + \"\\\\nParameter name: \") + \"count\");\n                    }\n                }\n            }\n            return e[\"System.Collections.IEnumerator.MoveNext\"]() ? some(e[\"System.Collections.Generic.IEnumerator`1.get_Current\"]()) : void 0;\n        }\n    }, (e_1) => {\n        disposeSafe(e_1);\n    });\n}\nexport function updateAt(index, y, xs) {\n    let isDone = false;\n    if (index < 0) {\n        throw new Error((SR_indexOutOfBounds + \"\\\\nParameter name: \") + \"index\");\n    }\n    return generateIndexed(() => ofSeq(xs), (i, e) => {\n        if ((isDone ? true : (i < index)) && e[\"System.Collections.IEnumerator.MoveNext\"]()) {\n            return some(e[\"System.Collections.Generic.IEnumerator`1.get_Current\"]());\n        }\n        else if ((i === index) && e[\"System.Collections.IEnumerator.MoveNext\"]()) {\n            isDone = true;\n            return some(y);\n        }\n        else {\n            if (!isDone) {\n                throw new Error((SR_indexOutOfBounds + \"\\\\nParameter name: \") + \"index\");\n            }\n            return void 0;\n        }\n    }, (e_1) => {\n        disposeSafe(e_1);\n    });\n}\n","import { disposeSafe, defaultOf, structuralHash, equals } from \"./Util.js\";\nimport { HashIdentity_Structural, ComparisonIdentity_Structural } from \"./FSharp.Collections.js\";\nimport { StringBuilder__Append_Z721C83C5 } from \"./System.Text.js\";\nexport const LanguagePrimitives_GenericEqualityComparer = {\n    \"System.Collections.IEqualityComparer.Equals541DA560\"(x, y) {\n        return equals(x, y);\n    },\n    \"System.Collections.IEqualityComparer.GetHashCode4E60E31B\"(x_1) {\n        return structuralHash(x_1);\n    },\n};\nexport const LanguagePrimitives_GenericEqualityERComparer = {\n    \"System.Collections.IEqualityComparer.Equals541DA560\"(x, y) {\n        return equals(x, y);\n    },\n    \"System.Collections.IEqualityComparer.GetHashCode4E60E31B\"(x_1) {\n        return structuralHash(x_1);\n    },\n};\nexport function LanguagePrimitives_FastGenericComparer() {\n    return ComparisonIdentity_Structural();\n}\nexport function LanguagePrimitives_FastGenericComparerFromTable() {\n    return ComparisonIdentity_Structural();\n}\nexport function LanguagePrimitives_FastGenericEqualityComparer() {\n    return HashIdentity_Structural();\n}\nexport function LanguagePrimitives_FastGenericEqualityComparerFromTable() {\n    return HashIdentity_Structural();\n}\nexport function Operators_Failure(message) {\n    return new Error(message);\n}\nexport function Operators_FailurePattern(exn) {\n    return exn.message;\n}\nexport function Operators_NullArg(x) {\n    throw new Error(x);\n}\nexport function Operators_Using(resource, action) {\n    try {\n        return action(resource);\n    }\n    finally {\n        if (equals(resource, defaultOf())) {\n        }\n        else {\n            let copyOfStruct = resource;\n            disposeSafe(copyOfStruct);\n        }\n    }\n}\nexport function Operators_Lock(_lockObj, action) {\n    return action();\n}\nexport function ExtraTopLevelOperators_LazyPattern(input) {\n    return input.Value;\n}\nexport function PrintfModule_PrintFormatToStringBuilderThen(continuation, builder, format) {\n    return format.cont((s) => {\n        StringBuilder__Append_Z721C83C5(builder, s);\n        return continuation();\n    });\n}\nexport function PrintfModule_PrintFormatToStringBuilder(builder, format) {\n    return PrintfModule_PrintFormatToStringBuilderThen(() => {\n    }, builder, format);\n}\n","import { disposeSafe, defaultOf, toIterator, getEnumerator, structuralHash, equals, compare } from \"./Util.js\";\nimport { class_type } from \"./Reflection.js\";\nimport { toArray, empty, singleton, append, enumerateWhile, delay } from \"./Seq.js\";\nimport { initialize, copyTo, fill } from \"./Array.js\";\nimport { max } from \"./Double.js\";\nexport class Comparer$1 {\n    constructor() {\n    }\n    Compare(x, y) {\n        return compare(x, y);\n    }\n}\nexport function Comparer$1_$reflection(gen0) {\n    return class_type(\"System.Collections.Generic.Comparer`1\", [gen0], Comparer$1);\n}\nexport function Comparer$1_$ctor() {\n    return new Comparer$1();\n}\nexport function Comparer$1_get_Default() {\n    return {\n        Compare(x, y) {\n            return compare(x, y);\n        },\n    };\n}\nexport class EqualityComparer$1 {\n    constructor() {\n    }\n    Equals(x, y) {\n        return equals(x, y);\n    }\n    GetHashCode(x) {\n        return structuralHash(x);\n    }\n}\nexport function EqualityComparer$1_$reflection(gen0) {\n    return class_type(\"System.Collections.Generic.EqualityComparer`1\", [gen0], EqualityComparer$1);\n}\nexport function EqualityComparer$1_$ctor() {\n    return new EqualityComparer$1();\n}\nexport function EqualityComparer$1_get_Default() {\n    return {\n        Equals(x, y) {\n            return equals(x, y);\n        },\n        GetHashCode(x_1) {\n            return structuralHash(x_1);\n        },\n    };\n}\nexport class Stack$1 {\n    constructor(initialContents, initialCount) {\n        this.contents = initialContents;\n        this.count = (initialCount | 0);\n    }\n    GetEnumerator() {\n        const _ = this;\n        return getEnumerator(delay(() => {\n            let index = _.count - 1;\n            return enumerateWhile(() => (index >= 0), delay(() => append(singleton(_.contents[index]), delay(() => {\n                index = ((index - 1) | 0);\n                return empty();\n            }))));\n        }));\n    }\n    [Symbol.iterator]() {\n        return toIterator(getEnumerator(this));\n    }\n    \"System.Collections.IEnumerable.GetEnumerator\"() {\n        const this$ = this;\n        return getEnumerator(this$);\n    }\n}\nexport function Stack$1_$reflection(gen0) {\n    return class_type(\"System.Collections.Generic.Stack`1\", [gen0], Stack$1);\n}\nfunction Stack$1_$ctor_Z3B4C077E(initialContents, initialCount) {\n    return new Stack$1(initialContents, initialCount);\n}\nexport function Stack$1_$ctor_Z524259A4(initialCapacity) {\n    return Stack$1_$ctor_Z3B4C077E(fill(new Array(initialCapacity), 0, initialCapacity, null), 0);\n}\nexport function Stack$1_$ctor() {\n    return Stack$1_$ctor_Z524259A4(4);\n}\nexport function Stack$1_$ctor_BB573A(xs) {\n    const arr = Array.from(xs);\n    return Stack$1_$ctor_Z3B4C077E(arr, arr.length);\n}\nexport function Stack$1__Ensure_Z524259A4(_, newSize) {\n    const oldSize = _.contents.length | 0;\n    if (newSize > oldSize) {\n        const old = _.contents;\n        _.contents = fill(new Array(max(newSize, oldSize * 2)), 0, max(newSize, oldSize * 2), null);\n        copyTo(old, 0, _.contents, 0, _.count);\n    }\n}\nexport function Stack$1__get_Count(_) {\n    return _.count;\n}\nexport function Stack$1__Pop(_) {\n    _.count = ((_.count - 1) | 0);\n    return _.contents[_.count];\n}\nexport function Stack$1__Peek(_) {\n    return _.contents[_.count - 1];\n}\nexport function Stack$1__Contains_2B595(_, x) {\n    let found = false;\n    let i = 0;\n    while ((i < _.count) && !found) {\n        if (equals(x, _.contents[i])) {\n            found = true;\n        }\n        else {\n            i = ((i + 1) | 0);\n        }\n    }\n    return found;\n}\nexport function Stack$1__TryPeek_1F3DB691(this$, result) {\n    if (this$.count > 0) {\n        result.contents = Stack$1__Peek(this$);\n        return true;\n    }\n    else {\n        return false;\n    }\n}\nexport function Stack$1__TryPop_1F3DB691(this$, result) {\n    if (this$.count > 0) {\n        result.contents = Stack$1__Pop(this$);\n        return true;\n    }\n    else {\n        return false;\n    }\n}\nexport function Stack$1__Push_2B595(this$, x) {\n    Stack$1__Ensure_Z524259A4(this$, this$.count + 1);\n    this$.contents[this$.count] = x;\n    this$.count = ((this$.count + 1) | 0);\n}\nexport function Stack$1__Clear(_) {\n    _.count = 0;\n    fill(_.contents, 0, _.contents.length, defaultOf());\n}\nexport function Stack$1__TrimExcess(this$) {\n    if ((this$.count / this$.contents.length) > 0.9) {\n        Stack$1__Ensure_Z524259A4(this$, this$.count);\n    }\n}\nexport function Stack$1__ToArray(_) {\n    return initialize(_.count, (i) => _.contents[(_.count - 1) - i]);\n}\nexport class Queue$1 {\n    constructor(initialContents, initialCount) {\n        this.contents = initialContents;\n        this.count = (initialCount | 0);\n        this.head = 0;\n        this.tail = (initialCount | 0);\n    }\n    GetEnumerator() {\n        const _ = this;\n        return getEnumerator(Queue$1__toSeq(_));\n    }\n    [Symbol.iterator]() {\n        return toIterator(getEnumerator(this));\n    }\n    \"System.Collections.IEnumerable.GetEnumerator\"() {\n        const this$ = this;\n        return getEnumerator(this$);\n    }\n}\nexport function Queue$1_$reflection(gen0) {\n    return class_type(\"System.Collections.Generic.Queue`1\", [gen0], Queue$1);\n}\nfunction Queue$1_$ctor_Z3B4C077E(initialContents, initialCount) {\n    return new Queue$1(initialContents, initialCount);\n}\nexport function Queue$1_$ctor_Z524259A4(initialCapacity) {\n    if (initialCapacity < 0) {\n        throw new Error(\"capacity is less than 0\");\n    }\n    return Queue$1_$ctor_Z3B4C077E(fill(new Array(initialCapacity), 0, initialCapacity, null), 0);\n}\nexport function Queue$1_$ctor() {\n    return Queue$1_$ctor_Z524259A4(4);\n}\nexport function Queue$1_$ctor_BB573A(xs) {\n    const arr = Array.from(xs);\n    return Queue$1_$ctor_Z3B4C077E(arr, arr.length);\n}\nexport function Queue$1__get_Count(_) {\n    return _.count;\n}\nexport function Queue$1__Enqueue_2B595(_, value) {\n    if (_.count === Queue$1__size(_)) {\n        Queue$1__ensure_Z524259A4(_, _.count + 1);\n    }\n    _.contents[_.tail] = value;\n    _.tail = (((_.tail + 1) % Queue$1__size(_)) | 0);\n    _.count = ((_.count + 1) | 0);\n}\nexport function Queue$1__Dequeue(_) {\n    if (_.count === 0) {\n        throw new Error(\"Queue is empty\");\n    }\n    const value = _.contents[_.head];\n    _.head = (((_.head + 1) % Queue$1__size(_)) | 0);\n    _.count = ((_.count - 1) | 0);\n    return value;\n}\nexport function Queue$1__Peek(_) {\n    if (_.count === 0) {\n        throw new Error(\"Queue is empty\");\n    }\n    return _.contents[_.head];\n}\nexport function Queue$1__TryDequeue_1F3DB691(this$, result) {\n    if (this$.count === 0) {\n        return false;\n    }\n    else {\n        result.contents = Queue$1__Dequeue(this$);\n        return true;\n    }\n}\nexport function Queue$1__TryPeek_1F3DB691(this$, result) {\n    if (this$.count === 0) {\n        return false;\n    }\n    else {\n        result.contents = Queue$1__Peek(this$);\n        return true;\n    }\n}\nexport function Queue$1__Contains_2B595(_, x) {\n    let found = false;\n    let i = 0;\n    while ((i < _.count) && !found) {\n        if (equals(x, _.contents[Queue$1__toIndex_Z524259A4(_, i)])) {\n            found = true;\n        }\n        else {\n            i = ((i + 1) | 0);\n        }\n    }\n    return found;\n}\nexport function Queue$1__Clear(_) {\n    _.count = 0;\n    _.head = 0;\n    _.tail = 0;\n    fill(_.contents, 0, Queue$1__size(_), defaultOf());\n}\nexport function Queue$1__TrimExcess(_) {\n    if ((_.count / _.contents.length) > 0.9) {\n        Queue$1__ensure_Z524259A4(_, _.count);\n    }\n}\nexport function Queue$1__ToArray(_) {\n    return toArray(Queue$1__toSeq(_));\n}\nexport function Queue$1__CopyTo_Z3B4C077E(_, target, start) {\n    let i = start;\n    const enumerator = getEnumerator(Queue$1__toSeq(_));\n    try {\n        while (enumerator[\"System.Collections.IEnumerator.MoveNext\"]()) {\n            const item = enumerator[\"System.Collections.Generic.IEnumerator`1.get_Current\"]();\n            target[i] = item;\n            i = ((i + 1) | 0);\n        }\n    }\n    finally {\n        disposeSafe(enumerator);\n    }\n}\nexport function Queue$1__size(this$) {\n    return this$.contents.length;\n}\nexport function Queue$1__toIndex_Z524259A4(this$, i) {\n    return (this$.head + i) % Queue$1__size(this$);\n}\nexport function Queue$1__ensure_Z524259A4(this$, requiredSize) {\n    const newBuffer = fill(new Array(requiredSize), 0, requiredSize, null);\n    if (this$.head < this$.tail) {\n        copyTo(this$.contents, this$.head, newBuffer, 0, this$.count);\n    }\n    else {\n        copyTo(this$.contents, this$.head, newBuffer, 0, Queue$1__size(this$) - this$.head);\n        copyTo(this$.contents, 0, newBuffer, Queue$1__size(this$) - this$.head, this$.tail);\n    }\n    this$.head = 0;\n    this$.tail = (this$.count | 0);\n    this$.contents = newBuffer;\n}\nexport function Queue$1__toSeq(this$) {\n    return delay(() => {\n        let i = 0;\n        return enumerateWhile(() => (i < this$.count), delay(() => append(singleton(this$.contents[Queue$1__toIndex_Z524259A4(this$, i)]), delay(() => {\n            i = ((i + 1) | 0);\n            return empty();\n        }))));\n    });\n}\n","import { value as value_2, some, map as map_1 } from \"../../../../fable_modules/fable-library.4.2.2/Option.js\";\r\nimport { window as window$, workspace, extensions } from \"vscode\";\r\nimport * as cross_spawn from \"cross-spawn\";\r\nimport * as child_process from \"child_process\";\r\nimport { Record, toString } from \"../../../../fable_modules/fable-library.4.2.2/Types.js\";\r\nimport { array_type, record_type, string_type, option_type, int32_type } from \"../../../../fable_modules/fable-library.4.2.2/Reflection.js\";\r\nimport { join } from \"../../../../fable_modules/fable-library.4.2.2/String.js\";\r\nimport * as fs from \"fs\";\r\n\r\nexport function VSCode_getPluginPath(pluginName) {\r\n    return map_1((e) => e.extensionPath, extensions.getExtension(pluginName));\r\n}\r\n\r\nexport const CrossSpawn_crossSpawn = cross_spawn;\r\n\r\nexport function Process_isWin() {\r\n    return (process.platform) === \"win32\";\r\n}\r\n\r\nexport function Process_isMono() {\r\n    return (process.platform) !== \"win32\";\r\n}\r\n\r\nexport function Process_onClose(f, proc) {\r\n    proc.on(\"close\", f);\r\n    return proc;\r\n}\r\n\r\nexport function Process_onExit(f, proc) {\r\n    proc.on(\"exit\", f);\r\n    return proc;\r\n}\r\n\r\nexport function Process_onOutput(f, proc) {\r\n    proc.stdout.on(\"data\", f);\r\n    return proc;\r\n}\r\n\r\nexport function Process_onErrorOutput(f, proc) {\r\n    proc.stderr.on(\"data\", f);\r\n    return proc;\r\n}\r\n\r\nexport function Process_onError(f, proc) {\r\n    proc.on(\"error\", f);\r\n    return proc;\r\n}\r\n\r\n/**\r\n * spawns a child process in a directory, using a prefix command on linux if required\r\n */\r\nexport function Process_spawnInDir(dir, command, args) {\r\n    const options = {};\r\n    options.cwd = dir;\r\n    return child_process.spawn(command, args, some(options));\r\n}\r\n\r\n/**\r\n * Spawns a child process with a prefix command on linux if required.\r\n */\r\nexport function Process_spawn(command, args) {\r\n    const options = {};\r\n    options.cwd = workspace.rootPath;\r\n    return CrossSpawn_crossSpawn.spawn(command, args, options);\r\n}\r\n\r\n/**\r\n * Run a command in a local vscode terminal\r\n */\r\nexport function Process_spawnWithShell(command, args) {\r\n    return window$.createTerminal(\"F# Application\", command, args);\r\n}\r\n\r\n/**\r\n * fire off a command in the workspace root and write its output to a channel\r\n */\r\nexport function Process_spawnWithNotification(command, args, outputChannel) {\r\n    return Process_onErrorOutput((e_2) => {\r\n        const arg_2 = e_2.toString();\r\n        outputChannel.append(arg_2);\r\n    }, Process_onError((e_1) => {\r\n        const arg_1 = toString(e_1);\r\n        outputChannel.append(arg_1);\r\n    }, Process_onOutput((e) => {\r\n        const arg = e.toString();\r\n        outputChannel.append(arg);\r\n    }, Process_spawn(command, args))));\r\n}\r\n\r\n/**\r\n * fire off a command in a directory and write its output to a channel\r\n */\r\nexport function Process_spawnWithNotificationInDir(location, command, args, outputChannel) {\r\n    return Process_onErrorOutput((e_2) => {\r\n        const arg_2 = e_2.toString();\r\n        outputChannel.append(arg_2);\r\n    }, Process_onError((e_1) => {\r\n        const arg_1 = toString(e_1);\r\n        outputChannel.append(arg_1);\r\n    }, Process_onOutput((e) => {\r\n        const arg = e.toString();\r\n        outputChannel.append(arg);\r\n    }, Process_spawnInDir(location, command, args))));\r\n}\r\n\r\nexport class Process_ChildProcessExit extends Record {\r\n    constructor(Code, Signal) {\r\n        super();\r\n        this.Code = Code;\r\n        this.Signal = Signal;\r\n    }\r\n}\r\n\r\nexport function Process_ChildProcessExit_$reflection() {\r\n    return record_type(\"Ionide.VSCode.Helpers.Process.ChildProcessExit\", [], Process_ChildProcessExit, () => [[\"Code\", option_type(int32_type)], [\"Signal\", option_type(string_type)]]);\r\n}\r\n\r\nexport function Process_toPromise(proc) {\r\n    return new Promise((resolve, _arg) => {\r\n        Process_onExit((code, signal) => {\r\n            resolve(new Process_ChildProcessExit(code, signal));\r\n        }, proc);\r\n    });\r\n}\r\n\r\n/**\r\n * Fire off a command and gather the error, if any, and the stdout and stderr streams.\r\n * The command is fired from the workspace's root path.\r\n */\r\nexport function Process_exec(command, args) {\r\n    const options = {};\r\n    options.cwd = workspace.rootPath;\r\n    return new Promise((resolve, reject) => {\r\n        const stdout = [];\r\n        const stderr = [];\r\n        let error = void 0;\r\n        Process_onClose((code, signal) => {\r\n            resolve([error, join(\"\\n\", stdout), join(\"\\n\", stderr)]);\r\n        }, Process_onErrorOutput((e_2) => {\r\n            void (stderr.push(toString(e_2)));\r\n        }, Process_onError((e_1) => {\r\n            error = some(e_1);\r\n        }, Process_onOutput((e) => {\r\n            void (stdout.push(toString(e)));\r\n        }, CrossSpawn_crossSpawn.spawn(command, args, options)))));\r\n    });\r\n}\r\n\r\nexport class Settings_FakeSettings extends Record {\r\n    constructor(linuxPrefix, command, build, parameters, test) {\r\n        super();\r\n        this.linuxPrefix = linuxPrefix;\r\n        this.command = command;\r\n        this.build = build;\r\n        this.parameters = parameters;\r\n        this.test = test;\r\n    }\r\n}\r\n\r\nexport function Settings_FakeSettings_$reflection() {\r\n    return record_type(\"Ionide.VSCode.Helpers.Settings.FakeSettings\", [], Settings_FakeSettings, () => [[\"linuxPrefix\", string_type], [\"command\", string_type], [\"build\", string_type], [\"parameters\", array_type(string_type)], [\"test\", string_type]]);\r\n}\r\n\r\nexport class Settings_WebPreviewSettings extends Record {\r\n    constructor(linuxPrefix, command, host, port, script, build, startString, parameters, startingPage) {\r\n        super();\r\n        this.linuxPrefix = linuxPrefix;\r\n        this.command = command;\r\n        this.host = host;\r\n        this.port = (port | 0);\r\n        this.script = script;\r\n        this.build = build;\r\n        this.startString = startString;\r\n        this.parameters = parameters;\r\n        this.startingPage = startingPage;\r\n    }\r\n}\r\n\r\nexport function Settings_WebPreviewSettings_$reflection() {\r\n    return record_type(\"Ionide.VSCode.Helpers.Settings.WebPreviewSettings\", [], Settings_WebPreviewSettings, () => [[\"linuxPrefix\", string_type], [\"command\", string_type], [\"host\", string_type], [\"port\", int32_type], [\"script\", string_type], [\"build\", string_type], [\"startString\", string_type], [\"parameters\", array_type(string_type)], [\"startingPage\", string_type]]);\r\n}\r\n\r\nexport class Settings_Settings extends Record {\r\n    constructor(Fake, WebPreview) {\r\n        super();\r\n        this.Fake = Fake;\r\n        this.WebPreview = WebPreview;\r\n    }\r\n}\r\n\r\nexport function Settings_Settings_$reflection() {\r\n    return record_type(\"Ionide.VSCode.Helpers.Settings.Settings\", [], Settings_Settings, () => [[\"Fake\", Settings_FakeSettings_$reflection()], [\"WebPreview\", Settings_WebPreviewSettings_$reflection()]]);\r\n}\r\n\r\nexport function Settings_loadOrDefault(map, def) {\r\n    let t_1, t_2, t_3;\r\n    try {\r\n        const t = map_1(map, map_1((str) => (toml.parse(str)), map_1(toString, map_1((arg) => fs.readFileSync(arg), map_1((root) => (root + \"/.ionide\"), workspace.rootPath)))));\r\n        return (t == null) ? def : (((t_1 = value_2(t), (t_1 != undefined))) ? ((t_2 = value_2(t), t_2)) : ((t_3 = value_2(t), def)));\r\n    }\r\n    catch (matchValue) {\r\n        return def;\r\n    }\r\n}\r\n\r\n//# sourceMappingURL=Helpers.js.map\r\n","import { window as window$, commands, workspace } from \"vscode\";\r\nimport * as vscode from \"vscode\";\r\nimport { disposeSafe, getEnumerator, equals, defaultOf } from \"../fable_modules/fable-library.4.2.2/Util.js\";\r\nimport { substring, toConsole, printf, toText, endsWith, split, replace } from \"../fable_modules/fable-library.4.2.2/String.js\";\r\nimport { exists } from \"../fable_modules/fable-library.4.2.2/Seq.js\";\r\nimport { some, value as value_2 } from \"../fable_modules/fable-library.4.2.2/Option.js\";\r\nimport { FSharpChoice$6 } from \"../fable_modules/fable-library.4.2.2/Choice.js\";\r\nimport { class_type } from \"../fable_modules/fable-library.4.2.2/Reflection.js\";\r\nimport { map, take, skip, equalsWith } from \"../fable_modules/fable-library.4.2.2/Array.js\";\r\nimport { min } from \"../fable_modules/fable-library.4.2.2/Double.js\";\r\nimport { PromiseBuilder__Delay_62FBFDE1, PromiseBuilder__Run_212F1D4B, tap } from \"../fable_modules/Fable.Promise.3.2.0/Promise.fs.js\";\r\nimport { toArray, ofSeq, fold, head, tail as tail_1, isEmpty } from \"../fable_modules/fable-library.4.2.2/List.js\";\r\nimport { promise as promise_1 } from \"../fable_modules/Fable.Promise.3.2.0/PromiseImpl.fs.js\";\r\nimport { Queue$1__Dequeue, Queue$1__get_Count, Queue$1_$ctor_BB573A } from \"../fable_modules/fable-library.4.2.2/System.Collections.Generic.js\";\r\nimport { FSharpRef } from \"../fable_modules/fable-library.4.2.2/Types.js\";\r\nimport { VSCode_getPluginPath } from \"../paket-files/ionide/ionide-vscode-helpers/src/Helpers.js\";\r\n\r\nexport function Promise_PromiseBuilder__PromiseBuilder_Source_Z7741CCC2(x, p) {\r\n    return p;\r\n}\r\n\r\nexport function Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(x, p) {\r\n    return p;\r\n}\r\n\r\n/**\r\n * Converts Range DTO to VS Code Range.\r\n */\r\nexport function CodeRange_fromDTO(range) {\r\n    return new vscode.Range((range.StartLine - 1), (range.StartColumn - 1), (range.EndLine - 1), (range.EndColumn - 1));\r\n}\r\n\r\nexport function CodeRange_fromHighlightingDTO(range) {\r\n    return new vscode.Range((range.StartLine - 1), range.StartColumn, (range.EndLine - 1), range.EndColumn);\r\n}\r\n\r\nexport function CodeRange_fromSimplifiedNameRange(range) {\r\n    return new vscode.Range((range.StartLine - 1), (range.StartColumn - 2), (range.EndLine - 1), (range.EndColumn - 2));\r\n}\r\n\r\n/**\r\n * Converts Declaration DTO of a specific `length` to VS Code Range.\r\n */\r\nexport function CodeRange_fromDeclaration(decl, length) {\r\n    return new vscode.Range((decl.Line - 1), (decl.Column - 1), (decl.Line - 1), ((decl.Column + length) - 1));\r\n}\r\n\r\n/**\r\n * Converts SymbolUse DTO to VS Code Range.\r\n */\r\nexport function CodeRange_fromSymbolUse(su) {\r\n    return new vscode.Range((su.StartLine - 1), (su.StartColumn - 1), (su.EndLine - 1), (su.EndColumn - 1));\r\n}\r\n\r\nexport function CodeRange_fromError(error) {\r\n    return new vscode.Range((error.StartLine - 1), (error.StartColumn - 1), (error.EndLine - 1), (error.EndColumn - 1));\r\n}\r\n\r\nexport function String_trim(s) {\r\n    return s.trim();\r\n}\r\n\r\nexport function String_replace(oldVal, newVal, str) {\r\n    if (str === defaultOf()) {\r\n        return defaultOf();\r\n    }\r\n    else {\r\n        return replace(str, oldVal, newVal);\r\n    }\r\n}\r\n\r\nexport function String_split(separator, s) {\r\n    return split(s, separator);\r\n}\r\n\r\nexport function String_endWith(ending, s) {\r\n    return endsWith(s, ending);\r\n}\r\n\r\nexport function String_startWith(ending, s) {\r\n    return s.indexOf(ending) === 0;\r\n}\r\n\r\nexport function String_quote(s) {\r\n    let s_2, s_1;\r\n    let quote;\r\n    const clo = toText(printf(\"\\\"%s\\\"\"));\r\n    quote = (clo);\r\n    if ((s_2 = s, !((s_1 = s_2, (s_1.indexOf(\"\\\"\") === 0) && endsWith(s_1, \"\\\"\"))) && exists((c) => {\r\n        if ((c === \" \") ? true : (c === \"\\t\")) {\r\n            return true;\r\n        }\r\n        else {\r\n            return c === \"\\n\";\r\n        }\r\n    }, s_2.split(\"\")))) {\r\n        return quote(s);\r\n    }\r\n    else {\r\n        return s;\r\n    }\r\n}\r\n\r\nexport function Option_fill(def, x) {\r\n    if (x == null) {\r\n        return def;\r\n    }\r\n    else {\r\n        return value_2(x);\r\n    }\r\n}\r\n\r\nexport function Document_$007CFSharp$007CCSharp$007CVB$007CFSharpScript$007CMarkdown$007COther$007C(document$) {\r\n    if ((document$.languageId === \"fsharp\") && endsWith(document$.fileName, \"fsx\")) {\r\n        return new FSharpChoice$6(3, [void 0]);\r\n    }\r\n    else {\r\n        switch (document$.languageId) {\r\n            case \"fsharp\":\r\n                return new FSharpChoice$6(0, [void 0]);\r\n            case \"csharp\":\r\n                return new FSharpChoice$6(1, [void 0]);\r\n            case \"vb\":\r\n                return new FSharpChoice$6(2, [void 0]);\r\n            case \"markdown\":\r\n                return new FSharpChoice$6(4, [void 0]);\r\n            default:\r\n                return new FSharpChoice$6(5, [void 0]);\r\n        }\r\n    }\r\n}\r\n\r\nexport function Configuration_tryGet(key) {\r\n    const configuredValue = workspace.getConfiguration().get(key);\r\n    if (equals(configuredValue, \"\")) {\r\n        return void 0;\r\n    }\r\n    else {\r\n        return configuredValue;\r\n    }\r\n}\r\n\r\n/**\r\n * get a key of a given value, asusming that a default has been set by extension configuration settings\r\n */\r\nexport function Configuration_getUnsafe(key) {\r\n    return value_2(workspace.getConfiguration().get(key));\r\n}\r\n\r\nexport function Configuration_get(defaultValue, key) {\r\n    return workspace.getConfiguration().get(key, defaultValue);\r\n}\r\n\r\nexport function Configuration_getInContext(context, defaultValue, key) {\r\n    return workspace.getConfiguration(void 0, context).get(key, defaultValue);\r\n}\r\n\r\n/**\r\n * write the value to the given key in the workspace configuration\r\n */\r\nexport function Configuration_set(key, value) {\r\n    return workspace.getConfiguration().update(key, value, 2);\r\n}\r\n\r\n/**\r\n * write the value to the given key in the global configuration\r\n */\r\nexport function Configuration_setGlobal(key, value) {\r\n    return workspace.getConfiguration().update(key, value, 1);\r\n}\r\n\r\nexport function Utils_isNotNull(o) {\r\n    return !equals(o, defaultOf());\r\n}\r\n\r\nexport function Message_choice(title) {\r\n    const m = {};\r\n    m.title = title;\r\n    return m;\r\n}\r\n\r\nexport class JS_JsObject {\r\n    constructor() {\r\n    }\r\n}\r\n\r\nexport function JS_JsObject_$reflection() {\r\n    return class_type(\"Ionide.VSCode.FSharp.JS.JsObject\", void 0, JS_JsObject);\r\n}\r\n\r\nexport class JS_JsObjectAsDictionary$1 {\r\n    constructor() {\r\n    }\r\n}\r\n\r\nexport function JS_JsObjectAsDictionary$1_$reflection(gen0) {\r\n    return class_type(\"Ionide.VSCode.FSharp.JS.JsObjectAsDictionary`1\", [gen0], JS_JsObjectAsDictionary$1);\r\n}\r\n\r\nexport function Patterns_$007CStartsWith$007C_$007C(pat, str) {\r\n    if (str === defaultOf()) {\r\n        return void 0;\r\n    }\r\n    else if (str.indexOf(pat) === 0) {\r\n        return str;\r\n    }\r\n    else {\r\n        return void 0;\r\n    }\r\n}\r\n\r\nexport function Patterns_$007CContains$007C_$007C(pat, str) {\r\n    if (str === defaultOf()) {\r\n        return void 0;\r\n    }\r\n    else if (str.indexOf(pat) >= 0) {\r\n        return str;\r\n    }\r\n    else {\r\n        return void 0;\r\n    }\r\n}\r\n\r\nexport function Array_splitAt(n, xs) {\r\n    let matchResult;\r\n    if (!equalsWith(equals, xs, defaultOf()) && (xs.length === 0)) {\r\n        matchResult = 0;\r\n    }\r\n    else if (!equalsWith(equals, xs, defaultOf()) && (xs.length === 1)) {\r\n        matchResult = 0;\r\n    }\r\n    else if ((n >= xs.length) ? true : (n < 0)) {\r\n        matchResult = 1;\r\n    }\r\n    else {\r\n        matchResult = 2;\r\n    }\r\n    switch (matchResult) {\r\n        case 0:\r\n            return [xs, []];\r\n        case 1:\r\n            return [xs, []];\r\n        default:\r\n            return [xs.slice(0, (n - 1) + 1), xs.slice(n, xs.length)];\r\n    }\r\n}\r\n\r\nexport function Array_safeSkip(n, col) {\r\n    if (col.length === 0) {\r\n        return [];\r\n    }\r\n    else {\r\n        return skip(min(n, col.length), col);\r\n    }\r\n}\r\n\r\nexport function Array_safeTake(n, col) {\r\n    if (col.length === 0) {\r\n        return [];\r\n    }\r\n    else {\r\n        return take(min(n, col.length), col);\r\n    }\r\n}\r\n\r\nexport function Promise_empty() {\r\n    return Promise.resolve(defaultOf());\r\n}\r\n\r\nexport function Promise_ofThenable(t) {\r\n    return t;\r\n}\r\n\r\nexport function Promise_toThenable(p) {\r\n    return p;\r\n}\r\n\r\nexport function Promise_ofMaybeThenable(ifValue, t) {\r\n    const matchValue = t;\r\n    if (typeof (matchValue || {}).then === 'function') {\r\n        return Promise_ofThenable(matchValue);\r\n    }\r\n    else {\r\n        const a = ifValue(matchValue);\r\n        return Promise.resolve(a);\r\n    }\r\n}\r\n\r\nexport function Promise_onSuccess() {\r\n    return (fn) => ((a) => tap(fn, a));\r\n}\r\n\r\nexport function Promise_onFail(a, pr) {\r\n    return pr.catch((reason) => {\r\n        a(reason);\r\n        return Promise.reject(reason);\r\n    });\r\n}\r\n\r\nexport function Promise_suppress(pr) {\r\n    return pr.then((_arg) => {\r\n    }).catch((_arg_1) => {\r\n    });\r\n}\r\n\r\nexport function Promise_executeForAll(f, items) {\r\n    if (!isEmpty(items)) {\r\n        if (isEmpty(tail_1(items))) {\r\n            return f(head(items));\r\n        }\r\n        else {\r\n            return fold((acc, next) => (acc.then((_arg) => f(next))), f(head(items)), tail_1(items));\r\n        }\r\n    }\r\n    else {\r\n        return Promise_empty();\r\n    }\r\n}\r\n\r\nexport function Promise_mapExecuteForAll(f, items) {\r\n    let collected = [];\r\n    return PromiseBuilder__Run_212F1D4B(promise_1, PromiseBuilder__Delay_62FBFDE1(promise_1, () => (Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise_1, Promise_executeForAll((x) => PromiseBuilder__Run_212F1D4B(promise_1, PromiseBuilder__Delay_62FBFDE1(promise_1, () => (Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise_1, f(x)).then((_arg) => {\r\n        void (collected.push(_arg));\r\n        return Promise.resolve();\r\n    })))), items)).then(() => (Promise.resolve(ofSeq(collected)))))));\r\n}\r\n\r\nexport function Promise_executeForAlli(f, items) {\r\n    let index = 0;\r\n    return Promise_executeForAll((a) => {\r\n        const res = f(index, a);\r\n        index = ((index + 1) | 0);\r\n        return res;\r\n    }, items);\r\n}\r\n\r\nexport function Promise_executeWithMaxParallel(maxParallelCount, f, items) {\r\n    const items_1 = toArray(items);\r\n    const initial = Array_safeTake(maxParallelCount, items_1);\r\n    let remaining = Queue$1_$ctor_BB573A(Array_safeSkip(maxParallelCount, items_1));\r\n    const startNext = (promise) => (promise.then((_arg) => {\r\n        if (Queue$1__get_Count(remaining) === 0) {\r\n            return promise;\r\n        }\r\n        else {\r\n            return startNext(f(Queue$1__Dequeue(remaining)));\r\n        }\r\n    }));\r\n    const pr_1 = map((arg) => startNext(f(arg)), initial);\r\n    return Promise.all(pr_1);\r\n}\r\n\r\nexport function Event_invoke(listener, event) {\r\n    return event(listener);\r\n}\r\n\r\nexport function Context_set(name, value) {\r\n    commands.executeCommand(\"setContext\", some(name), some(value));\r\n}\r\n\r\nexport function Context_cachedSetter(name) {\r\n    let current = void 0;\r\n    return (value) => {\r\n        if (!equals(current, some(value))) {\r\n            Context_set(name, value);\r\n            current = some(value);\r\n        }\r\n    };\r\n}\r\n\r\nexport class ShowStatus {\r\n    constructor(panel, body) {\r\n        const this$ = new FSharpRef(defaultOf());\r\n        this.panel = panel;\r\n        this.body = body;\r\n        this$.contents = this;\r\n        this._disposables = [];\r\n        this[\"init@392\"] = 1;\r\n        this.panel.onDidDispose((() => {\r\n            ShowStatus__Dispose(this$.contents);\r\n            return void 0;\r\n        }), some(this$.contents), this._disposables);\r\n        this.panel.onDidChangeViewState(((_ev) => {\r\n            if (this.panel.visible) {\r\n                ShowStatus__Update(this$.contents);\r\n            }\r\n            return void 0;\r\n        }), some(this$.contents), this._disposables);\r\n        ShowStatus__Update(this$.contents);\r\n    }\r\n}\r\n\r\nexport function ShowStatus_$reflection() {\r\n    return class_type(\"Ionide.VSCode.FSharp.ShowStatus\", void 0, ShowStatus);\r\n}\r\n\r\nfunction ShowStatus_$ctor_2A6816C4(panel, body) {\r\n    return new ShowStatus(panel, body);\r\n}\r\n\r\n(() => {\r\n    ShowStatus.instance = defaultOf();\r\n})();\r\n\r\nexport function ShowStatus_get_ViewType() {\r\n    return \"project_status\";\r\n}\r\n\r\nexport function ShowStatus_CreateOrShow_Z384F8060(projectPath, projectName) {\r\n    const title = toText(printf(\"Project %s status\"))(projectName);\r\n    const panel = window$.createWebviewPanel(ShowStatus_get_ViewType(), title, 1);\r\n    Promise_onFail((err) => {\r\n        console.error(some(\"ShowStatus.CreateOrShow failed:\\n\"), err);\r\n        window$.showErrorMessage(\"We couldn\\'t generate the status report\");\r\n    }, Promise_onSuccess()((bodyStr) => {\r\n        toConsole(printf(\"%s\"))(bodyStr);\r\n        ShowStatus.instance = ShowStatus_$ctor_2A6816C4(panel, bodyStr);\r\n    })(PromiseBuilder__Run_212F1D4B(promise_1, PromiseBuilder__Delay_62FBFDE1(promise_1, () => {\r\n        let arg_1;\r\n        const uri = vscode.Uri.parse((arg_1 = encodeURIComponent(projectPath), toText(printf(\"fsharp-workspace:projects/status?path=%s\"))(arg_1)));\r\n        return Promise_PromiseBuilder__PromiseBuilder_Source_Z7741CCC2(promise_1, workspace.openTextDocument(uri)).then((_arg) => (Promise.resolve(_arg.getText())));\r\n    }))));\r\n}\r\n\r\nexport function ShowStatus__Dispose(__) {\r\n    ShowStatus.instance = defaultOf();\r\n    __.panel.dispose();\r\n    let enumerator = getEnumerator(__._disposables);\r\n    try {\r\n        while (enumerator[\"System.Collections.IEnumerator.MoveNext\"]()) {\r\n            const disposable = enumerator[\"System.Collections.Generic.IEnumerator`1.get_Current\"]();\r\n            if (Utils_isNotNull(disposable)) {\r\n                disposable.dispose();\r\n            }\r\n        }\r\n    }\r\n    finally {\r\n        disposeSafe(enumerator);\r\n    }\r\n    __._disposables = [];\r\n}\r\n\r\nexport function ShowStatus__Update(__) {\r\n    __.panel.webview.html = ShowStatus__renderPage_Z721C83C5(__, __.body);\r\n}\r\n\r\nexport function ShowStatus__renderPage_Z721C83C5(this$, body) {\r\n    return toText(printf(\"<!DOCTYPE html>\\r\\n<html lang=\\\"en\\\">\\r\\n<head>\\r\\n</head>\\r\\n<body>\\r\\n%s\\r\\n</body>\\r\\n</html>\"))(body);\r\n}\r\n\r\nconst VSCodeExtension_extensionName = \"ionide-fsharp\";\r\n\r\nexport function VSCodeExtension_ionidePluginPath() {\r\n    let oldExtensionName;\r\n    const s = VSCodeExtension_extensionName;\r\n    let arg;\r\n    const arg_2 = s[0];\r\n    arg = arg_2.toLocaleUpperCase();\r\n    const arg_1 = substring(s, 1);\r\n    oldExtensionName = toText(printf(\"%c%s\"))(arg)(arg_1);\r\n    let path;\r\n    try {\r\n        path = VSCode_getPluginPath(toText(printf(\"Ionide.%s\"))(VSCodeExtension_extensionName));\r\n    }\r\n    catch (matchValue) {\r\n        path = VSCode_getPluginPath(toText(printf(\"Ionide.%s\"))(oldExtensionName));\r\n    }\r\n    if (path == null) {\r\n        throw new Error(\"couldn\\'t resolve plugin path\");\r\n    }\r\n    else {\r\n        return path;\r\n    }\r\n}\r\n\r\nexport function VSCodeExtension_workbenchViewId() {\r\n    return toText(printf(\"workbench.view.extension.%s\"))(VSCodeExtension_extensionName);\r\n}\r\n\r\n//# sourceMappingURL=Utils.js.map\r\n","import { String_trim, Configuration_tryGet } from \"./Utils.js\";\r\nimport { Process_exec } from \"../paket-files/ionide/ionide-vscode-helpers/src/Helpers.js\";\r\nimport { map as map_1, defaultArgWith, bind } from \"../fable_modules/fable-library.4.2.2/Option.js\";\r\nimport { map, tryHead } from \"../fable_modules/fable-library.4.2.2/Array.js\";\r\nimport * as path_2 from \"path\";\r\nimport { ofArray, head as head_1, tail as tail_1, isEmpty } from \"../fable_modules/fable-library.4.2.2/List.js\";\r\nimport * as fs from \"fs\";\r\n\r\nexport const isWin = process.platform === \"win32\";\r\n\r\nfunction op_LessDivideGreater(a, b) {\r\n    if (isWin) {\r\n        return (a + \"\\\\\") + b;\r\n    }\r\n    else {\r\n        return (a + \"/\") + b;\r\n    }\r\n}\r\n\r\nexport function configFsiSdkFilePath() {\r\n    return Configuration_tryGet(\"FSharp.fsiSdkFilePath\");\r\n}\r\n\r\nexport function spawnAndGetTrimmedOutput(location, command) {\r\n    const pr = Process_exec(location, command);\r\n    return pr.then((tupledArg) => [tupledArg[0], String_trim(tupledArg[1]), String_trim(tupledArg[2])]);\r\n}\r\n\r\nexport function tryGetTool(toolName) {\r\n    if (isWin) {\r\n        let pr_1;\r\n        const pr = spawnAndGetTrimmedOutput(\"cmd\", [\"/C\", \"where\", toolName]);\r\n        pr_1 = (pr.then((tupledArg) => {\r\n            const path = tupledArg[1];\r\n            if (path !== \"\") {\r\n                return path;\r\n            }\r\n            else {\r\n                return void 0;\r\n            }\r\n        }));\r\n        return pr_1.then((option) => bind((paths) => tryHead(map(String_trim, paths.split(\"\\n\"))), option));\r\n    }\r\n    else {\r\n        const pr_2 = spawnAndGetTrimmedOutput(\"which\", [toolName]);\r\n        return pr_2.then((tupledArg_1) => {\r\n            const path_1 = tupledArg_1[1];\r\n            if (path_1 !== \"\") {\r\n                return path_1;\r\n            }\r\n            else {\r\n                return void 0;\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\nexport const dotnet = defaultArgWith(map_1((root) => {\r\n    const a = op_LessDivideGreater(root, isWin ? \"dotnet.exe\" : \"dotnet\");\r\n    return Promise.resolve(a);\r\n}, Configuration_tryGet(\"FSharp.dotnetRoot\")), () => tryGetTool(\"dotnet\"));\r\n\r\nexport function ensureDirectory(path) {\r\n    const root = path_2.isAbsolute(path) ? void 0 : __dirname;\r\n    const ensure = (segments_1_mut, currentPath_mut) => {\r\n        ensure:\r\n        while (true) {\r\n            const segments_1 = segments_1_mut, currentPath = currentPath_mut;\r\n            if (isEmpty(segments_1)) {\r\n            }\r\n            else {\r\n                const tail = tail_1(segments_1);\r\n                const head = head_1(segments_1);\r\n                if (head === \"\") {\r\n                    segments_1_mut = tail;\r\n                    currentPath_mut = currentPath;\r\n                    continue ensure;\r\n                }\r\n                else {\r\n                    let subPath;\r\n                    if (currentPath == null) {\r\n                        subPath = head;\r\n                    }\r\n                    else {\r\n                        const path_1 = currentPath;\r\n                        subPath = path_2.join(path_1, head);\r\n                    }\r\n                    if (!fs.existsSync(subPath)) {\r\n                        fs.mkdirSync(subPath);\r\n                    }\r\n                    segments_1_mut = tail;\r\n                    currentPath_mut = subPath;\r\n                    continue ensure;\r\n                }\r\n            }\r\n            break;\r\n        }\r\n    };\r\n    ensure(ofArray(path.split(path_2.sep)), root);\r\n    return path;\r\n}\r\n\r\n//# sourceMappingURL=Environment.js.map\r\n","import { FSharpRef, Record, Union } from \"../fable-library.4.2.2/Types.js\";\r\nimport { record_type, class_type, tuple_type, lambda_type, union_type, list_type, obj_type, string_type } from \"../fable-library.4.2.2/Reflection.js\";\r\nimport { FSharpResult$2 } from \"../fable-library.4.2.2/Choice.js\";\r\nimport { defaultOf } from \"../fable-library.4.2.2/Util.js\";\r\nimport { addToDict, tryGetValue } from \"../fable-library.4.2.2/MapUtil.js\";\r\nimport { replace } from \"../fable-library.4.2.2/RegExp.js\";\r\n\r\nexport class ErrorReason extends Union {\r\n    constructor(tag, fields) {\r\n        super();\r\n        this.tag = tag;\r\n        this.fields = fields;\r\n    }\r\n    cases() {\r\n        return [\"BadPrimitive\", \"BadPrimitiveExtra\", \"BadType\", \"BadField\", \"BadPath\", \"TooSmallArray\", \"FailMessage\", \"BadOneOf\"];\r\n    }\r\n}\r\n\r\nexport function ErrorReason_$reflection() {\r\n    return union_type(\"Thoth.Json.ErrorReason\", [], ErrorReason, () => [[[\"Item1\", string_type], [\"Item2\", obj_type]], [[\"Item1\", string_type], [\"Item2\", obj_type], [\"Item3\", string_type]], [[\"Item1\", string_type], [\"Item2\", obj_type]], [[\"Item1\", string_type], [\"Item2\", obj_type]], [[\"Item1\", string_type], [\"Item2\", obj_type], [\"Item3\", string_type]], [[\"Item1\", string_type], [\"Item2\", obj_type]], [[\"Item\", string_type]], [[\"Item\", list_type(string_type)]]]);\r\n}\r\n\r\nexport class CaseStrategy extends Union {\r\n    constructor(tag, fields) {\r\n        super();\r\n        this.tag = tag;\r\n        this.fields = fields;\r\n    }\r\n    cases() {\r\n        return [\"PascalCase\", \"CamelCase\", \"SnakeCase\"];\r\n    }\r\n}\r\n\r\nexport function CaseStrategy_$reflection() {\r\n    return union_type(\"Thoth.Json.CaseStrategy\", [], CaseStrategy, () => [[], [], []]);\r\n}\r\n\r\nexport class ExtraCoders extends Record {\r\n    constructor(Hash, Coders) {\r\n        super();\r\n        this.Hash = Hash;\r\n        this.Coders = Coders;\r\n    }\r\n}\r\n\r\nexport function ExtraCoders_$reflection() {\r\n    return record_type(\"Thoth.Json.ExtraCoders\", [], ExtraCoders, () => [[\"Hash\", string_type], [\"Coders\", class_type(\"Microsoft.FSharp.Collections.FSharpMap`2\", [string_type, tuple_type(lambda_type(obj_type, obj_type), lambda_type(string_type, lambda_type(obj_type, union_type(\"Microsoft.FSharp.Core.FSharpResult`2\", [obj_type, tuple_type(string_type, ErrorReason_$reflection())], FSharpResult$2, () => [[[\"ResultValue\", obj_type]], [[\"ErrorValue\", tuple_type(string_type, ErrorReason_$reflection())]]]))))])]]);\r\n}\r\n\r\nexport class Util_Cache$1 {\r\n    constructor() {\r\n        this.cache = (new Map([]));\r\n    }\r\n}\r\n\r\nexport function Util_Cache$1_$reflection(gen0) {\r\n    return class_type(\"Thoth.Json.Util.Cache`1\", [gen0], Util_Cache$1);\r\n}\r\n\r\nexport function Util_Cache$1_$ctor() {\r\n    return new Util_Cache$1();\r\n}\r\n\r\nexport function Util_Cache$1__GetOrAdd_43981464(__, key, factory) {\r\n    let matchValue;\r\n    let outArg = defaultOf();\r\n    matchValue = [tryGetValue(__.cache, key, new FSharpRef(() => outArg, (v) => {\r\n        outArg = v;\r\n    })), outArg];\r\n    if (matchValue[0]) {\r\n        return matchValue[1];\r\n    }\r\n    else {\r\n        const x_1 = factory();\r\n        addToDict(__.cache, key, x_1);\r\n        return x_1;\r\n    }\r\n}\r\n\r\nexport const Util_CachedEncoders = Util_Cache$1_$ctor();\r\n\r\nexport const Util_CachedDecoders = Util_Cache$1_$ctor();\r\n\r\nexport function Util_Casing_lowerFirst(str) {\r\n    return str.slice(void 0, 0 + 1).toLowerCase() + str.slice(1, str.length);\r\n}\r\n\r\nexport function Util_Casing_convert(caseStrategy, fieldName) {\r\n    switch (caseStrategy.tag) {\r\n        case 2:\r\n            return replace(Util_Casing_lowerFirst(fieldName), \"[A-Z]\", \"_$0\").toLowerCase();\r\n        case 0:\r\n            return fieldName;\r\n        default:\r\n            return Util_Casing_lowerFirst(fieldName);\r\n    }\r\n}\r\n\r\n//# sourceMappingURL=Types.fs.js.map\r\n","import { trim } from \"./String.js\";\n// RFC 4122 compliant. From https://stackoverflow.com/a/13653180/3922220\n// const guidRegex = /^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/;\n// Relax GUID parsing, see #1637\nconst guidRegex = /^[\\(\\{]{0,2}[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}[\\)\\}]{0,2}$/;\nconst guidRegexNoHyphen = /^([0-9a-f]{8})([0-9a-f]{4})([0-9a-f]{4})([0-9a-f]{4})([0-9a-f]{12})$/;\nconst guidRegexHex = /^\\{0x[0-9a-f]{8},(0x[0-9a-f]{4},){2}\\{(0x[0-9a-f]{2},){7}0x[0-9a-f]{2}\\}\\}$/;\nconst guidHexCaptures = /^([0-9a-f]{8})-(([0-9a-f]{4})-)(([0-9a-f]{4})-)([0-9a-f]{2})([0-9a-f]{2})-([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/;\nexport function toString(str, format, _provider) {\n    if (format && format?.length > 0) {\n        switch (format) {\n            case \"N\":\n                return str.replace(/-/g, '');\n            case \"D\":\n                return str;\n            case \"B\":\n                return \"{\" + str + \"}\";\n            case \"P\":\n                return \"(\" + str + \")\";\n            case \"X\":\n                return str.replace(guidHexCaptures, \"{0x$1,0x$3,0x$5,{0x$6,0x$7,0x$8,0x$9,0x$10,0x$11,0x$12,0x$13}}\");\n            default:\n                throw new Error(\"Unrecognized Guid print format\");\n        }\n    }\n    else {\n        return str;\n    }\n}\n/** Validates UUID as specified in RFC4122 (versions 1-5). */\nexport function parse(str) {\n    function hyphenateGuid(str) {\n        return str.replace(guidRegexNoHyphen, \"$1-$2-$3-$4-$5\");\n    }\n    const wsTrimAndLowered = str.trim().toLowerCase();\n    if (guidRegex.test(wsTrimAndLowered)) {\n        return trim(wsTrimAndLowered, \"{\", \"}\", \"(\", \")\");\n    }\n    else if (guidRegexNoHyphen.test(wsTrimAndLowered)) {\n        return hyphenateGuid(wsTrimAndLowered);\n    }\n    else if (guidRegexHex.test(wsTrimAndLowered)) {\n        return hyphenateGuid(wsTrimAndLowered.replace(/[\\{\\},]|0x/g, ''));\n    }\n    else {\n        throw new Error(\"Guid should contain 32 digits with 4 dashes: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx\");\n    }\n}\nexport function tryParse(str, defValue) {\n    try {\n        defValue.contents = parse(str);\n        return true;\n    }\n    catch {\n        return false;\n    }\n}\n// From https://gist.github.com/LeverOne/1308368\nexport function newGuid() {\n    let b = \"\";\n    for (let a = 0; a++ < 36;) {\n        b += a * 51 & 52\n            ? (a ^ 15 ? 8 ^ Math.random() * (a ^ 20 ? 16 : 4) : 4).toString(16)\n            : \"-\";\n    }\n    return b;\n}\n// Maps for number <-> hex string conversion\nlet _convertMapsInitialized = false;\nlet _byteToHex;\nlet _hexToByte;\nfunction initConvertMaps() {\n    _byteToHex = new Array(256);\n    _hexToByte = {};\n    for (let i = 0; i < 256; i++) {\n        _byteToHex[i] = (i + 0x100).toString(16).substr(1);\n        _hexToByte[_byteToHex[i]] = i;\n    }\n    _convertMapsInitialized = true;\n}\n/** Parse a UUID into it's component bytes */\n// Adapted from https://github.com/zefferus/uuid-parse\nexport function guidToArray(s) {\n    if (!_convertMapsInitialized) {\n        initConvertMaps();\n    }\n    let i = 0;\n    const buf = new Uint8Array(16);\n    s.toLowerCase().replace(/[0-9a-f]{2}/g, ((oct) => {\n        switch (i) {\n            // .NET saves first three byte groups with different endianness\n            // See https://stackoverflow.com/a/16722909/3922220\n            case 0:\n            case 1:\n            case 2:\n            case 3:\n                buf[3 - i++] = _hexToByte[oct];\n                break;\n            case 4:\n            case 5:\n                buf[9 - i++] = _hexToByte[oct];\n                break;\n            case 6:\n            case 7:\n                buf[13 - i++] = _hexToByte[oct];\n                break;\n            case 8:\n            case 9:\n            case 10:\n            case 11:\n            case 12:\n            case 13:\n            case 14:\n            case 15:\n                buf[i++] = _hexToByte[oct];\n                break;\n        }\n    }));\n    // Zero out remaining bytes if string was short\n    while (i < 16) {\n        buf[i++] = 0;\n    }\n    return buf;\n}\n/** Convert UUID byte array into a string */\nexport function arrayToGuid(buf) {\n    if (buf.length !== 16) {\n        throw new Error(\"Byte array for GUID must be exactly 16 bytes long\");\n    }\n    if (!_convertMapsInitialized) {\n        initConvertMaps();\n    }\n    const guid = _byteToHex[buf[3]] + _byteToHex[buf[2]] +\n        _byteToHex[buf[1]] + _byteToHex[buf[0]] + \"-\" +\n        _byteToHex[buf[5]] + _byteToHex[buf[4]] + \"-\" +\n        _byteToHex[buf[7]] + _byteToHex[buf[6]] + \"-\" +\n        _byteToHex[buf[8]] + _byteToHex[buf[9]] + \"-\" +\n        _byteToHex[buf[10]] + _byteToHex[buf[11]] +\n        _byteToHex[buf[12]] + _byteToHex[buf[13]] +\n        _byteToHex[buf[14]] + _byteToHex[buf[15]];\n    return guid;\n}\n","export var NumberStyles;\n(function (NumberStyles) {\n    // None = 0x00000000,\n    // AllowLeadingWhite = 0x00000001,\n    // AllowTrailingWhite = 0x00000002,\n    // AllowLeadingSign = 0x00000004,\n    // AllowTrailingSign = 0x00000008,\n    // AllowParentheses = 0x00000010,\n    // AllowDecimalPoint = 0x00000020,\n    // AllowThousands = 0x00000040,\n    // AllowExponent = 0x00000080,\n    // AllowCurrencySymbol = 0x00000100,\n    NumberStyles[NumberStyles[\"AllowHexSpecifier\"] = 512] = \"AllowHexSpecifier\";\n    // Integer = AllowLeadingWhite | AllowTrailingWhite | AllowLeadingSign,\n    // HexNumber = AllowLeadingWhite | AllowTrailingWhite | AllowHexSpecifier,\n    // Number = AllowLeadingWhite | AllowTrailingWhite | AllowLeadingSign |\n    //          AllowTrailingSign | AllowDecimalPoint | AllowThousands,\n    // Float = AllowLeadingWhite | AllowTrailingWhite | AllowLeadingSign |\n    //         AllowDecimalPoint | AllowExponent,\n    // Currency = AllowLeadingWhite | AllowTrailingWhite | AllowLeadingSign | AllowTrailingSign |\n    //            AllowParentheses | AllowDecimalPoint | AllowThousands | AllowCurrencySymbol,\n    // Any = AllowLeadingWhite | AllowTrailingWhite | AllowLeadingSign | AllowTrailingSign |\n    //       AllowParentheses | AllowDecimalPoint | AllowThousands | AllowCurrencySymbol | AllowExponent,\n})(NumberStyles || (NumberStyles = {}));\nfunction validResponse(regexMatch, radix) {\n    const [/*all*/ , sign, prefix, digits] = regexMatch;\n    return {\n        sign: sign || \"\",\n        prefix: prefix || \"\",\n        digits,\n        radix,\n    };\n}\nfunction getRange(unsigned, bitsize) {\n    switch (bitsize) {\n        case 8: return unsigned ? [0, 255] : [-128, 127];\n        case 16: return unsigned ? [0, 65535] : [-32768, 32767];\n        case 32: return unsigned ? [0, 4294967295] : [-2147483648, 2147483647];\n        default: throw new Error(\"Invalid bit size.\");\n    }\n}\nfunction getInvalidDigits(radix) {\n    switch (radix) {\n        case 2: return /[^0-1]/;\n        case 8: return /[^0-7]/;\n        case 10: return /[^0-9]/;\n        case 16: return /[^0-9a-fA-F]/;\n        default:\n            throw new Error(\"Invalid Base.\");\n    }\n}\nexport function getPrefix(radix) {\n    switch (radix) {\n        case 2: return \"0b\";\n        case 8: return \"0o\";\n        case 10: return \"\";\n        case 16: return \"0x\";\n        default: return \"\";\n    }\n}\nexport function getRadix(prefix, style) {\n    if (style & NumberStyles.AllowHexSpecifier) {\n        return 16;\n    }\n    else {\n        switch (prefix) {\n            case \"0b\":\n            case \"0B\": return 2;\n            case \"0o\":\n            case \"0O\": return 8;\n            case \"0x\":\n            case \"0X\": return 16;\n            default: return 10;\n        }\n    }\n}\nexport function isValid(str, style, radix) {\n    const integerRegex = /^\\s*([\\+\\-])?(0[xXoObB])?([0-9a-fA-F]+)\\s*$/;\n    const res = integerRegex.exec(str.replace(/_/g, \"\"));\n    if (res != null) {\n        const [/*all*/ , /*sign*/ , prefix, digits] = res;\n        radix = radix || getRadix(prefix, style);\n        const invalidDigits = getInvalidDigits(radix);\n        if (!invalidDigits.test(digits)) {\n            return validResponse(res, radix);\n        }\n    }\n    return null;\n}\nexport function parse(str, style, unsigned, bitsize, radix) {\n    const res = isValid(str, style, radix);\n    if (res != null) {\n        let v = Number.parseInt(res.sign + res.digits, res.radix);\n        if (!Number.isNaN(v)) {\n            const [umin, umax] = getRange(true, bitsize);\n            if (!unsigned && res.radix !== 10 && v >= umin && v <= umax) {\n                v = v << (32 - bitsize) >> (32 - bitsize);\n            }\n            const [min, max] = getRange(unsigned, bitsize);\n            if (v >= min && v <= max) {\n                return v;\n            }\n        }\n    }\n    throw new Error(\"Input string was not in a correct format.\");\n}\nexport function tryParse(str, style, unsigned, bitsize, defValue) {\n    try {\n        defValue.contents = parse(str, style, unsigned, bitsize);\n        return true;\n    }\n    catch {\n        return false;\n    }\n}\nexport function op_UnaryNegation_Int8(x) {\n    return x === -128 ? x : -x;\n}\nexport function op_UnaryNegation_Int16(x) {\n    return x === -32768 ? x : -x;\n}\nexport function op_UnaryNegation_Int32(x) {\n    return x === -2147483648 ? x : -x;\n}\nexport function divRem(x, y, out) {\n    const div = ~~(x / y);\n    const rem = x % y;\n    if (out === void 0) {\n        return [div, rem];\n    }\n    else {\n        out.contents = rem;\n        return div;\n    }\n}\n","/**\n * DateTimeOffset functions.\n *\n * Note: DateOffset instances are always DateObjects in local\n * timezone (because JS dates are all kinds of messed up).\n * A local date returns UTC epoch when `.getTime()` is called.\n *\n * However, this means that in order to construct an UTC date\n * from a DateOffset with offset of +5 hours, you first need\n * to subtract those 5 hours, than add the \"local\" offset.\n * As said, all kinds of messed up.\n *\n * Basically; invariant: date.getTime() always return UTC time.\n */\nimport { fromFloat64, toFloat64 } from \"./BigInt.js\";\nimport DateTime, { create as createDate, dateOffsetToString, daysInMonth, parseRaw, ticksToUnixEpochMilliseconds, unixEpochMillisecondsToTicks } from \"./Date.js\";\nimport { compareDates, padWithZeros } from \"./Util.js\";\nexport default function DateTimeOffset(value, offset) {\n    checkOffsetInRange(offset);\n    const d = new Date(value);\n    d.offset = offset != null ? offset : new Date().getTimezoneOffset() * -60000;\n    return d;\n}\nexport function offset(value) {\n    return value.offset || 0;\n}\nfunction checkOffsetInRange(offset) {\n    if (offset != null && offset !== 0) {\n        if (offset % 60000 !== 0) {\n            throw new Error(\"Offset must be specified in whole minutes.\");\n        }\n        if (Math.abs(offset / 3600000) > 14) {\n            throw new Error(\"Offset must be within plus or minus 14 hours.\");\n        }\n    }\n}\nexport function fromDate(date, offset) {\n    let offset2 = 0;\n    switch (date.kind) {\n        case 1 /* DateKind.UTC */:\n            if (offset != null && offset !== 0) {\n                throw new Error(\"The UTC Offset for Utc DateTime instances must be 0.\");\n            }\n            offset2 = 0;\n            break;\n        case 2 /* DateKind.Local */:\n            offset2 = date.getTimezoneOffset() * -60000;\n            if (offset != null && offset !== offset2) {\n                throw new Error(\"The UTC Offset of the local dateTime parameter does not match the offset argument.\");\n            }\n            break;\n        case 0 /* DateKind.Unspecified */:\n        default:\n            if (offset == null) {\n                offset2 = date.getTimezoneOffset() * -60000;\n            }\n            else {\n                offset2 = offset;\n            }\n            break;\n    }\n    return DateTimeOffset(date.getTime(), offset2);\n}\nexport function fromTicks(ticks, offset) {\n    const ms = ticksToUnixEpochMilliseconds(ticks) - offset;\n    return DateTimeOffset(ms, offset);\n}\nexport function fromUnixTimeMilliseconds(ms) {\n    return DateTimeOffset(toFloat64(ms), 0);\n}\nexport function fromUnixTimeSeconds(seconds) {\n    return DateTimeOffset(toFloat64(seconds * 1000n), 0);\n}\nexport function getUtcTicks(date) {\n    return unixEpochMillisecondsToTicks(date.getTime(), 0);\n}\nexport function minValue() {\n    // This is \"0001-01-01T00:00:00.000Z\", actual JS min value is -8640000000000000\n    return DateTimeOffset(-62135596800000, 0);\n}\nexport function maxValue() {\n    // This is \"9999-12-31T23:59:59.999Z\", actual JS max value is 8640000000000000\n    return DateTimeOffset(253402300799999, 0);\n}\nexport function parse(str) {\n    const [date, offsetMatch] = parseRaw(str);\n    const offset = offsetMatch == null\n        ? date.getTimezoneOffset() * -60000\n        : (offsetMatch === \"Z\" ? 0 : offsetMatch * 60000);\n    return DateTimeOffset(date.getTime(), offset);\n}\nexport function tryParse(v, defValue) {\n    try {\n        defValue.contents = parse(v);\n        return true;\n    }\n    catch (_err) {\n        return false;\n    }\n}\nexport function create(year, month, day, h, m, s, ms, offset) {\n    if (offset == null) {\n        offset = ms;\n        ms = 0;\n    }\n    checkOffsetInRange(offset);\n    let date;\n    if (offset === 0) {\n        date = new Date(Date.UTC(year, month - 1, day, h, m, s, ms));\n        if (year <= 99) {\n            date.setUTCFullYear(year, month - 1, day);\n        }\n    }\n    else {\n        const str = padWithZeros(year, 4) + \"-\" +\n            padWithZeros(month, 2) + \"-\" +\n            padWithZeros(day, 2) + \"T\" +\n            padWithZeros(h, 2) + \":\" +\n            padWithZeros(m, 2) + \":\" +\n            padWithZeros(s, 2) + \".\" +\n            padWithZeros(ms, 3) +\n            dateOffsetToString(offset);\n        date = new Date(str);\n    }\n    const dateValue = date.getTime();\n    if (isNaN(dateValue)) {\n        throw new Error(\"The parameters describe an unrepresentable Date\");\n    }\n    return DateTimeOffset(dateValue, offset);\n}\nexport function now() {\n    const date = new Date();\n    const offset = date.getTimezoneOffset() * -60000;\n    return DateTimeOffset(date.getTime(), offset);\n}\nexport function utcNow() {\n    const date = now();\n    return DateTimeOffset(date.getTime(), 0);\n}\nexport function toUniversalTime(date) {\n    return DateTime(date.getTime(), 1 /* DateKind.UTC */);\n}\nexport function toLocalTime(date) {\n    return DateTime(date.getTime(), 2 /* DateKind.Local */);\n}\nexport function timeOfDay(d) {\n    const d2 = new Date(d.getTime() + (d.offset ?? 0));\n    return d2.getUTCHours() * 3600000\n        + d2.getUTCMinutes() * 60000\n        + d2.getUTCSeconds() * 1000\n        + d2.getUTCMilliseconds();\n}\nexport function date(d) {\n    const d2 = new Date(d.getTime() + (d.offset ?? 0));\n    return createDate(d2.getUTCFullYear(), d2.getUTCMonth() + 1, d2.getUTCDate(), 0, 0, 0, 0);\n}\nexport function day(d) {\n    return new Date(d.getTime() + (d.offset ?? 0)).getUTCDate();\n}\nexport function hour(d) {\n    return new Date(d.getTime() + (d.offset ?? 0)).getUTCHours();\n}\nexport function millisecond(d) {\n    return new Date(d.getTime() + (d.offset ?? 0)).getUTCMilliseconds();\n}\nexport function minute(d) {\n    return new Date(d.getTime() + (d.offset ?? 0)).getUTCMinutes();\n}\nexport function month(d) {\n    return new Date(d.getTime() + (d.offset ?? 0)).getUTCMonth() + 1;\n}\nexport function second(d) {\n    return new Date(d.getTime() + (d.offset ?? 0)).getUTCSeconds();\n}\nexport function year(d) {\n    return new Date(d.getTime() + (d.offset ?? 0)).getUTCFullYear();\n}\nexport function dayOfWeek(d) {\n    return new Date(d.getTime() + (d.offset ?? 0)).getUTCDay();\n}\nexport function dayOfYear(d) {\n    const d2 = new Date(d.getTime() + (d.offset ?? 0));\n    const _year = d2.getUTCFullYear();\n    const _month = d2.getUTCMonth() + 1;\n    let _day = d2.getUTCDate();\n    for (let i = 1; i < _month; i++) {\n        _day += daysInMonth(_year, i);\n    }\n    return _day;\n}\nexport function add(d, ts) {\n    return DateTimeOffset(d.getTime() + ts, (d.offset ?? 0));\n}\nexport function addDays(d, v) {\n    return add(d, v * 86400000);\n}\nexport function addHours(d, v) {\n    return add(d, v * 3600000);\n}\nexport function addMinutes(d, v) {\n    return add(d, v * 60000);\n}\nexport function addSeconds(d, v) {\n    return add(d, v * 1000);\n}\nexport function addMilliseconds(d, v) {\n    return add(d, v);\n}\nexport function addTicks(d, v) {\n    return add(d, toFloat64(v / 10000n));\n}\nexport function addYears(d, v) {\n    const newMonth = d.getUTCMonth() + 1;\n    const newYear = d.getUTCFullYear() + v;\n    const _daysInMonth = daysInMonth(newYear, newMonth);\n    const newDay = Math.min(_daysInMonth, d.getUTCDate());\n    return create(newYear, newMonth, newDay, d.getUTCHours(), d.getUTCMinutes(), d.getUTCSeconds(), d.getUTCMilliseconds(), (d.offset ?? 0));\n}\nexport function addMonths(d, v) {\n    const d2 = new Date(d.getTime() + (d.offset ?? 0));\n    let newMonth = d2.getUTCMonth() + 1 + v;\n    let newMonth_ = 0;\n    let yearOffset = 0;\n    if (newMonth > 12) {\n        newMonth_ = newMonth % 12;\n        yearOffset = Math.floor(newMonth / 12);\n        newMonth = newMonth_;\n    }\n    else if (newMonth < 1) {\n        newMonth_ = 12 + newMonth % 12;\n        yearOffset = Math.floor(newMonth / 12) + (newMonth_ === 12 ? -1 : 0);\n        newMonth = newMonth_;\n    }\n    const newYear = d2.getUTCFullYear() + yearOffset;\n    const _daysInMonth = daysInMonth(newYear, newMonth);\n    const newDay = Math.min(_daysInMonth, d2.getUTCDate());\n    return create(newYear, newMonth, newDay, d2.getUTCHours(), d2.getUTCMinutes(), d2.getUTCSeconds(), d2.getUTCMilliseconds(), (d.offset ?? 0));\n}\nexport function subtract(d, that) {\n    return typeof that === \"number\"\n        ? DateTimeOffset(d.getTime() - that, (d.offset ?? 0))\n        : d.getTime() - that.getTime();\n}\nexport function equals(d1, d2) {\n    return d1.getTime() === d2.getTime();\n}\nexport function equalsExact(d1, d2) {\n    return d1.getTime() === d2.getTime() && d1.offset === d2.offset;\n}\nexport function compare(d1, d2) {\n    return compareDates(d1, d2);\n}\nexport const compareTo = compare;\nexport function op_Addition(x, y) {\n    return add(x, y);\n}\nexport function op_Subtraction(x, y) {\n    return subtract(x, y);\n}\nexport function toOffset(d, offset) {\n    return DateTimeOffset(d.getTime(), offset);\n}\nexport function toUnixTimeMilliseconds(d) {\n    return fromFloat64(d.getTime());\n}\nexport function toUnixTimeSeconds(d) {\n    return fromFloat64(d.getTime() / 1000.0);\n}\n","import { comparePrimitives, padLeftAndRightWithZeros, padWithZeros } from \"./Util.js\";\nimport { toInt64 } from \"./BigInt.js\";\n/**\n * Calls:\n * - `Math.ceil` if the `value` is **negative**\n * - `Math.floor` if the `value` is **positive**\n * @param value Value to round\n */\nfunction signedRound(value) {\n    return value < 0 ? Math.ceil(value) : Math.floor(value);\n}\nexport function create(d = 0, h = 0, m = 0, s = 0, ms = 0) {\n    switch (arguments.length) {\n        case 1:\n            // ticks\n            return fromTicks(arguments[0]);\n        case 3:\n            // h,m,s\n            d = 0, h = arguments[0], m = arguments[1], s = arguments[2], ms = 0;\n            break;\n        default:\n            // d,h,m,s,ms\n            break;\n    }\n    return d * 86400000 + h * 3600000 + m * 60000 + s * 1000 + ms;\n}\nexport function fromTicks(ticks) {\n    return Number(BigInt(ticks) / 10000n);\n}\nexport function fromDays(d) {\n    return create(d, 0, 0, 0);\n}\nexport function fromHours(h) {\n    return create(h, 0, 0);\n}\nexport function fromMinutes(m) {\n    return create(0, m, 0);\n}\nexport function fromSeconds(s) {\n    return create(0, 0, s);\n}\nexport function days(ts) {\n    return signedRound(ts / 86400000);\n}\nexport function hours(ts) {\n    return signedRound(ts % 86400000 / 3600000);\n}\nexport function minutes(ts) {\n    return signedRound(ts % 3600000 / 60000);\n}\nexport function seconds(ts) {\n    return signedRound(ts % 60000 / 1000);\n}\nexport function milliseconds(ts) {\n    return signedRound(ts % 1000);\n}\nexport function ticks(ts) {\n    return toInt64(BigInt(ts) * 10000n);\n}\nexport function totalDays(ts) {\n    return ts / 86400000;\n}\nexport function totalHours(ts) {\n    return ts / 3600000;\n}\nexport function totalMinutes(ts) {\n    return ts / 60000;\n}\nexport function totalSeconds(ts) {\n    return ts / 1000;\n}\nexport function negate(ts) {\n    return ts * -1;\n}\nexport function add(ts1, ts2) {\n    return ts1 + ts2;\n}\nexport function subtract(ts1, ts2) {\n    return ts1 - ts2;\n}\nexport function multiply(ts, factor) {\n    return ts * factor;\n}\nexport function divide(ts, b) {\n    return ts / b;\n}\nexport const op_Addition = add;\nexport const op_Subtraction = subtract;\nexport const op_Multiply = multiply;\nexport const op_Division = divide;\nexport const compare = comparePrimitives;\nexport const compareTo = comparePrimitives;\nexport function duration(x) {\n    return Math.abs(x);\n}\nexport function toString(ts, format = \"c\", _provider) {\n    if ([\"c\", \"g\", \"G\"].indexOf(format) === -1) {\n        throw new Error(\"Custom formats are not supported\");\n    }\n    const d = Math.abs(days(ts));\n    const h = Math.abs(hours(ts));\n    const m = Math.abs(minutes(ts));\n    const s = Math.abs(seconds(ts));\n    const ms = Math.abs(milliseconds(ts));\n    const sign = ts < 0 ? \"-\" : \"\";\n    return `${sign}${d === 0 && (format === \"c\" || format === \"g\") ? \"\" : format === \"c\" ? d + \".\" : d + \":\"}${format === \"g\" ? h : padWithZeros(h, 2)}:${padWithZeros(m, 2)}:${padWithZeros(s, 2)}${ms === 0 && (format === \"c\" || format === \"g\") ? \"\" : format === \"g\" ? \".\" + padWithZeros(ms, 3) : \".\" + padLeftAndRightWithZeros(ms, 3, 7)}`;\n}\nexport function parse(str) {\n    const firstDot = str.search(\"\\\\.\");\n    const firstColon = str.search(\"\\\\:\");\n    if (firstDot === -1 && firstColon === -1) { // There is only a day ex: 4\n        const d = parseInt(str, 0);\n        if (isNaN(d)) {\n            throw new Error(`String '${str}' was not recognized as a valid TimeSpan.`);\n        }\n        else {\n            return create(d, 0, 0, 0, 0);\n        }\n    }\n    if (firstColon > 0) { // process time part\n        // WIP: (-?)(((\\d+)\\.)?([0-9]|0[0-9]|1[0-9]|2[0-3]):(\\d+)(:\\d+(\\.\\d{1,7})?)?|\\d+(?:(?!\\.)))\n        const r = /^(-?)((\\d+)\\.)?(?:0*)([0-9]|0[0-9]|1[0-9]|2[0-3]):(?:0*)([0-5][0-9]|[0-9])(:(?:0*)([0-5][0-9]|[0-9]))?\\.?(\\d+)?$/.exec(str);\n        if (r != null && r[4] != null && r[5] != null) {\n            let d = 0;\n            let ms = 0;\n            let s = 0;\n            const sign = r[1] != null && r[1] === \"-\" ? -1 : 1;\n            const h = +r[4];\n            const m = +r[5];\n            if (r[3] != null) {\n                d = +r[3];\n            }\n            if (r[7] != null) {\n                s = +r[7];\n            }\n            if (r[8] != null) {\n                // Depending on the number of decimals passed, we need to adapt the numbers\n                switch (r[8].length) {\n                    case 1:\n                        ms = +r[8] * 100;\n                        break;\n                    case 2:\n                        ms = +r[8] * 10;\n                        break;\n                    case 3:\n                        ms = +r[8];\n                        break;\n                    case 4:\n                        ms = +r[8] / 10;\n                        break;\n                    case 5:\n                        ms = +r[8] / 100;\n                        break;\n                    case 6:\n                        ms = +r[8] / 1000;\n                        break;\n                    case 7:\n                        ms = +r[8] / 10000;\n                        break;\n                    default:\n                        throw new Error(`String '${str}' was not recognized as a valid TimeSpan.`);\n                }\n            }\n            return sign * create(d, h, m, s, ms);\n        }\n    }\n    throw new Error(`String '${str}' was not recognized as a valid TimeSpan.`);\n}\nexport function tryParse(v, defValue) {\n    try {\n        defValue.contents = parse(v);\n        return true;\n    }\n    catch {\n        return false;\n    }\n}\n","import { record_type, bool_type, list_type, option_type, class_type } from \"./Reflection.js\";\nimport { some, value as value_1 } from \"./Option.js\";\nimport { structuralHash, compare, toIterator, equals, disposeSafe, getEnumerator, isArrayLike } from \"./Util.js\";\nimport { singleton, ofArrayWithTail, head, tail, isEmpty as isEmpty_1, fold as fold_1, empty as empty_1, FSharpList, cons } from \"./List.js\";\nimport { map as map_2, fill } from \"./Array.js\";\nimport { Record } from \"./Types.js\";\nimport { tryPick as tryPick_1, pick as pick_1, iterate as iterate_1, compareWith, map as map_1, unfold } from \"./Seq.js\";\nimport { format, join } from \"./String.js\";\nexport class MapTreeLeaf$2 {\n    constructor(k, v) {\n        this.k = k;\n        this.v = v;\n    }\n}\nexport function MapTreeLeaf$2_$reflection(gen0, gen1) {\n    return class_type(\"Map.MapTreeLeaf`2\", [gen0, gen1], MapTreeLeaf$2);\n}\nexport function MapTreeLeaf$2_$ctor_5BDDA1(k, v) {\n    return new MapTreeLeaf$2(k, v);\n}\nexport function MapTreeLeaf$2__get_Key(_) {\n    return _.k;\n}\nexport function MapTreeLeaf$2__get_Value(_) {\n    return _.v;\n}\nexport class MapTreeNode$2 extends MapTreeLeaf$2 {\n    constructor(k, v, left, right, h) {\n        super(k, v);\n        this.left = left;\n        this.right = right;\n        this.h = (h | 0);\n    }\n}\nexport function MapTreeNode$2_$reflection(gen0, gen1) {\n    return class_type(\"Map.MapTreeNode`2\", [gen0, gen1], MapTreeNode$2, MapTreeLeaf$2_$reflection(gen0, gen1));\n}\nexport function MapTreeNode$2_$ctor_Z39DE9543(k, v, left, right, h) {\n    return new MapTreeNode$2(k, v, left, right, h);\n}\nexport function MapTreeNode$2__get_Left(_) {\n    return _.left;\n}\nexport function MapTreeNode$2__get_Right(_) {\n    return _.right;\n}\nexport function MapTreeNode$2__get_Height(_) {\n    return _.h;\n}\nexport function MapTreeModule_empty() {\n    return void 0;\n}\nexport function MapTreeModule_sizeAux(acc_mut, m_mut) {\n    MapTreeModule_sizeAux: while (true) {\n        const acc = acc_mut, m = m_mut;\n        if (m != null) {\n            const m2 = value_1(m);\n            if (m2 instanceof MapTreeNode$2) {\n                const mn = m2;\n                acc_mut = MapTreeModule_sizeAux(acc + 1, MapTreeNode$2__get_Left(mn));\n                m_mut = MapTreeNode$2__get_Right(mn);\n                continue MapTreeModule_sizeAux;\n            }\n            else {\n                return (acc + 1) | 0;\n            }\n        }\n        else {\n            return acc | 0;\n        }\n        break;\n    }\n}\nexport function MapTreeModule_size(x) {\n    return MapTreeModule_sizeAux(0, x);\n}\nexport function MapTreeModule_mk(l, k, v, r) {\n    let mn, mn_1;\n    let hl;\n    const m = l;\n    if (m != null) {\n        const m2 = value_1(m);\n        hl = ((m2 instanceof MapTreeNode$2) ? ((mn = m2, MapTreeNode$2__get_Height(mn))) : 1);\n    }\n    else {\n        hl = 0;\n    }\n    let hr;\n    const m_1 = r;\n    if (m_1 != null) {\n        const m2_1 = value_1(m_1);\n        hr = ((m2_1 instanceof MapTreeNode$2) ? ((mn_1 = m2_1, MapTreeNode$2__get_Height(mn_1))) : 1);\n    }\n    else {\n        hr = 0;\n    }\n    const m_2 = ((hl < hr) ? hr : hl) | 0;\n    if (m_2 === 0) {\n        return MapTreeLeaf$2_$ctor_5BDDA1(k, v);\n    }\n    else {\n        return MapTreeNode$2_$ctor_Z39DE9543(k, v, l, r, m_2 + 1);\n    }\n}\nexport function MapTreeModule_rebalance(t1, k, v, t2) {\n    let mn, mn_1, m_2, m2_2, mn_2, m_3, m2_3, mn_3;\n    let t1h;\n    const m = t1;\n    if (m != null) {\n        const m2 = value_1(m);\n        t1h = ((m2 instanceof MapTreeNode$2) ? ((mn = m2, MapTreeNode$2__get_Height(mn))) : 1);\n    }\n    else {\n        t1h = 0;\n    }\n    let t2h;\n    const m_1 = t2;\n    if (m_1 != null) {\n        const m2_1 = value_1(m_1);\n        t2h = ((m2_1 instanceof MapTreeNode$2) ? ((mn_1 = m2_1, MapTreeNode$2__get_Height(mn_1))) : 1);\n    }\n    else {\n        t2h = 0;\n    }\n    if (t2h > (t1h + 2)) {\n        const matchValue = value_1(t2);\n        if (matchValue instanceof MapTreeNode$2) {\n            const t2$0027 = matchValue;\n            if (((m_2 = MapTreeNode$2__get_Left(t2$0027), (m_2 != null) ? ((m2_2 = value_1(m_2), (m2_2 instanceof MapTreeNode$2) ? ((mn_2 = m2_2, MapTreeNode$2__get_Height(mn_2))) : 1)) : 0)) > (t1h + 1)) {\n                const matchValue_1 = value_1(MapTreeNode$2__get_Left(t2$0027));\n                if (matchValue_1 instanceof MapTreeNode$2) {\n                    const t2l = matchValue_1;\n                    return MapTreeModule_mk(MapTreeModule_mk(t1, k, v, MapTreeNode$2__get_Left(t2l)), MapTreeLeaf$2__get_Key(t2l), MapTreeLeaf$2__get_Value(t2l), MapTreeModule_mk(MapTreeNode$2__get_Right(t2l), MapTreeLeaf$2__get_Key(t2$0027), MapTreeLeaf$2__get_Value(t2$0027), MapTreeNode$2__get_Right(t2$0027)));\n                }\n                else {\n                    throw new Error(\"internal error: Map.rebalance\");\n                }\n            }\n            else {\n                return MapTreeModule_mk(MapTreeModule_mk(t1, k, v, MapTreeNode$2__get_Left(t2$0027)), MapTreeLeaf$2__get_Key(t2$0027), MapTreeLeaf$2__get_Value(t2$0027), MapTreeNode$2__get_Right(t2$0027));\n            }\n        }\n        else {\n            throw new Error(\"internal error: Map.rebalance\");\n        }\n    }\n    else if (t1h > (t2h + 2)) {\n        const matchValue_2 = value_1(t1);\n        if (matchValue_2 instanceof MapTreeNode$2) {\n            const t1$0027 = matchValue_2;\n            if (((m_3 = MapTreeNode$2__get_Right(t1$0027), (m_3 != null) ? ((m2_3 = value_1(m_3), (m2_3 instanceof MapTreeNode$2) ? ((mn_3 = m2_3, MapTreeNode$2__get_Height(mn_3))) : 1)) : 0)) > (t2h + 1)) {\n                const matchValue_3 = value_1(MapTreeNode$2__get_Right(t1$0027));\n                if (matchValue_3 instanceof MapTreeNode$2) {\n                    const t1r = matchValue_3;\n                    return MapTreeModule_mk(MapTreeModule_mk(MapTreeNode$2__get_Left(t1$0027), MapTreeLeaf$2__get_Key(t1$0027), MapTreeLeaf$2__get_Value(t1$0027), MapTreeNode$2__get_Left(t1r)), MapTreeLeaf$2__get_Key(t1r), MapTreeLeaf$2__get_Value(t1r), MapTreeModule_mk(MapTreeNode$2__get_Right(t1r), k, v, t2));\n                }\n                else {\n                    throw new Error(\"internal error: Map.rebalance\");\n                }\n            }\n            else {\n                return MapTreeModule_mk(MapTreeNode$2__get_Left(t1$0027), MapTreeLeaf$2__get_Key(t1$0027), MapTreeLeaf$2__get_Value(t1$0027), MapTreeModule_mk(MapTreeNode$2__get_Right(t1$0027), k, v, t2));\n            }\n        }\n        else {\n            throw new Error(\"internal error: Map.rebalance\");\n        }\n    }\n    else {\n        return MapTreeModule_mk(t1, k, v, t2);\n    }\n}\nexport function MapTreeModule_add(comparer, k, v, m) {\n    if (m != null) {\n        const m2 = value_1(m);\n        const c = comparer.Compare(k, MapTreeLeaf$2__get_Key(m2)) | 0;\n        if (m2 instanceof MapTreeNode$2) {\n            const mn = m2;\n            if (c < 0) {\n                return MapTreeModule_rebalance(MapTreeModule_add(comparer, k, v, MapTreeNode$2__get_Left(mn)), MapTreeLeaf$2__get_Key(mn), MapTreeLeaf$2__get_Value(mn), MapTreeNode$2__get_Right(mn));\n            }\n            else if (c === 0) {\n                return MapTreeNode$2_$ctor_Z39DE9543(k, v, MapTreeNode$2__get_Left(mn), MapTreeNode$2__get_Right(mn), MapTreeNode$2__get_Height(mn));\n            }\n            else {\n                return MapTreeModule_rebalance(MapTreeNode$2__get_Left(mn), MapTreeLeaf$2__get_Key(mn), MapTreeLeaf$2__get_Value(mn), MapTreeModule_add(comparer, k, v, MapTreeNode$2__get_Right(mn)));\n            }\n        }\n        else if (c < 0) {\n            return MapTreeNode$2_$ctor_Z39DE9543(k, v, MapTreeModule_empty(), m, 2);\n        }\n        else if (c === 0) {\n            return MapTreeLeaf$2_$ctor_5BDDA1(k, v);\n        }\n        else {\n            return MapTreeNode$2_$ctor_Z39DE9543(k, v, m, MapTreeModule_empty(), 2);\n        }\n    }\n    else {\n        return MapTreeLeaf$2_$ctor_5BDDA1(k, v);\n    }\n}\nexport function MapTreeModule_tryFind(comparer_mut, k_mut, m_mut) {\n    MapTreeModule_tryFind: while (true) {\n        const comparer = comparer_mut, k = k_mut, m = m_mut;\n        if (m != null) {\n            const m2 = value_1(m);\n            const c = comparer.Compare(k, MapTreeLeaf$2__get_Key(m2)) | 0;\n            if (c === 0) {\n                return some(MapTreeLeaf$2__get_Value(m2));\n            }\n            else if (m2 instanceof MapTreeNode$2) {\n                const mn = m2;\n                comparer_mut = comparer;\n                k_mut = k;\n                m_mut = ((c < 0) ? MapTreeNode$2__get_Left(mn) : MapTreeNode$2__get_Right(mn));\n                continue MapTreeModule_tryFind;\n            }\n            else {\n                return void 0;\n            }\n        }\n        else {\n            return void 0;\n        }\n        break;\n    }\n}\nexport function MapTreeModule_find(comparer, k, m) {\n    const matchValue = MapTreeModule_tryFind(comparer, k, m);\n    if (matchValue == null) {\n        throw new Error();\n    }\n    else {\n        return value_1(matchValue);\n    }\n}\nexport function MapTreeModule_partition1(comparer, f, k, v, acc1, acc2) {\n    if (f(k, v)) {\n        return [MapTreeModule_add(comparer, k, v, acc1), acc2];\n    }\n    else {\n        return [acc1, MapTreeModule_add(comparer, k, v, acc2)];\n    }\n}\nexport function MapTreeModule_partitionAux(comparer_mut, f_mut, m_mut, acc__mut, acc__1_mut) {\n    MapTreeModule_partitionAux: while (true) {\n        const comparer = comparer_mut, f = f_mut, m = m_mut, acc_ = acc__mut, acc__1 = acc__1_mut;\n        const acc = [acc_, acc__1];\n        if (m != null) {\n            const m2 = value_1(m);\n            if (m2 instanceof MapTreeNode$2) {\n                const mn = m2;\n                const acc_1 = MapTreeModule_partitionAux(comparer, f, MapTreeNode$2__get_Right(mn), acc[0], acc[1]);\n                const acc_4 = MapTreeModule_partition1(comparer, f, MapTreeLeaf$2__get_Key(mn), MapTreeLeaf$2__get_Value(mn), acc_1[0], acc_1[1]);\n                comparer_mut = comparer;\n                f_mut = f;\n                m_mut = MapTreeNode$2__get_Left(mn);\n                acc__mut = acc_4[0];\n                acc__1_mut = acc_4[1];\n                continue MapTreeModule_partitionAux;\n            }\n            else {\n                return MapTreeModule_partition1(comparer, f, MapTreeLeaf$2__get_Key(m2), MapTreeLeaf$2__get_Value(m2), acc[0], acc[1]);\n            }\n        }\n        else {\n            return acc;\n        }\n        break;\n    }\n}\nexport function MapTreeModule_partition(comparer, f, m) {\n    return MapTreeModule_partitionAux(comparer, f, m, MapTreeModule_empty(), MapTreeModule_empty());\n}\nexport function MapTreeModule_filter1(comparer, f, k, v, acc) {\n    if (f(k, v)) {\n        return MapTreeModule_add(comparer, k, v, acc);\n    }\n    else {\n        return acc;\n    }\n}\nexport function MapTreeModule_filterAux(comparer_mut, f_mut, m_mut, acc_mut) {\n    MapTreeModule_filterAux: while (true) {\n        const comparer = comparer_mut, f = f_mut, m = m_mut, acc = acc_mut;\n        if (m != null) {\n            const m2 = value_1(m);\n            if (m2 instanceof MapTreeNode$2) {\n                const mn = m2;\n                const acc_1 = MapTreeModule_filterAux(comparer, f, MapTreeNode$2__get_Left(mn), acc);\n                const acc_2 = MapTreeModule_filter1(comparer, f, MapTreeLeaf$2__get_Key(mn), MapTreeLeaf$2__get_Value(mn), acc_1);\n                comparer_mut = comparer;\n                f_mut = f;\n                m_mut = MapTreeNode$2__get_Right(mn);\n                acc_mut = acc_2;\n                continue MapTreeModule_filterAux;\n            }\n            else {\n                return MapTreeModule_filter1(comparer, f, MapTreeLeaf$2__get_Key(m2), MapTreeLeaf$2__get_Value(m2), acc);\n            }\n        }\n        else {\n            return acc;\n        }\n        break;\n    }\n}\nexport function MapTreeModule_filter(comparer, f, m) {\n    return MapTreeModule_filterAux(comparer, f, m, MapTreeModule_empty());\n}\nexport function MapTreeModule_spliceOutSuccessor(m) {\n    if (m != null) {\n        const m2 = value_1(m);\n        if (m2 instanceof MapTreeNode$2) {\n            const mn = m2;\n            if (MapTreeNode$2__get_Left(mn) == null) {\n                return [MapTreeLeaf$2__get_Key(mn), MapTreeLeaf$2__get_Value(mn), MapTreeNode$2__get_Right(mn)];\n            }\n            else {\n                const patternInput = MapTreeModule_spliceOutSuccessor(MapTreeNode$2__get_Left(mn));\n                return [patternInput[0], patternInput[1], MapTreeModule_mk(patternInput[2], MapTreeLeaf$2__get_Key(mn), MapTreeLeaf$2__get_Value(mn), MapTreeNode$2__get_Right(mn))];\n            }\n        }\n        else {\n            return [MapTreeLeaf$2__get_Key(m2), MapTreeLeaf$2__get_Value(m2), MapTreeModule_empty()];\n        }\n    }\n    else {\n        throw new Error(\"internal error: Map.spliceOutSuccessor\");\n    }\n}\nexport function MapTreeModule_remove(comparer, k, m) {\n    if (m != null) {\n        const m2 = value_1(m);\n        const c = comparer.Compare(k, MapTreeLeaf$2__get_Key(m2)) | 0;\n        if (m2 instanceof MapTreeNode$2) {\n            const mn = m2;\n            if (c < 0) {\n                return MapTreeModule_rebalance(MapTreeModule_remove(comparer, k, MapTreeNode$2__get_Left(mn)), MapTreeLeaf$2__get_Key(mn), MapTreeLeaf$2__get_Value(mn), MapTreeNode$2__get_Right(mn));\n            }\n            else if (c === 0) {\n                if (MapTreeNode$2__get_Left(mn) == null) {\n                    return MapTreeNode$2__get_Right(mn);\n                }\n                else if (MapTreeNode$2__get_Right(mn) == null) {\n                    return MapTreeNode$2__get_Left(mn);\n                }\n                else {\n                    const patternInput = MapTreeModule_spliceOutSuccessor(MapTreeNode$2__get_Right(mn));\n                    return MapTreeModule_mk(MapTreeNode$2__get_Left(mn), patternInput[0], patternInput[1], patternInput[2]);\n                }\n            }\n            else {\n                return MapTreeModule_rebalance(MapTreeNode$2__get_Left(mn), MapTreeLeaf$2__get_Key(mn), MapTreeLeaf$2__get_Value(mn), MapTreeModule_remove(comparer, k, MapTreeNode$2__get_Right(mn)));\n            }\n        }\n        else if (c === 0) {\n            return MapTreeModule_empty();\n        }\n        else {\n            return m;\n        }\n    }\n    else {\n        return MapTreeModule_empty();\n    }\n}\nexport function MapTreeModule_change(comparer, k, u, m) {\n    if (m != null) {\n        const m2 = value_1(m);\n        if (m2 instanceof MapTreeNode$2) {\n            const mn = m2;\n            const c = comparer.Compare(k, MapTreeLeaf$2__get_Key(mn)) | 0;\n            if (c < 0) {\n                return MapTreeModule_rebalance(MapTreeModule_change(comparer, k, u, MapTreeNode$2__get_Left(mn)), MapTreeLeaf$2__get_Key(mn), MapTreeLeaf$2__get_Value(mn), MapTreeNode$2__get_Right(mn));\n            }\n            else if (c === 0) {\n                const matchValue_1 = u(some(MapTreeLeaf$2__get_Value(mn)));\n                if (matchValue_1 != null) {\n                    return MapTreeNode$2_$ctor_Z39DE9543(k, value_1(matchValue_1), MapTreeNode$2__get_Left(mn), MapTreeNode$2__get_Right(mn), MapTreeNode$2__get_Height(mn));\n                }\n                else if (MapTreeNode$2__get_Left(mn) == null) {\n                    return MapTreeNode$2__get_Right(mn);\n                }\n                else if (MapTreeNode$2__get_Right(mn) == null) {\n                    return MapTreeNode$2__get_Left(mn);\n                }\n                else {\n                    const patternInput = MapTreeModule_spliceOutSuccessor(MapTreeNode$2__get_Right(mn));\n                    return MapTreeModule_mk(MapTreeNode$2__get_Left(mn), patternInput[0], patternInput[1], patternInput[2]);\n                }\n            }\n            else {\n                return MapTreeModule_rebalance(MapTreeNode$2__get_Left(mn), MapTreeLeaf$2__get_Key(mn), MapTreeLeaf$2__get_Value(mn), MapTreeModule_change(comparer, k, u, MapTreeNode$2__get_Right(mn)));\n            }\n        }\n        else {\n            const c_1 = comparer.Compare(k, MapTreeLeaf$2__get_Key(m2)) | 0;\n            if (c_1 < 0) {\n                const matchValue_2 = u(void 0);\n                if (matchValue_2 != null) {\n                    return MapTreeNode$2_$ctor_Z39DE9543(k, value_1(matchValue_2), MapTreeModule_empty(), m, 2);\n                }\n                else {\n                    return m;\n                }\n            }\n            else if (c_1 === 0) {\n                const matchValue_3 = u(some(MapTreeLeaf$2__get_Value(m2)));\n                if (matchValue_3 != null) {\n                    return MapTreeLeaf$2_$ctor_5BDDA1(k, value_1(matchValue_3));\n                }\n                else {\n                    return MapTreeModule_empty();\n                }\n            }\n            else {\n                const matchValue_4 = u(void 0);\n                if (matchValue_4 != null) {\n                    return MapTreeNode$2_$ctor_Z39DE9543(k, value_1(matchValue_4), m, MapTreeModule_empty(), 2);\n                }\n                else {\n                    return m;\n                }\n            }\n        }\n    }\n    else {\n        const matchValue = u(void 0);\n        if (matchValue != null) {\n            return MapTreeLeaf$2_$ctor_5BDDA1(k, value_1(matchValue));\n        }\n        else {\n            return m;\n        }\n    }\n}\nexport function MapTreeModule_mem(comparer_mut, k_mut, m_mut) {\n    MapTreeModule_mem: while (true) {\n        const comparer = comparer_mut, k = k_mut, m = m_mut;\n        if (m != null) {\n            const m2 = value_1(m);\n            const c = comparer.Compare(k, MapTreeLeaf$2__get_Key(m2)) | 0;\n            if (m2 instanceof MapTreeNode$2) {\n                const mn = m2;\n                if (c < 0) {\n                    comparer_mut = comparer;\n                    k_mut = k;\n                    m_mut = MapTreeNode$2__get_Left(mn);\n                    continue MapTreeModule_mem;\n                }\n                else if (c === 0) {\n                    return true;\n                }\n                else {\n                    comparer_mut = comparer;\n                    k_mut = k;\n                    m_mut = MapTreeNode$2__get_Right(mn);\n                    continue MapTreeModule_mem;\n                }\n            }\n            else {\n                return c === 0;\n            }\n        }\n        else {\n            return false;\n        }\n        break;\n    }\n}\nexport function MapTreeModule_iterOpt(f_mut, m_mut) {\n    MapTreeModule_iterOpt: while (true) {\n        const f = f_mut, m = m_mut;\n        if (m != null) {\n            const m2 = value_1(m);\n            if (m2 instanceof MapTreeNode$2) {\n                const mn = m2;\n                MapTreeModule_iterOpt(f, MapTreeNode$2__get_Left(mn));\n                f(MapTreeLeaf$2__get_Key(mn), MapTreeLeaf$2__get_Value(mn));\n                f_mut = f;\n                m_mut = MapTreeNode$2__get_Right(mn);\n                continue MapTreeModule_iterOpt;\n            }\n            else {\n                f(MapTreeLeaf$2__get_Key(m2), MapTreeLeaf$2__get_Value(m2));\n            }\n        }\n        break;\n    }\n}\nexport function MapTreeModule_iter(f, m) {\n    MapTreeModule_iterOpt(f, m);\n}\nexport function MapTreeModule_tryPickOpt(f_mut, m_mut) {\n    MapTreeModule_tryPickOpt: while (true) {\n        const f = f_mut, m = m_mut;\n        if (m != null) {\n            const m2 = value_1(m);\n            if (m2 instanceof MapTreeNode$2) {\n                const mn = m2;\n                const matchValue = MapTreeModule_tryPickOpt(f, MapTreeNode$2__get_Left(mn));\n                if (matchValue == null) {\n                    const matchValue_1 = f(MapTreeLeaf$2__get_Key(mn), MapTreeLeaf$2__get_Value(mn));\n                    if (matchValue_1 == null) {\n                        f_mut = f;\n                        m_mut = MapTreeNode$2__get_Right(mn);\n                        continue MapTreeModule_tryPickOpt;\n                    }\n                    else {\n                        return matchValue_1;\n                    }\n                }\n                else {\n                    return matchValue;\n                }\n            }\n            else {\n                return f(MapTreeLeaf$2__get_Key(m2), MapTreeLeaf$2__get_Value(m2));\n            }\n        }\n        else {\n            return void 0;\n        }\n        break;\n    }\n}\nexport function MapTreeModule_tryPick(f, m) {\n    return MapTreeModule_tryPickOpt(f, m);\n}\nexport function MapTreeModule_existsOpt(f_mut, m_mut) {\n    MapTreeModule_existsOpt: while (true) {\n        const f = f_mut, m = m_mut;\n        if (m != null) {\n            const m2 = value_1(m);\n            if (m2 instanceof MapTreeNode$2) {\n                const mn = m2;\n                if (MapTreeModule_existsOpt(f, MapTreeNode$2__get_Left(mn)) ? true : f(MapTreeLeaf$2__get_Key(mn), MapTreeLeaf$2__get_Value(mn))) {\n                    return true;\n                }\n                else {\n                    f_mut = f;\n                    m_mut = MapTreeNode$2__get_Right(mn);\n                    continue MapTreeModule_existsOpt;\n                }\n            }\n            else {\n                return f(MapTreeLeaf$2__get_Key(m2), MapTreeLeaf$2__get_Value(m2));\n            }\n        }\n        else {\n            return false;\n        }\n        break;\n    }\n}\nexport function MapTreeModule_exists(f, m) {\n    return MapTreeModule_existsOpt(f, m);\n}\nexport function MapTreeModule_forallOpt(f_mut, m_mut) {\n    MapTreeModule_forallOpt: while (true) {\n        const f = f_mut, m = m_mut;\n        if (m != null) {\n            const m2 = value_1(m);\n            if (m2 instanceof MapTreeNode$2) {\n                const mn = m2;\n                if (MapTreeModule_forallOpt(f, MapTreeNode$2__get_Left(mn)) && f(MapTreeLeaf$2__get_Key(mn), MapTreeLeaf$2__get_Value(mn))) {\n                    f_mut = f;\n                    m_mut = MapTreeNode$2__get_Right(mn);\n                    continue MapTreeModule_forallOpt;\n                }\n                else {\n                    return false;\n                }\n            }\n            else {\n                return f(MapTreeLeaf$2__get_Key(m2), MapTreeLeaf$2__get_Value(m2));\n            }\n        }\n        else {\n            return true;\n        }\n        break;\n    }\n}\nexport function MapTreeModule_forall(f, m) {\n    return MapTreeModule_forallOpt(f, m);\n}\nexport function MapTreeModule_map(f, m) {\n    if (m != null) {\n        const m2 = value_1(m);\n        if (m2 instanceof MapTreeNode$2) {\n            const mn = m2;\n            const l2 = MapTreeModule_map(f, MapTreeNode$2__get_Left(mn));\n            const v2 = f(MapTreeLeaf$2__get_Value(mn));\n            const r2 = MapTreeModule_map(f, MapTreeNode$2__get_Right(mn));\n            return MapTreeNode$2_$ctor_Z39DE9543(MapTreeLeaf$2__get_Key(mn), v2, l2, r2, MapTreeNode$2__get_Height(mn));\n        }\n        else {\n            return MapTreeLeaf$2_$ctor_5BDDA1(MapTreeLeaf$2__get_Key(m2), f(MapTreeLeaf$2__get_Value(m2)));\n        }\n    }\n    else {\n        return MapTreeModule_empty();\n    }\n}\nexport function MapTreeModule_mapiOpt(f, m) {\n    if (m != null) {\n        const m2 = value_1(m);\n        if (m2 instanceof MapTreeNode$2) {\n            const mn = m2;\n            const l2 = MapTreeModule_mapiOpt(f, MapTreeNode$2__get_Left(mn));\n            const v2 = f(MapTreeLeaf$2__get_Key(mn), MapTreeLeaf$2__get_Value(mn));\n            const r2 = MapTreeModule_mapiOpt(f, MapTreeNode$2__get_Right(mn));\n            return MapTreeNode$2_$ctor_Z39DE9543(MapTreeLeaf$2__get_Key(mn), v2, l2, r2, MapTreeNode$2__get_Height(mn));\n        }\n        else {\n            return MapTreeLeaf$2_$ctor_5BDDA1(MapTreeLeaf$2__get_Key(m2), f(MapTreeLeaf$2__get_Key(m2), MapTreeLeaf$2__get_Value(m2)));\n        }\n    }\n    else {\n        return MapTreeModule_empty();\n    }\n}\nexport function MapTreeModule_mapi(f, m) {\n    return MapTreeModule_mapiOpt(f, m);\n}\nexport function MapTreeModule_foldBackOpt(f_mut, m_mut, x_mut) {\n    MapTreeModule_foldBackOpt: while (true) {\n        const f = f_mut, m = m_mut, x = x_mut;\n        if (m != null) {\n            const m2 = value_1(m);\n            if (m2 instanceof MapTreeNode$2) {\n                const mn = m2;\n                const x_1 = MapTreeModule_foldBackOpt(f, MapTreeNode$2__get_Right(mn), x);\n                const x_2 = f(MapTreeLeaf$2__get_Key(mn), MapTreeLeaf$2__get_Value(mn), x_1);\n                f_mut = f;\n                m_mut = MapTreeNode$2__get_Left(mn);\n                x_mut = x_2;\n                continue MapTreeModule_foldBackOpt;\n            }\n            else {\n                return f(MapTreeLeaf$2__get_Key(m2), MapTreeLeaf$2__get_Value(m2), x);\n            }\n        }\n        else {\n            return x;\n        }\n        break;\n    }\n}\nexport function MapTreeModule_foldBack(f, m, x) {\n    return MapTreeModule_foldBackOpt(f, m, x);\n}\nexport function MapTreeModule_foldOpt(f_mut, x_mut, m_mut) {\n    MapTreeModule_foldOpt: while (true) {\n        const f = f_mut, x = x_mut, m = m_mut;\n        if (m != null) {\n            const m2 = value_1(m);\n            if (m2 instanceof MapTreeNode$2) {\n                const mn = m2;\n                f_mut = f;\n                x_mut = f(MapTreeModule_foldOpt(f, x, MapTreeNode$2__get_Left(mn)), MapTreeLeaf$2__get_Key(mn), MapTreeLeaf$2__get_Value(mn));\n                m_mut = MapTreeNode$2__get_Right(mn);\n                continue MapTreeModule_foldOpt;\n            }\n            else {\n                return f(x, MapTreeLeaf$2__get_Key(m2), MapTreeLeaf$2__get_Value(m2));\n            }\n        }\n        else {\n            return x;\n        }\n        break;\n    }\n}\nexport function MapTreeModule_fold(f, x, m) {\n    return MapTreeModule_foldOpt(f, x, m);\n}\nexport function MapTreeModule_foldSectionOpt(comparer, lo, hi, f, m, x) {\n    const foldFromTo = (f_1_mut, m_1_mut, x_1_mut) => {\n        foldFromTo: while (true) {\n            const f_1 = f_1_mut, m_1 = m_1_mut, x_1 = x_1_mut;\n            if (m_1 != null) {\n                const m2 = value_1(m_1);\n                if (m2 instanceof MapTreeNode$2) {\n                    const mn = m2;\n                    const cLoKey = comparer.Compare(lo, MapTreeLeaf$2__get_Key(mn)) | 0;\n                    const cKeyHi = comparer.Compare(MapTreeLeaf$2__get_Key(mn), hi) | 0;\n                    const x_2 = (cLoKey < 0) ? foldFromTo(f_1, MapTreeNode$2__get_Left(mn), x_1) : x_1;\n                    const x_3 = ((cLoKey <= 0) && (cKeyHi <= 0)) ? f_1(MapTreeLeaf$2__get_Key(mn), MapTreeLeaf$2__get_Value(mn), x_2) : x_2;\n                    if (cKeyHi < 0) {\n                        f_1_mut = f_1;\n                        m_1_mut = MapTreeNode$2__get_Right(mn);\n                        x_1_mut = x_3;\n                        continue foldFromTo;\n                    }\n                    else {\n                        return x_3;\n                    }\n                }\n                else if ((comparer.Compare(lo, MapTreeLeaf$2__get_Key(m2)) <= 0) && (comparer.Compare(MapTreeLeaf$2__get_Key(m2), hi) <= 0)) {\n                    return f_1(MapTreeLeaf$2__get_Key(m2), MapTreeLeaf$2__get_Value(m2), x_1);\n                }\n                else {\n                    return x_1;\n                }\n            }\n            else {\n                return x_1;\n            }\n            break;\n        }\n    };\n    if (comparer.Compare(lo, hi) === 1) {\n        return x;\n    }\n    else {\n        return foldFromTo(f, m, x);\n    }\n}\nexport function MapTreeModule_foldSection(comparer, lo, hi, f, m, x) {\n    return MapTreeModule_foldSectionOpt(comparer, lo, hi, f, m, x);\n}\nexport function MapTreeModule_toList(m) {\n    const loop = (m_1_mut, acc_mut) => {\n        loop: while (true) {\n            const m_1 = m_1_mut, acc = acc_mut;\n            if (m_1 != null) {\n                const m2 = value_1(m_1);\n                if (m2 instanceof MapTreeNode$2) {\n                    const mn = m2;\n                    m_1_mut = MapTreeNode$2__get_Left(mn);\n                    acc_mut = cons([MapTreeLeaf$2__get_Key(mn), MapTreeLeaf$2__get_Value(mn)], loop(MapTreeNode$2__get_Right(mn), acc));\n                    continue loop;\n                }\n                else {\n                    return cons([MapTreeLeaf$2__get_Key(m2), MapTreeLeaf$2__get_Value(m2)], acc);\n                }\n            }\n            else {\n                return acc;\n            }\n            break;\n        }\n    };\n    return loop(m, empty_1());\n}\nexport function MapTreeModule_copyToArray(m, arr, i) {\n    let j = i;\n    MapTreeModule_iter((x, y) => {\n        arr[j] = [x, y];\n        j = ((j + 1) | 0);\n    }, m);\n}\nexport function MapTreeModule_toArray(m) {\n    const n = MapTreeModule_size(m) | 0;\n    const res = fill(new Array(n), 0, n, [null, null]);\n    MapTreeModule_copyToArray(m, res, 0);\n    return res;\n}\nexport function MapTreeModule_ofList(comparer, l) {\n    return fold_1((acc, tupledArg) => MapTreeModule_add(comparer, tupledArg[0], tupledArg[1], acc), MapTreeModule_empty(), l);\n}\nexport function MapTreeModule_mkFromEnumerator(comparer_mut, acc_mut, e_mut) {\n    MapTreeModule_mkFromEnumerator: while (true) {\n        const comparer = comparer_mut, acc = acc_mut, e = e_mut;\n        if (e[\"System.Collections.IEnumerator.MoveNext\"]()) {\n            const patternInput = e[\"System.Collections.Generic.IEnumerator`1.get_Current\"]();\n            comparer_mut = comparer;\n            acc_mut = MapTreeModule_add(comparer, patternInput[0], patternInput[1], acc);\n            e_mut = e;\n            continue MapTreeModule_mkFromEnumerator;\n        }\n        else {\n            return acc;\n        }\n        break;\n    }\n}\nexport function MapTreeModule_ofArray(comparer, arr) {\n    let res = MapTreeModule_empty();\n    for (let idx = 0; idx <= (arr.length - 1); idx++) {\n        const forLoopVar = arr[idx];\n        res = MapTreeModule_add(comparer, forLoopVar[0], forLoopVar[1], res);\n    }\n    return res;\n}\nexport function MapTreeModule_ofSeq(comparer, c) {\n    if (isArrayLike(c)) {\n        return MapTreeModule_ofArray(comparer, c);\n    }\n    else if (c instanceof FSharpList) {\n        return MapTreeModule_ofList(comparer, c);\n    }\n    else {\n        const ie = getEnumerator(c);\n        try {\n            return MapTreeModule_mkFromEnumerator(comparer, MapTreeModule_empty(), ie);\n        }\n        finally {\n            disposeSafe(ie);\n        }\n    }\n}\nexport class MapTreeModule_MapIterator$2 extends Record {\n    constructor(stack, started) {\n        super();\n        this.stack = stack;\n        this.started = started;\n    }\n}\nexport function MapTreeModule_MapIterator$2_$reflection(gen0, gen1) {\n    return record_type(\"Map.MapTreeModule.MapIterator`2\", [gen0, gen1], MapTreeModule_MapIterator$2, () => [[\"stack\", list_type(option_type(MapTreeLeaf$2_$reflection(gen0, gen1)))], [\"started\", bool_type]]);\n}\nexport function MapTreeModule_collapseLHS(stack_mut) {\n    MapTreeModule_collapseLHS: while (true) {\n        const stack = stack_mut;\n        if (!isEmpty_1(stack)) {\n            const rest = tail(stack);\n            const m = head(stack);\n            if (m != null) {\n                const m2 = value_1(m);\n                if (m2 instanceof MapTreeNode$2) {\n                    const mn = m2;\n                    stack_mut = ofArrayWithTail([MapTreeNode$2__get_Left(mn), MapTreeLeaf$2_$ctor_5BDDA1(MapTreeLeaf$2__get_Key(mn), MapTreeLeaf$2__get_Value(mn)), MapTreeNode$2__get_Right(mn)], rest);\n                    continue MapTreeModule_collapseLHS;\n                }\n                else {\n                    return stack;\n                }\n            }\n            else {\n                stack_mut = rest;\n                continue MapTreeModule_collapseLHS;\n            }\n        }\n        else {\n            return empty_1();\n        }\n        break;\n    }\n}\nexport function MapTreeModule_mkIterator(m) {\n    return new MapTreeModule_MapIterator$2(MapTreeModule_collapseLHS(singleton(m)), false);\n}\nexport function MapTreeModule_notStarted() {\n    throw new Error(\"enumeration not started\");\n}\nexport function MapTreeModule_alreadyFinished() {\n    throw new Error(\"enumeration already finished\");\n}\nexport function MapTreeModule_current(i) {\n    if (i.started) {\n        const matchValue = i.stack;\n        if (!isEmpty_1(matchValue)) {\n            if (head(matchValue) != null) {\n                const m = value_1(head(matchValue));\n                if (m instanceof MapTreeNode$2) {\n                    throw new Error(\"Please report error: Map iterator, unexpected stack for current\");\n                }\n                else {\n                    return [MapTreeLeaf$2__get_Key(m), MapTreeLeaf$2__get_Value(m)];\n                }\n            }\n            else {\n                throw new Error(\"Please report error: Map iterator, unexpected stack for current\");\n            }\n        }\n        else {\n            return MapTreeModule_alreadyFinished();\n        }\n    }\n    else {\n        return MapTreeModule_notStarted();\n    }\n}\nexport function MapTreeModule_moveNext(i) {\n    if (i.started) {\n        const matchValue = i.stack;\n        if (!isEmpty_1(matchValue)) {\n            if (head(matchValue) != null) {\n                const m = value_1(head(matchValue));\n                if (m instanceof MapTreeNode$2) {\n                    throw new Error(\"Please report error: Map iterator, unexpected stack for moveNext\");\n                }\n                else {\n                    i.stack = MapTreeModule_collapseLHS(tail(matchValue));\n                    return !isEmpty_1(i.stack);\n                }\n            }\n            else {\n                throw new Error(\"Please report error: Map iterator, unexpected stack for moveNext\");\n            }\n        }\n        else {\n            return false;\n        }\n    }\n    else {\n        i.started = true;\n        return !isEmpty_1(i.stack);\n    }\n}\nexport function MapTreeModule_mkIEnumerator(m) {\n    let i = MapTreeModule_mkIterator(m);\n    return {\n        \"System.Collections.Generic.IEnumerator`1.get_Current\"() {\n            return MapTreeModule_current(i);\n        },\n        \"System.Collections.IEnumerator.get_Current\"() {\n            return MapTreeModule_current(i);\n        },\n        \"System.Collections.IEnumerator.MoveNext\"() {\n            return MapTreeModule_moveNext(i);\n        },\n        \"System.Collections.IEnumerator.Reset\"() {\n            i = MapTreeModule_mkIterator(m);\n        },\n        Dispose() {\n        },\n    };\n}\nexport function MapTreeModule_toSeq(s) {\n    return unfold((en_1) => {\n        if (en_1[\"System.Collections.IEnumerator.MoveNext\"]()) {\n            return [en_1[\"System.Collections.Generic.IEnumerator`1.get_Current\"](), en_1];\n        }\n        else {\n            return void 0;\n        }\n    }, MapTreeModule_mkIEnumerator(s));\n}\nexport function MapTreeModule_leftmost(m_mut) {\n    MapTreeModule_leftmost: while (true) {\n        const m = m_mut;\n        if (m != null) {\n            const m2 = value_1(m);\n            let matchResult, nd_1;\n            if (m2 instanceof MapTreeNode$2) {\n                if (MapTreeNode$2__get_Height(m2) > 1) {\n                    matchResult = 0;\n                    nd_1 = m2;\n                }\n                else {\n                    matchResult = 1;\n                }\n            }\n            else {\n                matchResult = 1;\n            }\n            switch (matchResult) {\n                case 0:\n                    if (MapTreeNode$2__get_Left(nd_1) == null) {\n                        return [MapTreeLeaf$2__get_Key(nd_1), MapTreeLeaf$2__get_Value(nd_1)];\n                    }\n                    else {\n                        m_mut = MapTreeNode$2__get_Left(nd_1);\n                        continue MapTreeModule_leftmost;\n                    }\n                default:\n                    return [MapTreeLeaf$2__get_Key(m2), MapTreeLeaf$2__get_Value(m2)];\n            }\n        }\n        else {\n            throw new Error();\n        }\n        break;\n    }\n}\nexport function MapTreeModule_rightmost(m_mut) {\n    MapTreeModule_rightmost: while (true) {\n        const m = m_mut;\n        if (m != null) {\n            const m2 = value_1(m);\n            let matchResult, nd_1;\n            if (m2 instanceof MapTreeNode$2) {\n                if (MapTreeNode$2__get_Height(m2) > 1) {\n                    matchResult = 0;\n                    nd_1 = m2;\n                }\n                else {\n                    matchResult = 1;\n                }\n            }\n            else {\n                matchResult = 1;\n            }\n            switch (matchResult) {\n                case 0:\n                    if (MapTreeNode$2__get_Right(nd_1) == null) {\n                        return [MapTreeLeaf$2__get_Key(nd_1), MapTreeLeaf$2__get_Value(nd_1)];\n                    }\n                    else {\n                        m_mut = MapTreeNode$2__get_Right(nd_1);\n                        continue MapTreeModule_rightmost;\n                    }\n                default:\n                    return [MapTreeLeaf$2__get_Key(m2), MapTreeLeaf$2__get_Value(m2)];\n            }\n        }\n        else {\n            throw new Error();\n        }\n        break;\n    }\n}\nexport class FSharpMap {\n    constructor(comparer, tree) {\n        this.comparer = comparer;\n        this.tree = tree;\n    }\n    GetHashCode() {\n        const this$ = this;\n        return FSharpMap__ComputeHashCode(this$) | 0;\n    }\n    Equals(that) {\n        const this$ = this;\n        if (that instanceof FSharpMap) {\n            const that_1 = that;\n            const e1 = getEnumerator(this$);\n            try {\n                const e2 = getEnumerator(that_1);\n                try {\n                    const loop = () => {\n                        const m1 = e1[\"System.Collections.IEnumerator.MoveNext\"]();\n                        if (m1 === e2[\"System.Collections.IEnumerator.MoveNext\"]()) {\n                            if (!m1) {\n                                return true;\n                            }\n                            else {\n                                const e1c = e1[\"System.Collections.Generic.IEnumerator`1.get_Current\"]();\n                                const e2c = e2[\"System.Collections.Generic.IEnumerator`1.get_Current\"]();\n                                if (equals(e1c[0], e2c[0]) && equals(e1c[1], e2c[1])) {\n                                    return loop();\n                                }\n                                else {\n                                    return false;\n                                }\n                            }\n                        }\n                        else {\n                            return false;\n                        }\n                    };\n                    return loop();\n                }\n                finally {\n                    disposeSafe(e2);\n                }\n            }\n            finally {\n                disposeSafe(e1);\n            }\n        }\n        else {\n            return false;\n        }\n    }\n    toString() {\n        const this$ = this;\n        return (\"map [\" + join(\"; \", map_1((kv) => format(\"({0}, {1})\", kv[0], kv[1]), this$))) + \"]\";\n    }\n    get [Symbol.toStringTag]() {\n        return \"FSharpMap\";\n    }\n    toJSON() {\n        const this$ = this;\n        return Array.from(this$);\n    }\n    GetEnumerator() {\n        const _ = this;\n        return MapTreeModule_mkIEnumerator(_.tree);\n    }\n    [Symbol.iterator]() {\n        return toIterator(getEnumerator(this));\n    }\n    \"System.Collections.IEnumerable.GetEnumerator\"() {\n        const _ = this;\n        return MapTreeModule_mkIEnumerator(_.tree);\n    }\n    CompareTo(obj) {\n        const m = this;\n        if (obj instanceof FSharpMap) {\n            const m2 = obj;\n            return compareWith((kvp1, kvp2) => {\n                const c = m.comparer.Compare(kvp1[0], kvp2[0]) | 0;\n                return ((c !== 0) ? c : compare(kvp1[1], kvp2[1])) | 0;\n            }, m, m2) | 0;\n        }\n        else {\n            throw new Error(\"not comparable\\\\nParameter name: obj\");\n        }\n    }\n    \"System.Collections.Generic.ICollection`1.Add2B595\"(x) {\n        throw new Error(\"Map cannot be mutated\");\n    }\n    \"System.Collections.Generic.ICollection`1.Clear\"() {\n        throw new Error(\"Map cannot be mutated\");\n    }\n    \"System.Collections.Generic.ICollection`1.Remove2B595\"(x) {\n        throw new Error(\"Map cannot be mutated\");\n    }\n    \"System.Collections.Generic.ICollection`1.Contains2B595\"(x) {\n        const m = this;\n        return FSharpMap__ContainsKey(m, x[0]) && equals(FSharpMap__get_Item(m, x[0]), x[1]);\n    }\n    \"System.Collections.Generic.ICollection`1.CopyToZ3B4C077E\"(arr, i) {\n        const m = this;\n        MapTreeModule_copyToArray(m.tree, arr, i);\n    }\n    \"System.Collections.Generic.ICollection`1.get_IsReadOnly\"() {\n        return true;\n    }\n    \"System.Collections.Generic.ICollection`1.get_Count\"() {\n        const m = this;\n        return FSharpMap__get_Count(m) | 0;\n    }\n    \"System.Collections.Generic.IReadOnlyCollection`1.get_Count\"() {\n        const m = this;\n        return FSharpMap__get_Count(m) | 0;\n    }\n    get size() {\n        const m = this;\n        return FSharpMap__get_Count(m) | 0;\n    }\n    clear() {\n        throw new Error(\"Map cannot be mutated\");\n    }\n    delete(_arg) {\n        throw new Error(\"Map cannot be mutated\");\n        return false;\n    }\n    entries() {\n        const m = this;\n        return map_1((p) => [p[0], p[1]], m);\n    }\n    get(k) {\n        const m = this;\n        return FSharpMap__get_Item(m, k);\n    }\n    has(k) {\n        const m = this;\n        return FSharpMap__ContainsKey(m, k);\n    }\n    keys() {\n        const m = this;\n        return map_1((p) => p[0], m);\n    }\n    set(k, v) {\n        const m = this;\n        throw new Error(\"Map cannot be mutated\");\n        return m;\n    }\n    values() {\n        const m = this;\n        return map_1((p) => p[1], m);\n    }\n    forEach(f, thisArg) {\n        const m = this;\n        iterate_1((p) => {\n            f(p[1], p[0], m);\n        }, m);\n    }\n}\nexport function FSharpMap_$reflection(gen0, gen1) {\n    return class_type(\"Map.FSharpMap\", [gen0, gen1], FSharpMap);\n}\nexport function FSharpMap_$ctor(comparer, tree) {\n    return new FSharpMap(comparer, tree);\n}\nexport function FSharpMap_Empty(comparer) {\n    return FSharpMap_$ctor(comparer, MapTreeModule_empty());\n}\nexport function FSharpMap__get_Comparer(m) {\n    return m.comparer;\n}\nexport function FSharpMap__get_Tree(m) {\n    return m.tree;\n}\nexport function FSharpMap__Add(m, key, value) {\n    return FSharpMap_$ctor(m.comparer, MapTreeModule_add(m.comparer, key, value, m.tree));\n}\nexport function FSharpMap__Change(m, key, f) {\n    return FSharpMap_$ctor(m.comparer, MapTreeModule_change(m.comparer, key, f, m.tree));\n}\nexport function FSharpMap__get_IsEmpty(m) {\n    return m.tree == null;\n}\nexport function FSharpMap__get_Item(m, key) {\n    return MapTreeModule_find(m.comparer, key, m.tree);\n}\nexport function FSharpMap__TryPick(m, f) {\n    return MapTreeModule_tryPick(f, m.tree);\n}\nexport function FSharpMap__Exists(m, predicate) {\n    return MapTreeModule_exists(predicate, m.tree);\n}\nexport function FSharpMap__Filter(m, predicate) {\n    return FSharpMap_$ctor(m.comparer, MapTreeModule_filter(m.comparer, predicate, m.tree));\n}\nexport function FSharpMap__ForAll(m, predicate) {\n    return MapTreeModule_forall(predicate, m.tree);\n}\nexport function FSharpMap__Fold(m, f, acc) {\n    return MapTreeModule_foldBack(f, m.tree, acc);\n}\nexport function FSharpMap__FoldSection(m, lo, hi, f, acc) {\n    return MapTreeModule_foldSection(m.comparer, lo, hi, f, m.tree, acc);\n}\nexport function FSharpMap__Iterate(m, f) {\n    MapTreeModule_iter(f, m.tree);\n}\nexport function FSharpMap__MapRange(m, f) {\n    return FSharpMap_$ctor(m.comparer, MapTreeModule_map(f, m.tree));\n}\nexport function FSharpMap__Map(m, f) {\n    return FSharpMap_$ctor(m.comparer, MapTreeModule_mapi(f, m.tree));\n}\nexport function FSharpMap__Partition(m, predicate) {\n    const patternInput = MapTreeModule_partition(m.comparer, predicate, m.tree);\n    return [FSharpMap_$ctor(m.comparer, patternInput[0]), FSharpMap_$ctor(m.comparer, patternInput[1])];\n}\nexport function FSharpMap__get_Count(m) {\n    return MapTreeModule_size(m.tree);\n}\nexport function FSharpMap__ContainsKey(m, key) {\n    return MapTreeModule_mem(m.comparer, key, m.tree);\n}\nexport function FSharpMap__Remove(m, key) {\n    return FSharpMap_$ctor(m.comparer, MapTreeModule_remove(m.comparer, key, m.tree));\n}\nexport function FSharpMap__TryGetValue(_, key, value) {\n    const matchValue = MapTreeModule_tryFind(_.comparer, key, _.tree);\n    if (matchValue == null) {\n        return false;\n    }\n    else {\n        const v = value_1(matchValue);\n        value.contents = v;\n        return true;\n    }\n}\nexport function FSharpMap__get_Keys(_) {\n    return map_2((kvp) => kvp[0], MapTreeModule_toArray(_.tree));\n}\nexport function FSharpMap__get_Values(_) {\n    return map_2((kvp) => kvp[1], MapTreeModule_toArray(_.tree));\n}\nexport function FSharpMap__get_MinKeyValue(m) {\n    return MapTreeModule_leftmost(m.tree);\n}\nexport function FSharpMap__get_MaxKeyValue(m) {\n    return MapTreeModule_rightmost(m.tree);\n}\nexport function FSharpMap__TryFind(m, key) {\n    return MapTreeModule_tryFind(m.comparer, key, m.tree);\n}\nexport function FSharpMap__ToList(m) {\n    return MapTreeModule_toList(m.tree);\n}\nexport function FSharpMap__ToArray(m) {\n    return MapTreeModule_toArray(m.tree);\n}\nexport function FSharpMap__ComputeHashCode(this$) {\n    const combineHash = (x, y) => (((x << 1) + y) + 631);\n    let res = 0;\n    const enumerator = getEnumerator(this$);\n    try {\n        while (enumerator[\"System.Collections.IEnumerator.MoveNext\"]()) {\n            const activePatternResult = enumerator[\"System.Collections.Generic.IEnumerator`1.get_Current\"]();\n            res = (combineHash(res, structuralHash(activePatternResult[0])) | 0);\n            res = (combineHash(res, structuralHash(activePatternResult[1])) | 0);\n        }\n    }\n    finally {\n        disposeSafe(enumerator);\n    }\n    return res | 0;\n}\nexport function isEmpty(table) {\n    return FSharpMap__get_IsEmpty(table);\n}\nexport function add(key, value, table) {\n    return FSharpMap__Add(table, key, value);\n}\nexport function change(key, f, table) {\n    return FSharpMap__Change(table, key, f);\n}\nexport function find(key, table) {\n    return FSharpMap__get_Item(table, key);\n}\nexport function tryFind(key, table) {\n    return FSharpMap__TryFind(table, key);\n}\nexport function remove(key, table) {\n    return FSharpMap__Remove(table, key);\n}\nexport function containsKey(key, table) {\n    return FSharpMap__ContainsKey(table, key);\n}\nexport function iterate(action, table) {\n    FSharpMap__Iterate(table, action);\n}\nexport function tryPick(chooser, table) {\n    return FSharpMap__TryPick(table, chooser);\n}\nexport function pick(chooser, table) {\n    const matchValue = tryPick(chooser, table);\n    if (matchValue != null) {\n        return value_1(matchValue);\n    }\n    else {\n        throw new Error();\n    }\n}\nexport function exists(predicate, table) {\n    return FSharpMap__Exists(table, predicate);\n}\nexport function filter(predicate, table) {\n    return FSharpMap__Filter(table, predicate);\n}\nexport function partition(predicate, table) {\n    return FSharpMap__Partition(table, predicate);\n}\nexport function forAll(predicate, table) {\n    return FSharpMap__ForAll(table, predicate);\n}\nexport function map(mapping, table) {\n    return FSharpMap__Map(table, mapping);\n}\nexport function fold(folder, state, table) {\n    return MapTreeModule_fold(folder, state, FSharpMap__get_Tree(table));\n}\nexport function foldBack(folder, table, state) {\n    return MapTreeModule_foldBack(folder, FSharpMap__get_Tree(table), state);\n}\nexport function toSeq(table) {\n    return map_1((kvp) => [kvp[0], kvp[1]], table);\n}\nexport function findKey(predicate, table) {\n    return pick_1((kvp) => {\n        const k = kvp[0];\n        if (predicate(k, kvp[1])) {\n            return some(k);\n        }\n        else {\n            return void 0;\n        }\n    }, table);\n}\nexport function tryFindKey(predicate, table) {\n    return tryPick_1((kvp) => {\n        const k = kvp[0];\n        if (predicate(k, kvp[1])) {\n            return some(k);\n        }\n        else {\n            return void 0;\n        }\n    }, table);\n}\nexport function ofList(elements, comparer) {\n    return FSharpMap_$ctor(comparer, MapTreeModule_ofSeq(comparer, elements));\n}\nexport function ofSeq(elements, comparer) {\n    return FSharpMap_$ctor(comparer, MapTreeModule_ofSeq(comparer, elements));\n}\nexport function ofArray(elements, comparer) {\n    return FSharpMap_$ctor(comparer, MapTreeModule_ofSeq(comparer, elements));\n}\nexport function toList(table) {\n    return FSharpMap__ToList(table);\n}\nexport function toArray(table) {\n    return FSharpMap__ToArray(table);\n}\nexport function keys(table) {\n    return FSharpMap__get_Keys(table);\n}\nexport function values(table) {\n    return FSharpMap__get_Values(table);\n}\nexport function minKeyValue(table) {\n    return FSharpMap__get_MinKeyValue(table);\n}\nexport function maxKeyValue(table) {\n    return FSharpMap__get_MaxKeyValue(table);\n}\nexport function empty(comparer) {\n    return FSharpMap_Empty(comparer);\n}\nexport function count(table) {\n    return FSharpMap__get_Count(table);\n}\n","import { record_type, bool_type, list_type, option_type, class_type } from \"./Reflection.js\";\nimport { some, value as value_1 } from \"./Option.js\";\nimport { structuralHash, toIterator, disposeSafe, getEnumerator, isArrayLike } from \"./Util.js\";\nimport { toString, Record } from \"./Types.js\";\nimport { fold as fold_2, cons, singleton as singleton_1, empty as empty_1, ofArrayWithTail, tail, head, isEmpty as isEmpty_1, FSharpList } from \"./List.js\";\nimport { fold as fold_1, fill } from \"./Array.js\";\nimport { join } from \"./String.js\";\nimport { exists as exists_1, cache, forAll as forAll_1, fold as fold_3, reduce, iterate as iterate_1, map as map_1 } from \"./Seq.js\";\nimport { HashSet__get_Comparer, HashSet_$ctor_Z6150332D, HashSet } from \"./MutableSet.js\";\nexport class SetTreeLeaf$1 {\n    constructor(k) {\n        this.k = k;\n    }\n}\nexport function SetTreeLeaf$1_$reflection(gen0) {\n    return class_type(\"Set.SetTreeLeaf`1\", [gen0], SetTreeLeaf$1);\n}\nexport function SetTreeLeaf$1_$ctor_2B595(k) {\n    return new SetTreeLeaf$1(k);\n}\nexport function SetTreeLeaf$1__get_Key(_) {\n    return _.k;\n}\nexport class SetTreeNode$1 extends SetTreeLeaf$1 {\n    constructor(v, left, right, h) {\n        super(v);\n        this.left = left;\n        this.right = right;\n        this.h = (h | 0);\n    }\n}\nexport function SetTreeNode$1_$reflection(gen0) {\n    return class_type(\"Set.SetTreeNode`1\", [gen0], SetTreeNode$1, SetTreeLeaf$1_$reflection(gen0));\n}\nexport function SetTreeNode$1_$ctor_5F465FC9(v, left, right, h) {\n    return new SetTreeNode$1(v, left, right, h);\n}\nexport function SetTreeNode$1__get_Left(_) {\n    return _.left;\n}\nexport function SetTreeNode$1__get_Right(_) {\n    return _.right;\n}\nexport function SetTreeNode$1__get_Height(_) {\n    return _.h;\n}\nexport function SetTreeModule_empty() {\n    return void 0;\n}\nexport function SetTreeModule_countAux(t_mut, acc_mut) {\n    SetTreeModule_countAux: while (true) {\n        const t = t_mut, acc = acc_mut;\n        if (t != null) {\n            const t2 = value_1(t);\n            if (t2 instanceof SetTreeNode$1) {\n                const tn = t2;\n                t_mut = SetTreeNode$1__get_Left(tn);\n                acc_mut = SetTreeModule_countAux(SetTreeNode$1__get_Right(tn), acc + 1);\n                continue SetTreeModule_countAux;\n            }\n            else {\n                return (acc + 1) | 0;\n            }\n        }\n        else {\n            return acc | 0;\n        }\n        break;\n    }\n}\nexport function SetTreeModule_count(s) {\n    return SetTreeModule_countAux(s, 0);\n}\nexport function SetTreeModule_mk(l, k, r) {\n    let tn, tn_1;\n    let hl;\n    const t = l;\n    if (t != null) {\n        const t2 = value_1(t);\n        hl = ((t2 instanceof SetTreeNode$1) ? ((tn = t2, SetTreeNode$1__get_Height(tn))) : 1);\n    }\n    else {\n        hl = 0;\n    }\n    let hr;\n    const t_1 = r;\n    if (t_1 != null) {\n        const t2_1 = value_1(t_1);\n        hr = ((t2_1 instanceof SetTreeNode$1) ? ((tn_1 = t2_1, SetTreeNode$1__get_Height(tn_1))) : 1);\n    }\n    else {\n        hr = 0;\n    }\n    const m = ((hl < hr) ? hr : hl) | 0;\n    if (m === 0) {\n        return SetTreeLeaf$1_$ctor_2B595(k);\n    }\n    else {\n        return SetTreeNode$1_$ctor_5F465FC9(k, l, r, m + 1);\n    }\n}\nexport function SetTreeModule_rebalance(t1, v, t2) {\n    let tn, tn_1, t_2, t2_3, tn_2, t_3, t2_4, tn_3;\n    let t1h;\n    const t = t1;\n    if (t != null) {\n        const t2_1 = value_1(t);\n        t1h = ((t2_1 instanceof SetTreeNode$1) ? ((tn = t2_1, SetTreeNode$1__get_Height(tn))) : 1);\n    }\n    else {\n        t1h = 0;\n    }\n    let t2h;\n    const t_1 = t2;\n    if (t_1 != null) {\n        const t2_2 = value_1(t_1);\n        t2h = ((t2_2 instanceof SetTreeNode$1) ? ((tn_1 = t2_2, SetTreeNode$1__get_Height(tn_1))) : 1);\n    }\n    else {\n        t2h = 0;\n    }\n    if (t2h > (t1h + 2)) {\n        const matchValue = value_1(t2);\n        if (matchValue instanceof SetTreeNode$1) {\n            const t2$0027 = matchValue;\n            if (((t_2 = SetTreeNode$1__get_Left(t2$0027), (t_2 != null) ? ((t2_3 = value_1(t_2), (t2_3 instanceof SetTreeNode$1) ? ((tn_2 = t2_3, SetTreeNode$1__get_Height(tn_2))) : 1)) : 0)) > (t1h + 1)) {\n                const matchValue_1 = value_1(SetTreeNode$1__get_Left(t2$0027));\n                if (matchValue_1 instanceof SetTreeNode$1) {\n                    const t2l = matchValue_1;\n                    return SetTreeModule_mk(SetTreeModule_mk(t1, v, SetTreeNode$1__get_Left(t2l)), SetTreeLeaf$1__get_Key(t2l), SetTreeModule_mk(SetTreeNode$1__get_Right(t2l), SetTreeLeaf$1__get_Key(t2$0027), SetTreeNode$1__get_Right(t2$0027)));\n                }\n                else {\n                    throw new Error(\"internal error: Set.rebalance\");\n                }\n            }\n            else {\n                return SetTreeModule_mk(SetTreeModule_mk(t1, v, SetTreeNode$1__get_Left(t2$0027)), SetTreeLeaf$1__get_Key(t2$0027), SetTreeNode$1__get_Right(t2$0027));\n            }\n        }\n        else {\n            throw new Error(\"internal error: Set.rebalance\");\n        }\n    }\n    else if (t1h > (t2h + 2)) {\n        const matchValue_2 = value_1(t1);\n        if (matchValue_2 instanceof SetTreeNode$1) {\n            const t1$0027 = matchValue_2;\n            if (((t_3 = SetTreeNode$1__get_Right(t1$0027), (t_3 != null) ? ((t2_4 = value_1(t_3), (t2_4 instanceof SetTreeNode$1) ? ((tn_3 = t2_4, SetTreeNode$1__get_Height(tn_3))) : 1)) : 0)) > (t2h + 1)) {\n                const matchValue_3 = value_1(SetTreeNode$1__get_Right(t1$0027));\n                if (matchValue_3 instanceof SetTreeNode$1) {\n                    const t1r = matchValue_3;\n                    return SetTreeModule_mk(SetTreeModule_mk(SetTreeNode$1__get_Left(t1$0027), SetTreeLeaf$1__get_Key(t1$0027), SetTreeNode$1__get_Left(t1r)), SetTreeLeaf$1__get_Key(t1r), SetTreeModule_mk(SetTreeNode$1__get_Right(t1r), v, t2));\n                }\n                else {\n                    throw new Error(\"internal error: Set.rebalance\");\n                }\n            }\n            else {\n                return SetTreeModule_mk(SetTreeNode$1__get_Left(t1$0027), SetTreeLeaf$1__get_Key(t1$0027), SetTreeModule_mk(SetTreeNode$1__get_Right(t1$0027), v, t2));\n            }\n        }\n        else {\n            throw new Error(\"internal error: Set.rebalance\");\n        }\n    }\n    else {\n        return SetTreeModule_mk(t1, v, t2);\n    }\n}\nexport function SetTreeModule_add(comparer, k, t) {\n    if (t != null) {\n        const t2 = value_1(t);\n        const c = comparer.Compare(k, SetTreeLeaf$1__get_Key(t2)) | 0;\n        if (t2 instanceof SetTreeNode$1) {\n            const tn = t2;\n            if (c < 0) {\n                return SetTreeModule_rebalance(SetTreeModule_add(comparer, k, SetTreeNode$1__get_Left(tn)), SetTreeLeaf$1__get_Key(tn), SetTreeNode$1__get_Right(tn));\n            }\n            else if (c === 0) {\n                return t;\n            }\n            else {\n                return SetTreeModule_rebalance(SetTreeNode$1__get_Left(tn), SetTreeLeaf$1__get_Key(tn), SetTreeModule_add(comparer, k, SetTreeNode$1__get_Right(tn)));\n            }\n        }\n        else {\n            const c_1 = comparer.Compare(k, SetTreeLeaf$1__get_Key(t2)) | 0;\n            if (c_1 < 0) {\n                return SetTreeNode$1_$ctor_5F465FC9(k, SetTreeModule_empty(), t, 2);\n            }\n            else if (c_1 === 0) {\n                return t;\n            }\n            else {\n                return SetTreeNode$1_$ctor_5F465FC9(k, t, SetTreeModule_empty(), 2);\n            }\n        }\n    }\n    else {\n        return SetTreeLeaf$1_$ctor_2B595(k);\n    }\n}\nexport function SetTreeModule_balance(comparer, t1, k, t2) {\n    if (t1 != null) {\n        const t1$0027 = value_1(t1);\n        if (t2 != null) {\n            const t2$0027 = value_1(t2);\n            if (t1$0027 instanceof SetTreeNode$1) {\n                const t1n = t1$0027;\n                if (t2$0027 instanceof SetTreeNode$1) {\n                    const t2n = t2$0027;\n                    if ((SetTreeNode$1__get_Height(t1n) + 2) < SetTreeNode$1__get_Height(t2n)) {\n                        return SetTreeModule_rebalance(SetTreeModule_balance(comparer, t1, k, SetTreeNode$1__get_Left(t2n)), SetTreeLeaf$1__get_Key(t2n), SetTreeNode$1__get_Right(t2n));\n                    }\n                    else if ((SetTreeNode$1__get_Height(t2n) + 2) < SetTreeNode$1__get_Height(t1n)) {\n                        return SetTreeModule_rebalance(SetTreeNode$1__get_Left(t1n), SetTreeLeaf$1__get_Key(t1n), SetTreeModule_balance(comparer, SetTreeNode$1__get_Right(t1n), k, t2));\n                    }\n                    else {\n                        return SetTreeModule_mk(t1, k, t2);\n                    }\n                }\n                else {\n                    return SetTreeModule_add(comparer, k, SetTreeModule_add(comparer, SetTreeLeaf$1__get_Key(t2$0027), t1));\n                }\n            }\n            else {\n                return SetTreeModule_add(comparer, k, SetTreeModule_add(comparer, SetTreeLeaf$1__get_Key(t1$0027), t2));\n            }\n        }\n        else {\n            return SetTreeModule_add(comparer, k, t1);\n        }\n    }\n    else {\n        return SetTreeModule_add(comparer, k, t2);\n    }\n}\nexport function SetTreeModule_split(comparer, pivot, t) {\n    if (t != null) {\n        const t2 = value_1(t);\n        if (t2 instanceof SetTreeNode$1) {\n            const tn = t2;\n            const c = comparer.Compare(pivot, SetTreeLeaf$1__get_Key(tn)) | 0;\n            if (c < 0) {\n                const patternInput = SetTreeModule_split(comparer, pivot, SetTreeNode$1__get_Left(tn));\n                return [patternInput[0], patternInput[1], SetTreeModule_balance(comparer, patternInput[2], SetTreeLeaf$1__get_Key(tn), SetTreeNode$1__get_Right(tn))];\n            }\n            else if (c === 0) {\n                return [SetTreeNode$1__get_Left(tn), true, SetTreeNode$1__get_Right(tn)];\n            }\n            else {\n                const patternInput_1 = SetTreeModule_split(comparer, pivot, SetTreeNode$1__get_Right(tn));\n                return [SetTreeModule_balance(comparer, SetTreeNode$1__get_Left(tn), SetTreeLeaf$1__get_Key(tn), patternInput_1[0]), patternInput_1[1], patternInput_1[2]];\n            }\n        }\n        else {\n            const c_1 = comparer.Compare(SetTreeLeaf$1__get_Key(t2), pivot) | 0;\n            if (c_1 < 0) {\n                return [t, false, SetTreeModule_empty()];\n            }\n            else if (c_1 === 0) {\n                return [SetTreeModule_empty(), true, SetTreeModule_empty()];\n            }\n            else {\n                return [SetTreeModule_empty(), false, t];\n            }\n        }\n    }\n    else {\n        return [SetTreeModule_empty(), false, SetTreeModule_empty()];\n    }\n}\nexport function SetTreeModule_spliceOutSuccessor(t) {\n    if (t != null) {\n        const t2 = value_1(t);\n        if (t2 instanceof SetTreeNode$1) {\n            const tn = t2;\n            if (SetTreeNode$1__get_Left(tn) == null) {\n                return [SetTreeLeaf$1__get_Key(tn), SetTreeNode$1__get_Right(tn)];\n            }\n            else {\n                const patternInput = SetTreeModule_spliceOutSuccessor(SetTreeNode$1__get_Left(tn));\n                return [patternInput[0], SetTreeModule_mk(patternInput[1], SetTreeLeaf$1__get_Key(tn), SetTreeNode$1__get_Right(tn))];\n            }\n        }\n        else {\n            return [SetTreeLeaf$1__get_Key(t2), SetTreeModule_empty()];\n        }\n    }\n    else {\n        throw new Error(\"internal error: Set.spliceOutSuccessor\");\n    }\n}\nexport function SetTreeModule_remove(comparer, k, t) {\n    if (t != null) {\n        const t2 = value_1(t);\n        const c = comparer.Compare(k, SetTreeLeaf$1__get_Key(t2)) | 0;\n        if (t2 instanceof SetTreeNode$1) {\n            const tn = t2;\n            if (c < 0) {\n                return SetTreeModule_rebalance(SetTreeModule_remove(comparer, k, SetTreeNode$1__get_Left(tn)), SetTreeLeaf$1__get_Key(tn), SetTreeNode$1__get_Right(tn));\n            }\n            else if (c === 0) {\n                if (SetTreeNode$1__get_Left(tn) == null) {\n                    return SetTreeNode$1__get_Right(tn);\n                }\n                else if (SetTreeNode$1__get_Right(tn) == null) {\n                    return SetTreeNode$1__get_Left(tn);\n                }\n                else {\n                    const patternInput = SetTreeModule_spliceOutSuccessor(SetTreeNode$1__get_Right(tn));\n                    return SetTreeModule_mk(SetTreeNode$1__get_Left(tn), patternInput[0], patternInput[1]);\n                }\n            }\n            else {\n                return SetTreeModule_rebalance(SetTreeNode$1__get_Left(tn), SetTreeLeaf$1__get_Key(tn), SetTreeModule_remove(comparer, k, SetTreeNode$1__get_Right(tn)));\n            }\n        }\n        else if (c === 0) {\n            return SetTreeModule_empty();\n        }\n        else {\n            return t;\n        }\n    }\n    else {\n        return t;\n    }\n}\nexport function SetTreeModule_mem(comparer_mut, k_mut, t_mut) {\n    SetTreeModule_mem: while (true) {\n        const comparer = comparer_mut, k = k_mut, t = t_mut;\n        if (t != null) {\n            const t2 = value_1(t);\n            const c = comparer.Compare(k, SetTreeLeaf$1__get_Key(t2)) | 0;\n            if (t2 instanceof SetTreeNode$1) {\n                const tn = t2;\n                if (c < 0) {\n                    comparer_mut = comparer;\n                    k_mut = k;\n                    t_mut = SetTreeNode$1__get_Left(tn);\n                    continue SetTreeModule_mem;\n                }\n                else if (c === 0) {\n                    return true;\n                }\n                else {\n                    comparer_mut = comparer;\n                    k_mut = k;\n                    t_mut = SetTreeNode$1__get_Right(tn);\n                    continue SetTreeModule_mem;\n                }\n            }\n            else {\n                return c === 0;\n            }\n        }\n        else {\n            return false;\n        }\n        break;\n    }\n}\nexport function SetTreeModule_iter(f_mut, t_mut) {\n    SetTreeModule_iter: while (true) {\n        const f = f_mut, t = t_mut;\n        if (t != null) {\n            const t2 = value_1(t);\n            if (t2 instanceof SetTreeNode$1) {\n                const tn = t2;\n                SetTreeModule_iter(f, SetTreeNode$1__get_Left(tn));\n                f(SetTreeLeaf$1__get_Key(tn));\n                f_mut = f;\n                t_mut = SetTreeNode$1__get_Right(tn);\n                continue SetTreeModule_iter;\n            }\n            else {\n                f(SetTreeLeaf$1__get_Key(t2));\n            }\n        }\n        break;\n    }\n}\nexport function SetTreeModule_foldBackOpt(f_mut, t_mut, x_mut) {\n    SetTreeModule_foldBackOpt: while (true) {\n        const f = f_mut, t = t_mut, x = x_mut;\n        if (t != null) {\n            const t2 = value_1(t);\n            if (t2 instanceof SetTreeNode$1) {\n                const tn = t2;\n                f_mut = f;\n                t_mut = SetTreeNode$1__get_Left(tn);\n                x_mut = f(SetTreeLeaf$1__get_Key(tn), SetTreeModule_foldBackOpt(f, SetTreeNode$1__get_Right(tn), x));\n                continue SetTreeModule_foldBackOpt;\n            }\n            else {\n                return f(SetTreeLeaf$1__get_Key(t2), x);\n            }\n        }\n        else {\n            return x;\n        }\n        break;\n    }\n}\nexport function SetTreeModule_foldBack(f, m, x) {\n    return SetTreeModule_foldBackOpt(f, m, x);\n}\nexport function SetTreeModule_foldOpt(f_mut, x_mut, t_mut) {\n    SetTreeModule_foldOpt: while (true) {\n        const f = f_mut, x = x_mut, t = t_mut;\n        if (t != null) {\n            const t2 = value_1(t);\n            if (t2 instanceof SetTreeNode$1) {\n                const tn = t2;\n                f_mut = f;\n                x_mut = f(SetTreeModule_foldOpt(f, x, SetTreeNode$1__get_Left(tn)), SetTreeLeaf$1__get_Key(tn));\n                t_mut = SetTreeNode$1__get_Right(tn);\n                continue SetTreeModule_foldOpt;\n            }\n            else {\n                return f(x, SetTreeLeaf$1__get_Key(t2));\n            }\n        }\n        else {\n            return x;\n        }\n        break;\n    }\n}\nexport function SetTreeModule_fold(f, x, m) {\n    return SetTreeModule_foldOpt(f, x, m);\n}\nexport function SetTreeModule_forall(f_mut, t_mut) {\n    SetTreeModule_forall: while (true) {\n        const f = f_mut, t = t_mut;\n        if (t != null) {\n            const t2 = value_1(t);\n            if (t2 instanceof SetTreeNode$1) {\n                const tn = t2;\n                if (f(SetTreeLeaf$1__get_Key(tn)) && SetTreeModule_forall(f, SetTreeNode$1__get_Left(tn))) {\n                    f_mut = f;\n                    t_mut = SetTreeNode$1__get_Right(tn);\n                    continue SetTreeModule_forall;\n                }\n                else {\n                    return false;\n                }\n            }\n            else {\n                return f(SetTreeLeaf$1__get_Key(t2));\n            }\n        }\n        else {\n            return true;\n        }\n        break;\n    }\n}\nexport function SetTreeModule_exists(f_mut, t_mut) {\n    SetTreeModule_exists: while (true) {\n        const f = f_mut, t = t_mut;\n        if (t != null) {\n            const t2 = value_1(t);\n            if (t2 instanceof SetTreeNode$1) {\n                const tn = t2;\n                if (f(SetTreeLeaf$1__get_Key(tn)) ? true : SetTreeModule_exists(f, SetTreeNode$1__get_Left(tn))) {\n                    return true;\n                }\n                else {\n                    f_mut = f;\n                    t_mut = SetTreeNode$1__get_Right(tn);\n                    continue SetTreeModule_exists;\n                }\n            }\n            else {\n                return f(SetTreeLeaf$1__get_Key(t2));\n            }\n        }\n        else {\n            return false;\n        }\n        break;\n    }\n}\nexport function SetTreeModule_subset(comparer, a, b) {\n    return SetTreeModule_forall((x) => SetTreeModule_mem(comparer, x, b), a);\n}\nexport function SetTreeModule_properSubset(comparer, a, b) {\n    if (SetTreeModule_forall((x) => SetTreeModule_mem(comparer, x, b), a)) {\n        return SetTreeModule_exists((x_1) => !SetTreeModule_mem(comparer, x_1, a), b);\n    }\n    else {\n        return false;\n    }\n}\nexport function SetTreeModule_filterAux(comparer_mut, f_mut, t_mut, acc_mut) {\n    SetTreeModule_filterAux: while (true) {\n        const comparer = comparer_mut, f = f_mut, t = t_mut, acc = acc_mut;\n        if (t != null) {\n            const t2 = value_1(t);\n            if (t2 instanceof SetTreeNode$1) {\n                const tn = t2;\n                const acc_1 = f(SetTreeLeaf$1__get_Key(tn)) ? SetTreeModule_add(comparer, SetTreeLeaf$1__get_Key(tn), acc) : acc;\n                comparer_mut = comparer;\n                f_mut = f;\n                t_mut = SetTreeNode$1__get_Left(tn);\n                acc_mut = SetTreeModule_filterAux(comparer, f, SetTreeNode$1__get_Right(tn), acc_1);\n                continue SetTreeModule_filterAux;\n            }\n            else if (f(SetTreeLeaf$1__get_Key(t2))) {\n                return SetTreeModule_add(comparer, SetTreeLeaf$1__get_Key(t2), acc);\n            }\n            else {\n                return acc;\n            }\n        }\n        else {\n            return acc;\n        }\n        break;\n    }\n}\nexport function SetTreeModule_filter(comparer, f, s) {\n    return SetTreeModule_filterAux(comparer, f, s, SetTreeModule_empty());\n}\nexport function SetTreeModule_diffAux(comparer_mut, t_mut, acc_mut) {\n    SetTreeModule_diffAux: while (true) {\n        const comparer = comparer_mut, t = t_mut, acc = acc_mut;\n        if (acc == null) {\n            return acc;\n        }\n        else if (t != null) {\n            const t2 = value_1(t);\n            if (t2 instanceof SetTreeNode$1) {\n                const tn = t2;\n                comparer_mut = comparer;\n                t_mut = SetTreeNode$1__get_Left(tn);\n                acc_mut = SetTreeModule_diffAux(comparer, SetTreeNode$1__get_Right(tn), SetTreeModule_remove(comparer, SetTreeLeaf$1__get_Key(tn), acc));\n                continue SetTreeModule_diffAux;\n            }\n            else {\n                return SetTreeModule_remove(comparer, SetTreeLeaf$1__get_Key(t2), acc);\n            }\n        }\n        else {\n            return acc;\n        }\n        break;\n    }\n}\nexport function SetTreeModule_diff(comparer, a, b) {\n    return SetTreeModule_diffAux(comparer, b, a);\n}\nexport function SetTreeModule_union(comparer, t1, t2) {\n    if (t1 != null) {\n        const t1$0027 = value_1(t1);\n        if (t2 != null) {\n            const t2$0027 = value_1(t2);\n            if (t1$0027 instanceof SetTreeNode$1) {\n                const t1n = t1$0027;\n                if (t2$0027 instanceof SetTreeNode$1) {\n                    const t2n = t2$0027;\n                    if (SetTreeNode$1__get_Height(t1n) > SetTreeNode$1__get_Height(t2n)) {\n                        const patternInput = SetTreeModule_split(comparer, SetTreeLeaf$1__get_Key(t1n), t2);\n                        return SetTreeModule_balance(comparer, SetTreeModule_union(comparer, SetTreeNode$1__get_Left(t1n), patternInput[0]), SetTreeLeaf$1__get_Key(t1n), SetTreeModule_union(comparer, SetTreeNode$1__get_Right(t1n), patternInput[2]));\n                    }\n                    else {\n                        const patternInput_1 = SetTreeModule_split(comparer, SetTreeLeaf$1__get_Key(t2n), t1);\n                        return SetTreeModule_balance(comparer, SetTreeModule_union(comparer, SetTreeNode$1__get_Left(t2n), patternInput_1[0]), SetTreeLeaf$1__get_Key(t2n), SetTreeModule_union(comparer, SetTreeNode$1__get_Right(t2n), patternInput_1[2]));\n                    }\n                }\n                else {\n                    return SetTreeModule_add(comparer, SetTreeLeaf$1__get_Key(t2$0027), t1);\n                }\n            }\n            else {\n                return SetTreeModule_add(comparer, SetTreeLeaf$1__get_Key(t1$0027), t2);\n            }\n        }\n        else {\n            return t1;\n        }\n    }\n    else {\n        return t2;\n    }\n}\nexport function SetTreeModule_intersectionAux(comparer_mut, b_mut, t_mut, acc_mut) {\n    SetTreeModule_intersectionAux: while (true) {\n        const comparer = comparer_mut, b = b_mut, t = t_mut, acc = acc_mut;\n        if (t != null) {\n            const t2 = value_1(t);\n            if (t2 instanceof SetTreeNode$1) {\n                const tn = t2;\n                const acc_1 = SetTreeModule_intersectionAux(comparer, b, SetTreeNode$1__get_Right(tn), acc);\n                const acc_2 = SetTreeModule_mem(comparer, SetTreeLeaf$1__get_Key(tn), b) ? SetTreeModule_add(comparer, SetTreeLeaf$1__get_Key(tn), acc_1) : acc_1;\n                comparer_mut = comparer;\n                b_mut = b;\n                t_mut = SetTreeNode$1__get_Left(tn);\n                acc_mut = acc_2;\n                continue SetTreeModule_intersectionAux;\n            }\n            else if (SetTreeModule_mem(comparer, SetTreeLeaf$1__get_Key(t2), b)) {\n                return SetTreeModule_add(comparer, SetTreeLeaf$1__get_Key(t2), acc);\n            }\n            else {\n                return acc;\n            }\n        }\n        else {\n            return acc;\n        }\n        break;\n    }\n}\nexport function SetTreeModule_intersection(comparer, a, b) {\n    return SetTreeModule_intersectionAux(comparer, b, a, SetTreeModule_empty());\n}\nexport function SetTreeModule_partition1(comparer, f, k, acc1, acc2) {\n    if (f(k)) {\n        return [SetTreeModule_add(comparer, k, acc1), acc2];\n    }\n    else {\n        return [acc1, SetTreeModule_add(comparer, k, acc2)];\n    }\n}\nexport function SetTreeModule_partitionAux(comparer_mut, f_mut, t_mut, acc__mut, acc__1_mut) {\n    SetTreeModule_partitionAux: while (true) {\n        const comparer = comparer_mut, f = f_mut, t = t_mut, acc_ = acc__mut, acc__1 = acc__1_mut;\n        const acc = [acc_, acc__1];\n        if (t != null) {\n            const t2 = value_1(t);\n            if (t2 instanceof SetTreeNode$1) {\n                const tn = t2;\n                const acc_1 = SetTreeModule_partitionAux(comparer, f, SetTreeNode$1__get_Right(tn), acc[0], acc[1]);\n                const acc_4 = SetTreeModule_partition1(comparer, f, SetTreeLeaf$1__get_Key(tn), acc_1[0], acc_1[1]);\n                comparer_mut = comparer;\n                f_mut = f;\n                t_mut = SetTreeNode$1__get_Left(tn);\n                acc__mut = acc_4[0];\n                acc__1_mut = acc_4[1];\n                continue SetTreeModule_partitionAux;\n            }\n            else {\n                return SetTreeModule_partition1(comparer, f, SetTreeLeaf$1__get_Key(t2), acc[0], acc[1]);\n            }\n        }\n        else {\n            return acc;\n        }\n        break;\n    }\n}\nexport function SetTreeModule_partition(comparer, f, s) {\n    return SetTreeModule_partitionAux(comparer, f, s, SetTreeModule_empty(), SetTreeModule_empty());\n}\nexport function SetTreeModule_minimumElementAux(t_mut, n_mut) {\n    SetTreeModule_minimumElementAux: while (true) {\n        const t = t_mut, n = n_mut;\n        if (t != null) {\n            const t2 = value_1(t);\n            if (t2 instanceof SetTreeNode$1) {\n                const tn = t2;\n                t_mut = SetTreeNode$1__get_Left(tn);\n                n_mut = SetTreeLeaf$1__get_Key(tn);\n                continue SetTreeModule_minimumElementAux;\n            }\n            else {\n                return SetTreeLeaf$1__get_Key(t2);\n            }\n        }\n        else {\n            return n;\n        }\n        break;\n    }\n}\nexport function SetTreeModule_minimumElementOpt(t) {\n    if (t != null) {\n        const t2 = value_1(t);\n        if (t2 instanceof SetTreeNode$1) {\n            const tn = t2;\n            return some(SetTreeModule_minimumElementAux(SetTreeNode$1__get_Left(tn), SetTreeLeaf$1__get_Key(tn)));\n        }\n        else {\n            return some(SetTreeLeaf$1__get_Key(t2));\n        }\n    }\n    else {\n        return void 0;\n    }\n}\nexport function SetTreeModule_maximumElementAux(t_mut, n_mut) {\n    SetTreeModule_maximumElementAux: while (true) {\n        const t = t_mut, n = n_mut;\n        if (t != null) {\n            const t2 = value_1(t);\n            if (t2 instanceof SetTreeNode$1) {\n                const tn = t2;\n                t_mut = SetTreeNode$1__get_Right(tn);\n                n_mut = SetTreeLeaf$1__get_Key(tn);\n                continue SetTreeModule_maximumElementAux;\n            }\n            else {\n                return SetTreeLeaf$1__get_Key(t2);\n            }\n        }\n        else {\n            return n;\n        }\n        break;\n    }\n}\nexport function SetTreeModule_maximumElementOpt(t) {\n    if (t != null) {\n        const t2 = value_1(t);\n        if (t2 instanceof SetTreeNode$1) {\n            const tn = t2;\n            return some(SetTreeModule_maximumElementAux(SetTreeNode$1__get_Right(tn), SetTreeLeaf$1__get_Key(tn)));\n        }\n        else {\n            return some(SetTreeLeaf$1__get_Key(t2));\n        }\n    }\n    else {\n        return void 0;\n    }\n}\nexport function SetTreeModule_minimumElement(s) {\n    const matchValue = SetTreeModule_minimumElementOpt(s);\n    if (matchValue == null) {\n        throw new Error(\"Set contains no elements\");\n    }\n    else {\n        return value_1(matchValue);\n    }\n}\nexport function SetTreeModule_maximumElement(s) {\n    const matchValue = SetTreeModule_maximumElementOpt(s);\n    if (matchValue == null) {\n        throw new Error(\"Set contains no elements\");\n    }\n    else {\n        return value_1(matchValue);\n    }\n}\nexport class SetTreeModule_SetIterator$1 extends Record {\n    constructor(stack, started) {\n        super();\n        this.stack = stack;\n        this.started = started;\n    }\n}\nexport function SetTreeModule_SetIterator$1_$reflection(gen0) {\n    return record_type(\"Set.SetTreeModule.SetIterator`1\", [gen0], SetTreeModule_SetIterator$1, () => [[\"stack\", list_type(option_type(SetTreeLeaf$1_$reflection(gen0)))], [\"started\", bool_type]]);\n}\nexport function SetTreeModule_collapseLHS(stack_mut) {\n    SetTreeModule_collapseLHS: while (true) {\n        const stack = stack_mut;\n        if (!isEmpty_1(stack)) {\n            const x = head(stack);\n            const rest = tail(stack);\n            if (x != null) {\n                const x2 = value_1(x);\n                if (x2 instanceof SetTreeNode$1) {\n                    const xn = x2;\n                    stack_mut = ofArrayWithTail([SetTreeNode$1__get_Left(xn), SetTreeLeaf$1_$ctor_2B595(SetTreeLeaf$1__get_Key(xn)), SetTreeNode$1__get_Right(xn)], rest);\n                    continue SetTreeModule_collapseLHS;\n                }\n                else {\n                    return stack;\n                }\n            }\n            else {\n                stack_mut = rest;\n                continue SetTreeModule_collapseLHS;\n            }\n        }\n        else {\n            return empty_1();\n        }\n        break;\n    }\n}\nexport function SetTreeModule_mkIterator(s) {\n    return new SetTreeModule_SetIterator$1(SetTreeModule_collapseLHS(singleton_1(s)), false);\n}\nexport function SetTreeModule_notStarted() {\n    throw new Error(\"Enumeration not started\");\n}\nexport function SetTreeModule_alreadyFinished() {\n    throw new Error(\"Enumeration already started\");\n}\nexport function SetTreeModule_current(i) {\n    if (i.started) {\n        const matchValue = i.stack;\n        if (isEmpty_1(matchValue)) {\n            return SetTreeModule_alreadyFinished();\n        }\n        else if (head(matchValue) != null) {\n            const t = value_1(head(matchValue));\n            return SetTreeLeaf$1__get_Key(t);\n        }\n        else {\n            throw new Error(\"Please report error: Set iterator, unexpected stack for current\");\n        }\n    }\n    else {\n        return SetTreeModule_notStarted();\n    }\n}\nexport function SetTreeModule_moveNext(i) {\n    if (i.started) {\n        const matchValue = i.stack;\n        if (!isEmpty_1(matchValue)) {\n            if (head(matchValue) != null) {\n                const t = value_1(head(matchValue));\n                if (t instanceof SetTreeNode$1) {\n                    throw new Error(\"Please report error: Set iterator, unexpected stack for moveNext\");\n                }\n                else {\n                    i.stack = SetTreeModule_collapseLHS(tail(matchValue));\n                    return !isEmpty_1(i.stack);\n                }\n            }\n            else {\n                throw new Error(\"Please report error: Set iterator, unexpected stack for moveNext\");\n            }\n        }\n        else {\n            return false;\n        }\n    }\n    else {\n        i.started = true;\n        return !isEmpty_1(i.stack);\n    }\n}\nexport function SetTreeModule_mkIEnumerator(s) {\n    let i = SetTreeModule_mkIterator(s);\n    return {\n        \"System.Collections.Generic.IEnumerator`1.get_Current\"() {\n            return SetTreeModule_current(i);\n        },\n        \"System.Collections.IEnumerator.get_Current\"() {\n            return SetTreeModule_current(i);\n        },\n        \"System.Collections.IEnumerator.MoveNext\"() {\n            return SetTreeModule_moveNext(i);\n        },\n        \"System.Collections.IEnumerator.Reset\"() {\n            i = SetTreeModule_mkIterator(s);\n        },\n        Dispose() {\n        },\n    };\n}\n/**\n * Set comparison.  Note this can be expensive.\n */\nexport function SetTreeModule_compareStacks(comparer_mut, l1_mut, l2_mut) {\n    SetTreeModule_compareStacks: while (true) {\n        const comparer = comparer_mut, l1 = l1_mut, l2 = l2_mut;\n        if (!isEmpty_1(l1)) {\n            if (!isEmpty_1(l2)) {\n                if (head(l2) != null) {\n                    if (head(l1) != null) {\n                        const x1_3 = value_1(head(l1));\n                        const x2_3 = value_1(head(l2));\n                        if (x1_3 instanceof SetTreeNode$1) {\n                            const x1n_2 = x1_3;\n                            if (SetTreeNode$1__get_Left(x1n_2) == null) {\n                                if (x2_3 instanceof SetTreeNode$1) {\n                                    const x2n_2 = x2_3;\n                                    if (SetTreeNode$1__get_Left(x2n_2) == null) {\n                                        const c = comparer.Compare(SetTreeLeaf$1__get_Key(x1n_2), SetTreeLeaf$1__get_Key(x2n_2)) | 0;\n                                        if (c !== 0) {\n                                            return c | 0;\n                                        }\n                                        else {\n                                            comparer_mut = comparer;\n                                            l1_mut = cons(SetTreeNode$1__get_Right(x1n_2), tail(l1));\n                                            l2_mut = cons(SetTreeNode$1__get_Right(x2n_2), tail(l2));\n                                            continue SetTreeModule_compareStacks;\n                                        }\n                                    }\n                                    else {\n                                        let matchResult, t1_6, x1_4, t2_6, x2_4;\n                                        if (!isEmpty_1(l1)) {\n                                            if (head(l1) != null) {\n                                                matchResult = 0;\n                                                t1_6 = tail(l1);\n                                                x1_4 = value_1(head(l1));\n                                            }\n                                            else if (!isEmpty_1(l2)) {\n                                                if (head(l2) != null) {\n                                                    matchResult = 1;\n                                                    t2_6 = tail(l2);\n                                                    x2_4 = value_1(head(l2));\n                                                }\n                                                else {\n                                                    matchResult = 2;\n                                                }\n                                            }\n                                            else {\n                                                matchResult = 2;\n                                            }\n                                        }\n                                        else if (!isEmpty_1(l2)) {\n                                            if (head(l2) != null) {\n                                                matchResult = 1;\n                                                t2_6 = tail(l2);\n                                                x2_4 = value_1(head(l2));\n                                            }\n                                            else {\n                                                matchResult = 2;\n                                            }\n                                        }\n                                        else {\n                                            matchResult = 2;\n                                        }\n                                        switch (matchResult) {\n                                            case 0:\n                                                if (x1_4 instanceof SetTreeNode$1) {\n                                                    const x1n_3 = x1_4;\n                                                    comparer_mut = comparer;\n                                                    l1_mut = ofArrayWithTail([SetTreeNode$1__get_Left(x1n_3), SetTreeNode$1_$ctor_5F465FC9(SetTreeLeaf$1__get_Key(x1n_3), SetTreeModule_empty(), SetTreeNode$1__get_Right(x1n_3), 0)], t1_6);\n                                                    l2_mut = l2;\n                                                    continue SetTreeModule_compareStacks;\n                                                }\n                                                else {\n                                                    comparer_mut = comparer;\n                                                    l1_mut = ofArrayWithTail([SetTreeModule_empty(), SetTreeLeaf$1_$ctor_2B595(SetTreeLeaf$1__get_Key(x1_4))], t1_6);\n                                                    l2_mut = l2;\n                                                    continue SetTreeModule_compareStacks;\n                                                }\n                                            case 1:\n                                                if (x2_4 instanceof SetTreeNode$1) {\n                                                    const x2n_3 = x2_4;\n                                                    comparer_mut = comparer;\n                                                    l1_mut = l1;\n                                                    l2_mut = ofArrayWithTail([SetTreeNode$1__get_Left(x2n_3), SetTreeNode$1_$ctor_5F465FC9(SetTreeLeaf$1__get_Key(x2n_3), SetTreeModule_empty(), SetTreeNode$1__get_Right(x2n_3), 0)], t2_6);\n                                                    continue SetTreeModule_compareStacks;\n                                                }\n                                                else {\n                                                    comparer_mut = comparer;\n                                                    l1_mut = l1;\n                                                    l2_mut = ofArrayWithTail([SetTreeModule_empty(), SetTreeLeaf$1_$ctor_2B595(SetTreeLeaf$1__get_Key(x2_4))], t2_6);\n                                                    continue SetTreeModule_compareStacks;\n                                                }\n                                            default:\n                                                throw new Error(\"unexpected state in SetTree.compareStacks\");\n                                        }\n                                    }\n                                }\n                                else {\n                                    const c_1 = comparer.Compare(SetTreeLeaf$1__get_Key(x1n_2), SetTreeLeaf$1__get_Key(x2_3)) | 0;\n                                    if (c_1 !== 0) {\n                                        return c_1 | 0;\n                                    }\n                                    else {\n                                        comparer_mut = comparer;\n                                        l1_mut = cons(SetTreeNode$1__get_Right(x1n_2), tail(l1));\n                                        l2_mut = cons(SetTreeModule_empty(), tail(l2));\n                                        continue SetTreeModule_compareStacks;\n                                    }\n                                }\n                            }\n                            else {\n                                let matchResult_1, t1_7, x1_5, t2_7, x2_5;\n                                if (!isEmpty_1(l1)) {\n                                    if (head(l1) != null) {\n                                        matchResult_1 = 0;\n                                        t1_7 = tail(l1);\n                                        x1_5 = value_1(head(l1));\n                                    }\n                                    else if (!isEmpty_1(l2)) {\n                                        if (head(l2) != null) {\n                                            matchResult_1 = 1;\n                                            t2_7 = tail(l2);\n                                            x2_5 = value_1(head(l2));\n                                        }\n                                        else {\n                                            matchResult_1 = 2;\n                                        }\n                                    }\n                                    else {\n                                        matchResult_1 = 2;\n                                    }\n                                }\n                                else if (!isEmpty_1(l2)) {\n                                    if (head(l2) != null) {\n                                        matchResult_1 = 1;\n                                        t2_7 = tail(l2);\n                                        x2_5 = value_1(head(l2));\n                                    }\n                                    else {\n                                        matchResult_1 = 2;\n                                    }\n                                }\n                                else {\n                                    matchResult_1 = 2;\n                                }\n                                switch (matchResult_1) {\n                                    case 0:\n                                        if (x1_5 instanceof SetTreeNode$1) {\n                                            const x1n_4 = x1_5;\n                                            comparer_mut = comparer;\n                                            l1_mut = ofArrayWithTail([SetTreeNode$1__get_Left(x1n_4), SetTreeNode$1_$ctor_5F465FC9(SetTreeLeaf$1__get_Key(x1n_4), SetTreeModule_empty(), SetTreeNode$1__get_Right(x1n_4), 0)], t1_7);\n                                            l2_mut = l2;\n                                            continue SetTreeModule_compareStacks;\n                                        }\n                                        else {\n                                            comparer_mut = comparer;\n                                            l1_mut = ofArrayWithTail([SetTreeModule_empty(), SetTreeLeaf$1_$ctor_2B595(SetTreeLeaf$1__get_Key(x1_5))], t1_7);\n                                            l2_mut = l2;\n                                            continue SetTreeModule_compareStacks;\n                                        }\n                                    case 1:\n                                        if (x2_5 instanceof SetTreeNode$1) {\n                                            const x2n_4 = x2_5;\n                                            comparer_mut = comparer;\n                                            l1_mut = l1;\n                                            l2_mut = ofArrayWithTail([SetTreeNode$1__get_Left(x2n_4), SetTreeNode$1_$ctor_5F465FC9(SetTreeLeaf$1__get_Key(x2n_4), SetTreeModule_empty(), SetTreeNode$1__get_Right(x2n_4), 0)], t2_7);\n                                            continue SetTreeModule_compareStacks;\n                                        }\n                                        else {\n                                            comparer_mut = comparer;\n                                            l1_mut = l1;\n                                            l2_mut = ofArrayWithTail([SetTreeModule_empty(), SetTreeLeaf$1_$ctor_2B595(SetTreeLeaf$1__get_Key(x2_5))], t2_7);\n                                            continue SetTreeModule_compareStacks;\n                                        }\n                                    default:\n                                        throw new Error(\"unexpected state in SetTree.compareStacks\");\n                                }\n                            }\n                        }\n                        else if (x2_3 instanceof SetTreeNode$1) {\n                            const x2n_5 = x2_3;\n                            if (SetTreeNode$1__get_Left(x2n_5) == null) {\n                                const c_2 = comparer.Compare(SetTreeLeaf$1__get_Key(x1_3), SetTreeLeaf$1__get_Key(x2n_5)) | 0;\n                                if (c_2 !== 0) {\n                                    return c_2 | 0;\n                                }\n                                else {\n                                    comparer_mut = comparer;\n                                    l1_mut = cons(SetTreeModule_empty(), tail(l1));\n                                    l2_mut = cons(SetTreeNode$1__get_Right(x2n_5), tail(l2));\n                                    continue SetTreeModule_compareStacks;\n                                }\n                            }\n                            else {\n                                let matchResult_2, t1_8, x1_6, t2_8, x2_6;\n                                if (!isEmpty_1(l1)) {\n                                    if (head(l1) != null) {\n                                        matchResult_2 = 0;\n                                        t1_8 = tail(l1);\n                                        x1_6 = value_1(head(l1));\n                                    }\n                                    else if (!isEmpty_1(l2)) {\n                                        if (head(l2) != null) {\n                                            matchResult_2 = 1;\n                                            t2_8 = tail(l2);\n                                            x2_6 = value_1(head(l2));\n                                        }\n                                        else {\n                                            matchResult_2 = 2;\n                                        }\n                                    }\n                                    else {\n                                        matchResult_2 = 2;\n                                    }\n                                }\n                                else if (!isEmpty_1(l2)) {\n                                    if (head(l2) != null) {\n                                        matchResult_2 = 1;\n                                        t2_8 = tail(l2);\n                                        x2_6 = value_1(head(l2));\n                                    }\n                                    else {\n                                        matchResult_2 = 2;\n                                    }\n                                }\n                                else {\n                                    matchResult_2 = 2;\n                                }\n                                switch (matchResult_2) {\n                                    case 0:\n                                        if (x1_6 instanceof SetTreeNode$1) {\n                                            const x1n_5 = x1_6;\n                                            comparer_mut = comparer;\n                                            l1_mut = ofArrayWithTail([SetTreeNode$1__get_Left(x1n_5), SetTreeNode$1_$ctor_5F465FC9(SetTreeLeaf$1__get_Key(x1n_5), SetTreeModule_empty(), SetTreeNode$1__get_Right(x1n_5), 0)], t1_8);\n                                            l2_mut = l2;\n                                            continue SetTreeModule_compareStacks;\n                                        }\n                                        else {\n                                            comparer_mut = comparer;\n                                            l1_mut = ofArrayWithTail([SetTreeModule_empty(), SetTreeLeaf$1_$ctor_2B595(SetTreeLeaf$1__get_Key(x1_6))], t1_8);\n                                            l2_mut = l2;\n                                            continue SetTreeModule_compareStacks;\n                                        }\n                                    case 1:\n                                        if (x2_6 instanceof SetTreeNode$1) {\n                                            const x2n_6 = x2_6;\n                                            comparer_mut = comparer;\n                                            l1_mut = l1;\n                                            l2_mut = ofArrayWithTail([SetTreeNode$1__get_Left(x2n_6), SetTreeNode$1_$ctor_5F465FC9(SetTreeLeaf$1__get_Key(x2n_6), SetTreeModule_empty(), SetTreeNode$1__get_Right(x2n_6), 0)], t2_8);\n                                            continue SetTreeModule_compareStacks;\n                                        }\n                                        else {\n                                            comparer_mut = comparer;\n                                            l1_mut = l1;\n                                            l2_mut = ofArrayWithTail([SetTreeModule_empty(), SetTreeLeaf$1_$ctor_2B595(SetTreeLeaf$1__get_Key(x2_6))], t2_8);\n                                            continue SetTreeModule_compareStacks;\n                                        }\n                                    default:\n                                        throw new Error(\"unexpected state in SetTree.compareStacks\");\n                                }\n                            }\n                        }\n                        else {\n                            const c_3 = comparer.Compare(SetTreeLeaf$1__get_Key(x1_3), SetTreeLeaf$1__get_Key(x2_3)) | 0;\n                            if (c_3 !== 0) {\n                                return c_3 | 0;\n                            }\n                            else {\n                                comparer_mut = comparer;\n                                l1_mut = tail(l1);\n                                l2_mut = tail(l2);\n                                continue SetTreeModule_compareStacks;\n                            }\n                        }\n                    }\n                    else {\n                        const x2 = value_1(head(l2));\n                        let matchResult_3, t1_2, x1, t2_2, x2_1;\n                        if (!isEmpty_1(l1)) {\n                            if (head(l1) != null) {\n                                matchResult_3 = 0;\n                                t1_2 = tail(l1);\n                                x1 = value_1(head(l1));\n                            }\n                            else if (!isEmpty_1(l2)) {\n                                if (head(l2) != null) {\n                                    matchResult_3 = 1;\n                                    t2_2 = tail(l2);\n                                    x2_1 = value_1(head(l2));\n                                }\n                                else {\n                                    matchResult_3 = 2;\n                                }\n                            }\n                            else {\n                                matchResult_3 = 2;\n                            }\n                        }\n                        else if (!isEmpty_1(l2)) {\n                            if (head(l2) != null) {\n                                matchResult_3 = 1;\n                                t2_2 = tail(l2);\n                                x2_1 = value_1(head(l2));\n                            }\n                            else {\n                                matchResult_3 = 2;\n                            }\n                        }\n                        else {\n                            matchResult_3 = 2;\n                        }\n                        switch (matchResult_3) {\n                            case 0:\n                                if (x1 instanceof SetTreeNode$1) {\n                                    const x1n = x1;\n                                    comparer_mut = comparer;\n                                    l1_mut = ofArrayWithTail([SetTreeNode$1__get_Left(x1n), SetTreeNode$1_$ctor_5F465FC9(SetTreeLeaf$1__get_Key(x1n), SetTreeModule_empty(), SetTreeNode$1__get_Right(x1n), 0)], t1_2);\n                                    l2_mut = l2;\n                                    continue SetTreeModule_compareStacks;\n                                }\n                                else {\n                                    comparer_mut = comparer;\n                                    l1_mut = ofArrayWithTail([SetTreeModule_empty(), SetTreeLeaf$1_$ctor_2B595(SetTreeLeaf$1__get_Key(x1))], t1_2);\n                                    l2_mut = l2;\n                                    continue SetTreeModule_compareStacks;\n                                }\n                            case 1:\n                                if (x2_1 instanceof SetTreeNode$1) {\n                                    const x2n = x2_1;\n                                    comparer_mut = comparer;\n                                    l1_mut = l1;\n                                    l2_mut = ofArrayWithTail([SetTreeNode$1__get_Left(x2n), SetTreeNode$1_$ctor_5F465FC9(SetTreeLeaf$1__get_Key(x2n), SetTreeModule_empty(), SetTreeNode$1__get_Right(x2n), 0)], t2_2);\n                                    continue SetTreeModule_compareStacks;\n                                }\n                                else {\n                                    comparer_mut = comparer;\n                                    l1_mut = l1;\n                                    l2_mut = ofArrayWithTail([SetTreeModule_empty(), SetTreeLeaf$1_$ctor_2B595(SetTreeLeaf$1__get_Key(x2_1))], t2_2);\n                                    continue SetTreeModule_compareStacks;\n                                }\n                            default:\n                                throw new Error(\"unexpected state in SetTree.compareStacks\");\n                        }\n                    }\n                }\n                else if (head(l1) != null) {\n                    const x1_1 = value_1(head(l1));\n                    let matchResult_4, t1_4, x1_2, t2_4, x2_2;\n                    if (!isEmpty_1(l1)) {\n                        if (head(l1) != null) {\n                            matchResult_4 = 0;\n                            t1_4 = tail(l1);\n                            x1_2 = value_1(head(l1));\n                        }\n                        else if (!isEmpty_1(l2)) {\n                            if (head(l2) != null) {\n                                matchResult_4 = 1;\n                                t2_4 = tail(l2);\n                                x2_2 = value_1(head(l2));\n                            }\n                            else {\n                                matchResult_4 = 2;\n                            }\n                        }\n                        else {\n                            matchResult_4 = 2;\n                        }\n                    }\n                    else if (!isEmpty_1(l2)) {\n                        if (head(l2) != null) {\n                            matchResult_4 = 1;\n                            t2_4 = tail(l2);\n                            x2_2 = value_1(head(l2));\n                        }\n                        else {\n                            matchResult_4 = 2;\n                        }\n                    }\n                    else {\n                        matchResult_4 = 2;\n                    }\n                    switch (matchResult_4) {\n                        case 0:\n                            if (x1_2 instanceof SetTreeNode$1) {\n                                const x1n_1 = x1_2;\n                                comparer_mut = comparer;\n                                l1_mut = ofArrayWithTail([SetTreeNode$1__get_Left(x1n_1), SetTreeNode$1_$ctor_5F465FC9(SetTreeLeaf$1__get_Key(x1n_1), SetTreeModule_empty(), SetTreeNode$1__get_Right(x1n_1), 0)], t1_4);\n                                l2_mut = l2;\n                                continue SetTreeModule_compareStacks;\n                            }\n                            else {\n                                comparer_mut = comparer;\n                                l1_mut = ofArrayWithTail([SetTreeModule_empty(), SetTreeLeaf$1_$ctor_2B595(SetTreeLeaf$1__get_Key(x1_2))], t1_4);\n                                l2_mut = l2;\n                                continue SetTreeModule_compareStacks;\n                            }\n                        case 1:\n                            if (x2_2 instanceof SetTreeNode$1) {\n                                const x2n_1 = x2_2;\n                                comparer_mut = comparer;\n                                l1_mut = l1;\n                                l2_mut = ofArrayWithTail([SetTreeNode$1__get_Left(x2n_1), SetTreeNode$1_$ctor_5F465FC9(SetTreeLeaf$1__get_Key(x2n_1), SetTreeModule_empty(), SetTreeNode$1__get_Right(x2n_1), 0)], t2_4);\n                                continue SetTreeModule_compareStacks;\n                            }\n                            else {\n                                comparer_mut = comparer;\n                                l1_mut = l1;\n                                l2_mut = ofArrayWithTail([SetTreeModule_empty(), SetTreeLeaf$1_$ctor_2B595(SetTreeLeaf$1__get_Key(x2_2))], t2_4);\n                                continue SetTreeModule_compareStacks;\n                            }\n                        default:\n                            throw new Error(\"unexpected state in SetTree.compareStacks\");\n                    }\n                }\n                else {\n                    comparer_mut = comparer;\n                    l1_mut = tail(l1);\n                    l2_mut = tail(l2);\n                    continue SetTreeModule_compareStacks;\n                }\n            }\n            else {\n                return 1;\n            }\n        }\n        else if (isEmpty_1(l2)) {\n            return 0;\n        }\n        else {\n            return -1;\n        }\n        break;\n    }\n}\nexport function SetTreeModule_compare(comparer, t1, t2) {\n    if (t1 == null) {\n        if (t2 == null) {\n            return 0;\n        }\n        else {\n            return -1;\n        }\n    }\n    else if (t2 == null) {\n        return 1;\n    }\n    else {\n        return SetTreeModule_compareStacks(comparer, singleton_1(t1), singleton_1(t2)) | 0;\n    }\n}\nexport function SetTreeModule_choose(s) {\n    return SetTreeModule_minimumElement(s);\n}\nexport function SetTreeModule_toList(t) {\n    const loop = (t$0027_mut, acc_mut) => {\n        loop: while (true) {\n            const t$0027 = t$0027_mut, acc = acc_mut;\n            if (t$0027 != null) {\n                const t2 = value_1(t$0027);\n                if (t2 instanceof SetTreeNode$1) {\n                    const tn = t2;\n                    t$0027_mut = SetTreeNode$1__get_Left(tn);\n                    acc_mut = cons(SetTreeLeaf$1__get_Key(tn), loop(SetTreeNode$1__get_Right(tn), acc));\n                    continue loop;\n                }\n                else {\n                    return cons(SetTreeLeaf$1__get_Key(t2), acc);\n                }\n            }\n            else {\n                return acc;\n            }\n            break;\n        }\n    };\n    return loop(t, empty_1());\n}\nexport function SetTreeModule_copyToArray(s, arr, i) {\n    let j = i;\n    SetTreeModule_iter((x) => {\n        arr[j] = x;\n        j = ((j + 1) | 0);\n    }, s);\n}\nexport function SetTreeModule_toArray(s) {\n    const n = SetTreeModule_count(s) | 0;\n    const res = fill(new Array(n), 0, n, null);\n    SetTreeModule_copyToArray(s, res, 0);\n    return res;\n}\nexport function SetTreeModule_mkFromEnumerator(comparer_mut, acc_mut, e_mut) {\n    SetTreeModule_mkFromEnumerator: while (true) {\n        const comparer = comparer_mut, acc = acc_mut, e = e_mut;\n        if (e[\"System.Collections.IEnumerator.MoveNext\"]()) {\n            comparer_mut = comparer;\n            acc_mut = SetTreeModule_add(comparer, e[\"System.Collections.Generic.IEnumerator`1.get_Current\"](), acc);\n            e_mut = e;\n            continue SetTreeModule_mkFromEnumerator;\n        }\n        else {\n            return acc;\n        }\n        break;\n    }\n}\nexport function SetTreeModule_ofArray(comparer, l) {\n    return fold_1((acc, k) => SetTreeModule_add(comparer, k, acc), SetTreeModule_empty(), l);\n}\nexport function SetTreeModule_ofList(comparer, l) {\n    return fold_2((acc, k) => SetTreeModule_add(comparer, k, acc), SetTreeModule_empty(), l);\n}\nexport function SetTreeModule_ofSeq(comparer, c) {\n    if (isArrayLike(c)) {\n        return SetTreeModule_ofArray(comparer, c);\n    }\n    else if (c instanceof FSharpList) {\n        return SetTreeModule_ofList(comparer, c);\n    }\n    else {\n        const ie = getEnumerator(c);\n        try {\n            return SetTreeModule_mkFromEnumerator(comparer, SetTreeModule_empty(), ie);\n        }\n        finally {\n            disposeSafe(ie);\n        }\n    }\n}\nexport class FSharpSet {\n    constructor(comparer, tree) {\n        this.comparer = comparer;\n        this.tree = tree;\n    }\n    GetHashCode() {\n        const this$ = this;\n        return FSharpSet__ComputeHashCode(this$) | 0;\n    }\n    Equals(that) {\n        let that_1;\n        const this$ = this;\n        return (that instanceof FSharpSet) && ((that_1 = that, SetTreeModule_compare(FSharpSet__get_Comparer(this$), FSharpSet__get_Tree(this$), FSharpSet__get_Tree(that_1)) === 0));\n    }\n    toString() {\n        const this$ = this;\n        return (\"set [\" + join(\"; \", map_1((x) => {\n            let copyOfStruct = x;\n            return toString(copyOfStruct);\n        }, this$))) + \"]\";\n    }\n    get [Symbol.toStringTag]() {\n        return \"FSharpSet\";\n    }\n    toJSON() {\n        const this$ = this;\n        return Array.from(this$);\n    }\n    CompareTo(that) {\n        const s = this;\n        return SetTreeModule_compare(FSharpSet__get_Comparer(s), FSharpSet__get_Tree(s), FSharpSet__get_Tree(that)) | 0;\n    }\n    \"System.Collections.Generic.ICollection`1.Add2B595\"(x) {\n        throw new Error(\"ReadOnlyCollection\");\n    }\n    \"System.Collections.Generic.ICollection`1.Clear\"() {\n        throw new Error(\"ReadOnlyCollection\");\n    }\n    \"System.Collections.Generic.ICollection`1.Remove2B595\"(x) {\n        throw new Error(\"ReadOnlyCollection\");\n    }\n    \"System.Collections.Generic.ICollection`1.Contains2B595\"(x) {\n        const s = this;\n        return SetTreeModule_mem(FSharpSet__get_Comparer(s), x, FSharpSet__get_Tree(s));\n    }\n    \"System.Collections.Generic.ICollection`1.CopyToZ3B4C077E\"(arr, i) {\n        const s = this;\n        SetTreeModule_copyToArray(FSharpSet__get_Tree(s), arr, i);\n    }\n    \"System.Collections.Generic.ICollection`1.get_IsReadOnly\"() {\n        return true;\n    }\n    \"System.Collections.Generic.ICollection`1.get_Count\"() {\n        const s = this;\n        return FSharpSet__get_Count(s) | 0;\n    }\n    \"System.Collections.Generic.IReadOnlyCollection`1.get_Count\"() {\n        const s = this;\n        return FSharpSet__get_Count(s) | 0;\n    }\n    GetEnumerator() {\n        const s = this;\n        return SetTreeModule_mkIEnumerator(FSharpSet__get_Tree(s));\n    }\n    [Symbol.iterator]() {\n        return toIterator(getEnumerator(this));\n    }\n    \"System.Collections.IEnumerable.GetEnumerator\"() {\n        const s = this;\n        return SetTreeModule_mkIEnumerator(FSharpSet__get_Tree(s));\n    }\n    get size() {\n        const s = this;\n        return FSharpSet__get_Count(s) | 0;\n    }\n    add(k) {\n        const s = this;\n        throw new Error(\"Set cannot be mutated\");\n        return s;\n    }\n    clear() {\n        throw new Error(\"Set cannot be mutated\");\n    }\n    delete(k) {\n        throw new Error(\"Set cannot be mutated\");\n        return false;\n    }\n    has(k) {\n        const s = this;\n        return FSharpSet__Contains(s, k);\n    }\n    keys() {\n        const s = this;\n        return map_1((x) => x, s);\n    }\n    values() {\n        const s = this;\n        return map_1((x) => x, s);\n    }\n    entries() {\n        const s = this;\n        return map_1((v) => [v, v], s);\n    }\n    forEach(f, thisArg) {\n        const s = this;\n        iterate_1((x) => {\n            f(x, x, s);\n        }, s);\n    }\n}\nexport function FSharpSet_$reflection(gen0) {\n    return class_type(\"Set.FSharpSet\", [gen0], FSharpSet);\n}\nexport function FSharpSet_$ctor(comparer, tree) {\n    return new FSharpSet(comparer, tree);\n}\nexport function FSharpSet__get_Comparer(set$) {\n    return set$.comparer;\n}\nexport function FSharpSet__get_Tree(set$) {\n    return set$.tree;\n}\nexport function FSharpSet_Empty(comparer) {\n    return FSharpSet_$ctor(comparer, SetTreeModule_empty());\n}\nexport function FSharpSet__Add(s, value) {\n    return FSharpSet_$ctor(FSharpSet__get_Comparer(s), SetTreeModule_add(FSharpSet__get_Comparer(s), value, FSharpSet__get_Tree(s)));\n}\nexport function FSharpSet__Remove(s, value) {\n    return FSharpSet_$ctor(FSharpSet__get_Comparer(s), SetTreeModule_remove(FSharpSet__get_Comparer(s), value, FSharpSet__get_Tree(s)));\n}\nexport function FSharpSet__get_Count(s) {\n    return SetTreeModule_count(FSharpSet__get_Tree(s));\n}\nexport function FSharpSet__Contains(s, value) {\n    return SetTreeModule_mem(FSharpSet__get_Comparer(s), value, FSharpSet__get_Tree(s));\n}\nexport function FSharpSet__Iterate(s, x) {\n    SetTreeModule_iter(x, FSharpSet__get_Tree(s));\n}\nexport function FSharpSet__Fold(s, f, z) {\n    const f_1 = f;\n    return SetTreeModule_fold((x, z_1) => f_1(z_1, x), z, FSharpSet__get_Tree(s));\n}\nexport function FSharpSet__get_IsEmpty(s) {\n    return FSharpSet__get_Tree(s) == null;\n}\nexport function FSharpSet__Partition(s, f) {\n    if (FSharpSet__get_Tree(s) == null) {\n        return [s, s];\n    }\n    else {\n        const patternInput = SetTreeModule_partition(FSharpSet__get_Comparer(s), f, FSharpSet__get_Tree(s));\n        return [FSharpSet_$ctor(FSharpSet__get_Comparer(s), patternInput[0]), FSharpSet_$ctor(FSharpSet__get_Comparer(s), patternInput[1])];\n    }\n}\nexport function FSharpSet__Filter(s, f) {\n    if (FSharpSet__get_Tree(s) == null) {\n        return s;\n    }\n    else {\n        return FSharpSet_$ctor(FSharpSet__get_Comparer(s), SetTreeModule_filter(FSharpSet__get_Comparer(s), f, FSharpSet__get_Tree(s)));\n    }\n}\nexport function FSharpSet__Map(s, f, comparer) {\n    return FSharpSet_$ctor(comparer, SetTreeModule_fold((acc, k) => SetTreeModule_add(comparer, f(k), acc), SetTreeModule_empty(), FSharpSet__get_Tree(s)));\n}\nexport function FSharpSet__Exists(s, f) {\n    return SetTreeModule_exists(f, FSharpSet__get_Tree(s));\n}\nexport function FSharpSet__ForAll(s, f) {\n    return SetTreeModule_forall(f, FSharpSet__get_Tree(s));\n}\nexport function FSharpSet_op_Subtraction(set1, set2) {\n    if (FSharpSet__get_Tree(set1) == null) {\n        return set1;\n    }\n    else if (FSharpSet__get_Tree(set2) == null) {\n        return set1;\n    }\n    else {\n        return FSharpSet_$ctor(FSharpSet__get_Comparer(set1), SetTreeModule_diff(FSharpSet__get_Comparer(set1), FSharpSet__get_Tree(set1), FSharpSet__get_Tree(set2)));\n    }\n}\nexport function FSharpSet_op_Addition(set1, set2) {\n    if (FSharpSet__get_Tree(set2) == null) {\n        return set1;\n    }\n    else if (FSharpSet__get_Tree(set1) == null) {\n        return set2;\n    }\n    else {\n        return FSharpSet_$ctor(FSharpSet__get_Comparer(set1), SetTreeModule_union(FSharpSet__get_Comparer(set1), FSharpSet__get_Tree(set1), FSharpSet__get_Tree(set2)));\n    }\n}\nexport function FSharpSet_Intersection(a, b) {\n    if (FSharpSet__get_Tree(b) == null) {\n        return b;\n    }\n    else if (FSharpSet__get_Tree(a) == null) {\n        return a;\n    }\n    else {\n        return FSharpSet_$ctor(FSharpSet__get_Comparer(a), SetTreeModule_intersection(FSharpSet__get_Comparer(a), FSharpSet__get_Tree(a), FSharpSet__get_Tree(b)));\n    }\n}\nexport function FSharpSet_IntersectionMany(sets) {\n    return reduce(FSharpSet_Intersection, sets);\n}\nexport function FSharpSet_Equality(a, b) {\n    return SetTreeModule_compare(FSharpSet__get_Comparer(a), FSharpSet__get_Tree(a), FSharpSet__get_Tree(b)) === 0;\n}\nexport function FSharpSet_Compare(a, b) {\n    return SetTreeModule_compare(FSharpSet__get_Comparer(a), FSharpSet__get_Tree(a), FSharpSet__get_Tree(b));\n}\nexport function FSharpSet__get_Choose(x) {\n    return SetTreeModule_choose(FSharpSet__get_Tree(x));\n}\nexport function FSharpSet__get_MinimumElement(x) {\n    return SetTreeModule_minimumElement(FSharpSet__get_Tree(x));\n}\nexport function FSharpSet__get_MaximumElement(x) {\n    return SetTreeModule_maximumElement(FSharpSet__get_Tree(x));\n}\nexport function FSharpSet__IsSubsetOf(x, otherSet) {\n    return SetTreeModule_subset(FSharpSet__get_Comparer(x), FSharpSet__get_Tree(x), FSharpSet__get_Tree(otherSet));\n}\nexport function FSharpSet__IsSupersetOf(x, otherSet) {\n    return SetTreeModule_subset(FSharpSet__get_Comparer(x), FSharpSet__get_Tree(otherSet), FSharpSet__get_Tree(x));\n}\nexport function FSharpSet__IsProperSubsetOf(x, otherSet) {\n    return SetTreeModule_properSubset(FSharpSet__get_Comparer(x), FSharpSet__get_Tree(x), FSharpSet__get_Tree(otherSet));\n}\nexport function FSharpSet__IsProperSupersetOf(x, otherSet) {\n    return SetTreeModule_properSubset(FSharpSet__get_Comparer(x), FSharpSet__get_Tree(otherSet), FSharpSet__get_Tree(x));\n}\nexport function FSharpSet__ToList(x) {\n    return SetTreeModule_toList(FSharpSet__get_Tree(x));\n}\nexport function FSharpSet__ToArray(x) {\n    return SetTreeModule_toArray(FSharpSet__get_Tree(x));\n}\nexport function FSharpSet__ComputeHashCode(this$) {\n    let res = 0;\n    const enumerator = getEnumerator(this$);\n    try {\n        while (enumerator[\"System.Collections.IEnumerator.MoveNext\"]()) {\n            const x_1 = enumerator[\"System.Collections.Generic.IEnumerator`1.get_Current\"]();\n            res = ((((res << 1) + structuralHash(x_1)) + 631) | 0);\n        }\n    }\n    finally {\n        disposeSafe(enumerator);\n    }\n    return Math.abs(res) | 0;\n}\nexport function isEmpty(set$) {\n    return FSharpSet__get_IsEmpty(set$);\n}\nexport function contains(element, set$) {\n    return FSharpSet__Contains(set$, element);\n}\nexport function add(value, set$) {\n    return FSharpSet__Add(set$, value);\n}\nexport function singleton(value, comparer) {\n    return FSharpSet__Add(FSharpSet_Empty(comparer), value);\n}\nexport function remove(value, set$) {\n    return FSharpSet__Remove(set$, value);\n}\nexport function union(set1, set2) {\n    return FSharpSet_op_Addition(set1, set2);\n}\nexport function unionMany(sets, comparer) {\n    return fold_3(FSharpSet_op_Addition, FSharpSet_Empty(comparer), sets);\n}\nexport function intersect(set1, set2) {\n    return FSharpSet_Intersection(set1, set2);\n}\nexport function intersectMany(sets) {\n    return FSharpSet_IntersectionMany(sets);\n}\nexport function iterate(action, set$) {\n    FSharpSet__Iterate(set$, action);\n}\nexport function empty(comparer) {\n    return FSharpSet_Empty(comparer);\n}\nexport function forAll(predicate, set$) {\n    return FSharpSet__ForAll(set$, predicate);\n}\nexport function exists(predicate, set$) {\n    return FSharpSet__Exists(set$, predicate);\n}\nexport function filter(predicate, set$) {\n    return FSharpSet__Filter(set$, predicate);\n}\nexport function partition(predicate, set$) {\n    return FSharpSet__Partition(set$, predicate);\n}\nexport function fold(folder, state, set$) {\n    return SetTreeModule_fold(folder, state, FSharpSet__get_Tree(set$));\n}\nexport function foldBack(folder, set$, state) {\n    return SetTreeModule_foldBack(folder, FSharpSet__get_Tree(set$), state);\n}\nexport function map(mapping, set$, comparer) {\n    return FSharpSet__Map(set$, mapping, comparer);\n}\nexport function count(set$) {\n    return FSharpSet__get_Count(set$);\n}\nexport function ofList(elements, comparer) {\n    return FSharpSet_$ctor(comparer, SetTreeModule_ofSeq(comparer, elements));\n}\nexport function ofArray(array, comparer) {\n    return FSharpSet_$ctor(comparer, SetTreeModule_ofArray(comparer, array));\n}\nexport function toList(set$) {\n    return FSharpSet__ToList(set$);\n}\nexport function toArray(set$) {\n    return FSharpSet__ToArray(set$);\n}\nexport function toSeq(set$) {\n    return map_1((x) => x, set$);\n}\nexport function ofSeq(elements, comparer) {\n    return FSharpSet_$ctor(comparer, SetTreeModule_ofSeq(comparer, elements));\n}\nexport function difference(set1, set2) {\n    return FSharpSet_op_Subtraction(set1, set2);\n}\nexport function isSubset(set1, set2) {\n    return SetTreeModule_subset(FSharpSet__get_Comparer(set1), FSharpSet__get_Tree(set1), FSharpSet__get_Tree(set2));\n}\nexport function isSuperset(set1, set2) {\n    return SetTreeModule_subset(FSharpSet__get_Comparer(set1), FSharpSet__get_Tree(set2), FSharpSet__get_Tree(set1));\n}\nexport function isProperSubset(set1, set2) {\n    return SetTreeModule_properSubset(FSharpSet__get_Comparer(set1), FSharpSet__get_Tree(set1), FSharpSet__get_Tree(set2));\n}\nexport function isProperSuperset(set1, set2) {\n    return SetTreeModule_properSubset(FSharpSet__get_Comparer(set1), FSharpSet__get_Tree(set2), FSharpSet__get_Tree(set1));\n}\nexport function minElement(set$) {\n    return FSharpSet__get_MinimumElement(set$);\n}\nexport function maxElement(set$) {\n    return FSharpSet__get_MaximumElement(set$);\n}\nexport function unionWith(s1, s2) {\n    return fold_3((acc, x) => acc.add(x), s1, s2);\n}\nexport function newMutableSetWith(s1, s2) {\n    if (s1 instanceof HashSet) {\n        const s1_1 = s1;\n        return HashSet_$ctor_Z6150332D(s2, HashSet__get_Comparer(s1_1));\n    }\n    else {\n        return new Set(s2);\n    }\n}\nexport function intersectWith(s1, s2) {\n    const s2_1 = newMutableSetWith(s1, s2);\n    iterate_1((x) => {\n        if (!s2_1.has(x)) {\n            s1.delete(x);\n        }\n    }, s1.values());\n}\nexport function exceptWith(s1, s2) {\n    iterate_1((x) => {\n        s1.delete(x);\n    }, s2);\n}\nexport function isSubsetOf(s1, s2) {\n    const s2_1 = newMutableSetWith(s1, s2);\n    return forAll_1((arg) => s2_1.has(arg), s1.values());\n}\nexport function isSupersetOf(s1, s2) {\n    return forAll_1((arg) => s1.has(arg), s2);\n}\nexport function isProperSubsetOf(s1, s2) {\n    const s2_1 = newMutableSetWith(s1, s2);\n    if (s2_1.size > s1.size) {\n        return forAll_1((arg) => s2_1.has(arg), s1.values());\n    }\n    else {\n        return false;\n    }\n}\nexport function isProperSupersetOf(s1, s2) {\n    const s2_1 = cache(s2);\n    if (exists_1((arg_1) => !s1.has(arg_1), s2_1)) {\n        return forAll_1((arg_2) => s1.has(arg_2), s2_1);\n    }\n    else {\n        return false;\n    }\n}\n","import { toFail, printf, toText, join } from \"../fable-library.4.2.2/String.js\";\r\nimport { Result_Map, FSharpResult$2 } from \"../fable-library.4.2.2/Choice.js\";\r\nimport { Util_CachedDecoders, Util_Cache$1__GetOrAdd_43981464, CaseStrategy, Util_Casing_convert, ErrorReason } from \"./Types.fs.js\";\r\nimport { tryParse as tryParse_2 } from \"../fable-library.4.2.2/Guid.js\";\r\nimport { toString as toString_12, FSharpRef } from \"../fable-library.4.2.2/Types.js\";\r\nimport { tryParse as tryParse_3 } from \"../fable-library.4.2.2/Int32.js\";\r\nimport { parse, fromInt32, toUInt64, fromFloat64, toInt64, toFloat64 } from \"../fable-library.4.2.2/BigInt.js\";\r\nimport { tryParse as tryParse_4 } from \"../fable-library.4.2.2/Long.js\";\r\nimport { tryParse as tryParse_5 } from \"../fable-library.4.2.2/Decimal.js\";\r\nimport Decimal from \"../fable-library.4.2.2/Decimal.js\";\r\nimport { toUniversalTime, tryParse as tryParse_6, minValue } from \"../fable-library.4.2.2/Date.js\";\r\nimport { tryParse as tryParse_7, minValue as minValue_1 } from \"../fable-library.4.2.2/DateOffset.js\";\r\nimport { tryParse as tryParse_8 } from \"../fable-library.4.2.2/TimeSpan.js\";\r\nimport { map as map_4, defaultArg, some } from \"../fable-library.4.2.2/Option.js\";\r\nimport { ofArray, toArray, map as map_1, length, singleton, append as append_1, tail as tail_1, head as head_1, isEmpty, ofSeq, empty, reverse, fold, tryLast, cons } from \"../fable-library.4.2.2/List.js\";\r\nimport { int16ToString, numberHash, compare, uncurry3, defaultOf, comparePrimitives, uncurry2, int32ToString } from \"../fable-library.4.2.2/Util.js\";\r\nimport { map as map_2, tryFind, foldBack2, foldBack, fill, fold as fold_1 } from \"../fable-library.4.2.2/Array.js\";\r\nimport { contains, fold as fold_2, toList, append, reverse as reverse_1 } from \"../fable-library.4.2.2/Seq.js\";\r\nimport { empty as empty_1, map as map_3, tryFind as tryFind_1, add, ofSeq as ofSeq_1, ofList } from \"../fable-library.4.2.2/Map.js\";\r\nimport { getGenerics, getGenericTypeDefinition, makeTuple, getTupleElements, isTuple, isGenericType, parseEnum, getEnumValues, getEnumUnderlyingType, isEnum, getElementType, isArray, isUnion, makeRecord, getRecordElements, isRecord, fullName, getUnionCaseFields, makeUnion as makeUnion_1, getUnionCases, name as name_3, class_type } from \"../fable-library.4.2.2/Reflection.js\";\r\nimport { ofSeq as ofSeq_2 } from \"../fable-library.4.2.2/Set.js\";\r\n\r\nexport function Helpers_isUndefined(o) {\r\n    return (typeof o) === \"undefined\";\r\n}\r\n\r\nfunction genericMsg(msg, value_1, newLine) {\r\n    try {\r\n        return (((\"Expecting \" + msg) + \" but instead got:\") + (newLine ? \"\\n\" : \" \")) + (JSON.stringify(value_1, null, 4) + '');\r\n    }\r\n    catch (matchValue) {\r\n        return ((\"Expecting \" + msg) + \" but decoder failed. Couldn\\'t report given value due to circular structure.\") + (newLine ? \"\\n\" : \" \");\r\n    }\r\n}\r\n\r\nfunction errorToString(path, error) {\r\n    const reason_1 = (error.tag === 2) ? genericMsg(error.fields[0], error.fields[1], true) : ((error.tag === 1) ? ((genericMsg(error.fields[0], error.fields[1], false) + \"\\nReason: \") + error.fields[2]) : ((error.tag === 3) ? genericMsg(error.fields[0], error.fields[1], true) : ((error.tag === 4) ? (genericMsg(error.fields[0], error.fields[1], true) + ((\"\\nNode `\" + error.fields[2]) + \"` is unkown.\")) : ((error.tag === 5) ? (((\"Expecting \" + error.fields[0]) + \".\\n\") + (JSON.stringify(error.fields[1], null, 4) + '')) : ((error.tag === 7) ? (\"The following errors were found:\\n\\n\" + join(\"\\n\\n\", error.fields[0])) : ((error.tag === 6) ? (\"The following `failure` occurred with the decoder: \" + error.fields[0]) : genericMsg(error.fields[0], error.fields[1], false)))))));\r\n    if (error.tag === 7) {\r\n        return reason_1;\r\n    }\r\n    else {\r\n        return ((\"Error at: `\" + path) + \"`\\n\") + reason_1;\r\n    }\r\n}\r\n\r\nexport function fromValue(path, decoder, value_1) {\r\n    const matchValue = decoder(path, value_1);\r\n    if (matchValue.tag === 1) {\r\n        const error = matchValue.fields[0];\r\n        return new FSharpResult$2(1, [errorToString(error[0], error[1])]);\r\n    }\r\n    else {\r\n        return new FSharpResult$2(0, [matchValue.fields[0]]);\r\n    }\r\n}\r\n\r\nexport function fromString(decoder, value_1) {\r\n    try {\r\n        return fromValue(\"$\", decoder, JSON.parse(value_1));\r\n    }\r\n    catch (matchValue) {\r\n        if (matchValue instanceof SyntaxError) {\r\n            return new FSharpResult$2(1, [\"Given an invalid JSON: \" + matchValue.message]);\r\n        }\r\n        else {\r\n            throw matchValue;\r\n        }\r\n    }\r\n}\r\n\r\nexport function unsafeFromString(decoder, value_1) {\r\n    const matchValue = fromString(decoder, value_1);\r\n    if (matchValue.tag === 1) {\r\n        throw new Error(matchValue.fields[0]);\r\n    }\r\n    else {\r\n        return matchValue.fields[0];\r\n    }\r\n}\r\n\r\nexport function decodeValue(path, decoder) {\r\n    const decoder_1 = decoder;\r\n    return (value_1) => fromValue(path, decoder_1, value_1);\r\n}\r\n\r\nexport function decodeString(decoder) {\r\n    const decoder_1 = decoder;\r\n    return (value_1) => fromString(decoder_1, value_1);\r\n}\r\n\r\nexport function string(path, value_1) {\r\n    if (typeof value_1 === \"string\") {\r\n        return new FSharpResult$2(0, [value_1]);\r\n    }\r\n    else {\r\n        return new FSharpResult$2(1, [[path, new ErrorReason(0, [\"a string\", value_1])]]);\r\n    }\r\n}\r\n\r\nexport function guid(path, value_1) {\r\n    if (typeof value_1 === \"string\") {\r\n        let matchValue;\r\n        let outArg = \"00000000-0000-0000-0000-000000000000\";\r\n        matchValue = [tryParse_2(value_1, new FSharpRef(() => outArg, (v) => {\r\n            outArg = v;\r\n        })), outArg];\r\n        if (matchValue[0]) {\r\n            return new FSharpResult$2(0, [matchValue[1]]);\r\n        }\r\n        else {\r\n            return new FSharpResult$2(1, [[path, new ErrorReason(0, [\"a guid\", value_1])]]);\r\n        }\r\n    }\r\n    else {\r\n        return new FSharpResult$2(1, [[path, new ErrorReason(0, [\"a guid\", value_1])]]);\r\n    }\r\n}\r\n\r\nexport function unit(path, value_1) {\r\n    if (value_1 == null) {\r\n        return new FSharpResult$2(0, [void 0]);\r\n    }\r\n    else {\r\n        return new FSharpResult$2(1, [[path, new ErrorReason(0, [\"null\", value_1])]]);\r\n    }\r\n}\r\n\r\nexport const sbyte = (path) => ((value_2) => {\r\n    const path_1 = path;\r\n    const value_3 = value_2;\r\n    if ((typeof value_3) === \"number\") {\r\n        const value_1_1 = value_3;\r\n        return (isFinite(value_1_1) && Math.floor(value_1_1) === value_1_1) ? (((-128 <= value_1_1) && (value_1_1 <= 127)) ? (new FSharpResult$2(0, [(value_1_1 + 0x80 & 0xFF) - 0x80])) : (new FSharpResult$2(1, [[path_1, new ErrorReason(1, [\"a sbyte\", value_1_1, \"Value was either too large or too small for a sbyte\"])]]))) : (new FSharpResult$2(1, [[path_1, new ErrorReason(1, [\"a sbyte\", value_1_1, \"Value is not an integral value\"])]]));\r\n    }\r\n    else if (typeof value_3 === \"string\") {\r\n        let matchValue;\r\n        let outArg = 0;\r\n        matchValue = [tryParse_3(value_3, 511, false, 8, new FSharpRef(() => outArg, (v) => {\r\n            outArg = (v | 0);\r\n        })), outArg];\r\n        return matchValue[0] ? (new FSharpResult$2(0, [matchValue[1]])) : (new FSharpResult$2(1, [[path_1, new ErrorReason(0, [\"a sbyte\", value_3])]]));\r\n    }\r\n    else {\r\n        return new FSharpResult$2(1, [[path_1, new ErrorReason(0, [\"a sbyte\", value_3])]]);\r\n    }\r\n});\r\n\r\nexport const byte = (path) => ((value_2) => {\r\n    const path_1 = path;\r\n    const value_3 = value_2;\r\n    if ((typeof value_3) === \"number\") {\r\n        const value_1_1 = value_3;\r\n        return (isFinite(value_1_1) && Math.floor(value_1_1) === value_1_1) ? (((0 <= value_1_1) && (value_1_1 <= 255)) ? (new FSharpResult$2(0, [value_1_1 & 0xFF])) : (new FSharpResult$2(1, [[path_1, new ErrorReason(1, [\"a byte\", value_1_1, \"Value was either too large or too small for a byte\"])]]))) : (new FSharpResult$2(1, [[path_1, new ErrorReason(1, [\"a byte\", value_1_1, \"Value is not an integral value\"])]]));\r\n    }\r\n    else if (typeof value_3 === \"string\") {\r\n        let matchValue;\r\n        let outArg = 0;\r\n        matchValue = [tryParse_3(value_3, 511, true, 8, new FSharpRef(() => outArg, (v) => {\r\n            outArg = v;\r\n        })), outArg];\r\n        return matchValue[0] ? (new FSharpResult$2(0, [matchValue[1]])) : (new FSharpResult$2(1, [[path_1, new ErrorReason(0, [\"a byte\", value_3])]]));\r\n    }\r\n    else {\r\n        return new FSharpResult$2(1, [[path_1, new ErrorReason(0, [\"a byte\", value_3])]]);\r\n    }\r\n});\r\n\r\nexport const int16 = (path) => ((value_2) => {\r\n    const path_1 = path;\r\n    const value_3 = value_2;\r\n    if ((typeof value_3) === \"number\") {\r\n        const value_1_1 = value_3;\r\n        return (isFinite(value_1_1) && Math.floor(value_1_1) === value_1_1) ? (((-32768 <= value_1_1) && (value_1_1 <= 32767)) ? (new FSharpResult$2(0, [(value_1_1 + 0x8000 & 0xFFFF) - 0x8000])) : (new FSharpResult$2(1, [[path_1, new ErrorReason(1, [\"an int16\", value_1_1, \"Value was either too large or too small for an int16\"])]]))) : (new FSharpResult$2(1, [[path_1, new ErrorReason(1, [\"an int16\", value_1_1, \"Value is not an integral value\"])]]));\r\n    }\r\n    else if (typeof value_3 === \"string\") {\r\n        let matchValue;\r\n        let outArg = 0;\r\n        matchValue = [tryParse_3(value_3, 511, false, 16, new FSharpRef(() => outArg, (v) => {\r\n            outArg = (v | 0);\r\n        })), outArg];\r\n        return matchValue[0] ? (new FSharpResult$2(0, [matchValue[1]])) : (new FSharpResult$2(1, [[path_1, new ErrorReason(0, [\"an int16\", value_3])]]));\r\n    }\r\n    else {\r\n        return new FSharpResult$2(1, [[path_1, new ErrorReason(0, [\"an int16\", value_3])]]);\r\n    }\r\n});\r\n\r\nexport const uint16 = (path) => ((value_2) => {\r\n    const path_1 = path;\r\n    const value_3 = value_2;\r\n    if ((typeof value_3) === \"number\") {\r\n        const value_1_1 = value_3;\r\n        return (isFinite(value_1_1) && Math.floor(value_1_1) === value_1_1) ? (((0 <= value_1_1) && (value_1_1 <= 65535)) ? (new FSharpResult$2(0, [value_1_1 & 0xFFFF])) : (new FSharpResult$2(1, [[path_1, new ErrorReason(1, [\"an uint16\", value_1_1, \"Value was either too large or too small for an uint16\"])]]))) : (new FSharpResult$2(1, [[path_1, new ErrorReason(1, [\"an uint16\", value_1_1, \"Value is not an integral value\"])]]));\r\n    }\r\n    else if (typeof value_3 === \"string\") {\r\n        let matchValue;\r\n        let outArg = 0;\r\n        matchValue = [tryParse_3(value_3, 511, true, 16, new FSharpRef(() => outArg, (v) => {\r\n            outArg = v;\r\n        })), outArg];\r\n        return matchValue[0] ? (new FSharpResult$2(0, [matchValue[1]])) : (new FSharpResult$2(1, [[path_1, new ErrorReason(0, [\"an uint16\", value_3])]]));\r\n    }\r\n    else {\r\n        return new FSharpResult$2(1, [[path_1, new ErrorReason(0, [\"an uint16\", value_3])]]);\r\n    }\r\n});\r\n\r\nexport const int = (path) => ((value_2) => {\r\n    const path_1 = path;\r\n    const value_3 = value_2;\r\n    if ((typeof value_3) === \"number\") {\r\n        const value_1_1 = value_3;\r\n        return (isFinite(value_1_1) && Math.floor(value_1_1) === value_1_1) ? (((-2147483648 <= value_1_1) && (value_1_1 <= 2147483647)) ? (new FSharpResult$2(0, [~~value_1_1])) : (new FSharpResult$2(1, [[path_1, new ErrorReason(1, [\"an int\", value_1_1, \"Value was either too large or too small for an int\"])]]))) : (new FSharpResult$2(1, [[path_1, new ErrorReason(1, [\"an int\", value_1_1, \"Value is not an integral value\"])]]));\r\n    }\r\n    else if (typeof value_3 === \"string\") {\r\n        let matchValue;\r\n        let outArg = 0;\r\n        matchValue = [tryParse_3(value_3, 511, false, 32, new FSharpRef(() => outArg, (v) => {\r\n            outArg = (v | 0);\r\n        })), outArg];\r\n        return matchValue[0] ? (new FSharpResult$2(0, [matchValue[1]])) : (new FSharpResult$2(1, [[path_1, new ErrorReason(0, [\"an int\", value_3])]]));\r\n    }\r\n    else {\r\n        return new FSharpResult$2(1, [[path_1, new ErrorReason(0, [\"an int\", value_3])]]);\r\n    }\r\n});\r\n\r\nexport const uint32 = (path) => ((value_2) => {\r\n    const path_1 = path;\r\n    const value_3 = value_2;\r\n    if ((typeof value_3) === \"number\") {\r\n        const value_1_1 = value_3;\r\n        return (isFinite(value_1_1) && Math.floor(value_1_1) === value_1_1) ? (((0 <= value_1_1) && (value_1_1 <= 4294967295)) ? (new FSharpResult$2(0, [value_1_1 >>> 0])) : (new FSharpResult$2(1, [[path_1, new ErrorReason(1, [\"an uint32\", value_1_1, \"Value was either too large or too small for an uint32\"])]]))) : (new FSharpResult$2(1, [[path_1, new ErrorReason(1, [\"an uint32\", value_1_1, \"Value is not an integral value\"])]]));\r\n    }\r\n    else if (typeof value_3 === \"string\") {\r\n        let matchValue;\r\n        let outArg = 0;\r\n        matchValue = [tryParse_3(value_3, 511, true, 32, new FSharpRef(() => outArg, (v) => {\r\n            outArg = v;\r\n        })), outArg];\r\n        return matchValue[0] ? (new FSharpResult$2(0, [matchValue[1]])) : (new FSharpResult$2(1, [[path_1, new ErrorReason(0, [\"an uint32\", value_3])]]));\r\n    }\r\n    else {\r\n        return new FSharpResult$2(1, [[path_1, new ErrorReason(0, [\"an uint32\", value_3])]]);\r\n    }\r\n});\r\n\r\nexport const int64 = (path) => ((value_2) => {\r\n    const path_1 = path;\r\n    const value_3 = value_2;\r\n    if ((typeof value_3) === \"number\") {\r\n        const value_1_1 = value_3;\r\n        return (isFinite(value_1_1) && Math.floor(value_1_1) === value_1_1) ? (((toFloat64(-9223372036854775808n) <= value_1_1) && (value_1_1 <= toFloat64(9223372036854775807n))) ? (new FSharpResult$2(0, [toInt64(fromFloat64(value_1_1))])) : (new FSharpResult$2(1, [[path_1, new ErrorReason(1, [\"an int64\", value_1_1, \"Value was either too large or too small for an int64\"])]]))) : (new FSharpResult$2(1, [[path_1, new ErrorReason(1, [\"an int64\", value_1_1, \"Value is not an integral value\"])]]));\r\n    }\r\n    else if (typeof value_3 === \"string\") {\r\n        let matchValue;\r\n        let outArg = 0n;\r\n        matchValue = [tryParse_4(value_3, 511, false, 64, new FSharpRef(() => outArg, (v) => {\r\n            outArg = v;\r\n        })), outArg];\r\n        return matchValue[0] ? (new FSharpResult$2(0, [matchValue[1]])) : (new FSharpResult$2(1, [[path_1, new ErrorReason(0, [\"an int64\", value_3])]]));\r\n    }\r\n    else {\r\n        return new FSharpResult$2(1, [[path_1, new ErrorReason(0, [\"an int64\", value_3])]]);\r\n    }\r\n});\r\n\r\nexport const uint64 = (path) => ((value_2) => {\r\n    const path_1 = path;\r\n    const value_3 = value_2;\r\n    if ((typeof value_3) === \"number\") {\r\n        const value_1_1 = value_3;\r\n        return (isFinite(value_1_1) && Math.floor(value_1_1) === value_1_1) ? (((toFloat64(0n) <= value_1_1) && (value_1_1 <= toFloat64(18446744073709551615n))) ? (new FSharpResult$2(0, [toUInt64(fromFloat64(value_1_1))])) : (new FSharpResult$2(1, [[path_1, new ErrorReason(1, [\"an uint64\", value_1_1, \"Value was either too large or too small for an uint64\"])]]))) : (new FSharpResult$2(1, [[path_1, new ErrorReason(1, [\"an uint64\", value_1_1, \"Value is not an integral value\"])]]));\r\n    }\r\n    else if (typeof value_3 === \"string\") {\r\n        let matchValue;\r\n        let outArg = 0n;\r\n        matchValue = [tryParse_4(value_3, 511, true, 64, new FSharpRef(() => outArg, (v) => {\r\n            outArg = v;\r\n        })), outArg];\r\n        return matchValue[0] ? (new FSharpResult$2(0, [matchValue[1]])) : (new FSharpResult$2(1, [[path_1, new ErrorReason(0, [\"an uint64\", value_3])]]));\r\n    }\r\n    else {\r\n        return new FSharpResult$2(1, [[path_1, new ErrorReason(0, [\"an uint64\", value_3])]]);\r\n    }\r\n});\r\n\r\nexport function bigint(path, value_1) {\r\n    if ((typeof value_1) === \"number\") {\r\n        return new FSharpResult$2(0, [fromInt32(value_1)]);\r\n    }\r\n    else if (typeof value_1 === \"string\") {\r\n        try {\r\n            return new FSharpResult$2(0, [parse(value_1)]);\r\n        }\r\n        catch (matchValue) {\r\n            return new FSharpResult$2(1, [[path, new ErrorReason(0, [\"a bigint\", value_1])]]);\r\n        }\r\n    }\r\n    else {\r\n        return new FSharpResult$2(1, [[path, new ErrorReason(0, [\"a bigint\", value_1])]]);\r\n    }\r\n}\r\n\r\nexport function bool(path, value_1) {\r\n    if (typeof value_1 === \"boolean\") {\r\n        return new FSharpResult$2(0, [value_1]);\r\n    }\r\n    else {\r\n        return new FSharpResult$2(1, [[path, new ErrorReason(0, [\"a boolean\", value_1])]]);\r\n    }\r\n}\r\n\r\nexport function float(path, value_1) {\r\n    if ((typeof value_1) === \"number\") {\r\n        return new FSharpResult$2(0, [value_1]);\r\n    }\r\n    else {\r\n        return new FSharpResult$2(1, [[path, new ErrorReason(0, [\"a float\", value_1])]]);\r\n    }\r\n}\r\n\r\nexport function float32(path, value_1) {\r\n    if ((typeof value_1) === \"number\") {\r\n        return new FSharpResult$2(0, [value_1]);\r\n    }\r\n    else {\r\n        return new FSharpResult$2(1, [[path, new ErrorReason(0, [\"a float32\", value_1])]]);\r\n    }\r\n}\r\n\r\nexport function decimal(path, value_1) {\r\n    if ((typeof value_1) === \"number\") {\r\n        return new FSharpResult$2(0, [new Decimal(value_1)]);\r\n    }\r\n    else if (typeof value_1 === \"string\") {\r\n        let matchValue;\r\n        let outArg = new Decimal(\"0\");\r\n        matchValue = [tryParse_5(value_1, new FSharpRef(() => outArg, (v) => {\r\n            outArg = v;\r\n        })), outArg];\r\n        if (matchValue[0]) {\r\n            return new FSharpResult$2(0, [matchValue[1]]);\r\n        }\r\n        else {\r\n            return new FSharpResult$2(1, [[path, new ErrorReason(0, [\"a decimal\", value_1])]]);\r\n        }\r\n    }\r\n    else {\r\n        return new FSharpResult$2(1, [[path, new ErrorReason(0, [\"a decimal\", value_1])]]);\r\n    }\r\n}\r\n\r\nexport function datetime(path, value_1) {\r\n    if (typeof value_1 === \"string\") {\r\n        let matchValue;\r\n        let outArg = minValue();\r\n        matchValue = [tryParse_6(value_1, new FSharpRef(() => outArg, (v) => {\r\n            outArg = v;\r\n        })), outArg];\r\n        if (matchValue[0]) {\r\n            return new FSharpResult$2(0, [toUniversalTime(matchValue[1])]);\r\n        }\r\n        else {\r\n            return new FSharpResult$2(1, [[path, new ErrorReason(0, [\"a datetime\", value_1])]]);\r\n        }\r\n    }\r\n    else {\r\n        return new FSharpResult$2(1, [[path, new ErrorReason(0, [\"a datetime\", value_1])]]);\r\n    }\r\n}\r\n\r\nexport function datetimeOffset(path, value_1) {\r\n    if (typeof value_1 === \"string\") {\r\n        let matchValue;\r\n        let outArg = minValue_1();\r\n        matchValue = [tryParse_7(value_1, new FSharpRef(() => outArg, (v) => {\r\n            outArg = v;\r\n        })), outArg];\r\n        if (matchValue[0]) {\r\n            return new FSharpResult$2(0, [matchValue[1]]);\r\n        }\r\n        else {\r\n            return new FSharpResult$2(1, [[path, new ErrorReason(0, [\"a datetimeoffset\", value_1])]]);\r\n        }\r\n    }\r\n    else {\r\n        return new FSharpResult$2(1, [[path, new ErrorReason(0, [\"a datetime\", value_1])]]);\r\n    }\r\n}\r\n\r\nexport function timespan(path, value_1) {\r\n    if (typeof value_1 === \"string\") {\r\n        let matchValue;\r\n        let outArg = 0;\r\n        matchValue = [tryParse_8(value_1, new FSharpRef(() => outArg, (v) => {\r\n            outArg = v;\r\n        })), outArg];\r\n        if (matchValue[0]) {\r\n            return new FSharpResult$2(0, [matchValue[1]]);\r\n        }\r\n        else {\r\n            return new FSharpResult$2(1, [[path, new ErrorReason(0, [\"a timespan\", value_1])]]);\r\n        }\r\n    }\r\n    else {\r\n        return new FSharpResult$2(1, [[path, new ErrorReason(0, [\"a timespan\", value_1])]]);\r\n    }\r\n}\r\n\r\nfunction decodeMaybeNull(path, decoder, value_1) {\r\n    const matchValue = decoder(path, value_1);\r\n    if (matchValue.tag === 1) {\r\n        if (value_1 == null) {\r\n            return new FSharpResult$2(0, [void 0]);\r\n        }\r\n        else {\r\n            return new FSharpResult$2(1, [matchValue.fields[0]]);\r\n        }\r\n    }\r\n    else {\r\n        return new FSharpResult$2(0, [some(matchValue.fields[0])]);\r\n    }\r\n}\r\n\r\nexport function optional(fieldName, decoder, path, value_1) {\r\n    if (value_1 === null ? false : (Object.getPrototypeOf(value_1 || false) === Object.prototype)) {\r\n        const fieldValue = value_1[fieldName];\r\n        if (Helpers_isUndefined(fieldValue)) {\r\n            return new FSharpResult$2(0, [void 0]);\r\n        }\r\n        else {\r\n            return decodeMaybeNull((path + \".\") + fieldName, decoder, fieldValue);\r\n        }\r\n    }\r\n    else {\r\n        return new FSharpResult$2(1, [[path, new ErrorReason(2, [\"an object\", value_1])]]);\r\n    }\r\n}\r\n\r\nfunction badPathError(fieldNames, currentPath, value_1) {\r\n    return new FSharpResult$2(1, [[defaultArg(currentPath, join(\".\", cons(\"$\", fieldNames))), new ErrorReason(4, [(\"an object with path `\" + join(\".\", fieldNames)) + \"`\", value_1, defaultArg(tryLast(fieldNames), \"\")])]]);\r\n}\r\n\r\nexport function optionalAt(fieldNames, decoder, firstPath, firstValue) {\r\n    const _arg = fold((tupledArg, field_1) => {\r\n        const curPath = tupledArg[0];\r\n        const curValue = tupledArg[1];\r\n        const res = tupledArg[2];\r\n        if (res == null) {\r\n            if (curValue == null) {\r\n                return [curPath, curValue, new FSharpResult$2(0, [void 0])];\r\n            }\r\n            else if (curValue === null ? false : (Object.getPrototypeOf(curValue || false) === Object.prototype)) {\r\n                return [(curPath + \".\") + field_1, curValue[field_1], void 0];\r\n            }\r\n            else {\r\n                return [curPath, curValue, new FSharpResult$2(1, [[curPath, new ErrorReason(2, [\"an object\", curValue])]])];\r\n            }\r\n        }\r\n        else {\r\n            return [curPath, curValue, res];\r\n        }\r\n    }, [firstPath, firstValue, void 0], fieldNames);\r\n    if (_arg[2] == null) {\r\n        const lastValue = _arg[1];\r\n        if (Helpers_isUndefined(lastValue)) {\r\n            return new FSharpResult$2(0, [void 0]);\r\n        }\r\n        else {\r\n            return decodeMaybeNull(_arg[0], decoder, lastValue);\r\n        }\r\n    }\r\n    else {\r\n        return _arg[2];\r\n    }\r\n}\r\n\r\nexport function field(fieldName, decoder, path, value_1) {\r\n    if (value_1 === null ? false : (Object.getPrototypeOf(value_1 || false) === Object.prototype)) {\r\n        const fieldValue = value_1[fieldName];\r\n        if (Helpers_isUndefined(fieldValue)) {\r\n            return new FSharpResult$2(1, [[path, new ErrorReason(3, [(\"an object with a field named `\" + fieldName) + \"`\", value_1])]]);\r\n        }\r\n        else {\r\n            return decoder((path + \".\") + fieldName, fieldValue);\r\n        }\r\n    }\r\n    else {\r\n        return new FSharpResult$2(1, [[path, new ErrorReason(2, [\"an object\", value_1])]]);\r\n    }\r\n}\r\n\r\nexport function at(fieldNames, decoder, firstPath, firstValue) {\r\n    const _arg = fold((tupledArg, field_1) => {\r\n        const curPath = tupledArg[0];\r\n        const curValue = tupledArg[1];\r\n        const res = tupledArg[2];\r\n        if (res == null) {\r\n            if (curValue == null) {\r\n                return [curPath, curValue, badPathError(fieldNames, curPath, firstValue)];\r\n            }\r\n            else if (curValue === null ? false : (Object.getPrototypeOf(curValue || false) === Object.prototype)) {\r\n                const curValue_1 = curValue[field_1];\r\n                if (Helpers_isUndefined(curValue_1)) {\r\n                    return [curPath, curValue_1, badPathError(fieldNames, void 0, firstValue)];\r\n                }\r\n                else {\r\n                    return [(curPath + \".\") + field_1, curValue_1, void 0];\r\n                }\r\n            }\r\n            else {\r\n                return [curPath, curValue, new FSharpResult$2(1, [[curPath, new ErrorReason(2, [\"an object\", curValue])]])];\r\n            }\r\n        }\r\n        else {\r\n            return [curPath, curValue, res];\r\n        }\r\n    }, [firstPath, firstValue, void 0], fieldNames);\r\n    if (_arg[2] == null) {\r\n        return decoder(_arg[0], _arg[1]);\r\n    }\r\n    else {\r\n        return _arg[2];\r\n    }\r\n}\r\n\r\nexport function index(requestedIndex, decoder, path, value_1) {\r\n    let copyOfStruct;\r\n    const currentPath = ((path + \".[\") + int32ToString(requestedIndex)) + \"]\";\r\n    if (Array.isArray(value_1)) {\r\n        const vArray = value_1;\r\n        if (requestedIndex < vArray.length) {\r\n            return decoder(currentPath, vArray[requestedIndex]);\r\n        }\r\n        else {\r\n            return new FSharpResult$2(1, [[currentPath, new ErrorReason(5, [(((\"a longer array. Need index `\" + int32ToString(requestedIndex)) + \"` but there are only `\") + ((copyOfStruct = vArray.length, int32ToString(copyOfStruct)))) + \"` entries\", value_1])]]);\r\n        }\r\n    }\r\n    else {\r\n        return new FSharpResult$2(1, [[currentPath, new ErrorReason(0, [\"an array\", value_1])]]);\r\n    }\r\n}\r\n\r\nexport function option(decoder, path, value_1) {\r\n    if (value_1 == null) {\r\n        return new FSharpResult$2(0, [void 0]);\r\n    }\r\n    else {\r\n        return Result_Map(some, decoder(path, value_1));\r\n    }\r\n}\r\n\r\nexport function list(decoder, path, value_1) {\r\n    if (Array.isArray(value_1)) {\r\n        let i = -1;\r\n        return Result_Map(reverse, fold_1((acc, value_2) => {\r\n            i = ((i + 1) | 0);\r\n            if (acc.tag === 0) {\r\n                const matchValue = decoder(((path + \".[\") + int32ToString(i)) + \"]\", value_2);\r\n                if (matchValue.tag === 0) {\r\n                    return new FSharpResult$2(0, [cons(matchValue.fields[0], acc.fields[0])]);\r\n                }\r\n                else {\r\n                    return new FSharpResult$2(1, [matchValue.fields[0]]);\r\n                }\r\n            }\r\n            else {\r\n                return acc;\r\n            }\r\n        }, new FSharpResult$2(0, [empty()]), value_1));\r\n    }\r\n    else {\r\n        return new FSharpResult$2(1, [[path, new ErrorReason(0, [\"a list\", value_1])]]);\r\n    }\r\n}\r\n\r\nexport function seq(decoder, path, value_1) {\r\n    if (Array.isArray(value_1)) {\r\n        let i = -1;\r\n        return Result_Map(reverse_1, fold_1((acc, value_2) => {\r\n            i = ((i + 1) | 0);\r\n            if (acc.tag === 0) {\r\n                const matchValue = decoder(((path + \".[\") + int32ToString(i)) + \"]\", value_2);\r\n                if (matchValue.tag === 0) {\r\n                    return new FSharpResult$2(0, [append([matchValue.fields[0]], acc.fields[0])]);\r\n                }\r\n                else {\r\n                    return new FSharpResult$2(1, [matchValue.fields[0]]);\r\n                }\r\n            }\r\n            else {\r\n                return acc;\r\n            }\r\n        }, new FSharpResult$2(0, [[]]), value_1));\r\n    }\r\n    else {\r\n        return new FSharpResult$2(1, [[path, new ErrorReason(0, [\"a seq\", value_1])]]);\r\n    }\r\n}\r\n\r\nexport function array(decoder, path, value_1) {\r\n    if (Array.isArray(value_1)) {\r\n        let i = -1;\r\n        const tokens = value_1;\r\n        return fold_1((acc, value_2) => {\r\n            i = ((i + 1) | 0);\r\n            if (acc.tag === 0) {\r\n                const acc_1 = acc.fields[0];\r\n                const matchValue = decoder(((path + \".[\") + int32ToString(i)) + \"]\", value_2);\r\n                if (matchValue.tag === 0) {\r\n                    acc_1[i] = matchValue.fields[0];\r\n                    return new FSharpResult$2(0, [acc_1]);\r\n                }\r\n                else {\r\n                    return new FSharpResult$2(1, [matchValue.fields[0]]);\r\n                }\r\n            }\r\n            else {\r\n                return acc;\r\n            }\r\n        }, new FSharpResult$2(0, [fill(new Array(tokens.length), 0, tokens.length, null)]), tokens);\r\n    }\r\n    else {\r\n        return new FSharpResult$2(1, [[path, new ErrorReason(0, [\"an array\", value_1])]]);\r\n    }\r\n}\r\n\r\nexport function keys(path, value_1) {\r\n    if (value_1 === null ? false : (Object.getPrototypeOf(value_1 || false) === Object.prototype)) {\r\n        return new FSharpResult$2(0, [ofSeq(Object.keys(value_1))]);\r\n    }\r\n    else {\r\n        return new FSharpResult$2(1, [[path, new ErrorReason(0, [\"an object\", value_1])]]);\r\n    }\r\n}\r\n\r\nexport function keyValuePairs(decoder, path, value_1) {\r\n    const matchValue = keys(path, value_1);\r\n    if (matchValue.tag === 1) {\r\n        return new FSharpResult$2(1, [matchValue.fields[0]]);\r\n    }\r\n    else {\r\n        return Result_Map(reverse, fold((acc, prop) => {\r\n            if (acc.tag === 0) {\r\n                const matchValue_1 = decoder(path, value_1[prop]);\r\n                if (matchValue_1.tag === 0) {\r\n                    return new FSharpResult$2(0, [cons([prop, matchValue_1.fields[0]], acc.fields[0])]);\r\n                }\r\n                else {\r\n                    return new FSharpResult$2(1, [matchValue_1.fields[0]]);\r\n                }\r\n            }\r\n            else {\r\n                return acc;\r\n            }\r\n        }, new FSharpResult$2(0, [empty()]), matchValue.fields[0]));\r\n    }\r\n}\r\n\r\nexport function oneOf(decoders, path, value_1) {\r\n    const runner = (decoders_1_mut, errors_mut) => {\r\n        runner:\r\n        while (true) {\r\n            const decoders_1 = decoders_1_mut, errors = errors_mut;\r\n            if (isEmpty(decoders_1)) {\r\n                return new FSharpResult$2(1, [[path, new ErrorReason(7, [errors])]]);\r\n            }\r\n            else {\r\n                const matchValue = fromValue(path, uncurry2(head_1(decoders_1)), value_1);\r\n                if (matchValue.tag === 1) {\r\n                    decoders_1_mut = tail_1(decoders_1);\r\n                    errors_mut = append_1(errors, singleton(matchValue.fields[0]));\r\n                    continue runner;\r\n                }\r\n                else {\r\n                    return new FSharpResult$2(0, [matchValue.fields[0]]);\r\n                }\r\n            }\r\n            break;\r\n        }\r\n    };\r\n    return runner(decoders, empty());\r\n}\r\n\r\nexport function nil(output, path, value_1) {\r\n    if (value_1 == null) {\r\n        return new FSharpResult$2(0, [output]);\r\n    }\r\n    else {\r\n        return new FSharpResult$2(1, [[path, new ErrorReason(0, [\"null\", value_1])]]);\r\n    }\r\n}\r\n\r\nexport function value(_arg, v) {\r\n    return new FSharpResult$2(0, [v]);\r\n}\r\n\r\nexport function succeed(output, _arg, _arg_1) {\r\n    return new FSharpResult$2(0, [output]);\r\n}\r\n\r\nexport function fail(msg, path, _arg) {\r\n    return new FSharpResult$2(1, [[path, new ErrorReason(6, [msg])]]);\r\n}\r\n\r\nexport function andThen(cb, decoder, path, value_1) {\r\n    const matchValue = decoder(path, value_1);\r\n    if (matchValue.tag === 0) {\r\n        return cb(matchValue.fields[0], path, value_1);\r\n    }\r\n    else {\r\n        return new FSharpResult$2(1, [matchValue.fields[0]]);\r\n    }\r\n}\r\n\r\nexport function all(decoders, path, value_1) {\r\n    const runner = (decoders_1_mut, values_mut) => {\r\n        runner:\r\n        while (true) {\r\n            const decoders_1 = decoders_1_mut, values = values_mut;\r\n            if (isEmpty(decoders_1)) {\r\n                return new FSharpResult$2(0, [values]);\r\n            }\r\n            else {\r\n                const matchValue = head_1(decoders_1)(path)(value_1);\r\n                if (matchValue.tag === 1) {\r\n                    return new FSharpResult$2(1, [matchValue.fields[0]]);\r\n                }\r\n                else {\r\n                    decoders_1_mut = tail_1(decoders_1);\r\n                    values_mut = append_1(values, singleton(matchValue.fields[0]));\r\n                    continue runner;\r\n                }\r\n            }\r\n            break;\r\n        }\r\n    };\r\n    return runner(decoders, empty());\r\n}\r\n\r\nexport function map(ctor, d1, path, value_1) {\r\n    const matchValue = d1(path, value_1);\r\n    if (matchValue.tag === 1) {\r\n        return new FSharpResult$2(1, [matchValue.fields[0]]);\r\n    }\r\n    else {\r\n        return new FSharpResult$2(0, [ctor(matchValue.fields[0])]);\r\n    }\r\n}\r\n\r\nexport function map2(ctor, d1, d2, path, value_1) {\r\n    const matchValue = d1(path, value_1);\r\n    const matchValue_1 = d2(path, value_1);\r\n    const copyOfStruct = matchValue;\r\n    if (copyOfStruct.tag === 1) {\r\n        return new FSharpResult$2(1, [copyOfStruct.fields[0]]);\r\n    }\r\n    else {\r\n        const copyOfStruct_1 = matchValue_1;\r\n        if (copyOfStruct_1.tag === 1) {\r\n            return new FSharpResult$2(1, [copyOfStruct_1.fields[0]]);\r\n        }\r\n        else {\r\n            return new FSharpResult$2(0, [ctor(copyOfStruct.fields[0], copyOfStruct_1.fields[0])]);\r\n        }\r\n    }\r\n}\r\n\r\nexport function map3(ctor, d1, d2, d3, path, value_1) {\r\n    const matchValue = d1(path, value_1);\r\n    const matchValue_1 = d2(path, value_1);\r\n    const matchValue_2 = d3(path, value_1);\r\n    const copyOfStruct = matchValue;\r\n    if (copyOfStruct.tag === 1) {\r\n        return new FSharpResult$2(1, [copyOfStruct.fields[0]]);\r\n    }\r\n    else {\r\n        const copyOfStruct_1 = matchValue_1;\r\n        if (copyOfStruct_1.tag === 1) {\r\n            return new FSharpResult$2(1, [copyOfStruct_1.fields[0]]);\r\n        }\r\n        else {\r\n            const copyOfStruct_2 = matchValue_2;\r\n            if (copyOfStruct_2.tag === 1) {\r\n                return new FSharpResult$2(1, [copyOfStruct_2.fields[0]]);\r\n            }\r\n            else {\r\n                return new FSharpResult$2(0, [ctor(copyOfStruct.fields[0], copyOfStruct_1.fields[0], copyOfStruct_2.fields[0])]);\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport function map4(ctor, d1, d2, d3, d4, path, value_1) {\r\n    const matchValue = d1(path, value_1);\r\n    const matchValue_1 = d2(path, value_1);\r\n    const matchValue_2 = d3(path, value_1);\r\n    const matchValue_3 = d4(path, value_1);\r\n    const copyOfStruct = matchValue;\r\n    if (copyOfStruct.tag === 1) {\r\n        return new FSharpResult$2(1, [copyOfStruct.fields[0]]);\r\n    }\r\n    else {\r\n        const copyOfStruct_1 = matchValue_1;\r\n        if (copyOfStruct_1.tag === 1) {\r\n            return new FSharpResult$2(1, [copyOfStruct_1.fields[0]]);\r\n        }\r\n        else {\r\n            const copyOfStruct_2 = matchValue_2;\r\n            if (copyOfStruct_2.tag === 1) {\r\n                return new FSharpResult$2(1, [copyOfStruct_2.fields[0]]);\r\n            }\r\n            else {\r\n                const copyOfStruct_3 = matchValue_3;\r\n                if (copyOfStruct_3.tag === 1) {\r\n                    return new FSharpResult$2(1, [copyOfStruct_3.fields[0]]);\r\n                }\r\n                else {\r\n                    return new FSharpResult$2(0, [ctor(copyOfStruct.fields[0], copyOfStruct_1.fields[0], copyOfStruct_2.fields[0], copyOfStruct_3.fields[0])]);\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport function map5(ctor, d1, d2, d3, d4, d5, path, value_1) {\r\n    const matchValue = d1(path, value_1);\r\n    const matchValue_1 = d2(path, value_1);\r\n    const matchValue_2 = d3(path, value_1);\r\n    const matchValue_3 = d4(path, value_1);\r\n    const matchValue_4 = d5(path, value_1);\r\n    const copyOfStruct = matchValue;\r\n    if (copyOfStruct.tag === 1) {\r\n        return new FSharpResult$2(1, [copyOfStruct.fields[0]]);\r\n    }\r\n    else {\r\n        const copyOfStruct_1 = matchValue_1;\r\n        if (copyOfStruct_1.tag === 1) {\r\n            return new FSharpResult$2(1, [copyOfStruct_1.fields[0]]);\r\n        }\r\n        else {\r\n            const copyOfStruct_2 = matchValue_2;\r\n            if (copyOfStruct_2.tag === 1) {\r\n                return new FSharpResult$2(1, [copyOfStruct_2.fields[0]]);\r\n            }\r\n            else {\r\n                const copyOfStruct_3 = matchValue_3;\r\n                if (copyOfStruct_3.tag === 1) {\r\n                    return new FSharpResult$2(1, [copyOfStruct_3.fields[0]]);\r\n                }\r\n                else {\r\n                    const copyOfStruct_4 = matchValue_4;\r\n                    if (copyOfStruct_4.tag === 1) {\r\n                        return new FSharpResult$2(1, [copyOfStruct_4.fields[0]]);\r\n                    }\r\n                    else {\r\n                        return new FSharpResult$2(0, [ctor(copyOfStruct.fields[0], copyOfStruct_1.fields[0], copyOfStruct_2.fields[0], copyOfStruct_3.fields[0], copyOfStruct_4.fields[0])]);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport function map6(ctor, d1, d2, d3, d4, d5, d6, path, value_1) {\r\n    const matchValue = d1(path, value_1);\r\n    const matchValue_1 = d2(path, value_1);\r\n    const matchValue_2 = d3(path, value_1);\r\n    const matchValue_3 = d4(path, value_1);\r\n    const matchValue_4 = d5(path, value_1);\r\n    const matchValue_5 = d6(path, value_1);\r\n    const copyOfStruct = matchValue;\r\n    if (copyOfStruct.tag === 1) {\r\n        return new FSharpResult$2(1, [copyOfStruct.fields[0]]);\r\n    }\r\n    else {\r\n        const copyOfStruct_1 = matchValue_1;\r\n        if (copyOfStruct_1.tag === 1) {\r\n            return new FSharpResult$2(1, [copyOfStruct_1.fields[0]]);\r\n        }\r\n        else {\r\n            const copyOfStruct_2 = matchValue_2;\r\n            if (copyOfStruct_2.tag === 1) {\r\n                return new FSharpResult$2(1, [copyOfStruct_2.fields[0]]);\r\n            }\r\n            else {\r\n                const copyOfStruct_3 = matchValue_3;\r\n                if (copyOfStruct_3.tag === 1) {\r\n                    return new FSharpResult$2(1, [copyOfStruct_3.fields[0]]);\r\n                }\r\n                else {\r\n                    const copyOfStruct_4 = matchValue_4;\r\n                    if (copyOfStruct_4.tag === 1) {\r\n                        return new FSharpResult$2(1, [copyOfStruct_4.fields[0]]);\r\n                    }\r\n                    else {\r\n                        const copyOfStruct_5 = matchValue_5;\r\n                        if (copyOfStruct_5.tag === 1) {\r\n                            return new FSharpResult$2(1, [copyOfStruct_5.fields[0]]);\r\n                        }\r\n                        else {\r\n                            return new FSharpResult$2(0, [ctor(copyOfStruct.fields[0], copyOfStruct_1.fields[0], copyOfStruct_2.fields[0], copyOfStruct_3.fields[0], copyOfStruct_4.fields[0], copyOfStruct_5.fields[0])]);\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport function map7(ctor, d1, d2, d3, d4, d5, d6, d7, path, value_1) {\r\n    const matchValue = d1(path, value_1);\r\n    const matchValue_1 = d2(path, value_1);\r\n    const matchValue_2 = d3(path, value_1);\r\n    const matchValue_3 = d4(path, value_1);\r\n    const matchValue_4 = d5(path, value_1);\r\n    const matchValue_5 = d6(path, value_1);\r\n    const matchValue_6 = d7(path, value_1);\r\n    const copyOfStruct = matchValue;\r\n    if (copyOfStruct.tag === 1) {\r\n        return new FSharpResult$2(1, [copyOfStruct.fields[0]]);\r\n    }\r\n    else {\r\n        const copyOfStruct_1 = matchValue_1;\r\n        if (copyOfStruct_1.tag === 1) {\r\n            return new FSharpResult$2(1, [copyOfStruct_1.fields[0]]);\r\n        }\r\n        else {\r\n            const copyOfStruct_2 = matchValue_2;\r\n            if (copyOfStruct_2.tag === 1) {\r\n                return new FSharpResult$2(1, [copyOfStruct_2.fields[0]]);\r\n            }\r\n            else {\r\n                const copyOfStruct_3 = matchValue_3;\r\n                if (copyOfStruct_3.tag === 1) {\r\n                    return new FSharpResult$2(1, [copyOfStruct_3.fields[0]]);\r\n                }\r\n                else {\r\n                    const copyOfStruct_4 = matchValue_4;\r\n                    if (copyOfStruct_4.tag === 1) {\r\n                        return new FSharpResult$2(1, [copyOfStruct_4.fields[0]]);\r\n                    }\r\n                    else {\r\n                        const copyOfStruct_5 = matchValue_5;\r\n                        if (copyOfStruct_5.tag === 1) {\r\n                            return new FSharpResult$2(1, [copyOfStruct_5.fields[0]]);\r\n                        }\r\n                        else {\r\n                            const copyOfStruct_6 = matchValue_6;\r\n                            if (copyOfStruct_6.tag === 1) {\r\n                                return new FSharpResult$2(1, [copyOfStruct_6.fields[0]]);\r\n                            }\r\n                            else {\r\n                                return new FSharpResult$2(0, [ctor(copyOfStruct.fields[0], copyOfStruct_1.fields[0], copyOfStruct_2.fields[0], copyOfStruct_3.fields[0], copyOfStruct_4.fields[0], copyOfStruct_5.fields[0], copyOfStruct_6.fields[0])]);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport function map8(ctor, d1, d2, d3, d4, d5, d6, d7, d8, path, value_1) {\r\n    const matchValue = d1(path, value_1);\r\n    const matchValue_1 = d2(path, value_1);\r\n    const matchValue_2 = d3(path, value_1);\r\n    const matchValue_3 = d4(path, value_1);\r\n    const matchValue_4 = d5(path, value_1);\r\n    const matchValue_5 = d6(path, value_1);\r\n    const matchValue_6 = d7(path, value_1);\r\n    const matchValue_7 = d8(path, value_1);\r\n    const copyOfStruct = matchValue;\r\n    if (copyOfStruct.tag === 1) {\r\n        return new FSharpResult$2(1, [copyOfStruct.fields[0]]);\r\n    }\r\n    else {\r\n        const copyOfStruct_1 = matchValue_1;\r\n        if (copyOfStruct_1.tag === 1) {\r\n            return new FSharpResult$2(1, [copyOfStruct_1.fields[0]]);\r\n        }\r\n        else {\r\n            const copyOfStruct_2 = matchValue_2;\r\n            if (copyOfStruct_2.tag === 1) {\r\n                return new FSharpResult$2(1, [copyOfStruct_2.fields[0]]);\r\n            }\r\n            else {\r\n                const copyOfStruct_3 = matchValue_3;\r\n                if (copyOfStruct_3.tag === 1) {\r\n                    return new FSharpResult$2(1, [copyOfStruct_3.fields[0]]);\r\n                }\r\n                else {\r\n                    const copyOfStruct_4 = matchValue_4;\r\n                    if (copyOfStruct_4.tag === 1) {\r\n                        return new FSharpResult$2(1, [copyOfStruct_4.fields[0]]);\r\n                    }\r\n                    else {\r\n                        const copyOfStruct_5 = matchValue_5;\r\n                        if (copyOfStruct_5.tag === 1) {\r\n                            return new FSharpResult$2(1, [copyOfStruct_5.fields[0]]);\r\n                        }\r\n                        else {\r\n                            const copyOfStruct_6 = matchValue_6;\r\n                            if (copyOfStruct_6.tag === 1) {\r\n                                return new FSharpResult$2(1, [copyOfStruct_6.fields[0]]);\r\n                            }\r\n                            else {\r\n                                const copyOfStruct_7 = matchValue_7;\r\n                                if (copyOfStruct_7.tag === 1) {\r\n                                    return new FSharpResult$2(1, [copyOfStruct_7.fields[0]]);\r\n                                }\r\n                                else {\r\n                                    return new FSharpResult$2(0, [ctor(copyOfStruct.fields[0], copyOfStruct_1.fields[0], copyOfStruct_2.fields[0], copyOfStruct_3.fields[0], copyOfStruct_4.fields[0], copyOfStruct_5.fields[0], copyOfStruct_6.fields[0], copyOfStruct_7.fields[0])]);\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport function dict(decoder) {\r\n    let d;\r\n    const decoder_1 = decoder;\r\n    d = ((path) => ((value_1) => keyValuePairs(decoder_1, path, value_1)));\r\n    return (path_1) => ((value_2) => map((elements) => ofList(elements, {\r\n        Compare: comparePrimitives,\r\n    }), uncurry2(d), path_1, value_2));\r\n}\r\n\r\nfunction unwrapWith(errors, path, decoder, value_1) {\r\n    const matchValue = decoder(path, value_1);\r\n    if (matchValue.tag === 1) {\r\n        void (errors.push(matchValue.fields[0]));\r\n        return defaultOf();\r\n    }\r\n    else {\r\n        return matchValue.fields[0];\r\n    }\r\n}\r\n\r\nexport class Getters$1 {\r\n    constructor(path, v) {\r\n        let _this, _this_1;\r\n        this.errors = [];\r\n        this.required = ((_this = this, {\r\n            Field(fieldName, decoder) {\r\n                return unwrapWith(_this.errors, path, (path_1, value_1) => field(fieldName, decoder, path_1, value_1), v);\r\n            },\r\n            At(fieldNames, decoder_2) {\r\n                return unwrapWith(_this.errors, path, (firstPath, firstValue) => at(fieldNames, decoder_2, firstPath, firstValue), v);\r\n            },\r\n            Raw(decoder_4) {\r\n                return unwrapWith(_this.errors, path, decoder_4, v);\r\n            },\r\n        }));\r\n        this.optional = ((_this_1 = this, {\r\n            Field(fieldName_1, decoder_5) {\r\n                return unwrapWith(_this_1.errors, path, (path_2, value_2) => optional(fieldName_1, decoder_5, path_2, value_2), v);\r\n            },\r\n            At(fieldNames_1, decoder_7) {\r\n                return unwrapWith(_this_1.errors, path, (firstPath_1, firstValue_1) => optionalAt(fieldNames_1, decoder_7, firstPath_1, firstValue_1), v);\r\n            },\r\n            Raw(decoder_9) {\r\n                const matchValue = decoder_9(path, v);\r\n                if (matchValue.tag === 1) {\r\n                    const reason = matchValue.fields[0][1];\r\n                    const error = matchValue.fields[0];\r\n                    let matchResult, v_2;\r\n                    switch (reason.tag) {\r\n                        case 3:\r\n                        case 4: {\r\n                            matchResult = 1;\r\n                            break;\r\n                        }\r\n                        case 5:\r\n                        case 6:\r\n                        case 7: {\r\n                            matchResult = 2;\r\n                            break;\r\n                        }\r\n                        case 1: {\r\n                            matchResult = 0;\r\n                            v_2 = reason.fields[1];\r\n                            break;\r\n                        }\r\n                        case 2: {\r\n                            matchResult = 0;\r\n                            v_2 = reason.fields[1];\r\n                            break;\r\n                        }\r\n                        default: {\r\n                            matchResult = 0;\r\n                            v_2 = reason.fields[1];\r\n                        }\r\n                    }\r\n                    switch (matchResult) {\r\n                        case 0:\r\n                            if (v_2 == null) {\r\n                                return void 0;\r\n                            }\r\n                            else {\r\n                                void (_this_1.errors.push(error));\r\n                                return defaultOf();\r\n                            }\r\n                        case 1:\r\n                            return void 0;\r\n                        default: {\r\n                            void (_this_1.errors.push(error));\r\n                            return defaultOf();\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    return some(matchValue.fields[0]);\r\n                }\r\n            },\r\n        }));\r\n    }\r\n    get Required() {\r\n        const __ = this;\r\n        return __.required;\r\n    }\r\n    get Optional() {\r\n        const __ = this;\r\n        return __.optional;\r\n    }\r\n}\r\n\r\nexport function Getters$1_$reflection(gen0) {\r\n    return class_type(\"Thoth.Json.Decode.Getters`1\", [gen0], Getters$1);\r\n}\r\n\r\nexport function Getters$1_$ctor_4A51B60E(path, v) {\r\n    return new Getters$1(path, v);\r\n}\r\n\r\nexport function Getters$1__get_Errors(__) {\r\n    return toList(__.errors);\r\n}\r\n\r\nexport function object(builder, path, v) {\r\n    const getters = Getters$1_$ctor_4A51B60E(path, v);\r\n    const result = builder(getters);\r\n    const matchValue = Getters$1__get_Errors(getters);\r\n    if (!isEmpty(matchValue)) {\r\n        const errors = matchValue;\r\n        if (length(errors) > 1) {\r\n            return new FSharpResult$2(1, [[path, new ErrorReason(7, [map_1((tupledArg) => errorToString(tupledArg[0], tupledArg[1]), errors)])]]);\r\n        }\r\n        else {\r\n            return new FSharpResult$2(1, [head_1(matchValue)]);\r\n        }\r\n    }\r\n    else {\r\n        return new FSharpResult$2(0, [result]);\r\n    }\r\n}\r\n\r\nexport function tuple2(decoder1, decoder2) {\r\n    let decoder_3;\r\n    const decoder = decoder1;\r\n    decoder_3 = ((path) => ((value_1) => index(0, decoder, path, value_1)));\r\n    return (path_3) => ((value_4) => andThen(uncurry3((v1) => {\r\n        let decoder_2;\r\n        const decoder_1 = decoder2;\r\n        decoder_2 = ((path_1) => ((value_2) => index(1, decoder_1, path_1, value_2)));\r\n        return (path_2) => ((value_3) => andThen((v2, arg10$0040, arg20$0040) => succeed([v1, v2], arg10$0040, arg20$0040), uncurry2(decoder_2), path_2, value_3));\r\n    }), uncurry2(decoder_3), path_3, value_4));\r\n}\r\n\r\nexport function tuple3(decoder1, decoder2, decoder3) {\r\n    let decoder_5;\r\n    const decoder = decoder1;\r\n    decoder_5 = ((path) => ((value_1) => index(0, decoder, path, value_1)));\r\n    return (path_5) => ((value_6) => andThen(uncurry3((v1) => {\r\n        let decoder_4;\r\n        const decoder_1 = decoder2;\r\n        decoder_4 = ((path_1) => ((value_2) => index(1, decoder_1, path_1, value_2)));\r\n        return (path_4) => ((value_5) => andThen(uncurry3((v2) => {\r\n            let decoder_3;\r\n            const decoder_2 = decoder3;\r\n            decoder_3 = ((path_2) => ((value_3) => index(2, decoder_2, path_2, value_3)));\r\n            return (path_3) => ((value_4) => andThen((v3, arg10$0040, arg20$0040) => succeed([v1, v2, v3], arg10$0040, arg20$0040), uncurry2(decoder_3), path_3, value_4));\r\n        }), uncurry2(decoder_4), path_4, value_5));\r\n    }), uncurry2(decoder_5), path_5, value_6));\r\n}\r\n\r\nexport function tuple4(decoder1, decoder2, decoder3, decoder4) {\r\n    let decoder_7;\r\n    const decoder = decoder1;\r\n    decoder_7 = ((path) => ((value_1) => index(0, decoder, path, value_1)));\r\n    return (path_7) => ((value_8) => andThen(uncurry3((v1) => {\r\n        let decoder_6;\r\n        const decoder_1 = decoder2;\r\n        decoder_6 = ((path_1) => ((value_2) => index(1, decoder_1, path_1, value_2)));\r\n        return (path_6) => ((value_7) => andThen(uncurry3((v2) => {\r\n            let decoder_5;\r\n            const decoder_2 = decoder3;\r\n            decoder_5 = ((path_2) => ((value_3) => index(2, decoder_2, path_2, value_3)));\r\n            return (path_5) => ((value_6) => andThen(uncurry3((v3) => {\r\n                let decoder_4;\r\n                const decoder_3 = decoder4;\r\n                decoder_4 = ((path_3) => ((value_4) => index(3, decoder_3, path_3, value_4)));\r\n                return (path_4) => ((value_5) => andThen((v4, arg10$0040, arg20$0040) => succeed([v1, v2, v3, v4], arg10$0040, arg20$0040), uncurry2(decoder_4), path_4, value_5));\r\n            }), uncurry2(decoder_5), path_5, value_6));\r\n        }), uncurry2(decoder_6), path_6, value_7));\r\n    }), uncurry2(decoder_7), path_7, value_8));\r\n}\r\n\r\nexport function tuple5(decoder1, decoder2, decoder3, decoder4, decoder5) {\r\n    let decoder_9;\r\n    const decoder = decoder1;\r\n    decoder_9 = ((path) => ((value_1) => index(0, decoder, path, value_1)));\r\n    return (path_9) => ((value_10) => andThen(uncurry3((v1) => {\r\n        let decoder_8;\r\n        const decoder_1 = decoder2;\r\n        decoder_8 = ((path_1) => ((value_2) => index(1, decoder_1, path_1, value_2)));\r\n        return (path_8) => ((value_9) => andThen(uncurry3((v2) => {\r\n            let decoder_7;\r\n            const decoder_2 = decoder3;\r\n            decoder_7 = ((path_2) => ((value_3) => index(2, decoder_2, path_2, value_3)));\r\n            return (path_7) => ((value_8) => andThen(uncurry3((v3) => {\r\n                let decoder_6;\r\n                const decoder_3 = decoder4;\r\n                decoder_6 = ((path_3) => ((value_4) => index(3, decoder_3, path_3, value_4)));\r\n                return (path_6) => ((value_7) => andThen(uncurry3((v4) => {\r\n                    let decoder_5;\r\n                    const decoder_4 = decoder5;\r\n                    decoder_5 = ((path_4) => ((value_5) => index(4, decoder_4, path_4, value_5)));\r\n                    return (path_5) => ((value_6) => andThen((v5, arg10$0040, arg20$0040) => succeed([v1, v2, v3, v4, v5], arg10$0040, arg20$0040), uncurry2(decoder_5), path_5, value_6));\r\n                }), uncurry2(decoder_6), path_6, value_7));\r\n            }), uncurry2(decoder_7), path_7, value_8));\r\n        }), uncurry2(decoder_8), path_8, value_9));\r\n    }), uncurry2(decoder_9), path_9, value_10));\r\n}\r\n\r\nexport function tuple6(decoder1, decoder2, decoder3, decoder4, decoder5, decoder6) {\r\n    let decoder_11;\r\n    const decoder = decoder1;\r\n    decoder_11 = ((path) => ((value_1) => index(0, decoder, path, value_1)));\r\n    return (path_11) => ((value_12) => andThen(uncurry3((v1) => {\r\n        let decoder_10;\r\n        const decoder_1 = decoder2;\r\n        decoder_10 = ((path_1) => ((value_2) => index(1, decoder_1, path_1, value_2)));\r\n        return (path_10) => ((value_11) => andThen(uncurry3((v2) => {\r\n            let decoder_9;\r\n            const decoder_2 = decoder3;\r\n            decoder_9 = ((path_2) => ((value_3) => index(2, decoder_2, path_2, value_3)));\r\n            return (path_9) => ((value_10) => andThen(uncurry3((v3) => {\r\n                let decoder_8;\r\n                const decoder_3 = decoder4;\r\n                decoder_8 = ((path_3) => ((value_4) => index(3, decoder_3, path_3, value_4)));\r\n                return (path_8) => ((value_9) => andThen(uncurry3((v4) => {\r\n                    let decoder_7;\r\n                    const decoder_4 = decoder5;\r\n                    decoder_7 = ((path_4) => ((value_5) => index(4, decoder_4, path_4, value_5)));\r\n                    return (path_7) => ((value_8) => andThen(uncurry3((v5) => {\r\n                        let decoder_6;\r\n                        const decoder_5 = decoder6;\r\n                        decoder_6 = ((path_5) => ((value_6) => index(5, decoder_5, path_5, value_6)));\r\n                        return (path_6) => ((value_7) => andThen((v6, arg10$0040, arg20$0040) => succeed([v1, v2, v3, v4, v5, v6], arg10$0040, arg20$0040), uncurry2(decoder_6), path_6, value_7));\r\n                    }), uncurry2(decoder_7), path_7, value_8));\r\n                }), uncurry2(decoder_8), path_8, value_9));\r\n            }), uncurry2(decoder_9), path_9, value_10));\r\n        }), uncurry2(decoder_10), path_10, value_11));\r\n    }), uncurry2(decoder_11), path_11, value_12));\r\n}\r\n\r\nexport function tuple7(decoder1, decoder2, decoder3, decoder4, decoder5, decoder6, decoder7) {\r\n    let decoder_13;\r\n    const decoder = decoder1;\r\n    decoder_13 = ((path) => ((value_1) => index(0, decoder, path, value_1)));\r\n    return (path_13) => ((value_14) => andThen(uncurry3((v1) => {\r\n        let decoder_12;\r\n        const decoder_1 = decoder2;\r\n        decoder_12 = ((path_1) => ((value_2) => index(1, decoder_1, path_1, value_2)));\r\n        return (path_12) => ((value_13) => andThen(uncurry3((v2) => {\r\n            let decoder_11;\r\n            const decoder_2 = decoder3;\r\n            decoder_11 = ((path_2) => ((value_3) => index(2, decoder_2, path_2, value_3)));\r\n            return (path_11) => ((value_12) => andThen(uncurry3((v3) => {\r\n                let decoder_10;\r\n                const decoder_3 = decoder4;\r\n                decoder_10 = ((path_3) => ((value_4) => index(3, decoder_3, path_3, value_4)));\r\n                return (path_10) => ((value_11) => andThen(uncurry3((v4) => {\r\n                    let decoder_9;\r\n                    const decoder_4 = decoder5;\r\n                    decoder_9 = ((path_4) => ((value_5) => index(4, decoder_4, path_4, value_5)));\r\n                    return (path_9) => ((value_10) => andThen(uncurry3((v5) => {\r\n                        let decoder_8;\r\n                        const decoder_5 = decoder6;\r\n                        decoder_8 = ((path_5) => ((value_6) => index(5, decoder_5, path_5, value_6)));\r\n                        return (path_8) => ((value_9) => andThen(uncurry3((v6) => {\r\n                            let decoder_7;\r\n                            const decoder_6 = decoder7;\r\n                            decoder_7 = ((path_6) => ((value_7) => index(6, decoder_6, path_6, value_7)));\r\n                            return (path_7) => ((value_8) => andThen((v7, arg10$0040, arg20$0040) => succeed([v1, v2, v3, v4, v5, v6, v7], arg10$0040, arg20$0040), uncurry2(decoder_7), path_7, value_8));\r\n                        }), uncurry2(decoder_8), path_8, value_9));\r\n                    }), uncurry2(decoder_9), path_9, value_10));\r\n                }), uncurry2(decoder_10), path_10, value_11));\r\n            }), uncurry2(decoder_11), path_11, value_12));\r\n        }), uncurry2(decoder_12), path_12, value_13));\r\n    }), uncurry2(decoder_13), path_13, value_14));\r\n}\r\n\r\nexport function tuple8(decoder1, decoder2, decoder3, decoder4, decoder5, decoder6, decoder7, decoder8) {\r\n    let decoder_15;\r\n    const decoder = decoder1;\r\n    decoder_15 = ((path) => ((value_1) => index(0, decoder, path, value_1)));\r\n    return (path_15) => ((value_16) => andThen(uncurry3((v1) => {\r\n        let decoder_14;\r\n        const decoder_1 = decoder2;\r\n        decoder_14 = ((path_1) => ((value_2) => index(1, decoder_1, path_1, value_2)));\r\n        return (path_14) => ((value_15) => andThen(uncurry3((v2) => {\r\n            let decoder_13;\r\n            const decoder_2 = decoder3;\r\n            decoder_13 = ((path_2) => ((value_3) => index(2, decoder_2, path_2, value_3)));\r\n            return (path_13) => ((value_14) => andThen(uncurry3((v3) => {\r\n                let decoder_12;\r\n                const decoder_3 = decoder4;\r\n                decoder_12 = ((path_3) => ((value_4) => index(3, decoder_3, path_3, value_4)));\r\n                return (path_12) => ((value_13) => andThen(uncurry3((v4) => {\r\n                    let decoder_11;\r\n                    const decoder_4 = decoder5;\r\n                    decoder_11 = ((path_4) => ((value_5) => index(4, decoder_4, path_4, value_5)));\r\n                    return (path_11) => ((value_12) => andThen(uncurry3((v5) => {\r\n                        let decoder_10;\r\n                        const decoder_5 = decoder6;\r\n                        decoder_10 = ((path_5) => ((value_6) => index(5, decoder_5, path_5, value_6)));\r\n                        return (path_10) => ((value_11) => andThen(uncurry3((v6) => {\r\n                            let decoder_9;\r\n                            const decoder_6 = decoder7;\r\n                            decoder_9 = ((path_6) => ((value_7) => index(6, decoder_6, path_6, value_7)));\r\n                            return (path_9) => ((value_10) => andThen(uncurry3((v7) => {\r\n                                let decoder_8;\r\n                                const decoder_7 = decoder8;\r\n                                decoder_8 = ((path_7) => ((value_8) => index(7, decoder_7, path_7, value_8)));\r\n                                return (path_8) => ((value_9) => andThen((v8, arg10$0040, arg20$0040) => succeed([v1, v2, v3, v4, v5, v6, v7, v8], arg10$0040, arg20$0040), uncurry2(decoder_8), path_8, value_9));\r\n                            }), uncurry2(decoder_9), path_9, value_10));\r\n                        }), uncurry2(decoder_10), path_10, value_11));\r\n                    }), uncurry2(decoder_11), path_11, value_12));\r\n                }), uncurry2(decoder_12), path_12, value_13));\r\n            }), uncurry2(decoder_13), path_13, value_14));\r\n        }), uncurry2(decoder_14), path_14, value_15));\r\n    }), uncurry2(decoder_15), path_15, value_16));\r\n}\r\n\r\nfunction toMap(xs) {\r\n    return ofSeq_1(xs, {\r\n        Compare: compare,\r\n    });\r\n}\r\n\r\nfunction toSet(xs) {\r\n    return ofSeq_2(xs, {\r\n        Compare: compare,\r\n    });\r\n}\r\n\r\nfunction autoObject(decoderInfos, path, value_1) {\r\n    if (!(value_1 === null ? false : (Object.getPrototypeOf(value_1 || false) === Object.prototype))) {\r\n        return new FSharpResult$2(1, [[path, new ErrorReason(0, [\"an object\", value_1])]]);\r\n    }\r\n    else {\r\n        return foldBack((tupledArg, acc) => {\r\n            const name = tupledArg[0];\r\n            if (acc.tag === 0) {\r\n                return Result_Map((v) => cons(v, acc.fields[0]), tupledArg[1]((path + \".\") + name)(value_1[name]));\r\n            }\r\n            else {\r\n                return acc;\r\n            }\r\n        }, decoderInfos, new FSharpResult$2(0, [empty()]));\r\n    }\r\n}\r\n\r\nfunction autoObject2(keyDecoder, valueDecoder, path, value_1) {\r\n    if (!(value_1 === null ? false : (Object.getPrototypeOf(value_1 || false) === Object.prototype))) {\r\n        return new FSharpResult$2(1, [[path, new ErrorReason(0, [\"an object\", value_1])]]);\r\n    }\r\n    else {\r\n        return fold_2((acc, name) => {\r\n            if (acc.tag === 0) {\r\n                const matchValue = keyDecoder(path, name);\r\n                if (matchValue.tag === 0) {\r\n                    const _arg = valueDecoder((path + \".\") + name, value_1[name]);\r\n                    if (_arg.tag === 0) {\r\n                        return new FSharpResult$2(0, [cons([matchValue.fields[0], _arg.fields[0]], acc.fields[0])]);\r\n                    }\r\n                    else {\r\n                        return new FSharpResult$2(1, [_arg.fields[0]]);\r\n                    }\r\n                }\r\n                else {\r\n                    return new FSharpResult$2(1, [matchValue.fields[0]]);\r\n                }\r\n            }\r\n            else {\r\n                return acc;\r\n            }\r\n        }, new FSharpResult$2(0, [empty()]), Object.keys(value_1));\r\n    }\r\n}\r\n\r\nfunction mixedArray(msg, decoders, path, values) {\r\n    let arg, arg_2;\r\n    if (decoders.length !== values.length) {\r\n        return new FSharpResult$2(1, [[path, new ErrorReason(6, [(arg = (decoders.length | 0), (arg_2 = (values.length | 0), toText(printf(\"Expected %i %s but got %i\"))(arg)(msg)(arg_2)))])]]);\r\n    }\r\n    else {\r\n        return foldBack2((value_1, decoder, acc) => {\r\n            if (acc.tag === 0) {\r\n                return Result_Map((v) => cons(v, acc.fields[0]), decoder(path)(value_1));\r\n            }\r\n            else {\r\n                return acc;\r\n            }\r\n        }, values, decoders, new FSharpResult$2(0, [empty()]));\r\n    }\r\n}\r\n\r\nfunction makeUnion(extra, caseStrategy, t, name, path, values) {\r\n    const uci = tryFind((x) => (name_3(x) === name), getUnionCases(t, true));\r\n    if (uci != null) {\r\n        const uci_1 = uci;\r\n        if (values.length === 0) {\r\n            return new FSharpResult$2(0, [makeUnion_1(uci_1, [], true)]);\r\n        }\r\n        else {\r\n            return Result_Map((values_1) => makeUnion_1(uci_1, toArray(values_1), true), mixedArray(\"union fields\", map_2((fi) => autoDecoder(extra, caseStrategy, false, fi[1]), getUnionCaseFields(uci_1)), path, values));\r\n        }\r\n    }\r\n    else {\r\n        return new FSharpResult$2(1, [[path, new ErrorReason(6, [((\"Cannot find case \" + name) + \" in \") + fullName(t)])]]);\r\n    }\r\n}\r\n\r\nfunction autoDecodeRecordsAndUnions(extra, caseStrategy, isOptional, t) {\r\n    let arg_1;\r\n    const decoderRef = new FSharpRef(defaultOf());\r\n    const extra_1 = add(fullName(t), decoderRef, extra);\r\n    let decoder;\r\n    if (isRecord(t, true)) {\r\n        const decoders = map_2((fi) => [Util_Casing_convert(caseStrategy, name_3(fi)), autoDecoder(extra_1, caseStrategy, false, fi[1])], getRecordElements(t, true));\r\n        decoder = ((path) => ((value_1) => Result_Map((xs) => makeRecord(t, toArray(xs), true), autoObject(decoders, path, value_1))));\r\n    }\r\n    else if (isUnion(t, true)) {\r\n        decoder = ((path_1) => ((value_2) => {\r\n            if (typeof value_2 === \"string\") {\r\n                return makeUnion(extra_1, caseStrategy, t, value_2, path_1, []);\r\n            }\r\n            else if (Array.isArray(value_2)) {\r\n                const values = value_2;\r\n                return makeUnion(extra_1, caseStrategy, t, values[0], path_1, values.slice(1, values.length));\r\n            }\r\n            else {\r\n                return new FSharpResult$2(1, [[path_1, new ErrorReason(0, [\"a string or array\", value_2])]]);\r\n            }\r\n        }));\r\n    }\r\n    else if (isOptional) {\r\n        decoder = ((path_2) => ((value_3) => (new FSharpResult$2(1, [[path_2, new ErrorReason(2, [\"an extra coder for \" + fullName(t), value_3])]]))));\r\n    }\r\n    else {\r\n        throw new Error((arg_1 = fullName(t), toText(printf(\"Cannot generate auto decoder for %s. Please pass an extra decoder.\"))(arg_1)));\r\n    }\r\n    decoderRef.contents = decoder;\r\n    return decoder;\r\n}\r\n\r\nfunction autoDecoder(extra, caseStrategy, isOptional, t) {\r\n    let decoder_13, decoder_14, decoder_15;\r\n    const fullname = fullName(t);\r\n    const matchValue = tryFind_1(fullname, extra);\r\n    if (matchValue == null) {\r\n        if (isArray(t)) {\r\n            const decoder = autoDecoder(extra, caseStrategy, false, getElementType(t));\r\n            return (path_1) => ((value_2) => array(uncurry2(decoder), path_1, value_2));\r\n        }\r\n        else if (isEnum(t)) {\r\n            const enumType = fullName(getEnumUnderlyingType(t));\r\n            switch (enumType) {\r\n                case \"System.SByte\":\r\n                    return (path_2) => ((value_4) => {\r\n                        const t_2 = t;\r\n                        const path_3 = path_2;\r\n                        const value_5 = value_4;\r\n                        const matchValue_1 = sbyte(path_3)(value_5);\r\n                        if (matchValue_1.tag === 1) {\r\n                            return new FSharpResult$2(1, [matchValue_1.fields[0]]);\r\n                        }\r\n                        else {\r\n                            const enumValue = matchValue_1.fields[0] | 0;\r\n                            return contains(enumValue, getEnumValues(t_2), {\r\n                                Equals: (x, y) => (x === y),\r\n                                GetHashCode: numberHash,\r\n                            }) ? (new FSharpResult$2(0, [parseEnum(t_2, enumValue.toString())])) : (new FSharpResult$2(1, [[path_3, new ErrorReason(1, [fullName(t_2), value_5, \"Unkown value provided for the enum\"])]]));\r\n                        }\r\n                    });\r\n                case \"System.Byte\":\r\n                    return (path_4) => ((value_7) => {\r\n                        const t_3 = t;\r\n                        const path_5 = path_4;\r\n                        const value_8 = value_7;\r\n                        const matchValue_2 = byte(path_5)(value_8);\r\n                        if (matchValue_2.tag === 1) {\r\n                            return new FSharpResult$2(1, [matchValue_2.fields[0]]);\r\n                        }\r\n                        else {\r\n                            const enumValue_1 = matchValue_2.fields[0];\r\n                            return contains(enumValue_1, getEnumValues(t_3), {\r\n                                Equals: (x_1, y_1) => (x_1 === y_1),\r\n                                GetHashCode: numberHash,\r\n                            }) ? (new FSharpResult$2(0, [parseEnum(t_3, enumValue_1.toString())])) : (new FSharpResult$2(1, [[path_5, new ErrorReason(1, [fullName(t_3), value_8, \"Unkown value provided for the enum\"])]]));\r\n                        }\r\n                    });\r\n                case \"System.Int16\":\r\n                    return (path_6) => ((value_10) => {\r\n                        const t_4 = t;\r\n                        const path_7 = path_6;\r\n                        const value_11 = value_10;\r\n                        const matchValue_3 = int16(path_7)(value_11);\r\n                        if (matchValue_3.tag === 1) {\r\n                            return new FSharpResult$2(1, [matchValue_3.fields[0]]);\r\n                        }\r\n                        else {\r\n                            const enumValue_2 = matchValue_3.fields[0] | 0;\r\n                            return contains(enumValue_2, getEnumValues(t_4), {\r\n                                Equals: (x_2, y_2) => (x_2 === y_2),\r\n                                GetHashCode: numberHash,\r\n                            }) ? (new FSharpResult$2(0, [parseEnum(t_4, int16ToString(enumValue_2))])) : (new FSharpResult$2(1, [[path_7, new ErrorReason(1, [fullName(t_4), value_11, \"Unkown value provided for the enum\"])]]));\r\n                        }\r\n                    });\r\n                case \"System.UInt16\":\r\n                    return (path_8) => ((value_13) => {\r\n                        const t_5 = t;\r\n                        const path_9 = path_8;\r\n                        const value_14 = value_13;\r\n                        const matchValue_4 = uint16(path_9)(value_14);\r\n                        if (matchValue_4.tag === 1) {\r\n                            return new FSharpResult$2(1, [matchValue_4.fields[0]]);\r\n                        }\r\n                        else {\r\n                            const enumValue_3 = matchValue_4.fields[0];\r\n                            return contains(enumValue_3, getEnumValues(t_5), {\r\n                                Equals: (x_3, y_3) => (x_3 === y_3),\r\n                                GetHashCode: numberHash,\r\n                            }) ? (new FSharpResult$2(0, [parseEnum(t_5, enumValue_3.toString())])) : (new FSharpResult$2(1, [[path_9, new ErrorReason(1, [fullName(t_5), value_14, \"Unkown value provided for the enum\"])]]));\r\n                        }\r\n                    });\r\n                case \"System.Int32\":\r\n                    return (path_10) => ((value_16) => {\r\n                        const t_6 = t;\r\n                        const path_11 = path_10;\r\n                        const value_17 = value_16;\r\n                        const matchValue_5 = int(path_11)(value_17);\r\n                        if (matchValue_5.tag === 1) {\r\n                            return new FSharpResult$2(1, [matchValue_5.fields[0]]);\r\n                        }\r\n                        else {\r\n                            const enumValue_4 = matchValue_5.fields[0] | 0;\r\n                            return contains(enumValue_4, getEnumValues(t_6), {\r\n                                Equals: (x_4, y_4) => (x_4 === y_4),\r\n                                GetHashCode: numberHash,\r\n                            }) ? (new FSharpResult$2(0, [parseEnum(t_6, int32ToString(enumValue_4))])) : (new FSharpResult$2(1, [[path_11, new ErrorReason(1, [fullName(t_6), value_17, \"Unkown value provided for the enum\"])]]));\r\n                        }\r\n                    });\r\n                case \"System.UInt32\":\r\n                    return (path_12) => ((value_19) => {\r\n                        const t_7 = t;\r\n                        const path_13 = path_12;\r\n                        const value_20 = value_19;\r\n                        const matchValue_6 = uint32(path_13)(value_20);\r\n                        if (matchValue_6.tag === 1) {\r\n                            return new FSharpResult$2(1, [matchValue_6.fields[0]]);\r\n                        }\r\n                        else {\r\n                            const enumValue_5 = matchValue_6.fields[0];\r\n                            return contains(enumValue_5, getEnumValues(t_7), {\r\n                                Equals: (x_5, y_5) => (x_5 === y_5),\r\n                                GetHashCode: numberHash,\r\n                            }) ? (new FSharpResult$2(0, [parseEnum(t_7, enumValue_5.toString())])) : (new FSharpResult$2(1, [[path_13, new ErrorReason(1, [fullName(t_7), value_20, \"Unkown value provided for the enum\"])]]));\r\n                        }\r\n                    });\r\n                default: {\r\n                    const arg_7 = fullName(t);\r\n                    const clo_1 = toFail(printf(\"Cannot generate auto decoder for %s.\\nThoth.Json.Net only support the folluwing enum types:\\n- sbyte\\n- byte\\n- int16\\n- uint16\\n- int\\n- uint32\\nIf you can\\'t use one of these types, please pass an extra decoder.\\n                    \"))(arg_7);\r\n                    return (arg_8) => {\r\n                        const clo_2 = clo_1(arg_8);\r\n                        return clo_2;\r\n                    };\r\n                }\r\n            }\r\n        }\r\n        else if (isGenericType(t)) {\r\n            if (isTuple(t)) {\r\n                const decoders = map_2((t_8) => autoDecoder(extra, caseStrategy, false, t_8), getTupleElements(t));\r\n                return (path_14) => ((value_21) => (Array.isArray(value_21) ? Result_Map((xs) => makeTuple(toArray(xs), t), mixedArray(\"tuple elements\", decoders, path_14, value_21)) : (new FSharpResult$2(1, [[path_14, new ErrorReason(0, [\"an array\", value_21])]]))));\r\n            }\r\n            else {\r\n                const fullname_1 = fullName(getGenericTypeDefinition(t));\r\n                switch (fullname_1) {\r\n                    case \"Microsoft.FSharp.Core.FSharpOption`1[System.Object]\":\r\n                        return (decoder_13 = autoDecoder(extra, caseStrategy, true, getGenerics(t)[0]), (path_15) => ((value_22) => option(uncurry2(decoder_13), path_15, value_22)));\r\n                    case \"Microsoft.FSharp.Collections.FSharpList`1[System.Object]\":\r\n                        return (decoder_14 = autoDecoder(extra, caseStrategy, false, getGenerics(t)[0]), (path_16) => ((value_23) => list(uncurry2(decoder_14), path_16, value_23)));\r\n                    case \"Microsoft.FSharp.Collections.FSharpMap`2[System.Object,System.Object]\": {\r\n                        const keyDecoder = autoDecoder(extra, caseStrategy, false, getGenerics(t)[0]);\r\n                        const valueDecoder = autoDecoder(extra, caseStrategy, false, getGenerics(t)[1]);\r\n                        let d_18;\r\n                        const decoders_1 = ofArray([(path_17) => ((value_24) => autoObject2(uncurry2(keyDecoder), uncurry2(valueDecoder), path_17, value_24)), (decoder_15 = tuple2(uncurry2(keyDecoder), uncurry2(valueDecoder)), (path_18) => ((value_25) => list(uncurry2(decoder_15), path_18, value_25)))]);\r\n                        d_18 = ((path_19) => ((value_26) => oneOf(decoders_1, path_19, value_26)));\r\n                        return (path_20) => ((value_28) => map(toMap, uncurry2(d_18), path_20, value_28));\r\n                    }\r\n                    case \"Microsoft.FSharp.Collections.FSharpSet`1[System.Object]\": {\r\n                        const decoder_16 = autoDecoder(extra, caseStrategy, false, getGenerics(t)[0]);\r\n                        return (path_21) => ((value_29) => {\r\n                            const matchValue_7 = array(uncurry2(decoder_16), path_21, value_29);\r\n                            return (matchValue_7.tag === 0) ? (new FSharpResult$2(0, [toSet(matchValue_7.fields[0])])) : (new FSharpResult$2(1, [matchValue_7.fields[0]]));\r\n                        });\r\n                    }\r\n                    default:\r\n                        return autoDecodeRecordsAndUnions(extra, caseStrategy, isOptional, t);\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            switch (fullname) {\r\n                case \"System.Boolean\":\r\n                    return (path_22) => ((value_31) => bool(path_22, value_31));\r\n                case \"Microsoft.FSharp.Core.Unit\":\r\n                    return (path_23) => ((value_32) => unit(path_23, value_32));\r\n                case \"System.String\":\r\n                    return (path_24) => ((value_33) => string(path_24, value_33));\r\n                case \"System.SByte\":\r\n                    return sbyte;\r\n                case \"System.Byte\":\r\n                    return byte;\r\n                case \"System.Int16\":\r\n                    return int16;\r\n                case \"System.UInt16\":\r\n                    return uint16;\r\n                case \"System.Int32\":\r\n                    return int;\r\n                case \"System.UInt32\":\r\n                    return uint32;\r\n                case \"System.Double\":\r\n                    return (path_25) => ((value_34) => float(path_25, value_34));\r\n                case \"System.Single\":\r\n                    return (path_26) => ((value_35) => float32(path_26, value_35));\r\n                case \"System.DateTime\":\r\n                    return (path_27) => ((value_36) => datetime(path_27, value_36));\r\n                case \"System.DateTimeOffset\":\r\n                    return (path_28) => ((value_37) => datetimeOffset(path_28, value_37));\r\n                case \"System.TimeSpan\":\r\n                    return (path_29) => ((value_38) => timespan(path_29, value_38));\r\n                case \"System.Guid\":\r\n                    return (path_30) => ((value_39) => guid(path_30, value_39));\r\n                case \"System.Object\":\r\n                    return (_arg_6) => ((v) => (new FSharpResult$2(0, [v])));\r\n                default:\r\n                    return autoDecodeRecordsAndUnions(extra, caseStrategy, isOptional, t);\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        const decoderRef = matchValue;\r\n        return (path) => ((value_1) => decoderRef.contents(path)(value_1));\r\n    }\r\n}\r\n\r\nfunction makeExtra(extra) {\r\n    if (extra != null) {\r\n        return map_3((_arg, tupledArg) => (new FSharpRef(tupledArg[1])), extra.Coders);\r\n    }\r\n    else {\r\n        return empty_1({\r\n            Compare: comparePrimitives,\r\n        });\r\n    }\r\n}\r\n\r\nexport class Auto {\r\n    constructor() {\r\n    }\r\n}\r\n\r\nexport function Auto_$reflection() {\r\n    return class_type(\"Thoth.Json.Decode.Auto\", void 0, Auto);\r\n}\r\n\r\nexport function Auto_generateBoxedDecoderCached_Z6670B51(t, caseStrategy, extra) {\r\n    let y_1, y;\r\n    const caseStrategy_1 = defaultArg(caseStrategy, new CaseStrategy(0, []));\r\n    return Util_Cache$1__GetOrAdd_43981464(Util_CachedDecoders, (y_1 = ((y = fullName(t), toString_12(caseStrategy_1) + y)), defaultArg(map_4((e) => e.Hash, extra), \"\") + y_1), () => autoDecoder(makeExtra(extra), caseStrategy_1, false, t));\r\n}\r\n\r\nexport function Auto_generateBoxedDecoder_Z6670B51(t, caseStrategy, extra) {\r\n    const caseStrategy_1 = defaultArg(caseStrategy, new CaseStrategy(0, []));\r\n    return autoDecoder(makeExtra(extra), caseStrategy_1, false, t);\r\n}\r\n\r\n//# sourceMappingURL=Decode.fs.js.map\r\n","import { FSharpRef, toString, Record } from \"../fable_modules/fable-library.4.2.2/Types.js\";\r\nimport { list_type, obj_type, array_type, int32_type, record_type, class_type, float64_type, string_type } from \"../fable_modules/fable-library.4.2.2/Reflection.js\";\r\nimport { commands, workspace, window as window$ } from \"vscode\";\r\nimport * as vscode from \"vscode\";\r\nimport { createObj, equals, defaultOf, compareArrays, stringHash, uncurry2, int32ToString, createAtom } from \"../fable_modules/fable-library.4.2.2/Util.js\";\r\nimport { ConsoleAndOutputChannelLogger__Debug_Z17053F5, ConsoleAndOutputChannelLogger__Error_Z17053F5, defaultOutputChannel, Level, ConsoleAndOutputChannelLogger_$ctor_Z565F02F0 } from \"./Logging.js\";\r\nimport { format, replace, split, printf, interpolate, toConsole, trimEnd, endsWith } from \"../fable_modules/fable-library.4.2.2/String.js\";\r\nimport { PromiseBuilder__Delay_62FBFDE1, PromiseBuilder__Run_212F1D4B } from \"../fable_modules/Fable.Promise.3.2.0/Promise.fs.js\";\r\nimport { promise } from \"../fable_modules/Fable.Promise.3.2.0/PromiseImpl.fs.js\";\r\nimport { VSCodeExtension_ionidePluginPath, Configuration_get, Promise_empty, Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B, Configuration_tryGet, Promise_PromiseBuilder__PromiseBuilder_Source_Z7741CCC2 } from \"./Utils.js\";\r\nimport * as crypto from \"crypto\";\r\nimport * as path from \"path\";\r\nimport * as os from \"os\";\r\nimport * as fs from \"fs\";\r\nimport { toArray as toArray_1, value as value_10, defaultArg, defaultArgWith, map as map_1, bind, some } from \"../fable_modules/fable-library.4.2.2/Option.js\";\r\nimport { configFsiSdkFilePath, isWin, tryGetTool } from \"./Environment.js\";\r\nimport { FSharpChoice$4, FSharpResult$2 } from \"../fable_modules/fable-library.4.2.2/Choice.js\";\r\nimport { Process_exec } from \"../paket-files/ionide/ionide-vscode-helpers/src/Helpers.js\";\r\nimport * as semver_2 from \"semver\";\r\nimport { Auto_generateBoxedDecoder_Z6670B51, fromString } from \"../fable_modules/Thoth.Json.7.0.0/Decode.fs.js\";\r\nimport { PipelineHint_$reflection, WorkspacePeek, WorkspacePeekFoundSolution, WorkspacePeekFound, WorkspacePeekRequest, WorkspacePeekFoundSolutionItem, WorkspacePeekFoundSolutionItemKind, WorkspacePeekFoundSolutionItemKindFolder, ErrorData, FsProj_DotnetRenameFileRequest, FsProj_DotnetFile2Request, FsProj_DotnetFileRequest, FsProj_DotnetProjectRequest, DotnetNew_DotnetNewRunRequest, DotnetNew_Template_$reflection, DotnetNew_DotnetNewListRequest, FsdnResponse, CompileData_$reflection, Symbols_$reflection, SignatureData_$reflection, DocumentationForSymbolRequest, DocumentationDescription_$reflection, Result$1_$reflection } from \"./DTO.js\";\r\nimport { equalsWith, tryFindIndex, choose } from \"../fable_modules/fable-library.4.2.2/Array.js\";\r\nimport { append as append_1, isEmpty, map, toArray } from \"../fable_modules/fable-library.4.2.2/List.js\";\r\nimport { LanguageClient } from \"vscode-languageclient\";\r\nimport { tryFind, iterate, empty, singleton, append, delay, toList, exists, map as map_2, last, skipWhile, tryHead, choose as choose_1, sortBy, contains, filter, length } from \"../fable_modules/fable-library.4.2.2/Seq.js\";\r\nimport { tryParse } from \"../fable_modules/fable-library.4.2.2/Boolean.js\";\r\nimport { tryParse as tryParse_1 } from \"../fable_modules/fable-library.4.2.2/Int32.js\";\r\n\r\nexport class Notifications_DocumentParsedEvent extends Record {\r\n    constructor(uri, version, document$) {\r\n        super();\r\n        this.uri = uri;\r\n        this.version = version;\r\n        this.document = document$;\r\n    }\r\n}\r\n\r\nexport function Notifications_DocumentParsedEvent_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.Notifications.DocumentParsedEvent\", [], Notifications_DocumentParsedEvent, () => [[\"uri\", string_type], [\"version\", float64_type], [\"document\", class_type(\"Fable.Import.VSCode.Vscode.TextDocument\")]]);\r\n}\r\n\r\nexport const Notifications_onDocumentParsedEmitter = new vscode.EventEmitter();\r\n\r\nexport const Notifications_onDocumentParsed = Notifications_onDocumentParsedEmitter.event;\r\n\r\nconst Notifications_tooltipRequestedEmitter = new vscode.EventEmitter();\r\n\r\nexport const Notifications_tooltipRequested = Notifications_tooltipRequestedEmitter.event;\r\n\r\nexport let Notifications_notifyWorkspaceHandler = createAtom(void 0);\r\n\r\nexport const Notifications_testDetectedEmitter = new vscode.EventEmitter();\r\n\r\nexport const Notifications_testDetected = Notifications_testDetectedEmitter.event;\r\n\r\nconst LanguageService_logger = ConsoleAndOutputChannelLogger_$ctor_Z565F02F0(\"LanguageService\", new Level(0, []), defaultOutputChannel, new Level(0, []));\r\n\r\nexport class LanguageService_Types_PlainNotification extends Record {\r\n    constructor(content) {\r\n        super();\r\n        this.content = content;\r\n    }\r\n}\r\n\r\nexport function LanguageService_Types_PlainNotification_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.LanguageService.Types.PlainNotification\", [], LanguageService_Types_PlainNotification, () => [[\"content\", string_type]]);\r\n}\r\n\r\nexport class LanguageService_Types_Position extends Record {\r\n    constructor(Line, Character) {\r\n        super();\r\n        this.Line = (Line | 0);\r\n        this.Character = (Character | 0);\r\n    }\r\n}\r\n\r\nexport function LanguageService_Types_Position_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.LanguageService.Types.Position\", [], LanguageService_Types_Position, () => [[\"Line\", int32_type], [\"Character\", int32_type]]);\r\n}\r\n\r\nexport class LanguageService_Types_TextDocumentIdentifier extends Record {\r\n    constructor(Uri) {\r\n        super();\r\n        this.Uri = Uri;\r\n    }\r\n}\r\n\r\nexport function LanguageService_Types_TextDocumentIdentifier_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.LanguageService.Types.TextDocumentIdentifier\", [], LanguageService_Types_TextDocumentIdentifier, () => [[\"Uri\", string_type]]);\r\n}\r\n\r\nexport class LanguageService_Types_VersionedTextDocumentIdentifier extends Record {\r\n    constructor(Uri, Version) {\r\n        super();\r\n        this.Uri = Uri;\r\n        this.Version = Version;\r\n    }\r\n}\r\n\r\nexport function LanguageService_Types_VersionedTextDocumentIdentifier_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.LanguageService.Types.VersionedTextDocumentIdentifier\", [], LanguageService_Types_VersionedTextDocumentIdentifier, () => [[\"Uri\", string_type], [\"Version\", float64_type]]);\r\n}\r\n\r\nexport class LanguageService_Types_TextDocumentPositionParams extends Record {\r\n    constructor(TextDocument, Position) {\r\n        super();\r\n        this.TextDocument = TextDocument;\r\n        this.Position = Position;\r\n    }\r\n}\r\n\r\nexport function LanguageService_Types_TextDocumentPositionParams_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.LanguageService.Types.TextDocumentPositionParams\", [], LanguageService_Types_TextDocumentPositionParams, () => [[\"TextDocument\", LanguageService_Types_TextDocumentIdentifier_$reflection()], [\"Position\", LanguageService_Types_Position_$reflection()]]);\r\n}\r\n\r\nexport class LanguageService_Types_VersionedTextDocumentPositionParams extends Record {\r\n    constructor(TextDocument, Position) {\r\n        super();\r\n        this.TextDocument = TextDocument;\r\n        this.Position = Position;\r\n    }\r\n}\r\n\r\nexport function LanguageService_Types_VersionedTextDocumentPositionParams_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.LanguageService.Types.VersionedTextDocumentPositionParams\", [], LanguageService_Types_VersionedTextDocumentPositionParams, () => [[\"TextDocument\", LanguageService_Types_VersionedTextDocumentIdentifier_$reflection()], [\"Position\", LanguageService_Types_Position_$reflection()]]);\r\n}\r\n\r\nexport class LanguageService_Types_FileParams extends Record {\r\n    constructor(Project) {\r\n        super();\r\n        this.Project = Project;\r\n    }\r\n}\r\n\r\nexport function LanguageService_Types_FileParams_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.LanguageService.Types.FileParams\", [], LanguageService_Types_FileParams, () => [[\"Project\", LanguageService_Types_TextDocumentIdentifier_$reflection()]]);\r\n}\r\n\r\nexport class LanguageService_Types_WorkspaceLoadParms extends Record {\r\n    constructor(TextDocuments) {\r\n        super();\r\n        this.TextDocuments = TextDocuments;\r\n    }\r\n}\r\n\r\nexport function LanguageService_Types_WorkspaceLoadParms_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.LanguageService.Types.WorkspaceLoadParms\", [], LanguageService_Types_WorkspaceLoadParms, () => [[\"TextDocuments\", array_type(LanguageService_Types_TextDocumentIdentifier_$reflection())]]);\r\n}\r\n\r\nexport class LanguageService_Types_HighlightingRequest extends Record {\r\n    constructor(TextDocument) {\r\n        super();\r\n        this.TextDocument = TextDocument;\r\n    }\r\n}\r\n\r\nexport function LanguageService_Types_HighlightingRequest_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.LanguageService.Types.HighlightingRequest\", [], LanguageService_Types_HighlightingRequest, () => [[\"TextDocument\", LanguageService_Types_TextDocumentIdentifier_$reflection()]]);\r\n}\r\n\r\nexport class LanguageService_Types_FSharpLiterateRequest extends Record {\r\n    constructor(TextDocument) {\r\n        super();\r\n        this.TextDocument = TextDocument;\r\n    }\r\n}\r\n\r\nexport function LanguageService_Types_FSharpLiterateRequest_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.LanguageService.Types.FSharpLiterateRequest\", [], LanguageService_Types_FSharpLiterateRequest, () => [[\"TextDocument\", LanguageService_Types_TextDocumentIdentifier_$reflection()]]);\r\n}\r\n\r\nexport class LanguageService_Types_FSharpPipelineHintsRequest extends Record {\r\n    constructor(TextDocument) {\r\n        super();\r\n        this.TextDocument = TextDocument;\r\n    }\r\n}\r\n\r\nexport function LanguageService_Types_FSharpPipelineHintsRequest_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.LanguageService.Types.FSharpPipelineHintsRequest\", [], LanguageService_Types_FSharpPipelineHintsRequest, () => [[\"TextDocument\", LanguageService_Types_TextDocumentIdentifier_$reflection()]]);\r\n}\r\n\r\nexport class LanguageService_Types_LspRange extends Record {\r\n    constructor(start, end) {\r\n        super();\r\n        this.start = start;\r\n        this.end = end;\r\n    }\r\n}\r\n\r\nexport function LanguageService_Types_LspRange_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.LanguageService.Types.LspRange\", [], LanguageService_Types_LspRange, () => [[\"start\", class_type(\"Fable.Import.VSCode.Vscode.Position\")], [\"end\", class_type(\"Fable.Import.VSCode.Vscode.Position\")]]);\r\n}\r\n\r\nexport function Fable_Import_VSCode_Vscode_Uri__Uri_get_ToDocumentUri(uri) {\r\n    return toString(uri);\r\n}\r\n\r\nexport let LanguageService_client = createAtom(void 0);\r\n\r\nexport const LanguageService_selector = [{\r\n    language: \"fsharp\",\r\n    scheme: \"file\",\r\n}, {\r\n    language: \"fsharp\",\r\n    scheme: \"untitled\",\r\n}];\r\n\r\nfunction LanguageService_handleUntitled(fn) {\r\n    if ((endsWith(fn, \".fs\") ? true : endsWith(fn, \".fsi\")) ? true : endsWith(fn, \".fsx\")) {\r\n        return fn;\r\n    }\r\n    else {\r\n        return fn + \".fsx\";\r\n    }\r\n}\r\n\r\nexport function LanguageService_tryFindDotnet() {\r\n    const reportError = (msg) => PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => (Promise_PromiseBuilder__PromiseBuilder_Source_Z7741CCC2(promise, window$.showErrorMessage(\"Could not find \\'dotnet\\'\", \"More details\")).then((_arg) => {\r\n        let copyOfStruct;\r\n        const selection = _arg;\r\n        let matchResult;\r\n        if (selection == null) {\r\n            matchResult = 1;\r\n        }\r\n        else if (selection === \"More details\") {\r\n            matchResult = 0;\r\n        }\r\n        else {\r\n            matchResult = 1;\r\n        }\r\n        switch (matchResult) {\r\n            case 0: {\r\n                const fileName = (\"ionide_dotnet_not_found_details_\" + ((copyOfStruct = crypto.randomBytes(4).readUInt32LE(0), int32ToString(copyOfStruct)))) + \".md\";\r\n                const tempPath = path.join(os.tmpdir(), fileName);\r\n                fs.writeFileSync(tempPath, msg);\r\n                const newFile = vscode.Uri.parse(tempPath);\r\n                return Promise_PromiseBuilder__PromiseBuilder_Source_Z7741CCC2(promise, workspace.openTextDocument(newFile)).then((_arg_1) => {\r\n                    const document$ = _arg_1;\r\n                    return Promise_PromiseBuilder__PromiseBuilder_Source_Z7741CCC2(promise, window$.showTextDocument(document$)).then((_arg_2) => (Promise_PromiseBuilder__PromiseBuilder_Source_Z7741CCC2(promise, commands.executeCommand(\"markdown.showPreview\", some(document$))).then(() => (Promise_PromiseBuilder__PromiseBuilder_Source_Z7741CCC2(promise, commands.executeCommand(\"workbench.action.closeActiveEditor\", some(document$))).then(() => {\r\n                        fs.unlinkSync(tempPath);\r\n                        return Promise.resolve();\r\n                    })))));\r\n                });\r\n            }\r\n            default: {\r\n                return Promise.resolve();\r\n            }\r\n        }\r\n    }))));\r\n    return PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => {\r\n        const matchValue = Configuration_tryGet(\"FSharp.dotnetRoot\");\r\n        if (matchValue == null) {\r\n            return Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, tryGetTool(\"dotnet\")).then((_arg_6) => {\r\n                if (_arg_6 == null) {\r\n                    const msg_2 = \"Could not find `dotnet` in the path.\\r\\n\\r\\nConsider:\\r\\n- setting the `FSharp.dotnetRoot` settings key to a directory with a `dotnet` binary\\r\\n- including `dotnet` in your PATH\\r\\n- installing .NET Core\\r\\n\";\r\n                    return Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, reportError(msg_2)).then(() => (Promise.resolve(new FSharpResult$2(1, [\"Could not find \\'dotnet\\'\"]))));\r\n                }\r\n                else {\r\n                    const dotnetFullPath_1 = _arg_6;\r\n                    return Promise.resolve(new FSharpResult$2(0, [dotnetFullPath_1]));\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            const dotnetRoot = matchValue;\r\n            const program = isWin ? \"dotnet.exe\" : \"dotnet\";\r\n            const dotnetFullPath = path.join(dotnetRoot, program);\r\n            if (fs.existsSync(dotnetFullPath)) {\r\n                return Promise.resolve(new FSharpResult$2(0, [dotnetFullPath]));\r\n            }\r\n            else {\r\n                const msg_1 = `\r\nCould not find \\`dotnet\\` in the \\`dotnetRoot\\` directory: ${\"\\n\" + dotnetFullPath}\r\n\r\nConsider:\r\n- updating the \\`FSharp.dotnetRoot\\` settings key to a directory with a \\`dotnet\\` binary\r\n- removing the \\`FSharp.dotnetRoot\\` settings key and :\r\n    - including \\`dotnet\\` in your PATH\r\n    - installing .NET Core`;\r\n                return Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, reportError(msg_1)).then(() => (Promise.resolve(new FSharpResult$2(1, [\"Could not find \\'dotnet\\'\"]))));\r\n            }\r\n        }\r\n    }));\r\n}\r\n\r\n/**\r\n * runs `dotnet --version` in the current rootPath to determine the resolved sdk version from the global.json file.\r\n */\r\nexport function LanguageService_sdkVersion() {\r\n    return PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => (Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, LanguageService_tryFindDotnet()).then((_arg) => {\r\n        const dotnet = _arg;\r\n        return (dotnet.tag === 0) ? (Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, Process_exec(dotnet.fields[0], [\"--version\"])).then((_arg_1) => {\r\n            const error = _arg_1[0];\r\n            if (error == null) {\r\n                const stdoutTrimmed = trimEnd(_arg_1[1]);\r\n                const semver = semver_2.parse(stdoutTrimmed);\r\n                if (semver != null) {\r\n                    const semver_1 = semver;\r\n                    return Promise.resolve(new FSharpResult$2(0, [semver_1]));\r\n                }\r\n                else {\r\n                    return Promise.resolve(new FSharpResult$2(1, [`unable to parse version string '${stdoutTrimmed}'`]));\r\n                }\r\n            }\r\n            else {\r\n                const e = error;\r\n                return Promise.resolve(new FSharpResult$2(1, [`error while invoking: ${e.message}`]));\r\n            }\r\n        })) : (Promise.resolve(new FSharpResult$2(1, [dotnet.fields[0]])));\r\n    }))));\r\n}\r\n\r\nexport function LanguageService_f1Help(uri, line, col) {\r\n    if (LanguageService_client() != null) {\r\n        const cl = LanguageService_client();\r\n        const req = new LanguageService_Types_TextDocumentPositionParams(new LanguageService_Types_TextDocumentIdentifier(Fable_Import_VSCode_Vscode_Uri__Uri_get_ToDocumentUri(uri)), new LanguageService_Types_Position(line, col));\r\n        const pr = cl.sendRequest(\"fsharp/f1Help\", req);\r\n        return pr.then((response) => {\r\n            let matchValue;\r\n            const response_1 = response;\r\n            if (response_1 == null) {\r\n                return void 0;\r\n            }\r\n            else {\r\n                return (matchValue = fromString(uncurry2(Auto_generateBoxedDecoder_Z6670B51(Result$1_$reflection(string_type), void 0, void 0)), response_1.content), (matchValue.tag === 1) ? (() => {\r\n                    throw new Error(matchValue.fields[0]);\r\n                })() : matchValue.fields[0]);\r\n            }\r\n        });\r\n    }\r\n    else {\r\n        return Promise_empty();\r\n    }\r\n}\r\n\r\nexport function LanguageService_documentation(uri, line, col) {\r\n    if (LanguageService_client() != null) {\r\n        const cl = LanguageService_client();\r\n        const req = new LanguageService_Types_TextDocumentPositionParams(new LanguageService_Types_TextDocumentIdentifier(Fable_Import_VSCode_Vscode_Uri__Uri_get_ToDocumentUri(uri)), new LanguageService_Types_Position(line, col));\r\n        const pr = cl.sendRequest(\"fsharp/documentation\", req);\r\n        return pr.then((response) => {\r\n            let matchValue;\r\n            const response_1 = response;\r\n            if (response_1 == null) {\r\n                return void 0;\r\n            }\r\n            else {\r\n                return (matchValue = fromString(uncurry2(Auto_generateBoxedDecoder_Z6670B51(Result$1_$reflection(DocumentationDescription_$reflection()), void 0, void 0)), response_1.content), (matchValue.tag === 1) ? (() => {\r\n                    throw new Error(matchValue.fields[0]);\r\n                })() : matchValue.fields[0]);\r\n            }\r\n        });\r\n    }\r\n    else {\r\n        return Promise_empty();\r\n    }\r\n}\r\n\r\nexport function LanguageService_documentationForSymbol(xmlSig, assembly) {\r\n    if (LanguageService_client() != null) {\r\n        const cl = LanguageService_client();\r\n        const req = new DocumentationForSymbolRequest(xmlSig, assembly);\r\n        const pr = cl.sendRequest(\"fsharp/documentationSymbol\", req);\r\n        return pr.then((response) => {\r\n            let matchValue;\r\n            const response_1 = response;\r\n            if (response_1 == null) {\r\n                return void 0;\r\n            }\r\n            else {\r\n                return (matchValue = fromString(uncurry2(Auto_generateBoxedDecoder_Z6670B51(Result$1_$reflection(DocumentationDescription_$reflection()), void 0, void 0)), response_1.content), (matchValue.tag === 1) ? (() => {\r\n                    throw new Error(matchValue.fields[0]);\r\n                })() : matchValue.fields[0]);\r\n            }\r\n        });\r\n    }\r\n    else {\r\n        return Promise_empty();\r\n    }\r\n}\r\n\r\nexport function LanguageService_signature(uri, line, col) {\r\n    if (LanguageService_client() != null) {\r\n        const cl = LanguageService_client();\r\n        const req = new LanguageService_Types_TextDocumentPositionParams(new LanguageService_Types_TextDocumentIdentifier(Fable_Import_VSCode_Vscode_Uri__Uri_get_ToDocumentUri(uri)), new LanguageService_Types_Position(line, col));\r\n        const pr = cl.sendRequest(\"fsharp/signature\", req);\r\n        return pr.then((response) => {\r\n            let matchValue;\r\n            const response_1 = response;\r\n            if (response_1 == null) {\r\n                return void 0;\r\n            }\r\n            else {\r\n                return (matchValue = fromString(uncurry2(Auto_generateBoxedDecoder_Z6670B51(Result$1_$reflection(string_type), void 0, void 0)), response_1.content), (matchValue.tag === 1) ? (() => {\r\n                    throw new Error(matchValue.fields[0]);\r\n                })() : matchValue.fields[0]);\r\n            }\r\n        });\r\n    }\r\n    else {\r\n        return Promise_empty();\r\n    }\r\n}\r\n\r\nexport function LanguageService_signatureData(uri, line, col) {\r\n    if (LanguageService_client() != null) {\r\n        const cl = LanguageService_client();\r\n        const req = new LanguageService_Types_TextDocumentPositionParams(new LanguageService_Types_TextDocumentIdentifier(Fable_Import_VSCode_Vscode_Uri__Uri_get_ToDocumentUri(uri)), new LanguageService_Types_Position(line, col));\r\n        const pr = cl.sendRequest(\"fsharp/signatureData\", req);\r\n        return pr.then((response) => {\r\n            let matchValue;\r\n            const response_1 = response;\r\n            if (response_1 == null) {\r\n                return void 0;\r\n            }\r\n            else {\r\n                return (matchValue = fromString(uncurry2(Auto_generateBoxedDecoder_Z6670B51(Result$1_$reflection(SignatureData_$reflection()), void 0, void 0)), response_1.content), (matchValue.tag === 1) ? (() => {\r\n                    throw new Error(matchValue.fields[0]);\r\n                })() : matchValue.fields[0]);\r\n            }\r\n        });\r\n    }\r\n    else {\r\n        return Promise_empty();\r\n    }\r\n}\r\n\r\nexport function LanguageService_generateDocumentation(fileUri, version, line, col) {\r\n    if (LanguageService_client() != null) {\r\n        const cl = LanguageService_client();\r\n        const req = new LanguageService_Types_VersionedTextDocumentPositionParams(new LanguageService_Types_VersionedTextDocumentIdentifier(Fable_Import_VSCode_Vscode_Uri__Uri_get_ToDocumentUri(fileUri), version), new LanguageService_Types_Position(line, col));\r\n        const pr = cl.sendRequest(\"fsharp/documentationGenerator\", req);\r\n        return pr.then((_arg) => {\r\n        });\r\n    }\r\n    else {\r\n        return Promise_empty();\r\n    }\r\n}\r\n\r\nexport function LanguageService_lineLenses(uri) {\r\n    if (LanguageService_client() != null) {\r\n        const cl = LanguageService_client();\r\n        const req = new LanguageService_Types_FileParams(new LanguageService_Types_TextDocumentIdentifier(Fable_Import_VSCode_Vscode_Uri__Uri_get_ToDocumentUri(uri)));\r\n        const pr = cl.sendRequest(\"fsharp/lineLens\", req);\r\n        return pr.then((response) => {\r\n            let matchValue;\r\n            const response_1 = response;\r\n            if (response_1 == null) {\r\n                return void 0;\r\n            }\r\n            else {\r\n                return (matchValue = fromString(uncurry2(Auto_generateBoxedDecoder_Z6670B51(Result$1_$reflection(array_type(Symbols_$reflection())), void 0, void 0)), response_1.content), (matchValue.tag === 1) ? (() => {\r\n                    throw new Error(matchValue.fields[0]);\r\n                })() : matchValue.fields[0]);\r\n            }\r\n        });\r\n    }\r\n    else {\r\n        return Promise_empty();\r\n    }\r\n}\r\n\r\nexport function LanguageService_compile(s) {\r\n    if (LanguageService_client() != null) {\r\n        const cl = LanguageService_client();\r\n        const req = new LanguageService_Types_FileParams(new LanguageService_Types_TextDocumentIdentifier(LanguageService_handleUntitled(s)));\r\n        const pr = cl.sendRequest(\"fsharp/compile\", req);\r\n        return pr.then((res) => {\r\n            const matchValue = fromString(uncurry2(Auto_generateBoxedDecoder_Z6670B51(Result$1_$reflection(CompileData_$reflection()), void 0, void 0)), res.content);\r\n            if (matchValue.tag === 1) {\r\n                throw new Error(matchValue.fields[0]);\r\n            }\r\n            else {\r\n                return matchValue.fields[0];\r\n            }\r\n        });\r\n    }\r\n    else {\r\n        return Promise_empty();\r\n    }\r\n}\r\n\r\nexport function LanguageService_fsdn(signature) {\r\n    if (LanguageService_client() != null) {\r\n        const cl = LanguageService_client();\r\n        const req = new LanguageService_Types_FileParams(new LanguageService_Types_TextDocumentIdentifier(signature));\r\n        const pr = cl.sendRequest(\"fsharp/fsdn\", req);\r\n        return pr.then((res) => {\r\n            let res_1;\r\n            const matchValue = fromString(uncurry2(Auto_generateBoxedDecoder_Z6670B51(obj_type, void 0, void 0)), res.content);\r\n            if (matchValue.tag === 1) {\r\n                throw new Error(matchValue.fields[0]);\r\n            }\r\n            else {\r\n                res_1 = matchValue.fields[0];\r\n            }\r\n            const ws = res_1.Data;\r\n            return new FsdnResponse(ws.Functions);\r\n        });\r\n    }\r\n    else {\r\n        return Promise_empty();\r\n    }\r\n}\r\n\r\nexport function LanguageService_dotnetNewList() {\r\n    if (LanguageService_client() != null) {\r\n        const cl = LanguageService_client();\r\n        const req = new DotnetNew_DotnetNewListRequest(\"\");\r\n        const pr = cl.sendRequest(\"fsharp/dotnetnewlist\", req);\r\n        return pr.then((response) => {\r\n            let matchValue;\r\n            const response_1 = response;\r\n            if (response_1 == null) {\r\n                return void 0;\r\n            }\r\n            else {\r\n                return (matchValue = fromString(uncurry2(Auto_generateBoxedDecoder_Z6670B51(Result$1_$reflection(list_type(DotnetNew_Template_$reflection())), void 0, void 0)), response_1.content), (matchValue.tag === 1) ? (() => {\r\n                    throw new Error(matchValue.fields[0]);\r\n                })() : matchValue.fields[0]);\r\n            }\r\n        });\r\n    }\r\n    else {\r\n        return Promise_empty();\r\n    }\r\n}\r\n\r\nexport function LanguageService_dotnetNewRun(template, name, output) {\r\n    if (LanguageService_client() != null) {\r\n        const cl = LanguageService_client();\r\n        const req = new DotnetNew_DotnetNewRunRequest(template, output, name);\r\n        const pr = cl.sendRequest(\"fsharp/dotnetnewrun\", req);\r\n        return pr.then((value) => {\r\n        });\r\n    }\r\n    else {\r\n        return Promise_empty();\r\n    }\r\n}\r\n\r\nexport function LanguageService_dotnetAddProject(target, reference) {\r\n    if (LanguageService_client() != null) {\r\n        const cl = LanguageService_client();\r\n        const req = new FsProj_DotnetProjectRequest(target, reference);\r\n        const pr = cl.sendRequest(\"fsharp/dotnetaddproject\", req);\r\n        return pr.then((value) => {\r\n        });\r\n    }\r\n    else {\r\n        return Promise_empty();\r\n    }\r\n}\r\n\r\nexport function LanguageService_dotnetRemoveProject(target, reference) {\r\n    if (LanguageService_client() != null) {\r\n        const cl = LanguageService_client();\r\n        const req = new FsProj_DotnetProjectRequest(target, reference);\r\n        const pr = cl.sendRequest(\"fsharp/dotnetremoveproject\", req);\r\n        return pr.then((value) => {\r\n        });\r\n    }\r\n    else {\r\n        return Promise_empty();\r\n    }\r\n}\r\n\r\nexport function LanguageService_dotnetAddSln(target, reference) {\r\n    if (LanguageService_client() != null) {\r\n        const cl = LanguageService_client();\r\n        const req = new FsProj_DotnetProjectRequest(target, reference);\r\n        const pr = cl.sendRequest(\"fsharp/dotnetaddsln\", req);\r\n        return pr.then((value) => {\r\n        });\r\n    }\r\n    else {\r\n        return Promise_empty();\r\n    }\r\n}\r\n\r\nexport function LanguageService_fsprojMoveFileUp(fsproj, file) {\r\n    if (LanguageService_client() != null) {\r\n        const cl = LanguageService_client();\r\n        const req = new FsProj_DotnetFileRequest(fsproj, file);\r\n        const pr = cl.sendRequest(\"fsproj/moveFileUp\", req);\r\n        return pr.then((value) => {\r\n        });\r\n    }\r\n    else {\r\n        return Promise_empty();\r\n    }\r\n}\r\n\r\nexport function LanguageService_fsprojMoveFileDown(fsproj, file) {\r\n    if (LanguageService_client() != null) {\r\n        const cl = LanguageService_client();\r\n        const req = new FsProj_DotnetFileRequest(fsproj, file);\r\n        const pr = cl.sendRequest(\"fsproj/moveFileDown\", req);\r\n        return pr.then((value) => {\r\n        });\r\n    }\r\n    else {\r\n        return Promise_empty();\r\n    }\r\n}\r\n\r\nexport function LanguageService_fsprojAddFileAbove(fsproj, file, newFile) {\r\n    if (LanguageService_client() != null) {\r\n        const cl = LanguageService_client();\r\n        const req = new FsProj_DotnetFile2Request(fsproj, file, newFile);\r\n        const pr = cl.sendRequest(\"fsproj/addFileAbove\", req);\r\n        return pr.then((value) => {\r\n        });\r\n    }\r\n    else {\r\n        return Promise_empty();\r\n    }\r\n}\r\n\r\nexport function LanguageService_fsprojAddFileBelow(fsproj, file, newFile) {\r\n    if (LanguageService_client() != null) {\r\n        const cl = LanguageService_client();\r\n        const req = new FsProj_DotnetFile2Request(fsproj, file, newFile);\r\n        const pr = cl.sendRequest(\"fsproj/addFileBelow\", req);\r\n        return pr.then((value) => {\r\n        });\r\n    }\r\n    else {\r\n        return Promise_empty();\r\n    }\r\n}\r\n\r\nexport function LanguageService_fsprojAddFile(fsproj, file) {\r\n    if (LanguageService_client() != null) {\r\n        const cl = LanguageService_client();\r\n        const req = new FsProj_DotnetFileRequest(fsproj, file);\r\n        const pr = cl.sendRequest(\"fsproj/addFile\", req);\r\n        return pr.then((value) => {\r\n        });\r\n    }\r\n    else {\r\n        return Promise_empty();\r\n    }\r\n}\r\n\r\nexport function LanguageService_fsprojAddExistingFile(fsproj, file) {\r\n    if (LanguageService_client() != null) {\r\n        const cl = LanguageService_client();\r\n        const req = new FsProj_DotnetFileRequest(fsproj, file);\r\n        const pr = cl.sendRequest(\"fsproj/addExistingFile\", req);\r\n        return pr.then((value) => {\r\n        });\r\n    }\r\n    else {\r\n        return Promise_empty();\r\n    }\r\n}\r\n\r\nexport function LanguageService_fsprojRenameFile(fsproj, file, newFile) {\r\n    if (LanguageService_client() != null) {\r\n        const cl = LanguageService_client();\r\n        const req = new FsProj_DotnetRenameFileRequest(fsproj, file, newFile);\r\n        const pr = cl.sendRequest(\"fsproj/renameFile\", req);\r\n        return pr.then((value) => {\r\n        });\r\n    }\r\n    else {\r\n        return Promise_empty();\r\n    }\r\n}\r\n\r\nexport function LanguageService_fsprojRemoveFile(fsproj, file) {\r\n    if (LanguageService_client() != null) {\r\n        const cl = LanguageService_client();\r\n        const req = new FsProj_DotnetFileRequest(fsproj, file);\r\n        const pr = cl.sendRequest(\"fsproj/removeFile\", req);\r\n        return pr.then((value) => {\r\n        });\r\n    }\r\n    else {\r\n        return Promise_empty();\r\n    }\r\n}\r\n\r\nexport function LanguageService_parseError(err) {\r\n    let data;\r\n    const matchValue = err.Code | 0;\r\n    data = ((matchValue === 1) ? (new ErrorData(0, [])) : ((matchValue === 100) ? (new ErrorData(1, [err.AdditionalData])) : ((matchValue === 101) ? (new ErrorData(2, [err.AdditionalData])) : ((matchValue === 102) ? (new ErrorData(3, [err.AdditionalData])) : (new ErrorData(0, []))))));\r\n    return [err.Message, data];\r\n}\r\n\r\nexport function LanguageService_project(s) {\r\n    if (LanguageService_client() != null) {\r\n        const cl = LanguageService_client();\r\n        const req = new LanguageService_Types_FileParams(new LanguageService_Types_TextDocumentIdentifier(s));\r\n        const pr = cl.sendRequest(\"fsharp/project\", req);\r\n        return pr.then((res) => {\r\n            let res_1;\r\n            const matchValue = fromString(uncurry2(Auto_generateBoxedDecoder_Z6670B51(obj_type, void 0, void 0)), res.content);\r\n            if (matchValue.tag === 1) {\r\n                throw new Error(matchValue.fields[0]);\r\n            }\r\n            else {\r\n                res_1 = matchValue.fields[0];\r\n            }\r\n            if (res_1.Kind === \"error\") {\r\n                return new FSharpResult$2(1, [LanguageService_parseError(res_1.Data)]);\r\n            }\r\n            else {\r\n                return new FSharpResult$2(0, [res_1]);\r\n            }\r\n        });\r\n    }\r\n    else {\r\n        return Promise_empty();\r\n    }\r\n}\r\n\r\nexport function LanguageService_workspacePeek(dir, deep, excludedDirs) {\r\n    const mapItem = (f) => {\r\n        let matchValue_1;\r\n        const i = f.Kind;\r\n        const data = i.Data;\r\n        const matchValue = i.Kind;\r\n        switch (matchValue) {\r\n            case \"folder\": {\r\n                const folderData = data;\r\n                matchValue_1 = (new WorkspacePeekFoundSolutionItemKind(1, [new WorkspacePeekFoundSolutionItemKindFolder(choose(mapItem, folderData.Items), folderData.Files)]));\r\n                break;\r\n            }\r\n            case \"msbuildFormat\": {\r\n                matchValue_1 = (new WorkspacePeekFoundSolutionItemKind(0, [data]));\r\n                break;\r\n            }\r\n            default:\r\n                matchValue_1 = void 0;\r\n        }\r\n        if (matchValue_1 == null) {\r\n            return void 0;\r\n        }\r\n        else {\r\n            return new WorkspacePeekFoundSolutionItem(f.Guid, f.Name, matchValue_1);\r\n        }\r\n    };\r\n    if (LanguageService_client() != null) {\r\n        const cl = LanguageService_client();\r\n        const req = new WorkspacePeekRequest(dir, deep, toArray(excludedDirs));\r\n        const pr = cl.sendRequest(\"fsharp/workspacePeek\", req);\r\n        return pr.then((res) => {\r\n            let res_1;\r\n            const matchValue_3 = fromString(uncurry2(Auto_generateBoxedDecoder_Z6670B51(obj_type, void 0, void 0)), res.content);\r\n            if (matchValue_3.tag === 1) {\r\n                throw new Error(matchValue_3.fields[0]);\r\n            }\r\n            else {\r\n                res_1 = matchValue_3.fields[0];\r\n            }\r\n            const ws = res_1.Data;\r\n            return new WorkspacePeek(choose((f_1) => {\r\n                let Path, Configurations;\r\n                const data_1 = f_1.Data;\r\n                const matchValue_2 = f_1.Type;\r\n                switch (matchValue_2) {\r\n                    case \"directory\":\r\n                        return new WorkspacePeekFound(0, [data_1]);\r\n                    case \"solution\":\r\n                        return new WorkspacePeekFound(1, [(Path = data_1.Path, (Configurations = data_1.Configurations, new WorkspacePeekFoundSolution(Path, choose(mapItem, data_1.Items), Configurations)))]);\r\n                    default:\r\n                        return void 0;\r\n                }\r\n            }, ws.Found));\r\n        });\r\n    }\r\n    else {\r\n        return Promise_empty();\r\n    }\r\n}\r\n\r\nexport function LanguageService_workspaceLoad(projects) {\r\n    if (LanguageService_client() != null) {\r\n        const cl = LanguageService_client();\r\n        const req = new LanguageService_Types_WorkspaceLoadParms(toArray(map((s) => (new LanguageService_Types_TextDocumentIdentifier(s)), projects)));\r\n        const pr = cl.sendRequest(\"fsharp/workspaceLoad\", req);\r\n        return pr.then((value) => {\r\n        });\r\n    }\r\n    else {\r\n        return Promise_empty();\r\n    }\r\n}\r\n\r\nexport function LanguageService_loadAnalyzers() {\r\n    if (LanguageService_client() != null) {\r\n        const cl = LanguageService_client();\r\n        const req = new LanguageService_Types_FileParams(new LanguageService_Types_TextDocumentIdentifier(\"\"));\r\n        const pr = cl.sendRequest(\"fsharp/loadAnalyzers\", req);\r\n        return pr.then((value) => {\r\n        });\r\n    }\r\n    else {\r\n        return Promise_empty();\r\n    }\r\n}\r\n\r\nexport function LanguageService_getHighlighting(uri) {\r\n    if (LanguageService_client() != null) {\r\n        const cl = LanguageService_client();\r\n        const req = new LanguageService_Types_HighlightingRequest(new LanguageService_Types_TextDocumentIdentifier(Fable_Import_VSCode_Vscode_Uri__Uri_get_ToDocumentUri(uri)));\r\n        const pr = cl.sendRequest(\"fsharp/highlighting\", req);\r\n        return pr.then((res) => res.data);\r\n    }\r\n    else {\r\n        return Promise_empty();\r\n    }\r\n}\r\n\r\nexport function LanguageService_fsharpLiterate(uri) {\r\n    if (LanguageService_client() != null) {\r\n        const cl = LanguageService_client();\r\n        const req = new LanguageService_Types_FSharpLiterateRequest(new LanguageService_Types_TextDocumentIdentifier(Fable_Import_VSCode_Vscode_Uri__Uri_get_ToDocumentUri(uri)));\r\n        const pr = cl.sendRequest(\"fsharp/fsharpLiterate\", req);\r\n        return pr.then((res) => {\r\n            const matchValue = fromString(uncurry2(Auto_generateBoxedDecoder_Z6670B51(Result$1_$reflection(string_type), void 0, void 0)), res.content);\r\n            if (matchValue.tag === 1) {\r\n                throw new Error(matchValue.fields[0]);\r\n            }\r\n            else {\r\n                return matchValue.fields[0];\r\n            }\r\n        });\r\n    }\r\n    else {\r\n        return Promise_empty();\r\n    }\r\n}\r\n\r\nexport function LanguageService_pipelineHints(uri) {\r\n    if (LanguageService_client() != null) {\r\n        const cl = LanguageService_client();\r\n        const req = new LanguageService_Types_FSharpPipelineHintsRequest(new LanguageService_Types_TextDocumentIdentifier(Fable_Import_VSCode_Vscode_Uri__Uri_get_ToDocumentUri(uri)));\r\n        const pr = cl.sendRequest(\"fsharp/pipelineHint\", req);\r\n        return pr.then((response) => {\r\n            let matchValue;\r\n            const response_1 = response;\r\n            if (response_1 == null) {\r\n                return void 0;\r\n            }\r\n            else {\r\n                return (matchValue = fromString(uncurry2(Auto_generateBoxedDecoder_Z6670B51(Result$1_$reflection(array_type(PipelineHint_$reflection())), void 0, void 0)), response_1.content), (matchValue.tag === 1) ? (() => {\r\n                    throw new Error(matchValue.fields[0]);\r\n                })() : matchValue.fields[0]);\r\n            }\r\n        });\r\n    }\r\n    else {\r\n        return Promise_empty();\r\n    }\r\n}\r\n\r\nexport function LanguageService_fsiSdk() {\r\n    return PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => (Promise.resolve(configFsiSdkFilePath()))));\r\n}\r\n\r\nfunction LanguageService_createClient(opts) {\r\n    let opts_1, initFails, restarts, errorHandling, initOpts, synch;\r\n    const options = {\r\n        debug: opts,\r\n        run: opts,\r\n    };\r\n    const fileDeletedWatcher = workspace.createFileSystemWatcher(\"**/*.{fs,fsx}\", true, true, false);\r\n    const cl = new LanguageClient(\"FSharp\", \"F#\", options, (opts_1 = {}, (initFails = 0, (restarts = [], (errorHandling = {\r\n        closed() {\r\n            void (restarts.push(1));\r\n            if (length(restarts) < 5) {\r\n                return 2;\r\n            }\r\n            else {\r\n                ConsoleAndOutputChannelLogger__Error_Z17053F5(LanguageService_logger, \"Server closed\");\r\n                return 1;\r\n            }\r\n        },\r\n        error(error_1, message, count) {\r\n            ConsoleAndOutputChannelLogger__Error_Z17053F5(LanguageService_logger, `Error from server: ${error_1} ${message} ${count}`);\r\n            return ((count < 3) ? 1 : 2) | 0;\r\n        },\r\n    }, (initOpts = {\r\n        AutomaticWorkspaceInit: false,\r\n    }, (synch = {}, (synch.configurationSection = \"FSharp\", (synch.fileEvents = [fileDeletedWatcher], (opts_1.documentSelector = LanguageService_selector, (opts_1.synchronize = synch, (opts_1.errorHandler = errorHandling, (opts_1.revealOutputChannelOn = 4, (opts_1.initializationFailedHandler = ((error) => {\r\n        if (initFails < 5) {\r\n            ConsoleAndOutputChannelLogger__Error_Z17053F5(LanguageService_logger, \"Initialization failed: %\", error);\r\n            initFails = ((initFails + 1) | 0);\r\n            return true;\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    }), (opts_1.initializationOptions = some(initOpts), (opts_1.markdown = {\r\n        isTrusted: true,\r\n        supportHtml: true,\r\n    }, opts_1))))))))))))))), false);\r\n    LanguageService_client(cl);\r\n    return cl;\r\n}\r\n\r\nexport function LanguageService_getOptions(c) {\r\n    return PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => {\r\n        let x_2;\r\n        const openTelemetryEnabled = Configuration_get(false, \"FSharp.openTelemetry.enabled\");\r\n        const enableProjectGraph = Configuration_get(false, \"FSharp.enableMSBuildProjectGraph\");\r\n        const oldgcConserveMemory = bind((x) => {\r\n            let copyOfStruct;\r\n            let matchValue;\r\n            let outArg = false;\r\n            matchValue = [tryParse((copyOfStruct = x, toString(copyOfStruct)), new FSharpRef(() => outArg, (v) => {\r\n                outArg = v;\r\n            })), outArg];\r\n            if (matchValue[0]) {\r\n                return matchValue[1];\r\n            }\r\n            else {\r\n                return void 0;\r\n            }\r\n        }, map_1((value) => value, Configuration_tryGet(\"FSharp.fsac.conserveMemory\")));\r\n        const gcConserveMemory = bind((x_1) => {\r\n            let copyOfStruct_1;\r\n            let matchValue_1;\r\n            let outArg_1 = 0;\r\n            matchValue_1 = [tryParse_1((copyOfStruct_1 = x_1, toString(copyOfStruct_1)), 511, false, 32, new FSharpRef(() => outArg_1, (v_2) => {\r\n                outArg_1 = (v_2 | 0);\r\n            })), outArg_1];\r\n            if (matchValue_1[0]) {\r\n                return matchValue_1[1];\r\n            }\r\n            else {\r\n                return void 0;\r\n            }\r\n        }, Configuration_tryGet(\"FSharp.fsac.gc.conserveMemory\"));\r\n        const gcConserveMemory_1 = ((gcConserveMemory == null) ? ((oldgcConserveMemory != null) ? (oldgcConserveMemory ? 9 : 0) : 0) : ((x_2 = (gcConserveMemory | 0), x_2))) | 0;\r\n        const gcHeapCount = Configuration_get(2, \"FSharp.fsac.gc.heapCount\") | 0;\r\n        const gcServer = Configuration_get(true, \"FSharp.fsac.gc.server\");\r\n        const gcNoAffinitize = Configuration_get(true, \"Fsharp.fsac.gc.noAffinitize\");\r\n        const parallelReferenceResolution = Configuration_get(false, \"FSharp.fsac.parallelReferenceResolution\");\r\n        const fsacAttachDebugger = Configuration_get(false, \"FSharp.fsac.attachDebugger\");\r\n        const fsacNetcorePath = Configuration_get(\"\", \"FSharp.fsac.netCoreDllPath\");\r\n        const fsacSilencedLogs = Configuration_get([], \"FSharp.fsac.silencedLogs\");\r\n        const verbose = Configuration_get(false, \"FSharp.verboseLogging\");\r\n        const probePathForTFMs = (basePath, tfm_2) => {\r\n            const availableTFMs_1 = filter((p) => (p.indexOf(\"net\") === 0), fs.readdirSync(basePath));\r\n            toConsole(interpolate(\"Available FSAC TFMs: %A%P()\", [availableTFMs_1]));\r\n            if (contains(tfm_2, availableTFMs_1, {\r\n                Equals: (x_4, y_1) => (x_4 === y_1),\r\n                GetHashCode: stringHash,\r\n            })) {\r\n                toConsole(printf(\"TFM match found\"));\r\n                return [tfm_2, path.join(basePath, tfm_2, \"fsautocomplete.dll\")];\r\n            }\r\n            else {\r\n                let tfm_3;\r\n                const availableTFMs = availableTFMs_1;\r\n                const tfmToSemVer = (t) => {\r\n                    const ver = split(replace(replace(t, \"netcoreapp\", \"\"), \"net\", \"\"), [\".\"], 2);\r\n                    return semver_2.parse(`${ver[0]}.${ver[1]}.0`);\r\n                };\r\n                const tfmMap = sortBy((tupledArg) => {\r\n                    const v_5 = tupledArg[1];\r\n                    return [v_5.major, v_5.minor];\r\n                }, choose_1((tfm_1) => {\r\n                    const matchValue_3 = tfmToSemVer(tfm_1);\r\n                    if (matchValue_3 == null) {\r\n                        return void 0;\r\n                    }\r\n                    else {\r\n                        return [tfm_1, matchValue_3];\r\n                    }\r\n                }, availableTFMs), {\r\n                    Compare: compareArrays,\r\n                });\r\n                toConsole(interpolate(\"choosing from among %A%P()\", [tfmMap]));\r\n                const matchValue_4 = tfmToSemVer(tfm_2);\r\n                if (matchValue_4 != null) {\r\n                    const ver_1 = matchValue_4;\r\n                    tfm_3 = defaultArgWith(map_1((tuple) => tuple[0], tryHead(skipWhile((tupledArg_1) => (semver_2.compare(tupledArg_1[1], ver_1) === -1), tfmMap))), () => last(availableTFMs));\r\n                }\r\n                else {\r\n                    toConsole(printf(\"unable to parse target tfm, using latest\"));\r\n                    tfm_3 = last(availableTFMs);\r\n                }\r\n                return [tfm_3, path.join(basePath, tfm_3, \"fsautocomplete.dll\")];\r\n            }\r\n        };\r\n        return Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, LanguageService_tryFindDotnet()).then((_arg_6) => {\r\n            const dotnet_1 = _arg_6;\r\n            return (dotnet_1.tag === 1) ? (Promise.resolve((() => {\r\n                throw new Error(dotnet_1.fields[0]);\r\n            })())) : (Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => (Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => (Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, LanguageService_sdkVersion()).then((_arg_2) => {\r\n                const sdkVersionAtRootPath = _arg_2;\r\n                if (sdkVersionAtRootPath.tag === 0) {\r\n                    const sdkVersion = sdkVersionAtRootPath.fields[0];\r\n                    const arg = sdkVersion.raw;\r\n                    toConsole(printf(\"Parsed SDK version at root path: %s\"))(arg);\r\n                    let sdkTfm;\r\n                    const v_7 = sdkVersion;\r\n                    const matchValue_5 = ~~v_7.major | 0;\r\n                    const matchValue_6 = ~~v_7.minor | 0;\r\n                    let matchResult, n;\r\n                    switch (matchValue_5) {\r\n                        case 2: {\r\n                            switch (matchValue_6) {\r\n                                case 0: {\r\n                                    matchResult = 3;\r\n                                    break;\r\n                                }\r\n                                case 1: {\r\n                                    matchResult = 2;\r\n                                    break;\r\n                                }\r\n                                default: {\r\n                                    matchResult = 4;\r\n                                    n = matchValue_5;\r\n                                }\r\n                            }\r\n                            break;\r\n                        }\r\n                        case 3: {\r\n                            switch (matchValue_6) {\r\n                                case 0: {\r\n                                    matchResult = 1;\r\n                                    break;\r\n                                }\r\n                                case 1: {\r\n                                    matchResult = 0;\r\n                                    break;\r\n                                }\r\n                                default: {\r\n                                    matchResult = 4;\r\n                                    n = matchValue_5;\r\n                                }\r\n                            }\r\n                            break;\r\n                        }\r\n                        default: {\r\n                            matchResult = 4;\r\n                            n = matchValue_5;\r\n                        }\r\n                    }\r\n                    switch (matchResult) {\r\n                        case 0: {\r\n                            sdkTfm = \"netcoreapp3.1\";\r\n                            break;\r\n                        }\r\n                        case 1: {\r\n                            sdkTfm = \"netcoreapp3.0\";\r\n                            break;\r\n                        }\r\n                        case 2: {\r\n                            sdkTfm = \"netcoreapp2.1\";\r\n                            break;\r\n                        }\r\n                        case 3: {\r\n                            sdkTfm = \"netcoreapp2.0\";\r\n                            break;\r\n                        }\r\n                        default:\r\n                            sdkTfm = (`net${n}.0`);\r\n                    }\r\n                    toConsole(printf(\"Parsed SDK version to tfm: %s\"))(sdkTfm);\r\n                    let patternInput;\r\n                    const tfm_4 = sdkTfm;\r\n                    let matchResult_1;\r\n                    if (fsacNetcorePath === defaultOf()) {\r\n                        matchResult_1 = 0;\r\n                    }\r\n                    else if (fsacNetcorePath === \"\") {\r\n                        matchResult_1 = 0;\r\n                    }\r\n                    else {\r\n                        matchResult_1 = 1;\r\n                    }\r\n                    switch (matchResult_1) {\r\n                        case 0: {\r\n                            patternInput = probePathForTFMs(path.join(VSCodeExtension_ionidePluginPath(), \"bin\"), tfm_4);\r\n                            break;\r\n                        }\r\n                        default: {\r\n                            const userSpecified = fsacNetcorePath;\r\n                            if (endsWith(userSpecified, \".dll\")) {\r\n                                patternInput = [path.basename(path.dirname(userSpecified)), userSpecified];\r\n                            }\r\n                            else {\r\n                                const filesAndFolders = map_2((child) => path.join(userSpecified, child), fs.readdirSync(userSpecified));\r\n                                toConsole(interpolate(\"candidates: %A%P()\", [filesAndFolders]));\r\n                                patternInput = (exists((folder) => {\r\n                                    toConsole(`checking folder ${folder}`);\r\n                                    const baseName = path.basename(folder);\r\n                                    if (baseName.indexOf(\"net\") === 0) {\r\n                                        const stat = fs.statSync(folder);\r\n                                        return stat.isDirectory();\r\n                                    }\r\n                                    else {\r\n                                        return false;\r\n                                    }\r\n                                }, filesAndFolders) ? probePathForTFMs(userSpecified, tfm_4) : [path.basename(path.dirname(userSpecified)), path.join(userSpecified, \"fsautocomplete.dll\")]);\r\n                            }\r\n                        }\r\n                    }\r\n                    const fsacPath = patternInput[1];\r\n                    toConsole(printf(\"Parsed TFM to fsac path: %s\"))(fsacPath);\r\n                    const userDotnetArgs = Configuration_get([], \"FSharp.fsac.dotnetArgs\");\r\n                    const hasUserRollForward = defaultArg(map_1((_arg_3) => true, tryFindIndex((a) => (a === \"--roll-forward\"), userDotnetArgs)), false);\r\n                    const shouldApplyImplicitRollForward = !(defaultArg(map_1((_arg_4) => true, tryFindIndex((a_1) => (a_1 === \"--fx-version\"), userDotnetArgs)), false) ? true : hasUserRollForward) && (sdkTfm !== patternInput[0]);\r\n                    const envVariables = toList(delay(() => append(shouldApplyImplicitRollForward ? singleton([\"DOTNET_ROLL_FORWARD\", \"LatestMajor\"]) : empty(), delay(() => {\r\n                        const matchValue_8 = sdkVersion.prerelease;\r\n                        if (equals(matchValue_8, defaultOf())) {\r\n                            return empty();\r\n                        }\r\n                        else if (length(matchValue_8) > 0) {\r\n                            return singleton([\"DOTNET_ROLL_FORWARD_TO_PRERELEASE\", 1]);\r\n                        }\r\n                        else {\r\n                            return empty();\r\n                        }\r\n                    }))));\r\n                    return Promise.resolve([userDotnetArgs, envVariables, fsacPath, sdkVersion]);\r\n                }\r\n                else {\r\n                    toConsole(`Error finding dotnet version: ${sdkVersionAtRootPath.fields[0]}`);\r\n                    return Promise.resolve((() => {\r\n                        throw new Error(\"Error finding dotnet version, do you have dotnet installed and on the PATH?\");\r\n                    })());\r\n                }\r\n            }))))).then((_arg_5) => {\r\n                let arg_3;\r\n                const fsacPath_1 = _arg_5[2];\r\n                const versionSupportingEnvVars = value_10(semver_2.parse(\"7.0.0\"));\r\n                const isNet7orHigher = semver_2.cmp(_arg_5[3], \">=\", versionSupportingEnvVars);\r\n                const fsacEnvVars_1 = toList(delay(() => append(_arg_5[1], delay(() => append(isNet7orHigher ? append(singleton([\"DOTNET_GCNoAffinitize\", gcNoAffinitize ? 1 : 0]), delay(() => singleton([\"DOTNET_GCHeapCount\", format('{0:' + \"X\" + '}', gcHeapCount)]))) : empty(), delay(() => append(singleton([\"DOTNET_GCConserveMemory\", gcConserveMemory_1]), delay(() => append(singleton([\"DOTNET_GCServer\", gcServer ? 1 : 0]), delay(() => (parallelReferenceResolution ? singleton([\"FCS_ParallelReferenceResolution\", \"true\"]) : empty())))))))))));\r\n                ConsoleAndOutputChannelLogger__Debug_Z17053F5(LanguageService_logger, `FSAC (NETCORE): '${fsacPath_1}'`);\r\n                const exeOpts = {};\r\n                const exeEnv = isEmpty(fsacEnvVars_1) ? void 0 : some(createObj((arg_3 = append_1(map((k) => [k, process.env[k]], toList(Object.keys(process.env))), fsacEnvVars_1), Array.from(arg_3))));\r\n                exeOpts.env = exeEnv;\r\n                let args_1;\r\n                const arg_4 = toList(delay(() => append(_arg_5[0], delay(() => append(singleton(fsacPath_1), delay(() => append(fsacAttachDebugger ? append(singleton(\"--attachdebugger\"), delay(() => singleton(\"--wait-for-debugger\"))) : empty(), delay(() => append(enableProjectGraph ? singleton(\"--project-graph-enabled\") : empty(), delay(() => append(openTelemetryEnabled ? singleton(\"--otel-exporter-enabled\") : empty(), delay(() => append(verbose ? singleton(\"--verbose\") : empty(), delay(() => append((!equalsWith((x_5, y_2) => (x_5 === y_2), fsacSilencedLogs, defaultOf()) && (fsacSilencedLogs.length > 0)) ? append(singleton(\"--filter\"), delay(() => fsacSilencedLogs)) : empty(), delay(() => {\r\n                    const matchValue_9 = c.storageUri;\r\n                    if (matchValue_9 == null) {\r\n                        return empty();\r\n                    }\r\n                    else {\r\n                        const uri = matchValue_9;\r\n                        const storageDir = uri.fsPath;\r\n                        return append(singleton(\"--state-directory\"), delay(() => singleton(storageDir)));\r\n                    }\r\n                }))))))))))))))));\r\n                args_1 = Array.from(arg_4);\r\n                const executable = {};\r\n                executable.command = dotnet_1.fields[0];\r\n                executable.args = args_1;\r\n                executable.options = exeOpts;\r\n                return Promise.resolve(executable);\r\n            }))))));\r\n        });\r\n    }));\r\n}\r\n\r\nexport function LanguageService_registerCustomNotifications(cl) {\r\n    cl.onNotification(\"fsharp/notifyWorkspace\", (a) => {\r\n        if (Notifications_notifyWorkspaceHandler() != null) {\r\n            const cb = Notifications_notifyWorkspaceHandler();\r\n            let res;\r\n            const matchValue_1 = fromString(uncurry2(Auto_generateBoxedDecoder_Z6670B51(obj_type, void 0, void 0)), a.content);\r\n            if (matchValue_1.tag === 1) {\r\n                throw new Error(matchValue_1.fields[0]);\r\n            }\r\n            else {\r\n                res = matchValue_1.fields[0];\r\n            }\r\n            const matchValue = res.Kind;\r\n            switch (matchValue) {\r\n                case \"project\": {\r\n                    cb(new FSharpChoice$4(0, [res]));\r\n                    break;\r\n                }\r\n                case \"projectLoading\": {\r\n                    cb(new FSharpChoice$4(1, [res]));\r\n                    break;\r\n                }\r\n                case \"error\": {\r\n                    cb(new FSharpChoice$4(2, [LanguageService_parseError(res.Data)]));\r\n                    break;\r\n                }\r\n                case \"workspaceLoad\": {\r\n                    cb(new FSharpChoice$4(3, [res.Data.Status]));\r\n                    break;\r\n                }\r\n                default:\r\n                    0;\r\n            }\r\n        }\r\n    });\r\n    cl.onNotification(\"fsharp/fileParsed\", (a_1) => {\r\n        const uri = a_1.content;\r\n        iterate((te) => {\r\n            const ev = new Notifications_DocumentParsedEvent(uri, te.document.version, te.document);\r\n            Notifications_onDocumentParsedEmitter.fire(ev);\r\n        }, toArray_1(tryFind((n) => (Fable_Import_VSCode_Vscode_Uri__Uri_get_ToDocumentUri(n.document.uri).toLowerCase() === uri.toLowerCase()), window$.visibleTextEditors)));\r\n    });\r\n    cl.onNotification(\"fsharp/testDetected\", (a_2) => {\r\n        Notifications_testDetectedEmitter.fire(a_2);\r\n    });\r\n}\r\n\r\nexport function LanguageService_start(c) {\r\n    return PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => (PromiseBuilder__Delay_62FBFDE1(promise, () => (Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, LanguageService_getOptions(c)).then((_arg) => {\r\n        const startOpts = _arg;\r\n        ConsoleAndOutputChannelLogger__Debug_Z17053F5(LanguageService_logger, \"F# language server options: %%\", startOpts);\r\n        const cl = LanguageService_createClient(startOpts);\r\n        LanguageService_registerCustomNotifications(cl);\r\n        return Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, cl.start()).then(() => (Promise.resolve(void 0)));\r\n    }))).catch((_arg_2) => {\r\n        const e = _arg_2;\r\n        ConsoleAndOutputChannelLogger__Error_Z17053F5(LanguageService_logger, \"Error starting F# language server: %%\", e);\r\n        return Promise.resolve((() => {\r\n            throw e;\r\n        })());\r\n    }))));\r\n}\r\n\r\nexport function LanguageService_stop() {\r\n    return PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => {\r\n        if (LanguageService_client() == null) {\r\n            return Promise.resolve(void 0);\r\n        }\r\n        else {\r\n            const cl = LanguageService_client();\r\n            return Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, cl.stop());\r\n        }\r\n    }));\r\n}\r\n\r\n//# sourceMappingURL=LanguageService.js.map\r\n","import { FSharpRef } from \"./Types.js\";\nexport function tryParse(str, defValue) {\n    if (str.match(/^\\s*true\\s*$/i)) {\n        defValue.contents = true;\n        return true;\n    }\n    else if (str.match(/^\\s*false\\s*$/i)) {\n        defValue.contents = false;\n        return true;\n    }\n    return false;\n}\nexport function parse(str) {\n    const defValue = new FSharpRef(false);\n    if (tryParse(str, defValue)) {\n        return defValue.contents;\n    }\n    else {\n        throw new Error(`String '${str}' was not recognized as a valid Boolean.`);\n    }\n}\n","import { equals } from \"./Util.js\";\nimport { Union } from \"./Types.js\";\nconst CaseRules = {\n    None: 0,\n    LowerFirst: 1,\n    SnakeCase: 2,\n    SnakeCaseAllCaps: 3,\n    KebabCase: 4,\n};\nfunction dashify(str, separator) {\n    return str.replace(/[a-z]?[A-Z]/g, (m) => m.length === 1\n        ? m.toLowerCase()\n        : m.charAt(0) + separator + m.charAt(1).toLowerCase());\n}\nfunction changeCase(str, caseRule) {\n    switch (caseRule) {\n        case CaseRules.LowerFirst:\n            return str.charAt(0).toLowerCase() + str.slice(1);\n        case CaseRules.SnakeCase:\n            return dashify(str, \"_\");\n        case CaseRules.SnakeCaseAllCaps:\n            return dashify(str, \"_\").toUpperCase();\n        case CaseRules.KebabCase:\n            return dashify(str, \"-\");\n        case CaseRules.None:\n        default:\n            return str;\n    }\n}\nexport function keyValueList(fields, caseRule = CaseRules.None) {\n    const obj = {};\n    const definedCaseRule = caseRule;\n    function fail(kvPair) {\n        throw new Error(\"Cannot infer key and value of \" + String(kvPair));\n    }\n    function assign(key, caseRule, value) {\n        key = changeCase(key, caseRule);\n        obj[key] = value;\n    }\n    for (let kvPair of fields) {\n        let caseRule = CaseRules.None;\n        if (kvPair == null) {\n            fail(kvPair);\n        }\n        // Deflate unions and use the defined case rule\n        if (kvPair instanceof Union) {\n            const name = kvPair.cases()[kvPair.tag];\n            kvPair = kvPair.fields.length === 0 ? name : [name].concat(kvPair.fields);\n            caseRule = definedCaseRule;\n        }\n        if (Array.isArray(kvPair)) {\n            switch (kvPair.length) {\n                case 0:\n                    fail(kvPair);\n                    break;\n                case 1:\n                    assign(kvPair[0], caseRule, true);\n                    break;\n                case 2:\n                    const value = kvPair[1];\n                    assign(kvPair[0], caseRule, value);\n                    break;\n                default:\n                    assign(kvPair[0], caseRule, kvPair.slice(1));\n            }\n        }\n        else if (typeof kvPair === \"string\") {\n            assign(kvPair, caseRule, true);\n        }\n        else {\n            fail(kvPair);\n        }\n    }\n    return obj;\n}\n// TODO: Move these methods to Map and Set modules\nexport function containsValue(v, map) {\n    for (const kv of map) {\n        if (equals(v, kv[1])) {\n            return true;\n        }\n    }\n    return false;\n}\nexport function tryGetValue(map, key, defaultValue) {\n    if (map.has(key)) {\n        defaultValue.contents = map.get(key);\n        return true;\n    }\n    return false;\n}\nexport function addToSet(v, set) {\n    if (set.has(v)) {\n        return false;\n    }\n    set.add(v);\n    return true;\n}\nexport function addToDict(dict, k, v) {\n    if (dict.has(k)) {\n        throw new Error(\"An item with the same key has already been added. Key: \" + k);\n    }\n    dict.set(k, v);\n}\nexport function getItemFromDict(map, key) {\n    if (map.has(key)) {\n        return map.get(key);\n    }\n    else {\n        throw new Error(`The given key '${key}' was not present in the dictionary.`);\n    }\n}\n","import { ConsoleAndOutputChannelLogger__Warn_Z17053F5, Level, ConsoleAndOutputChannelLogger_$ctor_Z565F02F0 } from \"./Logging.js\";\r\nimport { FSharpRef, toString, Union } from \"../fable_modules/fable-library.4.2.2/Types.js\";\r\nimport { union_type, string_type } from \"../fable_modules/fable-library.4.2.2/Reflection.js\";\r\nimport { WorkspacePeekFound, WorkspacePeekFoundDirectory, Project_$reflection } from \"./DTO.js\";\r\nimport { comparePrimitives, equals, stringHash, defaultOf, createAtom } from \"../fable_modules/fable-library.4.2.2/Util.js\";\r\nimport { ShowStatus_CreateOrShow_Z384F8060, Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B, Promise_PromiseBuilder__PromiseBuilder_Source_Z7741CCC2, Promise_empty, Utils_isNotNull, String_endWith, Configuration_get, Context_cachedSetter } from \"./Utils.js\";\r\nimport { commands, window as window$, workspace } from \"vscode\";\r\nimport * as vscode from \"vscode\";\r\nimport { max } from \"../fable_modules/fable-library.4.2.2/Double.js\";\r\nimport { empty as empty_1, singleton as singleton_1, append as append_1, delay, filter, length, iterate, tryFind, toList, exists } from \"../fable_modules/fable-library.4.2.2/Seq.js\";\r\nimport { head, tail, toArray as toArray_1, append, isEmpty, tryFind as tryFind_1, tryPick, singleton, collect as collect_1, choose, empty, ofArray, map, cons } from \"../fable_modules/fable-library.4.2.2/List.js\";\r\nimport * as fs from \"fs\";\r\nimport { bind, some, toArray, value as value_2, map as map_1 } from \"../fable_modules/fable-library.4.2.2/Option.js\";\r\nimport { addToDict, tryGetValue } from \"../fable_modules/fable-library.4.2.2/MapUtil.js\";\r\nimport { sortBy, reverse, sumBy, map as map_2, contains, collect } from \"../fable_modules/fable-library.4.2.2/Array.js\";\r\nimport * as path_2 from \"path\";\r\nimport { substring, printf, toText, endsWith } from \"../fable_modules/fable-library.4.2.2/String.js\";\r\nimport { Notifications_notifyWorkspaceHandler, LanguageService_workspaceLoad, LanguageService_workspacePeek, LanguageService_tryFindDotnet, LanguageService_project } from \"./LanguageService.js\";\r\nimport { PromiseBuilder__Delay_62FBFDE1, PromiseBuilder__Run_212F1D4B } from \"../fable_modules/Fable.Promise.3.2.0/Promise.fs.js\";\r\nimport { promise } from \"../fable_modules/Fable.Promise.3.2.0/PromiseImpl.fs.js\";\r\nimport { Process_spawnWithShell, Process_spawnWithNotification } from \"../paket-files/ionide/ionide-vscode-helpers/src/Helpers.js\";\r\n\r\nconst logger = ConsoleAndOutputChannelLogger_$ctor_Z565F02F0(\"Project\", new Level(0, []), void 0, new Level(0, []));\r\n\r\nexport class ProjectLoadingState extends Union {\r\n    constructor(tag, fields) {\r\n        super();\r\n        this.tag = tag;\r\n        this.fields = fields;\r\n    }\r\n    cases() {\r\n        return [\"Loading\", \"Loaded\", \"Failed\", \"NotRestored\", \"LanguageNotSupported\"];\r\n    }\r\n}\r\n\r\nexport function ProjectLoadingState_$reflection() {\r\n    return union_type(\"Ionide.VSCode.FSharp.Project.ProjectLoadingState\", [], ProjectLoadingState, () => [[[\"path\", string_type]], [[\"proj\", Project_$reflection()]], [[\"path\", string_type], [\"error\", string_type]], [[\"path\", string_type], [\"error\", string_type]], [[\"path\", string_type]]]);\r\n}\r\n\r\nconst emptyProjectsMap = new Map([]);\r\n\r\nlet loadedProjects = emptyProjectsMap;\r\n\r\nlet loadedWorkspace = void 0;\r\n\r\nexport let workspaceNotificationAvaiable = createAtom(false);\r\n\r\nexport const setAnyProjectContext = Context_cachedSetter(\"fsharp.project.any\");\r\n\r\nconst workspaceChangedEmitter = new vscode.EventEmitter();\r\n\r\nexport const workspaceChanged = workspaceChangedEmitter.event;\r\n\r\nconst projectNotRestoredLoadedEmitter = new vscode.EventEmitter();\r\n\r\nexport const projectNotRestoredLoaded = projectNotRestoredLoadedEmitter.event;\r\n\r\nconst projectLoadedEmitter = new vscode.EventEmitter();\r\n\r\nexport const projectLoaded = projectLoadedEmitter.event;\r\n\r\nconst workspaceLoadedEmitter = new vscode.EventEmitter();\r\n\r\nexport const workspaceLoaded = workspaceLoadedEmitter.event;\r\n\r\nconst statusUpdatedEmitter = new vscode.EventEmitter();\r\n\r\nexport const statusUpdated = statusUpdatedEmitter.event;\r\n\r\nexport const excluded = Configuration_get([\".git\", \"paket-files\", \".fable\", \"packages\", \"node_modules\"], \"FSharp.excludeProjectDirectories\");\r\n\r\nexport const deepLevel = max(0, Configuration_get(2, \"FSharp.workspaceModePeekDeepLevel\"));\r\n\r\nexport function isNetCoreApp(project) {\r\n    return exists((tfm) => {\r\n        if (tfm === \"net5.0\") {\r\n            return true;\r\n        }\r\n        else {\r\n            return tfm.indexOf(\"netcoreapp\") === 0;\r\n        }\r\n    }, cons(project.Info.TargetFramework, project.Info.TargetFrameworks));\r\n}\r\n\r\nexport function isSDKProjectPath(project) {\r\n    const projectContent = toString(fs.readFileSync(project));\r\n    return projectContent.indexOf(\"<Project Sdk=\\\"\") >= 0;\r\n}\r\n\r\nexport function isExeProject(project) {\r\n    const matchValue_1 = isNetCoreApp(project);\r\n    if (matchValue_1) {\r\n        return project.OutputType.toLowerCase() !== \"lib\";\r\n    }\r\n    else if (String_endWith(\".exe\", project.Output)) {\r\n        return true;\r\n    }\r\n    else {\r\n        return false;\r\n    }\r\n}\r\n\r\nexport function getInWorkspace() {\r\n    return map((n) => n[1], toList(loadedProjects));\r\n}\r\n\r\nexport function tryFindInWorkspace(path) {\r\n    return map_1((n_1) => n_1[1], tryFind((n) => (n[0] === path.toUpperCase()), loadedProjects));\r\n}\r\n\r\nexport function updateInWorkspace(path, state) {\r\n    const path_1 = path.toUpperCase();\r\n    let matchValue;\r\n    let outArg = defaultOf();\r\n    matchValue = [tryGetValue(loadedProjects, path_1, new FSharpRef(() => outArg, (v) => {\r\n        outArg = v;\r\n    })), outArg];\r\n    if (matchValue[0]) {\r\n        let matchResult;\r\n        if (matchValue[1].tag === 1) {\r\n            if (state.tag === 0) {\r\n                matchResult = 0;\r\n            }\r\n            else {\r\n                matchResult = 1;\r\n            }\r\n        }\r\n        else {\r\n            matchResult = 1;\r\n        }\r\n        switch (matchResult) {\r\n            case 0: {\r\n                break;\r\n            }\r\n            case 1: {\r\n                loadedProjects.set(path_1, state);\r\n                statusUpdatedEmitter.fire(void 0);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n    else {\r\n        addToDict(loadedProjects, path_1, state);\r\n        statusUpdatedEmitter.fire(void 0);\r\n    }\r\n}\r\n\r\nexport function getProjectsFromWorkspacePeek() {\r\n    if (loadedWorkspace != null) {\r\n        if (loadedWorkspace.tag === 0) {\r\n            const dir = loadedWorkspace.fields[0];\r\n            return ofArray(dir.Fsprojs);\r\n        }\r\n        else {\r\n            const sln = loadedWorkspace.fields[0];\r\n            const getProjs = (item) => {\r\n                const matchValue = item.Kind;\r\n                if (matchValue.tag === 1) {\r\n                    return collect(getProjs, matchValue.fields[0].Items);\r\n                }\r\n                else {\r\n                    return [item.Name];\r\n                }\r\n            };\r\n            return ofArray(collect(getProjs, sln.Items));\r\n        }\r\n    }\r\n    else {\r\n        return empty();\r\n    }\r\n}\r\n\r\nexport function getNotLoaded() {\r\n    return choose((n) => {\r\n        const matchValue = tryFindInWorkspace(n);\r\n        if (matchValue != null) {\r\n            return void 0;\r\n        }\r\n        else {\r\n            return n;\r\n        }\r\n    }, getProjectsFromWorkspacePeek());\r\n}\r\n\r\nexport function isIgnored(path) {\r\n    const relativePath = path_2.relative(value_2(workspace.rootPath), path);\r\n    return excluded.some((p) => {\r\n        const relativeToDir = path_2.relative(p, relativePath);\r\n        return !(relativeToDir.indexOf(\"..\") === 0);\r\n    });\r\n}\r\n\r\nfunction findAll() {\r\n    const findProjs = (dir) => collect_1((s$0027) => {\r\n        try {\r\n            const s = (dir + path_2.sep) + s$0027;\r\n            return contains(s$0027, excluded, {\r\n                Equals: (x, y) => (x === y),\r\n                GetHashCode: stringHash,\r\n            }) ? empty() : (fs.statSync(s).isDirectory() ? findProjs(s) : (endsWith(s, \".fsproj\") ? singleton(s) : empty()));\r\n        }\r\n        catch (matchValue) {\r\n            return empty();\r\n        }\r\n    }, toList(fs.readdirSync(dir)));\r\n    const matchValue_1 = workspace.rootPath;\r\n    if (matchValue_1 != null) {\r\n        return findProjs(matchValue_1);\r\n    }\r\n    else {\r\n        return empty();\r\n    }\r\n}\r\n\r\nexport function getAll() {\r\n    const findProjs = (dir) => collect_1((s$0027) => {\r\n        try {\r\n            const s = (dir + path_2.sep) + s$0027;\r\n            return contains(s$0027, excluded, {\r\n                Equals: (x, y) => (x === y),\r\n                GetHashCode: stringHash,\r\n            }) ? empty() : (fs.statSync(s).isDirectory() ? findProjs(s) : (((endsWith(s, \".fsproj\") ? true : endsWith(s, \".csproj\")) ? true : endsWith(s, \".vbproj\")) ? singleton(s) : empty()));\r\n        }\r\n        catch (matchValue) {\r\n            return empty();\r\n        }\r\n    }, toList(fs.readdirSync(dir)));\r\n    const matchValue_1 = workspace.rootPath;\r\n    if (matchValue_1 != null) {\r\n        return findProjs(matchValue_1);\r\n    }\r\n    else {\r\n        return empty();\r\n    }\r\n}\r\n\r\nfunction clearLoadedProjects() {\r\n    loadedProjects = emptyProjectsMap;\r\n    setAnyProjectContext(false);\r\n}\r\n\r\nexport function load(comingFromRestore, path) {\r\n    updateInWorkspace(path, new ProjectLoadingState(0, [path]));\r\n    if (endsWith(path, \".fsproj\")) {\r\n        let pr_2;\r\n        const pr_1 = LanguageService_project(path);\r\n        pr_2 = (pr_1.then((r) => {\r\n            if (r.tag === 1) {\r\n                const tupledArg = r.fields[0];\r\n                const msg = tupledArg[0];\r\n                const err = tupledArg[1];\r\n                let matchResult, _d_1;\r\n                if (err.tag === 1) {\r\n                    if (!comingFromRestore) {\r\n                        matchResult = 0;\r\n                        _d_1 = err.fields[0];\r\n                    }\r\n                    else if (!comingFromRestore && isSDKProjectPath(path)) {\r\n                        matchResult = 1;\r\n                    }\r\n                    else {\r\n                        matchResult = 2;\r\n                    }\r\n                }\r\n                else if (!comingFromRestore && isSDKProjectPath(path)) {\r\n                    matchResult = 1;\r\n                }\r\n                else {\r\n                    matchResult = 2;\r\n                }\r\n                switch (matchResult) {\r\n                    case 0: {\r\n                        projectNotRestoredLoadedEmitter.fire(path);\r\n                        return [path, new ProjectLoadingState(3, [path, msg])];\r\n                    }\r\n                    case 1: {\r\n                        projectNotRestoredLoadedEmitter.fire(path);\r\n                        return [path, new ProjectLoadingState(2, [path, msg])];\r\n                    }\r\n                    default:\r\n                        return [path, new ProjectLoadingState(2, [path, msg])];\r\n                }\r\n            }\r\n            else {\r\n                const pr = r.fields[0];\r\n                if (Utils_isNotNull(pr)) {\r\n                    projectLoadedEmitter.fire(pr.Data);\r\n                    return [pr.Data.Project, new ProjectLoadingState(1, [pr.Data])];\r\n                }\r\n                else {\r\n                    return void 0;\r\n                }\r\n            }\r\n        }));\r\n        return pr_2.then((r_1) => {\r\n            if (r_1 == null) {\r\n            }\r\n            else {\r\n                updateInWorkspace(r_1[0], r_1[1]);\r\n                iterate((arg) => {\r\n                    workspaceChangedEmitter.fire(arg);\r\n                }, toArray(loadedWorkspace));\r\n                setAnyProjectContext(true);\r\n            }\r\n        });\r\n    }\r\n    else {\r\n        return Promise_empty();\r\n    }\r\n}\r\n\r\nfunction chooseLoaded(_arg) {\r\n    if (_arg.tag === 1) {\r\n        return _arg.fields[0];\r\n    }\r\n    else {\r\n        return void 0;\r\n    }\r\n}\r\n\r\nexport const getLoaded = () => choose(chooseLoaded, getInWorkspace());\r\n\r\nexport function tryFindLoadedProjectByFile(filePath) {\r\n    return tryPick((v) => {\r\n        if (length(filter((f) => (f.toUpperCase() === filePath.toUpperCase()), v.Files)) > 0) {\r\n            return v;\r\n        }\r\n        else {\r\n            return void 0;\r\n        }\r\n    }, getLoaded());\r\n}\r\n\r\nexport function foldFsproj(item) {\r\n    const matchValue = item.Kind;\r\n    if (matchValue.tag === 0) {\r\n        return [[item.Name, matchValue.fields[0]]];\r\n    }\r\n    else {\r\n        return collect(foldFsproj, matchValue.fields[0].Items);\r\n    }\r\n}\r\n\r\nexport function isLoadingWorkspaceComplete() {\r\n    let sln, dir;\r\n    const array_2 = (loadedWorkspace != null) ? ((loadedWorkspace.tag === 1) ? ((sln = loadedWorkspace.fields[0], map_2((tuple) => tuple[0], collect(foldFsproj, sln.Items)))) : ((dir = loadedWorkspace.fields[0], dir.Fsprojs))) : (new Array(0));\r\n    return array_2.some((p) => {\r\n        const matchValue = tryFindInWorkspace(p);\r\n        let matchResult;\r\n        if (matchValue != null) {\r\n            switch (matchValue.tag) {\r\n                case 1:\r\n                case 2:\r\n                case 3:\r\n                case 4: {\r\n                    matchResult = 1;\r\n                    break;\r\n                }\r\n                default:\r\n                    matchResult = 0;\r\n            }\r\n        }\r\n        else {\r\n            matchResult = 0;\r\n        }\r\n        switch (matchResult) {\r\n            case 0:\r\n                return true;\r\n            default:\r\n                return false;\r\n        }\r\n    });\r\n}\r\n\r\nexport function getLoadedSolution() {\r\n    return loadedWorkspace;\r\n}\r\n\r\nexport function getCaches() {\r\n    const findProjs = (dir) => {\r\n        const files = fs.readdirSync(dir);\r\n        if (files == null) {\r\n            return empty();\r\n        }\r\n        else {\r\n            return collect_1((s$0027) => {\r\n                try {\r\n                    const s = (dir + path_2.sep) + s$0027;\r\n                    return contains(s$0027, excluded, {\r\n                        Equals: (x, y) => (x === y),\r\n                        GetHashCode: stringHash,\r\n                    }) ? empty() : (fs.statSync(s).isDirectory() ? findProjs(s) : (endsWith(s, \"fsac.cache\") ? singleton(s) : empty()));\r\n                }\r\n                catch (matchValue) {\r\n                    return empty();\r\n                }\r\n            }, toList(files));\r\n        }\r\n    };\r\n    const matchValue_1 = workspace.rootPath;\r\n    if (matchValue_1 != null) {\r\n        return findProjs(matchValue_1);\r\n    }\r\n    else {\r\n        return empty();\r\n    }\r\n}\r\n\r\nexport function clearCache() {\r\n    iterate((arg_2) => {\r\n        fs.unlinkSync(arg_2);\r\n    }, getCaches());\r\n    window$.showInformationMessage(\"Project Cache cleared\");\r\n}\r\n\r\nexport function countProjectsInSln(sln) {\r\n    return sumBy((array_1) => array_1.length, map_2(foldFsproj, sln.Items), {\r\n        GetZero: () => 0,\r\n        Add: (x, y) => (x + y),\r\n    });\r\n}\r\n\r\nexport class ConfiguredWorkspace extends Union {\r\n    constructor(tag, fields) {\r\n        super();\r\n        this.tag = tag;\r\n        this.fields = fields;\r\n    }\r\n    cases() {\r\n        return [\"Solution\", \"Directory\"];\r\n    }\r\n}\r\n\r\nexport function ConfiguredWorkspace_$reflection() {\r\n    return union_type(\"Ionide.VSCode.FSharp.Project.ConfiguredWorkspace\", [], ConfiguredWorkspace, () => [[[\"path\", string_type]], [[\"path\", string_type]]]);\r\n}\r\n\r\nconst CurrentWorkspaceConfiguration_key = \"FSharp.workspacePath\";\r\n\r\nlet CurrentWorkspaceConfiguration_extensionWorkspaceState = void 0;\r\n\r\nfunction CurrentWorkspaceConfiguration_setContext(context) {\r\n    CurrentWorkspaceConfiguration_extensionWorkspaceState = context.workspaceState;\r\n}\r\n\r\nfunction CurrentWorkspaceConfiguration_parse(value) {\r\n    const fullPath = path_2.resolve(value_2(workspace.rootPath), value);\r\n    if (endsWith(value.toLowerCase(), \".sln\")) {\r\n        return new ConfiguredWorkspace(0, [fullPath]);\r\n    }\r\n    else {\r\n        return new ConfiguredWorkspace(1, [fullPath]);\r\n    }\r\n}\r\n\r\nfunction CurrentWorkspaceConfiguration_pathExists(value) {\r\n    if (value.tag === 0) {\r\n        try {\r\n            const stats_1 = fs.statSync(value.fields[0]);\r\n            return !(stats_1 == null) && stats_1.isFile();\r\n        }\r\n        catch (matchValue_1) {\r\n            return false;\r\n        }\r\n    }\r\n    else {\r\n        try {\r\n            const stats = fs.statSync(value.fields[0]);\r\n            return !(stats == null) && stats.isDirectory();\r\n        }\r\n        catch (matchValue) {\r\n            return false;\r\n        }\r\n    }\r\n}\r\n\r\nfunction CurrentWorkspaceConfiguration_parseAndValidate(config) {\r\n    let matchResult, ws;\r\n    if (config != null) {\r\n        if (config === \"\") {\r\n            matchResult = 0;\r\n        }\r\n        else {\r\n            matchResult = 1;\r\n            ws = config;\r\n        }\r\n    }\r\n    else {\r\n        matchResult = 0;\r\n    }\r\n    switch (matchResult) {\r\n        case 0:\r\n            return void 0;\r\n        default: {\r\n            const configured = CurrentWorkspaceConfiguration_parse(ws);\r\n            if (CurrentWorkspaceConfiguration_pathExists(configured)) {\r\n                return configured;\r\n            }\r\n            else {\r\n                ConsoleAndOutputChannelLogger__Warn_Z17053F5(logger, \"Ignoring configured workspace \\'%s\\' as the file or directory can\\'t be resolved (From \\'%s\\')\", ws, toText(printf(\"%A\"))(configured));\r\n                return void 0;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nfunction CurrentWorkspaceConfiguration_getStringFromWorkspaceConfig() {\r\n    return workspace.getConfiguration().get(CurrentWorkspaceConfiguration_key);\r\n}\r\n\r\nfunction CurrentWorkspaceConfiguration_getStringFromExtensionState() {\r\n    return value_2(CurrentWorkspaceConfiguration_extensionWorkspaceState).get(CurrentWorkspaceConfiguration_key);\r\n}\r\n\r\nfunction CurrentWorkspaceConfiguration_get() {\r\n    const matchValue = CurrentWorkspaceConfiguration_parseAndValidate(CurrentWorkspaceConfiguration_getStringFromWorkspaceConfig());\r\n    if (matchValue == null) {\r\n        return CurrentWorkspaceConfiguration_parseAndValidate(CurrentWorkspaceConfiguration_getStringFromExtensionState());\r\n    }\r\n    else {\r\n        return matchValue;\r\n    }\r\n}\r\n\r\nfunction CurrentWorkspaceConfiguration_getWorkspacePath(value) {\r\n    if (value.tag === 1) {\r\n        return value.fields[0];\r\n    }\r\n    else {\r\n        return value.fields[0];\r\n    }\r\n}\r\n\r\nfunction CurrentWorkspaceConfiguration_isConfiguredInWorkspace() {\r\n    const matchValue = CurrentWorkspaceConfiguration_getStringFromWorkspaceConfig();\r\n    let matchResult;\r\n    if (matchValue != null) {\r\n        if (matchValue === \"\") {\r\n            matchResult = 0;\r\n        }\r\n        else {\r\n            matchResult = 1;\r\n        }\r\n    }\r\n    else {\r\n        matchResult = 0;\r\n    }\r\n    switch (matchResult) {\r\n        case 0:\r\n            return false;\r\n        default:\r\n            return true;\r\n    }\r\n}\r\n\r\nfunction CurrentWorkspaceConfiguration_set(value) {\r\n    const configuredPath = CurrentWorkspaceConfiguration_getWorkspacePath(value);\r\n    if (CurrentWorkspaceConfiguration_isConfiguredInWorkspace()) {\r\n        let relativePath;\r\n        const raw = path_2.relative(value_2(workspace.rootPath), configuredPath);\r\n        relativePath = ((!path_2.isAbsolute(raw) && !(raw.indexOf(\"..\") === 0)) ? (\"./\" + raw) : raw);\r\n        const config = workspace.getConfiguration();\r\n        return config.update(CurrentWorkspaceConfiguration_key, some(relativePath), false);\r\n    }\r\n    else {\r\n        return value_2(CurrentWorkspaceConfiguration_extensionWorkspaceState).update(CurrentWorkspaceConfiguration_key, some(configuredPath));\r\n    }\r\n}\r\n\r\nfunction CurrentWorkspaceConfiguration_setFromPeek(value) {\r\n    return CurrentWorkspaceConfiguration_set((value.tag === 1) ? (new ConfiguredWorkspace(0, [value.fields[0].Path])) : (new ConfiguredWorkspace(1, [value.fields[0].Directory])));\r\n}\r\n\r\nfunction CurrentWorkspaceConfiguration_removeEndSlash(value) {\r\n    if (value.length === 0) {\r\n        return \"\";\r\n    }\r\n    else {\r\n        const lastChar = value[value.length - 1];\r\n        if ((lastChar === \"/\") ? true : (lastChar === \"\\\\\")) {\r\n            return substring(value, 0, value.length - 1);\r\n        }\r\n        else {\r\n            return value;\r\n        }\r\n    }\r\n}\r\n\r\nfunction CurrentWorkspaceConfiguration_equalPeek(value, peek) {\r\n    let matchResult, peekDir, valueDir, peekSln, valueSln;\r\n    if (value.tag === 0) {\r\n        if (peek.tag === 1) {\r\n            matchResult = 1;\r\n            peekSln = peek.fields[0];\r\n            valueSln = value.fields[0];\r\n        }\r\n        else {\r\n            matchResult = 2;\r\n        }\r\n    }\r\n    else if (peek.tag === 0) {\r\n        matchResult = 0;\r\n        peekDir = peek.fields[0];\r\n        valueDir = value.fields[0];\r\n    }\r\n    else {\r\n        matchResult = 2;\r\n    }\r\n    switch (matchResult) {\r\n        case 0:\r\n            return CurrentWorkspaceConfiguration_removeEndSlash(valueDir) === CurrentWorkspaceConfiguration_removeEndSlash(peekDir.Directory);\r\n        case 1:\r\n            return valueSln === peekSln.Path;\r\n        default:\r\n            return false;\r\n    }\r\n}\r\n\r\nfunction CurrentWorkspaceConfiguration_tryFind(value, found) {\r\n    return bind((configured) => {\r\n        if (CurrentWorkspaceConfiguration_pathExists(configured)) {\r\n            return tryFind_1((peek) => CurrentWorkspaceConfiguration_equalPeek(configured, peek), found);\r\n        }\r\n        else {\r\n            return void 0;\r\n        }\r\n    }, value);\r\n}\r\n\r\nexport function pickFSACWorkspace(ws, defaultPick) {\r\n    const isDefault = (peekFound) => {\r\n        if (defaultPick == null) {\r\n            return false;\r\n        }\r\n        else {\r\n            return CurrentWorkspaceConfiguration_equalPeek(defaultPick, peekFound);\r\n        }\r\n    };\r\n    const matchValue = map((x_1) => {\r\n        let x, check, sln, relative, item_1, arg_5, dir, item, arg_2;\r\n        return [(x = x_1, (check = (isDefault(x) ? \" \" : \"\"), (x.tag === 1) ? ((sln = x.fields[0], (relative = path_2.relative(value_2(workspace.rootPath), sln.Path), (item_1 = {}, (item_1.label = toText(printf(\"%s%s\"))(check)(relative), (item_1.description = ((arg_5 = (countProjectsInSln(sln) | 0), toText(printf(\"Solution with %i projects\"))(arg_5))), item_1)))))) : ((dir = x.fields[0], (item = {}, (item.label = toText(printf(\"%s%s\"))(check)(dir.Directory), (item.description = ((arg_2 = (dir.Fsprojs.length | 0), toText(printf(\"Directory with %i projects\"))(arg_2))), item))))))), x_1];\r\n    }, ws);\r\n    if (isEmpty(matchValue)) {\r\n        return Promise.resolve(void 0);\r\n    }\r\n    else {\r\n        const projects = matchValue;\r\n        return PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => {\r\n            const opts = {};\r\n            opts.placeHolder = \"Workspace or Solution\";\r\n            let chooseFrom;\r\n            const arg_6 = map((tuple) => tuple[0], projects);\r\n            chooseFrom = Array.from(arg_6);\r\n            return Promise_PromiseBuilder__PromiseBuilder_Source_Z7741CCC2(promise, window$.showQuickPick(chooseFrom, opts)).then((_arg) => {\r\n                const chosen = _arg;\r\n                if (chosen == null) {\r\n                    return Promise.resolve(tryFind_1(isDefault, ws));\r\n                }\r\n                else {\r\n                    const chosen_1 = chosen;\r\n                    const selected = map_1((tuple_1) => tuple_1[1], tryFind_1((tupledArg) => equals(tupledArg[0], chosen_1), projects));\r\n                    if (selected == null) {\r\n                        return Promise.resolve(void 0);\r\n                    }\r\n                    else {\r\n                        const selected_1 = selected;\r\n                        return Promise_PromiseBuilder__PromiseBuilder_Source_Z7741CCC2(promise, CurrentWorkspaceConfiguration_setFromPeek(selected_1)).then(() => (Promise.resolve(selected_1)));\r\n                    }\r\n                }\r\n            });\r\n        }));\r\n    }\r\n}\r\n\r\nexport function execWithDotnet(outputChannel, cmd) {\r\n    return PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => (Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, LanguageService_tryFindDotnet()).then((_arg) => {\r\n        const dotnet = _arg;\r\n        return (dotnet.tag === 1) ? (Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, Promise.reject(new Error(dotnet.fields[0])))) : (Promise.resolve(Process_spawnWithNotification(dotnet.fields[0], cmd, outputChannel)));\r\n    }))));\r\n}\r\n\r\nexport function exec(exe, outputChannel, cmd) {\r\n    return PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => (Promise.resolve(Process_spawnWithNotification(exe, cmd, outputChannel)))));\r\n}\r\n\r\nfunction execWithDotnetWithShell(cmd) {\r\n    return PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => (Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, LanguageService_tryFindDotnet()).then((_arg) => {\r\n        const dotnet = _arg;\r\n        return (dotnet.tag === 1) ? (Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, Promise.reject(new Error(dotnet.fields[0])))) : (Promise.resolve(Process_spawnWithShell(dotnet.fields[0], cmd)));\r\n    }))));\r\n}\r\n\r\nfunction execWithShell(exe, cmd) {\r\n    return PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => (Promise.resolve(Process_spawnWithShell(exe, cmd)))));\r\n}\r\n\r\nexport function getLauncher(outputChannel, project) {\r\n    const execDotnet = (args) => execWithDotnet(outputChannel, Array.from(append(toList(delay(() => append_1(singleton_1(\"run\"), delay(() => append_1(singleton_1(\"--project\"), delay(() => append_1(singleton_1(project.Project), delay(() => (!isEmpty(args) ? singleton_1(\" -- \") : empty_1()))))))))), args)));\r\n    const matchValue_1 = isNetCoreApp(project);\r\n    if (project.OutputType === \"exe\") {\r\n        if (matchValue_1) {\r\n            return execDotnet;\r\n        }\r\n        else {\r\n            return (args_1) => exec(project.Output, outputChannel, Array.from(args_1));\r\n        }\r\n    }\r\n    else if (matchValue_1) {\r\n        return execDotnet;\r\n    }\r\n    else {\r\n        return void 0;\r\n    }\r\n}\r\n\r\nexport function getLauncherWithShell(project) {\r\n    const execDotnet = (args) => execWithDotnetWithShell(Array.from(append(toList(delay(() => append_1(singleton_1(\"run\"), delay(() => append_1(singleton_1(\"--project\"), delay(() => append_1(singleton_1(project.Project), delay(() => (!isEmpty(args) ? singleton_1(\" -- \") : empty_1()))))))))), args)));\r\n    const matchValue_1 = isNetCoreApp(project);\r\n    if (project.OutputType === \"exe\") {\r\n        if (matchValue_1) {\r\n            return execDotnet;\r\n        }\r\n        else {\r\n            return (args_1) => execWithShell(project.Output, Array.from(args_1));\r\n        }\r\n    }\r\n    else if (matchValue_1) {\r\n        return execDotnet;\r\n    }\r\n    else {\r\n        return void 0;\r\n    }\r\n}\r\n\r\nfunction getWorkspaceForModeIonideSearch() {\r\n    return PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => {\r\n        const fsprojs = findAll();\r\n        const wdir = new WorkspacePeekFoundDirectory(value_2(workspace.rootPath), toArray_1(fsprojs));\r\n        return Promise.resolve(new WorkspacePeekFound(0, [wdir]));\r\n    }));\r\n}\r\n\r\nfunction workspacePeek() {\r\n    return PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => (equals(void 0, workspace.rootPath) ? (Promise.resolve(empty())) : (Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, LanguageService_workspacePeek(value_2(workspace.rootPath), deepLevel, ofArray(excluded))).then((_arg) => (Promise.resolve(ofArray(reverse(sortBy((x) => {\r\n        if (x.tag === 0) {\r\n            return -1;\r\n        }\r\n        else {\r\n            return countProjectsInSln(x.fields[0]) | 0;\r\n        }\r\n    }, _arg.Found, {\r\n        Compare: comparePrimitives,\r\n    }))))))))));\r\n}\r\n\r\nfunction getWorkspace() {\r\n    return PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => (Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, workspacePeek()).then((_arg) => {\r\n        let a;\r\n        const ws = _arg;\r\n        const configuredPeek = CurrentWorkspaceConfiguration_tryFind(CurrentWorkspaceConfiguration_get(), ws);\r\n        if (configuredPeek == null) {\r\n            const slns = choose((x) => {\r\n                if (x.tag === 1) {\r\n                    return x;\r\n                }\r\n                else {\r\n                    return void 0;\r\n                }\r\n            }, ws);\r\n            return Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, !isEmpty(slns) ? (isEmpty(tail(slns)) ? (Promise.resolve(head(slns))) : pickFSACWorkspace(ws, void 0)) : ((a = tryPick((x_1) => {\r\n                if (x_1.tag === 0) {\r\n                    return x_1;\r\n                }\r\n                else {\r\n                    return void 0;\r\n                }\r\n            }, ws), Promise.resolve(a)))).then((_arg_1) => (Promise.resolve(_arg_1)));\r\n        }\r\n        else {\r\n            const peek = configuredPeek;\r\n            return Promise.resolve(peek);\r\n        }\r\n    }))));\r\n}\r\n\r\nexport function handleProjectParsedNotification(res) {\r\n    const disableShowNotification = Configuration_get(false, \"FSharp.disableFailedProjectNotifications\");\r\n    let projStatus;\r\n    switch (res.tag) {\r\n        case 1: {\r\n            const pr_1 = res.fields[0];\r\n            projStatus = [false, pr_1.Data.Project, new ProjectLoadingState(0, [pr_1.Data.Project])];\r\n            break;\r\n        }\r\n        case 2: {\r\n            const msg = res.fields[0][0];\r\n            const err = res.fields[0][1];\r\n            switch (err.tag) {\r\n                case 1: {\r\n                    const d = err.fields[0];\r\n                    projectNotRestoredLoadedEmitter.fire(d.Project);\r\n                    projStatus = [true, d.Project, new ProjectLoadingState(3, [d.Project, msg])];\r\n                    break;\r\n                }\r\n                case 2: {\r\n                    const d_1 = err.fields[0];\r\n                    projStatus = [true, d_1.Project, new ProjectLoadingState(2, [d_1.Project, msg])];\r\n                    break;\r\n                }\r\n                case 3: {\r\n                    const d_2 = err.fields[0];\r\n                    projStatus = [true, d_2.Project, new ProjectLoadingState(4, [d_2.Project])];\r\n                    break;\r\n                }\r\n                default: {\r\n                    if (!disableShowNotification) {\r\n                        window$.showErrorMessage(\"Project loading failed\");\r\n                    }\r\n                    projStatus = void 0;\r\n                }\r\n            }\r\n            break;\r\n        }\r\n        case 3: {\r\n            if (res.fields[0] === \"finished\") {\r\n                workspaceLoadedEmitter.fire(void 0);\r\n                projStatus = void 0;\r\n            }\r\n            else {\r\n                projStatus = void 0;\r\n            }\r\n            break;\r\n        }\r\n        default: {\r\n            const pr = res.fields[0];\r\n            projectLoadedEmitter.fire(pr.Data);\r\n            projStatus = [true, pr.Data.Project, new ProjectLoadingState(1, [pr.Data])];\r\n        }\r\n    }\r\n    if (projStatus == null) {\r\n    }\r\n    else {\r\n        const isDone = projStatus[0];\r\n        updateInWorkspace(projStatus[1], projStatus[2]);\r\n        iterate((arg) => {\r\n            workspaceChangedEmitter.fire(arg);\r\n        }, toArray(loadedWorkspace));\r\n        if (isDone) {\r\n            setAnyProjectContext(true);\r\n        }\r\n    }\r\n}\r\n\r\nfunction initWorkspaceHelper(x) {\r\n    clearLoadedProjects();\r\n    loadedWorkspace = x;\r\n    workspaceChangedEmitter.fire(x);\r\n    const projs = (x.tag === 1) ? map_2((tuple) => tuple[0], collect(foldFsproj, x.fields[0].Items)) : x.fields[0].Fsprojs;\r\n    if (x.tag === 0) {\r\n        if (!(projs.length === 0)) {\r\n            setAnyProjectContext(true);\r\n        }\r\n    }\r\n    else {\r\n        setAnyProjectContext(true);\r\n    }\r\n    const pr = LanguageService_workspaceLoad(ofArray(projs));\r\n    return pr.then(() => {\r\n    });\r\n}\r\n\r\nexport function initWorkspace() {\r\n    let pr_1;\r\n    const pr = getWorkspace();\r\n    pr_1 = (pr.then((_arg) => {\r\n        if (_arg == null) {\r\n            return getWorkspaceForModeIonideSearch();\r\n        }\r\n        else {\r\n            const x = _arg;\r\n            return Promise.resolve(x);\r\n        }\r\n    }));\r\n    return pr_1.then(initWorkspaceHelper);\r\n}\r\n\r\nexport let ProjectStatus_timer = createAtom(void 0);\r\n\r\nexport let ProjectStatus_path = createAtom(\"\");\r\n\r\nexport function ProjectStatus_clearTimer() {\r\n    if (ProjectStatus_timer() != null) {\r\n        const t = ProjectStatus_timer();\r\n        clearTimeout(t);\r\n        ProjectStatus_timer(void 0);\r\n    }\r\n}\r\n\r\nexport let ProjectStatus_item = createAtom(void 0);\r\n\r\nfunction ProjectStatus_hideItem() {\r\n    iterate((n) => {\r\n        n.hide();\r\n    }, toArray(ProjectStatus_item()));\r\n}\r\n\r\nfunction ProjectStatus_showItem(text, tooltip) {\r\n    ProjectStatus_path(tooltip);\r\n    value_2(ProjectStatus_item()).text = toText(printf(\"$(flame) %s\"))(text);\r\n    value_2(ProjectStatus_item()).tooltip = tooltip;\r\n    value_2(ProjectStatus_item()).command = \"showProjStatusFromIndicator\";\r\n    value_2(ProjectStatus_item()).color = (new vscode.ThemeColor(\"fsharp.statusBarWarnings\"));\r\n    value_2(ProjectStatus_item()).show();\r\n}\r\n\r\nexport function ProjectStatus_update() {\r\n    const projs = getInWorkspace();\r\n    const matchValue = tryPick((_arg) => {\r\n        if (_arg.tag === 2) {\r\n            return _arg.fields[0];\r\n        }\r\n        else {\r\n            return void 0;\r\n        }\r\n    }, projs);\r\n    if (matchValue == null) {\r\n        const matchValue_1 = tryPick((_arg_1) => {\r\n            if (_arg_1.tag === 0) {\r\n                return _arg_1.fields[0];\r\n            }\r\n            else {\r\n                return void 0;\r\n            }\r\n        }, projs);\r\n        if (matchValue_1 == null) {\r\n            const matchValue_2 = tryPick((_arg_2) => {\r\n                if (_arg_2.tag === 3) {\r\n                    return _arg_2.fields[0];\r\n                }\r\n                else {\r\n                    return void 0;\r\n                }\r\n            }, projs);\r\n            if (matchValue_2 == null) {\r\n                ProjectStatus_hideItem();\r\n            }\r\n            else {\r\n                ProjectStatus_showItem(\"Project not restored\", matchValue_2);\r\n            }\r\n        }\r\n        else {\r\n            ProjectStatus_showItem(\"Project loading\", matchValue_1);\r\n        }\r\n    }\r\n    else {\r\n        ProjectStatus_showItem(\"Project loading failed\", matchValue);\r\n    }\r\n}\r\n\r\nexport function ProjectStatus_statusUpdateHandler() {\r\n    ProjectStatus_clearTimer();\r\n    ProjectStatus_timer(setTimeout((() => {\r\n        ProjectStatus_update();\r\n    }), 1000));\r\n}\r\n\r\nexport function activate(context) {\r\n    CurrentWorkspaceConfiguration_setContext(context);\r\n    const arg_1 = commands.registerCommand(\"fsharp.clearCache\", (arg) => (() => {\r\n        clearCache();\r\n    })(arg));\r\n    void (context.subscriptions.push(arg_1));\r\n    Notifications_notifyWorkspaceHandler((res) => {\r\n        handleProjectParsedNotification(res);\r\n    });\r\n    workspaceNotificationAvaiable(true);\r\n    ProjectStatus_item(window$.createStatusBarItem(2, 9000));\r\n    const arg_2 = statusUpdated(() => {\r\n        ProjectStatus_statusUpdateHandler();\r\n    });\r\n    void (context.subscriptions.push(arg_2));\r\n    const arg_4 = commands.registerCommand(\"fsharp.changeWorkspace\", (_arg) => {\r\n        let pr_1, pr;\r\n        return some((pr_1 = ((pr = workspacePeek(), pr.then((x_2) => pickFSACWorkspace(x_2, CurrentWorkspaceConfiguration_get())))), pr_1.then((_arg_1) => {\r\n            if (_arg_1 == null) {\r\n                return Promise_empty();\r\n            }\r\n            else {\r\n                return initWorkspaceHelper(_arg_1);\r\n            }\r\n        })));\r\n    });\r\n    void (context.subscriptions.push(arg_4));\r\n    const arg_6 = commands.registerCommand(\"showProjStatusFromIndicator\", (_arg_2) => {\r\n        let value_1;\r\n        const name = path_2.basename(ProjectStatus_path());\r\n        return some((value_1 = ShowStatus_CreateOrShow_Z384F8060(ProjectStatus_path(), name), void 0));\r\n    });\r\n    void (context.subscriptions.push(arg_6));\r\n    return initWorkspace();\r\n}\r\n\r\n//# sourceMappingURL=Project.js.map\r\n","import { iterate } from \"../fable_modules/fable-library.4.2.2/Seq.js\";\r\nimport { some, value, toArray } from \"../fable_modules/fable-library.4.2.2/Option.js\";\r\nimport { createAtom } from \"../fable_modules/fable-library.4.2.2/Util.js\";\r\nimport { workspaceLoaded, workspaceChanged, projectNotRestoredLoaded, projectLoaded, isLoadingWorkspaceComplete, tryFindLoadedProjectByFile } from \"../Core/Project.js\";\r\nimport * as path from \"path\";\r\nimport { printf, toText } from \"../fable_modules/fable-library.4.2.2/String.js\";\r\nimport { window as window$, commands } from \"vscode\";\r\nimport * as vscode from \"vscode\";\r\nimport { Document_$007CFSharp$007CCSharp$007CVB$007CFSharpScript$007CMarkdown$007COther$007C } from \"../Core/Utils.js\";\r\n\r\nlet item = void 0;\r\n\r\nfunction hideItem() {\r\n    iterate((n) => {\r\n        n.hide();\r\n    }, toArray(item));\r\n}\r\n\r\nexport let projectPath = createAtom(\"\");\r\n\r\nexport function handler(te) {\r\n    hideItem();\r\n    if (te == null) {\r\n    }\r\n    else {\r\n        const te_1 = te;\r\n        const fileName = te_1.document.fileName;\r\n        const proj = tryFindLoadedProjectByFile(fileName);\r\n        if (proj != null) {\r\n            const p = proj;\r\n            projectPath(p.Project);\r\n            const pPath = path.basename(p.Project);\r\n            const text = toText(printf(\"$(circuit-board) %s\"))(pPath);\r\n            value(item).text = text;\r\n            value(item).tooltip = p.Project;\r\n            value(item).command = \"openProjectFileFromStatusbar\";\r\n            value(item).color = void 0;\r\n            value(item).show();\r\n        }\r\n        else {\r\n            const matchValue = te_1.document;\r\n            let matchResult;\r\n            if (Document_$007CFSharp$007CCSharp$007CVB$007CFSharpScript$007CMarkdown$007COther$007C(matchValue).tag === 0) {\r\n                if ((path.extname(te_1.document.fileName) !== \".fsx\") && !te_1.document.isUntitled) {\r\n                    matchResult = 0;\r\n                }\r\n                else {\r\n                    matchResult = 1;\r\n                }\r\n            }\r\n            else {\r\n                matchResult = 1;\r\n            }\r\n            switch (matchResult) {\r\n                case 0: {\r\n                    const loadingInfo = isLoadingWorkspaceComplete() ? \"\" : \" (Still loading...)\";\r\n                    const fileNameOnly = path.basename(fileName);\r\n                    value(item).text = (\"$(circuit-board) Not in a F# project\" + loadingInfo);\r\n                    value(item).tooltip = (`${fileNameOnly} is not in any project known to Ionide`);\r\n                    value(item).command = \"fsharp.AddFileToProject\";\r\n                    value(item).color = (new vscode.ThemeColor(\"fsharp.statusBarWarnings\"));\r\n                    value(item).show();\r\n                    break;\r\n                }\r\n                case 1: {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\nexport function handlerCommand() {\r\n    return commands.executeCommand(\"vscode.open\", some(vscode.Uri.file(projectPath())));\r\n}\r\n\r\nexport function activate(context) {\r\n    const arg_1 = commands.registerCommand(\"openProjectFileFromStatusbar\", (arg) => (handlerCommand)(arg));\r\n    void (context.subscriptions.push(arg_1));\r\n    const statusBarItem = window$.createStatusBarItem(2, 10000);\r\n    item = statusBarItem;\r\n    void (context.subscriptions.push(statusBarItem));\r\n    const arg_3 = window$.onDidChangeActiveTextEditor((arg_2) => ((te) => {\r\n        handler(te);\r\n    })(arg_2));\r\n    void (context.subscriptions.push(arg_3));\r\n    if (window$.visibleTextEditors.length > 0) {\r\n        handler(window$.activeTextEditor);\r\n    }\r\n    const arg_4 = projectLoaded((_project) => {\r\n        handler(window$.activeTextEditor);\r\n        return void 0;\r\n    });\r\n    void (context.subscriptions.push(arg_4));\r\n    const arg_5 = projectNotRestoredLoaded((_project_1) => {\r\n        handler(window$.activeTextEditor);\r\n        return void 0;\r\n    });\r\n    void (context.subscriptions.push(arg_5));\r\n    const arg_6 = workspaceChanged((_workspacePeek) => {\r\n        handler(window$.activeTextEditor);\r\n        return void 0;\r\n    });\r\n    void (context.subscriptions.push(arg_6));\r\n    const arg_7 = workspaceLoaded(() => {\r\n        handler(window$.activeTextEditor);\r\n        return void 0;\r\n    });\r\n    void (context.subscriptions.push(arg_7));\r\n}\r\n\r\n//# sourceMappingURL=QuickInfoProject.js.map\r\n","import { disposeSafe, defaultOf, toIterator, getEnumerator } from \"./Util.js\";\nimport { iterate, map, iterateIndexed, concat } from \"./Seq.js\";\nimport { some } from \"./Option.js\";\nimport { FSharpRef } from \"./Types.js\";\nimport { class_type } from \"./Reflection.js\";\nimport { getItemFromDict, tryGetValue } from \"./MapUtil.js\";\nexport class HashSet {\n    constructor(items, comparer) {\n        const this$ = new FSharpRef(defaultOf());\n        this.comparer = comparer;\n        this$.contents = this;\n        this.hashMap = (new Map([]));\n        this[\"init@9\"] = 1;\n        const enumerator = getEnumerator(items);\n        try {\n            while (enumerator[\"System.Collections.IEnumerator.MoveNext\"]()) {\n                const item = enumerator[\"System.Collections.Generic.IEnumerator`1.get_Current\"]();\n                HashSet__Add_2B595(this$.contents, item);\n            }\n        }\n        finally {\n            disposeSafe(enumerator);\n        }\n    }\n    get [Symbol.toStringTag]() {\n        return \"HashSet\";\n    }\n    toJSON() {\n        const this$ = this;\n        return Array.from(this$);\n    }\n    \"System.Collections.IEnumerable.GetEnumerator\"() {\n        const this$ = this;\n        return getEnumerator(this$);\n    }\n    GetEnumerator() {\n        const this$ = this;\n        return getEnumerator(concat(this$.hashMap.values()));\n    }\n    [Symbol.iterator]() {\n        return toIterator(getEnumerator(this));\n    }\n    \"System.Collections.Generic.ICollection`1.Add2B595\"(item) {\n        const this$ = this;\n        HashSet__Add_2B595(this$, item);\n    }\n    \"System.Collections.Generic.ICollection`1.Clear\"() {\n        const this$ = this;\n        HashSet__Clear(this$);\n    }\n    \"System.Collections.Generic.ICollection`1.Contains2B595\"(item) {\n        const this$ = this;\n        return HashSet__Contains_2B595(this$, item);\n    }\n    \"System.Collections.Generic.ICollection`1.CopyToZ3B4C077E\"(array, arrayIndex) {\n        const this$ = this;\n        iterateIndexed((i, e) => {\n            array[arrayIndex + i] = e;\n        }, this$);\n    }\n    \"System.Collections.Generic.ICollection`1.get_Count\"() {\n        const this$ = this;\n        return HashSet__get_Count(this$) | 0;\n    }\n    \"System.Collections.Generic.ICollection`1.get_IsReadOnly\"() {\n        return false;\n    }\n    \"System.Collections.Generic.ICollection`1.Remove2B595\"(item) {\n        const this$ = this;\n        return HashSet__Remove_2B595(this$, item);\n    }\n    get size() {\n        const this$ = this;\n        return HashSet__get_Count(this$) | 0;\n    }\n    add(k) {\n        const this$ = this;\n        HashSet__Add_2B595(this$, k);\n        return this$;\n    }\n    clear() {\n        const this$ = this;\n        HashSet__Clear(this$);\n    }\n    delete(k) {\n        const this$ = this;\n        return HashSet__Remove_2B595(this$, k);\n    }\n    has(k) {\n        const this$ = this;\n        return HashSet__Contains_2B595(this$, k);\n    }\n    keys() {\n        const this$ = this;\n        return map((x) => x, this$);\n    }\n    values() {\n        const this$ = this;\n        return map((x) => x, this$);\n    }\n    entries() {\n        const this$ = this;\n        return map((v) => [v, v], this$);\n    }\n    forEach(f, thisArg) {\n        const this$ = this;\n        iterate((x) => {\n            f(x, x, this$);\n        }, this$);\n    }\n}\nexport function HashSet_$reflection(gen0) {\n    return class_type(\"Fable.Collections.HashSet\", [gen0], HashSet);\n}\nexport function HashSet_$ctor_Z6150332D(items, comparer) {\n    return new HashSet(items, comparer);\n}\nfunction HashSet__TryFindIndex_2B595(this$, k) {\n    const h = this$.comparer.GetHashCode(k) | 0;\n    let matchValue;\n    let outArg = defaultOf();\n    matchValue = [tryGetValue(this$.hashMap, h, new FSharpRef(() => outArg, (v) => {\n            outArg = v;\n        })), outArg];\n    if (matchValue[0]) {\n        return [true, h, matchValue[1].findIndex((v_1) => this$.comparer.Equals(k, v_1))];\n    }\n    else {\n        return [false, h, -1];\n    }\n}\nfunction HashSet__TryFind_2B595(this$, k) {\n    const matchValue = HashSet__TryFindIndex_2B595(this$, k);\n    let matchResult;\n    if (matchValue[0]) {\n        if (matchValue[2] > -1) {\n            matchResult = 0;\n        }\n        else {\n            matchResult = 1;\n        }\n    }\n    else {\n        matchResult = 1;\n    }\n    switch (matchResult) {\n        case 0:\n            return some(getItemFromDict(this$.hashMap, matchValue[1])[matchValue[2]]);\n        default:\n            return void 0;\n    }\n}\nexport function HashSet__get_Comparer(this$) {\n    return this$.comparer;\n}\nexport function HashSet__Clear(this$) {\n    this$.hashMap.clear();\n}\nexport function HashSet__get_Count(this$) {\n    let count = 0;\n    let enumerator = getEnumerator(this$.hashMap.values());\n    try {\n        while (enumerator[\"System.Collections.IEnumerator.MoveNext\"]()) {\n            const items = enumerator[\"System.Collections.Generic.IEnumerator`1.get_Current\"]();\n            count = ((count + items.length) | 0);\n        }\n    }\n    finally {\n        disposeSafe(enumerator);\n    }\n    return count | 0;\n}\nexport function HashSet__Add_2B595(this$, k) {\n    const matchValue = HashSet__TryFindIndex_2B595(this$, k);\n    if (matchValue[0]) {\n        if (matchValue[2] > -1) {\n            return false;\n        }\n        else {\n            const value = void (getItemFromDict(this$.hashMap, matchValue[1]).push(k));\n            return true;\n        }\n    }\n    else {\n        this$.hashMap.set(matchValue[1], [k]);\n        return true;\n    }\n}\nexport function HashSet__Contains_2B595(this$, k) {\n    const matchValue = HashSet__TryFindIndex_2B595(this$, k);\n    let matchResult;\n    if (matchValue[0]) {\n        if (matchValue[2] > -1) {\n            matchResult = 0;\n        }\n        else {\n            matchResult = 1;\n        }\n    }\n    else {\n        matchResult = 1;\n    }\n    switch (matchResult) {\n        case 0:\n            return true;\n        default:\n            return false;\n    }\n}\nexport function HashSet__Remove_2B595(this$, k) {\n    const matchValue = HashSet__TryFindIndex_2B595(this$, k);\n    let matchResult;\n    if (matchValue[0]) {\n        if (matchValue[2] > -1) {\n            matchResult = 0;\n        }\n        else {\n            matchResult = 1;\n        }\n    }\n    else {\n        matchResult = 1;\n    }\n    switch (matchResult) {\n        case 0: {\n            getItemFromDict(this$.hashMap, matchValue[1]).splice(matchValue[2], 1);\n            return true;\n        }\n        default:\n            return false;\n    }\n}\n","import { disposeSafe, defaultOf, equals, toIterator, getEnumerator } from \"./Util.js\";\nimport { iterate, map, delay, toArray, iterateIndexed, concat } from \"./Seq.js\";\nimport { value as value_1 } from \"./Option.js\";\nimport { FSharpRef } from \"./Types.js\";\nimport { class_type } from \"./Reflection.js\";\nimport { getItemFromDict, tryGetValue } from \"./MapUtil.js\";\nimport { format } from \"./String.js\";\nexport class Dictionary {\n    constructor(pairs, comparer) {\n        const this$ = new FSharpRef(defaultOf());\n        this.comparer = comparer;\n        this$.contents = this;\n        this.hashMap = (new Map([]));\n        this[\"init@9\"] = 1;\n        const enumerator = getEnumerator(pairs);\n        try {\n            while (enumerator[\"System.Collections.IEnumerator.MoveNext\"]()) {\n                const pair = enumerator[\"System.Collections.Generic.IEnumerator`1.get_Current\"]();\n                Dictionary__Add_5BDDA1(this$.contents, pair[0], pair[1]);\n            }\n        }\n        finally {\n            disposeSafe(enumerator);\n        }\n    }\n    get [Symbol.toStringTag]() {\n        return \"Dictionary\";\n    }\n    toJSON() {\n        const this$ = this;\n        return Array.from(this$);\n    }\n    \"System.Collections.IEnumerable.GetEnumerator\"() {\n        const this$ = this;\n        return getEnumerator(this$);\n    }\n    GetEnumerator() {\n        const this$ = this;\n        return getEnumerator(concat(this$.hashMap.values()));\n    }\n    [Symbol.iterator]() {\n        return toIterator(getEnumerator(this));\n    }\n    \"System.Collections.Generic.ICollection`1.Add2B595\"(item) {\n        const this$ = this;\n        Dictionary__Add_5BDDA1(this$, item[0], item[1]);\n    }\n    \"System.Collections.Generic.ICollection`1.Clear\"() {\n        const this$ = this;\n        Dictionary__Clear(this$);\n    }\n    \"System.Collections.Generic.ICollection`1.Contains2B595\"(item) {\n        const this$ = this;\n        const matchValue = Dictionary__TryFind_2B595(this$, item[0]);\n        let matchResult, p_1;\n        if (matchValue != null) {\n            if (equals(value_1(matchValue)[1], item[1])) {\n                matchResult = 0;\n                p_1 = value_1(matchValue);\n            }\n            else {\n                matchResult = 1;\n            }\n        }\n        else {\n            matchResult = 1;\n        }\n        switch (matchResult) {\n            case 0:\n                return true;\n            default:\n                return false;\n        }\n    }\n    \"System.Collections.Generic.ICollection`1.CopyToZ3B4C077E\"(array, arrayIndex) {\n        const this$ = this;\n        iterateIndexed((i, e) => {\n            array[arrayIndex + i] = e;\n        }, this$);\n    }\n    \"System.Collections.Generic.ICollection`1.get_Count\"() {\n        const this$ = this;\n        return Dictionary__get_Count(this$) | 0;\n    }\n    \"System.Collections.Generic.ICollection`1.get_IsReadOnly\"() {\n        return false;\n    }\n    \"System.Collections.Generic.ICollection`1.Remove2B595\"(item) {\n        const this$ = this;\n        const matchValue = Dictionary__TryFind_2B595(this$, item[0]);\n        if (matchValue != null) {\n            if (equals(value_1(matchValue)[1], item[1])) {\n                Dictionary__Remove_2B595(this$, item[0]);\n            }\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n    \"System.Collections.Generic.IDictionary`2.Add5BDDA1\"(key, value) {\n        const this$ = this;\n        Dictionary__Add_5BDDA1(this$, key, value);\n    }\n    \"System.Collections.Generic.IDictionary`2.ContainsKey2B595\"(key) {\n        const this$ = this;\n        return Dictionary__ContainsKey_2B595(this$, key);\n    }\n    \"System.Collections.Generic.IDictionary`2.get_Item2B595\"(key) {\n        const this$ = this;\n        return Dictionary__get_Item_2B595(this$, key);\n    }\n    \"System.Collections.Generic.IDictionary`2.set_Item5BDDA1\"(key, v) {\n        const this$ = this;\n        Dictionary__set_Item_5BDDA1(this$, key, v);\n    }\n    \"System.Collections.Generic.IDictionary`2.get_Keys\"() {\n        const this$ = this;\n        return toArray(delay(() => map((pair) => pair[0], this$)));\n    }\n    \"System.Collections.Generic.IDictionary`2.Remove2B595\"(key) {\n        const this$ = this;\n        return Dictionary__Remove_2B595(this$, key);\n    }\n    \"System.Collections.Generic.IDictionary`2.TryGetValue6DC89625\"(key, value) {\n        const this$ = this;\n        const matchValue = Dictionary__TryFind_2B595(this$, key);\n        if (matchValue != null) {\n            const pair = value_1(matchValue);\n            value.contents = pair[1];\n            return true;\n        }\n        else {\n            return false;\n        }\n    }\n    \"System.Collections.Generic.IDictionary`2.get_Values\"() {\n        const this$ = this;\n        return toArray(delay(() => map((pair) => pair[1], this$)));\n    }\n    get size() {\n        const this$ = this;\n        return Dictionary__get_Count(this$) | 0;\n    }\n    clear() {\n        const this$ = this;\n        Dictionary__Clear(this$);\n    }\n    delete(k) {\n        const this$ = this;\n        return Dictionary__Remove_2B595(this$, k);\n    }\n    entries() {\n        const this$ = this;\n        return map((p) => [p[0], p[1]], this$);\n    }\n    get(k) {\n        const this$ = this;\n        return Dictionary__get_Item_2B595(this$, k);\n    }\n    has(k) {\n        const this$ = this;\n        return Dictionary__ContainsKey_2B595(this$, k);\n    }\n    keys() {\n        const this$ = this;\n        return map((p) => p[0], this$);\n    }\n    set(k, v) {\n        const this$ = this;\n        Dictionary__set_Item_5BDDA1(this$, k, v);\n        return this$;\n    }\n    values() {\n        const this$ = this;\n        return map((p) => p[1], this$);\n    }\n    forEach(f, thisArg) {\n        const this$ = this;\n        iterate((p) => {\n            f(p[1], p[0], this$);\n        }, this$);\n    }\n}\nexport function Dictionary_$reflection(gen0, gen1) {\n    return class_type(\"Fable.Collections.Dictionary\", [gen0, gen1], Dictionary);\n}\nexport function Dictionary_$ctor_6623D9B3(pairs, comparer) {\n    return new Dictionary(pairs, comparer);\n}\nfunction Dictionary__TryFindIndex_2B595(this$, k) {\n    const h = this$.comparer.GetHashCode(k) | 0;\n    let matchValue;\n    let outArg = defaultOf();\n    matchValue = [tryGetValue(this$.hashMap, h, new FSharpRef(() => outArg, (v) => {\n            outArg = v;\n        })), outArg];\n    if (matchValue[0]) {\n        return [true, h, matchValue[1].findIndex((pair) => this$.comparer.Equals(k, pair[0]))];\n    }\n    else {\n        return [false, h, -1];\n    }\n}\nexport function Dictionary__TryFind_2B595(this$, k) {\n    const matchValue = Dictionary__TryFindIndex_2B595(this$, k);\n    let matchResult;\n    if (matchValue[0]) {\n        if (matchValue[2] > -1) {\n            matchResult = 0;\n        }\n        else {\n            matchResult = 1;\n        }\n    }\n    else {\n        matchResult = 1;\n    }\n    switch (matchResult) {\n        case 0:\n            return getItemFromDict(this$.hashMap, matchValue[1])[matchValue[2]];\n        default:\n            return void 0;\n    }\n}\nexport function Dictionary__get_Comparer(this$) {\n    return this$.comparer;\n}\nexport function Dictionary__Clear(this$) {\n    this$.hashMap.clear();\n}\nexport function Dictionary__get_Count(this$) {\n    let count = 0;\n    let enumerator = getEnumerator(this$.hashMap.values());\n    try {\n        while (enumerator[\"System.Collections.IEnumerator.MoveNext\"]()) {\n            const pairs = enumerator[\"System.Collections.Generic.IEnumerator`1.get_Current\"]();\n            count = ((count + pairs.length) | 0);\n        }\n    }\n    finally {\n        disposeSafe(enumerator);\n    }\n    return count | 0;\n}\nexport function Dictionary__get_Item_2B595(this$, k) {\n    const matchValue = Dictionary__TryFind_2B595(this$, k);\n    if (matchValue != null) {\n        return value_1(matchValue)[1];\n    }\n    else {\n        throw new Error(\"The item was not found in collection\");\n    }\n}\nexport function Dictionary__set_Item_5BDDA1(this$, k, v) {\n    const matchValue = Dictionary__TryFindIndex_2B595(this$, k);\n    if (matchValue[0]) {\n        if (matchValue[2] > -1) {\n            getItemFromDict(this$.hashMap, matchValue[1])[matchValue[2]] = [k, v];\n        }\n        else {\n            const value = void (getItemFromDict(this$.hashMap, matchValue[1]).push([k, v]));\n        }\n    }\n    else {\n        this$.hashMap.set(matchValue[1], [[k, v]]);\n    }\n}\nexport function Dictionary__Add_5BDDA1(this$, k, v) {\n    const matchValue = Dictionary__TryFindIndex_2B595(this$, k);\n    if (matchValue[0]) {\n        if (matchValue[2] > -1) {\n            throw new Error(format(\"An item with the same key has already been added. Key: {0}\", k));\n        }\n        else {\n            const value = void (getItemFromDict(this$.hashMap, matchValue[1]).push([k, v]));\n        }\n    }\n    else {\n        this$.hashMap.set(matchValue[1], [[k, v]]);\n    }\n}\nexport function Dictionary__ContainsKey_2B595(this$, k) {\n    const matchValue = Dictionary__TryFindIndex_2B595(this$, k);\n    let matchResult;\n    if (matchValue[0]) {\n        if (matchValue[2] > -1) {\n            matchResult = 0;\n        }\n        else {\n            matchResult = 1;\n        }\n    }\n    else {\n        matchResult = 1;\n    }\n    switch (matchResult) {\n        case 0:\n            return true;\n        default:\n            return false;\n    }\n}\nexport function Dictionary__Remove_2B595(this$, k) {\n    const matchValue = Dictionary__TryFindIndex_2B595(this$, k);\n    let matchResult;\n    if (matchValue[0]) {\n        if (matchValue[2] > -1) {\n            matchResult = 0;\n        }\n        else {\n            matchResult = 1;\n        }\n    }\n    else {\n        matchResult = 1;\n    }\n    switch (matchResult) {\n        case 0: {\n            getItemFromDict(this$.hashMap, matchValue[1]).splice(matchValue[2], 1);\n            return true;\n        }\n        default:\n            return false;\n    }\n}\n","import { toList, toArray, map, filter, delay } from \"./Seq.js\";\nimport { HashSet } from \"./MutableSet.js\";\nimport { defaultOf, disposeSafe, getEnumerator } from \"./Util.js\";\nimport { addToDict, getItemFromDict, tryGetValue, addToSet } from \"./MapUtil.js\";\nimport { Dictionary } from \"./MutableMap.js\";\nimport { FSharpRef } from \"./Types.js\";\nexport function distinct(xs, comparer) {\n    return delay(() => {\n        const hashSet = new HashSet([], comparer);\n        return filter((x) => addToSet(x, hashSet), xs);\n    });\n}\nexport function distinctBy(projection, xs, comparer) {\n    return delay(() => {\n        const hashSet = new HashSet([], comparer);\n        return filter((x) => addToSet(projection(x), hashSet), xs);\n    });\n}\nexport function except(itemsToExclude, xs, comparer) {\n    return delay(() => {\n        const hashSet = new HashSet(itemsToExclude, comparer);\n        return filter((x) => addToSet(x, hashSet), xs);\n    });\n}\nexport function countBy(projection, xs, comparer) {\n    return delay(() => {\n        const dict = new Dictionary([], comparer);\n        const keys = [];\n        const enumerator = getEnumerator(xs);\n        try {\n            while (enumerator[\"System.Collections.IEnumerator.MoveNext\"]()) {\n                const key = projection(enumerator[\"System.Collections.Generic.IEnumerator`1.get_Current\"]());\n                let matchValue;\n                let outArg = 0;\n                matchValue = [tryGetValue(dict, key, new FSharpRef(() => outArg, (v) => {\n                        outArg = (v | 0);\n                    })), outArg];\n                if (matchValue[0]) {\n                    dict.set(key, matchValue[1] + 1);\n                }\n                else {\n                    dict.set(key, 1);\n                    void (keys.push(key));\n                }\n            }\n        }\n        finally {\n            disposeSafe(enumerator);\n        }\n        return map((key_1) => [key_1, getItemFromDict(dict, key_1)], keys);\n    });\n}\nexport function groupBy(projection, xs, comparer) {\n    return delay(() => {\n        const dict = new Dictionary([], comparer);\n        const keys = [];\n        const enumerator = getEnumerator(xs);\n        try {\n            while (enumerator[\"System.Collections.IEnumerator.MoveNext\"]()) {\n                const x = enumerator[\"System.Collections.Generic.IEnumerator`1.get_Current\"]();\n                const key = projection(x);\n                let matchValue;\n                let outArg = defaultOf();\n                matchValue = [tryGetValue(dict, key, new FSharpRef(() => outArg, (v) => {\n                        outArg = v;\n                    })), outArg];\n                if (matchValue[0]) {\n                    void (matchValue[1].push(x));\n                }\n                else {\n                    addToDict(dict, key, [x]);\n                    void (keys.push(key));\n                }\n            }\n        }\n        finally {\n            disposeSafe(enumerator);\n        }\n        return map((key_1) => [key_1, getItemFromDict(dict, key_1)], keys);\n    });\n}\nexport function Array_distinct(xs, comparer) {\n    return toArray(distinct(xs, comparer));\n}\nexport function Array_distinctBy(projection, xs, comparer) {\n    return toArray(distinctBy(projection, xs, comparer));\n}\nexport function Array_except(itemsToExclude, xs, comparer) {\n    return toArray(except(itemsToExclude, xs, comparer));\n}\nexport function Array_countBy(projection, xs, comparer) {\n    return toArray(countBy(projection, xs, comparer));\n}\nexport function Array_groupBy(projection, xs, comparer) {\n    return toArray(map((tupledArg) => [tupledArg[0], toArray(tupledArg[1])], groupBy(projection, xs, comparer)));\n}\nexport function List_distinct(xs, comparer) {\n    return toList(distinct(xs, comparer));\n}\nexport function List_distinctBy(projection, xs, comparer) {\n    return toList(distinctBy(projection, xs, comparer));\n}\nexport function List_except(itemsToExclude, xs, comparer) {\n    return toList(except(itemsToExclude, xs, comparer));\n}\nexport function List_countBy(projection, xs, comparer) {\n    return toList(countBy(projection, xs, comparer));\n}\nexport function List_groupBy(projection, xs, comparer) {\n    return toList(map((tupledArg) => [tupledArg[0], toList(tupledArg[1])], groupBy(projection, xs, comparer)));\n}\n","import { ensureErrorOrException } from './Types.js';\nexport class CancellationToken {\n    constructor(cancelled = false) {\n        this._id = 0;\n        this._cancelled = cancelled;\n        this._listeners = new Map();\n    }\n    get isCancelled() {\n        return this._cancelled;\n    }\n    cancel() {\n        if (!this._cancelled) {\n            this._cancelled = true;\n            for (const [, listener] of this._listeners) {\n                listener();\n            }\n        }\n    }\n    addListener(f) {\n        const id = this._id;\n        this._listeners.set(this._id++, f);\n        return id;\n    }\n    removeListener(id) {\n        return this._listeners.delete(id);\n    }\n    register(f, state) {\n        const $ = this;\n        const id = this.addListener(state == null ? f : () => f(state));\n        return { Dispose() { $.removeListener(id); } };\n    }\n    Dispose() {\n        // Implement IDisposable for compatibility but do nothing\n        // According to docs, calling Dispose does not trigger cancellation\n        // https://docs.microsoft.com/en-us/dotnet/api/system.threading.cancellationtokensource.dispose?view=net-6.0\n    }\n}\nexport class OperationCanceledError extends Error {\n    constructor() {\n        super(\"The operation was canceled\");\n        Object.setPrototypeOf(this, OperationCanceledError.prototype);\n    }\n}\nexport class Trampoline {\n    static get maxTrampolineCallCount() {\n        return 2000;\n    }\n    constructor() {\n        this.callCount = 0;\n    }\n    incrementAndCheck() {\n        return this.callCount++ > Trampoline.maxTrampolineCallCount;\n    }\n    hijack(f) {\n        this.callCount = 0;\n        setTimeout(f, 0);\n    }\n}\nexport function protectedCont(f) {\n    return (ctx) => {\n        if (ctx.cancelToken.isCancelled) {\n            ctx.onCancel(new OperationCanceledError());\n        }\n        else if (ctx.trampoline.incrementAndCheck()) {\n            ctx.trampoline.hijack(() => {\n                try {\n                    f(ctx);\n                }\n                catch (err) {\n                    ctx.onError(ensureErrorOrException(err));\n                }\n            });\n        }\n        else {\n            try {\n                f(ctx);\n            }\n            catch (err) {\n                ctx.onError(ensureErrorOrException(err));\n            }\n        }\n    };\n}\nexport function protectedBind(computation, binder) {\n    return protectedCont((ctx) => {\n        computation({\n            onSuccess: (x) => {\n                try {\n                    binder(x)(ctx);\n                }\n                catch (err) {\n                    ctx.onError(ensureErrorOrException(err));\n                }\n            },\n            onError: ctx.onError,\n            onCancel: ctx.onCancel,\n            cancelToken: ctx.cancelToken,\n            trampoline: ctx.trampoline,\n        });\n    });\n}\nexport function protectedReturn(value) {\n    return protectedCont((ctx) => ctx.onSuccess(value));\n}\nexport class AsyncBuilder {\n    Bind(computation, binder) {\n        return protectedBind(computation, binder);\n    }\n    Combine(computation1, computation2) {\n        return this.Bind(computation1, () => computation2);\n    }\n    Delay(generator) {\n        return protectedCont((ctx) => generator()(ctx));\n    }\n    For(sequence, body) {\n        const iter = sequence[Symbol.iterator]();\n        let cur = iter.next();\n        return this.While(() => !cur.done, this.Delay(() => {\n            const res = body(cur.value);\n            cur = iter.next();\n            return res;\n        }));\n    }\n    Return(value) {\n        return protectedReturn(value);\n    }\n    ReturnFrom(computation) {\n        return computation;\n    }\n    TryFinally(computation, compensation) {\n        return protectedCont((ctx) => {\n            computation({\n                onSuccess: (x) => {\n                    compensation();\n                    ctx.onSuccess(x);\n                },\n                onError: (x) => {\n                    compensation();\n                    ctx.onError(x);\n                },\n                onCancel: (x) => {\n                    compensation();\n                    ctx.onCancel(x);\n                },\n                cancelToken: ctx.cancelToken,\n                trampoline: ctx.trampoline,\n            });\n        });\n    }\n    TryWith(computation, catchHandler) {\n        return protectedCont((ctx) => {\n            computation({\n                onSuccess: ctx.onSuccess,\n                onCancel: ctx.onCancel,\n                cancelToken: ctx.cancelToken,\n                trampoline: ctx.trampoline,\n                onError: (ex) => {\n                    try {\n                        catchHandler(ex)(ctx);\n                    }\n                    catch (err) {\n                        ctx.onError(ensureErrorOrException(err));\n                    }\n                },\n            });\n        });\n    }\n    Using(resource, binder) {\n        return this.TryFinally(binder(resource), () => resource.Dispose());\n    }\n    While(guard, computation) {\n        if (guard()) {\n            return this.Bind(computation, () => this.While(guard, computation));\n        }\n        else {\n            return this.Return(void 0);\n        }\n    }\n    Zero() {\n        return protectedCont((ctx) => ctx.onSuccess(void 0));\n    }\n}\nexport const singleton = new AsyncBuilder();\n","import { OperationCanceledError, Trampoline } from \"./AsyncBuilder.js\";\nimport { CancellationToken } from \"./AsyncBuilder.js\";\nimport { protectedCont } from \"./AsyncBuilder.js\";\nimport { protectedBind } from \"./AsyncBuilder.js\";\nimport { protectedReturn } from \"./AsyncBuilder.js\";\nimport { Choice_makeChoice1Of2, Choice_makeChoice2Of2 } from \"./Choice.js\";\nimport { TimeoutException } from \"./SystemException.js\";\n// Implemented just for type references\nexport class Async {\n}\nfunction emptyContinuation(_x) {\n    // NOP\n}\n// see AsyncBuilder.Delay\nfunction delay(generator) {\n    return protectedCont((ctx) => generator()(ctx));\n}\n// MakeAsync: body:(AsyncActivation<'T> -> AsyncReturn) -> Async<'T>\nexport function makeAsync(body) {\n    return body;\n}\n// Invoke: computation: Async<'T> -> ctxt:AsyncActivation<'T> -> AsyncReturn\nexport function invoke(computation, ctx) {\n    return computation(ctx);\n}\n// CallThenInvoke: ctxt:AsyncActivation<'T> -> result1:'U -> part2:('U -> Async<'T>) -> AsyncReturn\nexport function callThenInvoke(ctx, result1, part2) {\n    return part2(result1)(ctx);\n}\n// Bind: ctxt:AsyncActivation<'T> -> part1:Async<'U> -> part2:('U -> Async<'T>) -> AsyncReturn\nexport function bind(ctx, part1, part2) {\n    return protectedBind(part1, part2)(ctx);\n}\nexport function createCancellationToken(arg) {\n    const token = new CancellationToken(typeof arg === \"boolean\" ? arg : false);\n    if (typeof arg === \"number\") {\n        setTimeout(() => { token.cancel(); }, arg);\n    }\n    return token;\n}\nexport function cancel(token) {\n    token.cancel();\n}\nexport function cancelAfter(token, ms) {\n    setTimeout(() => { token.cancel(); }, ms);\n}\nexport function isCancellationRequested(token) {\n    return token != null && token.isCancelled;\n}\nexport function throwIfCancellationRequested(token) {\n    if (token != null && token.isCancelled) {\n        throw new Error(\"Operation is cancelled\");\n    }\n}\nfunction throwAfter(millisecondsDueTime) {\n    return protectedCont((ctx) => {\n        let tokenId;\n        const timeoutId = setTimeout(() => {\n            ctx.cancelToken.removeListener(tokenId);\n            ctx.onError(new TimeoutException());\n        }, millisecondsDueTime);\n        tokenId = ctx.cancelToken.addListener(() => {\n            clearTimeout(timeoutId);\n            ctx.onCancel(new OperationCanceledError());\n        });\n    });\n}\nexport function startChild(computation, ms) {\n    if (ms) {\n        const computationWithTimeout = protectedBind(parallel2(computation, throwAfter(ms)), xs => protectedReturn(xs[0]));\n        return startChild(computationWithTimeout);\n    }\n    const promise = startAsPromise(computation);\n    // JS Promises are hot, computation has already started\n    // but we delay returning the result\n    return protectedCont((ctx) => protectedReturn(awaitPromise(promise))(ctx));\n}\nexport function awaitPromise(p) {\n    return fromContinuations((conts) => p.then(conts[0]).catch((err) => (err instanceof OperationCanceledError\n        ? conts[2] : conts[1])(err)));\n}\nexport function cancellationToken() {\n    return protectedCont((ctx) => ctx.onSuccess(ctx.cancelToken));\n}\nexport const defaultCancellationToken = new CancellationToken();\nexport function catchAsync(work) {\n    return protectedCont((ctx) => {\n        work({\n            onSuccess: (x) => ctx.onSuccess(Choice_makeChoice1Of2(x)),\n            onError: (ex) => ctx.onSuccess(Choice_makeChoice2Of2(ex)),\n            onCancel: ctx.onCancel,\n            cancelToken: ctx.cancelToken,\n            trampoline: ctx.trampoline,\n        });\n    });\n}\nexport function fromContinuations(f) {\n    return protectedCont((ctx) => f([ctx.onSuccess, ctx.onError, ctx.onCancel]));\n}\nexport function ignore(computation) {\n    return protectedBind(computation, (_x) => protectedReturn(void 0));\n}\nexport function parallel(computations) {\n    return delay(() => awaitPromise(Promise.all(Array.from(computations, (w) => startAsPromise(w)))));\n}\nfunction parallel2(a, b) {\n    return delay(() => awaitPromise(Promise.all([startAsPromise(a), startAsPromise(b)])));\n}\nexport function sequential(computations) {\n    function _sequential(computations) {\n        let pr = Promise.resolve([]);\n        for (const c of computations) {\n            pr = pr.then(results => startAsPromise(c).then(r => results.concat([r])));\n        }\n        return pr;\n    }\n    return delay(() => awaitPromise(_sequential(computations)));\n}\nexport function sleep(millisecondsDueTime) {\n    return protectedCont((ctx) => {\n        let tokenId;\n        const timeoutId = setTimeout(() => {\n            ctx.cancelToken.removeListener(tokenId);\n            ctx.onSuccess(void 0);\n        }, millisecondsDueTime);\n        tokenId = ctx.cancelToken.addListener(() => {\n            clearTimeout(timeoutId);\n            ctx.onCancel(new OperationCanceledError());\n        });\n    });\n}\nexport function runSynchronously() {\n    throw new Error(\"Asynchronous code cannot be run synchronously in JS\");\n}\nexport function start(computation, cancellationToken) {\n    return startWithContinuations(computation, cancellationToken);\n}\nexport function startImmediate(computation, cancellationToken) {\n    return start(computation, cancellationToken);\n}\nexport function startWithContinuations(computation, continuation, exceptionContinuation, cancellationContinuation, cancelToken) {\n    if (typeof continuation !== \"function\") {\n        cancelToken = continuation;\n        continuation = undefined;\n    }\n    const trampoline = new Trampoline();\n    computation({\n        onSuccess: continuation ? continuation : emptyContinuation,\n        onError: exceptionContinuation ? exceptionContinuation : emptyContinuation,\n        onCancel: cancellationContinuation ? cancellationContinuation : emptyContinuation,\n        cancelToken: cancelToken ? cancelToken : defaultCancellationToken,\n        trampoline,\n    });\n}\nexport function startAsPromise(computation, cancellationToken) {\n    return new Promise((resolve, reject) => startWithContinuations(computation, resolve, reject, reject, cancellationToken ? cancellationToken : defaultCancellationToken));\n}\nexport default Async;\n","import { defaultCancellationToken } from \"./Async.js\";\nimport { fromContinuations } from \"./Async.js\";\nimport { startImmediate } from \"./Async.js\";\nclass QueueCell {\n    constructor(message) {\n        this.value = message;\n    }\n}\nclass MailboxQueue {\n    add(message) {\n        const itCell = new QueueCell(message);\n        if (this.firstAndLast) {\n            this.firstAndLast[1].next = itCell;\n            this.firstAndLast = [this.firstAndLast[0], itCell];\n        }\n        else {\n            this.firstAndLast = [itCell, itCell];\n        }\n    }\n    tryGet() {\n        if (this.firstAndLast) {\n            const value = this.firstAndLast[0].value;\n            if (this.firstAndLast[0].next) {\n                this.firstAndLast = [this.firstAndLast[0].next, this.firstAndLast[1]];\n            }\n            else {\n                delete this.firstAndLast;\n            }\n            return value;\n        }\n        return void 0;\n    }\n}\nexport class MailboxProcessor {\n    constructor(body, cancellationToken) {\n        this.body = body;\n        this.cancellationToken = cancellationToken || defaultCancellationToken;\n        this.messages = new MailboxQueue();\n    }\n}\nfunction __processEvents($this) {\n    if ($this.continuation) {\n        const value = $this.messages.tryGet();\n        if (value) {\n            const cont = $this.continuation;\n            delete $this.continuation;\n            cont(value);\n        }\n    }\n}\nexport function startInstance($this) {\n    startImmediate($this.body($this), $this.cancellationToken);\n}\nexport function receive($this) {\n    return fromContinuations((conts) => {\n        if ($this.continuation) {\n            throw new Error(\"Receive can only be called once!\");\n        }\n        $this.continuation = conts[0];\n        __processEvents($this);\n    });\n}\nexport function post($this, message) {\n    $this.messages.add(message);\n    __processEvents($this);\n}\nexport function postAndAsyncReply($this, buildMessage) {\n    let result;\n    let continuation;\n    function checkCompletion() {\n        if (result !== void 0 && continuation !== void 0) {\n            continuation(result);\n        }\n    }\n    const reply = {\n        reply: (res) => {\n            result = res;\n            checkCompletion();\n        },\n    };\n    $this.messages.add(buildMessage(reply));\n    __processEvents($this);\n    return fromContinuations((conts) => {\n        continuation = conts[0];\n        checkCompletion();\n    });\n}\nexport function start(body, cancellationToken) {\n    const mbox = new MailboxProcessor(body, cancellationToken);\n    startInstance(mbox);\n    return mbox;\n}\nexport default MailboxProcessor;\n","import { commands, tasks as tasks_2, workspace, window as window$ } from \"vscode\";\r\nimport * as vscode from \"vscode\";\r\nimport { ConsoleAndOutputChannelLogger__Error_Z17053F5, ConsoleAndOutputChannelLogger__Debug_Z17053F5, ConsoleAndOutputChannelLogger__Info_Z17053F5, Level, ConsoleAndOutputChannelLogger_$ctor_Z565F02F0 } from \"../Core/Logging.js\";\r\nimport { LanguageService_compile, LanguageService_tryFindDotnet } from \"../Core/LanguageService.js\";\r\nimport { PromiseBuilder__Delay_62FBFDE1, PromiseBuilder__Run_212F1D4B } from \"../fable_modules/Fable.Promise.3.2.0/Promise.fs.js\";\r\nimport { promise } from \"../fable_modules/Fable.Promise.3.2.0/PromiseImpl.fs.js\";\r\nimport { Process_toPromise, Process_spawnWithNotification, Process_ChildProcessExit } from \"../paket-files/ionide/ionide-vscode-helpers/src/Helpers.js\";\r\nimport { Document_$007CFSharp$007CCSharp$007CVB$007CFSharpScript$007CMarkdown$007COther$007C, Promise_PromiseBuilder__PromiseBuilder_Source_Z7741CCC2, String_endWith, Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B, Promise_toThenable, Promise_ofThenable } from \"../Core/Utils.js\";\r\nimport { join, interpolate, toText } from \"../fable_modules/fable-library.4.2.2/String.js\";\r\nimport { some, map as map_1, toArray, value as value_13 } from \"../fable_modules/fable-library.4.2.2/Option.js\";\r\nimport { concat, append, empty as empty_2, singleton as singleton_2, collect, delay, map, tryFind, exists, where, tryHead } from \"../fable_modules/fable-library.4.2.2/Seq.js\";\r\nimport { projectNotRestoredLoaded, initWorkspace as initWorkspace_1, isIgnored, getLoadedSolution, load, getLoaded } from \"../Core/Project.js\";\r\nimport * as path_1 from \"path\";\r\nimport { compare, equals } from \"../fable_modules/fable-library.4.2.2/Util.js\";\r\nimport { post, receive, start } from \"../fable_modules/fable-library.4.2.2/MailboxProcessor.js\";\r\nimport { singleton } from \"../fable_modules/fable-library.4.2.2/AsyncBuilder.js\";\r\nimport { awaitPromise } from \"../fable_modules/fable-library.4.2.2/Async.js\";\r\nimport { ofArrayWithTail, ofArray, singleton as singleton_1, empty, cons } from \"../fable_modules/fable-library.4.2.2/List.js\";\r\nimport { empty as empty_1, iterate } from \"../fable_modules/fable-library.4.2.2/Map.js\";\r\n\r\nexport const outputChannel = window$.createOutputChannel(\"Ionide: MSBuild\");\r\n\r\nconst logger = ConsoleAndOutputChannelLogger_$ctor_Z565F02F0(\"msbuild\", new Level(0, []), outputChannel, new Level(0, []));\r\n\r\nfunction dotnetBinary() {\r\n    const pr = LanguageService_tryFindDotnet();\r\n    return pr.then((_arg) => {\r\n        if (_arg.tag === 1) {\r\n            return Promise.reject(new Error(_arg.fields[0]));\r\n        }\r\n        else {\r\n            return Promise.resolve(_arg.fields[0]);\r\n        }\r\n    });\r\n}\r\n\r\nexport function invokeMSBuildWithCancel(project, target, cancellationToken) {\r\n    if (cancellationToken.isCancellationRequested) {\r\n        return PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => (Promise.resolve(new Process_ChildProcessExit(void 0, \"SIGINT\")))));\r\n    }\r\n    else {\r\n        let autoshow;\r\n        const cfg = workspace.getConfiguration();\r\n        autoshow = cfg.get(\"FSharp.msbuildAutoshow\", false);\r\n        const progressOpts = {};\r\n        progressOpts.location = 10;\r\n        return Promise_ofThenable(window$.withProgress(progressOpts, (p, ctok) => Promise_toThenable(PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => {\r\n            const pm = {\r\n                message: `Running MSBuild '${target}' target on '${project}'`,\r\n            };\r\n            p.report(pm);\r\n            return Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => (Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, dotnetBinary()).then((_arg) => {\r\n                const msbuildPath = _arg;\r\n                const cmd = [\"msbuild\", project, `/t:${target}`];\r\n                ConsoleAndOutputChannelLogger__Info_Z17053F5(logger, \"invoking msbuild from %s on %s for target %s\", msbuildPath, project, target);\r\n                return (autoshow ? ((outputChannel.show(), Promise.resolve())) : (Promise.resolve())).then(() => PromiseBuilder__Delay_62FBFDE1(promise, () => {\r\n                    const childProcess = Process_spawnWithNotification(msbuildPath, cmd, outputChannel);\r\n                    cancellationToken.onCancellationRequested((_arg_1) => {\r\n                        if (childProcess.connected) {\r\n                            childProcess.kill(\"SIGINT\");\r\n                        }\r\n                        return void 0;\r\n                    });\r\n                    return Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, Process_toPromise(childProcess));\r\n                }));\r\n            }))))).then((_arg_2) => {\r\n                const response = _arg_2;\r\n                const matchValue = response.Code;\r\n                if (matchValue == null) {\r\n                    p.report({\r\n                        message: \"MSBuild failed with an unknown error\",\r\n                    });\r\n                    return Promise.resolve(response);\r\n                }\r\n                else if (matchValue === 0) {\r\n                    p.report({\r\n                        message: \"MSBuild completed successfully\",\r\n                    });\r\n                    return Promise.resolve(response);\r\n                }\r\n                else {\r\n                    const code = matchValue | 0;\r\n                    p.report({\r\n                        message: toText(interpolate(\"MSBuild failed with code %d%P()\", [code])),\r\n                    });\r\n                    return Promise.resolve(response);\r\n                }\r\n            });\r\n        })))));\r\n    }\r\n}\r\n\r\nexport function invokeMSBuild(project, target) {\r\n    const cancellationTokenSource = new vscode.CancellationTokenSource();\r\n    return invokeMSBuildWithCancel(project, target, cancellationTokenSource.token);\r\n}\r\n\r\nexport const msbuildTasksFilter = (() => {\r\n    const f = {};\r\n    f.type = \"msbuild\";\r\n    return f;\r\n})();\r\n\r\n/**\r\n * discovers the project that the active document belongs to and builds that\r\n */\r\nexport function buildCurrentProject(target) {\r\n    return PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => {\r\n        ConsoleAndOutputChannelLogger__Debug_Z17053F5(logger, \"discovering project for current file\");\r\n        const matchValue = value_13(window$.activeTextEditor).document;\r\n        let matchResult;\r\n        const activePatternResult = Document_$007CFSharp$007CCSharp$007CVB$007CFSharpScript$007CMarkdown$007COther$007C(matchValue);\r\n        switch (activePatternResult.tag) {\r\n            case 0:\r\n            case 1:\r\n            case 2: {\r\n                matchResult = 0;\r\n                break;\r\n            }\r\n            default:\r\n                matchResult = 1;\r\n        }\r\n        switch (matchResult) {\r\n            case 0: {\r\n                const currentProject = tryHead(where((p) => {\r\n                    let ending;\r\n                    return exists((ending = value_13(window$.activeTextEditor).document.fileName, (s) => String_endWith(ending, s)), p.Files);\r\n                }, getLoaded()));\r\n                if (currentProject == null) {\r\n                    ConsoleAndOutputChannelLogger__Debug_Z17053F5(logger, \"could not find a project that contained the file %s\", value_13(window$.activeTextEditor).document.fileName);\r\n                    return Promise.resolve(void 0);\r\n                }\r\n                else {\r\n                    const p_1 = currentProject;\r\n                    ConsoleAndOutputChannelLogger__Debug_Z17053F5(logger, \"found project %s\", p_1.Project);\r\n                    const projectFile = path_1.basename(p_1.Project);\r\n                    return Promise_PromiseBuilder__PromiseBuilder_Source_Z7741CCC2(promise, tasks_2.fetchTasks(msbuildTasksFilter)).then((_arg) => {\r\n                        const expectedGroup = (target === \"Build\") ? vscode.TaskGroup.Build : ((target === \"Rebuild\") ? vscode.TaskGroup.Rebuild : ((target === \"Clean\") ? vscode.TaskGroup.Clean : void 0));\r\n                        return (equals(expectedGroup, void 0) ? (Promise.resolve(void 0)) : (Promise.resolve())).then(() => PromiseBuilder__Delay_62FBFDE1(promise, () => {\r\n                            const t_1 = tryFind((t) => {\r\n                                if (t.name === projectFile) {\r\n                                    return equals(t.group, expectedGroup);\r\n                                }\r\n                                else {\r\n                                    return false;\r\n                                }\r\n                            }, _arg);\r\n                            if (t_1 != null) {\r\n                                const t_2 = t_1;\r\n                                return Promise_PromiseBuilder__PromiseBuilder_Source_Z7741CCC2(promise, tasks_2.executeTask(t_2)).then((_arg_1) => (Promise.resolve(void 0)));\r\n                            }\r\n                            else {\r\n                                ConsoleAndOutputChannelLogger__Debug_Z17053F5(logger, \"no task found for target %s for project %s\", target, projectFile);\r\n                                return Promise.resolve();\r\n                            }\r\n                        }));\r\n                    });\r\n                }\r\n            }\r\n            default: {\r\n                ConsoleAndOutputChannelLogger__Debug_Z17053F5(logger, \"I don\\'t know how to handle a project of type %s\", value_13(window$.activeTextEditor).document.languageId);\r\n                return Promise.resolve(void 0);\r\n            }\r\n        }\r\n    }));\r\n}\r\n\r\n/**\r\n * prompts the user to choose a project\r\n */\r\nexport function pickProject(placeHolder) {\r\n    ConsoleAndOutputChannelLogger__Debug_Z17053F5(logger, \"pick project\");\r\n    let projects;\r\n    const arg = getLoaded();\r\n    projects = Array.from(arg);\r\n    if (projects.length === 0) {\r\n        return Promise.resolve(void 0);\r\n    }\r\n    else {\r\n        return PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => {\r\n            let items;\r\n            const arg_1 = map((p) => path_1.basename(p.Project), projects);\r\n            items = Array.from(arg_1);\r\n            const opts = {};\r\n            opts.placeHolder = placeHolder;\r\n            return Promise_PromiseBuilder__PromiseBuilder_Source_Z7741CCC2(promise, window$.showQuickPick(items, opts)).then((_arg) => {\r\n                const chosen = _arg;\r\n                ConsoleAndOutputChannelLogger__Debug_Z17053F5(logger, \"user chose project %s\", chosen);\r\n                if (chosen != null) {\r\n                    const chosen_1 = chosen;\r\n                    return Promise.resolve(tryFind((p_1) => (path_1.basename(p_1.Project) === chosen_1), projects));\r\n                }\r\n                else {\r\n                    return Promise.resolve(void 0);\r\n                }\r\n            });\r\n        }));\r\n    }\r\n}\r\n\r\n/**\r\n * prompts the user to choose a project (if not specified) and builds that project\r\n */\r\nexport function buildProject(target) {\r\n    return PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => {\r\n        ConsoleAndOutputChannelLogger__Debug_Z17053F5(logger, \"building project\");\r\n        return Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, pickProject(\"Select a project to build\")).then((_arg) => {\r\n            const chosen = _arg;\r\n            return Promise_PromiseBuilder__PromiseBuilder_Source_Z7741CCC2(promise, tasks_2.fetchTasks(msbuildTasksFilter)).then((_arg_1) => {\r\n                let proj;\r\n                return Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, (chosen != null) ? ((proj = chosen, PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => {\r\n                    const projectFile = path_1.basename(proj.Project);\r\n                    const expectedGroup = (target === \"Build\") ? vscode.TaskGroup.Build : ((target === \"Rebuild\") ? vscode.TaskGroup.Rebuild : ((target === \"Clean\") ? vscode.TaskGroup.Clean : void 0));\r\n                    return (equals(expectedGroup, void 0) ? (Promise.resolve(void 0)) : (Promise.resolve())).then(() => PromiseBuilder__Delay_62FBFDE1(promise, () => {\r\n                        const t_1 = tryFind((t) => {\r\n                            if (t.name === projectFile) {\r\n                                return equals(t.group, expectedGroup);\r\n                            }\r\n                            else {\r\n                                return false;\r\n                            }\r\n                        }, _arg_1);\r\n                        if (t_1 != null) {\r\n                            const t_2 = t_1;\r\n                            return Promise_PromiseBuilder__PromiseBuilder_Source_Z7741CCC2(promise, tasks_2.executeTask(t_2)).then((_arg_2) => (Promise.resolve(void 0)));\r\n                        }\r\n                        else {\r\n                            ConsoleAndOutputChannelLogger__Debug_Z17053F5(logger, \"no task found for target %s for project %s\", target, projectFile);\r\n                            return Promise.resolve();\r\n                        }\r\n                    }));\r\n                })))) : (Promise.resolve(void 0)));\r\n            });\r\n        });\r\n    }));\r\n}\r\n\r\nexport function buildProjectPath(target, project) {\r\n    return invokeMSBuild(project.Project, target);\r\n}\r\n\r\nexport function buildProjectPathFast(project) {\r\n    return PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => (Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, LanguageService_compile(project.Project)).then((_arg) => (Promise.resolve(new Process_ChildProcessExit(_arg.Data.Code, void 0)))))));\r\n}\r\n\r\nconst restoreMailBox = (() => {\r\n    const progressOpts = {};\r\n    progressOpts.location = 10;\r\n    return start((inbox) => {\r\n        const messageLoop = () => singleton.Delay(() => singleton.Bind(receive(inbox), (_arg) => {\r\n            const path = _arg[0];\r\n            return singleton.Bind(awaitPromise(Promise_ofThenable(window$.withProgress(progressOpts, (p, ctok) => {\r\n                let pr;\r\n                const pm = {\r\n                    message: \"Restoring \" + path,\r\n                };\r\n                p.report(pm);\r\n                return Promise_toThenable((pr = invokeMSBuild(path, \"Restore\"), pr.then(_arg[1])));\r\n            }))), () => singleton.ReturnFrom(messageLoop()));\r\n        }));\r\n        return messageLoop();\r\n    });\r\n})();\r\n\r\nexport function restoreProjectAsync(path) {\r\n    post(restoreMailBox, [path, (exit) => {\r\n        if (!equals(exit.Code, 0)) {\r\n            ConsoleAndOutputChannelLogger__Error_Z17053F5(logger, \"Restore of %s failed with code %i, signal %s\", path, exit.Code, exit.Signal);\r\n            return Promise.resolve(void 0);\r\n        }\r\n        else {\r\n            return load(true, path);\r\n        }\r\n    }]);\r\n}\r\n\r\nexport function restoreKnownProject(project) {\r\n    restoreProjectAsync(project.Project);\r\n}\r\n\r\nexport function buildSolution(target, sln) {\r\n    return PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => {\r\n        const solutionFile = path_1.basename(sln);\r\n        return Promise_PromiseBuilder__PromiseBuilder_Source_Z7741CCC2(promise, tasks_2.fetchTasks(msbuildTasksFilter)).then((_arg) => {\r\n            const expectedGroup = (target === \"Build\") ? vscode.TaskGroup.Build : ((target === \"Rebuild\") ? vscode.TaskGroup.Rebuild : ((target === \"Clean\") ? vscode.TaskGroup.Clean : void 0));\r\n            return (equals(expectedGroup, void 0) ? (Promise.resolve(void 0)) : (Promise.resolve())).then(() => PromiseBuilder__Delay_62FBFDE1(promise, () => {\r\n                const t_1 = tryFind((t) => {\r\n                    if (t.name === \"solution\") {\r\n                        return equals(t.group, expectedGroup);\r\n                    }\r\n                    else {\r\n                        return false;\r\n                    }\r\n                }, _arg);\r\n                if (t_1 != null) {\r\n                    const t_2 = t_1;\r\n                    return Promise_PromiseBuilder__PromiseBuilder_Source_Z7741CCC2(promise, tasks_2.executeTask(t_2)).then((_arg_1) => (Promise.resolve(void 0)));\r\n                }\r\n                else {\r\n                    ConsoleAndOutputChannelLogger__Debug_Z17053F5(logger, \"no task found for target %s for solution %s\", target, solutionFile);\r\n                    return Promise.resolve();\r\n                }\r\n            }));\r\n        });\r\n    }));\r\n}\r\n\r\nexport function buildCurrentSolution(target) {\r\n    const matchValue = getLoadedSolution();\r\n    if (matchValue == null) {\r\n        window$.showWarningMessage(\"Solution not loaded\");\r\n    }\r\n    else if (matchValue.tag === 1) {\r\n        const e = matchValue.fields[0];\r\n        buildSolution(target, e.Path);\r\n    }\r\n    else {\r\n        window$.showWarningMessage(\"Solution not loaded - plugin in directory mode\");\r\n    }\r\n}\r\n\r\nexport function invokeDotnet(dotnetPath, subcommand, args, cwd, env) {\r\n    let args_1;\r\n    const arg_1 = map((arg) => arg, cons(subcommand, args));\r\n    args_1 = Array.from(arg_1);\r\n    const opts = {};\r\n    opts.cwd = cwd;\r\n    const envs = {};\r\n    iterate((k, v) => {\r\n        envs.k = v;\r\n    }, env);\r\n    return new vscode.ShellExecution(dotnetPath, args_1, opts);\r\n}\r\n\r\nexport const msbuildTaskDef = (() => {\r\n    const t = {};\r\n    t.type = \"msbuild\";\r\n    return t;\r\n})();\r\n\r\nfunction restoreProjectCmd() {\r\n    return PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => {\r\n        ConsoleAndOutputChannelLogger__Debug_Z17053F5(logger, \"building project\");\r\n        return Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, pickProject(\"Select a project to restore\")).then((_arg) => {\r\n            const chosen = _arg;\r\n            if (chosen != null) {\r\n                const project = chosen;\r\n                const projectFile = path_1.basename(project.Project);\r\n                const projectDir = path_1.dirname(project.Project);\r\n                return Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, dotnetBinary()).then((_arg_1) => {\r\n                    const execution = invokeDotnet(_arg_1, \"restore\", empty(), projectDir, empty_1({\r\n                        Compare: compare,\r\n                    }));\r\n                    let restoreTask;\r\n                    let returnVal = new vscode.Task(msbuildTaskDef, 2, (`${projectFile}`), \"Restore\", execution, \"$msCompile\");\r\n                    returnVal.group = vscode.TaskGroup.Build;\r\n                    returnVal.detail = (`Restore the ${projectFile} project using \\`dotnet restore\\``);\r\n                    restoreTask = returnVal;\r\n                    return Promise_PromiseBuilder__PromiseBuilder_Source_Z7741CCC2(promise, tasks_2.executeTask(restoreTask)).then((_arg_2) => (Promise.resolve(void 0)));\r\n                });\r\n            }\r\n            else {\r\n                return Promise.resolve(void 0);\r\n            }\r\n        });\r\n    }));\r\n}\r\n\r\nexport const perProjectTasks = ofArray([[\"build\", empty(), vscode.TaskGroup.Build, \"Build\"], [\"clean\", empty(), vscode.TaskGroup.Clean, \"Clean\"], [\"msbuild\", singleton_1(\"/t:Rebuild\"), vscode.TaskGroup.Rebuild, \"Rebuild\"]]);\r\n\r\nexport function buildTaskListForProject(p) {\r\n    return PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => {\r\n        const projectName = path_1.basename(p.Project);\r\n        const projectDir = path_1.dirname(p.Project);\r\n        return Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, dotnetBinary()).then((_arg) => (Promise.resolve(delay(() => collect((matchValue) => {\r\n            let returnVal;\r\n            const verb = matchValue[3];\r\n            const command = matchValue[0];\r\n            const args = matchValue[1];\r\n            const execution = invokeDotnet(_arg, command, args, projectDir, empty_1({\r\n                Compare: compare,\r\n            }));\r\n            const cmdline = join(\" \", ofArrayWithTail([\"dotnet\", command], args));\r\n            return singleton_2((returnVal = (new vscode.Task(msbuildTaskDef, 2, (`${projectName}`), verb, execution, \"$msCompile\")), ((returnVal.group = matchValue[2], returnVal.detail = (`${verb} the ${projectName} project using ${cmdline}`)), returnVal)));\r\n        }, perProjectTasks)))));\r\n    }));\r\n}\r\n\r\nexport function buildTaskListForSolution(s) {\r\n    return PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => {\r\n        if (s.tag === 1) {\r\n            const p = s.fields[0].Path;\r\n            return Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, dotnetBinary()).then((_arg) => {\r\n                const solutionDir = path_1.dirname(p);\r\n                const solutionName = path_1.basename(p);\r\n                return Promise.resolve(delay(() => collect((matchValue) => {\r\n                    let returnVal;\r\n                    const verb = matchValue[3];\r\n                    const command = matchValue[0];\r\n                    const args = matchValue[1];\r\n                    const execution = invokeDotnet(_arg, command, cons(solutionName, args), solutionDir, empty_1({\r\n                        Compare: compare,\r\n                    }));\r\n                    const cmdline = join(\" \", ofArrayWithTail([\"dotnet\", command], args));\r\n                    return singleton_2((returnVal = (new vscode.Task(msbuildTaskDef, 2, \"solution\", verb, execution, \"$msCompile\")), ((returnVal.group = matchValue[2], returnVal.detail = (`${verb} the ${solutionName} solution using ${cmdline}`)), returnVal)));\r\n                }, perProjectTasks)));\r\n            });\r\n        }\r\n        else {\r\n            return Promise.resolve(empty_2());\r\n        }\r\n    }));\r\n}\r\n\r\nexport function traverse(p) {\r\n    return PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => (Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, Promise.all(Array.from(p))).then((_arg) => (Promise.resolve(Array.from(_arg)))))));\r\n}\r\n\r\nexport const msbuildBuildTaskProvider = {\r\n    provideTasks(token) {\r\n        let pr, arg;\r\n        ConsoleAndOutputChannelLogger__Info_Z17053F5(logger, \"providing tasks\");\r\n        const projectTasks = map(buildTaskListForProject, getLoaded());\r\n        return Promise_toThenable((pr = traverse((arg = append(ofArray(toArray(map_1(buildTaskListForSolution, getLoadedSolution()))), projectTasks), Array.from(arg))), pr.then((_arg) => {\r\n            let arg_1;\r\n            if (_arg != null) {\r\n                return (arg_1 = concat(_arg), Array.from(arg_1));\r\n            }\r\n            else {\r\n                return void 0;\r\n            }\r\n        })));\r\n    },\r\n    resolveTask(t, token_1) {\r\n        ConsoleAndOutputChannelLogger__Info_Z17053F5(logger, \"resolving task %s\", t.name);\r\n        return t;\r\n    },\r\n};\r\n\r\nexport function activate(context) {\r\n    const unlessIgnored = (path, f) => {\r\n        if (isIgnored(path)) {\r\n            return void 0;\r\n        }\r\n        else {\r\n            return f(path);\r\n        }\r\n    };\r\n    const initWorkspace = (_n) => initWorkspace_1();\r\n    const solutionWatcher = workspace.createFileSystemWatcher(\"**/*.sln\");\r\n    solutionWatcher.onDidCreate((n) => unlessIgnored(n.fsPath, initWorkspace));\r\n    solutionWatcher.onDidChange((n_1) => unlessIgnored(n_1.fsPath, initWorkspace));\r\n    const arg = projectNotRestoredLoaded((n_2) => {\r\n        const value_4 = restoreProjectAsync(n_2);\r\n        return void 0;\r\n    });\r\n    void (context.subscriptions.push(arg));\r\n    const registerCommand = (com, action) => {\r\n        const arg_2 = commands.registerCommand(com, action);\r\n        void (context.subscriptions.push(arg_2));\r\n    };\r\n    const arg_5 = tasks_2.registerTaskProvider(\"msbuild\", msbuildBuildTaskProvider);\r\n    void (context.subscriptions.push(arg_5));\r\n    registerCommand(\"MSBuild.buildCurrent\", () => buildCurrentProject(\"Build\"));\r\n    registerCommand(\"MSBuild.rebuildCurrent\", () => buildCurrentProject(\"Rebuild\"));\r\n    registerCommand(\"MSBuild.cleanCurrent\", () => buildCurrentProject(\"Clean\"));\r\n    registerCommand(\"MSBuild.buildCurrentSolution\", () => {\r\n        buildCurrentSolution(\"Build\");\r\n    });\r\n    registerCommand(\"MSBuild.rebuildCurrentSolution\", () => {\r\n        buildCurrentSolution(\"Rebuild\");\r\n    });\r\n    registerCommand(\"MSBuild.cleanCurrentSolution\", () => {\r\n        buildCurrentSolution(\"Clean\");\r\n    });\r\n    const arg_7 = commands.registerCommand(\"MSBuild.buildSelected\", (_arg_7) => {\r\n        let pr;\r\n        return some((pr = buildProject(\"Build\"), pr.then(() => void 0)));\r\n    });\r\n    void (context.subscriptions.push(arg_7));\r\n    const arg_9 = commands.registerCommand(\"MSBuild.rebuildSelected\", (_arg_8) => {\r\n        let pr_1;\r\n        return some((pr_1 = buildProject(\"Rebuild\"), pr_1.then(() => void 0)));\r\n    });\r\n    void (context.subscriptions.push(arg_9));\r\n    const arg_11 = commands.registerCommand(\"MSBuild.cleanSelected\", (_arg_9) => {\r\n        let pr_2;\r\n        return some((pr_2 = buildProject(\"Clean\"), pr_2.then(() => void 0)));\r\n    });\r\n    void (context.subscriptions.push(arg_11));\r\n    const arg_13 = commands.registerCommand(\"MSBuild.restoreSelected\", (_arg_10) => {\r\n        let pr_3;\r\n        return some((pr_3 = restoreProjectCmd(), pr_3.then(() => void 0)));\r\n    });\r\n    void (context.subscriptions.push(arg_13));\r\n}\r\n\r\n//# sourceMappingURL=MSBuild.js.map\r\n","import { Record } from \"../../fable_modules/fable-library.4.2.2/Types.js\";\r\nimport { string_type, bool_type, option_type, record_type, array_type, class_type, float64_type } from \"../../fable_modules/fable-library.4.2.2/Reflection.js\";\r\nimport { workspace, window as window$ } from \"vscode\";\r\nimport * as vscode from \"vscode\";\r\nimport { PromiseBuilder__Delay_62FBFDE1, PromiseBuilder__Run_212F1D4B } from \"../../fable_modules/Fable.Promise.3.2.0/Promise.fs.js\";\r\nimport { toArray, defaultArg, value as value_1, bind } from \"../../fable_modules/fable-library.4.2.2/Option.js\";\r\nimport { ConsoleAndOutputChannelLogger__ErrorOnFailed, ConsoleAndOutputChannelLogger__Info_Z17053F5, Level, ConsoleAndOutputChannelLogger_$ctor_Z565F02F0, ConsoleAndOutputChannelLogger__Debug_Z17053F5 } from \"../../Core/Logging.js\";\r\nimport { promise } from \"../../fable_modules/Fable.Promise.3.2.0/PromiseImpl.fs.js\";\r\nimport { Document_$007CFSharp$007CCSharp$007CVB$007CFSharpScript$007CMarkdown$007COther$007C, Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B } from \"../../Core/Utils.js\";\r\nimport { addToDict } from \"../../fable_modules/fable-library.4.2.2/MapUtil.js\";\r\nimport { filter, iterate, tryFind, map } from \"../../fable_modules/fable-library.4.2.2/Seq.js\";\r\nimport { disposeSafe, getEnumerator, structuralHash, equals, curry3 } from \"../../fable_modules/fable-library.4.2.2/Util.js\";\r\nimport { contains } from \"../../fable_modules/fable-library.4.2.2/Array.js\";\r\nimport { Notifications_onDocumentParsed } from \"../../Core/LanguageService.js\";\r\nimport { Dictionary } from \"../../fable_modules/fable-library.4.2.2/MutableMap.js\";\r\n\r\nexport class Documents_Cached extends Record {\r\n    constructor(version, decorations, textEditors) {\r\n        super();\r\n        this.version = version;\r\n        this.decorations = decorations;\r\n        this.textEditors = textEditors;\r\n    }\r\n}\r\n\r\nexport function Documents_Cached_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.LineLensShared.Documents.Cached\", [], Documents_Cached, () => [[\"version\", float64_type], [\"decorations\", array_type(class_type(\"Fable.Import.VSCode.Vscode.DecorationOptions\"))], [\"textEditors\", array_type(class_type(\"Fable.Import.VSCode.Vscode.TextEditor\"))]]);\r\n}\r\n\r\nexport class Documents_DocumentInfo extends Record {\r\n    constructor(uri, cache) {\r\n        super();\r\n        this.uri = uri;\r\n        this.cache = cache;\r\n    }\r\n}\r\n\r\nexport function Documents_DocumentInfo_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.LineLensShared.Documents.DocumentInfo\", [], Documents_DocumentInfo, () => [[\"uri\", class_type(\"Fable.Import.VSCode.Vscode.Uri\")], [\"cache\", option_type(Documents_Cached_$reflection())]]);\r\n}\r\n\r\nexport function Documents_update(info, decorations, version, documents) {\r\n    const updated = new Documents_DocumentInfo(info.uri, new Documents_Cached(version, decorations, []));\r\n    documents.set(info.uri, updated);\r\n    return updated;\r\n}\r\n\r\nexport function LineLensDecorations_create(theme, range, text) {\r\n    const attachment = {};\r\n    attachment.color = (new vscode.ThemeColor(theme));\r\n    attachment.contentText = text;\r\n    const renderOptions = {};\r\n    renderOptions.after = attachment;\r\n    const decoration = {};\r\n    decoration.range = range;\r\n    decoration.renderOptions = renderOptions;\r\n    return decoration;\r\n}\r\n\r\nexport const LineLensDecorations_decorationType = (() => {\r\n    const opt = {};\r\n    opt.isWholeLine = true;\r\n    return opt;\r\n})();\r\n\r\nexport class LineLensConfig extends Record {\r\n    constructor(enabled, prefix) {\r\n        super();\r\n        this.enabled = enabled;\r\n        this.prefix = prefix;\r\n    }\r\n}\r\n\r\nexport function LineLensConfig_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.LineLensShared.LineLensConfig\", [], LineLensConfig, () => [[\"enabled\", bool_type], [\"prefix\", string_type]]);\r\n}\r\n\r\nexport class LineLensState extends Record {\r\n    constructor(documents, decorationType, disposables) {\r\n        super();\r\n        this.documents = documents;\r\n        this.decorationType = decorationType;\r\n        this.disposables = disposables;\r\n    }\r\n}\r\n\r\nexport function LineLensState_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.LineLensShared.LineLensState\", [], LineLensState, () => [[\"documents\", class_type(\"System.Collections.Generic.Dictionary`2\", [class_type(\"Fable.Import.VSCode.Vscode.Uri\"), Documents_DocumentInfo_$reflection()])], [\"decorationType\", class_type(\"Fable.Import.VSCode.Vscode.TextEditorDecorationType\")], [\"disposables\", array_type(class_type(\"Fable.Import.VSCode.Vscode.Disposable\"))]]);\r\n}\r\n\r\n/**\r\n * Update the decorations stored for the document.\r\n * * If the info is already in cache, return that\r\n * * If it change during the process nothing is done and it return None, if a real change is done it return the new state\r\n */\r\nexport function DecorationUpdateModule_updateDecorationsForDocument(fetchHintsData, hintsToSignature, signatureToDecoration, logger, config, document$, version, state) {\r\n    return PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => {\r\n        const uri = document$.uri;\r\n        const matchValue_1 = bind((info) => {\r\n            const matchValue = info.cache;\r\n            let matchResult, cache_1;\r\n            if (matchValue != null) {\r\n                if (matchValue.version === version) {\r\n                    matchResult = 0;\r\n                    cache_1 = matchValue;\r\n                }\r\n                else {\r\n                    matchResult = 1;\r\n                }\r\n            }\r\n            else {\r\n                matchResult = 1;\r\n            }\r\n            switch (matchResult) {\r\n                case 0:\r\n                    return [info, cache_1];\r\n                default:\r\n                    return void 0;\r\n            }\r\n        }, state.documents.has(uri) ? state.documents.get(uri) : null);\r\n        if (matchValue_1 == null) {\r\n            if (document$.version === version) {\r\n                ConsoleAndOutputChannelLogger__Debug_Z17053F5(logger, \"getting new decorations for \\'%s\\' @%d\", uri, version);\r\n                return Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, fetchHintsData(uri)).then((_arg) => {\r\n                    const hintsResults = _arg;\r\n                    if (hintsResults != null) {\r\n                        const hintsResults_1 = value_1(hintsResults);\r\n                        return (document$.version === version) ? (Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, hintsToSignature(document$, hintsResults_1, uri)).then((_arg_1) => {\r\n                            let info_2;\r\n                            const uri_3 = uri;\r\n                            const documents_4 = state.documents;\r\n                            const matchValue_2 = documents_4.has(uri_3) ? documents_4.get(uri_3) : null;\r\n                            if (matchValue_2 == null) {\r\n                                const value = new Documents_DocumentInfo(uri_3, void 0);\r\n                                addToDict(documents_4, uri_3, value);\r\n                                info_2 = value;\r\n                            }\r\n                            else {\r\n                                info_2 = matchValue_2;\r\n                            }\r\n                            if (((document$.version === version) && (info_2.cache == null)) ? true : (value_1(info_2.cache).version !== version)) {\r\n                                let decorations;\r\n                                const arg = map(curry3(signatureToDecoration)(config)(document$), _arg_1);\r\n                                decorations = Array.from(arg);\r\n                                ConsoleAndOutputChannelLogger__Debug_Z17053F5(logger, \"New decorations generated for \\'%s\\' @%d\", uri, version);\r\n                                return Promise.resolve(Documents_update(info_2, decorations, version, state.documents));\r\n                            }\r\n                            else {\r\n                                return Promise.resolve(void 0);\r\n                            }\r\n                        })) : (Promise.resolve(void 0));\r\n                    }\r\n                    else {\r\n                        return Promise.resolve(void 0);\r\n                    }\r\n                });\r\n            }\r\n            else {\r\n                return Promise.resolve(void 0);\r\n            }\r\n        }\r\n        else {\r\n            const info_1 = matchValue_1[0];\r\n            ConsoleAndOutputChannelLogger__Debug_Z17053F5(logger, \"Found existing decorations in cache for \\'%s\\' @%d\", uri, version);\r\n            return Promise.resolve(info_1);\r\n        }\r\n    }));\r\n}\r\n\r\nexport class LineLens {\r\n    constructor(name, decorationUpdate, getConfig, decorationType) {\r\n        this.decorationUpdate = decorationUpdate;\r\n        this.getConfig = getConfig;\r\n        this.logger = ConsoleAndOutputChannelLogger_$ctor_Z565F02F0(`LineLensRenderer-${name}`, new Level(0, []), void 0, new Level(0, []));\r\n        this[\"decorationType@186\"] = defaultArg(decorationType, LineLensDecorations_decorationType);\r\n        this.config = (new LineLensConfig(true, \" // \"));\r\n        this.state = void 0;\r\n    }\r\n}\r\n\r\nexport function LineLens_$reflection() {\r\n    return class_type(\"Ionide.VSCode.FSharp.LineLensShared.LineLens\", void 0, LineLens);\r\n}\r\n\r\nexport function LineLens_$ctor_Z6044D13C(name, decorationUpdate, getConfig, decorationType) {\r\n    return new LineLens(name, decorationUpdate, getConfig, decorationType);\r\n}\r\n\r\nexport function LineLens__removeDocument_Z429A7006(t, uri) {\r\n    const matchValue = t.state;\r\n    if (matchValue == null) {\r\n    }\r\n    else {\r\n        const state = matchValue;\r\n        const documentExistInCache = tryFind((element) => (element[0].path === uri.path), state.documents);\r\n        if (documentExistInCache == null) {\r\n        }\r\n        else {\r\n            const uri_1 = documentExistInCache[0];\r\n            LineLens__documentClosed(t, uri_1, state);\r\n            iterate((textEditor_1) => {\r\n                textEditor_1.setDecorations(state.decorationType, []);\r\n            }, toArray(tryFind((textEditor) => equals(textEditor.document.uri, uri_1), window$.visibleTextEditors)));\r\n        }\r\n    }\r\n}\r\n\r\nexport function LineLens__activate_7F028812(t, context) {\r\n    ConsoleAndOutputChannelLogger__Info_Z17053F5(t.logger, \"Activating\");\r\n    const changeHandler = () => {\r\n        LineLens__configChangedHandler_Z7A2E8F54(t, t[\"decorationType@186\"]);\r\n    };\r\n    workspace.onDidChangeConfiguration(changeHandler, void 0, context.subscriptions);\r\n    changeHandler();\r\n}\r\n\r\nexport function LineLens__setDecorationsForEditor(this$, textEditor, info, state) {\r\n    const matchValue = info.cache;\r\n    let matchResult, cache_1;\r\n    if (matchValue != null) {\r\n        if (!contains(textEditor, matchValue.textEditors, {\r\n            Equals: equals,\r\n            GetHashCode: structuralHash,\r\n        })) {\r\n            matchResult = 0;\r\n            cache_1 = matchValue;\r\n        }\r\n        else {\r\n            matchResult = 1;\r\n        }\r\n    }\r\n    else {\r\n        matchResult = 1;\r\n    }\r\n    switch (matchResult) {\r\n        case 0: {\r\n            void (cache_1.textEditors.push(textEditor));\r\n            ConsoleAndOutputChannelLogger__Debug_Z17053F5(this$.logger, \"Setting decorations for \\'%s\\' @%d\", info.uri, cache_1.version);\r\n            textEditor.setDecorations(state.decorationType, cache_1.decorations);\r\n            break;\r\n        }\r\n        case 1: {\r\n            break;\r\n        }\r\n    }\r\n}\r\n\r\nexport function LineLens__setDecorationsForEditorIfCurrentVersion(this$, textEditor, state) {\r\n    const uri = textEditor.document.uri;\r\n    const version = textEditor.document.version;\r\n    const matchValue_1 = bind((info) => {\r\n        const matchValue = info.cache;\r\n        let matchResult, cache_1;\r\n        if (matchValue != null) {\r\n            if (matchValue.version === version) {\r\n                matchResult = 0;\r\n                cache_1 = matchValue;\r\n            }\r\n            else {\r\n                matchResult = 1;\r\n            }\r\n        }\r\n        else {\r\n            matchResult = 1;\r\n        }\r\n        switch (matchResult) {\r\n            case 0:\r\n                return [info, cache_1];\r\n            default:\r\n                return void 0;\r\n        }\r\n    }, state.documents.has(uri) ? state.documents.get(uri) : null);\r\n    if (matchValue_1 != null) {\r\n        LineLens__setDecorationsForEditor(this$, textEditor, matchValue_1[0], state);\r\n    }\r\n}\r\n\r\nexport function LineLens__documentClosed(this$, uri, state) {\r\n    state.documents.delete(uri);\r\n}\r\n\r\nexport function LineLens__textEditorsChangedHandler_Z3DCC5CF(this$, textEditors) {\r\n    let doc, activePatternResult;\r\n    const matchValue = this$.state;\r\n    if (matchValue == null) {\r\n    }\r\n    else {\r\n        const state = matchValue;\r\n        let enumerator = getEnumerator(textEditors);\r\n        try {\r\n            while (enumerator[\"System.Collections.IEnumerator.MoveNext\"]()) {\r\n                const textEditor = enumerator[\"System.Collections.Generic.IEnumerator`1.get_Current\"]();\r\n                if ((doc = textEditor.document, (activePatternResult = Document_$007CFSharp$007CCSharp$007CVB$007CFSharpScript$007CMarkdown$007COther$007C(doc), (activePatternResult.tag === 0) ? (doc.uri.scheme === \"file\") : ((activePatternResult.tag === 3) && (doc.uri.scheme === \"file\"))))) {\r\n                    LineLens__setDecorationsForEditorIfCurrentVersion(this$, textEditor, state);\r\n                }\r\n            }\r\n        }\r\n        finally {\r\n            disposeSafe(enumerator);\r\n        }\r\n    }\r\n}\r\n\r\nexport function LineLens__documentParsedHandler_Z1CB7A421(this$, event) {\r\n    const matchValue = this$.state;\r\n    if (matchValue != null) {\r\n        const state = matchValue;\r\n        ConsoleAndOutputChannelLogger__ErrorOnFailed(this$.logger, \"Updating after parse failed\", PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => (Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, this$.decorationUpdate(this$.logger, this$.config, event.document, event.version, state)).then((_arg) => {\r\n            const updatedInfo = _arg;\r\n            if (updatedInfo != null) {\r\n                const info = updatedInfo;\r\n                iterate((editor_1) => {\r\n                    LineLens__setDecorationsForEditor(this$, editor_1, info, state);\r\n                }, filter((editor) => equals(editor.document, event.document), window$.visibleTextEditors));\r\n                return Promise.resolve();\r\n            }\r\n            else {\r\n                return Promise.resolve();\r\n            }\r\n        })))));\r\n    }\r\n}\r\n\r\nexport function LineLens__closedTextDocumentHandler_5F5A1B66(this$, textDocument) {\r\n    let uri;\r\n    const option = this$.state;\r\n    iterate((uri = textDocument.uri, (state) => {\r\n        LineLens__documentClosed(this$, uri, state);\r\n    }), toArray(option));\r\n}\r\n\r\nexport function LineLens__install_Z7A2E8F54(this$, decorationType) {\r\n    ConsoleAndOutputChannelLogger__Debug_Z17053F5(this$.logger, \"Installing\");\r\n    const decorationType_1 = window$.createTextEditorDecorationType(decorationType);\r\n    const disposables = [];\r\n    void (disposables.push(window$.onDidChangeVisibleTextEditors((arg) => ((textEditors) => {\r\n        LineLens__textEditorsChangedHandler_Z3DCC5CF(this$, textEditors);\r\n    })(arg))));\r\n    void (disposables.push(Notifications_onDocumentParsed((arg_1) => ((event) => {\r\n        LineLens__documentParsedHandler_Z1CB7A421(this$, event);\r\n    })(arg_1))));\r\n    void (disposables.push(workspace.onDidCloseTextDocument((arg_2) => ((textDocument) => {\r\n        LineLens__closedTextDocumentHandler_5F5A1B66(this$, textDocument);\r\n    })(arg_2))));\r\n    const newState = new LineLensState(new Dictionary([], {\r\n        Equals: equals,\r\n        GetHashCode: structuralHash,\r\n    }), decorationType_1, disposables);\r\n    this$.state = newState;\r\n    ConsoleAndOutputChannelLogger__Debug_Z17053F5(this$.logger, \"Installed\");\r\n}\r\n\r\nexport function LineLens__uninstall(this$) {\r\n    ConsoleAndOutputChannelLogger__Debug_Z17053F5(this$.logger, \"Uninstalling\");\r\n    const matchValue = this$.state;\r\n    if (matchValue != null) {\r\n        const state = matchValue;\r\n        let enumerator = getEnumerator(state.disposables);\r\n        try {\r\n            while (enumerator[\"System.Collections.IEnumerator.MoveNext\"]()) {\r\n                const disposable = enumerator[\"System.Collections.Generic.IEnumerator`1.get_Current\"]();\r\n                disposable.dispose();\r\n            }\r\n        }\r\n        finally {\r\n            disposeSafe(enumerator);\r\n        }\r\n        state.decorationType.dispose();\r\n    }\r\n    this$.state = void 0;\r\n    ConsoleAndOutputChannelLogger__Debug_Z17053F5(this$.logger, \"Uninstalled\");\r\n}\r\n\r\nexport function LineLens__configChangedHandler_Z7A2E8F54(this$, decorationType) {\r\n    ConsoleAndOutputChannelLogger__Debug_Z17053F5(this$.logger, \"Config Changed event\");\r\n    const wasEnabled = this$.config.enabled && !equals(this$.state, void 0);\r\n    this$.config = this$.getConfig();\r\n    const isEnabled = this$.config.enabled;\r\n    if (wasEnabled !== isEnabled) {\r\n        if (isEnabled) {\r\n            LineLens__install_Z7A2E8F54(this$, decorationType);\r\n        }\r\n        else {\r\n            LineLens__uninstall(this$);\r\n        }\r\n    }\r\n}\r\n\r\n//# sourceMappingURL=LineLensShared.js.map\r\n","import { ConsoleAndOutputChannelLogger__Error_Z17053F5, Level, ConsoleAndOutputChannelLogger_$ctor_Z565F02F0 } from \"../../Core/Logging.js\";\r\nimport { Union } from \"../../fable_modules/fable-library.4.2.2/Types.js\";\r\nimport { union_type } from \"../../fable_modules/fable-library.4.2.2/Reflection.js\";\r\nimport { LineLens_$ctor_Z6044D13C, DecorationUpdateModule_updateDecorationsForDocument, LineLensDecorations_create, LineLensConfig } from \"./LineLensShared.js\";\r\nimport { workspace } from \"vscode\";\r\nimport { Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B, CodeRange_fromDTO, Patterns_$007CContains$007C_$007C } from \"../../Core/Utils.js\";\r\nimport { isNullOrEmpty, join, printf, toText } from \"../../fable_modules/fable-library.4.2.2/String.js\";\r\nimport { map } from \"../../fable_modules/fable-library.4.2.2/List.js\";\r\nimport { map as map_2, append, choose, collect } from \"../../fable_modules/fable-library.4.2.2/Array.js\";\r\nimport { singleton } from \"../../fable_modules/fable-library.4.2.2/AsyncBuilder.js\";\r\nimport { sequential, startAsPromise, awaitPromise } from \"../../fable_modules/fable-library.4.2.2/Async.js\";\r\nimport { LanguageService_lineLenses, LanguageService_signatureData } from \"../../Core/LanguageService.js\";\r\nimport { bind, map as map_1 } from \"../../fable_modules/fable-library.4.2.2/Option.js\";\r\nimport { Array_groupBy } from \"../../fable_modules/fable-library.4.2.2/Seq2.js\";\r\nimport { uncurry5, numberHash } from \"../../fable_modules/fable-library.4.2.2/Util.js\";\r\nimport { PromiseBuilder__Delay_62FBFDE1, PromiseBuilder__Run_212F1D4B } from \"../../fable_modules/Fable.Promise.3.2.0/Promise.fs.js\";\r\nimport { promise } from \"../../fable_modules/Fable.Promise.3.2.0/PromiseImpl.fs.js\";\r\n\r\nconst logger = ConsoleAndOutputChannelLogger_$ctor_Z565F02F0(\"LineLens\", new Level(0, []), void 0, new Level(0, []));\r\n\r\nexport class LineLensConfigModule_EnabledMode extends Union {\r\n    constructor(tag, fields) {\r\n        super();\r\n        this.tag = tag;\r\n        this.fields = fields;\r\n    }\r\n    cases() {\r\n        return [\"Never\", \"ReplaceCodeLens\", \"Always\"];\r\n    }\r\n}\r\n\r\nexport function LineLensConfigModule_EnabledMode_$reflection() {\r\n    return union_type(\"Ionide.VSCode.FSharp.LineLens.LineLensConfigModule.EnabledMode\", [], LineLensConfigModule_EnabledMode, () => [[], [], []]);\r\n}\r\n\r\nfunction LineLensConfigModule_parseEnabledMode(s) {\r\n    const matchValue = s.toLowerCase();\r\n    switch (matchValue) {\r\n        case \"never\":\r\n            return false;\r\n        case \"always\":\r\n            return true;\r\n        default:\r\n            return true;\r\n    }\r\n}\r\n\r\nexport const LineLensConfigModule_defaultConfig = new LineLensConfig(true, \" //  \");\r\n\r\nconst LineLensConfigModule_themeRegex = /\\s*theme\\((.+)\\)\\s*/gu;\r\n\r\nexport function LineLensConfigModule_getConfig() {\r\n    const cfg = workspace.getConfiguration();\r\n    const fsharpCodeLensConfig = cfg.get(\"[fsharp]\", {}).hasOwnProperty(\"editor.codeLens\")?cfg.get(\"[fsharp]\", {})[\"editor.codeLens\"]:null;\r\n    return new LineLensConfig(LineLensConfigModule_parseEnabledMode(cfg.get(\"FSharp.lineLens.enabled\", \"replacecodelens\")), cfg.get(\"FSharp.lineLens.prefix\", LineLensConfigModule_defaultConfig.prefix));\r\n}\r\n\r\nexport function DecorationUpdate_formatSignature(sign) {\r\n    const formatType = (_arg) => {\r\n        const activePatternResult = Patterns_$007CContains$007C_$007C(\"->\", _arg);\r\n        if (activePatternResult != null) {\r\n            const t = activePatternResult;\r\n            return toText(printf(\"(%s)\"))(t);\r\n        }\r\n        else {\r\n            return _arg;\r\n        }\r\n    };\r\n    const args = join(\" -> \", map((group) => join(\" * \", map((p) => formatType(p.Type), group)), sign.Parameters));\r\n    if (isNullOrEmpty(args)) {\r\n        return sign.OutputType;\r\n    }\r\n    else {\r\n        return (args + \" -> \") + formatType(sign.OutputType);\r\n    }\r\n}\r\n\r\nexport function DecorationUpdate_interestingSymbolPositions(symbols) {\r\n    return collect((syms) => {\r\n        const interestingNested = choose((sym) => {\r\n            if ((((((((((sym.GlyphChar !== \"Fc\") && (sym.GlyphChar !== \"M\")) && (sym.GlyphChar !== \"F\")) && (sym.GlyphChar !== \"P\")) ? true : sym.IsAbstract) ? true : (sym.EnclosingEntity === \"I\")) ? true : (sym.EnclosingEntity === \"R\")) ? true : (sym.EnclosingEntity === \"D\")) ? true : (sym.EnclosingEntity === \"En\")) ? true : (sym.EnclosingEntity === \"E\")) {\r\n                return void 0;\r\n            }\r\n            else {\r\n                return sym.BodyRange;\r\n            }\r\n        }, syms.Nested);\r\n        if (syms.Declaration.GlyphChar !== \"Fc\") {\r\n            return interestingNested;\r\n        }\r\n        else {\r\n            return append([syms.Declaration.BodyRange], interestingNested);\r\n        }\r\n    }, symbols);\r\n}\r\n\r\nfunction DecorationUpdate_lineRange(doc, range) {\r\n    const textLine = doc.lineAt(range.start.line);\r\n    return textLine.range;\r\n}\r\n\r\nfunction DecorationUpdate_getSignature(uri, range) {\r\n    return singleton.Delay(() => singleton.TryWith(singleton.Delay(() => singleton.Bind(awaitPromise(LanguageService_signatureData(uri, range.StartLine, range.StartColumn - 1)), (_arg) => singleton.Return(map_1((r) => [CodeRange_fromDTO(range), DecorationUpdate_formatSignature(r.Data)], _arg)))), (_arg_1) => {\r\n        ConsoleAndOutputChannelLogger__Error_Z17053F5(logger, \"Error getting signature %o\", _arg_1);\r\n        return singleton.Return(void 0);\r\n    }));\r\n}\r\n\r\nexport function DecorationUpdate_signatureToDecoration(config, doc, range, signature) {\r\n    return LineLensDecorations_create(\"fsharp.linelens\", DecorationUpdate_lineRange(doc, range), config.prefix + signature);\r\n}\r\n\r\nfunction DecorationUpdate_onePerLine(ranges) {\r\n    return choose((tupledArg) => {\r\n        const ranges_1 = tupledArg[1];\r\n        if (ranges_1.length === 1) {\r\n            return ranges_1[0];\r\n        }\r\n        else {\r\n            return void 0;\r\n        }\r\n    }, Array_groupBy((r) => r.StartLine, ranges, {\r\n        Equals: (x, y) => (x === y),\r\n        GetHashCode: numberHash,\r\n    }));\r\n}\r\n\r\nfunction DecorationUpdate_needUpdate(uri, version, _arg) {\r\n    return bind((info) => {\r\n        const matchValue = info.cache;\r\n        let matchResult, cache_1;\r\n        if (matchValue != null) {\r\n            if (matchValue.version === version) {\r\n                matchResult = 0;\r\n                cache_1 = matchValue;\r\n            }\r\n            else {\r\n                matchResult = 1;\r\n            }\r\n        }\r\n        else {\r\n            matchResult = 1;\r\n        }\r\n        switch (matchResult) {\r\n            case 0:\r\n                return [info, cache_1];\r\n            default:\r\n                return void 0;\r\n        }\r\n    }, _arg.documents.has(uri) ? _arg.documents.get(uri) : null) != null;\r\n}\r\n\r\nexport function DecorationUpdate_declarationsResultToSignatures(document$, declarationsResult, uri) {\r\n    return PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => {\r\n        let pr;\r\n        const interesting_1 = DecorationUpdate_onePerLine(DecorationUpdate_interestingSymbolPositions(declarationsResult.Data));\r\n        return Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, (pr = startAsPromise(sequential(map_2((range) => DecorationUpdate_getSignature(uri, range), interesting_1))), pr.then((s) => choose((x) => x, s)))).then((_arg) => (Promise.resolve(_arg)));\r\n    }));\r\n}\r\n\r\nconst lineLensDecorationUpdate = (logger_1) => ((config_1) => ((document$_1) => ((version) => ((state) => DecorationUpdateModule_updateDecorationsForDocument(LanguageService_lineLenses, DecorationUpdate_declarationsResultToSignatures, (config, doc, tupledArg) => DecorationUpdate_signatureToDecoration(config, doc, tupledArg[0], tupledArg[1]), logger_1, config_1, document$_1, version, state)))));\r\n\r\nexport function createLineLens() {\r\n    return LineLens_$ctor_Z6044D13C(\"LineLens\", uncurry5(lineLensDecorationUpdate), LineLensConfigModule_getConfig);\r\n}\r\n\r\nexport const Instance = createLineLens();\r\n\r\n//# sourceMappingURL=LineLens.js.map\r\n","import { Level, ConsoleAndOutputChannelLogger_$ctor_Z565F02F0 } from \"../../Core/Logging.js\";\r\nimport { LineLens_$ctor_Z6044D13C, DecorationUpdateModule_updateDecorationsForDocument, LineLensDecorations_create, LineLensConfig } from \"./LineLensShared.js\";\r\nimport { workspace } from \"vscode\";\r\nimport { collect, map } from \"../../fable_modules/fable-library.4.2.2/Array.js\";\r\nimport { map as map_1 } from \"../../fable_modules/fable-library.4.2.2/Option.js\";\r\nimport { match } from \"../../fable_modules/fable-library.4.2.2/RegExp.js\";\r\nimport { PromiseBuilder__Delay_62FBFDE1, PromiseBuilder__Run_212F1D4B } from \"../../fable_modules/Fable.Promise.3.2.0/Promise.fs.js\";\r\nimport { promise } from \"../../fable_modules/Fable.Promise.3.2.0/PromiseImpl.fs.js\";\r\nimport { LanguageService_pipelineHints } from \"../../Core/LanguageService.js\";\r\nimport { uncurry5 } from \"../../fable_modules/fable-library.4.2.2/Util.js\";\r\n\r\nconst logger = ConsoleAndOutputChannelLogger_$ctor_Z565F02F0(\"PipelineHints\", new Level(0, []), void 0, new Level(0, []));\r\n\r\nexport const PipelineHintsConfigModule_defaultConfig = new LineLensConfig(false, \" //  \");\r\n\r\nexport function PipelineHintsConfigModule_getConfig() {\r\n    const cfg = workspace.getConfiguration();\r\n    return new LineLensConfig(cfg.get(\"FSharp.pipelineHints.enabled\", PipelineHintsConfigModule_defaultConfig.enabled) && !cfg.get(\"FSharp.inlineValues.enabled\", false), cfg.get(\"FSharp.pipelineHints.prefix\", PipelineHintsConfigModule_defaultConfig.prefix));\r\n}\r\n\r\nexport function PipelineDecorationUpdate_interestingSymbolPositions(doc, lines) {\r\n    return map((n) => {\r\n        const textLine = doc.lineAt(n.Line);\r\n        const previousTextLine = map_1((l) => doc.lineAt(l).range, n.PrecedingNonPipeExprLine);\r\n        return [textLine.range, n.Types, previousTextLine];\r\n    }, lines);\r\n}\r\n\r\nexport const PipelineDecorationUpdate_typeParamRegex = new RegExp(\"\\'.+?\\\\s.+?\\\\s([\\\\s\\\\S]+)\");\r\n\r\nfunction PipelineDecorationUpdate_getSignature(index, range, tts) {\r\n    const groups = match(PipelineDecorationUpdate_typeParamRegex, tts[index]);\r\n    return [range, \"  \" + (groups[1] || \"\")];\r\n}\r\n\r\nfunction PipelineDecorationUpdate_getSignatures(range, tts, previousNonPipeLine) {\r\n    if (previousNonPipeLine == null) {\r\n        return [PipelineDecorationUpdate_getSignature(1, range, tts)];\r\n    }\r\n    else {\r\n        return [PipelineDecorationUpdate_getSignature(0, previousNonPipeLine, tts), PipelineDecorationUpdate_getSignature(1, range, tts)];\r\n    }\r\n}\r\n\r\nexport function PipelineDecorationUpdate_declarationsResultToSignatures(doc, declarationsResult, uri) {\r\n    return PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => {\r\n        const signatures = collect((tupledArg) => PipelineDecorationUpdate_getSignatures(tupledArg[0], tupledArg[1], tupledArg[2]), PipelineDecorationUpdate_interestingSymbolPositions(doc, declarationsResult.Data));\r\n        return Promise.resolve(signatures);\r\n    }));\r\n}\r\n\r\nexport function PipelineDecorationUpdate_signatureToDecoration(config, doc, r, s) {\r\n    return LineLensDecorations_create(\"fsharp.pipelineHints\", r, config.prefix + s);\r\n}\r\n\r\nconst pipelineHintsDecorationUpdate = (logger_1) => ((config_1) => ((document$) => ((version) => ((state) => DecorationUpdateModule_updateDecorationsForDocument(LanguageService_pipelineHints, PipelineDecorationUpdate_declarationsResultToSignatures, (config, doc_1, tupledArg) => PipelineDecorationUpdate_signatureToDecoration(config, doc_1, tupledArg[0], tupledArg[1]), logger_1, config_1, document$, version, state)))));\r\n\r\nexport function createPipeLineHints() {\r\n    return LineLens_$ctor_Z6044D13C(\"PipelineHints\", uncurry5(pipelineHintsDecorationUpdate), PipelineHintsConfigModule_getConfig);\r\n}\r\n\r\nexport const Instance = createPipeLineHints();\r\n\r\n//# sourceMappingURL=PipelineHints.js.map\r\n","import { LanguageService_dotnetRemoveProject, LanguageService_dotnetAddProject, LanguageService_fsprojAddExistingFile, LanguageService_fsprojAddFile, LanguageService_fsprojAddFileBelow, LanguageService_fsprojAddFileAbove, LanguageService_fsprojRemoveFile, LanguageService_fsprojRenameFile, LanguageService_fsprojMoveFileDown, LanguageService_fsprojMoveFileUp } from \"./LanguageService.js\";\r\nimport { PromiseBuilder__Delay_62FBFDE1, PromiseBuilder__Run_212F1D4B } from \"../fable_modules/Fable.Promise.3.2.0/Promise.fs.js\";\r\nimport { getAll } from \"./Project.js\";\r\nimport { promise } from \"../fable_modules/Fable.Promise.3.2.0/PromiseImpl.fs.js\";\r\nimport { Promise_empty, Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B, Promise_PromiseBuilder__PromiseBuilder_Source_Z7741CCC2 } from \"./Utils.js\";\r\nimport { commands, window as window$ } from \"vscode\";\r\nimport * as path_2 from \"path\";\r\nimport { filter } from \"../fable_modules/fable-library.4.2.2/List.js\";\r\nimport { uncurry3 } from \"../fable_modules/fable-library.4.2.2/Util.js\";\r\n\r\nexport function moveFileUpPath(project, file) {\r\n    return LanguageService_fsprojMoveFileUp(project, file);\r\n}\r\n\r\nexport function moveFileDownPath(project, file) {\r\n    return LanguageService_fsprojMoveFileDown(project, file);\r\n}\r\n\r\nexport function renameFile(project, file, newFileName) {\r\n    return LanguageService_fsprojRenameFile(project, file, newFileName);\r\n}\r\n\r\nexport function removeFilePath(project, file) {\r\n    return LanguageService_fsprojRemoveFile(project, file);\r\n}\r\n\r\nexport function addFileAbove(project, fromFile, newFile) {\r\n    return LanguageService_fsprojAddFileAbove(project, fromFile, newFile);\r\n}\r\n\r\nexport function addFileBelow(project, fromFile, newFile) {\r\n    return LanguageService_fsprojAddFileBelow(project, fromFile, newFile);\r\n}\r\n\r\nexport function addFile(project, file) {\r\n    return LanguageService_fsprojAddFile(project, file);\r\n}\r\n\r\nexport function addExistingFile(project, file) {\r\n    return LanguageService_fsprojAddExistingFile(project, file);\r\n}\r\n\r\nexport function addCurrentFileToProject(_arg, _arg_1, _arg_2) {\r\n    return PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => {\r\n        let projects;\r\n        const arg = getAll();\r\n        projects = Array.from(arg);\r\n        if (projects.length !== 0) {\r\n            const opts = {};\r\n            opts.placeHolder = \"Choose a project\";\r\n            return Promise_PromiseBuilder__PromiseBuilder_Source_Z7741CCC2(promise, window$.showQuickPick(projects, opts)).then((_arg_3) => {\r\n                let projectPath_1, matchValue, editor, dir;\r\n                const projectPath = _arg_3;\r\n                return Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, (projectPath == null) ? Promise_empty() : ((projectPath_1 = projectPath, (matchValue = window$.activeTextEditor, (matchValue == null) ? Promise_empty() : ((editor = matchValue, addFile(projectPath_1, (dir = path_2.dirname(projectPath_1), path_2.relative(dir, editor.document.fileName)))))))));\r\n            });\r\n        }\r\n        else {\r\n            return Promise_PromiseBuilder__PromiseBuilder_Source_Z7741CCC2(promise, window$.showWarningMessage(\"Can\\'t find any project, run `dotnet new console -lang F#`\")).then((_arg_4) => (Promise.resolve(void 0)));\r\n        }\r\n    }));\r\n}\r\n\r\nexport function addProjectReferencePath(path) {\r\n    return PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => {\r\n        if (path != null) {\r\n            const path_1 = path;\r\n            let projects;\r\n            const arg = filter((p) => (p !== path_1), getAll());\r\n            projects = Array.from(arg);\r\n            if (projects.length !== 0) {\r\n                const opts = {};\r\n                opts.placeHolder = \"Reference\";\r\n                return Promise_PromiseBuilder__PromiseBuilder_Source_Z7741CCC2(promise, window$.showQuickPick(projects, opts)).then((_arg) => {\r\n                    const n = _arg;\r\n                    return Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, (n != null) ? LanguageService_dotnetAddProject(path_1, n) : Promise_empty());\r\n                });\r\n            }\r\n            else {\r\n                return Promise.resolve();\r\n            }\r\n        }\r\n        else {\r\n            return Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, Promise_empty());\r\n        }\r\n    }));\r\n}\r\n\r\nexport function removeProjectReferencePath(ref, proj) {\r\n    return LanguageService_dotnetRemoveProject(proj, ref);\r\n}\r\n\r\nexport function activate(context) {\r\n    const arg_3 = commands.registerTextEditorCommand(\"fsharp.AddFileToProject\", uncurry3((arg) => {\r\n        const clo_1 = ((arg00$0040) => ((arg10$0040) => ((arg20$0040) => addCurrentFileToProject(arg00$0040, arg10$0040, arg20$0040))))(arg);\r\n        return (arg_1) => {\r\n            const clo_2 = clo_1(arg_1);\r\n            return (arg_2) => {\r\n                clo_2(arg_2);\r\n            };\r\n        };\r\n    }));\r\n    void (context.subscriptions.push(arg_3));\r\n}\r\n\r\n//# sourceMappingURL=FsProjEdit.js.map\r\n","const __WEBPACK_NAMESPACE_OBJECT__ = require(\"querystring\");","import { toString, Record } from \"../fable_modules/fable-library.4.2.2/Types.js\";\r\nimport { record_type, bool_type, array_type, option_type, string_type } from \"../fable_modules/fable-library.4.2.2/Reflection.js\";\r\nimport { PromiseBuilder__Delay_62FBFDE1, PromiseBuilder__Run_212F1D4B } from \"../fable_modules/Fable.Promise.3.2.0/Promise.fs.js\";\r\nimport { promise } from \"../fable_modules/Fable.Promise.3.2.0/PromiseImpl.fs.js\";\r\nimport { String_split, Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B, Promise_PromiseBuilder__PromiseBuilder_Source_Z7741CCC2 } from \"../Core/Utils.js\";\r\nimport { defaultArg, map as map_1, toArray, value as value_3, some } from \"../fable_modules/fable-library.4.2.2/Option.js\";\r\nimport { commands, tasks as tasks_1, debug, workspace, window as window$ } from \"vscode\";\r\nimport * as vscode from \"vscode\";\r\nimport { ConsoleAndOutputChannelLogger__Info_Z17053F5, Level, ConsoleAndOutputChannelLogger_$ctor_Z565F02F0 } from \"../Core/Logging.js\";\r\nimport { buildProjectPath } from \"./MSBuild.js\";\r\nimport { getLoaded, getLauncherWithShell } from \"../Core/Project.js\";\r\nimport { collect as collect_1, map, head, tail, isEmpty, empty } from \"../fable_modules/fable-library.4.2.2/List.js\";\r\nimport { printf, toText, replace } from \"../fable_modules/fable-library.4.2.2/String.js\";\r\nimport * as path from \"path\";\r\nimport { createObj, equals, createAtom } from \"../fable_modules/fable-library.4.2.2/Util.js\";\r\nimport { append, tryFind, toList, singleton, empty as empty_1, collect, delay, iterate } from \"../fable_modules/fable-library.4.2.2/Seq.js\";\r\nimport * as fs from \"fs\";\r\nimport { choose } from \"../fable_modules/fable-library.4.2.2/Array.js\";\r\n\r\nexport class LaunchJsonVersion2_RequestLaunch extends Record {\r\n    constructor(name, type, request, preLaunchTask, program, args, cwd, console$, stopAtEntry) {\r\n        super();\r\n        this.name = name;\r\n        this.type = type;\r\n        this.request = request;\r\n        this.preLaunchTask = preLaunchTask;\r\n        this.program = program;\r\n        this.args = args;\r\n        this.cwd = cwd;\r\n        this.console = console$;\r\n        this.stopAtEntry = stopAtEntry;\r\n    }\r\n}\r\n\r\nexport function LaunchJsonVersion2_RequestLaunch_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.LaunchJsonVersion2.RequestLaunch\", [], LaunchJsonVersion2_RequestLaunch, () => [[\"name\", string_type], [\"type\", string_type], [\"request\", string_type], [\"preLaunchTask\", option_type(string_type)], [\"program\", string_type], [\"args\", array_type(string_type)], [\"cwd\", string_type], [\"console\", string_type], [\"stopAtEntry\", bool_type]]);\r\n}\r\n\r\nexport function LaunchJsonVersion2_createRequestLaunch() {\r\n    return new LaunchJsonVersion2_RequestLaunch(\".NET Core Launch (console)\", \"coreclr\", \"launch\", \"build\", \"${workspaceRoot}/bin/Debug/{targetFramework}/{projectName}.dll\", [], \"${workspaceRoot}\", \"externalTerminal\", false);\r\n}\r\n\r\nexport class LaunchJsonVersion2_RequestAttach extends Record {\r\n    constructor(name, type, request, processId) {\r\n        super();\r\n        this.name = name;\r\n        this.type = type;\r\n        this.request = request;\r\n        this.processId = processId;\r\n    }\r\n}\r\n\r\nexport function LaunchJsonVersion2_RequestAttach_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.LaunchJsonVersion2.RequestAttach\", [], LaunchJsonVersion2_RequestAttach, () => [[\"name\", string_type], [\"type\", string_type], [\"request\", string_type], [\"processId\", string_type]]);\r\n}\r\n\r\nexport function LaunchJsonVersion2_createAttachLaunch() {\r\n    return new LaunchJsonVersion2_RequestAttach(\".NET Core Attach\", \"coreclr\", \"attach\", \"${command:pickProcess}\");\r\n}\r\n\r\nexport function LaunchJsonVersion2_assertVersion2(cfg) {\r\n    return PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => (Promise_PromiseBuilder__PromiseBuilder_Source_Z7741CCC2(promise, cfg.update(\"version\", some(\"0.2.0\"), false)).then(() => (Promise_PromiseBuilder__PromiseBuilder_Source_Z7741CCC2(promise, cfg.update(\"configurations\", some([]), false)).then(() => (Promise.resolve(void 0))))))));\r\n}\r\n\r\nexport const Debugger_outputChannel = window$.createOutputChannel(\"Ionide: Debugger\");\r\n\r\nconst Debugger_logger = ConsoleAndOutputChannelLogger_$ctor_Z565F02F0(\"Debugger\", new Level(0, []), Debugger_outputChannel, new Level(0, []));\r\n\r\nexport function Debugger_buildAndRun(project) {\r\n    return PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => (Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, buildProjectPath(\"Build\", project)).then((_arg) => {\r\n        const launcher = getLauncherWithShell(project);\r\n        if (launcher != null) {\r\n            const l = launcher;\r\n            return Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, l(empty())).then((_arg_1) => {\r\n                _arg_1.show();\r\n                return Promise.resolve();\r\n            });\r\n        }\r\n        else {\r\n            window$.showWarningMessage(\"Can\\'t start project\");\r\n            return Promise.resolve();\r\n        }\r\n    }))));\r\n}\r\n\r\nexport function Debugger_setProgramPath(project, cfg) {\r\n    const relativeOutPath = replace(path.relative(value_3(workspace.rootPath), project.Output), \"\\\\\", \"/\");\r\n    const programPath_1 = replace(toText(printf(\"${workspaceRoot}/%s\"))(relativeOutPath), \"/obj/\", \"/bin/\");\r\n    cfg.cwd = path.dirname(project.Output);\r\n    cfg.program = programPath_1;\r\n}\r\n\r\nexport function Debugger_debuggerRuntime(project) {\r\n    return \"coreclr\";\r\n}\r\n\r\nexport function Debugger_debugProject(project, args) {\r\n    return PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => {\r\n        const cfg = LaunchJsonVersion2_createRequestLaunch();\r\n        const matchValue = Debugger_debuggerRuntime(project);\r\n        if (matchValue != null) {\r\n            const rntm = matchValue;\r\n            Debugger_setProgramPath(project, cfg);\r\n            cfg.type = rntm;\r\n            cfg.preLaunchTask = void 0;\r\n            cfg.args = args;\r\n            const folder = value_3(workspace.workspaceFolders)[0];\r\n            return Promise_PromiseBuilder__PromiseBuilder_Source_Z7741CCC2(promise, debug.startDebugging(folder, cfg)).then((_arg) => (Promise.resolve(void 0)));\r\n        }\r\n        else {\r\n            window$.showWarningMessage(\"Can\\'t start debugger\");\r\n            return Promise.resolve();\r\n        }\r\n    }));\r\n}\r\n\r\nexport function Debugger_buildAndDebug(project) {\r\n    return PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => {\r\n        const cfg = LaunchJsonVersion2_createRequestLaunch();\r\n        const matchValue = Debugger_debuggerRuntime(project);\r\n        if (matchValue != null) {\r\n            const rntm = matchValue;\r\n            Debugger_setProgramPath(project, cfg);\r\n            cfg.type = rntm;\r\n            cfg.preLaunchTask = void 0;\r\n            const folder = value_3(workspace.workspaceFolders)[0];\r\n            return Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, buildProjectPath(\"Build\", project)).then((_arg) => {\r\n                const matchValue_1 = _arg.Code;\r\n                let matchResult, code_1;\r\n                if (matchValue_1 != null) {\r\n                    if (matchValue_1 !== 0) {\r\n                        matchResult = 0;\r\n                        code_1 = matchValue_1;\r\n                    }\r\n                    else {\r\n                        matchResult = 1;\r\n                    }\r\n                }\r\n                else {\r\n                    matchResult = 1;\r\n                }\r\n                switch (matchResult) {\r\n                    case 0:\r\n                        return Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, Promise.reject(new Error(`msbuild 'Build' failed with exit code ${code_1}`)));\r\n                    default:\r\n                        return Promise_PromiseBuilder__PromiseBuilder_Source_Z7741CCC2(promise, debug.startDebugging(folder, cfg)).then((_arg_1) => (Promise.resolve(void 0)));\r\n                }\r\n            });\r\n        }\r\n        else {\r\n            window$.showWarningMessage(\"Can\\'t start debugger\");\r\n            return Promise.resolve();\r\n        }\r\n    }));\r\n}\r\n\r\nexport let Debugger_startup = createAtom(void 0);\r\n\r\nexport let Debugger_context = createAtom(void 0);\r\n\r\nexport function Debugger_setDefaultProject(project) {\r\n    Debugger_startup(project);\r\n    iterate((c) => {\r\n        c.workspaceState.update(\"defaultProject\", some(project));\r\n    }, toArray(Debugger_context()));\r\n}\r\n\r\nexport function Debugger_chooseDefaultProject() {\r\n    return PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => {\r\n        const matchValue = getLoaded();\r\n        if (!isEmpty(matchValue)) {\r\n            if (isEmpty(tail(matchValue))) {\r\n                return Promise.resolve(head(matchValue));\r\n            }\r\n            else {\r\n                let picks;\r\n                const arg = map((p) => ({\r\n                    data: p,\r\n                    label: p.Project,\r\n                }), matchValue);\r\n                picks = Array.from(arg);\r\n                return Promise_PromiseBuilder__PromiseBuilder_Source_Z7741CCC2(promise, window$.showQuickPick(picks)).then((_arg) => {\r\n                    const proj = _arg;\r\n                    if ((proj != undefined)) {\r\n                        const project_1 = proj.data;\r\n                        Debugger_setDefaultProject(project_1);\r\n                        return Promise.resolve(project_1);\r\n                    }\r\n                    else {\r\n                        return Promise.resolve(void 0);\r\n                    }\r\n                });\r\n            }\r\n        }\r\n        else {\r\n            return Promise.resolve(void 0);\r\n        }\r\n    }));\r\n}\r\n\r\nexport function Debugger_buildAndRunDefault() {\r\n    if (Debugger_startup() != null) {\r\n        return Debugger_buildAndRun(Debugger_startup());\r\n    }\r\n    else {\r\n        const pr = Debugger_chooseDefaultProject();\r\n        return pr.then((arg) => {\r\n            map_1(Debugger_buildAndRun, arg);\r\n        });\r\n    }\r\n}\r\n\r\nexport function Debugger_buildAndDebugDefault() {\r\n    if (Debugger_startup() != null) {\r\n        return Debugger_buildAndDebug(Debugger_startup());\r\n    }\r\n    else {\r\n        const pr = Debugger_chooseDefaultProject();\r\n        return pr.then((arg) => {\r\n            map_1(Debugger_buildAndDebug, arg);\r\n        });\r\n    }\r\n}\r\n\r\nexport function Debugger_readSettingsForProject(project) {\r\n    const file = path.join(path.dirname(project.Project), \"Properties\", \"launchSettings.json\");\r\n    if (fs.existsSync(file)) {\r\n        ConsoleAndOutputChannelLogger__Info_Z17053F5(Debugger_logger, `Reading launch settings from ${file}`);\r\n        const fileContent = fs.readFileSync(file);\r\n        const settings = JSON.parse(toString(fileContent));\r\n        if ((((settings != undefined)) && (settings.profiles != null)) && !((Object.keys(value_3(settings.profiles))).length === 0)) {\r\n            ConsoleAndOutputChannelLogger__Info_Z17053F5(Debugger_logger, `found ${(Object.keys(value_3(settings.profiles))).length} profiles.`);\r\n            return value_3(settings.profiles);\r\n        }\r\n        else {\r\n            ConsoleAndOutputChannelLogger__Info_Z17053F5(Debugger_logger, `No profiles found in ${file}`);\r\n            return void 0;\r\n        }\r\n    }\r\n    else {\r\n        ConsoleAndOutputChannelLogger__Info_Z17053F5(Debugger_logger, `No launch settings exist for project ${project.Project}`);\r\n        return void 0;\r\n    }\r\n}\r\n\r\nexport function Debugger_makeDebugConfigFor(name, ls, project, buildTaskOpt) {\r\n    if (!equals(ls.commandName, \"Project\") ? true : equals(ls.commandName, void 0)) {\r\n        return void 0;\r\n    }\r\n    else if (project.OutputType !== \"exe\") {\r\n        return void 0;\r\n    }\r\n    else {\r\n        const projectName = path.basename(project.Project);\r\n        const cliArgs = String_split([\" \"], defaultArg(ls.commandLineArgs, \"\"));\r\n        const c = {};\r\n        c.name = (`${projectName}: ${name}`);\r\n        c.type = \"coreclr\";\r\n        c.request = \"launch\";\r\n        c.program = project.Output;\r\n        c.args = cliArgs;\r\n        if (buildTaskOpt == null) {\r\n        }\r\n        else {\r\n            const bt = buildTaskOpt;\r\n            c.preLaunchTask = (`Build: ${bt.name}`);\r\n        }\r\n        c.cwd = defaultArg(ls.workingDirectory, \"${workspaceFolder}\");\r\n        const matchValue = ls.launchBrowser;\r\n        let matchResult;\r\n        if (matchValue != null) {\r\n            if (matchValue) {\r\n                matchResult = 0;\r\n            }\r\n            else {\r\n                matchResult = 1;\r\n            }\r\n        }\r\n        else {\r\n            matchResult = 1;\r\n        }\r\n        switch (matchResult) {\r\n            case 0: {\r\n                c.serverReadyAction = {\r\n                    action: \"openExternally\",\r\n                    pattern: \"\\\\bNow listening on:\\\\s+(https?://\\\\S+)\",\r\n                };\r\n                break;\r\n            }\r\n        }\r\n        if ((ls.environmentVariables != undefined)) {\r\n            const vars = choose((k) => {\r\n                const value_2 = ls.environmentVariables[k];\r\n                if ((value_2 != undefined)) {\r\n                    return [k, value_2.replace(/%([^%]+)%/g, (_,n) => process.env[n])];\r\n                }\r\n                else {\r\n                    return void 0;\r\n                }\r\n            }, Object.keys(ls.environmentVariables));\r\n            c.env = createObj(vars);\r\n            if (!(((ls.environmentVariables[\"ASPNETCORE_URLS\"]) != undefined)) && (ls.applicationUrl != null)) {\r\n                c.env.ASPNETCORE_URLS = value_3(ls.applicationUrl);\r\n            }\r\n        }\r\n        c.console = \"internalConsole\";\r\n        c.stopAtEntry = false;\r\n        const presentation = {\r\n            group: \"ionide\",\r\n            hidden: false,\r\n        };\r\n        c.presentation = presentation;\r\n        return c;\r\n    }\r\n}\r\n\r\nexport function Debugger_configsForProject(project, launchSettings, buildTaskOpt) {\r\n    return delay(() => collect((name) => {\r\n        ConsoleAndOutputChannelLogger__Info_Z17053F5(Debugger_logger, `Making config for ${name}`);\r\n        const settings = launchSettings[name];\r\n        if ((settings != undefined)) {\r\n            const matchValue = Debugger_makeDebugConfigFor(name, settings, project, buildTaskOpt);\r\n            if (matchValue == null) {\r\n                return empty_1();\r\n            }\r\n            else {\r\n                return singleton(matchValue);\r\n            }\r\n        }\r\n        else {\r\n            return empty_1();\r\n        }\r\n    }, Object.keys(launchSettings)));\r\n}\r\n\r\nexport function Debugger_defaultConfigForProject(p, buildTaskOpt) {\r\n    if (p.OutputType !== \"exe\") {\r\n        return void 0;\r\n    }\r\n    else {\r\n        const c = {};\r\n        c.name = (`${path.basename(p.Project)}`);\r\n        c.type = \"coreclr\";\r\n        c.request = \"launch\";\r\n        c.program = p.Output;\r\n        c.cwd = \"${workspaceFolder}\";\r\n        c.console = \"internalConsole\";\r\n        c.stopAtEntry = false;\r\n        if (buildTaskOpt == null) {\r\n        }\r\n        else {\r\n            const bt = buildTaskOpt;\r\n            c.preLaunchTask = (`Build: ${bt.name}`);\r\n        }\r\n        const presentation = {\r\n            group: \"ionide\",\r\n            hidden: false,\r\n        };\r\n        c.presentation = presentation;\r\n        return c;\r\n    }\r\n}\r\n\r\nexport const Debugger_launchSettingProvider = (() => {\r\n    let msbuildTasksFilter;\r\n    const f = {};\r\n    f.type = \"msbuild\";\r\n    msbuildTasksFilter = f;\r\n    return {\r\n        provideDebugConfigurations(folder, token) {\r\n            return PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => {\r\n                ConsoleAndOutputChannelLogger__Info_Z17053F5(Debugger_logger, \"Evaluating launch settings configurations for %O\", folder);\r\n                const projects = getLoaded();\r\n                return Promise_PromiseBuilder__PromiseBuilder_Source_Z7741CCC2(promise, tasks_1.fetchTasks(msbuildTasksFilter)).then((_arg) => {\r\n                    const tasks = collect_1((p) => toList(delay(() => {\r\n                        let matchValue;\r\n                        const projectFile = path.basename(p.Project);\r\n                        const buildTaskForProject = tryFind((t) => {\r\n                            if (equals(t.group, vscode.TaskGroup.Build)) {\r\n                                return t.name === projectFile;\r\n                            }\r\n                            else {\r\n                                return false;\r\n                            }\r\n                        }, _arg);\r\n                        return append((matchValue = Debugger_readSettingsForProject(p), (matchValue == null) ? (empty_1()) : Debugger_configsForProject(p, matchValue, buildTaskForProject)), delay(() => {\r\n                            const matchValue_1 = Debugger_defaultConfigForProject(p, buildTaskForProject);\r\n                            if (matchValue_1 == null) {\r\n                                return empty_1();\r\n                            }\r\n                            else {\r\n                                return singleton(matchValue_1);\r\n                            }\r\n                        }));\r\n                    })), projects);\r\n                    return Promise.resolve(Array.from(tasks));\r\n                });\r\n            }));\r\n        },\r\n        resolveDebugConfiguration(folder_1, debugConfiguration, token_1) {\r\n            ConsoleAndOutputChannelLogger__Info_Z17053F5(Debugger_logger, \"Resolving launch settings configuration %O for %O\", debugConfiguration, folder_1);\r\n            return debugConfiguration;\r\n        },\r\n        resolveDebugConfigurationWithSubstitutedVariables(folder_2, debugConfiguration_1, token_2) {\r\n            ConsoleAndOutputChannelLogger__Info_Z17053F5(Debugger_logger, \"Resolving subsituted launch settings configuration %O for %O\", debugConfiguration_1, folder_2);\r\n            return debugConfiguration_1;\r\n        },\r\n    };\r\n})();\r\n\r\nexport function Debugger_activate(c) {\r\n    const arg_1 = commands.registerCommand(\"fsharp.runDefaultProject\", (arg) => (Debugger_buildAndRunDefault)(arg));\r\n    void (c.subscriptions.push(arg_1));\r\n    const arg_3 = commands.registerCommand(\"fsharp.debugDefaultProject\", (arg_2) => (Debugger_buildAndDebugDefault)(arg_2));\r\n    void (c.subscriptions.push(arg_3));\r\n    const arg_5 = commands.registerCommand(\"fsharp.chooseDefaultProject\", (arg_4) => (Debugger_chooseDefaultProject)(arg_4));\r\n    void (c.subscriptions.push(arg_5));\r\n    ConsoleAndOutputChannelLogger__Info_Z17053F5(Debugger_logger, \"registering debug provider\");\r\n    const arg_6 = debug.registerDebugConfigurationProvider(\"coreclr\", Debugger_launchSettingProvider, 2);\r\n    void (c.subscriptions.push(arg_6));\r\n    Debugger_context(c);\r\n    Debugger_startup(c.workspaceState.get(\"defaultProject\"));\r\n}\r\n\r\n//# sourceMappingURL=Debugger.js.map\r\n","import { defaultOf, equalArrays, disposeSafe, getEnumerator } from \"../fable_modules/fable-library.4.2.2/Util.js\";\r\nimport { isNullOrWhiteSpace } from \"../fable_modules/fable-library.4.2.2/String.js\";\r\nimport { class_type } from \"../fable_modules/fable-library.4.2.2/Reflection.js\";\r\nimport { some, unwrap, defaultArg } from \"../fable_modules/fable-library.4.2.2/Option.js\";\r\nimport { map, equalsWith } from \"../fable_modules/fable-library.4.2.2/Array.js\";\r\nimport { window as window$ } from \"vscode\";\r\nimport * as vscode from \"vscode\";\r\nimport { empty } from \"../fable_modules/fable-library.4.2.2/Seq.js\";\r\n\r\nfunction mergeStrings(rows) {\r\n    let str = \"\";\r\n    const enumerator = getEnumerator(rows);\r\n    try {\r\n        while (enumerator[\"System.Collections.IEnumerator.MoveNext\"]()) {\r\n            const row = enumerator[\"System.Collections.Generic.IEnumerator`1.get_Current\"]();\r\n            str += (`${row}\n`);;\r\n        }\r\n    }\r\n    finally {\r\n        disposeSafe(enumerator);\r\n    }\r\n    return `<style>${str}</style>`;\r\n}\r\n\r\nfunction mergeScripts(rows) {\r\n    let str = \"\";\r\n    const enumerator = getEnumerator(rows);\r\n    try {\r\n        while (enumerator[\"System.Collections.IEnumerator.MoveNext\"]()) {\r\n            const row = enumerator[\"System.Collections.Generic.IEnumerator`1.get_Current\"]();\r\n            if (!isNullOrWhiteSpace(row)) {\r\n                str += (`${`(() => { ${row} })();`}\n`);;\r\n            }\r\n        }\r\n    }\r\n    finally {\r\n        disposeSafe(enumerator);\r\n    }\r\n    return `<script>\r\n            window.addEventListener('DOMContentLoaded', (event) => { ${str} });\r\n            </script>`;\r\n}\r\n\r\nexport class VsHtml {\r\n    constructor() {\r\n    }\r\n}\r\n\r\nexport function VsHtml_$reflection() {\r\n    return class_type(\"Ionide.VSCode.FSharp.Webviews.VsHtml\", void 0, VsHtml);\r\n}\r\n\r\n/**\r\n * renders a datagrid with the provided data, the data must come in the shape of\r\n * an array of anonymous records to allow Fable to simply deserialize the data to plain JS objects and arrays\r\n */\r\nexport function VsHtml_datagrid_2708424C(id, values, customTitles) {\r\n    const titles = defaultArg(customTitles, new Array(0));\r\n    let titles_1;\r\n    if (!equalsWith(equalArrays, titles, defaultOf()) && (titles.length === 0)) {\r\n        titles_1 = \"\";\r\n    }\r\n    else {\r\n        const values_2 = map((tupledArg) => ({\r\n            columnDataKey: tupledArg[1],\r\n            title: tupledArg[0],\r\n        }), titles);\r\n        titles_1 = (`grid.columnDefinitions = ${JSON.stringify(values_2)}`);\r\n    }\r\n    return [`<vscode-data-grid id='${id}'></vscode-data-grid>`, `\r\n                let grid = document.querySelector('#${id}');\r\n                if(grid) {\r\n                    const data = ${JSON.stringify(values)}\r\n                    grid.rowsData = data;\r\n                    ${titles_1}\r\n                };\r\n            `];\r\n}\r\n\r\nexport class FsWebview {\r\n    constructor() {\r\n    }\r\n}\r\n\r\nexport function FsWebview_$reflection() {\r\n    return class_type(\"Ionide.VSCode.FSharp.Webviews.FsWebview\", void 0, FsWebview);\r\n}\r\n\r\n/**\r\n * Creates a new Webview panel with the provided viewType and title\r\n */\r\nexport function FsWebview_create_23A3D64B(viewType, title, viewOptions, enableScripts, resourceRoots, enableCommandUris, enableFindWidget, retainContextWhenHidden) {\r\n    const viewOptions_1 = defaultArg(viewOptions, -2);\r\n    return window$.createWebviewPanel(viewType, title, viewOptions_1, some({\r\n        enableCommandUris: unwrap(enableCommandUris),\r\n        enableFindWidget: unwrap(enableFindWidget),\r\n        enableScripts: unwrap(enableScripts),\r\n        resourceRoots: unwrap(resourceRoots),\r\n        retainContextWhenHidden: unwrap(retainContextWhenHidden),\r\n    }));\r\n}\r\n\r\n/**\r\n * takes an existing webview panel and sets the html content, it takes a list of styles and scripts\r\n * that will be added to the webview\r\n */\r\nexport function FsWebview_render_D0BE276(ctx, wbp, content, styles, scripts) {\r\n    const styles_1 = defaultArg(styles, empty());\r\n    const scripts_1 = defaultArg(scripts, empty());\r\n    let vsUIWebkit;\r\n    const arg = vscode.Uri.joinPath(ctx.extensionUri, \"toolkit.min.js\");\r\n    const objectArg = wbp.webview;\r\n    vsUIWebkit = objectArg.asWebviewUri(arg);\r\n    wbp.webview.html = (`\r\n                    <!DOCTYPE html>\r\n                    <html>\r\n                    <head>\r\n                        ${mergeStrings(styles_1)}\r\n                    </head>\r\n                    <body>\r\n                        ${content}\r\n                        <script type=\"module\" src=\"${vsUIWebkit}\"></script>\r\n                        ${mergeScripts(scripts_1)}\r\n                    </body>\r\n                    </html>`);\r\n}\r\n\r\n//# sourceMappingURL=Webview.js.map\r\n","import { Promise_executeForAll, Promise_suppress, Promise_ofMaybeThenable, Promise_onFail, Promise_toThenable, Promise_ofThenable, Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B, String_split, VSCodeExtension_ionidePluginPath, Message_choice, Promise_PromiseBuilder__PromiseBuilder_Source_Z7741CCC2, Configuration_set, Configuration_setGlobal, Configuration_get } from \"../Core/Utils.js\";\r\nimport { map as map_2, value as value_4, defaultArg, some } from \"../fable_modules/fable-library.4.2.2/Option.js\";\r\nimport { PromiseBuilder__Delay_62FBFDE1, PromiseBuilder__Run_212F1D4B } from \"../fable_modules/Fable.Promise.3.2.0/Promise.fs.js\";\r\nimport { promise } from \"../fable_modules/Fable.Promise.3.2.0/PromiseImpl.fs.js\";\r\nimport { workspace, languages, commands, window as window$ } from \"vscode\";\r\nimport * as vscode from \"vscode\";\r\nimport { ConsoleAndOutputChannelLogger__Debug_Z17053F5, Level, ConsoleAndOutputChannelLogger_$ctor_Z565F02F0 } from \"../Core/Logging.js\";\r\nimport { equals, createAtom } from \"../fable_modules/fable-library.4.2.2/Util.js\";\r\nimport { toArray, append, tryFind, singleton, ofArray, empty } from \"../fable_modules/fable-library.4.2.2/List.js\";\r\nimport { VsHtml_datagrid_2708424C, FsWebview_create_23A3D64B, FsWebview_render_D0BE276 } from \"./Webview.js\";\r\nimport * as path_1 from \"path\";\r\nimport * as fs from \"fs\";\r\nimport { toString } from \"../fable_modules/fable-library.4.2.2/Types.js\";\r\nimport { join, endsWith, printf, toText, replace, split, isNullOrWhiteSpace } from \"../fable_modules/fable-library.4.2.2/String.js\";\r\nimport { map } from \"../fable_modules/fable-library.4.2.2/Array.js\";\r\nimport { toList, filter, length, singleton as singleton_1, append as append_1, delay, toArray as toArray_1, choose, ofList, map as map_1, collect } from \"../fable_modules/fable-library.4.2.2/Seq.js\";\r\nimport { isWin } from \"../Core/Environment.js\";\r\nimport { LanguageService_selector, LanguageService_fsiSdk, LanguageService_tryFindDotnet } from \"../Core/LanguageService.js\";\r\nimport { tryFindLoadedProjectByFile } from \"../Core/Project.js\";\r\n\r\nexport const SdkScriptsNotify_suggestKey = \"FSharp.suggestSdkScripts\";\r\n\r\nexport const SdkScriptsNotify_useKey = \"FSharp.useSdkScripts\";\r\n\r\nexport function SdkScriptsNotify_shouldNotifyAboutSdkScripts() {\r\n    return !Configuration_get(true, SdkScriptsNotify_useKey);\r\n}\r\n\r\nexport function SdkScriptsNotify_disablePromptGlobally() {\r\n    return Configuration_setGlobal(SdkScriptsNotify_suggestKey, some(false));\r\n}\r\n\r\nexport function SdkScriptsNotify_disablePromptForProject() {\r\n    return Configuration_set(SdkScriptsNotify_suggestKey, some(false));\r\n}\r\n\r\nexport function SdkScriptsNotify_setUseSdk() {\r\n    return Configuration_setGlobal(SdkScriptsNotify_useKey, some(true));\r\n}\r\n\r\nexport function SdkScriptsNotify_checkForPatternsAndPromptUser() {\r\n    return PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => (SdkScriptsNotify_shouldNotifyAboutSdkScripts() ? (Promise_PromiseBuilder__PromiseBuilder_Source_Z7741CCC2(promise, window$.showInformationMessage(\"You are running .Net Core version of FsAutoComplete, we recommend also using .Net Core version of F# REPL (`dotnet fsi`). Should we change your settings (`FSharp.useSdkScripts`). This requires .Net Core 3.X?\", Message_choice(\"Update settings\"), Message_choice(\"Ignore\"), Message_choice(\"Don\\'t show again\"))).then((_arg) => {\r\n        let arg0__2, arg0__1, arg0_;\r\n        const choice = _arg;\r\n        let matchResult;\r\n        if (choice != null) {\r\n            if (((((arg0_ = choice, arg0_.title)) === \"Update settings\") ? some(void 0) : void 0) != null) {\r\n                matchResult = 0;\r\n            }\r\n            else {\r\n                matchResult = 1;\r\n            }\r\n        }\r\n        else {\r\n            matchResult = 1;\r\n        }\r\n        switch (matchResult) {\r\n            case 0:\r\n                return Promise_PromiseBuilder__PromiseBuilder_Source_Z7741CCC2(promise, SdkScriptsNotify_setUseSdk()).then(() => (Promise.resolve(void 0)));\r\n            default: {\r\n                let matchResult_1;\r\n                if (choice != null) {\r\n                    if (((((arg0__1 = choice, arg0__1.title)) === \"Ignore\") ? some(void 0) : void 0) != null) {\r\n                        matchResult_1 = 0;\r\n                    }\r\n                    else {\r\n                        matchResult_1 = 1;\r\n                    }\r\n                }\r\n                else {\r\n                    matchResult_1 = 1;\r\n                }\r\n                switch (matchResult_1) {\r\n                    case 0:\r\n                        return Promise_PromiseBuilder__PromiseBuilder_Source_Z7741CCC2(promise, SdkScriptsNotify_disablePromptForProject()).then(() => (Promise.resolve(void 0)));\r\n                    default: {\r\n                        let matchResult_2;\r\n                        if (choice != null) {\r\n                            if (((((arg0__2 = choice, arg0__2.title)) === \"Don\\'t show again\") ? some(void 0) : void 0) != null) {\r\n                                matchResult_2 = 0;\r\n                            }\r\n                            else {\r\n                                matchResult_2 = 1;\r\n                            }\r\n                        }\r\n                        else {\r\n                            matchResult_2 = 1;\r\n                        }\r\n                        switch (matchResult_2) {\r\n                            case 0:\r\n                                return Promise_PromiseBuilder__PromiseBuilder_Source_Z7741CCC2(promise, SdkScriptsNotify_disablePromptGlobally()).then(() => (Promise.resolve(void 0)));\r\n                            default: {\r\n                                return Promise.resolve();\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    })) : (Promise.resolve()))));\r\n}\r\n\r\nexport function SdkScriptsNotify_activate(_context) {\r\n    if (Configuration_get(true, SdkScriptsNotify_suggestKey)) {\r\n        SdkScriptsNotify_checkForPatternsAndPromptUser();\r\n    }\r\n}\r\n\r\nconst Watcher_logger = ConsoleAndOutputChannelLogger_$ctor_Z565F02F0(\"FsiWatcher\", new Level(0, []), void 0, new Level(0, []));\r\n\r\nexport let Watcher_panel = createAtom(void 0);\r\n\r\nexport const Watcher_valuesUpdated = new vscode.EventEmitter();\r\n\r\nexport let Watcher_values = createAtom(empty());\r\n\r\nexport function Watcher_updateContent(context, varsContent, typesContent, funcsContent) {\r\n    const patternInput = defaultArg(varsContent, [\"\", \"\"]);\r\n    const patternInput_1 = defaultArg(typesContent, [\"\", \"\"]);\r\n    const patternInput_2 = defaultArg(funcsContent, [\"\", \"\"]);\r\n    if (Watcher_panel() == null) {\r\n    }\r\n    else {\r\n        FsWebview_render_D0BE276(context, Watcher_panel(), `${patternInput[0]}${patternInput_1[0]}${patternInput_2[0]}`, void 0, [patternInput[1], patternInput_1[1], patternInput_2[1]]);\r\n    }\r\n}\r\n\r\nexport function Watcher_openPanel() {\r\n    return PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => {\r\n        if (!Configuration_get(false, \"FSharp.addFsiWatcher\")) {\r\n            return Promise_PromiseBuilder__PromiseBuilder_Source_Z7741CCC2(promise, window$.showInformationMessage(\"FSI Watcher is an experimental feature, and it needs to be enabled with `FSharp.addFsiWatcher` setting\", Message_choice(\"Enable\"), Message_choice(\"Ignore\"))).then((_arg) => {\r\n                let arg0_;\r\n                const res = _arg;\r\n                let matchResult;\r\n                if (res != null) {\r\n                    if (((((arg0_ = res, arg0_.title)) === \"Enable\") ? some(void 0) : void 0) != null) {\r\n                        matchResult = 0;\r\n                    }\r\n                    else {\r\n                        matchResult = 1;\r\n                    }\r\n                }\r\n                else {\r\n                    matchResult = 1;\r\n                }\r\n                switch (matchResult) {\r\n                    case 0:\r\n                        return Promise_PromiseBuilder__PromiseBuilder_Source_Z7741CCC2(promise, Configuration_setGlobal(\"FSharp.addFsiWatcher\", some(true))).then(() => (Promise.resolve(void 0)));\r\n                    default: {\r\n                        return Promise.resolve();\r\n                    }\r\n                }\r\n            });\r\n        }\r\n        else if (Watcher_panel() == null) {\r\n            const p_1 = FsWebview_create_23A3D64B(\"fsiWatcher\", \"FSI Watcher\", {\r\n                preserveFocus: true,\r\n                viewColumn: -2,\r\n            }, true, void 0, true, true, true);\r\n            p_1.onDidDispose(() => {\r\n                Watcher_panel(void 0);\r\n            });\r\n            Watcher_panel(p_1);\r\n            return Promise.resolve();\r\n        }\r\n        else {\r\n            const p = Watcher_panel();\r\n            p.reveal(-2, true);\r\n            return Promise.resolve();\r\n        }\r\n    }));\r\n}\r\n\r\nexport const Watcher_varsUri = path_1.join(VSCodeExtension_ionidePluginPath(), \"watcher\", \"vars.txt\");\r\n\r\nexport const Watcher_typesUri = path_1.join(VSCodeExtension_ionidePluginPath(), \"watcher\", \"types.txt\");\r\n\r\nexport const Watcher_funcUri = path_1.join(VSCodeExtension_ionidePluginPath(), \"watcher\", \"funcs.txt\");\r\n\r\nexport function Watcher_handler(context) {\r\n    let varsContent = void 0;\r\n    let typesContent = void 0;\r\n    let funcsContent = void 0;\r\n    fs.readFile(Watcher_varsUri, (_arg, buf) => {\r\n        if (!(buf === undefined)) {\r\n            const cnt = toString(buf);\r\n            if (isNullOrWhiteSpace(cnt)) {\r\n                varsContent = void 0;\r\n                Watcher_values(empty());\r\n            }\r\n            else {\r\n                const datagridContent = map((row) => {\r\n                    const x = split(row, [\"###IONIDESEP###\"], void 0, 0);\r\n                    const name = x[0];\r\n                    const value = x[1];\r\n                    return {\r\n                        Type: x[2],\r\n                        name: name,\r\n                        step: x[3],\r\n                        value: value,\r\n                    };\r\n                }, String_split([\"\\n\"], cnt));\r\n                Watcher_values(ofArray(map((x_1) => [x_1.name, x_1.value], datagridContent)));\r\n                const patternInput = VsHtml_datagrid_2708424C(\"vars-content\", datagridContent, [[\"Name\", \"name\"], [\"Value\", \"value\"], [\"Type\", \"Type\"], [\"Step\", \"step\"]]);\r\n                varsContent = [`<h3>Declared values</h3>${patternInput[0]}`, patternInput[1]];\r\n                Watcher_updateContent(context, varsContent, typesContent, funcsContent);\r\n            }\r\n        }\r\n        else {\r\n            varsContent = void 0;\r\n            Watcher_values(empty());\r\n        }\r\n        Watcher_valuesUpdated.fire(void 0);\r\n    });\r\n    fs.readFile(Watcher_funcUri, (_arg_1, buf_1) => {\r\n        if (!(buf_1 === undefined)) {\r\n            const cnt_1 = toString(buf_1);\r\n            if (isNullOrWhiteSpace(cnt_1)) {\r\n                funcsContent = void 0;\r\n            }\r\n            else {\r\n                const patternInput_1 = VsHtml_datagrid_2708424C(\"funcs-content\", map((row_1) => {\r\n                    const x_2 = split(row_1, [\"###IONIDESEP###\"], void 0, 0);\r\n                    return {\r\n                        name: x_2[0],\r\n                        parameters: x_2[1],\r\n                        returnType: x_2[2],\r\n                        step: x_2[3],\r\n                    };\r\n                }, String_split([\"\\n\"], cnt_1)), [[\"Name\", \"name\"], [\"Parameters\", \"parameters\"], [\"Return Type\", \"returnType\"]]);\r\n                funcsContent = [`<h3>Declared functions</h3>${patternInput_1[0]}`, patternInput_1[1]];\r\n                Watcher_updateContent(context, varsContent, typesContent, funcsContent);\r\n            }\r\n        }\r\n    });\r\n    fs.readFile(Watcher_typesUri, (_arg_2, buf_2) => {\r\n        if (!(buf_2 === undefined)) {\r\n            const cnt_2 = toString(buf_2);\r\n            if (isNullOrWhiteSpace(cnt_2)) {\r\n                typesContent = void 0;\r\n            }\r\n            else {\r\n                const patternInput_2 = VsHtml_datagrid_2708424C(\"types-content\", map((row_2) => {\r\n                    const x_3 = split(row_2, [\"###IONIDESEP###\"], void 0, 0);\r\n                    let signature;\r\n                    const str = x_3[1];\r\n                    signature = ((str.indexOf(\"#|#\") >= 0) ? (\"| \" + replace(str, \"#|#\", \"</br>| \")) : str);\r\n                    return {\r\n                        Name: x_3[0],\r\n                        Signature: signature,\r\n                        Step: x_3[2],\r\n                    };\r\n                }, String_split([\"\\n\"], cnt_2)));\r\n                typesContent = [`<h3>Declared types</h3>${patternInput_2[0]}`, patternInput_2[1]];\r\n                Watcher_updateContent(context, varsContent, typesContent, funcsContent);\r\n            }\r\n        }\r\n    });\r\n}\r\n\r\nexport const Watcher_provider = new (class {\r\n    get onDidChangeInlayHints() {\r\n        return Watcher_valuesUpdated.event;\r\n    }\r\n    set onDidChangeInlayHints(v) {\r\n    }\r\n    provideInlayHints(document$, range, token) {\r\n        return PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => (Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, Promise_ofThenable(commands.executeCommand(\"vscode.executeDocumentSymbolProvider\", some(document$.uri)))).then((_arg) => {\r\n            const flatten = (symbols_1) => collect((x) => x, map_1((s) => {\r\n                if (s.children.length > 0) {\r\n                    return flatten(s.children);\r\n                }\r\n                else {\r\n                    return ofList(singleton(s));\r\n                }\r\n            }, symbols_1));\r\n            let hints;\r\n            const arg = map_1((tupledArg_1) => {\r\n                const line = document$.lineAt(tupledArg_1[0].range.start.line);\r\n                const hint = new vscode.InlayHint(line.range.end, (\" = \" + tupledArg_1[1]), 2);\r\n                hint.paddingLeft = true;\r\n                return hint;\r\n            }, choose((s_1) => {\r\n                const matchValue = tryFind((tupledArg) => (tupledArg[0] === s_1.name), Watcher_values());\r\n                if (matchValue == null) {\r\n                    return void 0;\r\n                }\r\n                else {\r\n                    return [s_1, matchValue[1]];\r\n                }\r\n            }, flatten(_arg)));\r\n            hints = Array.from(arg);\r\n            ConsoleAndOutputChannelLogger__Debug_Z17053F5(Watcher_logger, \"Hints\", hints);\r\n            return Promise.resolve(hints);\r\n        }))));\r\n    }\r\n    resolveInlayHint(hint_1, token_1) {\r\n        return hint_1;\r\n    }\r\n}\r\n)();\r\n\r\nexport function Watcher_activate(context, selector, dispsables) {\r\n    const arg = languages.registerInlayHintsProvider(selector, Watcher_provider);\r\n    void (dispsables.push(arg));\r\n    fs.watchFile(Watcher_varsUri, (st, st2) => {\r\n        Watcher_handler(context);\r\n    });\r\n    fs.watchFile(Watcher_typesUri, (st_1, st2_1) => {\r\n        Watcher_handler(context);\r\n    });\r\n    fs.watchFile(Watcher_funcUri, (st_2, st2_2) => {\r\n        Watcher_handler(context);\r\n    });\r\n}\r\n\r\nexport let fsiTerminal = createAtom(void 0);\r\n\r\nexport let fsiTerminalPID = createAtom(void 0);\r\n\r\nexport let lastSelectionSent = createAtom(void 0);\r\n\r\nexport let lastCd = createAtom(void 0);\r\n\r\nexport let lastCurrentFile = createAtom(void 0);\r\n\r\nexport let lastCurrentLine = createAtom(void 0);\r\n\r\nfunction sendCd(terminal, textEditor) {\r\n    let patternInput;\r\n    if (textEditor == null) {\r\n        const dir_1 = value_4(workspace.rootPath);\r\n        patternInput = [path_1.join(dir_1, \"tmp.fsx\"), dir_1, 1];\r\n    }\r\n    else {\r\n        const textEditor_1 = textEditor;\r\n        const file = textEditor_1.document.fileName;\r\n        patternInput = [file, path_1.dirname(file), ~~textEditor_1.selection.start.line + 1];\r\n    }\r\n    const line_1 = patternInput[2] | 0;\r\n    const file_1 = patternInput[0];\r\n    const dir_2 = patternInput[1];\r\n    let matchResult, cd_1;\r\n    if (lastCd() != null) {\r\n        if (lastCd() === dir_2) {\r\n            matchResult = 0;\r\n            cd_1 = lastCd();\r\n        }\r\n        else {\r\n            matchResult = 1;\r\n        }\r\n    }\r\n    else {\r\n        matchResult = 1;\r\n    }\r\n    switch (matchResult) {\r\n        case 1: {\r\n            const msg = toText(printf(\"# silentCd @\\\"%s\\\";;\\n\"))(dir_2);\r\n            terminal.sendText(msg, false);\r\n            lastCd(dir_2);\r\n            break;\r\n        }\r\n    }\r\n    const matchValue = lastCurrentFile();\r\n    const matchValue_1 = lastCurrentLine();\r\n    let matchResult_1, currentFile_1, currentLine_1;\r\n    if (matchValue != null) {\r\n        if (matchValue_1 != null) {\r\n            if ((matchValue === file_1) && (matchValue_1 === line_1)) {\r\n                matchResult_1 = 0;\r\n                currentFile_1 = matchValue;\r\n                currentLine_1 = matchValue_1;\r\n            }\r\n            else {\r\n                matchResult_1 = 1;\r\n            }\r\n        }\r\n        else {\r\n            matchResult_1 = 1;\r\n        }\r\n    }\r\n    else {\r\n        matchResult_1 = 1;\r\n    }\r\n    switch (matchResult_1) {\r\n        case 0: {\r\n            break;\r\n        }\r\n        case 1: {\r\n            const msg_1 = toText(printf(\"# %d @\\\"%s\\\"\\n\"))(line_1)(file_1);\r\n            terminal.sendText(msg_1, false);\r\n            lastCurrentFile(file_1);\r\n            lastCurrentLine(line_1);\r\n            break;\r\n        }\r\n    }\r\n}\r\n\r\nexport function fsiBinaryAndParameters() {\r\n    const addWatcher = Configuration_get(false, \"FSharp.addFsiWatcher\");\r\n    let parms;\r\n    const fsiParams = ofArray(Configuration_get(new Array(0), \"FSharp.fsiExtraParameters\"));\r\n    const fsiParams_1 = addWatcher ? append(singleton(\"--load:\" + path_1.join(VSCodeExtension_ionidePluginPath(), \"watcher\", \"watcher.fsx\")), fsiParams) : fsiParams;\r\n    parms = toArray(isWin ? append(ofArray([\"--fsi-server-input-codepage:28591\", \"--fsi-server-output-codepage:65001\"]), fsiParams_1) : fsiParams_1);\r\n    return PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => (Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, LanguageService_tryFindDotnet()).then((_arg) => {\r\n        const dotnet = _arg;\r\n        return (dotnet.tag === 1) ? (Promise.resolve((() => {\r\n            throw new Error(dotnet.fields[0]);\r\n        })())) : (Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, LanguageService_fsiSdk()).then((_arg_1) => {\r\n            const fsiArg = defaultArg(_arg_1, \"fsi\");\r\n            return Promise.resolve([dotnet.fields[0], toArray_1(delay(() => append_1(singleton_1(fsiArg), delay(() => parms))))]);\r\n        }));\r\n    }))));\r\n}\r\n\r\nexport const fsiNetCoreName = \"F# Interactive (.Net Core)\";\r\n\r\nexport const fsiNetFrameworkName = \"F# Interactive\";\r\n\r\nexport const provider = {\r\n    provideTerminalProfile(token) {\r\n        return Promise_toThenable(PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => (Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, fsiBinaryAndParameters()).then((_arg) => {\r\n            const fsiArguments_1 = Array.from(_arg[1]);\r\n            const options = {};\r\n            options.name = fsiNetCoreName;\r\n            options.shellArgs = fsiArguments_1;\r\n            options.shellPath = _arg[0];\r\n            const profile = {};\r\n            profile.options = options;\r\n            return Promise.resolve(profile);\r\n        })))));\r\n    },\r\n};\r\n\r\nfunction start() {\r\n    return Promise_onFail((_arg_3) => {\r\n        window$.showErrorMessage(\"Failed to spawn FSI, please ensure it\\'s in PATH\");\r\n    }, PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => {\r\n        let matchValue;\r\n        const ctok = (new vscode.CancellationTokenSource()).token;\r\n        return Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, (matchValue = provider.provideTerminalProfile(ctok), (matchValue != null) ? Promise_ofMaybeThenable((arg) => arg, matchValue) : (Promise.resolve(void 0)))).then((_arg) => {\r\n            const profile = _arg;\r\n            let profile_1;\r\n            if (profile == null) {\r\n                window$.showErrorMessage(\"Unable to spawn FSI\");\r\n                throw new Error(\"unable to spawn FSI\");\r\n            }\r\n            else {\r\n                profile_1 = profile;\r\n            }\r\n            const terminal = window$.createTerminal(profile_1.options);\r\n            return Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, new Promise((resolve, reject) => {\r\n                window$.onDidOpenTerminal((terminal_1) => {\r\n                    if ((terminal_1.name === fsiNetCoreName) ? true : (terminal_1.name === fsiNetFrameworkName)) {\r\n                        if (fsiTerminal() == null) {\r\n                        }\r\n                        else {\r\n                            const fsiOutput = fsiTerminal();\r\n                            fsiOutput.dispose();\r\n                        }\r\n                        resolve(terminal_1);\r\n                    }\r\n                    return void 0;\r\n                });\r\n            })).then((_arg_1) => {\r\n                const newTerminal = _arg_1;\r\n                newTerminal.show(true);\r\n                return Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, Promise_ofThenable(newTerminal.processId)).then((_arg_2) => {\r\n                    fsiTerminalPID(map_2((value_2) => ~~value_2, _arg_2));\r\n                    lastCd(void 0);\r\n                    lastCurrentFile(void 0);\r\n                    fsiTerminal(terminal);\r\n                    sendCd(newTerminal, window$.activeTextEditor);\r\n                    return Promise.resolve(newTerminal);\r\n                });\r\n            });\r\n        });\r\n    })));\r\n}\r\n\r\nfunction getTerminal() {\r\n    return PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => {\r\n        let terminal;\r\n        return Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, (fsiTerminal() != null) ? ((terminal = fsiTerminal(), Promise.resolve(terminal))) : start()).then((_arg) => {\r\n            const terminal_1 = _arg;\r\n            terminal_1.show(true);\r\n            return Promise.resolve(terminal_1);\r\n        });\r\n    }));\r\n}\r\n\r\nfunction send(terminal, msg) {\r\n    const msgWithNewline = (msg + ((msg.indexOf(\"//\") >= 0) ? \"\\n\" : \"\")) + \";;\\n\";\r\n    const linesCount = length(filter((y) => (\"\\n\" === y), msgWithNewline.split(\"\"))) | 0;\r\n    const pr_2 = Promise_suppress(Promise_onFail((_arg) => {\r\n        window$.showErrorMessage(\"Failed to send text to FSI\");\r\n    }, PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => {\r\n        terminal.sendText(msgWithNewline, false);\r\n        lastSelectionSent(msg);\r\n        lastCurrentLine((lastCurrentLine() != null) ? (lastCurrentLine() + linesCount) : (linesCount + 1));\r\n        return Promise.resolve();\r\n    }))));\r\n    return pr_2.then((value_1) => {\r\n    });\r\n}\r\n\r\nfunction moveCursorDownOneLine() {\r\n    const args = {\r\n        by: \"line\",\r\n        to: \"down\",\r\n        value: 1,\r\n    };\r\n    return Promise_ofThenable(commands.executeCommand(\"cursorMove\", some(args)));\r\n}\r\n\r\nfunction sendLine() {\r\n    const editor = value_4(window$.activeTextEditor);\r\n    return PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => (Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, getTerminal()).then((_arg) => {\r\n        const terminal = _arg;\r\n        const pos = editor.selection.start;\r\n        const line = editor.document.lineAt(pos);\r\n        sendCd(terminal, editor);\r\n        return Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, send(terminal, line.text)).then(() => (Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, moveCursorDownOneLine()).then(() => (Promise.resolve(void 0)))));\r\n    }))));\r\n}\r\n\r\nfunction sendSelection() {\r\n    const editor = value_4(window$.activeTextEditor);\r\n    return PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => (editor.selection.isEmpty ? (Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, sendLine()).then(() => (Promise.resolve(void 0)))) : (Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, getTerminal()).then((_arg_1) => {\r\n        const terminal = _arg_1;\r\n        sendCd(terminal, editor);\r\n        const range = new vscode.Range(editor.selection.anchor.line, editor.selection.anchor.character, editor.selection.active.line, editor.selection.active.character);\r\n        const text = editor.document.getText(range);\r\n        return Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, send(terminal, text)).then(() => (Promise.resolve(void 0)));\r\n    })))));\r\n}\r\n\r\nfunction sendLastSelection() {\r\n    return PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => {\r\n        if (lastSelectionSent() == null) {\r\n            return Promise.resolve();\r\n        }\r\n        else {\r\n            const lastSelectionText = lastSelectionSent();\r\n            return (Configuration_get(false, \"FSharp.saveOnSendLastSelection\") ? (Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, Promise_ofThenable(value_4(window$.activeTextEditor).document.save())).then((_arg) => {\r\n                return Promise.resolve();\r\n            })) : (Promise.resolve())).then(() => PromiseBuilder__Delay_62FBFDE1(promise, () => (Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, getTerminal()).then((_arg_1) => (Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, send(_arg_1, lastSelectionText)).then(() => (Promise.resolve(void 0))))))));\r\n        }\r\n    }));\r\n}\r\n\r\nfunction sendFile() {\r\n    const editor = value_4(window$.activeTextEditor);\r\n    const text = editor.document.getText();\r\n    return PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => (Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, getTerminal()).then((_arg) => {\r\n        const terminal = _arg;\r\n        sendCd(terminal, editor);\r\n        return Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, send(terminal, text)).then(() => (Promise.resolve(void 0)));\r\n    }))));\r\n}\r\n\r\nfunction handleCloseTerminal(terminal) {\r\n    const pr_1 = Promise_suppress(PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => {\r\n        if (fsiTerminalPID() == null) {\r\n            return Promise.resolve();\r\n        }\r\n        else {\r\n            const currentTerminalPID = fsiTerminalPID() | 0;\r\n            return Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, Promise_ofThenable(terminal.processId)).then((_arg) => {\r\n                if (equals(map_2((value) => ~~value, _arg), currentTerminalPID)) {\r\n                    fsiTerminal(void 0);\r\n                    fsiTerminalPID(void 0);\r\n                    lastCd(void 0);\r\n                    lastCurrentFile(void 0);\r\n                    return Promise.resolve();\r\n                }\r\n                else {\r\n                    return Promise.resolve();\r\n                }\r\n            });\r\n        }\r\n    })));\r\n    void pr_1;\r\n    return void 0;\r\n}\r\n\r\nexport function sendReferencesForProject(project) {\r\n    const references = toList(filter((n) => {\r\n        if (!endsWith(n, \"FSharp.Core.dll\")) {\r\n            return !endsWith(n, \"mscorlib.dll\");\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    }, project.References));\r\n    Promise_suppress(PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => (Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, getTerminal()).then((_arg) => (Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, Promise_executeForAll((path) => send(_arg, `#r @\"${path}\"`), references)).then(() => (Promise.resolve(void 0)))))))));\r\n}\r\n\r\nfunction sendReferences() {\r\n    const projectOpt = tryFindLoadedProjectByFile(value_4(window$.activeTextEditor).document.fileName);\r\n    if (projectOpt == null) {\r\n        window$.showErrorMessage(\"File not in a project\");\r\n    }\r\n    else {\r\n        sendReferencesForProject(projectOpt);\r\n    }\r\n}\r\n\r\nexport function generateProjectReferencesForProject(project) {\r\n    const ctn = toArray_1(delay(() => {\r\n        let source_1, clo;\r\n        return append_1((source_1 = filter((n) => {\r\n            if (!endsWith(n, \"FSharp.Core.dll\")) {\r\n                return !endsWith(n, \"mscorlib.dll\");\r\n            }\r\n            else {\r\n                return false;\r\n            }\r\n        }, project.References), map_1((clo = toText(printf(\"#r @\\\"%s\\\"\")), clo), source_1)), delay(() => {\r\n            let clo_1;\r\n            return map_1((clo_1 = toText(printf(\"#load @\\\"%s\\\"\")), clo_1), project.Files);\r\n        }));\r\n    }));\r\n    return PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => {\r\n        let arg_2;\r\n        const path = path_1.join(value_4(workspace.rootPath), \"references.fsx\");\r\n        return Promise_PromiseBuilder__PromiseBuilder_Source_Z7741CCC2(promise, (arg_2 = vscode.Uri.parse(\"untitled:\" + path), workspace.openTextDocument(arg_2))).then((_arg) => (Promise_PromiseBuilder__PromiseBuilder_Source_Z7741CCC2(promise, window$.showTextDocument(_arg, 3)).then((_arg_1) => (Promise_PromiseBuilder__PromiseBuilder_Source_Z7741CCC2(promise, _arg_1.edit((e) => {\r\n            const p = new vscode.Position(0, 0);\r\n            const ctn_1 = join(\"\\n\", ctn);\r\n            e.insert(p, ctn_1);\r\n        })).then((_arg_2) => (Promise.resolve(void 0)))))));\r\n    }));\r\n}\r\n\r\nfunction generateProjectReferences() {\r\n    const projectOpt = tryFindLoadedProjectByFile(value_4(window$.activeTextEditor).document.fileName);\r\n    return PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => {\r\n        if (projectOpt == null) {\r\n            window$.showErrorMessage(\"File not in a project\");\r\n            return Promise.resolve();\r\n        }\r\n        else {\r\n            const project = projectOpt;\r\n            return Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, generateProjectReferencesForProject(project));\r\n        }\r\n    }));\r\n}\r\n\r\nexport function activate(context) {\r\n    Watcher_activate(context, LanguageService_selector, context.subscriptions);\r\n    SdkScriptsNotify_activate(context);\r\n    const arg = window$.registerTerminalProfileProvider(\"ionide-fsharp.fsi\", provider);\r\n    void (context.subscriptions.push(arg));\r\n    const arg_1 = window$.onDidCloseTerminal(handleCloseTerminal);\r\n    void (context.subscriptions.push(arg_1));\r\n    const arg_3 = commands.registerCommand(\"fsi.Start\", (arg_2) => (start)(arg_2));\r\n    void (context.subscriptions.push(arg_3));\r\n    const arg_5 = commands.registerCommand(\"fsi.SendLine\", (arg_4) => (sendLine)(arg_4));\r\n    void (context.subscriptions.push(arg_5));\r\n    const arg_7 = commands.registerCommand(\"fsi.SendSelection\", (arg_6) => (sendSelection)(arg_6));\r\n    void (context.subscriptions.push(arg_7));\r\n    const arg_9 = commands.registerCommand(\"fsi.SendLastSelection\", (arg_8) => (sendLastSelection)(arg_8));\r\n    void (context.subscriptions.push(arg_9));\r\n    const arg_11 = commands.registerCommand(\"fsi.SendFile\", (arg_10) => (sendFile)(arg_10));\r\n    void (context.subscriptions.push(arg_11));\r\n    const arg_13 = commands.registerCommand(\"fsi.SendProjectReferences\", (arg_12) => (() => {\r\n        sendReferences();\r\n    })(arg_12));\r\n    void (context.subscriptions.push(arg_13));\r\n    const arg_15 = commands.registerCommand(\"fsi.GenerateProjectReferences\", (arg_14) => (generateProjectReferences)(arg_14));\r\n    void (context.subscriptions.push(arg_15));\r\n    const arg_17 = commands.registerCommand(\"fsi.OpenWatcher\", (arg_16) => (Watcher_openPanel)(arg_16));\r\n    void (context.subscriptions.push(arg_17));\r\n}\r\n\r\n//# sourceMappingURL=Fsi.js.map\r\n","import { Record, FSharpRef, Union } from \"../fable_modules/fable-library.4.2.2/Types.js\";\r\nimport { class_type, union_type, bool_type, string_type, record_type, option_type, list_type } from \"../fable_modules/fable-library.4.2.2/Reflection.js\";\r\nimport { Project_$reflection } from \"../Core/DTO.js\";\r\nimport { defaultOf, comparePrimitives, stringHash, disposeSafe, getEnumerator, unescapeDataString } from \"../fable_modules/fable-library.4.2.2/Util.js\";\r\nimport { filter as filter_1, tryFind as tryFind_1, reverse as reverse_1, ofSeq, map as map_1, sort, singleton, append, collect, iterate, length, ofArray, head, exists, tail, isEmpty, cons, empty } from \"../fable_modules/fable-library.4.2.2/List.js\";\r\nimport * as path_23 from \"path\";\r\nimport { empty as empty_1, isEmpty as isEmpty_1, singleton as singleton_1, delay, append as append_1, filter, toArray, reverse, map, toList } from \"../fable_modules/fable-library.4.2.2/Seq.js\";\r\nimport { getAll, clearCache, workspaceChanged, initWorkspace, getInWorkspace, execWithDotnet, getLoadedSolution, tryFindInWorkspace, isExeProject, getLoaded } from \"../Core/Project.js\";\r\nimport { Array_distinctBy, List_distinct, distinctBy } from \"../fable_modules/fable-library.4.2.2/Seq2.js\";\r\nimport { join, isNullOrWhiteSpace, replace, substring, endsWith, printf, toText, trimStart } from \"../fable_modules/fable-library.4.2.2/String.js\";\r\nimport { last, map as map_2 } from \"../fable_modules/fable-library.4.2.2/Array.js\";\r\nimport { value as value_28, bind, unwrap, some, defaultArg, map as map_3 } from \"../fable_modules/fable-library.4.2.2/Option.js\";\r\nimport { ShowStatus_CreateOrShow_Z384F8060, Promise_empty, Promise_ofThenable, Promise_PromiseBuilder__PromiseBuilder_Source_Z7741CCC2, Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B, Configuration_get, Context_cachedSetter, VSCodeExtension_ionidePluginPath } from \"../Core/Utils.js\";\r\nimport { workspace, commands, window as window$ } from \"vscode\";\r\nimport * as vscode from \"vscode\";\r\nimport { ofList, tryFind } from \"../fable_modules/fable-library.4.2.2/Map.js\";\r\nimport { PromiseBuilder__Delay_62FBFDE1, PromiseBuilder__Run_212F1D4B } from \"../fable_modules/Fable.Promise.3.2.0/Promise.fs.js\";\r\nimport { promise } from \"../fable_modules/Fable.Promise.3.2.0/PromiseImpl.fs.js\";\r\nimport { LanguageService_dotnetNewRun, LanguageService_dotnetNewList } from \"../Core/LanguageService.js\";\r\nimport { buildSolution, restoreProjectAsync, restoreKnownProject, buildProjectPath, outputChannel } from \"./MSBuild.js\";\r\nimport { LineLens__removeDocument_Z429A7006 } from \"./LineLens/LineLensShared.js\";\r\nimport { Instance } from \"./LineLens/LineLens.js\";\r\nimport { Instance as Instance_1 } from \"./LineLens/PipelineHints.js\";\r\nimport { removeProjectReferencePath, addProjectReferencePath, addExistingFile, addFile, addFileBelow, addFileAbove, renameFile, removeFilePath, moveFileDownPath, moveFileUpPath } from \"../Core/FsProjEdit.js\";\r\nimport { match } from \"../fable_modules/fable-library.4.2.2/RegExp.js\";\r\nimport * as querystring from \"querystring\";\r\nimport { Debugger_setDefaultProject, Debugger_buildAndRun, Debugger_buildAndDebug } from \"./Debugger.js\";\r\nimport { sendReferencesForProject, generateProjectReferencesForProject } from \"./Fsi.js\";\r\n\r\nexport class Model extends Union {\r\n    constructor(tag, fields) {\r\n        super();\r\n        this.tag = tag;\r\n        this.fields = fields;\r\n    }\r\n    cases() {\r\n        return [\"Workspace\", \"Solution\", \"WorkspaceFolder\", \"PackageReferenceList\", \"ProjectReferencesList\", \"ProjectNotLoaded\", \"ProjectLoading\", \"ProjectFailedToLoad\", \"ProjectNotRestored\", \"ProjectLanguageNotSupported\", \"Project\", \"Folder\", \"File\", \"PackageReference\", \"ProjectReference\"];\r\n    }\r\n}\r\n\r\nexport function Model_$reflection() {\r\n    return union_type(\"Ionide.VSCode.FSharp.SolutionExplorer.Model\", [], Model, () => [[[\"Projects\", list_type(Model_$reflection())]], [[\"parent\", record_type(\"Microsoft.FSharp.Core.FSharpRef`1\", [option_type(Model_$reflection())], FSharpRef, () => [[\"contents\", option_type(Model_$reflection())]])], [\"path\", string_type], [\"name\", string_type], [\"items\", list_type(Model_$reflection())]], [[\"parent\", record_type(\"Microsoft.FSharp.Core.FSharpRef`1\", [option_type(Model_$reflection())], FSharpRef, () => [[\"contents\", option_type(Model_$reflection())]])], [\"name\", string_type], [\"items\", list_type(Model_$reflection())]], [[\"parent\", record_type(\"Microsoft.FSharp.Core.FSharpRef`1\", [option_type(Model_$reflection())], FSharpRef, () => [[\"contents\", option_type(Model_$reflection())]])], [\"References\", list_type(Model_$reflection())], [\"projectPath\", string_type]], [[\"parent\", record_type(\"Microsoft.FSharp.Core.FSharpRef`1\", [option_type(Model_$reflection())], FSharpRef, () => [[\"contents\", option_type(Model_$reflection())]])], [\"Projects\", list_type(Model_$reflection())], [\"ProjectPath\", string_type]], [[\"parent\", record_type(\"Microsoft.FSharp.Core.FSharpRef`1\", [option_type(Model_$reflection())], FSharpRef, () => [[\"contents\", option_type(Model_$reflection())]])], [\"path\", string_type], [\"name\", string_type]], [[\"parent\", record_type(\"Microsoft.FSharp.Core.FSharpRef`1\", [option_type(Model_$reflection())], FSharpRef, () => [[\"contents\", option_type(Model_$reflection())]])], [\"path\", string_type], [\"name\", string_type]], [[\"parent\", record_type(\"Microsoft.FSharp.Core.FSharpRef`1\", [option_type(Model_$reflection())], FSharpRef, () => [[\"contents\", option_type(Model_$reflection())]])], [\"path\", string_type], [\"name\", string_type], [\"error\", string_type]], [[\"parent\", record_type(\"Microsoft.FSharp.Core.FSharpRef`1\", [option_type(Model_$reflection())], FSharpRef, () => [[\"contents\", option_type(Model_$reflection())]])], [\"path\", string_type], [\"name\", string_type], [\"error\", string_type]], [[\"parent\", record_type(\"Microsoft.FSharp.Core.FSharpRef`1\", [option_type(Model_$reflection())], FSharpRef, () => [[\"contents\", option_type(Model_$reflection())]])], [\"path\", string_type], [\"name\", string_type]], [[\"parent\", record_type(\"Microsoft.FSharp.Core.FSharpRef`1\", [option_type(Model_$reflection())], FSharpRef, () => [[\"contents\", option_type(Model_$reflection())]])], [\"path\", string_type], [\"name\", string_type], [\"Files\", list_type(Model_$reflection())], [\"ProjectReferencesList\", Model_$reflection()], [\"ReferenceList\", Model_$reflection()], [\"isExe\", bool_type], [\"project\", Project_$reflection()]], [[\"parent\", record_type(\"Microsoft.FSharp.Core.FSharpRef`1\", [option_type(Model_$reflection())], FSharpRef, () => [[\"contents\", option_type(Model_$reflection())]])], [\"name\", string_type], [\"path\", string_type], [\"Files\", list_type(Model_$reflection())], [\"projectPath\", string_type]], [[\"parent\", record_type(\"Microsoft.FSharp.Core.FSharpRef`1\", [option_type(Model_$reflection())], FSharpRef, () => [[\"contents\", option_type(Model_$reflection())]])], [\"path\", string_type], [\"name\", string_type], [\"virtualPath\", option_type(string_type)], [\"projectPath\", string_type]], [[\"parent\", record_type(\"Microsoft.FSharp.Core.FSharpRef`1\", [option_type(Model_$reflection())], FSharpRef, () => [[\"contents\", option_type(Model_$reflection())]])], [\"path\", string_type], [\"name\", string_type], [\"projectPath\", string_type]], [[\"parent\", record_type(\"Microsoft.FSharp.Core.FSharpRef`1\", [option_type(Model_$reflection())], FSharpRef, () => [[\"contents\", option_type(Model_$reflection())]])], [\"path\", string_type], [\"name\", string_type], [\"projectPath\", string_type]]]);\r\n}\r\n\r\nexport class NodeEntry extends Record {\r\n    constructor(Key, FilePath, VirtualPath, Children) {\r\n        super();\r\n        this.Key = Key;\r\n        this.FilePath = FilePath;\r\n        this.VirtualPath = VirtualPath;\r\n        this.Children = Children;\r\n    }\r\n}\r\n\r\nexport function NodeEntry_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.SolutionExplorer.NodeEntry\", [], NodeEntry, () => [[\"Key\", string_type], [\"FilePath\", string_type], [\"VirtualPath\", string_type], [\"Children\", list_type(NodeEntry_$reflection())]]);\r\n}\r\n\r\nexport function add$0027(root, virtualPath, filepath) {\r\n    const addhelper = (state_mut, items_mut) => {\r\n        addhelper:\r\n        while (true) {\r\n            const state = state_mut, items = items_mut;\r\n            const matchValue = state.Children;\r\n            let matchResult, children_1, key_1, key_2, dirName_2, lastFileOrDir_1, xs_1, dirName_3, xs_2;\r\n            if (!isEmpty(items)) {\r\n                if (isEmpty(tail(items))) {\r\n                    if (exists((c) => (c.Key === unescapeDataString(head(items))), matchValue)) {\r\n                        matchResult = 1;\r\n                        children_1 = matchValue;\r\n                        key_1 = head(items);\r\n                    }\r\n                    else {\r\n                        matchResult = 2;\r\n                        key_2 = head(items);\r\n                    }\r\n                }\r\n                else if (!isEmpty(matchValue)) {\r\n                    if (unescapeDataString(head(items)) === head(matchValue).Key) {\r\n                        matchResult = 3;\r\n                        dirName_2 = head(items);\r\n                        lastFileOrDir_1 = head(matchValue);\r\n                        xs_1 = tail(items);\r\n                    }\r\n                    else {\r\n                        matchResult = 4;\r\n                        dirName_3 = head(items);\r\n                        xs_2 = tail(items);\r\n                    }\r\n                }\r\n                else {\r\n                    matchResult = 4;\r\n                    dirName_3 = head(items);\r\n                    xs_2 = tail(items);\r\n                }\r\n            }\r\n            else {\r\n                matchResult = 0;\r\n            }\r\n            switch (matchResult) {\r\n                case 0:\r\n                    return state;\r\n                case 1:\r\n                    return state;\r\n                case 2: {\r\n                    const x = new NodeEntry(unescapeDataString(key_2), filepath, virtualPath, empty());\r\n                    state.Children = cons(x, state.Children);\r\n                    return state;\r\n                }\r\n                case 3: {\r\n                    state_mut = lastFileOrDir_1;\r\n                    items_mut = xs_1;\r\n                    continue addhelper;\r\n                }\r\n                default: {\r\n                    const dirPath = (state.FilePath + path_23.sep) + dirName_3;\r\n                    const x_1 = new NodeEntry(unescapeDataString(dirName_3), dirPath, virtualPath, empty());\r\n                    state.Children = cons(x_1, state.Children);\r\n                    state_mut = x_1;\r\n                    items_mut = xs_2;\r\n                    continue addhelper;\r\n                }\r\n            }\r\n            break;\r\n        }\r\n    };\r\n    addhelper(root, ofArray(virtualPath.split(\"/\")));\r\n}\r\n\r\nexport function getParentRef(model) {\r\n    switch (model.tag) {\r\n        case 1:\r\n            return model.fields[0];\r\n        case 2:\r\n            return model.fields[0];\r\n        case 3:\r\n            return model.fields[0];\r\n        case 4:\r\n            return model.fields[0];\r\n        case 5:\r\n            return model.fields[0];\r\n        case 6:\r\n            return model.fields[0];\r\n        case 7:\r\n            return model.fields[0];\r\n        case 8:\r\n            return model.fields[0];\r\n        case 9:\r\n            return model.fields[0];\r\n        case 10:\r\n            return model.fields[0];\r\n        case 11:\r\n            return model.fields[0];\r\n        case 12:\r\n            return model.fields[0];\r\n        case 13:\r\n            return model.fields[0];\r\n        case 14:\r\n            return model.fields[0];\r\n        default:\r\n            return new FSharpRef(void 0);\r\n    }\r\n}\r\n\r\nexport function setParentRefs(models, parent) {\r\n    let enumerator;\r\n    let copyOfStruct = models;\r\n    enumerator = getEnumerator(copyOfStruct);\r\n    try {\r\n        while (enumerator[\"System.Collections.IEnumerator.MoveNext\"]()) {\r\n            const parentRef = getParentRef(enumerator[\"System.Collections.Generic.IEnumerator`1.get_Current\"]());\r\n            parentRef.contents = parent;\r\n        }\r\n    }\r\n    finally {\r\n        disposeSafe(enumerator);\r\n    }\r\n}\r\n\r\nexport const dirName = (arg) => path_23.dirname(arg);\r\n\r\nexport function toModel(projPath, entry) {\r\n    if (length(entry.Children) > 0) {\r\n        const childs = toList(map((entry_1) => toModel(projPath, entry_1), entry.Children));\r\n        const result = new Model(11, [new FSharpRef(void 0), entry.Key, entry.FilePath, childs, projPath]);\r\n        setParentRefs(childs, result);\r\n        return result;\r\n    }\r\n    else {\r\n        return new Model(12, [new FSharpRef(void 0), entry.FilePath, entry.Key, entry.VirtualPath, projPath]);\r\n    }\r\n}\r\n\r\nexport function buildTree(projPath, files) {\r\n    const entry = new NodeEntry(\"\", dirName(projPath), \"\", empty());\r\n    iterate((tupledArg) => {\r\n        add$0027(entry, tupledArg[0], tupledArg[1]);\r\n    }, files);\r\n    return toList(map((entry_1) => toModel(projPath, entry_1), reverse(entry.Children)));\r\n}\r\n\r\nfunction getProjectModel(proj) {\r\n    const projects = toArray(getLoaded());\r\n    const files_1 = buildTree(proj.Project, toList(map((p_1) => [p_1.VirtualPath, p_1.FilePath], filter((p) => (p.Name === \"Compile\"), proj.Items))));\r\n    let packageRefs;\r\n    const n = toList(map((p_3) => (new Model(13, [new FSharpRef(void 0), p_3.FullPath, (p_3.Name + \" \") + p_3.Version, proj.Project])), distinctBy((p_2) => p_2.Name, proj.PackageReferences, {\r\n        Equals: (x, y) => (x === y),\r\n        GetHashCode: stringHash,\r\n    })));\r\n    const result = new Model(3, [new FSharpRef(void 0), n, proj.Project]);\r\n    setParentRefs(n, result);\r\n    packageRefs = result;\r\n    let projs;\r\n    const n_1 = toList(map((p_5) => (new Model(14, [new FSharpRef(void 0), p_5.ProjectFileName, path_23.basename(p_5.ProjectFileName, \".fsproj\"), proj.Project])), distinctBy((p_4) => p_4.ProjectFileName, proj.ProjectReferences, {\r\n        Equals: (x_1, y_1) => (x_1 === y_1),\r\n        GetHashCode: stringHash,\r\n    })));\r\n    const result_1 = new Model(4, [new FSharpRef(void 0), n_1, proj.Project]);\r\n    setParentRefs(n_1, result_1);\r\n    projs = result_1;\r\n    const name = path_23.basename(proj.Project, \".fsproj\");\r\n    const result_2 = new Model(10, [new FSharpRef(void 0), proj.Project, name, files_1, projs, packageRefs, isExeProject(proj), proj]);\r\n    setParentRefs(files_1, result_2);\r\n    const parentRef = getParentRef(packageRefs);\r\n    parentRef.contents = result_2;\r\n    const parentRef_1 = getParentRef(projs);\r\n    parentRef_1.contents = result_2;\r\n    return result_2;\r\n}\r\n\r\nfunction getProjectModelByState(proj) {\r\n    switch (proj.tag) {\r\n        case 1:\r\n            return getProjectModel(proj.fields[0]);\r\n        case 2: {\r\n            const p_1 = proj.fields[0];\r\n            return new Model(7, [new FSharpRef(void 0), p_1, path_23.basename(p_1), proj.fields[1]]);\r\n        }\r\n        case 3: {\r\n            const p_2 = proj.fields[0];\r\n            return new Model(8, [new FSharpRef(void 0), p_2, path_23.basename(p_2), proj.fields[1]]);\r\n        }\r\n        case 4: {\r\n            const p_3 = proj.fields[0];\r\n            return new Model(9, [new FSharpRef(void 0), p_3, path_23.basename(p_3)]);\r\n        }\r\n        default: {\r\n            const p = proj.fields[0];\r\n            return new Model(6, [new FSharpRef(void 0), p, path_23.basename(p)]);\r\n        }\r\n    }\r\n}\r\n\r\nexport function getFolders(model) {\r\n    const loop = (model_1, lst) => {\r\n        switch (model_1.tag) {\r\n            case 0:\r\n                return collect((x) => loop(x, lst), model_1.fields[0]);\r\n            case 10:\r\n                return collect((x_1) => loop(x_1, lst), model_1.fields[3]);\r\n            case 11:\r\n                return collect((x_2) => append(loop(x_2, lst), singleton(model_1.fields[2])), model_1.fields[3]);\r\n            default:\r\n                return empty();\r\n        }\r\n    };\r\n    return cons(\".\", sort(map_1((n) => trimStart(n, \"\\\\\"), List_distinct(loop(model, empty()), {\r\n        Equals: (x_3, y) => (x_3 === y),\r\n        GetHashCode: stringHash,\r\n    })), {\r\n        Compare: comparePrimitives,\r\n    }));\r\n}\r\n\r\nfunction getSolutionModel(ws) {\r\n    const getProjItem = (projPath) => {\r\n        const matchValue = tryFindInWorkspace(projPath);\r\n        if (matchValue != null) {\r\n            return getProjectModelByState(matchValue);\r\n        }\r\n        else {\r\n            return new Model(5, [new FSharpRef(void 0), projPath, path_23.basename(projPath)]);\r\n        }\r\n    };\r\n    const getItem = (item) => {\r\n        const matchValue_1 = item.Kind;\r\n        if (matchValue_1.tag === 0) {\r\n            return getProjItem(item.Name);\r\n        }\r\n        else {\r\n            const folder = matchValue_1.fields[0];\r\n            const files = map_2((f) => (new Model(12, [new FSharpRef(void 0), f, path_23.basename(f), void 0, \"\"])), folder.Files);\r\n            const items = map_2(getItem, folder.Items);\r\n            const result = new Model(2, [new FSharpRef(void 0), item.Name, ofSeq(append_1(files, items))]);\r\n            setParentRefs(files, result);\r\n            setParentRefs(items, result);\r\n            return result;\r\n        }\r\n    };\r\n    if (ws.tag === 0) {\r\n        const items_1 = ofArray(map_2(getProjItem, ws.fields[0].Fsprojs));\r\n        const result_2 = new Model(0, [items_1]);\r\n        setParentRefs(items_1, result_2);\r\n        return result_2;\r\n    }\r\n    else {\r\n        const sln = ws.fields[0];\r\n        const s = new Model(1, [new FSharpRef(void 0), sln.Path, path_23.basename(sln.Path), ofArray(map_2(getItem, sln.Items))]);\r\n        const result_1 = new Model(0, [singleton(s)]);\r\n        const parentRef = getParentRef(s);\r\n        parentRef.contents = result_1;\r\n        return result_1;\r\n    }\r\n}\r\n\r\nfunction getSolution() {\r\n    return map_3(getSolutionModel, getLoadedSolution());\r\n}\r\n\r\nfunction getSubmodel(node) {\r\n    switch (node.tag) {\r\n        case 2:\r\n            return node.fields[2];\r\n        case 1:\r\n            return node.fields[3];\r\n        case 5:\r\n            return empty();\r\n        case 6:\r\n            return empty();\r\n        case 7:\r\n            return empty();\r\n        case 8:\r\n            return empty();\r\n        case 9:\r\n            return empty();\r\n        case 10:\r\n            return toList(delay(() => append_1(singleton_1(node.fields[5]), delay(() => append_1(singleton_1(node.fields[4]), delay(() => node.fields[3]))))));\r\n        case 3:\r\n            return node.fields[1];\r\n        case 4:\r\n            return node.fields[1];\r\n        case 11:\r\n            return reverse_1(node.fields[3]);\r\n        case 12:\r\n            return empty();\r\n        case 13:\r\n            return empty();\r\n        case 14:\r\n            return empty();\r\n        default:\r\n            return node.fields[0];\r\n    }\r\n}\r\n\r\nfunction getLabel(node) {\r\n    switch (node.tag) {\r\n        case 2:\r\n            return node.fields[1];\r\n        case 1:\r\n            return node.fields[2];\r\n        case 5:\r\n            return toText(printf(\"%s (not loaded yet)\"))(node.fields[2]);\r\n        case 6:\r\n            return toText(printf(\"%s (loading..)\"))(node.fields[2]);\r\n        case 7:\r\n            return toText(printf(\"%s (load failed)\"))(node.fields[2]);\r\n        case 8:\r\n            return toText(printf(\"%s (not restored)\"))(node.fields[2]);\r\n        case 9:\r\n            return toText(printf(\"%s (language not supported)\"))(node.fields[2]);\r\n        case 10:\r\n            return node.fields[2];\r\n        case 3:\r\n            return \"Package References\";\r\n        case 4:\r\n            return \"Project References\";\r\n        case 11:\r\n            return node.fields[1];\r\n        case 12:\r\n            return node.fields[2];\r\n        case 13: {\r\n            const name_9 = node.fields[2];\r\n            if (endsWith(name_9.toLowerCase(), \".dll\")) {\r\n                return substring(name_9, 0, name_9.length - 4);\r\n            }\r\n            else {\r\n                return name_9;\r\n            }\r\n        }\r\n        case 14:\r\n            return node.fields[2];\r\n        default:\r\n            return \"Workspace\";\r\n    }\r\n}\r\n\r\nfunction getRoot() {\r\n    return defaultArg(getSolution(), new Model(0, [empty()]));\r\n}\r\n\r\nfunction createProvider(event, rootChanged) {\r\n    const plugPath = VSCodeExtension_ionidePluginPath();\r\n    let event_1 = event;\r\n    return new (class {\r\n        getChildren(element) {\r\n            let arg_1, arg;\r\n            if (element == null) {\r\n                const root = getRoot();\r\n                rootChanged.fire(root);\r\n                return (arg_1 = getSubmodel(root), Array.from(arg_1));\r\n            }\r\n            else {\r\n                return (arg = getSubmodel(element), Array.from(arg));\r\n            }\r\n        }\r\n        getParent(element_1) {\r\n            const parentRef = getParentRef(element_1);\r\n            const matchValue = parentRef.contents;\r\n            return (matchValue != null) ? matchValue : void 0;\r\n        }\r\n        getTreeItem(element_2) {\r\n            let label;\r\n            const collaps = ((element_2.tag === 13) ? 0 : ((element_2.tag === 14) ? 0 : ((element_2.tag === 7) ? 2 : ((element_2.tag === 6) ? 2 : ((element_2.tag === 5) ? 2 : ((element_2.tag === 8) ? 2 : ((element_2.tag === 9) ? 2 : ((element_2.tag === 0) ? 2 : ((element_2.tag === 1) ? 2 : ((element_2.tag === 2) ? (exists((model) => {\r\n                switch (model.tag) {\r\n                    case 5:\r\n                        return true;\r\n                    case 6:\r\n                        return true;\r\n                    case 10:\r\n                        return true;\r\n                    case 7:\r\n                        return true;\r\n                    case 8:\r\n                        return true;\r\n                    default:\r\n                        return false;\r\n                }\r\n            }, element_2.fields[2]) ? 2 : 1) : ((element_2.tag === 11) ? 1 : ((element_2.tag === 10) ? 1 : ((element_2.tag === 4) ? 1 : ((element_2.tag === 3) ? 1 : 0)))))))))))))) | 0;\r\n            const ti = new vscode.TreeItem(getLabel(element_2), collaps);\r\n            let command;\r\n            if (element_2.tag === 12) {\r\n                const c = {};\r\n                c.command = \"vscode.open\";\r\n                c.title = \"open\";\r\n                const options = {};\r\n                options.preserveFocus = true;\r\n                c.arguments = [some(vscode.Uri.file(element_2.fields[1])), some(options)];\r\n                command = c;\r\n            }\r\n            else {\r\n                command = void 0;\r\n            }\r\n            ti.command = command;\r\n            const context = (element_2.tag === 4) ? \"projectRefList\" : ((element_2.tag === 3) ? \"referencesList\" : ((element_2.tag === 10) ? (element_2.fields[6] ? \"projectExe\" : \"project\") : ((element_2.tag === 14) ? \"projectRef\" : ((element_2.tag === 13) ? \"reference\" : ((element_2.tag === 11) ? \"folder\" : ((element_2.tag === 7) ? \"projectLoadFailed\" : ((element_2.tag === 6) ? \"projectLoading\" : ((element_2.tag === 5) ? \"projectNotLoaded\" : ((element_2.tag === 8) ? \"projectNotRestored\" : ((element_2.tag === 9) ? \"projectLanguageNotSupported\" : ((element_2.tag === 1) ? \"solution\" : ((element_2.tag === 0) ? \"workspace\" : ((element_2.tag === 2) ? \"workspaceFolder\" : \"file\")))))))))))));\r\n            ti.contextValue = toText(printf(\"ionide.projectExplorer.%s\"))(context);\r\n            const patternInput = (element_2.tag === 5) ? [vscode.ThemeIcon.File, vscode.Uri.file(element_2.fields[1])] : ((element_2.tag === 6) ? [vscode.ThemeIcon.File, vscode.Uri.file(element_2.fields[1])] : ((element_2.tag === 7) ? [vscode.ThemeIcon.File, vscode.Uri.file(element_2.fields[1])] : ((element_2.tag === 8) ? [vscode.ThemeIcon.File, vscode.Uri.file(element_2.fields[1])] : ((element_2.tag === 9) ? [vscode.ThemeIcon.File, vscode.Uri.file(element_2.fields[1])] : ((element_2.tag === 10) ? [vscode.ThemeIcon.File, vscode.Uri.file(element_2.fields[1])] : ((element_2.tag === 1) ? [vscode.ThemeIcon.File, vscode.Uri.file(element_2.fields[1])] : ((element_2.tag === 11) ? [vscode.ThemeIcon.Folder, vscode.Uri.file(element_2.fields[2])] : ((element_2.tag === 3) ? [vscode.ThemeIcon.Folder, void 0] : ((element_2.tag === 4) ? [vscode.ThemeIcon.Folder, void 0] : ((element_2.tag === 2) ? [vscode.ThemeIcon.Folder, void 0] : ((element_2.tag === 13) ? [{\r\n                dark: plugPath + \"/images/circuit-board-dark.svg\",\r\n                light: plugPath + \"/images/circuit-board-light.svg\",\r\n            }, vscode.Uri.file(element_2.fields[1])] : ((element_2.tag === 14) ? [{\r\n                dark: plugPath + \"/images/circuit-board-dark.svg\",\r\n                light: plugPath + \"/images/circuit-board-light.svg\",\r\n            }, vscode.Uri.file(element_2.fields[1])] : ((element_2.tag === 0) ? [void 0, void 0] : [vscode.ThemeIcon.File, vscode.Uri.file(element_2.fields[1])])))))))))))));\r\n            const resourceUri = patternInput[1];\r\n            ti.iconPath = patternInput[0];\r\n            ti.resourceUri = resourceUri;\r\n            ti.id = ((label = ((ti_1) => {\r\n                const matchValue_1 = ti_1.label;\r\n                if (matchValue_1 == null) {\r\n                    return \"\";\r\n                }\r\n                else {\r\n                    const matchValue_2 = matchValue_1;\r\n                    if (typeof matchValue_2 === \"string\") {\r\n                        const l_1 = matchValue_2;\r\n                        return l_1;\r\n                    }\r\n                    else {\r\n                        return matchValue_2.label;\r\n                    }\r\n                }\r\n            }), (element_2.tag === 3) ? ((label(ti) + \"||\") + element_2.fields[2]) : ((element_2.tag === 4) ? ((label(ti) + \"||\") + element_2.fields[2]) : ((element_2.tag === 13) ? ((label(ti) + \"||\") + element_2.fields[3]) : ((element_2.tag === 14) ? ((label(ti) + \"||\") + element_2.fields[3]) : ((element_2.tag === 11) ? void 0 : ((element_2.tag === 12) ? map_3((u) => ((((label(ti) + \"||\") + u.toString()) + \"||\") + element_2.fields[4]), resourceUri) : map_3((u_1) => ((label(ti) + \"||\") + u_1.toString()), resourceUri))))))));\r\n            return ti;\r\n        }\r\n        get onDidChangeTreeData() {\r\n            return unwrap(event_1);\r\n        }\r\n        set onDidChangeTreeData(v) {\r\n            event_1 = v;\r\n        }\r\n        resolveTreeItem(item, element_3, token) {\r\n            return item;\r\n        }\r\n    }\r\n    )();\r\n}\r\n\r\nconst ShowInActivity_setInFsharpActivity = Context_cachedSetter(\"fsharp.showProjectExplorerInFsharpActivity\");\r\n\r\nconst ShowInActivity_setInExplorerActivity = Context_cachedSetter(\"fsharp.showProjectExplorerInExplorerActivity\");\r\n\r\nfunction ShowInActivity_initializeAndGetId() {\r\n    const inFsharpActivity = Configuration_get(\"fsharp\", \"FSharp.showProjectExplorerIn\") === \"fsharp\";\r\n    ShowInActivity_setInFsharpActivity(inFsharpActivity);\r\n    ShowInActivity_setInExplorerActivity(!inFsharpActivity);\r\n    if (inFsharpActivity) {\r\n        return \"ionide.projectExplorerInActivity\";\r\n    }\r\n    else {\r\n        return \"ionide.projectExplorer\";\r\n    }\r\n}\r\n\r\nfunction NodeReveal_RevealConfiguration_getAutoReveal() {\r\n    const matchValue = Configuration_get(\"sameAsFileExplorer\", \"FSharp.autoRevealInExplorer\");\r\n    switch (matchValue) {\r\n        case \"enabled\":\r\n            return true;\r\n        case \"disabled\":\r\n            return false;\r\n        default:\r\n            return Configuration_get(true, \"explorer.autoReveal\");\r\n    }\r\n}\r\n\r\nclass NodeReveal_State extends Record {\r\n    constructor(RootModel, ModelPerFile) {\r\n        super();\r\n        this.RootModel = RootModel;\r\n        this.ModelPerFile = ModelPerFile;\r\n    }\r\n}\r\n\r\nfunction NodeReveal_State_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.SolutionExplorer.NodeReveal.State\", [], NodeReveal_State, () => [[\"RootModel\", Model_$reflection()], [\"ModelPerFile\", class_type(\"Microsoft.FSharp.Collections.FSharpMap`2\", [string_type, Model_$reflection()])]]);\r\n}\r\n\r\nfunction NodeReveal_findModelFromUri(state, uri) {\r\n    if ((uri.scheme === \"file\") && ((uri.fsPath != undefined))) {\r\n        return bind((s) => tryFind(uri.fsPath, s.ModelPerFile), state.contents);\r\n    }\r\n    else {\r\n        return void 0;\r\n    }\r\n}\r\n\r\nfunction NodeReveal_revealUri(tree, state, uri, showTreeIfHidden) {\r\n    if (showTreeIfHidden ? true : tree.visible) {\r\n        const model = NodeReveal_findModelFromUri(state, uri);\r\n        if (model != null) {\r\n            const model_1 = model;\r\n            const options = {\r\n                expand: false,\r\n                select: true,\r\n            };\r\n            tree.reveal(model_1, options);\r\n        }\r\n    }\r\n}\r\n\r\nfunction NodeReveal_revealTextEditor(tree, state, textEditor, showTreeIfHidden) {\r\n    if (textEditor == null) {\r\n    }\r\n    else {\r\n        const textEditor_1 = textEditor;\r\n        NodeReveal_revealUri(tree, state, textEditor_1.document.uri, showTreeIfHidden);\r\n    }\r\n}\r\n\r\nfunction NodeReveal_onDidChangeActiveTextEditor(tree, state, textEditor) {\r\n    if (NodeReveal_RevealConfiguration_getAutoReveal()) {\r\n        NodeReveal_revealTextEditor(tree, state, textEditor, false);\r\n    }\r\n}\r\n\r\nfunction NodeReveal_getModelPerFile(model) {\r\n    let matchResult, path, children, path_1, children_1;\r\n    switch (model.tag) {\r\n        case 13:\r\n        case 14:\r\n        case 3:\r\n        case 4: {\r\n            matchResult = 3;\r\n            break;\r\n        }\r\n        case 5: {\r\n            matchResult = 0;\r\n            path = model.fields[1];\r\n            break;\r\n        }\r\n        case 6: {\r\n            matchResult = 0;\r\n            path = model.fields[1];\r\n            break;\r\n        }\r\n        case 7: {\r\n            matchResult = 0;\r\n            path = model.fields[1];\r\n            break;\r\n        }\r\n        case 8: {\r\n            matchResult = 0;\r\n            path = model.fields[1];\r\n            break;\r\n        }\r\n        case 9: {\r\n            matchResult = 0;\r\n            path = model.fields[1];\r\n            break;\r\n        }\r\n        case 10: {\r\n            matchResult = 1;\r\n            children = model.fields[3];\r\n            path_1 = model.fields[1];\r\n            break;\r\n        }\r\n        case 1: {\r\n            matchResult = 1;\r\n            children = model.fields[3];\r\n            path_1 = model.fields[1];\r\n            break;\r\n        }\r\n        case 11: {\r\n            matchResult = 2;\r\n            children_1 = model.fields[3];\r\n            break;\r\n        }\r\n        case 2: {\r\n            matchResult = 2;\r\n            children_1 = model.fields[2];\r\n            break;\r\n        }\r\n        case 0: {\r\n            matchResult = 2;\r\n            children_1 = model.fields[0];\r\n            break;\r\n        }\r\n        default: {\r\n            matchResult = 0;\r\n            path = model.fields[1];\r\n        }\r\n    }\r\n    switch (matchResult) {\r\n        case 0:\r\n            return singleton([path, model]);\r\n        case 1:\r\n            return cons([path_1, model], collect(NodeReveal_getModelPerFile, children));\r\n        case 2:\r\n            return collect(NodeReveal_getModelPerFile, children_1);\r\n        default:\r\n            return empty();\r\n    }\r\n}\r\n\r\nfunction NodeReveal_onModelChanged(tree, state, newValue) {\r\n    const newState = new NodeReveal_State(newValue, ofList(NodeReveal_getModelPerFile(newValue), {\r\n        Compare: comparePrimitives,\r\n    }));\r\n    state.contents = newState;\r\n    if (NodeReveal_RevealConfiguration_getAutoReveal()) {\r\n        NodeReveal_revealTextEditor(tree, state, window$.activeTextEditor, false);\r\n    }\r\n}\r\n\r\nfunction NodeReveal_onDidChangeTreeVisibility(tree, state, change) {\r\n    if (change.visible && NodeReveal_RevealConfiguration_getAutoReveal()) {\r\n        setTimeout(() => {\r\n            NodeReveal_revealTextEditor(tree, state, window$.activeTextEditor, true);\r\n        }, 0);\r\n    }\r\n}\r\n\r\nexport function NodeReveal_activate(context, rootChanged, treeView) {\r\n    const state = new FSharpRef(void 0);\r\n    const arg_1 = window$.onDidChangeActiveTextEditor((arg) => ((textEditor) => {\r\n        NodeReveal_onDidChangeActiveTextEditor(treeView, state, textEditor);\r\n    })(arg));\r\n    void (context.subscriptions.push(arg_1));\r\n    const arg_3 = rootChanged((arg_2) => ((newValue) => {\r\n        NodeReveal_onModelChanged(treeView, state, newValue);\r\n    })(arg_2));\r\n    void (context.subscriptions.push(arg_3));\r\n    const arg_5 = treeView.onDidChangeVisibility((arg_4) => ((change) => {\r\n        NodeReveal_onDidChangeTreeVisibility(treeView, state, change);\r\n    })(arg_4));\r\n    void (context.subscriptions.push(arg_5));\r\n    const arg_7 = commands.registerCommand(\"fsharp.revealInSolutionExplorer\", (arg_6) => ((_arg) => {\r\n        NodeReveal_revealTextEditor(treeView, state, window$.activeTextEditor, true);\r\n    })(arg_6));\r\n    void (context.subscriptions.push(arg_7));\r\n}\r\n\r\nfunction handleUntitled(fn) {\r\n    if ((endsWith(fn, \".fs\") ? true : endsWith(fn, \".fsi\")) ? true : endsWith(fn, \".fsx\")) {\r\n        return fn;\r\n    }\r\n    else {\r\n        return fn + \".fs\";\r\n    }\r\n}\r\n\r\nfunction createNewFileDialg(proj, existingFiles, prompt, prefilled) {\r\n    const opts = {};\r\n    opts.placeHolder = \"new.fs\";\r\n    opts.value = prefilled;\r\n    opts.prompt = prompt;\r\n    opts.validateInput = ((userInput) => {\r\n        const userInput_1 = handleUntitled(userInput);\r\n        const fileExist = tryFind_1((file) => {\r\n            switch (file.tag) {\r\n                case 12: {\r\n                    const projDir = path_23.dirname(proj);\r\n                    const relativeFilePathFromProject = path_23.relative(projDir, file.fields[1]);\r\n                    return replace(userInput_1, \"\\\\\", \"/\") === replace(relativeFilePathFromProject, \"\\\\\", \"/\");\r\n                }\r\n                default:\r\n                    return false;\r\n            }\r\n        }, existingFiles);\r\n        return (fileExist == null) ? void 0 : \"File already exists\";\r\n    });\r\n    return window$.showInputBox(opts);\r\n}\r\n\r\nfunction tryFindParentProject(model_mut) {\r\n    tryFindParentProject:\r\n    while (true) {\r\n        const model = model_mut;\r\n        switch (model.tag) {\r\n            case 12: {\r\n                const matchValue = model.fields[0].contents;\r\n                if (matchValue == null) {\r\n                    return void 0;\r\n                }\r\n                else {\r\n                    model_mut = matchValue;\r\n                    continue tryFindParentProject;\r\n                }\r\n            }\r\n            case 11: {\r\n                const matchValue_1 = model.fields[0].contents;\r\n                if (matchValue_1 == null) {\r\n                    return void 0;\r\n                }\r\n                else {\r\n                    model_mut = matchValue_1;\r\n                    continue tryFindParentProject;\r\n                }\r\n            }\r\n            case 0:\r\n            case 1:\r\n            case 2:\r\n            case 3:\r\n            case 4:\r\n            case 5:\r\n            case 6:\r\n            case 7:\r\n            case 8:\r\n            case 9:\r\n            case 13:\r\n            case 14:\r\n                return void 0;\r\n            default:\r\n                return model;\r\n        }\r\n        break;\r\n    }\r\n}\r\n\r\nexport function newProject() {\r\n    return PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => (Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, LanguageService_dotnetNewList()).then((_arg) => {\r\n        const templates = _arg;\r\n        let n;\r\n        const arg = map_1((t) => {\r\n            const res = {};\r\n            res.label = t.Name;\r\n            res.description = t.ShortName;\r\n            return res;\r\n        }, (templates != null) ? templates.Data : empty());\r\n        n = Array.from(arg);\r\n        const cwd = workspace.rootPath;\r\n        if (cwd == null) {\r\n            window$.showErrorMessage(\"No open folder.\");\r\n            return Promise.resolve();\r\n        }\r\n        else {\r\n            const cwd_1 = cwd;\r\n            return Promise_PromiseBuilder__PromiseBuilder_Source_Z7741CCC2(promise, window$.showQuickPick(n)).then((_arg_1) => {\r\n                const template = _arg_1;\r\n                if (template == null) {\r\n                    return Promise.resolve();\r\n                }\r\n                else {\r\n                    const template_1 = template;\r\n                    const opts = {};\r\n                    opts.prompt = \"Project directory, relative to workspace root (-o parameter)\";\r\n                    return Promise_PromiseBuilder__PromiseBuilder_Source_Z7741CCC2(promise, window$.showInputBox(opts)).then((_arg_2) => {\r\n                        const dir = _arg_2;\r\n                        const opts_1 = {};\r\n                        opts_1.prompt = \"Project name (-n parameter)\";\r\n                        return Promise_PromiseBuilder__PromiseBuilder_Source_Z7741CCC2(promise, window$.showInputBox(opts_1)).then((_arg_3) => {\r\n                            let matchValue_1, description;\r\n                            const name = _arg_3;\r\n                            let matchResult, dir_1, name_1;\r\n                            if (dir != null) {\r\n                                if (name != null) {\r\n                                    matchResult = 0;\r\n                                    dir_1 = dir;\r\n                                    name_1 = name;\r\n                                }\r\n                                else {\r\n                                    matchResult = 1;\r\n                                }\r\n                            }\r\n                            else {\r\n                                matchResult = 1;\r\n                            }\r\n                            switch (matchResult) {\r\n                                case 0: {\r\n                                    const output = isNullOrWhiteSpace(dir_1) ? void 0 : dir_1;\r\n                                    const projName = isNullOrWhiteSpace(name_1) ? void 0 : name_1;\r\n                                    return ((matchValue_1 = template_1.description, (matchValue_1 != null) ? ((description = matchValue_1, Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, LanguageService_dotnetNewRun(description, projName, output)).then(() => {\r\n                                        const model = getSolution();\r\n                                        let matchResult_1, slnName;\r\n                                        if (model != null) {\r\n                                            if (model.tag === 0) {\r\n                                                if (!isEmpty(model.fields[0])) {\r\n                                                    if (head(model.fields[0]).tag === 1) {\r\n                                                        if (isEmpty(tail(model.fields[0]))) {\r\n                                                            matchResult_1 = 0;\r\n                                                            slnName = head(model.fields[0]).fields[2];\r\n                                                        }\r\n                                                        else {\r\n                                                            matchResult_1 = 1;\r\n                                                        }\r\n                                                    }\r\n                                                    else {\r\n                                                        matchResult_1 = 1;\r\n                                                    }\r\n                                                }\r\n                                                else {\r\n                                                    matchResult_1 = 1;\r\n                                                }\r\n                                            }\r\n                                            else {\r\n                                                matchResult_1 = 1;\r\n                                            }\r\n                                        }\r\n                                        else {\r\n                                            matchResult_1 = 1;\r\n                                        }\r\n                                        switch (matchResult_1) {\r\n                                            case 0: {\r\n                                                const pname = (projName != null) ? (value_28(projName) + \".fsproj\") : ((output != null) ? (value_28(output) + \".fsproj\") : (path_23.dirname(value_28(workspace.rootPath)) + \".fsproj\"));\r\n                                                const proj = path_23.join(value_28(workspace.rootPath), dir_1, name_1, pname);\r\n                                                execWithDotnet(outputChannel, [\"sln\", slnName, \"add\", proj]);\r\n                                                return Promise.resolve();\r\n                                            }\r\n                                            default:\r\n                                                return isEmpty(getInWorkspace()) ? (Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, initWorkspace()).then(() => (Promise.resolve(void 0)))) : (Promise.resolve());\r\n                                        }\r\n                                    }))) : (Promise.resolve(void 0)))).then(() => PromiseBuilder__Delay_62FBFDE1(promise, () => {\r\n                                        return Promise.resolve();\r\n                                    }));\r\n                                }\r\n                                default: {\r\n                                    return Promise.resolve();\r\n                                }\r\n                            }\r\n                        });\r\n                    });\r\n                }\r\n            });\r\n        }\r\n    }))));\r\n}\r\n\r\nfunction cleanTextEditorsDecorations(filePath) {\r\n    const normalizedPath = replace(filePath, \"\\\\\", \"/\");\r\n    const fileUri = vscode.Uri.parse(`file:///${normalizedPath}`);\r\n    LineLens__removeDocument_Z429A7006(Instance, fileUri);\r\n    LineLens__removeDocument_Z429A7006(Instance_1, fileUri);\r\n}\r\n\r\nexport function activate(context) {\r\n    const emiter = new vscode.EventEmitter();\r\n    const rootChanged = new vscode.EventEmitter();\r\n    const provider = createProvider(emiter.event, rootChanged);\r\n    const treeViewId = ShowInActivity_initializeAndGetId();\r\n    const arg = workspaceChanged((_arg) => {\r\n        emiter.fire(void 0);\r\n        return void 0;\r\n    });\r\n    void (context.subscriptions.push(arg));\r\n    const arg_2 = commands.registerCommand(\"fsharp.NewProject\", (arg_1) => (newProject)(arg_1));\r\n    void (context.subscriptions.push(arg_2));\r\n    const arg_4 = commands.registerCommand(\"fsharp.explorer.refresh\", (arg_3) => ((_arg_1) => {\r\n        emiter.fire(void 0);\r\n        return void 0;\r\n    })(arg_3));\r\n    void (context.subscriptions.push(arg_4));\r\n    const arg_6 = commands.registerCommand(\"fsharp.explorer.clearCache\", (arg_5) => ((_arg_2) => {\r\n        clearCache();\r\n        return void 0;\r\n    })(arg_5));\r\n    void (context.subscriptions.push(arg_6));\r\n    const arg_8 = commands.registerCommand(\"fsharp.explorer.moveUp\", (arg_7) => ((m) => {\r\n        let matchValue, virtPath;\r\n        (matchValue = m, (matchValue.tag === 12) ? ((matchValue.fields[3] != null) ? ((virtPath = matchValue.fields[3], moveFileUpPath(matchValue.fields[4], virtPath))) : void 0) : void 0);\r\n        return void 0;\r\n    })(arg_7));\r\n    void (context.subscriptions.push(arg_8));\r\n    const arg_10 = commands.registerCommand(\"fsharp.explorer.moveDown\", (arg_9) => ((m_1) => {\r\n        let matchValue_1, virtPath_1;\r\n        (matchValue_1 = m_1, (matchValue_1.tag === 12) ? ((matchValue_1.fields[3] != null) ? ((virtPath_1 = matchValue_1.fields[3], moveFileDownPath(matchValue_1.fields[4], virtPath_1))) : void 0) : void 0);\r\n        return void 0;\r\n    })(arg_9));\r\n    void (context.subscriptions.push(arg_10));\r\n    const arg_12 = commands.registerCommand(\"fsharp.explorer.removeFile\", (arg_11) => ((m_2) => {\r\n        let matchValue_2, proj_2, filePath;\r\n        (matchValue_2 = m_2, (matchValue_2.tag === 12) ? ((proj_2 = matchValue_2.fields[4], (filePath = matchValue_2.fields[1], PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => {\r\n            const projDir = path_23.dirname(proj_2);\r\n            const relativeFilePathFromProject = path_23.relative(projDir, filePath);\r\n            return Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, removeFilePath(proj_2, relativeFilePathFromProject)).then(() => {\r\n                cleanTextEditorsDecorations(filePath);\r\n                return Promise.resolve();\r\n            });\r\n        }))))) : void 0);\r\n        return void 0;\r\n    })(arg_11));\r\n    void (context.subscriptions.push(arg_12));\r\n    const arg_14 = commands.registerCommand(\"fsharp.explorer.renameFile\", (arg_13) => ((m_3) => {\r\n        let value_4;\r\n        const matchValue_3 = m_3;\r\n        let matchResult, filePath_1, parent, virtualPath;\r\n        if (matchValue_3.tag === 12) {\r\n            if (matchValue_3.fields[3] != null) {\r\n                matchResult = 0;\r\n                filePath_1 = matchValue_3.fields[1];\r\n                parent = matchValue_3.fields[0];\r\n                virtualPath = matchValue_3.fields[3];\r\n            }\r\n            else {\r\n                matchResult = 1;\r\n            }\r\n        }\r\n        else {\r\n            matchResult = 1;\r\n        }\r\n        switch (matchResult) {\r\n            case 0: {\r\n                const matchValue_4 = parent.contents;\r\n                if (matchValue_4 != null) {\r\n                    const matchValue_5 = tryFindParentProject(matchValue_4);\r\n                    let matchResult_1, files, proj_3;\r\n                    if (matchValue_5 != null) {\r\n                        if (matchValue_5.tag === 10) {\r\n                            matchResult_1 = 0;\r\n                            files = matchValue_5.fields[3];\r\n                            proj_3 = matchValue_5.fields[1];\r\n                        }\r\n                        else {\r\n                            matchResult_1 = 1;\r\n                        }\r\n                    }\r\n                    else {\r\n                        matchResult_1 = 1;\r\n                    }\r\n                    switch (matchResult_1) {\r\n                        case 0: {\r\n                            let pr_1;\r\n                            const pr = Promise_ofThenable(createNewFileDialg(proj_3, files, \"Enter a new name\", last(virtualPath.split(\"/\"))));\r\n                            pr_1 = (pr.then((newFileNameOpt) => PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => {\r\n                                let newFileName_1, newFileName_2;\r\n                                return ((newFileNameOpt != null) ? (!isNullOrWhiteSpace(newFileNameOpt) ? ((newFileName_1 = newFileNameOpt, (newFileName_2 = handleUntitled(newFileName_1), Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, renameFile(proj_3, virtualPath, newFileName_2)).then(() => {\r\n                                    cleanTextEditorsDecorations(filePath_1);\r\n                                    return Promise.resolve();\r\n                                })))) : (Promise.resolve())) : (Promise.resolve())).then(() => PromiseBuilder__Delay_62FBFDE1(promise, () => (Promise.resolve(defaultOf()))));\r\n                            }))));\r\n                            value_4 = (void (pr_1.catch((error) => {\r\n                                window$.showErrorMessage(error.message);\r\n                            })));\r\n                            break;\r\n                        }\r\n                        default:\r\n                            value_4 = void void 0;\r\n                    }\r\n                }\r\n                else {\r\n                    value_4 = void void 0;\r\n                }\r\n                break;\r\n            }\r\n            default:\r\n                value_4 = void void 0;\r\n        }\r\n        return void 0;\r\n    })(arg_13));\r\n    void (context.subscriptions.push(arg_14));\r\n    const arg_16 = commands.registerCommand(\"fsharp.explorer.addAbove\", (arg_15) => ((m_4) => {\r\n        const matchValue_6 = m_4;\r\n        let matchResult_2, parent_1, virtPath_2;\r\n        if (matchValue_6.tag === 12) {\r\n            if (matchValue_6.fields[3] != null) {\r\n                matchResult_2 = 0;\r\n                parent_1 = matchValue_6.fields[0];\r\n                virtPath_2 = matchValue_6.fields[3];\r\n            }\r\n            else {\r\n                matchResult_2 = 1;\r\n            }\r\n        }\r\n        else {\r\n            matchResult_2 = 1;\r\n        }\r\n        switch (matchResult_2) {\r\n            case 0: {\r\n                const matchValue_7 = parent_1.contents;\r\n                if (matchValue_7 != null) {\r\n                    const matchValue_8 = tryFindParentProject(matchValue_7);\r\n                    let matchResult_3, files_1, proj_4;\r\n                    if (matchValue_8 != null) {\r\n                        if (matchValue_8.tag === 10) {\r\n                            matchResult_3 = 0;\r\n                            files_1 = matchValue_8.fields[3];\r\n                            proj_4 = matchValue_8.fields[1];\r\n                        }\r\n                        else {\r\n                            matchResult_3 = 1;\r\n                        }\r\n                    }\r\n                    else {\r\n                        matchResult_3 = 1;\r\n                    }\r\n                    switch (matchResult_3) {\r\n                        case 0: {\r\n                            let pr_3;\r\n                            const pr_2 = Promise_ofThenable(createNewFileDialg(proj_4, files_1, \"New file name, relative to selected file\", void 0));\r\n                            pr_3 = (pr_2.then((file) => {\r\n                                if (file == null) {\r\n                                    return Promise_empty();\r\n                                }\r\n                                else {\r\n                                    return addFileAbove(proj_4, virtPath_2, handleUntitled(file));\r\n                                }\r\n                            }));\r\n                            void (pr_3.catch((error_1) => {\r\n                                window$.showErrorMessage(error_1.message);\r\n                            }));\r\n                            break;\r\n                        }\r\n                        case 1: {\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                break;\r\n            }\r\n            case 1: {\r\n                break;\r\n            }\r\n        }\r\n    })(arg_15));\r\n    void (context.subscriptions.push(arg_16));\r\n    const arg_18 = commands.registerCommand(\"fsharp.explorer.addBelow\", (arg_17) => ((m_5) => {\r\n        const matchValue_9 = m_5;\r\n        let matchResult_4, parent_2, virtPath_3;\r\n        if (matchValue_9.tag === 12) {\r\n            if (matchValue_9.fields[3] != null) {\r\n                matchResult_4 = 0;\r\n                parent_2 = matchValue_9.fields[0];\r\n                virtPath_3 = matchValue_9.fields[3];\r\n            }\r\n            else {\r\n                matchResult_4 = 1;\r\n            }\r\n        }\r\n        else {\r\n            matchResult_4 = 1;\r\n        }\r\n        switch (matchResult_4) {\r\n            case 0: {\r\n                const matchValue_10 = parent_2.contents;\r\n                if (matchValue_10 != null) {\r\n                    const matchValue_11 = tryFindParentProject(matchValue_10);\r\n                    let matchResult_5, files_2, proj_5;\r\n                    if (matchValue_11 != null) {\r\n                        if (matchValue_11.tag === 10) {\r\n                            matchResult_5 = 0;\r\n                            files_2 = matchValue_11.fields[3];\r\n                            proj_5 = matchValue_11.fields[1];\r\n                        }\r\n                        else {\r\n                            matchResult_5 = 1;\r\n                        }\r\n                    }\r\n                    else {\r\n                        matchResult_5 = 1;\r\n                    }\r\n                    switch (matchResult_5) {\r\n                        case 0: {\r\n                            let pr_5;\r\n                            const pr_4 = Promise_ofThenable(createNewFileDialg(proj_5, files_2, \"New file name, relative to selected file\", void 0));\r\n                            pr_5 = (pr_4.then((file_2) => {\r\n                                if (file_2 == null) {\r\n                                    return Promise_empty();\r\n                                }\r\n                                else {\r\n                                    return addFileBelow(proj_5, virtPath_3, handleUntitled(file_2));\r\n                                }\r\n                            }));\r\n                            void (pr_5.catch((error_2) => {\r\n                                window$.showErrorMessage(error_2.message);\r\n                            }));\r\n                            break;\r\n                        }\r\n                        case 1: {\r\n                            break;\r\n                        }\r\n                    }\r\n                }\r\n                break;\r\n            }\r\n            case 1: {\r\n                break;\r\n            }\r\n        }\r\n    })(arg_17));\r\n    void (context.subscriptions.push(arg_18));\r\n    const arg_20 = commands.registerCommand(\"fsharp.explorer.addFile\", (arg_19) => ((m_6) => {\r\n        const matchValue_12 = m_6;\r\n        if (matchValue_12.tag === 10) {\r\n            const proj_6 = matchValue_12.fields[1];\r\n            let pr_7;\r\n            const pr_6 = Promise_ofThenable(createNewFileDialg(proj_6, matchValue_12.fields[3], \"New file name, relative to project file\", void 0));\r\n            pr_7 = (pr_6.then((file_4) => {\r\n                if (file_4 == null) {\r\n                    return Promise_empty();\r\n                }\r\n                else {\r\n                    return addFile(proj_6, handleUntitled(file_4));\r\n                }\r\n            }));\r\n            void (pr_7.catch((error_3) => {\r\n                window$.showErrorMessage(error_3.message);\r\n            }));\r\n        }\r\n    })(arg_19));\r\n    void (context.subscriptions.push(arg_20));\r\n    const arg_22 = commands.registerCommand(\"fsharp.explorer.addExistingFile\", (arg_21) => ((m_7) => {\r\n        const matchValue_13 = m_7;\r\n        if (matchValue_13.tag === 10) {\r\n            const proj_7 = matchValue_13.fields[1];\r\n            const projectUri = vscode.Uri.file(proj_7);\r\n            const opts = {};\r\n            opts.canSelectMany = false;\r\n            opts.openLabel = \"Add\";\r\n            opts.title = \"Choose a file to add\";\r\n            opts.defaultUri = projectUri;\r\n            let pr_9;\r\n            const pr_8 = Promise_ofThenable(window$.showOpenDialog(opts));\r\n            pr_9 = (pr_8.then((selectedFilesOpt) => {\r\n                if (selectedFilesOpt == null) {\r\n                    return Promise_empty();\r\n                }\r\n                else {\r\n                    const selectedFiles = selectedFilesOpt;\r\n                    if (selectedFiles.length === 1) {\r\n                        return addExistingFile(proj_7, selectedFiles[0].fsPath);\r\n                    }\r\n                    else {\r\n                        return Promise_empty();\r\n                    }\r\n                }\r\n            }));\r\n            void (pr_9.catch((error_4) => {\r\n                window$.showErrorMessage(error_4.message);\r\n            }));\r\n        }\r\n    })(arg_21));\r\n    void (context.subscriptions.push(arg_22));\r\n    const arg_24 = commands.registerCommand(\"fsharp.explorer.addProjecRef\", (arg_23) => ((m_8) => {\r\n        const matchValue_14 = m_8;\r\n        if (matchValue_14.tag === 4) {\r\n            return addProjectReferencePath(matchValue_14.fields[2]);\r\n        }\r\n        else {\r\n            return void 0;\r\n        }\r\n    })(arg_23));\r\n    void (context.subscriptions.push(arg_24));\r\n    const arg_26 = commands.registerCommand(\"fsharp.explorer.removeProjecRef\", (arg_25) => ((m_9) => {\r\n        const matchValue_15 = m_9;\r\n        if (matchValue_15.tag === 14) {\r\n            return removeProjectReferencePath(matchValue_15.fields[1], matchValue_15.fields[3]);\r\n        }\r\n        else {\r\n            return void 0;\r\n        }\r\n    })(arg_25));\r\n    void (context.subscriptions.push(arg_26));\r\n    const treeOptions = {};\r\n    treeOptions.treeDataProvider = provider;\r\n    const treeView = window$.createTreeView(treeViewId, treeOptions);\r\n    void (context.subscriptions.push(treeView));\r\n    NodeReveal_activate(context, rootChanged.event, treeView);\r\n    let wsProvider;\r\n    const viewFailed = (error_5) => {\r\n        let matchValue_17, version;\r\n        return join(\"<br />\", append(ofArray([\"<b>Status:</b> failed to load\", \"\", \"<b>Error:</b>\"]), (matchValue_17 = match(/A compatible SDK version for global\\.json version: \\[([\\d.]+)\\].*was not found.*/gui, error_5), (matchValue_17 != null) ? ((version = (matchValue_17[1] || \"\"), ofArray([toText(printf(\"A compatible SDK version for global.json version: <b>%s</b> was not found.\"))(version), \"\", \"If you haven\\'t installed a compatible version on your computer, you can go to: <a href=\\\"https://dotnet.microsoft.com/download/archives\\\">https://dotnet.microsoft.com/download/archives</a> to download it.\", \"\", \"<hr/>\", \"<b>Original error:</b>\", \"\", error_5]))) : singleton(error_5))));\r\n    };\r\n    let e = void 0;\r\n    wsProvider = (new (class {\r\n        get onDidChange() {\r\n            return unwrap(e);\r\n        }\r\n        set onDidChange(v) {\r\n            e = v;\r\n        }\r\n        provideTextDocumentContent(uri, token) {\r\n            let q, path_1, matchValue_19, proj_9, proj_8, matchValue_16, projRefs, packageRefs, refs_1, info, _path_1, error_6, _path_2, error_7, _path_3, _path, arg_39;\r\n            return (uri.path === \"projects/status\") ? ((q = querystring.parse(uri.query), (path_1 = q.path, (matchValue_19 = tryFindInWorkspace(path_1), (matchValue_19 != null) ? ((matchValue_19.tag === 1) ? ((proj_9 = matchValue_19.fields[0], (proj_8 = proj_9, (matchValue_16 = getProjectModel(proj_8), (matchValue_16.tag === 10) ? ((matchValue_16.fields[5].tag === 3) ? ((projRefs = map_2((n) => n.ProjectFileName, matchValue_16.fields[7].ProjectReferences), (packageRefs = map_2((n_2) => ((n_2.Name + \" \") + n_2.Version), Array_distinctBy((n_1) => n_1.Name, matchValue_16.fields[7].PackageReferences, {\r\n                Equals: (x_14, y) => (x_14 === y),\r\n                GetHashCode: stringHash,\r\n            })), (refs_1 = map_1((_arg_6) => {\r\n                if (_arg_6.tag === 13) {\r\n                    return _arg_6.fields[1];\r\n                }\r\n                else {\r\n                    throw new Error(\"Should not happend, we filtered the `refs` list before\");\r\n                }\r\n            }, filter_1((_arg_5) => {\r\n                if (_arg_5.tag === 13) {\r\n                    return true;\r\n                }\r\n                else {\r\n                    return false;\r\n                }\r\n            }, matchValue_16.fields[5].fields[1])), (info = proj_8.Info, join(\"<br />\", toList(delay(() => append_1(singleton_1(\"<b>Status:</b> parsed correctly\"), delay(() => append_1(singleton_1(\"\"), delay(() => append_1(singleton_1(toText(printf(\"<b>Project</b>: %s\"))(proj_8.Project)), delay(() => append_1(singleton_1(\"\"), delay(() => append_1(singleton_1(toText(printf(\"<b>Output Type</b>: %s\"))(proj_8.OutputType)), delay(() => append_1(singleton_1(toText(printf(\"<b>Output</b>: %s\"))(proj_8.Output)), delay(() => append_1(singleton_1(\"\"), delay(() => append_1(singleton_1(toText(printf(\"<b>Project Type</b>: .NET Sdk (dotnet/sdk)\"))), delay(() => append_1(singleton_1(\"\"), delay(() => append_1(singleton_1(toText(printf(\"<b>Configuration</b>: %s\"))(info.Configuration)), delay(() => append_1(singleton_1(toText(printf(\"<b>Target Framework</b>: %s (%s %s)\"))(info.TargetFramework)(info.TargetFrameworkIdentifier)(info.TargetFrameworkVersion)), delay(() => append_1(singleton_1(\"\"), delay(() => {\r\n                let arg_34;\r\n                const boolToString = (x_15) => {\r\n                    if (x_15) {\r\n                        return \"yes\";\r\n                    }\r\n                    else {\r\n                        return \"no\";\r\n                    }\r\n                };\r\n                return append_1(singleton_1((arg_34 = boolToString(info.RestoreSuccess), toText(printf(\"<b>Restored successfully</b>: %s\"))(arg_34))), delay(() => append_1(singleton_1(\"\"), delay(() => {\r\n                    let arg_35;\r\n                    const crossgen = !isEmpty_1(info.TargetFrameworks);\r\n                    return append_1(singleton_1((arg_35 = boolToString(crossgen), toText(printf(\"<b>Crossgen (multiple target frameworks)</b>: %s\"))(arg_35))), delay(() => append_1(crossgen ? append_1(singleton_1(\"<b>NOTE: You\\'re using multiple target frameworks. As of now you can\\'t choose which target framework should be used by FSAC. Instead, the first target framework from the list is selected. To change the target framework used by FSAC, simply place it on the first position on the &lt;TargetFrameworks&gt; list.</b>\"), delay(() => append_1(singleton_1(\"For more info see this issue: https://github.com/ionide/ionide-vscode-fsharp/issues/278\"), delay(() => append_1(singleton_1(\"<ul>\"), delay(() => append_1(map((tfm) => toText(printf(\"<li>%s</li>\"))(tfm), info.TargetFrameworks), delay(() => singleton_1(\"</ul>\"))))))))) : empty_1(), delay(() => append_1(singleton_1(\"\"), delay(() => append_1(singleton_1(\"<b>Files</b>:\"), delay(() => append_1(matchValue_16.fields[7].Files, delay(() => append_1(singleton_1(\"\"), delay(() => append_1(singleton_1(\"<b>Project References</b>:\"), delay(() => append_1(projRefs, delay(() => append_1(singleton_1(\"\"), delay(() => append_1(singleton_1(\"<b>Package References</b>:\"), delay(() => append_1(packageRefs, delay(() => append_1(singleton_1(\"\"), delay(() => append_1(singleton_1(\"<b>Resolved References</b>:\"), delay(() => refs_1))))))))))))))))))))))))));\r\n                }))));\r\n            })))))))))))))))))))))))))))))))) : \"Failed to generate status report...\") : \"Failed to generate status report...\")))) : ((matchValue_19.tag === 3) ? ((_path_1 = matchValue_19.fields[0], (error_6 = matchValue_19.fields[1], viewFailed(error_6)))) : ((matchValue_19.tag === 2) ? ((_path_2 = matchValue_19.fields[0], (error_7 = matchValue_19.fields[1], viewFailed(error_7)))) : ((matchValue_19.tag === 4) ? ((_path_3 = matchValue_19.fields[0], \"<b>Status:</b> language not supported\")) : ((_path = matchValue_19.fields[0], \"<b>Status:</b> loading..\")))))) : toText(printf(\"Project \\'%s\\' not found\"))(path_1))))) : ((arg_39 = uri.toString(), toText(printf(\"Requested uri: %s\"))(arg_39)));\r\n        }\r\n    }\r\n    )());\r\n    const arg_41 = workspace.registerTextDocumentContentProvider(\"fsharp-workspace\", wsProvider);\r\n    void (context.subscriptions.push(arg_41));\r\n    const projectStatusCommand = (m_12) => {\r\n        switch (m_12.tag) {\r\n            case 7: {\r\n                ShowStatus_CreateOrShow_Z384F8060(m_12.fields[1], m_12.fields[2]);\r\n                break;\r\n            }\r\n            case 8: {\r\n                ShowStatus_CreateOrShow_Z384F8060(m_12.fields[1], m_12.fields[2]);\r\n                break;\r\n            }\r\n            case 6: {\r\n                ShowStatus_CreateOrShow_Z384F8060(m_12.fields[1], m_12.fields[2]);\r\n                break;\r\n            }\r\n            case 10: {\r\n                ShowStatus_CreateOrShow_Z384F8060(m_12.fields[1], m_12.fields[2]);\r\n                break;\r\n            }\r\n            default:\r\n                0;\r\n        }\r\n    };\r\n    const arg_44 = commands.registerCommand(\"fsharp.explorer.showProjectLoadFailedInfo\", projectStatusCommand);\r\n    void (context.subscriptions.push(arg_44));\r\n    const arg_46 = commands.registerCommand(\"fsharp.explorer.showProjectStatus\", projectStatusCommand);\r\n    void (context.subscriptions.push(arg_46));\r\n    const arg_48 = commands.registerCommand(\"fsharp.explorer.project.debug\", (arg_47) => ((m_13) => {\r\n        if (m_13.tag === 10) {\r\n            return Debugger_buildAndDebug(m_13.fields[7]);\r\n        }\r\n        else {\r\n            return Promise_empty();\r\n        }\r\n    })(arg_47));\r\n    void (context.subscriptions.push(arg_48));\r\n    const arg_50 = commands.registerCommand(\"fsharp.explorer.openProjectFile\", (arg_49) => ((m_15) => {\r\n        let pathOpt;\r\n        const matchValue_25 = m_15;\r\n        pathOpt = ((matchValue_25.tag === 5) ? matchValue_25.fields[1] : ((matchValue_25.tag === 6) ? matchValue_25.fields[1] : ((matchValue_25.tag === 7) ? matchValue_25.fields[1] : ((matchValue_25.tag === 8) ? matchValue_25.fields[1] : ((matchValue_25.tag === 10) ? matchValue_25.fields[1] : void 0)))));\r\n        if (pathOpt == null) {\r\n            return void 0;\r\n        }\r\n        else {\r\n            const path_13 = pathOpt;\r\n            return commands.executeCommand(\"vscode.open\", some(vscode.Uri.file(path_13)));\r\n        }\r\n    })(arg_49));\r\n    void (context.subscriptions.push(arg_50));\r\n    const arg_52 = commands.registerCommand(\"fsharp.explorer.msbuild.build\", (arg_51) => ((m_16) => {\r\n        const matchValue_26 = m_16;\r\n        if (matchValue_26.tag === 10) {\r\n            return buildProjectPath(\"Build\", matchValue_26.fields[7]);\r\n        }\r\n        else {\r\n            return void 0;\r\n        }\r\n    })(arg_51));\r\n    void (context.subscriptions.push(arg_52));\r\n    const arg_54 = commands.registerCommand(\"fsharp.explorer.msbuild.rebuild\", (arg_53) => ((m_17) => {\r\n        const matchValue_27 = m_17;\r\n        if (matchValue_27.tag === 10) {\r\n            return buildProjectPath(\"Rebuild\", matchValue_27.fields[7]);\r\n        }\r\n        else {\r\n            return void 0;\r\n        }\r\n    })(arg_53));\r\n    void (context.subscriptions.push(arg_54));\r\n    const arg_56 = commands.registerCommand(\"fsharp.explorer.msbuild.clean\", (arg_55) => ((m_18) => {\r\n        const matchValue_28 = m_18;\r\n        if (matchValue_28.tag === 10) {\r\n            return buildProjectPath(\"Clean\", matchValue_28.fields[7]);\r\n        }\r\n        else {\r\n            return void 0;\r\n        }\r\n    })(arg_55));\r\n    void (context.subscriptions.push(arg_56));\r\n    const arg_58 = commands.registerCommand(\"fsharp.explorer.msbuild.restore\", (arg_57) => ((m_19) => {\r\n        const matchValue_29 = m_19;\r\n        switch (matchValue_29.tag) {\r\n            case 10: {\r\n                const value_15 = restoreKnownProject(matchValue_29.fields[7]);\r\n                return void 0;\r\n            }\r\n            case 8: {\r\n                const value_16 = restoreProjectAsync(matchValue_29.fields[1]);\r\n                return void 0;\r\n            }\r\n            default:\r\n                return void 0;\r\n        }\r\n    })(arg_57));\r\n    void (context.subscriptions.push(arg_58));\r\n    const arg_60 = commands.registerCommand(\"fsharp.explorer.solution.build\", (arg_59) => ((m_20) => {\r\n        const matchValue_30 = m_20;\r\n        if (matchValue_30.tag === 1) {\r\n            return buildSolution(\"Build\", matchValue_30.fields[1]);\r\n        }\r\n        else {\r\n            return void 0;\r\n        }\r\n    })(arg_59));\r\n    void (context.subscriptions.push(arg_60));\r\n    const arg_62 = commands.registerCommand(\"fsharp.explorer.solution.rebuild\", (arg_61) => ((m_21) => {\r\n        const matchValue_31 = m_21;\r\n        if (matchValue_31.tag === 1) {\r\n            return buildSolution(\"Rebuild\", matchValue_31.fields[1]);\r\n        }\r\n        else {\r\n            return void 0;\r\n        }\r\n    })(arg_61));\r\n    void (context.subscriptions.push(arg_62));\r\n    const arg_64 = commands.registerCommand(\"fsharp.explorer.solution.clean\", (arg_63) => ((m_22) => {\r\n        const matchValue_32 = m_22;\r\n        if (matchValue_32.tag === 1) {\r\n            return buildSolution(\"Clean\", matchValue_32.fields[1]);\r\n        }\r\n        else {\r\n            return void 0;\r\n        }\r\n    })(arg_63));\r\n    void (context.subscriptions.push(arg_64));\r\n    const arg_66 = commands.registerCommand(\"fsharp.explorer.solution.restore\", (arg_65) => ((m_23) => {\r\n        const matchValue_33 = m_23;\r\n        if (matchValue_33.tag === 1) {\r\n            return buildSolution(\"Restore\", matchValue_33.fields[1]);\r\n        }\r\n        else {\r\n            return void 0;\r\n        }\r\n    })(arg_65));\r\n    void (context.subscriptions.push(arg_66));\r\n    const arg_68 = commands.registerCommand(\"fsharp.explorer.project.run\", (arg_67) => ((m_24) => {\r\n        const matchValue_34 = m_24;\r\n        if (matchValue_34.tag === 10) {\r\n            return Debugger_buildAndRun(matchValue_34.fields[7]);\r\n        }\r\n        else {\r\n            return void 0;\r\n        }\r\n    })(arg_67));\r\n    void (context.subscriptions.push(arg_68));\r\n    const arg_70 = commands.registerCommand(\"fsharp.explorer.project.setDefault\", (arg_69) => ((m_25) => {\r\n        const matchValue_35 = m_25;\r\n        if (matchValue_35.tag === 10) {\r\n            const value_22 = Debugger_setDefaultProject(matchValue_35.fields[7]);\r\n            return void 0;\r\n        }\r\n        else {\r\n            return void 0;\r\n        }\r\n    })(arg_69));\r\n    void (context.subscriptions.push(arg_70));\r\n    const arg_72 = commands.registerCommand(\"fsharp.explorer.project.generateFSI\", (arg_71) => ((m_26) => {\r\n        const matchValue_36 = m_26;\r\n        if (matchValue_36.tag === 10) {\r\n            return generateProjectReferencesForProject(matchValue_36.fields[7]);\r\n        }\r\n        else {\r\n            return void 0;\r\n        }\r\n    })(arg_71));\r\n    void (context.subscriptions.push(arg_72));\r\n    const arg_74 = commands.registerCommand(\"fsharp.explorer.project.sendFSI\", (arg_73) => ((m_27) => {\r\n        const matchValue_37 = m_27;\r\n        if (matchValue_37.tag === 10) {\r\n            const value_24 = sendReferencesForProject(matchValue_37.fields[7]);\r\n            return void 0;\r\n        }\r\n        else {\r\n            return void 0;\r\n        }\r\n    })(arg_73));\r\n    void (context.subscriptions.push(arg_74));\r\n    const arg_77 = commands.registerCommand(\"fsharp.explorer.solution.addProject\", (arg_76) => ((m_28) => {\r\n        const matchValue_38 = m_28;\r\n        if (matchValue_38.tag === 1) {\r\n            return PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => {\r\n                const projects = getAll();\r\n                if (length(projects) === 0) {\r\n                    window$.showInformationMessage(\"No projects in workspace that can be added to the solution\", ...defaultOf());\r\n                    return Promise.resolve();\r\n                }\r\n                else {\r\n                    const projs = Array.from(projects);\r\n                    return Promise_PromiseBuilder__PromiseBuilder_Source_Z7741CCC2(promise, window$.showQuickPick(projs)).then((_arg_10) => {\r\n                        const proj_12 = _arg_10;\r\n                        if (proj_12 == null) {\r\n                            return Promise.resolve();\r\n                        }\r\n                        else {\r\n                            const proj_13 = proj_12;\r\n                            execWithDotnet(outputChannel, [\"sln\", matchValue_38.fields[2], \"add\", proj_13]);\r\n                            return Promise.resolve();\r\n                        }\r\n                    });\r\n                }\r\n            }));\r\n        }\r\n        else {\r\n            return void 0;\r\n        }\r\n    })(arg_76));\r\n    void (context.subscriptions.push(arg_77));\r\n}\r\n\r\n//# sourceMappingURL=SolutionExplorer.js.map\r\n","import { Promise_PromiseBuilder__PromiseBuilder_Source_Z7741CCC2, Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B, Promise_onFail } from \"../Core/Utils.js\";\r\nimport { map, bind, defaultArg, value as value_4, some } from \"../fable_modules/fable-library.4.2.2/Option.js\";\r\nimport { printf, toText, join } from \"../fable_modules/fable-library.4.2.2/String.js\";\r\nimport { toString } from \"../fable_modules/fable-library.4.2.2/Types.js\";\r\nimport { Process_onOutput, Process_onError, Process_onErrorOutput } from \"../paket-files/ionide/ionide-vscode-helpers/src/Helpers.js\";\r\nimport * as child_process from \"child_process\";\r\nimport { PromiseBuilder__Delay_62FBFDE1, PromiseBuilder__Run_212F1D4B } from \"../fable_modules/Fable.Promise.3.2.0/Promise.fs.js\";\r\nimport { promise } from \"../fable_modules/Fable.Promise.3.2.0/PromiseImpl.fs.js\";\r\nimport { LanguageService_tryFindDotnet } from \"../Core/LanguageService.js\";\r\nimport { singleton } from \"../fable_modules/fable-library.4.2.2/List.js\";\r\nimport * as path_1 from \"path\";\r\nimport { commands, env, extensions, window as window$, workspace } from \"vscode\";\r\nimport * as vscode_1 from \"vscode\";\r\nimport * as os_1 from \"os\";\r\n\r\nexport function execCommand(path, args) {\r\n    return Promise_onFail((error_2) => {\r\n        console.error(some(\"\\r\\n[\\\"IONIDE-DIAGNOSTICS\\\"]\\r\\nFailed to execute command:\\r\\n- path: %s\\r\\n- args: %s\\r\\nError: %A\\r\\n                \".trim()), path, join(\" \", args), toString(error_2));\r\n    }, new Promise((resolve, reject) => {\r\n        Process_onErrorOutput((e_1) => {\r\n            reject(e_1);\r\n        }, Process_onError((e) => {\r\n            reject(e);\r\n        }, Process_onOutput((buffer) => {\r\n            resolve(buffer.toString());\r\n        }, child_process.spawn(path, Array.from(args)))));\r\n    }));\r\n}\r\n\r\nexport const Templates_header = \"\\r\\n<!-- Please copy/paste this file content into a Github issue -->\\r\\n### Problem\\r\\n\\r\\n<!-- Describe here your problem -->\\r\\n\\r\\n### Steps to reproduce\\r\\n\\r\\n<!-- Add here the steps to reproduce you problem. Example: -->\\r\\n<!-- 1. Open an F# file -->\\r\\n<!-- 2. Ctrl + P > \\\"F# Add Reference\\\" -->\\r\\n            \".trim();\r\n\r\nexport function Templates_machineInfos(os, arch, vscode, uiKind, extension) {\r\n    const txt = toText(printf(\"\\r\\n### Machine infos\\r\\n\\r\\n* Operating system: **%s**\\r\\n* Arch: **%s**\\r\\n* VSCode: **%s**\\r\\n* UI Kind: **%s**\\r\\n* Ionide: **%s**\\r\\n\\r\\n                    \"))(os)(arch)(vscode)(uiKind)(extension);\r\n    return txt.trim();\r\n}\r\n\r\nexport function Templates_netcoreRuntime(dotnetVersion) {\r\n    let txt;\r\n    const arg = dotnetVersion.trim();\r\n    txt = toText(printf(\"\\r\\n* Runtime: **netcore**\\r\\n* Dotnet version: **%s**\\r\\n                    \"))(arg);\r\n    return txt.trim();\r\n}\r\n\r\nexport function getRuntimeInfos() {\r\n    const netcoreInfos = PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => (Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, LanguageService_tryFindDotnet()).then((_arg) => {\r\n        const dotnet = _arg;\r\n        return (dotnet.tag === 1) ? (Promise.resolve(dotnet.fields[0])) : (Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, execCommand(dotnet.fields[0], singleton(\"--version\"))).then((_arg_1) => (Promise.resolve(Templates_netcoreRuntime(_arg_1)))));\r\n    }))));\r\n    const pr = Promise.all([netcoreInfos]);\r\n    return pr.then((strings) => join(\"\\n\", strings));\r\n}\r\n\r\nexport function writeToFile(text) {\r\n    return PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => {\r\n        const path = path_1.join(value_4(workspace.rootPath), \"Diagnostic info\");\r\n        const newFile = vscode_1.Uri.parse(\"untitled:\" + path);\r\n        return Promise_PromiseBuilder__PromiseBuilder_Source_Z7741CCC2(promise, workspace.openTextDocument(newFile)).then((_arg) => {\r\n            const edit = new vscode_1.WorkspaceEdit();\r\n            edit.insert(newFile, new vscode_1.Position(0, 0), text);\r\n            return Promise_PromiseBuilder__PromiseBuilder_Source_Z7741CCC2(promise, workspace.applyEdit(edit)).then((_arg_1) => {\r\n                if (_arg_1) {\r\n                    window$.showTextDocument(_arg);\r\n                    return Promise.resolve();\r\n                }\r\n                else {\r\n                    window$.showErrorMessage(\"Error when printing diagnostic report.\");\r\n                    return Promise.resolve();\r\n                }\r\n            });\r\n        });\r\n    }));\r\n}\r\n\r\nexport function getDiagnosticsInfos() {\r\n    const os = os_1.type();\r\n    const arch = os_1.arch();\r\n    const extension = defaultArg(bind((e) => map((e_1) => e_1.version, e.packageJSON), extensions.getExtension(\"ionide.ionide-fsharp\")), \"unknown\");\r\n    let uiKind;\r\n    const matchValue = env.uiKind | 0;\r\n    uiKind = ((matchValue === 1) ? \"Desktop\" : ((matchValue === 2) ? \"Web\" : \"Unknown\"));\r\n    return PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => (Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, getRuntimeInfos()).then((_arg) => {\r\n        writeToFile(((((Templates_header + \"\\n\\n\") + Templates_machineInfos(os, arch, vscode_1.version, uiKind, extension)) + \"\\n\") + _arg) + \"\\n\");\r\n        return Promise.resolve();\r\n    }))));\r\n}\r\n\r\nexport function activate(context) {\r\n    const arg_1 = commands.registerCommand(\"fsharp.diagnostics.getInfos\", (arg) => (getDiagnosticsInfos)(arg));\r\n    void (context.subscriptions.push(arg_1));\r\n}\r\n\r\n//# sourceMappingURL=Diagnostics.js.map\r\n","import { ofArray, empty, tryFind, isEmpty, map } from \"../fable_modules/fable-library.4.2.2/List.js\";\r\nimport { printf, toText } from \"../fable_modules/fable-library.4.2.2/String.js\";\r\nimport { PromiseBuilder__Delay_62FBFDE1, PromiseBuilder__Run_212F1D4B } from \"../fable_modules/Fable.Promise.3.2.0/Promise.fs.js\";\r\nimport { promise } from \"../fable_modules/Fable.Promise.3.2.0/PromiseImpl.fs.js\";\r\nimport { Document_$007CFSharp$007CCSharp$007CVB$007CFSharpScript$007CMarkdown$007COther$007C, Promise_ofThenable, Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B, Promise_PromiseBuilder__PromiseBuilder_Source_Z7741CCC2 } from \"../Core/Utils.js\";\r\nimport { workspace, commands, window as window$ } from \"vscode\";\r\nimport * as vscode from \"vscode\";\r\nimport { toArray, some, value as value_1, map as map_1 } from \"../fable_modules/fable-library.4.2.2/Option.js\";\r\nimport { equals } from \"../fable_modules/fable-library.4.2.2/Util.js\";\r\nimport { Notifications_onDocumentParsed, LanguageService_signature, LanguageService_fsdn } from \"../Core/LanguageService.js\";\r\nimport { iterate } from \"../fable_modules/fable-library.4.2.2/Seq.js\";\r\n\r\nexport function Fsdn_pickSignature(functions) {\r\n    const matchValue = map((x_1) => {\r\n        let x, item;\r\n        return [(x = x_1, (item = {}, (item.label = x, (item.description = toText(printf(\"Signature: %s\"))(x), item)))), x_1];\r\n    }, functions);\r\n    if (isEmpty(matchValue)) {\r\n        return Promise.resolve(void 0);\r\n    }\r\n    else {\r\n        const projects = matchValue;\r\n        return PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => {\r\n            const opts = {};\r\n            opts.placeHolder = \"Signatures\";\r\n            let chooseFrom;\r\n            const arg_2 = map((tuple) => tuple[0], projects);\r\n            chooseFrom = Array.from(arg_2);\r\n            return Promise_PromiseBuilder__PromiseBuilder_Source_Z7741CCC2(promise, window$.showQuickPick(chooseFrom, opts)).then((_arg) => {\r\n                const chosen = _arg;\r\n                if (chosen == null) {\r\n                    return Promise.resolve(void 0);\r\n                }\r\n                else {\r\n                    const chosen_1 = chosen;\r\n                    const selected = map_1((tuple_1) => tuple_1[1], tryFind((tupledArg) => equals(tupledArg[0], chosen_1), projects));\r\n                    if (selected == null) {\r\n                        return Promise.resolve(void 0);\r\n                    }\r\n                    else {\r\n                        const selected_1 = selected;\r\n                        return Promise.resolve(selected_1);\r\n                    }\r\n                }\r\n            });\r\n        }));\r\n    }\r\n}\r\n\r\nfunction Fsdn_query() {\r\n    return PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => {\r\n        const opts = {};\r\n        opts.prompt = \"Signature\";\r\n        return Promise_PromiseBuilder__PromiseBuilder_Source_Z7741CCC2(promise, window$.showInputBox(opts)).then((_arg) => {\r\n            const signature = _arg;\r\n            if (signature == null) {\r\n                return Promise.resolve(empty());\r\n            }\r\n            else {\r\n                const signature_1 = signature;\r\n                return Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, LanguageService_fsdn(signature_1)).then((_arg_1) => (Promise.resolve(ofArray(_arg_1.Functions))));\r\n            }\r\n        });\r\n    }));\r\n}\r\n\r\nexport function Fsdn_activate(context) {\r\n    const arg_3 = commands.registerCommand(\"fsharp.fsdn\", (_arg) => {\r\n        let pr_1, pr;\r\n        const docUri = value_1(window$.activeTextEditor).document.uri;\r\n        const activeSelection = value_1(window$.activeTextEditor).selection.active;\r\n        const line = activeSelection.line;\r\n        const col = activeSelection.character;\r\n        return some((pr_1 = ((pr = Fsdn_query(), pr.then(Fsdn_pickSignature))), pr_1.then((functionName) => {\r\n            let objectArg, tupledArg;\r\n            if (functionName != null) {\r\n                const name = functionName;\r\n                const edit = new vscode.WorkspaceEdit();\r\n                edit.insert(docUri, (objectArg = vscode.Position, (tupledArg = [line, col], new objectArg(tupledArg[0], tupledArg[1]))), name);\r\n                return Promise_ofThenable(workspace.applyEdit(edit));\r\n            }\r\n            else {\r\n                return Promise.resolve(false);\r\n            }\r\n        })));\r\n    });\r\n    void (context.subscriptions.push(arg_3));\r\n}\r\n\r\nlet QuickInfo_StatusDisplay_item = void 0;\r\n\r\nfunction QuickInfo_StatusDisplay_hideItem() {\r\n    iterate((n) => {\r\n        n.hide();\r\n    }, toArray(QuickInfo_StatusDisplay_item));\r\n}\r\n\r\nfunction QuickInfo_StatusDisplay_showItem(text, tooltip) {\r\n    value_1(QuickInfo_StatusDisplay_item).text = text;\r\n    value_1(QuickInfo_StatusDisplay_item).tooltip = tooltip;\r\n    value_1(QuickInfo_StatusDisplay_item).show();\r\n}\r\n\r\nfunction QuickInfo_StatusDisplay_activate(context) {\r\n    const newItem = window$.createStatusBarItem(1, -10);\r\n    QuickInfo_StatusDisplay_item = newItem;\r\n    void (context.subscriptions.push(newItem));\r\n}\r\n\r\nfunction QuickInfo_StatusDisplay_isFsharpTextEditor(textEditor) {\r\n    if (((textEditor != undefined)) && ((textEditor.document != undefined))) {\r\n        const doc = textEditor.document;\r\n        let matchResult;\r\n        const activePatternResult = Document_$007CFSharp$007CCSharp$007CVB$007CFSharpScript$007CMarkdown$007COther$007C(doc);\r\n        switch (activePatternResult.tag) {\r\n            case 0:\r\n            case 3: {\r\n                matchResult = 0;\r\n                break;\r\n            }\r\n            default:\r\n                matchResult = 1;\r\n        }\r\n        switch (matchResult) {\r\n            case 0:\r\n                return true;\r\n            default:\r\n                return false;\r\n        }\r\n    }\r\n    else {\r\n        return false;\r\n    }\r\n}\r\n\r\nfunction QuickInfo_StatusDisplay_getOverloadSignature(textEditor, selections) {\r\n    return PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => {\r\n        if (QuickInfo_StatusDisplay_isFsharpTextEditor(textEditor) && (selections.length > 0)) {\r\n            const doc = textEditor.document;\r\n            const pos = selections[0].active;\r\n            return Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, LanguageService_signature(doc.uri, ~~pos.line, ~~pos.character)).then((_arg) => (Promise.resolve(map_1((o_1) => o_1.Data, _arg))));\r\n        }\r\n        else {\r\n            return Promise.resolve(void 0);\r\n        }\r\n    }));\r\n}\r\n\r\nfunction QuickInfo_StatusDisplay_update(textEditor, selections) {\r\n    PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => (Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, QuickInfo_StatusDisplay_getOverloadSignature(textEditor, selections)).then((_arg) => {\r\n        const signature = _arg;\r\n        if (signature != null) {\r\n            const signature_1 = signature;\r\n            QuickInfo_StatusDisplay_showItem(signature_1, signature_1);\r\n            return Promise.resolve();\r\n        }\r\n        else {\r\n            QuickInfo_StatusDisplay_hideItem();\r\n            return Promise.resolve();\r\n        }\r\n    }))));\r\n}\r\n\r\nfunction QuickInfo_StatusDisplay_clear() {\r\n    QuickInfo_StatusDisplay_update(void 0, []);\r\n}\r\n\r\nlet QuickInfo_timer = void 0;\r\n\r\nfunction QuickInfo_clearTimer() {\r\n    if (QuickInfo_timer != null) {\r\n        const t = QuickInfo_timer;\r\n        clearTimeout(t);\r\n        QuickInfo_timer = void 0;\r\n    }\r\n}\r\n\r\nfunction QuickInfo_selectionChanged(event) {\r\n    QuickInfo_clearTimer();\r\n    QuickInfo_timer = (setTimeout((() => {\r\n        QuickInfo_StatusDisplay_update(event.textEditor, event.selections);\r\n    }), 500));\r\n}\r\n\r\nfunction QuickInfo_textEditorChanged(_textEditor) {\r\n    QuickInfo_clearTimer();\r\n    QuickInfo_StatusDisplay_clear();\r\n}\r\n\r\nfunction QuickInfo_documentParsedHandler(event) {\r\n    if (equals(event.document, value_1(window$.activeTextEditor).document)) {\r\n        QuickInfo_clearTimer();\r\n        QuickInfo_StatusDisplay_update(value_1(window$.activeTextEditor), value_1(window$.activeTextEditor).selections);\r\n    }\r\n}\r\n\r\nexport function QuickInfo_activate(context) {\r\n    QuickInfo_StatusDisplay_activate(context);\r\n    const item = window$.onDidChangeTextEditorSelection((arg) => ((event) => {\r\n        QuickInfo_selectionChanged(event);\r\n    })(arg));\r\n    void (context.subscriptions.push(item));\r\n    const item_1 = window$.onDidChangeActiveTextEditor((arg_1) => ((_textEditor) => {\r\n        QuickInfo_textEditorChanged(_textEditor);\r\n    })(arg_1));\r\n    void (context.subscriptions.push(item_1));\r\n    const item_2 = Notifications_onDocumentParsed((arg_2) => ((event_1) => {\r\n        QuickInfo_documentParsedHandler(event_1);\r\n    })(arg_2));\r\n    void (context.subscriptions.push(item_2));\r\n}\r\n\r\n//# sourceMappingURL=QuickInfo.js.map\r\n","import { Configuration_get } from \"../Core/Utils.js\";\r\nimport { workspace, window as window$, languages } from \"vscode\";\r\n\r\nlet reference = void 0;\r\n\r\nexport const indentationRules = {\r\n    increaseIndentPattern: /^(\\s*(module|type|let|static member|member)\\b.*=\\s*)$|^(\\s*(with get|and set)\\b.*=.*)$|^(\\s*(if|elif|then|else|static member|member)).*$/gu,\r\n    decreaseIndentPattern: /^(\\s*(else|elif|and)).*$/gu,\r\n};\r\n\r\nexport function setLanguageConfiguration(triggerNotification) {\r\n    const config = {\r\n        onEnterRules: [{\r\n            action: {\r\n                indentAction: 0,\r\n                appendText: \"/// \",\r\n            },\r\n            beforeText: /^\\s*\\/{3}.*$/gu,\r\n        }],\r\n    };\r\n    const activateSmartIndent = Configuration_get(false, \"FSharp.smartIndent\");\r\n    if (activateSmartIndent) {\r\n        config.indentationRules = indentationRules;\r\n    }\r\n    if (reference == null) {\r\n    }\r\n    else {\r\n        const oldReference = reference;\r\n        oldReference.dispose();\r\n    }\r\n    const disp = languages.setLanguageConfiguration(\"fsharp\", config);\r\n    reference = disp;\r\n    if (triggerNotification) {\r\n        const msg = activateSmartIndent ? \"Smart indent has been activated for F#\" : \"Smart indent has been deactivated for F#\";\r\n        window$.showInformationMessage(msg);\r\n    }\r\n}\r\n\r\nexport function onDidChangeConfiguration(ev) {\r\n    setLanguageConfiguration(ev.affectsConfiguration(\"FSharp.smartIndent\"));\r\n}\r\n\r\nexport function activate(context) {\r\n    workspace.onDidChangeConfiguration(((ev) => {\r\n        onDidChangeConfiguration(ev);\r\n    }), void 0, context.subscriptions);\r\n    setLanguageConfiguration(false);\r\n}\r\n\r\n//# sourceMappingURL=LanguageConfiguration.js.map\r\n","import { Union } from \"../fable-library.4.2.2/Types.js\";\r\nimport { union_type } from \"../fable-library.4.2.2/Reflection.js\";\r\nimport { ofArray } from \"../fable-library.4.2.2/List.js\";\r\n\r\nexport class AttributeType extends Union {\r\n    constructor(tag, fields) {\r\n        super();\r\n        this.tag = tag;\r\n        this.fields = fields;\r\n    }\r\n    cases() {\r\n        return [\"String\", \"Int\", \"Float\", \"Obj\", \"Func\", \"Bool\"];\r\n    }\r\n}\r\n\r\nexport function AttributeType_$reflection() {\r\n    return union_type(\"HtmlConverter.References.AttributeType\", [], AttributeType, () => [[], [], [], [], [], []]);\r\n}\r\n\r\nexport const attributes = ofArray([[\"OnCut\", \"onCut\", new AttributeType(4, [])], [\"OnPaste\", \"onPaste\", new AttributeType(4, [])], [\"OnCompositionEnd\", \"onCompositionEnd\", new AttributeType(4, [])], [\"OnCompositionStart\", \"onCompositionStart\", new AttributeType(4, [])], [\"OnCopy\", \"onCopy\", new AttributeType(4, [])], [\"OnCompositionUpdate\", \"onCompositionUpdate\", new AttributeType(4, [])], [\"OnFocus\", \"onFocus\", new AttributeType(4, [])], [\"OnBlur\", \"onBlur\", new AttributeType(4, [])], [\"OnChange\", \"onChange\", new AttributeType(4, [])], [\"OnInput\", \"onInput\", new AttributeType(4, [])], [\"OnSubmit\", \"onSubmit\", new AttributeType(4, [])], [\"OnLoad\", \"onLoad\", new AttributeType(4, [])], [\"OnError\", \"onError\", new AttributeType(4, [])], [\"OnKeyDown\", \"onKeyDown\", new AttributeType(4, [])], [\"OnKeyPress\", \"onKeyPress\", new AttributeType(4, [])], [\"OnKeyUp\", \"onKeyUp\", new AttributeType(4, [])], [\"OnAbort\", \"onAbort\", new AttributeType(4, [])], [\"OnCanPlay\", \"onCanPlay\", new AttributeType(4, [])], [\"OnCanPlayThrough\", \"onCanPlayThrough\", new AttributeType(4, [])], [\"OnDurationChange\", \"onDurationChange\", new AttributeType(4, [])], [\"OnEmptied\", \"onEmptied\", new AttributeType(4, [])], [\"OnEncrypted\", \"onEncrypted\", new AttributeType(4, [])], [\"OnEnded\", \"onEnded\", new AttributeType(4, [])], [\"OnLoadedData\", \"onLoadedData\", new AttributeType(4, [])], [\"OnLoadedMetadata\", \"onLoadedMetadata\", new AttributeType(4, [])], [\"OnLoadStart\", \"onLoadStart\", new AttributeType(4, [])], [\"OnPause\", \"onPause\", new AttributeType(4, [])], [\"OnPlay\", \"onPlay\", new AttributeType(4, [])], [\"OnPlaying\", \"onPlaying\", new AttributeType(4, [])], [\"OnProgress\", \"onProgress\", new AttributeType(4, [])], [\"OnRateChange\", \"onRateChange\", new AttributeType(4, [])], [\"OnSeeked\", \"onSeeked\", new AttributeType(4, [])], [\"OnSeeking\", \"onSeeking\", new AttributeType(4, [])], [\"OnStalled\", \"onStalled\", new AttributeType(4, [])], [\"OnSuspend\", \"onSuspend\", new AttributeType(4, [])], [\"OnTimeUpdate\", \"onTimeUpdate\", new AttributeType(4, [])], [\"OnVolumeChange\", \"onVolumeChange\", new AttributeType(4, [])], [\"OnWaiting\", \"onWaiting\", new AttributeType(4, [])], [\"OnClick\", \"onClick\", new AttributeType(4, [])], [\"OnContextMenu\", \"onContextMenu\", new AttributeType(4, [])], [\"OnDoubleClick\", \"onDoubleClick\", new AttributeType(4, [])], [\"OnDrag\", \"onDrag\", new AttributeType(4, [])], [\"OnDragEnd\", \"onDragEnd\", new AttributeType(4, [])], [\"OnDragEnter\", \"onDragEnter\", new AttributeType(4, [])], [\"OnDragExit\", \"onDragExit\", new AttributeType(4, [])], [\"OnDragLeave\", \"onDragLeave\", new AttributeType(4, [])], [\"OnDragOver\", \"onDragOver\", new AttributeType(4, [])], [\"OnDragStart\", \"onDragStart\", new AttributeType(4, [])], [\"OnDrop\", \"onDrop\", new AttributeType(4, [])], [\"OnMouseDown\", \"onMouseDown\", new AttributeType(4, [])], [\"OnMouseEnter\", \"onMouseEnter\", new AttributeType(4, [])], [\"OnMouseLeave\", \"onMouseLeave\", new AttributeType(4, [])], [\"OnMouseMove\", \"onMouseMove\", new AttributeType(4, [])], [\"OnMouseOut\", \"onMouseOut\", new AttributeType(4, [])], [\"OnMouseOver\", \"onMouseOver\", new AttributeType(4, [])], [\"OnMouseUp\", \"onMouseUp\", new AttributeType(4, [])], [\"OnSelect\", \"onSelect\", new AttributeType(4, [])], [\"OnTouchCancel\", \"onTouchCancel\", new AttributeType(4, [])], [\"OnTouchEnd\", \"onTouchEnd\", new AttributeType(4, [])], [\"OnTouchMove\", \"onTouchMove\", new AttributeType(4, [])], [\"OnTouchStart\", \"onTouchStart\", new AttributeType(4, [])], [\"OnScroll\", \"onScroll\", new AttributeType(4, [])], [\"OnWheel\", \"onWheel\", new AttributeType(4, [])], [\"OnAnimationStart\", \"onAnimationStart\", new AttributeType(4, [])], [\"OnAnimationEnd\", \"onAnimationEnd\", new AttributeType(4, [])], [\"OnAnimationIteration\", \"onAnimationIteration\", new AttributeType(4, [])], [\"OnTransitionEnd\", \"onTransitionEnd\", new AttributeType(4, [])], [\"DefaultChecked\", \"defaultChecked\", new AttributeType(5, [])], [\"DefaultValue\", \"defaultValue\", new AttributeType(0, [])], [\"Accept\", \"accept\", new AttributeType(0, [])], [\"AcceptCharset\", \"acceptCharset\", new AttributeType(0, [])], [\"AccessKey\", \"accessKey\", new AttributeType(0, [])], [\"Action\", \"action\", new AttributeType(0, [])], [\"AllowFullScreen\", \"allowFullScreen\", new AttributeType(5, [])], [\"AllowTransparency\", \"allowTransparency\", new AttributeType(5, [])], [\"Alt\", \"alt\", new AttributeType(0, [])], [\"AriaHasPopup\", \"aria-haspopup\", new AttributeType(5, [])], [\"AriaExpanded\", \"aria-expanded\", new AttributeType(5, [])], [\"Async\", \"async\", new AttributeType(5, [])], [\"AutoComplete\", \"autoComplete\", new AttributeType(0, [])], [\"AutoFocus\", \"autoFocus\", new AttributeType(5, [])], [\"AutoPlay\", \"autoPlay\", new AttributeType(5, [])], [\"Capture\", \"capture\", new AttributeType(5, [])], [\"CellPadding\", \"cellPadding\", new AttributeType(3, [])], [\"CellSpacing\", \"cellSpacing\", new AttributeType(3, [])], [\"CharSet\", \"charSet\", new AttributeType(0, [])], [\"Challenge\", \"challenge\", new AttributeType(0, [])], [\"Checked\", \"checked\", new AttributeType(5, [])], [\"ClassID\", \"classID\", new AttributeType(0, [])], [\"ClassName\", \"className\", new AttributeType(0, [])], [\"Class\", \"class\", new AttributeType(0, [])], [\"Cols\", \"cols\", new AttributeType(2, [])], [\"ColSpan\", \"colSpan\", new AttributeType(2, [])], [\"Content\", \"content\", new AttributeType(0, [])], [\"ContentEditable\", \"contentEditable\", new AttributeType(5, [])], [\"ContextMenu\", \"contextMenu\", new AttributeType(0, [])], [\"Controls\", \"controls\", new AttributeType(5, [])], [\"Coords\", \"coords\", new AttributeType(0, [])], [\"CrossOrigin\", \"crossOrigin\", new AttributeType(0, [])], [\"DataToggle\", \"data-toggle\", new AttributeType(0, [])], [\"DateTime\", \"dateTime\", new AttributeType(0, [])], [\"Default\", \"default\", new AttributeType(5, [])], [\"Defer\", \"defer\", new AttributeType(5, [])], [\"Dir\", \"dir\", new AttributeType(0, [])], [\"Disabled\", \"disabled\", new AttributeType(5, [])], [\"Download\", \"download\", new AttributeType(3, [])], [\"Draggable\", \"draggable\", new AttributeType(5, [])], [\"EncType\", \"encType\", new AttributeType(0, [])], [\"Form\", \"form\", new AttributeType(0, [])], [\"FormAction\", \"formAction\", new AttributeType(0, [])], [\"FormEncType\", \"formEncType\", new AttributeType(0, [])], [\"FormMethod\", \"formMethod\", new AttributeType(0, [])], [\"FormNoValidate\", \"formNoValidate\", new AttributeType(5, [])], [\"FormTarget\", \"formTarget\", new AttributeType(0, [])], [\"FrameBorder\", \"frameBorder\", new AttributeType(3, [])], [\"Headers\", \"headers\", new AttributeType(0, [])], [\"Height\", \"height\", new AttributeType(3, [])], [\"Hidden\", \"hidden\", new AttributeType(5, [])], [\"High\", \"high\", new AttributeType(2, [])], [\"Href\", \"href\", new AttributeType(0, [])], [\"HrefLang\", \"hrefLang\", new AttributeType(0, [])], [\"HtmlFor\", \"htmlFor\", new AttributeType(0, [])], [\"HttpEquiv\", \"httpEquiv\", new AttributeType(0, [])], [\"Icon\", \"icon\", new AttributeType(0, [])], [\"Id\", \"id\", new AttributeType(0, [])], [\"InputMode\", \"inputMode\", new AttributeType(0, [])], [\"Integrity\", \"integrity\", new AttributeType(0, [])], [\"Is\", \"is\", new AttributeType(0, [])], [\"KeyParams\", \"keyParams\", new AttributeType(0, [])], [\"KeyType\", \"keyType\", new AttributeType(0, [])], [\"Kind\", \"kind\", new AttributeType(0, [])], [\"Label\", \"label\", new AttributeType(0, [])], [\"Lang\", \"lang\", new AttributeType(0, [])], [\"List\", \"list\", new AttributeType(0, [])], [\"Loop\", \"loop\", new AttributeType(5, [])], [\"Low\", \"low\", new AttributeType(2, [])], [\"Manifest\", \"manifest\", new AttributeType(0, [])], [\"MarginHeight\", \"marginHeight\", new AttributeType(2, [])], [\"MarginWidth\", \"marginWidth\", new AttributeType(2, [])], [\"Max\", \"max\", new AttributeType(3, [])], [\"MaxLength\", \"maxLength\", new AttributeType(2, [])], [\"Media\", \"media\", new AttributeType(0, [])], [\"MediaGroup\", \"mediaGroup\", new AttributeType(0, [])], [\"Method\", \"method\", new AttributeType(0, [])], [\"Min\", \"min\", new AttributeType(3, [])], [\"MinLength\", \"minLength\", new AttributeType(2, [])], [\"Multiple\", \"multiple\", new AttributeType(5, [])], [\"Muted\", \"muted\", new AttributeType(5, [])], [\"Name\", \"name\", new AttributeType(0, [])], [\"NoValidate\", \"noValidate\", new AttributeType(5, [])], [\"Open\", \"open\", new AttributeType(5, [])], [\"Optimum\", \"pptimum\", new AttributeType(2, [])], [\"Pattern\", \"pattern\", new AttributeType(0, [])], [\"Placeholder\", \"placeholder\", new AttributeType(0, [])], [\"Poster\", \"poster\", new AttributeType(0, [])], [\"Preload\", \"preload\", new AttributeType(0, [])], [\"RadioGroup\", \"radioGroup\", new AttributeType(0, [])], [\"ReadOnly\", \"readOnly\", new AttributeType(5, [])], [\"Rel\", \"rel\", new AttributeType(0, [])], [\"Required\", \"required\", new AttributeType(5, [])], [\"Role\", \"role\", new AttributeType(0, [])], [\"Rows\", \"rows\", new AttributeType(2, [])], [\"RowSpan\", \"rowSpan\", new AttributeType(2, [])], [\"Sandbox\", \"sandbox\", new AttributeType(0, [])], [\"Scope\", \"scope\", new AttributeType(0, [])], [\"Scoped\", \"scoped\", new AttributeType(5, [])], [\"Scrolling\", \"scrolling\", new AttributeType(0, [])], [\"Seamless\", \"seamless\", new AttributeType(5, [])], [\"Selected\", \"selected\", new AttributeType(5, [])], [\"Shape\", \"shape\", new AttributeType(0, [])], [\"Size\", \"size\", new AttributeType(2, [])], [\"Sizes\", \"sizes\", new AttributeType(0, [])], [\"Span\", \"span\", new AttributeType(2, [])], [\"SpellCheck\", \"spellCheck\", new AttributeType(5, [])], [\"Src\", \"src\", new AttributeType(0, [])], [\"SrcDoc\", \"srcDoc\", new AttributeType(0, [])], [\"SrcLang\", \"srcLang\", new AttributeType(0, [])], [\"SrcSet\", \"srcSet\", new AttributeType(0, [])], [\"Start\", \"start\", new AttributeType(2, [])], [\"Step\", \"step\", new AttributeType(3, [])], [\"Summary\", \"summary\", new AttributeType(0, [])], [\"TabIndex\", \"tabIndex\", new AttributeType(2, [])], [\"Target\", \"target\", new AttributeType(0, [])], [\"Title\", \"title\", new AttributeType(0, [])], [\"Type\", \"type\", new AttributeType(0, [])], [\"UseMap\", \"useMap\", new AttributeType(0, [])], [\"Value\", \"value\", new AttributeType(0, [])], [\"Width\", \"width\", new AttributeType(3, [])], [\"Wmode\", \"wmode\", new AttributeType(0, [])], [\"Wrap\", \"wrap\", new AttributeType(0, [])], [\"About\", \"about\", new AttributeType(0, [])], [\"Datatype\", \"datatype\", new AttributeType(0, [])], [\"Inlist\", \"inlist\", new AttributeType(3, [])], [\"Prefix\", \"prefix\", new AttributeType(0, [])], [\"Property\", \"property\", new AttributeType(0, [])], [\"Resource\", \"resource\", new AttributeType(0, [])], [\"Typeof\", \"typeof\", new AttributeType(0, [])], [\"Vocab\", \"vocab\", new AttributeType(0, [])], [\"AutoCapitalize\", \"autoCapitalize\", new AttributeType(0, [])], [\"AutoCorrect\", \"autoCorrect\", new AttributeType(0, [])], [\"AutoSave\", \"autoSave\", new AttributeType(0, [])], [\"ItemProp\", \"itemProp\", new AttributeType(0, [])], [\"ItemScope\", \"itemScope\", new AttributeType(5, [])], [\"ItemType\", \"itemType\", new AttributeType(0, [])], [\"ItemID\", \"itemID\", new AttributeType(0, [])], [\"ItemRef\", \"itemRef\", new AttributeType(0, [])], [\"Results\", \"results\", new AttributeType(2, [])], [\"Security\", \"security\", new AttributeType(0, [])], [\"Unselectable\", \"unselectable\", new AttributeType(5, [])]]);\r\n\r\nexport const cssProps = [\"AlignContent\", \"AlignItems\", \"AlignSelf\", \"AlignmentAdjust\", \"AlignmentBaseline\", \"All\", \"Animation\", \"AnimationDelay\", \"AnimationDirection\", \"AnimationDuration\", \"AnimationFillMode\", \"AnimationIterationCount\", \"AnimationName\", \"AnimationPlayState\", \"AnimationTimingFunction\", \"Appearance\", \"BackfaceVisibility\", \"Background\", \"BackgroundAttachment\", \"BackgroundBlendMode\", \"BackgroundClip\", \"BackgroundColor\", \"BackgroundComposite\", \"BackgroundImage\", \"BackgroundOrigin\", \"BackgroundPosition\", \"BackgroundPositionX\", \"BackgroundPositionY\", \"BackgroundRepeat\", \"BackgroundSize\", \"BaselineShift\", \"Behavior\", \"BlockSize\", \"Border\", \"BorderBlockEnd\", \"BorderBlockEndColor\", \"BorderBlockEndStyle\", \"BorderBlockEndWidth\", \"BorderBlockStart\", \"BorderBlockStartColor\", \"BorderBlockStartStyle\", \"BorderBlockStartWidth\", \"BorderBottom\", \"BorderBottomColor\", \"BorderBottomLeftRadius\", \"BorderBottomRightRadius\", \"BorderBottomStyle\", \"BorderBottomWidth\", \"BorderCollapse\", \"BorderColor\", \"BorderCornerShape\", \"BorderImage\", \"BorderImageOutset\", \"BorderImageRepeat\", \"BorderImageSlice\", \"BorderImageSource\", \"BorderImageWidth\", \"BorderInlineEnd\", \"BorderInlineEndColor\", \"BorderInlineEndStyle\", \"BorderInlineEndWidth\", \"BorderInlineStart\", \"BorderInlineStartColor\", \"BorderInlineStartStyle\", \"BorderInlineStartWidth\", \"BorderLeft\", \"BorderLeftColor\", \"BorderLeftStyle\", \"BorderLeftWidth\", \"BorderRadius\", \"BorderRight\", \"BorderRightColor\", \"BorderRightStyle\", \"BorderRightWidth\", \"BorderSpacing\", \"BorderStyle\", \"BorderTop\", \"BorderTopColor\", \"BorderTopLeftRadius\", \"BorderTopRightRadius\", \"BorderTopStyle\", \"BorderTopWidth\", \"BorderWidth\", \"Bottom\", \"BoxAlign\", \"BoxDecorationBreak\", \"BoxDirection\", \"BoxFlex\", \"BoxFlexGroup\", \"BoxLineProgression\", \"BoxLines\", \"BoxOrdinalGroup\", \"BoxShadow\", \"BoxSizing\", \"BreakAfter\", \"BreakBefore\", \"BreakInside\", \"CaptionSide\", \"CaretColor\", \"Clear\", \"Clip\", \"ClipPath\", \"ClipRule\", \"Color\", \"ColorInterpolation\", \"ColorInterpolationFilters\", \"ColorProfile\", \"ColorRendering\", \"ColumnCount\", \"ColumnFill\", \"ColumnGap\", \"ColumnRule\", \"ColumnRuleColor\", \"ColumnRuleStyle\", \"ColumnRuleWidth\", \"ColumnSpan\", \"ColumnWidth\", \"Columns\", \"Content\", \"CounterIncrement\", \"CounterReset\", \"Cue\", \"CueAfter\", \"Cursor\", \"Direction\", \"Display\", \"DominantBaseline\", \"EmptyCells\", \"EnableBackground\", \"Fill\", \"FillOpacity\", \"FillRule\", \"Filter\", \"Flex\", \"FlexAlign\", \"FlexBasis\", \"FlexDirection\", \"FlexFlow\", \"FlexGrow\", \"FlexItemAlign\", \"FlexLinePack\", \"FlexOrder\", \"FlexShrink\", \"FlexWrap\", \"Float\", \"FloodColor\", \"FloodOpacity\", \"FlowFrom\", \"Font\", \"FontFamily\", \"FontFeatureSettings\", \"FontKerning\", \"FontLanguageOverride\", \"FontSize\", \"FontSizeAdjust\", \"FontStretch\", \"FontStyle\", \"FontSynthesis\", \"FontVariant\", \"FontVariantAlternates\", \"FontVariantCaps\", \"FontVariantEastAsian\", \"FontVariantLigatures\", \"FontVariantNumeric\", \"FontVariantPosition\", \"FontWeight\", \"GlyphOrientationHorizontal\", \"GlyphOrientationVertical\", \"Grid\", \"GridArea\", \"GridAutoColumns\", \"GridAutoFlow\", \"GridAutoRows\", \"GridColumn\", \"GridColumnEnd\", \"GridColumnGap\", \"GridColumnStart\", \"GridGap\", \"GridRow\", \"GridRowEnd\", \"GridRowGap\", \"GridRowPosition\", \"GridRowSpan\", \"GridRowStart\", \"GridTemplate\", \"GridTemplateAreas\", \"GridTemplateColumns\", \"GridTemplateRows\", \"HangingPunctuation\", \"Height\", \"HyphenateLimitChars\", \"HyphenateLimitLines\", \"HyphenateLimitZone\", \"Hyphens\", \"ImageOrientation\", \"ImageRendering\", \"ImageResolution\", \"ImeMode\", \"InlineSize\", \"Isolation\", \"JustifyContent\", \"Kerning\", \"LayoutGrid\", \"LayoutGridChar\", \"LayoutGridLine\", \"LayoutGridMode\", \"LayoutGridType\", \"Left\", \"LetterSpacing\", \"LightingColor\", \"LineBreak\", \"LineClamp\", \"LineHeight\", \"ListStyle\", \"ListStyleImage\", \"ListStylePosition\", \"ListStyleType\", \"Margin\", \"MarginBlockEnd\", \"MarginBlockStart\", \"MarginBottom\", \"MarginInlineEnd\", \"MarginInlineStart\", \"MarginLeft\", \"MarginRight\", \"MarginTop\", \"MarkerEnd\", \"MarkerMid\", \"MarkerStart\", \"MarqueeDirection\", \"MarqueeStyle\", \"Mask\", \"MaskBorder\", \"MaskBorderRepeat\", \"MaskBorderSlice\", \"MaskBorderSource\", \"MaskBorderWidth\", \"MaskClip\", \"MaskComposite\", \"MaskImage\", \"MaskMode\", \"MaskOrigin\", \"MaskPosition\", \"MaskRepeat\", \"MaskSize\", \"MaskType\", \"MaxFontSize\", \"MaxHeight\", \"MaxWidth\", \"MinBlockSize\", \"MinHeight\", \"MinInlineSize\", \"MinWidth\", \"MixBlendMode\", \"ObjectFit\", \"ObjectPosition\", \"OffsetBlockEnd\", \"OffsetBlockStart\", \"OffsetInlineEnd\", \"OffsetInlineStart\", \"Opacity\", \"Order\", \"Orphans\", \"Outline\", \"OutlineColor\", \"OutlineOffset\", \"OutlineStyle\", \"OutlineWidth\", \"Overflow\", \"OverflowStyle\", \"OverflowWrap\", \"OverflowX\", \"OverflowY\", \"Padding\", \"PaddingBlockEnd\", \"PaddingBlockStart\", \"PaddingBottom\", \"PaddingInlineEnd\", \"PaddingInlineStart\", \"PaddingLeft\", \"PaddingRight\", \"PaddingTop\", \"PageBreakAfter\", \"PageBreakBefore\", \"PageBreakInside\", \"Pause\", \"PauseAfter\", \"PauseBefore\", \"Perspective\", \"PerspectiveOrigin\", \"PointerEvents\", \"Position\", \"PunctuationTrim\", \"Quotes\", \"RegionFragment\", \"Resize\", \"RestAfter\", \"RestBefore\", \"Right\", \"RubyAlign\", \"RubyMerge\", \"RubyPosition\", \"ScrollBehavior\", \"ScrollSnapCoordinate\", \"ScrollSnapDestination\", \"ScrollSnapType\", \"ShapeImageThreshold\", \"ShapeInside\", \"ShapeMargin\", \"ShapeOutside\", \"ShapeRendering\", \"Speak\", \"SpeakAs\", \"StopColor\", \"StopOpacity\", \"Stroke\", \"StrokeDasharray\", \"StrokeDashoffset\", \"StrokeLinecap\", \"StrokeLinejoin\", \"StrokeMiterlimit\", \"StrokeOpacity\", \"StrokeWidth\", \"TabSize\", \"TableLayout\", \"TextAlign\", \"TextAlignLast\", \"TextAnchor\", \"TextCombineUpright\", \"TextDecoration\", \"TextDecorationColor\", \"TextDecorationLine\", \"TextDecorationLineThrough\", \"TextDecorationNone\", \"TextDecorationOverline\", \"TextDecorationSkip\", \"TextDecorationStyle\", \"TextDecorationUnderline\", \"TextEmphasis\", \"TextEmphasisColor\", \"TextEmphasisPosition\", \"TextEmphasisStyle\", \"TextHeight\", \"TextIndent\", \"TextJustify\", \"TextJustifyTrim\", \"TextKashidaSpace\", \"TextLineThrough\", \"TextLineThroughColor\", \"TextLineThroughMode\", \"TextLineThroughStyle\", \"TextLineThroughWidth\", \"TextOrientation\", \"TextOverflow\", \"TextOverline\", \"TextOverlineColor\", \"TextOverlineMode\", \"TextOverlineStyle\", \"TextOverlineWidth\", \"TextRendering\", \"TextScript\", \"TextShadow\", \"TextTransform\", \"TextUnderlinePosition\", \"TextUnderlineStyle\", \"Top\", \"TouchAction\", \"Transform\", \"TransformBox\", \"TransformOrigin\", \"TransformOriginZ\", \"TransformStyle\", \"Transition\", \"TransitionDelay\", \"TransitionDuration\", \"TransitionProperty\", \"TransitionTimingFunction\", \"UnicodeBidi\", \"UnicodeRange\", \"UserFocus\", \"UserInput\", \"VerticalAlign\", \"Visibility\", \"VoiceBalance\", \"VoiceDuration\", \"VoiceFamily\", \"VoicePitch\", \"VoiceRange\", \"VoiceRate\", \"VoiceStress\", \"VoiceVolume\", \"WhiteSpace\", \"WhiteSpaceTreatment\", \"Widows\", \"Width\", \"WillChange\", \"WordBreak\", \"WordSpacing\", \"WordWrap\", \"WrapFlow\", \"WrapMargin\", \"WrapOption\", \"WritingMode\", \"ZIndex\", \"Zoom\"];\r\n\r\n//# sourceMappingURL=References.fs.js.map\r\n","import { isNullOrEmpty, trimEnd, isNullOrWhiteSpace, join, substring, printf, toFail, replicate } from \"../fable-library.4.2.2/String.js\";\r\nimport { contains as contains_1, mapIndexed as mapIndexed_1, length, ofArray, tryFind, map } from \"../fable-library.4.2.2/List.js\";\r\nimport { cssProps, AttributeType, attributes as attributes_4 } from \"./References.fs.js\";\r\nimport { last, contains, equalsWith, map as map_1, mapIndexed } from \"../fable-library.4.2.2/Array.js\";\r\nimport { equalArrays, stringHash, defaultOf } from \"../fable-library.4.2.2/Util.js\";\r\nimport { string, keyValuePairs, fromValue } from \"../Thoth.Json.7.0.0/Decode.fs.js\";\r\nimport { tryGetValue } from \"../fable-library.4.2.2/MapUtil.js\";\r\nimport { FSharpRef } from \"../fable-library.4.2.2/Types.js\";\r\nimport * as htmlparser2 from \"htmlparser2\";\r\n\r\nexport function indent(depth) {\r\n    return replicate(depth * 4, \" \");\r\n}\r\n\r\nexport function escapeValue(typ, value) {\r\n    switch (typ.tag) {\r\n        case 4:\r\n            return \"(fun _ -> ())\";\r\n        case 2:\r\n            if (value.indexOf(\".\") >= 0) {\r\n                return value;\r\n            }\r\n            else {\r\n                return value + \".\";\r\n            }\r\n        case 5:\r\n            switch (value) {\r\n                case \"true\":\r\n                    return \"true\";\r\n                case \"false\":\r\n                    return \"false\";\r\n                default:\r\n                    return toFail(printf(\"`%s` is not a valid bool value\"))(value);\r\n            }\r\n        case 3:\r\n        case 1:\r\n            return value;\r\n        default:\r\n            return (\"\\\"\" + value) + \"\\\"\";\r\n    }\r\n}\r\n\r\nexport function String_suffix(suf, s) {\r\n    return s + suf;\r\n}\r\n\r\nexport function String_prefix(pre, s) {\r\n    return pre + s;\r\n}\r\n\r\nexport const indentationSize = 4;\r\n\r\nexport function attributesToString(currentRow, attributes) {\r\n    return map((tupledArg) => {\r\n        let array;\r\n        const key = tupledArg[0];\r\n        const value = tupledArg[1];\r\n        const _arg_2 = tryFind((tupledArg_1) => (key.toLocaleLowerCase() === tupledArg_1[1].toLocaleLowerCase()), attributes_4);\r\n        if (_arg_2 == null) {\r\n            if (key.indexOf(\"data-\") >= 0) {\r\n                return (((\"HTMLAttr.Data (\\\"\" + substring(key, \"data-\".length)) + \"\\\", \") + escapeValue(new AttributeType(0, []), value)) + \")\";\r\n            }\r\n            else if (key === \"style\") {\r\n                return String_suffix(\" ]\", String_prefix(\"Style [ \", join(\"\\n\", mapIndexed((index, str_1) => {\r\n                    if (index === 0) {\r\n                        return str_1;\r\n                    }\r\n                    else {\r\n                        return (replicate(currentRow.lastIndexOf(\"[\") + 2, \" \") + replicate(\"Style [ \".length, \" \")) + str_1;\r\n                    }\r\n                }, map_1((style) => {\r\n                    const matchValue = style.split(\":\");\r\n                    if (!equalsWith((x, y) => (x === y), matchValue, defaultOf()) && (matchValue.length === 2)) {\r\n                        const styleValue = matchValue[1];\r\n                        const styleProp = matchValue[0];\r\n                        const styleProp_1 = styleProp.trim();\r\n                        const styleValue_1 = styleValue.trim();\r\n                        const stylePropPascalCase = join(\"\", map_1((str) => (str.slice(void 0, 0 + 1).toUpperCase() + str.slice(1, str.length)), styleProp_1.split(\"-\")));\r\n                        if (contains(stylePropPascalCase, cssProps, {\r\n                            Equals: (x_1, y_1) => (x_1 === y_1),\r\n                            GetHashCode: stringHash,\r\n                        })) {\r\n                            return (stylePropPascalCase + \" \") + escapeValue(new AttributeType(0, []), styleValue_1);\r\n                        }\r\n                        else {\r\n                            return (((\"CSSProp.Custom (\\\"\" + styleProp_1) + \"\\\", \") + escapeValue(new AttributeType(0, []), styleValue_1)) + \")\";\r\n                        }\r\n                    }\r\n                    else {\r\n                        return String_prefix(\"invalid_css: \", join(\":\", matchValue));\r\n                    }\r\n                }, (array = value.split(\";\"), array.filter((arg_1) => !isNullOrWhiteSpace(arg_1))))))));\r\n            }\r\n            else {\r\n                return (((\"HTMLAttr.Custom (\\\"\" + key) + \"\\\", \") + escapeValue(new AttributeType(0, []), value)) + \")\";\r\n            }\r\n        }\r\n        else {\r\n            return (_arg_2[0] + \" \") + escapeValue(_arg_2[2], value);\r\n        }\r\n    }, attributes);\r\n}\r\n\r\nconst voidElements = ofArray([\"area\", \"base\", \"br\", \"col\", \"embed\", \"hr\", \"img\", \"input\", \"keygen\", \"link\", \"menuitem\", \"meta\", \"param\", \"source\", \"track\", \"wbr\"]);\r\n\r\nexport function countFirstOccurenceSize(getStr, chkdChar) {\r\n    const loop = (i_mut, count_mut) => {\r\n        loop:\r\n        while (true) {\r\n            const i = i_mut, count = count_mut;\r\n            if (i < getStr.length) {\r\n                if (getStr[i] === chkdChar) {\r\n                    i_mut = (i + 1);\r\n                    count_mut = (count + 1);\r\n                    continue loop;\r\n                }\r\n                else {\r\n                    return count | 0;\r\n                }\r\n            }\r\n            else {\r\n                return count | 0;\r\n            }\r\n            break;\r\n        }\r\n    };\r\n    return loop(0, 0) | 0;\r\n}\r\n\r\nexport function htmlToElmish(htmlCode) {\r\n    let fsharpCode = \"\";\r\n    let depth = -1;\r\n    const context = new Map([]);\r\n    const handler = {};\r\n    handler.onopentag = ((name, attributes) => {\r\n        let outArg;\r\n        let attributes_2;\r\n        const matchValue = fromValue(\"$\", (path_1, value_1) => keyValuePairs(string, path_1, value_1), attributes);\r\n        if (matchValue.tag === 1) {\r\n            throw new Error(matchValue.fields[0]);\r\n        }\r\n        else {\r\n            attributes_2 = matchValue.fields[0];\r\n        }\r\n        depth = ((depth + 1) | 0);\r\n        if (equalArrays((outArg = false, [tryGetValue(context, depth, new FSharpRef(() => outArg, (v) => {\r\n            outArg = v;\r\n        })), outArg]), [true, true])) {\r\n            fsharpCode = (((fsharpCode + \"\\n\") + indent(depth)) + \" \");\r\n        }\r\n        else {\r\n            context.set(depth, true);\r\n        }\r\n        if (depth !== 0) {\r\n            fsharpCode = (fsharpCode + \" \");\r\n        }\r\n        const lastRow = last(fsharpCode.split(\"\\n\"));\r\n        const trimed = lastRow.trim();\r\n        if ((trimed.indexOf(\"[\") === 0) && (trimed.length !== 1)) {\r\n            fsharpCode = trimEnd(fsharpCode);\r\n            fsharpCode = ((fsharpCode + \"\\n\") + replicate(countFirstOccurenceSize(lastRow, \" \") + 2, \" \"));\r\n        }\r\n        fsharpCode = (fsharpCode + name);\r\n        fsharpCode = (fsharpCode + \" [\");\r\n        if (length(attributes_2) > 0) {\r\n            const attrs = String_suffix(\" \", join(\"\\n\", mapIndexed_1((index, attr) => {\r\n                if (index === 0) {\r\n                    return \" \" + attr;\r\n                }\r\n                else {\r\n                    const lastRow_1 = last(fsharpCode.split(\"\\n\"));\r\n                    return replicate(lastRow_1.lastIndexOf(\"[\") + 2, \" \") + attr;\r\n                }\r\n            }, attributesToString(last(fsharpCode.split(\"\\n\")), attributes_2))));\r\n            fsharpCode = (fsharpCode + attrs);\r\n        }\r\n        else {\r\n            fsharpCode = (fsharpCode + \" \");\r\n        }\r\n        fsharpCode = (fsharpCode + \"]\");\r\n        if (!contains_1(name, voidElements, {\r\n            Equals: (x, y) => (x === y),\r\n            GetHashCode: stringHash,\r\n        })) {\r\n            fsharpCode = (((fsharpCode + \"\\n\") + indent(depth + 1)) + \"[\");\r\n        }\r\n    });\r\n    handler.ontext = ((rawText) => {\r\n        const text = rawText.trim();\r\n        if (!isNullOrWhiteSpace(text)) {\r\n            const lastRow_2 = last(fsharpCode.split(\"\\n\"));\r\n            const trimed_1 = lastRow_2.trim();\r\n            if (!isNullOrEmpty(trimed_1)) {\r\n                fsharpCode = trimEnd(fsharpCode);\r\n                if ((trimed_1.indexOf(\"[\") === 0) && (trimed_1.length === 1)) {\r\n                    fsharpCode = (fsharpCode + \" \");\r\n                }\r\n                else if ((trimed_1.indexOf(\"[\") === 0) && (trimed_1.length !== 1)) {\r\n                    fsharpCode = ((fsharpCode + \"\\n\") + replicate(countFirstOccurenceSize(lastRow_2, \" \") + 2, \" \"));\r\n                }\r\n                else {\r\n                    fsharpCode = ((fsharpCode + \"\\n\") + replicate(countFirstOccurenceSize(lastRow_2, \" \"), \" \"));\r\n                }\r\n            }\r\n            if (text.length > 0) {\r\n                fsharpCode = (((fsharpCode + \"str \\\"\") + text) + \"\\\"\");\r\n            }\r\n        }\r\n    });\r\n    handler.onclosetag = ((name_1) => {\r\n        let outArg_1;\r\n        if (equalArrays((outArg_1 = false, [tryGetValue(context, depth + 1, new FSharpRef(() => outArg_1, (v_1) => {\r\n            outArg_1 = v_1;\r\n        })), outArg_1]), [true, true])) {\r\n            context.delete(depth + 1);\r\n        }\r\n        depth = ((depth - 1) | 0);\r\n        if (!contains_1(name_1, voidElements, {\r\n            Equals: (x_1, y_1) => (x_1 === y_1),\r\n            GetHashCode: stringHash,\r\n        })) {\r\n            fsharpCode = (fsharpCode + \" ]\");\r\n        }\r\n    });\r\n    const parser = new htmlparser2.Parser(handler);\r\n    parser.write(htmlCode);\r\n    return fsharpCode;\r\n}\r\n\r\n//# sourceMappingURL=Converter.fs.js.map\r\n","import { value } from \"../fable_modules/fable-library.4.2.2/Option.js\";\r\nimport { commands, window as window$ } from \"vscode\";\r\nimport { Promise_ofThenable } from \"../Core/Utils.js\";\r\nimport { htmlToElmish } from \"../fable_modules/Fable.HtmlConverter.2.1.0/Converter.fs.js\";\r\n\r\nexport function convert() {\r\n    const editor = value(window$.activeTextEditor);\r\n    const selectedText = editor.document.getText(editor.selection);\r\n    if (selectedText.length === 0) {\r\n        const pr = Promise_ofThenable(window$.showWarningMessage(\"No selection found, please select some HTML text and try again.\"));\r\n        return pr.then((_arg) => false);\r\n    }\r\n    else {\r\n        return Promise_ofThenable(editor.edit((builder) => {\r\n            builder.replace(editor.selection, htmlToElmish(selectedText));\r\n        }));\r\n    }\r\n}\r\n\r\nexport function activate(context) {\r\n    const arg_1 = commands.registerCommand(\"fsharp.htmlConverter.convert\", (arg) => (convert)(arg));\r\n    void (context.subscriptions.push(arg_1));\r\n}\r\n\r\n//# sourceMappingURL=HtmlConverter.js.map\r\n","import { Configuration_get, Context_set, Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B, String_split, Utils_isNotNull, Document_$007CFSharp$007CCSharp$007CVB$007CFSharpScript$007CMarkdown$007COther$007C } from \"../Core/Utils.js\";\r\nimport * as showdown from \"showdown\";\r\nimport { equals, comparePrimitives, stringHash, createAtom } from \"../fable_modules/fable-library.4.2.2/Util.js\";\r\nimport { exists, empty, singleton, append, delay, toArray as toArray_1, iterate } from \"../fable_modules/fable-library.4.2.2/Seq.js\";\r\nimport { isNullOrWhiteSpace, join, printf, toText } from \"../fable_modules/fable-library.4.2.2/String.js\";\r\nimport { value as value_7, some, bind, toArray } from \"../fable_modules/fable-library.4.2.2/Option.js\";\r\nimport { List_distinct } from \"../fable_modules/fable-library.4.2.2/Seq2.js\";\r\nimport { sort, filter } from \"../fable_modules/fable-library.4.2.2/List.js\";\r\nimport { PromiseBuilder__Delay_62FBFDE1, PromiseBuilder__Run_212F1D4B } from \"../fable_modules/Fable.Promise.3.2.0/Promise.fs.js\";\r\nimport { promise } from \"../fable_modules/Fable.Promise.3.2.0/PromiseImpl.fs.js\";\r\nimport { Notifications_tooltipRequested, Notifications_onDocumentParsed, LanguageService_documentationForSymbol, LanguageService_documentation } from \"../Core/LanguageService.js\";\r\nimport { commands, window as window$ } from \"vscode\";\r\n\r\nfunction isFsharpTextEditor(textEditor) {\r\n    if (((textEditor != undefined)) && ((textEditor.document != undefined))) {\r\n        const doc = textEditor.document;\r\n        let matchResult;\r\n        const activePatternResult = Document_$007CFSharp$007CCSharp$007CVB$007CFSharpScript$007CMarkdown$007COther$007C(doc);\r\n        switch (activePatternResult.tag) {\r\n            case 0:\r\n            case 3: {\r\n                matchResult = 0;\r\n                break;\r\n            }\r\n            default:\r\n                matchResult = 1;\r\n        }\r\n        switch (matchResult) {\r\n            case 0:\r\n                return true;\r\n            default:\r\n                return false;\r\n        }\r\n    }\r\n    else {\r\n        return false;\r\n    }\r\n}\r\n\r\nexport const Panel_showdownOptions = showdown.getDefaultOptions();\r\n\r\nPanel_showdownOptions.tables = true;\r\n\r\nexport const Panel_showdown = new showdown.Converter(Panel_showdownOptions);\r\n\r\nexport let Panel_panel = createAtom(void 0);\r\n\r\nexport let Panel_locked = createAtom(false);\r\n\r\nexport function Panel_setContent(str) {\r\n    iterate((p) => {\r\n        const str_1 = Panel_showdown.makeHtml(str);\r\n        const str_2 = toText(printf(\"\\r\\n                    <html>\\r\\n                    <head>\\r\\n                    <meta http-equiv=\\\"Content-Security-Policy\\\" content=\\\"default-src \\'none\\'; style-src \\'unsafe-inline\\';\\\">\\r\\n                    <style>\\r\\n                    pre {\\r\\n                      color: var(--vscode-editor-foreground);\\r\\n                      font-family: var(--vscode-editor-font-family);\\r\\n                      font-weight: var(--vscode-editor-font-weight);\\r\\n                      font-size: var(--vscode-editor-font-size);\\r\\n                    }\\r\\n                    code {\\r\\n                      font-family: var(--vscode-editor-font-family);\\r\\n                      font-weight: var(--vscode-editor-font-weight);\\r\\n                      font-size: var(--vscode-editor-font-size);\\r\\n                    }\\r\\n                    </style>\\r\\n                    </head>\\r\\n                    <body>\\r\\n                    %s\\r\\n                    </body>\\r\\n                    </html>\\r\\n                    \"))(str_1);\r\n        p.webview.html = str_2;\r\n    }, toArray(Panel_panel()));\r\n}\r\n\r\nexport function Panel_clear() {\r\n    iterate((p) => {\r\n        p.webview.html = \"\";\r\n    }, toArray(Panel_panel()));\r\n}\r\n\r\nexport function Panel_mapContent(res) {\r\n    let array;\r\n    if (Utils_isNotNull(res)) {\r\n        const res_1 = res.Data;\r\n        const fsharpBlock = (lines) => {\r\n            const cnt = join(\"\\n\", lines);\r\n            if (isNullOrWhiteSpace(cnt)) {\r\n                return \"\";\r\n            }\r\n            else {\r\n                return toText(printf(\"<pre>\\n%s\\n</pre>\"))(cnt);\r\n            }\r\n        };\r\n        const sigContent = fsharpBlock((array = String_split([\"\\n\"], res_1.Signature), array.filter((arg_2) => !isNullOrWhiteSpace(arg_2))));\r\n        const commentContent = res_1.Comment;\r\n        const footerContent = join(\"\\n\\n\", res_1.FooterLines);\r\n        const ctors = fsharpBlock(List_distinct(filter((arg_5) => !isNullOrWhiteSpace(arg_5), res_1.Constructors), {\r\n            Equals: (x, y) => (x === y),\r\n            GetHashCode: stringHash,\r\n        }));\r\n        const intfs = fsharpBlock(sort(List_distinct(filter((arg_8) => !isNullOrWhiteSpace(arg_8), res_1.Interfaces), {\r\n            Equals: (x_1, y_1) => (x_1 === y_1),\r\n            GetHashCode: stringHash,\r\n        }), {\r\n            Compare: comparePrimitives,\r\n        }));\r\n        const attrs = fsharpBlock(sort(List_distinct(filter((arg_11) => !isNullOrWhiteSpace(arg_11), res_1.Attributes), {\r\n            Equals: (x_3, y_3) => (x_3 === y_3),\r\n            GetHashCode: stringHash,\r\n        }), {\r\n            Compare: comparePrimitives,\r\n        }));\r\n        const fncs = fsharpBlock(List_distinct(filter((arg_14) => !isNullOrWhiteSpace(arg_14), res_1.Functions), {\r\n            Equals: (x_5, y_5) => (x_5 === y_5),\r\n            GetHashCode: stringHash,\r\n        }));\r\n        const fields = fsharpBlock(List_distinct(filter((arg_17) => !isNullOrWhiteSpace(arg_17), res_1.Fields), {\r\n            Equals: (x_6, y_6) => (x_6 === y_6),\r\n            GetHashCode: stringHash,\r\n        }));\r\n        const types = fsharpBlock(List_distinct(filter((arg_20) => !isNullOrWhiteSpace(arg_20), res_1.DeclaredTypes), {\r\n            Equals: (x_7, y_7) => (x_7 === y_7),\r\n            GetHashCode: stringHash,\r\n        }));\r\n        return join(\"\\n\", toArray_1(delay(() => append(singleton(sigContent), delay(() => append(!isNullOrWhiteSpace(commentContent) ? append(singleton(\"---\"), delay(() => append(singleton(commentContent), delay(() => singleton(\"\\n\"))))) : empty(), delay(() => append(!isNullOrWhiteSpace(types) ? append(singleton(\"---\"), delay(() => append(singleton(\"#### Declared Types\"), delay(() => append(singleton(types), delay(() => singleton(\"\\n\"))))))) : empty(), delay(() => append(!isNullOrWhiteSpace(attrs) ? append(singleton(\"---\"), delay(() => append(singleton(\"#### Attributes\"), delay(() => append(singleton(attrs), delay(() => singleton(\"\\n\"))))))) : empty(), delay(() => append(!isNullOrWhiteSpace(intfs) ? append(singleton(\"---\"), delay(() => append(singleton(\"#### Implemented Interfaces\"), delay(() => append(singleton(intfs), delay(() => singleton(\"\\n\"))))))) : empty(), delay(() => append(!isNullOrWhiteSpace(ctors) ? append(singleton(\"---\"), delay(() => append(singleton(\"#### Constructors\"), delay(() => append(singleton(ctors), delay(() => singleton(\"\\n\"))))))) : empty(), delay(() => append(!isNullOrWhiteSpace(fncs) ? append(singleton(\"---\"), delay(() => append(singleton(\"#### Functions\"), delay(() => append(singleton(fncs), delay(() => singleton(\"\\n\"))))))) : empty(), delay(() => append(!isNullOrWhiteSpace(fields) ? append(singleton(\"---\"), delay(() => append(singleton(\"#### Fields\"), delay(() => append(singleton(fields), delay(() => singleton(\"\\n\"))))))) : empty(), delay(() => (!isNullOrWhiteSpace(footerContent) ? append(singleton(\"---\"), delay(() => singleton(footerContent))) : empty()))))))))))))))))))));\r\n    }\r\n    else {\r\n        return void 0;\r\n    }\r\n}\r\n\r\nexport function Panel_update(textEditor, selections) {\r\n    PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => {\r\n        if ((isFsharpTextEditor(textEditor) && (selections.length > 0)) && (Panel_panel() != null)) {\r\n            const doc = textEditor.document;\r\n            const pos = selections[0].active;\r\n            return Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, LanguageService_documentation(doc.uri, ~~pos.line, ~~pos.character)).then((_arg) => {\r\n                iterate((str) => {\r\n                    Panel_setContent(str);\r\n                }, toArray(bind(Panel_mapContent, _arg)));\r\n                return Promise.resolve();\r\n            });\r\n        }\r\n        else {\r\n            return Promise.resolve(void 0);\r\n        }\r\n    }));\r\n}\r\n\r\nexport function Panel_update$0027(textEditor, pos) {\r\n    PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => {\r\n        if (isFsharpTextEditor(textEditor) && (Panel_panel() != null)) {\r\n            const doc = textEditor.document;\r\n            return Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, LanguageService_documentation(doc.uri, ~~pos.line, ~~pos.character)).then((_arg) => {\r\n                iterate((str) => {\r\n                    Panel_setContent(str);\r\n                }, toArray(bind(Panel_mapContent, _arg)));\r\n                return Promise.resolve();\r\n            });\r\n        }\r\n        else {\r\n            return Promise.resolve(void 0);\r\n        }\r\n    }));\r\n}\r\n\r\nexport function Panel_updateOnLink(xmlSig, assemblyName) {\r\n    return PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => (Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, LanguageService_documentationForSymbol(xmlSig, assemblyName)).then((_arg) => {\r\n        iterate((str) => {\r\n            Panel_setContent(str);\r\n        }, toArray(bind(Panel_mapContent, _arg)));\r\n        return Promise.resolve();\r\n    }))));\r\n}\r\n\r\nlet timer = void 0;\r\n\r\nfunction clearTimer() {\r\n    if (timer != null) {\r\n        const t = timer;\r\n        clearTimeout(t);\r\n        timer = void 0;\r\n    }\r\n}\r\n\r\nfunction openPanel() {\r\n    return PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => {\r\n        if (Panel_panel() == null) {\r\n            const opts = {\r\n                enableCommandUris: true,\r\n                enableFindWidget: true,\r\n                retainContextWhenHidden: true,\r\n            };\r\n            const viewOpts = {\r\n                preserveFocus: true,\r\n                viewColumn: -2,\r\n            };\r\n            const p_1 = window$.createWebviewPanel(\"infoPanel\", \"Info Panel\", viewOpts, some(opts));\r\n            p_1.onDidChangeViewState((event) => {\r\n                Context_set(\"infoPanelFocused\", event.webviewPanel.active);\r\n            });\r\n            p_1.onDidDispose(() => {\r\n                clearTimer();\r\n                Panel_panel(void 0);\r\n            });\r\n            Panel_panel(p_1);\r\n            const textEditor = value_7(window$.activeTextEditor);\r\n            const selection = textEditor.selections;\r\n            if (!Panel_locked()) {\r\n                Panel_update(textEditor, selection);\r\n            }\r\n            return Promise.resolve();\r\n        }\r\n        else {\r\n            const p = Panel_panel();\r\n            p.reveal(-2, true);\r\n            return Promise.resolve();\r\n        }\r\n    }));\r\n}\r\n\r\nfunction updatePanel() {\r\n    if (Panel_panel() == null) {\r\n        openPanel();\r\n    }\r\n    else {\r\n        const textEditor = value_7(window$.activeTextEditor);\r\n        Panel_update(textEditor, textEditor.selections);\r\n    }\r\n}\r\n\r\nfunction showDocumentation(o) {\r\n    return PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => (((Panel_panel() == null) ? (Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, openPanel()).then(() => (Promise.resolve(void 0)))) : (Promise.resolve())).then(() => PromiseBuilder__Delay_62FBFDE1(promise, () => (Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, Panel_updateOnLink(o.XmlDocSig, o.AssemblyName)).then(() => (Promise.resolve(void 0)))))))));\r\n}\r\n\r\nfunction selectionChanged(event) {\r\n    const updateMode = Configuration_get(\"onCursorMove\", \"FSharp.infoPanelUpdate\");\r\n    if (!Panel_locked() && ((updateMode === \"onCursorMove\") ? true : (updateMode === \"both\"))) {\r\n        clearTimer();\r\n        timer = (setTimeout((() => {\r\n            Panel_update(event.textEditor, event.selections);\r\n        }), 500));\r\n    }\r\n}\r\n\r\nfunction documentParsedHandler(event) {\r\n    if (equals(event.document, value_7(window$.activeTextEditor).document) && !Panel_locked()) {\r\n        clearTimer();\r\n        Panel_update(value_7(window$.activeTextEditor), value_7(window$.activeTextEditor).selections);\r\n    }\r\n}\r\n\r\nexport function tooltipRequested(pos) {\r\n    const updateMode = Configuration_get(\"onCursorMove\", \"FSharp.infoPanelUpdate\");\r\n    if ((updateMode === \"onHover\") ? true : (updateMode === \"both\")) {\r\n        clearTimer();\r\n        timer = (setTimeout((() => {\r\n            Panel_update$0027(value_7(window$.activeTextEditor), pos);\r\n        }), 500));\r\n    }\r\n}\r\n\r\nexport function lockPanel() {\r\n    Panel_locked(true);\r\n    Context_set(\"infoPanelLocked\", true);\r\n}\r\n\r\nexport function unlockPanel() {\r\n    Panel_locked(false);\r\n    Context_set(\"infoPanelLocked\", false);\r\n}\r\n\r\nexport function activate(context) {\r\n    const startLocked = Configuration_get(false, \"FSharp.infoPanelStartLocked\");\r\n    const show = Configuration_get(false, \"FSharp.infoPanelShowOnStartup\");\r\n    const item = window$.onDidChangeTextEditorSelection((arg_2) => {\r\n        let value;\r\n        return some((value = selectionChanged(arg_2), void 0));\r\n    });\r\n    void (context.subscriptions.push(item));\r\n    const item_1 = Notifications_onDocumentParsed((arg_5) => {\r\n        let value_1;\r\n        return some((value_1 = documentParsedHandler(arg_5), void 0));\r\n    });\r\n    void (context.subscriptions.push(item_1));\r\n    const item_2 = Notifications_tooltipRequested((arg_8) => {\r\n        let value_2;\r\n        return some((value_2 = tooltipRequested(arg_8), void 0));\r\n    });\r\n    void (context.subscriptions.push(item_2));\r\n    const arg_10 = commands.registerCommand(\"fsharp.openInfoPanel\", (arg_9) => (openPanel)(arg_9));\r\n    void (context.subscriptions.push(arg_10));\r\n    const arg_12 = commands.registerCommand(\"fsharp.updateInfoPanel\", (arg_11) => (() => {\r\n        updatePanel();\r\n    })(arg_11));\r\n    void (context.subscriptions.push(arg_12));\r\n    const arg_14 = commands.registerCommand(\"fsharp.openInfoPanel.lock\", (arg_13) => (() => {\r\n        lockPanel();\r\n    })(arg_13));\r\n    void (context.subscriptions.push(arg_14));\r\n    const arg_16 = commands.registerCommand(\"fsharp.openInfoPanel.unlock\", (arg_15) => (() => {\r\n        unlockPanel();\r\n    })(arg_15));\r\n    void (context.subscriptions.push(arg_16));\r\n    const arg_18 = commands.registerCommand(\"fsharp.showDocumentation\", (arg_17) => (showDocumentation)(arg_17));\r\n    void (context.subscriptions.push(arg_18));\r\n    if (startLocked) {\r\n        Panel_locked(true);\r\n    }\r\n    if (show && exists(isFsharpTextEditor, window$.visibleTextEditors)) {\r\n        openPanel();\r\n    }\r\n}\r\n\r\n//# sourceMappingURL=InfoPanel.js.map\r\n","import { ConsoleAndOutputChannelLogger__Debug_Z17053F5, Level, ConsoleAndOutputChannelLogger_$ctor_Z565F02F0 } from \"../Core/Logging.js\";\r\nimport * as path from \"path\";\r\nimport { some, value as value_1 } from \"../fable_modules/fable-library.4.2.2/Option.js\";\r\nimport { window as window$, workspace } from \"vscode\";\r\nimport { Union } from \"../fable_modules/fable-library.4.2.2/Types.js\";\r\nimport { union_type, list_type, string_type } from \"../fable_modules/fable-library.4.2.2/Reflection.js\";\r\nimport { remove, contains, toList, ofSeq } from \"../fable_modules/fable-library.4.2.2/Set.js\";\r\nimport { comparePrimitives } from \"../fable_modules/fable-library.4.2.2/Util.js\";\r\nimport { fold } from \"../fable_modules/fable-library.4.2.2/Array.js\";\r\nimport { join, trim } from \"../fable_modules/fable-library.4.2.2/String.js\";\r\nimport { Configuration_get, Message_choice, Promise_PromiseBuilder__PromiseBuilder_Source_Z7741CCC2, Configuration_set, Configuration_setGlobal, String_split } from \"../Core/Utils.js\";\r\nimport * as fs from \"fs\";\r\nimport { isEmpty, singleton } from \"../fable_modules/fable-library.4.2.2/List.js\";\r\nimport { PromiseBuilder__Delay_62FBFDE1, PromiseBuilder__Run_212F1D4B } from \"../fable_modules/Fable.Promise.3.2.0/Promise.fs.js\";\r\nimport { promise } from \"../fable_modules/Fable.Promise.3.2.0/PromiseImpl.fs.js\";\r\n\r\nexport const GITIGNORE_KEY = \"FSharp.suggestGitignore\";\r\n\r\nconst logger = ConsoleAndOutputChannelLogger_$ctor_Z565F02F0(\"GitIgnore\", new Level(0, []), void 0, new Level(0, []));\r\n\r\nexport function gitignorePath() {\r\n    return path.join(value_1(workspace.workspaceFolders)[0].uri.fsPath, \".gitignore\");\r\n}\r\n\r\nexport class GitignoreCheckResult extends Union {\r\n    constructor(tag, fields) {\r\n        super();\r\n        this.tag = tag;\r\n        this.fields = fields;\r\n    }\r\n    cases() {\r\n        return [\"FileNotFound\", \"MissingPatterns\"];\r\n    }\r\n}\r\n\r\nexport function GitignoreCheckResult_$reflection() {\r\n    return union_type(\"Ionide.VSCode.FSharp.Gitignore.GitignoreCheckResult\", [], GitignoreCheckResult, () => [[], [[\"Item\", list_type(string_type)]]]);\r\n}\r\n\r\nexport function checkGitignore(patterns) {\r\n    const patterns_1 = ofSeq(patterns, {\r\n        Compare: comparePrimitives,\r\n    });\r\n    try {\r\n        ConsoleAndOutputChannelLogger__Debug_Z17053F5(logger, \"gitignore path:\", gitignorePath());\r\n        return new GitignoreCheckResult(1, [toList(fold((notFoundPats, line) => {\r\n            const line_1 = trim(line, \"\\t\", \" \", \"/\", \"\\\\\");\r\n            if (contains(line_1, notFoundPats)) {\r\n                return remove(line_1, notFoundPats);\r\n            }\r\n            else {\r\n                return notFoundPats;\r\n            }\r\n        }, patterns_1, String_split([\"\\n\", \"\\r\"], fs.readFileSync(gitignorePath(), \"utf8\"))))]);\r\n    }\r\n    catch (ex) {\r\n        ConsoleAndOutputChannelLogger__Debug_Z17053F5(logger, \"Error accessing gitignore file\", ex);\r\n        return new GitignoreCheckResult(0, []);\r\n    }\r\n}\r\n\r\nexport function writePatternsToGitignore(patterns) {\r\n    const data = join(\"\\n\", patterns);\r\n    fs.appendFileSync(gitignorePath(), \"\\n\" + data, some(\"utf8\"));\r\n}\r\n\r\nexport function disablePromptGlobally() {\r\n    return Configuration_setGlobal(GITIGNORE_KEY, some(false));\r\n}\r\n\r\nexport function disablePromptForProject() {\r\n    return Configuration_set(GITIGNORE_KEY, some(false));\r\n}\r\n\r\nexport const patternsToIgnore = singleton(\".fake\");\r\n\r\nexport function checkForPatternsAndPromptUser() {\r\n    return PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => {\r\n        const matchValue = checkGitignore(patternsToIgnore);\r\n        if (matchValue.tag === 1) {\r\n            if (isEmpty(matchValue.fields[0])) {\r\n                return Promise.resolve();\r\n            }\r\n            else {\r\n                return Promise_PromiseBuilder__PromiseBuilder_Source_Z7741CCC2(promise, window$.showInformationMessage(\"You are missing entries in your .gitignore for Ionide-specific data files. Would you like to add them?\", Message_choice(\"Add entries\"), Message_choice(\"Ignore\"), Message_choice(\"Don\\'t show again\"))).then((_arg) => {\r\n                    let arg0__2, arg0__1, arg0_;\r\n                    const choice = _arg;\r\n                    let matchResult;\r\n                    if (choice != null) {\r\n                        if (((((arg0_ = choice, arg0_.title)) === \"Add entries\") ? some(void 0) : void 0) != null) {\r\n                            matchResult = 0;\r\n                        }\r\n                        else {\r\n                            matchResult = 1;\r\n                        }\r\n                    }\r\n                    else {\r\n                        matchResult = 1;\r\n                    }\r\n                    switch (matchResult) {\r\n                        case 0: {\r\n                            writePatternsToGitignore(matchValue.fields[0]);\r\n                            return Promise.resolve();\r\n                        }\r\n                        default: {\r\n                            let matchResult_1;\r\n                            if (choice != null) {\r\n                                if (((((arg0__1 = choice, arg0__1.title)) === \"Ignore\") ? some(void 0) : void 0) != null) {\r\n                                    matchResult_1 = 0;\r\n                                }\r\n                                else {\r\n                                    matchResult_1 = 1;\r\n                                }\r\n                            }\r\n                            else {\r\n                                matchResult_1 = 1;\r\n                            }\r\n                            switch (matchResult_1) {\r\n                                case 0:\r\n                                    return Promise_PromiseBuilder__PromiseBuilder_Source_Z7741CCC2(promise, disablePromptForProject()).then(() => (Promise.resolve(void 0)));\r\n                                default: {\r\n                                    let matchResult_2;\r\n                                    if (choice != null) {\r\n                                        if (((((arg0__2 = choice, arg0__2.title)) === \"Don\\'t show again\") ? some(void 0) : void 0) != null) {\r\n                                            matchResult_2 = 0;\r\n                                        }\r\n                                        else {\r\n                                            matchResult_2 = 1;\r\n                                        }\r\n                                    }\r\n                                    else {\r\n                                        matchResult_2 = 1;\r\n                                    }\r\n                                    switch (matchResult_2) {\r\n                                        case 0:\r\n                                            return Promise_PromiseBuilder__PromiseBuilder_Source_Z7741CCC2(promise, disablePromptGlobally()).then(() => (Promise.resolve(void 0)));\r\n                                        default: {\r\n                                            return Promise.resolve();\r\n                                        }\r\n                                    }\r\n                                }\r\n                            }\r\n                        }\r\n                    }\r\n                });\r\n            }\r\n        }\r\n        else {\r\n            return Promise.resolve();\r\n        }\r\n    }));\r\n}\r\n\r\nexport function activate(_context) {\r\n    if (Configuration_get(true, GITIGNORE_KEY)) {\r\n        checkForPatternsAndPromptUser();\r\n    }\r\n}\r\n\r\n//# sourceMappingURL=Gitignore.js.map\r\n","import { union_type, class_type } from \"../fable_modules/fable-library.4.2.2/Reflection.js\";\r\nimport { DOMParser } from \"xmldom\";\r\nimport { Union } from \"../fable_modules/fable-library.4.2.2/Types.js\";\r\nimport * as xpath_2 from \"xpath\";\r\nimport { isNullOrWhiteSpace } from \"../fable_modules/fable-library.4.2.2/String.js\";\r\n\r\nexport class XmlDoc_XmlNode {\r\n    constructor() {\r\n    }\r\n}\r\n\r\nexport function XmlDoc_XmlNode_$reflection() {\r\n    return class_type(\"Ionide.VSCode.FSharp.Import.XmlDoc.XmlNode\", void 0, XmlDoc_XmlNode);\r\n}\r\n\r\nexport class XmlDoc_XmlDoc {\r\n    constructor() {\r\n    }\r\n}\r\n\r\nexport function XmlDoc_XmlDoc_$reflection() {\r\n    return class_type(\"Ionide.VSCode.FSharp.Import.XmlDoc.XmlDoc\", void 0, XmlDoc_XmlDoc, XmlDoc_XmlNode_$reflection());\r\n}\r\n\r\nexport const XmlDoc_dom = DOMParser;\r\n\r\nexport function XmlDoc_mkDoc(xmlContent) {\r\n    return new XmlDoc_dom().parseFromString(xmlContent);\r\n}\r\n\r\nexport class XPath_SelectCardinality extends Union {\r\n    constructor(tag, fields) {\r\n        super();\r\n        this.tag = tag;\r\n        this.fields = fields;\r\n    }\r\n    cases() {\r\n        return [\"Single\", \"Many\"];\r\n    }\r\n}\r\n\r\nexport function XPath_SelectCardinality_$reflection() {\r\n    return union_type(\"Ionide.VSCode.FSharp.Import.XPath.SelectCardinality\", [], XPath_SelectCardinality, () => [[], []]);\r\n}\r\n\r\nexport function XPath_SelectCardinalityModule_toBool(_arg) {\r\n    if (_arg.tag === 1) {\r\n        return false;\r\n    }\r\n    else {\r\n        return true;\r\n    }\r\n}\r\n\r\nfunction XPath_selectWith(select, xmlNode, xpath, selectSingle) {\r\n    return select(xpath, xmlNode, XPath_SelectCardinalityModule_toBool(selectSingle));\r\n}\r\n\r\nexport class XPath_XPathSelector {\r\n    constructor(xmlDoc, ns) {\r\n        this.xmlDoc = xmlDoc;\r\n        this.selectXPath = xpath_2.useNamespaces({\r\n            t: ns,\r\n        });\r\n    }\r\n}\r\n\r\nexport function XPath_XPathSelector_$reflection() {\r\n    return class_type(\"Ionide.VSCode.FSharp.Import.XPath.XPathSelector\", void 0, XPath_XPathSelector);\r\n}\r\n\r\nexport function XPath_XPathSelector_$ctor_Z3668C8CD(xmlDoc, ns) {\r\n    return new XPath_XPathSelector(xmlDoc, ns);\r\n}\r\n\r\nexport function XPath_XPathSelector__SelectNodes_Z721C83C5(this$, xpath) {\r\n    return XPath_selectWith(this$.selectXPath, this$.xmlDoc, xpath, new XPath_SelectCardinality(1, []));\r\n}\r\n\r\nexport function XPath_XPathSelector__SelectStringRelative_A14A813(this$, node, xpath) {\r\n    return XPath_selectWith(this$.selectXPath, node, `string(${xpath})`, new XPath_SelectCardinality(0, []));\r\n}\r\n\r\nexport function XPath_XPathSelector__SelectString_Z721C83C5(this$, xpath) {\r\n    return XPath_XPathSelector__SelectStringRelative_A14A813(this$, this$.xmlDoc, xpath);\r\n}\r\n\r\nexport function XPath_XPathSelector__SelectStrings_Z721C83C5(this$, xpath) {\r\n    return XPath_XPathSelector__SelectNodes_Z721C83C5(this$, `string(${xpath})`);\r\n}\r\n\r\nexport function XPath_XPathSelector__TrySelectStringRelative_A14A813(this$, node, xpath) {\r\n    const s = XPath_XPathSelector__SelectStringRelative_A14A813(this$, node, xpath);\r\n    if (isNullOrWhiteSpace(s)) {\r\n        return void 0;\r\n    }\r\n    else {\r\n        return s;\r\n    }\r\n}\r\n\r\nexport function XPath_XPathSelector__TrySelectString_Z721C83C5(this$, xpath) {\r\n    return XPath_XPathSelector__TrySelectStringRelative_A14A813(this$, this$.xmlDoc, xpath);\r\n}\r\n\r\n//# sourceMappingURL=XPath.js.map\r\n","import { replace, format, substring, isNullOrEmpty, join } from \"./String.js\";\nimport { class_type } from \"./Reflection.js\";\nimport { clear, int32ToString } from \"./Util.js\";\nimport { toString } from \"./Types.js\";\nexport class StringBuilder {\n    constructor(value, capacity) {\n        this.buf = [];\n        if (!isNullOrEmpty(value)) {\n            void (this.buf.push(value));\n        }\n    }\n    toString() {\n        const _ = this;\n        return join(\"\", _.buf);\n    }\n}\nexport function StringBuilder_$reflection() {\n    return class_type(\"System.Text.StringBuilder\", void 0, StringBuilder);\n}\nexport function StringBuilder_$ctor_Z18115A39(value, capacity) {\n    return new StringBuilder(value, capacity);\n}\nexport function StringBuilder_$ctor_Z524259A4(capacity) {\n    return StringBuilder_$ctor_Z18115A39(\"\", capacity);\n}\nexport function StringBuilder_$ctor_Z721C83C5(value) {\n    return StringBuilder_$ctor_Z18115A39(value, 16);\n}\nexport function StringBuilder_$ctor() {\n    return StringBuilder_$ctor_Z18115A39(\"\", 16);\n}\nexport function StringBuilder__Append_Z721C83C5(x, s) {\n    void (x.buf.push(s));\n    return x;\n}\nexport function StringBuilder__Append_487EF8FB(x, s, startIndex, count) {\n    void (x.buf.push(substring(s, startIndex, count)));\n    return x;\n}\nexport function StringBuilder__Append_244C7CD6(x, c) {\n    void (x.buf.push(c));\n    return x;\n}\nexport function StringBuilder__Append_Z524259A4(x, o) {\n    void (x.buf.push(int32ToString(o)));\n    return x;\n}\nexport function StringBuilder__Append_5E38073B(x, o) {\n    void (x.buf.push(o.toString()));\n    return x;\n}\nexport function StringBuilder__Append_Z1FBCCD16(x, o) {\n    void (x.buf.push(toString(o)));\n    return x;\n}\nexport function StringBuilder__Append_4E60E31B(x, o) {\n    void (x.buf.push(toString(o)));\n    return x;\n}\nexport function StringBuilder__Append_Z372E4D23(x, cs) {\n    void (x.buf.push(cs.join('')));\n    return x;\n}\nexport function StringBuilder__Append_43A65C09(x, s) {\n    void (x.buf.push(toString(s)));\n    return x;\n}\nexport function StringBuilder__AppendFormat_433E080(x, fmt, o) {\n    void (x.buf.push(format(fmt, o)));\n    return x;\n}\nexport function StringBuilder__AppendFormat_Z696D8D1B(x, provider, fmt, o) {\n    void (x.buf.push(format(provider, fmt, o)));\n    return x;\n}\nexport function StringBuilder__AppendLine(x) {\n    void (x.buf.push(\"\\n\"));\n    return x;\n}\nexport function StringBuilder__AppendLine_Z721C83C5(x, s) {\n    void (x.buf.push(s));\n    void (x.buf.push(\"\\n\"));\n    return x;\n}\nexport function StringBuilder__Replace_Z766F94C0(x, oldValue, newValue) {\n    for (let i = x.buf.length - 1; i >= 0; i--) {\n        x.buf[i] = replace(x.buf[i], oldValue, newValue);\n    }\n    return x;\n}\nexport function StringBuilder__Replace_Z384F8060(x, oldValue, newValue) {\n    for (let i = x.buf.length - 1; i >= 0; i--) {\n        x.buf[i] = replace(x.buf[i], oldValue, newValue);\n    }\n    return x;\n}\nexport function StringBuilder__get_Length(x) {\n    let len = 0;\n    for (let i = x.buf.length - 1; i >= 0; i--) {\n        len = ((len + x.buf[i].length) | 0);\n    }\n    return len | 0;\n}\nexport function StringBuilder__ToString_Z37302880(x, firstIndex, length) {\n    return substring(toString(x), firstIndex, length);\n}\nexport function StringBuilder__Clear(x) {\n    clear(x.buf);\n    return x;\n}\n","import { tests as tests_1, commands, debug, workspace, window as window$ } from \"vscode\";\r\nimport * as vscode from \"vscode\";\r\nimport { ConsoleAndOutputChannelLogger__Warn_Z17053F5, ConsoleAndOutputChannelLogger__Info_Z17053F5, ConsoleAndOutputChannelLogger__Error_Z17053F5, ConsoleAndOutputChannelLogger__Debug_Z17053F5, Level, ConsoleAndOutputChannelLogger_$ctor_Z565F02F0 } from \"../Core/Logging.js\";\r\nimport { Dictionary } from \"../fable_modules/fable-library.4.2.2/MutableMap.js\";\r\nimport { sumBy, equalsWith, tryFind as tryFind_1, collect, choose, skipWhile, concat, partition, tryPick, map } from \"../fable_modules/fable-library.4.2.2/Array.js\";\r\nimport { uncurry5, defaultOf, stringHash, comparePrimitives, safeHash, disposeSafe, getEnumerator, curry2, compare, structuralHash, equals } from \"../fable_modules/fable-library.4.2.2/Util.js\";\r\nimport { ofArray, contains, FSharpSet__Contains, difference, intersect, ofSeq } from \"../fable_modules/fable-library.4.2.2/Set.js\";\r\nimport { getItemFromDict } from \"../fable_modules/fable-library.4.2.2/MapUtil.js\";\r\nimport { iterate as iterate_1, partition as partition_1, filter as filter_1, choose as choose_1, ofArray as ofArray_1, toArray as toArray_2, empty as empty_1, isEmpty, tail, head, length, exists, map as map_1 } from \"../fable_modules/fable-library.4.2.2/List.js\";\r\nimport { PromiseBuilder__Delay_62FBFDE1, PromiseBuilder__Run_212F1D4B } from \"../fable_modules/Fable.Promise.3.2.0/Promise.fs.js\";\r\nimport { promise } from \"../fable_modules/Fable.Promise.3.2.0/PromiseImpl.fs.js\";\r\nimport { Configuration_get, Promise_executeWithMaxParallel, Promise_mapExecuteForAll, String_endWith, Promise_toThenable, String_trim, Array_safeSkip, Promise_ofThenable, String_startWith, Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B } from \"../Core/Utils.js\";\r\nimport { defaultArgWith, defaultArg, bind, map as map_3, value as value_5, toArray, some } from \"../fable_modules/fable-library.4.2.2/Option.js\";\r\nimport { Union, toString, FSharpRef, Record } from \"../fable_modules/fable-library.4.2.2/Types.js\";\r\nimport { bool_type, union_type, class_type, float64_type, array_type, option_type, list_type, record_type, string_type } from \"../fable_modules/fable-library.4.2.2/Reflection.js\";\r\nimport { tryFind as tryFind_2, empty, singleton, append, toArray as toArray_1, iterate, enumerateFromFunctions, map as map_2, delay, toList } from \"../fable_modules/fable-library.4.2.2/Seq.js\";\r\nimport { replace, match, matches as matches_1 } from \"../fable_modules/fable-library.4.2.2/RegExp.js\";\r\nimport { Array_distinctBy, Array_groupBy } from \"../fable_modules/fable-library.4.2.2/Seq2.js\";\r\nimport * as fs from \"fs\";\r\nimport * as path_4 from \"path\";\r\nimport { endsWith, replace as replace_1, substring, indexOfAny, printf, toText, isNullOrEmpty, trimStart, join, split as split_1 } from \"../fable_modules/fable-library.4.2.2/String.js\";\r\nimport { XPath_XPathSelector__TrySelectStringRelative_A14A813, XPath_XPathSelector__SelectNodes_Z721C83C5, XPath_XPathSelector__SelectStringRelative_A14A813, XmlDoc_mkDoc, XPath_XPathSelector_$ctor_Z3668C8CD } from \"../Imports/XPath.js\";\r\nimport { milliseconds, tryParse } from \"../fable_modules/fable-library.4.2.2/TimeSpan.js\";\r\nimport { Process_exec, CrossSpawn_crossSpawn, Process_onOutput, Process_onError, Process_onErrorOutput, Process_onClose } from \"../paket-files/ionide/ionide-vscode-helpers/src/Helpers.js\";\r\nimport { workspaceLoaded, getLoaded, tryFindInWorkspace, getInWorkspace, tryFindLoadedProjectByFile } from \"../Core/Project.js\";\r\nimport { StringBuilder__Append_244C7CD6, StringBuilder_$ctor } from \"../fable_modules/fable-library.4.2.2/System.Text.js\";\r\nimport { invokeMSBuildWithCancel } from \"./MSBuild.js\";\r\nimport { singleton as singleton_1 } from \"../fable_modules/fable-library.4.2.2/AsyncBuilder.js\";\r\nimport { post, start, receive } from \"../fable_modules/fable-library.4.2.2/MailboxProcessor.js\";\r\nimport { Notifications_testDetected } from \"../Core/LanguageService.js\";\r\n\r\nconst lastOutput = new Map([]);\r\n\r\nconst outputChannel = window$.createOutputChannel(\"F# - Test Adapter\");\r\n\r\nconst maxParallelTestProjects = 3;\r\n\r\nconst logger = ConsoleAndOutputChannelLogger_$ctor_Z565F02F0(\"TestExplorer\", new Level(0, []), outputChannel, new Level(0, []));\r\n\r\nexport function ArrayExt_venn(leftIdf, rightIdf, left, right) {\r\n    let array_3, array_4;\r\n    const leftIdMap = new Dictionary(new Dictionary(map((l) => [leftIdf(l), l], left), {\r\n        Equals: equals,\r\n        GetHashCode: structuralHash,\r\n    }), {\r\n        Equals: equals,\r\n        GetHashCode: structuralHash,\r\n    });\r\n    const rightIdMap = new Dictionary(new Dictionary(map((r) => [rightIdf(r), r], right), {\r\n        Equals: equals,\r\n        GetHashCode: structuralHash,\r\n    }), {\r\n        Equals: equals,\r\n        GetHashCode: structuralHash,\r\n    });\r\n    const leftIds = ofSeq(leftIdMap.keys(), {\r\n        Compare: compare,\r\n    });\r\n    const rightIds = ofSeq(rightIdMap.keys(), {\r\n        Compare: compare,\r\n    });\r\n    const intersection = intersect(leftIds, rightIds);\r\n    const intersectionPairs = map((id) => [getItemFromDict(leftIdMap, id), getItemFromDict(rightIdMap, id)], Array.from(intersection));\r\n    const leftExclusiveIds = difference(leftIds, intersection);\r\n    const rightExclusiveIds = difference(rightIds, intersection);\r\n    const dictGet = getItemFromDict;\r\n    return [(array_3 = Array.from(leftExclusiveIds), map(curry2(dictGet)(leftIdMap), array_3)), intersectionPairs, (array_4 = Array.from(rightExclusiveIds), map(curry2(dictGet)(rightIdMap), array_4))];\r\n}\r\n\r\nexport function ArrayExt_mapKeepInput(f, col) {\r\n    return map((input) => [input, f(input)], col);\r\n}\r\n\r\nexport function ListExt_mapKeepInputAsync(f, col) {\r\n    return map_1((input) => PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => (Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, f(input)).then((_arg) => (Promise.resolve([input, _arg])))))), col);\r\n}\r\n\r\nexport function ListExt_mapPartitioned(f, left, right) {\r\n    return [map_1(f, left), map_1(f, right)];\r\n}\r\n\r\nexport function Dict_tryGet(d, key) {\r\n    if (d.has(key)) {\r\n        return some(getItemFromDict(d, key));\r\n    }\r\n    else {\r\n        return void 0;\r\n    }\r\n}\r\n\r\nexport function CancellationToken_mergeTokens(tokens) {\r\n    const tokenSource = new vscode.CancellationTokenSource();\r\n    if (exists((t) => t.isCancellationRequested, tokens)) {\r\n        tokenSource.cancel();\r\n    }\r\n    else {\r\n        const enumerator = getEnumerator(tokens);\r\n        try {\r\n            while (enumerator[\"System.Collections.IEnumerator.MoveNext\"]()) {\r\n                const t_1 = enumerator[\"System.Collections.Generic.IEnumerator`1.get_Current\"]();\r\n                t_1.onCancellationRequested((_arg) => {\r\n                    tokenSource.cancel();\r\n                    return void 0;\r\n                });\r\n            }\r\n        }\r\n        finally {\r\n            disposeSafe(enumerator);\r\n        }\r\n    }\r\n    return tokenSource.token;\r\n}\r\n\r\nexport function ProjectPathModule_fromProject(project) {\r\n    return project.Project;\r\n}\r\n\r\nexport const TestName_pathSeparator = \".\";\r\n\r\nexport class TestName_Segment extends Record {\r\n    constructor(Text$, SeparatorBefore) {\r\n        super();\r\n        this.Text = Text$;\r\n        this.SeparatorBefore = SeparatorBefore;\r\n    }\r\n}\r\n\r\nexport function TestName_Segment_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.TestExplorer.TestName.Segment\", [], TestName_Segment, () => [[\"Text\", string_type], [\"SeparatorBefore\", string_type]]);\r\n}\r\n\r\nexport const TestName_SegmentModule_empty = new TestName_Segment(\"\", \"\");\r\n\r\nconst TestName_segmentRegex = /([+\\.]?)([^+\\.]+)/gu;\r\n\r\nexport function TestName_splitSegments(fullTestName) {\r\n    return map_1((m) => (new TestName_Segment(m[2] || \"\", m[1] || \"\")), toList(delay(() => {\r\n        let inputSequence;\r\n        return map_2((x) => x, (inputSequence = matches_1(TestName_segmentRegex, fullTestName), enumerateFromFunctions(() => getEnumerator(inputSequence), (enumerator) => enumerator[\"System.Collections.IEnumerator.MoveNext\"](), (enumerator_1) => enumerator_1[\"System.Collections.IEnumerator.get_Current\"]())));\r\n    })));\r\n}\r\n\r\nexport function TestName_appendSegment(parentPath, segment) {\r\n    return `${parentPath}${segment.SeparatorBefore}${segment.Text}`;\r\n}\r\n\r\nexport function TestName_fromPathAndTestName(classPath, testName) {\r\n    if (classPath === \"\") {\r\n        return testName;\r\n    }\r\n    else {\r\n        return `${classPath}.${testName}`;\r\n    }\r\n}\r\n\r\nclass TestName_DataWithRelativePath$1 extends Record {\r\n    constructor(data, relativePath) {\r\n        super();\r\n        this.data = data;\r\n        this.relativePath = relativePath;\r\n    }\r\n}\r\n\r\nfunction TestName_DataWithRelativePath$1_$reflection(gen0) {\r\n    return record_type(\"Ionide.VSCode.FSharp.TestExplorer.TestName.DataWithRelativePath`1\", [gen0], TestName_DataWithRelativePath$1, () => [[\"data\", gen0], [\"relativePath\", list_type(TestName_Segment_$reflection())]]);\r\n}\r\n\r\nexport class TestName_NameHierarchy$1 extends Record {\r\n    constructor(Data, FullName, Name, Children) {\r\n        super();\r\n        this.Data = Data;\r\n        this.FullName = FullName;\r\n        this.Name = Name;\r\n        this.Children = Children;\r\n    }\r\n}\r\n\r\nexport function TestName_NameHierarchy$1_$reflection(gen0) {\r\n    return record_type(\"Ionide.VSCode.FSharp.TestExplorer.TestName.NameHierarchy`1\", [gen0], TestName_NameHierarchy$1, () => [[\"Data\", option_type(gen0)], [\"FullName\", string_type], [\"Name\", string_type], [\"Children\", array_type(TestName_NameHierarchy$1_$reflection(gen0))]]);\r\n}\r\n\r\nexport function TestName_NameHierarchy_tryPick(f, root) {\r\n    const recurse = (hierarchy) => {\r\n        const searchResult = f(hierarchy);\r\n        if (searchResult != null) {\r\n            return searchResult;\r\n        }\r\n        else {\r\n            return tryPick(recurse, hierarchy.Children);\r\n        }\r\n    };\r\n    return recurse(root);\r\n}\r\n\r\nexport function TestName_inferHierarchy(namedData) {\r\n    const recurse = (parentPath, defsWithRelativePath) => {\r\n        const patternInput = partition((d) => (length(d.relativePath) === 1), defsWithRelativePath);\r\n        return concat([map((terminal) => {\r\n            const segment = head(terminal.relativePath);\r\n            return new TestName_NameHierarchy$1(some(terminal.data), TestName_appendSegment(parentPath, segment), segment.Text, []);\r\n        }, patternInput[0]), map((tupledArg) => {\r\n            const groupSegment = tupledArg[0];\r\n            const fullName = TestName_appendSegment(parentPath, groupSegment);\r\n            return new TestName_NameHierarchy$1(void 0, TestName_appendSegment(parentPath, groupSegment), groupSegment.Text, recurse(fullName, map((data) => (new TestName_DataWithRelativePath$1(data.data, tail(data.relativePath))), tupledArg[1])));\r\n        }, Array_groupBy((d_1) => head(d_1.relativePath), patternInput[1], {\r\n            Equals: equals,\r\n            GetHashCode: safeHash,\r\n        }))]);\r\n    };\r\n    return recurse(\"\", map((named) => (new TestName_DataWithRelativePath$1(named.Data, TestName_splitSegments(named.FullName))), namedData));\r\n}\r\n\r\nexport function Fable_Import_VSCode_Vscode_TestItemCollection__TestItemCollection_TestItems(x) {\r\n    const arr = [];\r\n    x.forEach((t, _arg) => {\r\n        void (arr.push(t));\r\n    });\r\n    return arr.slice();\r\n}\r\n\r\nexport function Fable_Import_VSCode_Vscode_TestController__TestController_TestItems(x) {\r\n    return Fable_Import_VSCode_Vscode_TestItemCollection__TestItemCollection_TestItems(x.items);\r\n}\r\n\r\nexport function Fable_Import_VSCode_Vscode_TestItem__TestItem_get_TestFramework(this$) {\r\n    return this$.testFramework;\r\n}\r\n\r\nexport class TestResult extends Record {\r\n    constructor(FullTestName, Outcome, ErrorMessage, ErrorStackTrace, Expected, Actual, Timing, TestFramework) {\r\n        super();\r\n        this.FullTestName = FullTestName;\r\n        this.Outcome = Outcome;\r\n        this.ErrorMessage = ErrorMessage;\r\n        this.ErrorStackTrace = ErrorStackTrace;\r\n        this.Expected = Expected;\r\n        this.Actual = Actual;\r\n        this.Timing = Timing;\r\n        this.TestFramework = TestFramework;\r\n    }\r\n}\r\n\r\nexport function TestResult_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.TestExplorer.TestResult\", [], TestResult, () => [[\"FullTestName\", string_type], [\"Outcome\", string_type], [\"ErrorMessage\", option_type(string_type)], [\"ErrorStackTrace\", option_type(string_type)], [\"Expected\", option_type(string_type)], [\"Actual\", option_type(string_type)], [\"Timing\", float64_type], [\"TestFramework\", option_type(string_type)]]);\r\n}\r\n\r\nexport function Path_tryPath(path) {\r\n    if (fs.existsSync(path)) {\r\n        return path;\r\n    }\r\n    else {\r\n        return void 0;\r\n    }\r\n}\r\n\r\nexport function Path_deleteIfExists(path) {\r\n    if (fs.existsSync(path)) {\r\n        fs.unlinkSync(path);\r\n    }\r\n}\r\n\r\nexport function Path_getNameOnly(path) {\r\n    return path_4.basename(path, path_4.extname(path));\r\n}\r\n\r\nexport function Path_split(path) {\r\n    return split_1(path, [path_4.sep], void 0, 1);\r\n}\r\n\r\nfunction Path_join(segments) {\r\n    return path_4.join(...segments);\r\n}\r\n\r\nexport function Path_removeSpecialRelativeSegments(path) {\r\n    const specialSegments = ofSeq([\"..\", \".\"], {\r\n        Compare: comparePrimitives,\r\n    });\r\n    return Path_join(skipWhile((arg) => FSharpSet__Contains(specialSegments, arg), Path_split(path)));\r\n}\r\n\r\nexport function TrxParser_adapterTypeNameToTestFramework(adapterTypeName) {\r\n    if (String_startWith(\"executor://nunit\", adapterTypeName)) {\r\n        return \"NUnit\";\r\n    }\r\n    else if (String_startWith(\"executor://mstest\", adapterTypeName)) {\r\n        return \"MSTest\";\r\n    }\r\n    else if (String_startWith(\"executor://xunit\", adapterTypeName)) {\r\n        return \"XUnit\";\r\n    }\r\n    else if (String_startWith(\"executor://yolodev\", adapterTypeName)) {\r\n        return \"Expecto\";\r\n    }\r\n    else {\r\n        return void 0;\r\n    }\r\n}\r\n\r\nexport class TrxParser_Execution extends Record {\r\n    constructor(Id) {\r\n        super();\r\n        this.Id = Id;\r\n    }\r\n}\r\n\r\nexport function TrxParser_Execution_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.TestExplorer.TrxParser.Execution\", [], TrxParser_Execution, () => [[\"Id\", string_type]]);\r\n}\r\n\r\nexport class TrxParser_TestMethod extends Record {\r\n    constructor(AdapterTypeName, ClassName, Name) {\r\n        super();\r\n        this.AdapterTypeName = AdapterTypeName;\r\n        this.ClassName = ClassName;\r\n        this.Name = Name;\r\n    }\r\n}\r\n\r\nexport function TrxParser_TestMethod_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.TestExplorer.TrxParser.TestMethod\", [], TrxParser_TestMethod, () => [[\"AdapterTypeName\", string_type], [\"ClassName\", string_type], [\"Name\", string_type]]);\r\n}\r\n\r\nexport class TrxParser_UnitTest extends Record {\r\n    constructor(Name, Execution, TestMethod) {\r\n        super();\r\n        this.Name = Name;\r\n        this.Execution = Execution;\r\n        this.TestMethod = TestMethod;\r\n    }\r\n}\r\n\r\nexport function TrxParser_UnitTest_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.TestExplorer.TrxParser.UnitTest\", [], TrxParser_UnitTest, () => [[\"Name\", string_type], [\"Execution\", TrxParser_Execution_$reflection()], [\"TestMethod\", TrxParser_TestMethod_$reflection()]]);\r\n}\r\n\r\nexport function TrxParser_UnitTest__get_FullName(self) {\r\n    const matchValue = TrxParser_adapterTypeNameToTestFramework(self.TestMethod.AdapterTypeName);\r\n    let matchResult;\r\n    if (matchValue != null) {\r\n        switch (matchValue) {\r\n            case \"NUnit\": {\r\n                matchResult = 0;\r\n                break;\r\n            }\r\n            case \"MSTest\": {\r\n                matchResult = 1;\r\n                break;\r\n            }\r\n            default:\r\n                matchResult = 2;\r\n        }\r\n    }\r\n    else {\r\n        matchResult = 2;\r\n    }\r\n    switch (matchResult) {\r\n        case 0:\r\n            return TestName_fromPathAndTestName(self.TestMethod.ClassName, self.TestMethod.Name);\r\n        case 1:\r\n            return TestName_fromPathAndTestName(self.TestMethod.ClassName, self.Name);\r\n        default:\r\n            return self.Name;\r\n    }\r\n}\r\n\r\nexport class TrxParser_ErrorInfo extends Record {\r\n    constructor(Message, StackTrace) {\r\n        super();\r\n        this.Message = Message;\r\n        this.StackTrace = StackTrace;\r\n    }\r\n}\r\n\r\nexport function TrxParser_ErrorInfo_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.TestExplorer.TrxParser.ErrorInfo\", [], TrxParser_ErrorInfo, () => [[\"Message\", option_type(string_type)], [\"StackTrace\", option_type(string_type)]]);\r\n}\r\n\r\nexport class TrxParser_Output extends Record {\r\n    constructor(ErrorInfo) {\r\n        super();\r\n        this.ErrorInfo = ErrorInfo;\r\n    }\r\n}\r\n\r\nexport function TrxParser_Output_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.TestExplorer.TrxParser.Output\", [], TrxParser_Output, () => [[\"ErrorInfo\", TrxParser_ErrorInfo_$reflection()]]);\r\n}\r\n\r\nexport class TrxParser_UnitTestResult extends Record {\r\n    constructor(ExecutionId, Outcome, Duration, Output) {\r\n        super();\r\n        this.ExecutionId = ExecutionId;\r\n        this.Outcome = Outcome;\r\n        this.Duration = Duration;\r\n        this.Output = Output;\r\n    }\r\n}\r\n\r\nexport function TrxParser_UnitTestResult_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.TestExplorer.TrxParser.UnitTestResult\", [], TrxParser_UnitTestResult, () => [[\"ExecutionId\", string_type], [\"Outcome\", string_type], [\"Duration\", class_type(\"System.TimeSpan\")], [\"Output\", TrxParser_Output_$reflection()]]);\r\n}\r\n\r\nexport class TrxParser_TestWithResult extends Record {\r\n    constructor(UnitTest, UnitTestResult) {\r\n        super();\r\n        this.UnitTest = UnitTest;\r\n        this.UnitTestResult = UnitTestResult;\r\n    }\r\n}\r\n\r\nexport function TrxParser_TestWithResult_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.TestExplorer.TrxParser.TestWithResult\", [], TrxParser_TestWithResult, () => [[\"UnitTest\", TrxParser_UnitTest_$reflection()], [\"UnitTestResult\", TrxParser_UnitTestResult_$reflection()]]);\r\n}\r\n\r\nexport function TrxParser_makeTrxPath(workspaceRoot, storageFolderPath, projectPath) {\r\n    const relativeProjectPath = path_4.relative(workspaceRoot, projectPath);\r\n    const projectName = Path_getNameOnly(projectPath);\r\n    let relativeResultsPath;\r\n    const arg = Path_removeSpecialRelativeSegments(relativeProjectPath);\r\n    relativeResultsPath = path_4.dirname(arg);\r\n    return path_4.resolve(storageFolderPath, \"TestResults\", relativeResultsPath, `${projectName}.trx`);\r\n}\r\n\r\nexport function TrxParser_trxSelector(trxPath) {\r\n    return XPath_XPathSelector_$ctor_Z3668C8CD(XmlDoc_mkDoc(fs.readFileSync(trxPath, \"utf8\")), \"http://microsoft.com/schemas/VisualStudio/TeamTest/2010\");\r\n}\r\n\r\nexport function TrxParser_extractTestDefinitionsFromSelector(xpathSelector) {\r\n    return map((node) => {\r\n        const executionId = XPath_XPathSelector__SelectStringRelative_A14A813(xpathSelector, node, \"t:Execution/@id\");\r\n        const fullTestName = XPath_XPathSelector__SelectStringRelative_A14A813(xpathSelector, node, \"@name\");\r\n        const className = XPath_XPathSelector__SelectStringRelative_A14A813(xpathSelector, node, \"t:TestMethod/@className\");\r\n        const testMethodName = XPath_XPathSelector__SelectStringRelative_A14A813(xpathSelector, node, \"t:TestMethod/@name\");\r\n        return new TrxParser_UnitTest(fullTestName, new TrxParser_Execution(executionId), new TrxParser_TestMethod(XPath_XPathSelector__SelectStringRelative_A14A813(xpathSelector, node, \"t:TestMethod/@adapterTypeName\"), className, testMethodName));\r\n    }, XPath_XPathSelector__SelectNodes_Z721C83C5(xpathSelector, \"/t:TestRun/t:TestDefinitions/t:UnitTest\"));\r\n}\r\n\r\nexport function TrxParser_extractTestDefinitions(trxPath) {\r\n    return TrxParser_extractTestDefinitionsFromSelector(TrxParser_trxSelector(trxPath));\r\n}\r\n\r\nexport function TrxParser_extractResultsSection(xpathSelector) {\r\n    return map((node) => {\r\n        let patternInput, outArg;\r\n        const executionId = XPath_XPathSelector__SelectStringRelative_A14A813(xpathSelector, node, \"@executionId\");\r\n        const outcome = XPath_XPathSelector__SelectStringRelative_A14A813(xpathSelector, node, \"@outcome\");\r\n        const errorInfoMessage = XPath_XPathSelector__TrySelectStringRelative_A14A813(xpathSelector, node, \"t:Output/t:ErrorInfo/t:Message\");\r\n        const errorStackTrace = XPath_XPathSelector__TrySelectStringRelative_A14A813(xpathSelector, node, \"t:Output/t:ErrorInfo/t:StackTrace\");\r\n        return new TrxParser_UnitTestResult(executionId, outcome, (patternInput = ((outArg = 0, [tryParse(XPath_XPathSelector__SelectStringRelative_A14A813(xpathSelector, node, \"@duration\"), new FSharpRef(() => outArg, (v) => {\r\n            outArg = v;\r\n        })), outArg])), patternInput[0] ? patternInput[1] : 0), new TrxParser_Output(new TrxParser_ErrorInfo(errorInfoMessage, errorStackTrace)));\r\n    }, XPath_XPathSelector__SelectNodes_Z721C83C5(xpathSelector, \"/t:TestRun/t:Results/t:UnitTestResult\"));\r\n}\r\n\r\nexport function TrxParser_extractTrxResults(trxPath) {\r\n    const xpathSelector = TrxParser_trxSelector(trxPath);\r\n    return map((tupledArg) => (new TrxParser_TestWithResult(tupledArg[0], tupledArg[1])), ArrayExt_venn((testDef) => testDef.Execution.Id, (res) => res.ExecutionId, TrxParser_extractTestDefinitionsFromSelector(xpathSelector), TrxParser_extractResultsSection(xpathSelector))[1]);\r\n}\r\n\r\nexport function TrxParser_inferHierarchy(testDefs) {\r\n    return TestName_inferHierarchy(map((td) => ({\r\n        Data: td,\r\n        FullName: TrxParser_UnitTest__get_FullName(td),\r\n    }), testDefs));\r\n}\r\n\r\nconst DotnetCli_Process_cancelErrorMessage = \"SIGINT\";\r\n\r\n/**\r\n * Fire off a command and gather the error, if any, and the stdout and stderr streams.\r\n * The command is fired from the workspace's root path.\r\n */\r\nexport function DotnetCli_Process_execWithCancel(command, args, env, outputCallback, cancellationToken) {\r\n    if (!cancellationToken.isCancellationRequested) {\r\n        const options = {};\r\n        options.cwd = workspace.rootPath;\r\n        iterate((env_1) => {\r\n            options.env = env_1;\r\n        }, toArray(env));\r\n        return new Promise((resolve, reject) => {\r\n            const stdout = [];\r\n            const stderr = [];\r\n            let error = void 0;\r\n            const childProcess = Process_onClose((code, signal) => {\r\n                resolve([error, join(\"\\n\", stdout), join(\"\\n\", stderr)]);\r\n            }, Process_onErrorOutput((e_2) => {\r\n                void (stderr.push(toString(e_2)));\r\n            }, Process_onError((e_1) => {\r\n                error = some(e_1);\r\n            }, Process_onOutput((e) => {\r\n                outputCallback(e);\r\n                void (stdout.push(toString(e)));\r\n            }, CrossSpawn_crossSpawn.spawn(command, args, options)))));\r\n            cancellationToken.onCancellationRequested((_arg) => {\r\n                childProcess.kill(DotnetCli_Process_cancelErrorMessage);\r\n                return void 0;\r\n            });\r\n        });\r\n    }\r\n    else {\r\n        return PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => (Promise.resolve([void 0, \"\", \"\"]))));\r\n    }\r\n}\r\n\r\nexport function DotnetCli_restore(projectPath) {\r\n    return Process_exec(\"dotnet\", [\"restore\", projectPath]);\r\n}\r\n\r\nconst DotnetCli_debugProcessIdRegex = /Process Id: (.*),/gu;\r\n\r\nfunction DotnetCli_tryGetDebugProcessId(consoleOutput) {\r\n    const m = match(DotnetCli_debugProcessIdRegex, consoleOutput);\r\n    if (m != null) {\r\n        return m[1] || \"\";\r\n    }\r\n    else {\r\n        return void 0;\r\n    }\r\n}\r\n\r\nfunction DotnetCli_launchDebugger(processId) {\r\n    const launchRequest = {\r\n        name: \".NET Core Attach\",\r\n        processId: processId,\r\n        request: \"attach\",\r\n        type: \"coreclr\",\r\n    };\r\n    const folder = value_5(workspace.workspaceFolders)[0];\r\n    PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => (Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, Promise_ofThenable(debug.startDebugging(folder, launchRequest))).then((_arg) => (Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, new Promise(resolve => setTimeout(resolve, 2000))).then(() => {\r\n        commands.executeCommand(\"workbench.action.debug.continue\");\r\n        return Promise.resolve();\r\n    }))))));\r\n}\r\n\r\nexport class DotnetCli_DebugTests extends Union {\r\n    constructor(tag, fields) {\r\n        super();\r\n        this.tag = tag;\r\n        this.fields = fields;\r\n    }\r\n    cases() {\r\n        return [\"Debug\", \"NoDebug\"];\r\n    }\r\n}\r\n\r\nexport function DotnetCli_DebugTests_$reflection() {\r\n    return union_type(\"Ionide.VSCode.FSharp.TestExplorer.DotnetCli.DebugTests\", [], DotnetCli_DebugTests, () => [[], []]);\r\n}\r\n\r\nexport function DotnetCli_DebugTestsModule_ofBool(bool) {\r\n    if (bool) {\r\n        return new DotnetCli_DebugTests(0, []);\r\n    }\r\n    else {\r\n        return new DotnetCli_DebugTests(1, []);\r\n    }\r\n}\r\n\r\nfunction DotnetCli_dotnetTest(cancellationToken, projectPath, targetFramework, trxOutputPath, shouldDebug, additionalArgs) {\r\n    const args = toArray_1(delay(() => append(singleton(\"test\"), delay(() => append(singleton(`\"${projectPath}\"`), delay(() => append(singleton(`--framework:\"${targetFramework}\"`), delay(() => append((trxOutputPath != null) ? singleton(`--logger:\"trx;LogFileName=${value_5(trxOutputPath)}\"`) : empty(), delay(() => append(singleton(\"--noLogo\"), delay(() => additionalArgs))))))))))));\r\n    ConsoleAndOutputChannelLogger__Debug_Z17053F5(logger, `Running \\`dotnet ${join(\" \", args)}\\``);\r\n    if (shouldDebug.tag === 1) {\r\n        return DotnetCli_Process_execWithCancel(\"dotnet\", Array.from(args), void 0, (value_1) => {\r\n        }, cancellationToken);\r\n    }\r\n    else {\r\n        let isDebuggerStarted = false;\r\n        let env;\r\n        const childEnv = process.env;\r\n        childEnv.VSTEST_HOST_DEBUG = 1;\r\n        env = some(childEnv);\r\n        return DotnetCli_Process_execWithCancel(\"dotnet\", Array.from(args), env, (consoleOutput) => {\r\n            if (!isDebuggerStarted) {\r\n                const matchValue = DotnetCli_tryGetDebugProcessId(toString(consoleOutput));\r\n                if (matchValue != null) {\r\n                    DotnetCli_launchDebugger(matchValue);\r\n                    isDebuggerStarted = true;\r\n                }\r\n            }\r\n        }, cancellationToken);\r\n    }\r\n}\r\n\r\nexport function DotnetCli_test(projectPath, targetFramework, trxOutputPath, filterExpression, shouldDebug, cancellationToken) {\r\n    return PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => {\r\n        const filter = (filterExpression != null) ? [\"--filter\", `\"${filterExpression}\"`] : (new Array(0));\r\n        return ((filter.length > 0) ? ((ConsoleAndOutputChannelLogger__Debug_Z17053F5(logger, \"Filter\", filter), Promise.resolve())) : (Promise.resolve())).then(() => PromiseBuilder__Delay_62FBFDE1(promise, () => (Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, DotnetCli_dotnetTest(cancellationToken, projectPath, targetFramework, trxOutputPath, shouldDebug, toArray_1(delay(() => append(singleton(\"--no-build\"), delay(() => filter)))))).then((_arg) => {\r\n            const stdOutput = _arg[1];\r\n            const stdError = _arg[2];\r\n            const errored = _arg[0];\r\n            return ((errored == null) ? ((ConsoleAndOutputChannelLogger__Debug_Z17053F5(logger, \"Test run exitCode - %s - %s\", stdOutput, stdError), Promise.resolve())) : ((ConsoleAndOutputChannelLogger__Error_Z17053F5(logger, \"Test run failed - %s - %s - %s\", errored, stdOutput, stdError), Promise.resolve()))).then(() => PromiseBuilder__Delay_62FBFDE1(promise, () => (Promise.resolve(stdOutput + stdError))));\r\n        }))));\r\n    }));\r\n}\r\n\r\nexport function DotnetCli_listTests(projectPath, targetFramework, shouldBuild, cancellationToken) {\r\n    return PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => {\r\n        const additionalArgs = !shouldBuild ? [\"--no-build\"] : (new Array(0));\r\n        return Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, DotnetCli_dotnetTest(cancellationToken, projectPath, targetFramework, void 0, new DotnetCli_DebugTests(1, []), toArray_1(delay(() => append(singleton(\"--list-tests\"), delay(() => additionalArgs)))))).then((_arg) => {\r\n            let array, x;\r\n            const testNames = choose((line) => {\r\n                const line_1 = trimStart(line);\r\n                if (!isNullOrEmpty(line_1)) {\r\n                    return line_1;\r\n                }\r\n                else {\r\n                    return void 0;\r\n                }\r\n            }, Array_safeSkip(1, (array = split_1(_arg[1], [\"\\r\\n\", \"\\n\\r\", \"\\n\"], void 0, 1), skipWhile((x = String_trim(\"The following Tests are available:\"), (y) => (x !== y)), array))));\r\n            return Promise.resolve(testNames);\r\n        });\r\n    }));\r\n}\r\n\r\nexport class LocationRecord extends Record {\r\n    constructor(Uri, Range$) {\r\n        super();\r\n        this.Uri = Uri;\r\n        this.Range = Range$;\r\n    }\r\n}\r\n\r\nexport function LocationRecord_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.TestExplorer.LocationRecord\", [], LocationRecord, () => [[\"Uri\", class_type(\"Fable.Import.VSCode.Vscode.Uri\")], [\"Range\", option_type(class_type(\"Fable.Import.VSCode.Vscode.Range\"))]]);\r\n}\r\n\r\nexport function LocationRecordModule_tryGetUri(l) {\r\n    return map_3((l_1) => l_1.Uri, l);\r\n}\r\n\r\nexport function LocationRecordModule_tryGetRange(l) {\r\n    return bind((l_1) => l_1.Range, l);\r\n}\r\n\r\nexport function LocationRecordModule_testToLocation(testItem) {\r\n    const matchValue = testItem.uri;\r\n    if (matchValue != null) {\r\n        return new LocationRecord(matchValue, testItem.range);\r\n    }\r\n    else {\r\n        return void 0;\r\n    }\r\n}\r\n\r\nexport class CodeLocationCache {\r\n    constructor() {\r\n        this.locationCache = (new Map([]));\r\n    }\r\n}\r\n\r\nexport function CodeLocationCache_$reflection() {\r\n    return class_type(\"Ionide.VSCode.FSharp.TestExplorer.CodeLocationCache\", void 0, CodeLocationCache);\r\n}\r\n\r\nexport function CodeLocationCache_$ctor() {\r\n    return new CodeLocationCache();\r\n}\r\n\r\nexport function CodeLocationCache__Save_Z528A07B(_, testId, location) {\r\n    _.locationCache.set(testId, location);\r\n}\r\n\r\nexport function CodeLocationCache__GetById_Z721C83C5(_, testId) {\r\n    return _.locationCache.has(testId) ? _.locationCache.get(testId) : null;\r\n}\r\n\r\nexport function CodeLocationCache__GetKnownTestIds(_) {\r\n    return _.locationCache.keys();\r\n}\r\n\r\nexport function CodeLocationCache__DeleteByFile_Z429A7006(_, uri) {\r\n    let enumerator = getEnumerator(_.locationCache);\r\n    try {\r\n        while (enumerator[\"System.Collections.IEnumerator.MoveNext\"]()) {\r\n            const kvp = enumerator[\"System.Collections.Generic.IEnumerator`1.get_Current\"]();\r\n            if (kvp[1].Uri.fsPath === uri.fsPath) {\r\n                _.locationCache.delete(kvp[0]);\r\n            }\r\n        }\r\n    }\r\n    finally {\r\n        disposeSafe(enumerator);\r\n    }\r\n}\r\n\r\nconst TestItem_idSeparator = \" -- \";\r\n\r\nexport function TestItem_constructId(projectPath, fullName) {\r\n    return join(TestItem_idSeparator, [projectPath, fullName]);\r\n}\r\n\r\nexport function TestItem_constructProjectRootId(projectPath) {\r\n    return TestItem_constructId(projectPath, \"\");\r\n}\r\n\r\nfunction TestItem_componentizeId(testId) {\r\n    const split = split_1(testId, [TestItem_idSeparator], void 0, 0);\r\n    return [split[0], split[1]];\r\n}\r\n\r\nexport function TestItem_getFullName(testId) {\r\n    return TestItem_componentizeId(testId)[1];\r\n}\r\n\r\nexport function TestItem_getProjectPath(testId) {\r\n    return TestItem_componentizeId(testId)[0];\r\n}\r\n\r\nexport function TestItem_getId(t) {\r\n    return t.id;\r\n}\r\n\r\nexport function TestItem_runnableChildren(root) {\r\n    const visit = (testItem) => {\r\n        if (testItem.children.size === 0) {\r\n            return [testItem];\r\n        }\r\n        else {\r\n            return collect(visit, Fable_Import_VSCode_Vscode_TestItemCollection__TestItemCollection_TestItems(testItem.children));\r\n        }\r\n    };\r\n    return visit(root);\r\n}\r\n\r\nexport function TestItem_runnableFromArray(testCollection) {\r\n    return Array_distinctBy(TestItem_getId, collect(TestItem_runnableChildren, testCollection), {\r\n        Equals: (x, y) => (x === y),\r\n        GetHashCode: stringHash,\r\n    });\r\n}\r\n\r\nexport function TestItem_tryGetLocation(testItem) {\r\n    const matchValue = testItem.uri;\r\n    const matchValue_1 = testItem.range;\r\n    let matchResult, range, uri;\r\n    if (matchValue != null) {\r\n        if (matchValue_1 != null) {\r\n            matchResult = 0;\r\n            range = matchValue_1;\r\n            uri = matchValue;\r\n        }\r\n        else {\r\n            matchResult = 1;\r\n        }\r\n    }\r\n    else {\r\n        matchResult = 1;\r\n    }\r\n    switch (matchResult) {\r\n        case 0:\r\n            return new vscode.Location(uri, range);\r\n        default:\r\n            return void 0;\r\n    }\r\n}\r\n\r\nexport function TestItem_preWalk(f, root) {\r\n    const recurse = (t) => concat([[f(t)], collect(recurse, Fable_Import_VSCode_Vscode_TestItemCollection__TestItemCollection_TestItems(t.children))]);\r\n    return recurse(root);\r\n}\r\n\r\nexport class TestItem_TestItemBuilder extends Record {\r\n    constructor(id, label, uri, range, children, testFramework) {\r\n        super();\r\n        this.id = id;\r\n        this.label = label;\r\n        this.uri = uri;\r\n        this.range = range;\r\n        this.children = children;\r\n        this.testFramework = testFramework;\r\n    }\r\n}\r\n\r\nexport function TestItem_TestItemBuilder_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.TestExplorer.TestItem.TestItemBuilder\", [], TestItem_TestItemBuilder, () => [[\"id\", string_type], [\"label\", string_type], [\"uri\", option_type(class_type(\"Fable.Import.VSCode.Vscode.Uri\"))], [\"range\", option_type(class_type(\"Fable.Import.VSCode.Vscode.Range\"))], [\"children\", array_type(class_type(\"Fable.Import.VSCode.Vscode.TestItem\"))], [\"testFramework\", option_type(string_type)]]);\r\n}\r\n\r\nexport function TestItem_itemFactoryForController(testController) {\r\n    return (builder) => {\r\n        let testItem;\r\n        const matchValue = builder.uri;\r\n        if (matchValue == null) {\r\n            testItem = testController.createTestItem(builder.id, builder.label);\r\n        }\r\n        else {\r\n            const uri = matchValue;\r\n            testItem = testController.createTestItem(builder.id, builder.label, uri);\r\n        }\r\n        let action;\r\n        const objectArg = testItem.children;\r\n        action = ((arg) => {\r\n            objectArg.add(arg);\r\n        });\r\n        builder.children.forEach(action);\r\n        testItem.range = builder.range;\r\n        const matchValue_1 = builder.testFramework;\r\n        if (matchValue_1 == null) {\r\n        }\r\n        else {\r\n            const frameworkId = matchValue_1;\r\n            testItem.testFramework = frameworkId;\r\n        }\r\n        return testItem;\r\n    };\r\n}\r\n\r\nexport function TestItem_fromNamedHierarchy(itemFactory, tryGetLocation, projectPath, hierarchy) {\r\n    const recurse = (namedNode) => {\r\n        const id = TestItem_constructId(projectPath, namedNode.FullName);\r\n        const location = tryGetLocation(id);\r\n        return itemFactory(new TestItem_TestItemBuilder(id, namedNode.Name, LocationRecordModule_tryGetUri(location), LocationRecordModule_tryGetRange(location), map(recurse, namedNode.Children), void 0));\r\n    };\r\n    return recurse(hierarchy);\r\n}\r\n\r\nexport function TestItem_fromTestAdapter(itemFactory, uri, projectPath, t) {\r\n    const recurse = (parentFullName, parentModuleType_1, t_1) => {\r\n        let parentModuleType;\r\n        const fullName = (parentFullName + ((parentModuleType = parentModuleType_1, (parentModuleType != null) ? ((parentModuleType === \"NoneModule\") ? \".\" : ((t_1.moduleType === \"NoneModule\") ? \".\" : \"+\")) : \"\"))) + t_1.name;\r\n        const range = new vscode.Range((new vscode.Position(t_1.range.start.line, t_1.range.start.character)), (new vscode.Position(t_1.range.end.line, t_1.range.end.character)));\r\n        return itemFactory(new TestItem_TestItemBuilder(TestItem_constructId(projectPath, fullName), t_1.name, uri, range, map((n) => recurse(fullName, t_1.moduleType, n), t_1.childs), t_1.type));\r\n    };\r\n    return recurse(\"\", void 0, t);\r\n}\r\n\r\nexport function TestItem_fromProject(testItemFactory, projectPath, targetFramework, children) {\r\n    return testItemFactory(new TestItem_TestItemBuilder(TestItem_constructProjectRootId(projectPath), `${Path_getNameOnly(projectPath)} (${targetFramework})`, void 0, void 0, children, void 0));\r\n}\r\n\r\nexport function TestItem_isProjectItem(testId) {\r\n    return TestItem_constructProjectRootId(TestItem_getProjectPath(testId)) === testId;\r\n}\r\n\r\nexport function TestItem_tryFromTestForFile(testItemFactory, testsForFile) {\r\n    const fileUri = vscode.Uri.parse(testsForFile.file, true);\r\n    return map_3((project) => {\r\n        const projectPath = project.Project;\r\n        return [TestItem_fromProject(testItemFactory, projectPath, project.Info.TargetFramework, map((t) => TestItem_fromTestAdapter(testItemFactory, fileUri, projectPath, t), testsForFile.tests))];\r\n    }, tryFindLoadedProjectByFile(fileUri.fsPath));\r\n}\r\n\r\nexport function TestItem_tryGetById(testId, rootCollection) {\r\n    const patternInput = TestItem_componentizeId(testId);\r\n    const projectPath = patternInput[0];\r\n    const recurse = (collection_mut, parentPath_mut, remainingPath_mut) => {\r\n        recurse:\r\n        while (true) {\r\n            const collection = collection_mut, parentPath = parentPath_mut, remainingPath = remainingPath_mut;\r\n            const patternInput_1 = isEmpty(remainingPath) ? [TestName_SegmentModule_empty, empty_1()] : [head(remainingPath), tail(remainingPath)];\r\n            const remainingPath_2 = patternInput_1[1];\r\n            const fullName = TestName_appendSegment(parentPath, patternInput_1[0]);\r\n            const id = TestItem_constructId(projectPath, fullName);\r\n            const existingItem = collection.get(id);\r\n            if (existingItem != null) {\r\n                const existingItem_1 = existingItem;\r\n                if (!equals(remainingPath_2, empty_1())) {\r\n                    collection_mut = existingItem_1.children;\r\n                    parentPath_mut = fullName;\r\n                    remainingPath_mut = remainingPath_2;\r\n                    continue recurse;\r\n                }\r\n                else {\r\n                    return existingItem_1;\r\n                }\r\n            }\r\n            else {\r\n                return void 0;\r\n            }\r\n            break;\r\n        }\r\n    };\r\n    const pathSegments = TestName_splitSegments(patternInput[1]);\r\n    return bind((projectRoot) => recurse(projectRoot.children, \"\", pathSegments), tryFind_1((ti) => (ti.id === TestItem_constructProjectRootId(projectPath)), rootCollection));\r\n}\r\n\r\nexport function TestItem_getOrMakeHierarchyPath(rootCollection, itemFactory, tryGetLocation, projectPath, targetFramework, fullTestName) {\r\n    const recurse = (collection_mut, parentPath_mut, remainingPath_mut) => {\r\n        recurse:\r\n        while (true) {\r\n            const collection = collection_mut, parentPath = parentPath_mut, remainingPath = remainingPath_mut;\r\n            const patternInput = isEmpty(remainingPath) ? [TestName_SegmentModule_empty, empty_1()] : [head(remainingPath), tail(remainingPath)];\r\n            const remainingPath_2 = patternInput[1];\r\n            const currentLabel_1 = patternInput[0];\r\n            const fullName = TestName_appendSegment(parentPath, currentLabel_1);\r\n            const id = TestItem_constructId(projectPath, fullName);\r\n            const maybeLocation = tryGetLocation(id);\r\n            const existingItem = collection.get(id);\r\n            const testItem = (existingItem == null) ? itemFactory(new TestItem_TestItemBuilder(id, currentLabel_1.Text, LocationRecordModule_tryGetUri(maybeLocation), LocationRecordModule_tryGetRange(maybeLocation), [], void 0)) : existingItem;\r\n            collection.add(testItem);\r\n            if (!equals(remainingPath_2, empty_1())) {\r\n                collection_mut = testItem.children;\r\n                parentPath_mut = fullName;\r\n                remainingPath_mut = remainingPath_2;\r\n                continue recurse;\r\n            }\r\n            else {\r\n                return testItem;\r\n            }\r\n            break;\r\n        }\r\n    };\r\n    let projectRoot;\r\n    const projectPath_1 = projectPath;\r\n    const matchValue = rootCollection.get(TestItem_constructProjectRootId(projectPath_1));\r\n    projectRoot = ((matchValue != null) ? matchValue : TestItem_fromProject(itemFactory, projectPath_1, targetFramework, []));\r\n    const pathSegments = TestName_splitSegments(fullTestName);\r\n    return recurse(projectRoot.children, \"\", pathSegments);\r\n}\r\n\r\nexport function CodeLocationCacheModule_cacheTestLocations(locationCache, filePath, testItems) {\r\n    CodeLocationCache__DeleteByFile_Z429A7006(locationCache, vscode.Uri.parse(filePath, true));\r\n    map((root) => TestItem_preWalk((testItem) => {\r\n        iterate((l) => {\r\n            CodeLocationCache__Save_Z528A07B(locationCache, testItem.id, l);\r\n        }, toArray(LocationRecordModule_testToLocation(testItem)));\r\n    }, root), testItems);\r\n}\r\n\r\nexport function ProjectExt_getAllWorkspaceProjects() {\r\n    return map_1((status) => {\r\n        switch (status.tag) {\r\n            case 4:\r\n                return status.fields[0];\r\n            case 0:\r\n                return status.fields[0];\r\n            case 2:\r\n                return status.fields[0];\r\n            case 3:\r\n                return status.fields[0];\r\n            default:\r\n                return status.fields[0].Project;\r\n        }\r\n    }, getInWorkspace());\r\n}\r\n\r\nexport function ProjectExt_isTestProject(project) {\r\n    const testProjectIndicators = ofSeq([\"Microsoft.TestPlatform.TestHost\", \"Microsoft.NET.Test.Sdk\"], {\r\n        Compare: comparePrimitives,\r\n    });\r\n    return project.PackageReferences.some((pr) => contains(pr.Name, testProjectIndicators));\r\n}\r\n\r\nexport function TestDiscovery_tryMatchCodeLocations(testItemFactory, tryMatchDisplacedTest, rootTestCollection, testsFromCode) {\r\n    const cloneWithUri = (tupledArg) => {\r\n        const target = tupledArg[0];\r\n        const withUri = tupledArg[1];\r\n        return [testItemFactory(new TestItem_TestItemBuilder(target.id, target.label, withUri.uri, withUri.range, Fable_Import_VSCode_Vscode_TestItemCollection__TestItemCollection_TestItems(target.children), withUri.testFramework)), withUri];\r\n    };\r\n    const recurse = (target_1, withUri_1) => {\r\n        const patternInput = ArrayExt_venn(TestItem_getId, TestItem_getId, Fable_Import_VSCode_Vscode_TestItemCollection__TestItemCollection_TestItems(target_1), withUri_1);\r\n        const exactPathMatch = map(cloneWithUri, patternInput[1]);\r\n        const newTestCollection = concat([map((unlocated) => {\r\n            const matchValue = tryMatchDisplacedTest(unlocated.id);\r\n            if (matchValue == null) {\r\n                return unlocated;\r\n            }\r\n            else {\r\n                const displacedFragmentRoot = matchValue;\r\n                const updated = cloneWithUri([unlocated, displacedFragmentRoot])[0];\r\n                recurse(updated.children, Fable_Import_VSCode_Vscode_TestItemCollection__TestItemCollection_TestItems(displacedFragmentRoot.children));\r\n                return updated;\r\n            }\r\n        }, patternInput[0]), map((tuple) => tuple[0], exactPathMatch)]);\r\n        target_1.replace(Array.from(newTestCollection));\r\n        exactPathMatch.forEach((tupledArg_1) => {\r\n            recurse(tupledArg_1[0].children, Fable_Import_VSCode_Vscode_TestItemCollection__TestItemCollection_TestItems(tupledArg_1[1].children));\r\n        });\r\n    };\r\n    recurse(rootTestCollection, testsFromCode);\r\n}\r\n\r\nexport function TestDiscovery_mergeCodeUpdates(targetCollection, previousCodeTests, newCodeTests, isKnownDisplacedFragment) {\r\n    const recurse = (targetCollection_1, previousCodeTests_1, newCodeTests_1) => {\r\n        const comparef = (t) => {\r\n            let maybeRange, positionComparable, range;\r\n            return [t.id, (maybeRange = t.range, (positionComparable = ((p) => (`${p.line}:${p.character}`)), (maybeRange != null) ? ((range = maybeRange, `(${positionComparable(range.start)},${positionComparable(range.end)})`)) : \"none\"))];\r\n        };\r\n        const patternInput = ArrayExt_venn(comparef, comparef, previousCodeTests_1, newCodeTests_1);\r\n        const array_1 = map(TestItem_getId, patternInput[0]);\r\n        array_1.forEach((arg) => {\r\n            targetCollection_1.delete(arg);\r\n        });\r\n        const array_3 = patternInput[2].filter((arg_1) => isKnownDisplacedFragment(TestItem_getId(arg_1)));\r\n        array_3.forEach((arg_2) => {\r\n            targetCollection_1.add(arg_2);\r\n        });\r\n        patternInput[1].forEach((tupledArg) => {\r\n            const newCodeTest = tupledArg[1];\r\n            const matchValue = targetCollection_1.get(newCodeTest.id);\r\n            if (matchValue != null) {\r\n                const targetItem = matchValue;\r\n                recurse(targetItem.children, Fable_Import_VSCode_Vscode_TestItemCollection__TestItemCollection_TestItems(tupledArg[0].children), Fable_Import_VSCode_Vscode_TestItemCollection__TestItemCollection_TestItems(newCodeTest.children));\r\n            }\r\n        });\r\n    };\r\n    recurse(targetCollection, previousCodeTests, newCodeTests);\r\n}\r\n\r\nexport function TestDiscovery_discoverFromTrx(testItemFactory, tryGetLocation, makeTrxPath, projects) {\r\n    return map((tupledArg_1) => {\r\n        const project = tupledArg_1[0];\r\n        const projectPath = project.Project;\r\n        return TestItem_fromProject(testItemFactory, projectPath, project.Info.TargetFramework, map((hierarchy_1) => {\r\n            const testFramework = TestName_NameHierarchy_tryPick((nh) => bind((trxDef) => TrxParser_adapterTypeNameToTestFramework(trxDef.TestMethod.AdapterTypeName), nh.Data), hierarchy_1);\r\n            return TestItem_fromNamedHierarchy((testItemBuilder) => testItemFactory(new TestItem_TestItemBuilder(testItemBuilder.id, testItemBuilder.label, testItemBuilder.uri, testItemBuilder.range, testItemBuilder.children, testFramework)), tryGetLocation, projectPath, hierarchy_1);\r\n        }, TrxParser_inferHierarchy(tupledArg_1[1])));\r\n    }, map((tupledArg) => [tupledArg[0], TrxParser_extractTestDefinitions(tupledArg[1])], choose((p) => {\r\n        const matchValue = Path_tryPath(makeTrxPath(p.Project));\r\n        if (matchValue == null) {\r\n            return void 0;\r\n        }\r\n        else {\r\n            return [p, matchValue];\r\n        }\r\n    }, toArray_2(projects))));\r\n}\r\n\r\nexport class Interactions_ProjectRunRequest extends Record {\r\n    constructor(ProjectPath, TargetFramework, ShouldDebug, Tests, HasIncludeFilter) {\r\n        super();\r\n        this.ProjectPath = ProjectPath;\r\n        this.TargetFramework = TargetFramework;\r\n        this.ShouldDebug = ShouldDebug;\r\n        this.Tests = Tests;\r\n        this.HasIncludeFilter = HasIncludeFilter;\r\n    }\r\n}\r\n\r\nexport function Interactions_ProjectRunRequest_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharp.TestExplorer.Interactions.ProjectRunRequest\", [], Interactions_ProjectRunRequest, () => [[\"ProjectPath\", string_type], [\"TargetFramework\", string_type], [\"ShouldDebug\", bool_type], [\"Tests\", array_type(class_type(\"Fable.Import.VSCode.Vscode.TestItem\"))], [\"HasIncludeFilter\", bool_type]]);\r\n}\r\n\r\nexport function Interactions_TestRun_normalizeLineEndings(str) {\r\n    return replace(str, \"\\\\r\\\\n|\\\\n\\\\r|\\\\n|\\\\r\", \"\\r\\n\");\r\n}\r\n\r\nexport function Interactions_TestRun_appendOutputLine(testRun, message) {\r\n    let arg;\r\n    testRun.appendOutput((arg = Interactions_TestRun_normalizeLineEndings(message), toText(printf(\"%s\\r\\n\"))(arg)));\r\n}\r\n\r\nexport function Interactions_TestRun_appendOutputLineForTest(testRun, testItem, message) {\r\n    let message_1;\r\n    const arg = Interactions_TestRun_normalizeLineEndings(message);\r\n    message_1 = toText(printf(\"%s\\r\\n\"))(arg);\r\n    const matchValue = TestItem_tryGetLocation(testItem);\r\n    if (matchValue == null) {\r\n        testRun.appendOutput(message_1, void 0, testItem);\r\n    }\r\n    else {\r\n        const location = matchValue;\r\n        testRun.appendOutput(message_1, location, testItem);\r\n    }\r\n}\r\n\r\nexport function Interactions_TestRun_showEnqueued(testRun, testItems) {\r\n    testItems.forEach((arg) => {\r\n        testRun.enqueued(arg);\r\n    });\r\n}\r\n\r\nexport function Interactions_TestRun_showStarted(testRun, testItems) {\r\n    testItems.forEach((arg) => {\r\n        testRun.started(arg);\r\n    });\r\n}\r\n\r\nexport function Interactions_TestRun_showFailure(testRun, testItem, message, duration) {\r\n    testRun.failed(testItem, message, duration);\r\n}\r\n\r\nexport function Interactions_TestRun_showError(testRun, message, testItems) {\r\n    testItems.forEach((testItem) => {\r\n        testRun.errored(testItem, new vscode.TestMessage(message));\r\n    });\r\n}\r\n\r\nexport class Interactions_ProgressCancellable extends Union {\r\n    constructor(tag, fields) {\r\n        super();\r\n        this.tag = tag;\r\n        this.fields = fields;\r\n    }\r\n    cases() {\r\n        return [\"WithCancel\", \"NoCancel\"];\r\n    }\r\n}\r\n\r\nexport function Interactions_ProgressCancellable_$reflection() {\r\n    return union_type(\"Ionide.VSCode.FSharp.TestExplorer.Interactions.ProgressCancellable\", [], Interactions_ProgressCancellable, () => [[], []]);\r\n}\r\n\r\nexport function Interactions_withProgress(isCancellable, f) {\r\n    const progressOpts = {};\r\n    progressOpts.location = 10;\r\n    progressOpts.cancellable = (!(isCancellable.tag === 1));\r\n    return Promise_ofThenable(window$.withProgress(progressOpts, (progress, cancellationToken) => Promise_toThenable(f(progress, cancellationToken))));\r\n}\r\n\r\nconst Interactions_filterEscapeCharacter = \"\\\\\";\r\n\r\nconst Interactions_filterSpecialCharacters = [\"\\\\\", \"(\", \")\", \"&\", \"|\", \"=\", \"!\", \"~\"];\r\n\r\nconst Interactions_filterSpecialCharactersSet = ofArray(Interactions_filterSpecialCharacters, {\r\n    Compare: comparePrimitives,\r\n});\r\n\r\nfunction Interactions_buildFilterExpression(tests) {\r\n    return join(\"|\", map((test) => {\r\n        let toSplit, matchValue;\r\n        const fullTestName = TestItem_getFullName(test.id);\r\n        let escapedTestName;\r\n        const str = fullTestName;\r\n        if (indexOfAny(str, Interactions_filterSpecialCharacters) < 0) {\r\n            escapedTestName = str;\r\n        }\r\n        else {\r\n            const builder = StringBuilder_$ctor();\r\n            for (let i = 0; i <= (str.length - 1); i++) {\r\n                const currentChar = str[i];\r\n                if (FSharpSet__Contains(Interactions_filterSpecialCharactersSet, currentChar)) {\r\n                    StringBuilder__Append_244C7CD6(builder, Interactions_filterEscapeCharacter);\r\n                }\r\n                StringBuilder__Append_244C7CD6(builder, currentChar);\r\n            }\r\n            escapedTestName = toString(builder);\r\n        }\r\n        if ((escapedTestName.indexOf(\" \") >= 0) && (Fable_Import_VSCode_Vscode_TestItem__TestItem_get_TestFramework(test) === \"NUnit\")) {\r\n            return `(FullyQualifiedName~${escapedTestName.split(\" \")[0]})`;\r\n        }\r\n        else if (Fable_Import_VSCode_Vscode_TestItem__TestItem_get_TestFramework(test) === \"XUnit\") {\r\n            return `(DisplayName${(test.children.size === 0) ? \"=\" : \"~\"}${escapedTestName})`;\r\n        }\r\n        else if ((Fable_Import_VSCode_Vscode_TestItem__TestItem_get_TestFramework(test) === \"MSTest\") && String_endWith(\")\", fullTestName)) {\r\n            return `(FullyQualifiedName~${(toSplit = escapedTestName, (matchValue = (toSplit.lastIndexOf(\" \\\\(\") | 0), (matchValue === -1) ? toSplit : substring(toSplit, 0, matchValue)))})`;\r\n        }\r\n        else if (test.children.size === 0) {\r\n            return `(FullyQualifiedName=${escapedTestName})`;\r\n        }\r\n        else {\r\n            return `(FullyQualifiedName~${escapedTestName})`;\r\n        }\r\n    }, tests));\r\n}\r\n\r\nfunction Interactions_displayTestResultInExplorer(testRun, testItem, testResult) {\r\n    const matchValue = testResult.Outcome;\r\n    switch (matchValue) {\r\n        case \"Passed\": {\r\n            testRun.passed(testItem, testResult.Timing);\r\n            break;\r\n        }\r\n        case \"Failed\": {\r\n            let fullErrorMessage;\r\n            const matchValue_1 = testResult.ErrorMessage;\r\n            if (matchValue_1 == null) {\r\n                fullErrorMessage = \"No error reported\";\r\n            }\r\n            else {\r\n                const em = matchValue_1;\r\n                fullErrorMessage = defaultArg(map_3((stackTrace) => toText(printf(\"%s\\n%s\"))(em)(stackTrace), testResult.ErrorStackTrace), em);\r\n            }\r\n            const msg = new vscode.TestMessage(fullErrorMessage);\r\n            msg.location = TestItem_tryGetLocation(testItem);\r\n            msg.expectedOutput = testResult.Expected;\r\n            msg.actualOutput = testResult.Actual;\r\n            Interactions_TestRun_showFailure(testRun, testItem, msg, testResult.Timing);\r\n            break;\r\n        }\r\n        default:\r\n            testRun.skipped(testItem);\r\n    }\r\n}\r\n\r\nexport function Interactions_mergeTestResultsToExplorer(rootTestCollection, testItemFactory, tryGetLocation, testRun, projectPath, targetFramework, expectedToRun, testResults) {\r\n    const patternInput = ArrayExt_venn((t) => TestItem_getFullName(t.id), (r) => r.FullTestName, expectedToRun, testResults);\r\n    patternInput[1].forEach((tupledArg) => {\r\n        Interactions_displayTestResultInExplorer(testRun, tupledArg[0], tupledArg[1]);\r\n    });\r\n    patternInput[0].forEach((testWithoutResult) => {\r\n        let parentCollection;\r\n        const matchValue = testWithoutResult.parent;\r\n        if (matchValue == null) {\r\n            parentCollection = rootTestCollection;\r\n        }\r\n        else {\r\n            const parent = matchValue;\r\n            parentCollection = parent.children;\r\n        }\r\n        parentCollection.delete(testWithoutResult.id);\r\n    });\r\n    patternInput[2].forEach((additionalResult) => {\r\n        Interactions_displayTestResultInExplorer(testRun, TestItem_getOrMakeHierarchyPath(rootTestCollection, (ti) => testItemFactory(new TestItem_TestItemBuilder(ti.id, ti.label, ti.uri, ti.range, ti.children, additionalResult.TestFramework)), tryGetLocation, projectPath, targetFramework, additionalResult.FullTestName), additionalResult);\r\n    });\r\n}\r\n\r\nfunction Interactions_trxResultToTestResult(trxResult) {\r\n    let patternInput;\r\n    const matchValue = trxResult.UnitTestResult.Output.ErrorInfo.Message;\r\n    if (matchValue != null) {\r\n        const lines = map(trimStart, split_1(matchValue, [\"\\r\\n\", \"\\n\"], void 0, 1));\r\n        const tryFind = (startsWith) => map_3((line_1) => trimStart(replace_1(line_1, startsWith, \"\")), tryFind_1((line) => (line.indexOf(startsWith) === 0), lines));\r\n        patternInput = [tryFind(\"Expected:\"), tryFind(\"But was:\")];\r\n    }\r\n    else {\r\n        patternInput = [void 0, void 0];\r\n    }\r\n    return new TestResult(TrxParser_UnitTest__get_FullName(trxResult.UnitTest), trxResult.UnitTestResult.Outcome, trxResult.UnitTestResult.Output.ErrorInfo.Message, trxResult.UnitTestResult.Output.ErrorInfo.StackTrace, patternInput[0], patternInput[1], milliseconds(trxResult.UnitTestResult.Duration), TrxParser_adapterTypeNameToTestFramework(trxResult.UnitTest.TestMethod.AdapterTypeName));\r\n}\r\n\r\nfunction Interactions_runTestProject_withoutExceptionHandling(mergeResultsToExplorer, makeTrxPath, testRun, cancellationToken, projectRunRequest) {\r\n    return PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => {\r\n        const projectPath = projectRunRequest.ProjectPath;\r\n        const runnableTests = Array_distinctBy(TestItem_getId, collect(TestItem_runnableChildren, projectRunRequest.Tests), {\r\n            Equals: (x, y) => (x === y),\r\n            GetHashCode: stringHash,\r\n        });\r\n        Interactions_TestRun_showStarted(testRun, runnableTests);\r\n        const filterExpression = projectRunRequest.HasIncludeFilter ? Interactions_buildFilterExpression(projectRunRequest.Tests) : void 0;\r\n        const trxPath = makeTrxPath(projectPath);\r\n        return Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, DotnetCli_test(projectPath, projectRunRequest.TargetFramework, trxPath, filterExpression, DotnetCli_DebugTestsModule_ofBool(projectRunRequest.ShouldDebug), cancellationToken)).then((_arg) => {\r\n            Interactions_TestRun_appendOutputLine(testRun, _arg);\r\n            const testResults = map(Interactions_trxResultToTestResult, TrxParser_extractTrxResults(trxPath));\r\n            if (testResults.length === 0) {\r\n                const message = `WARNING: No tests ran for project \"${projectPath}\". \r\nThe test explorer might be out of sync. Try running a higher test or refreshing the test explorer`;\r\n                window$.showWarningMessage(message);\r\n                Interactions_TestRun_appendOutputLine(testRun, message);\r\n                return Promise.resolve();\r\n            }\r\n            else {\r\n                mergeResultsToExplorer(testRun, projectPath, projectRunRequest.TargetFramework, runnableTests, testResults);\r\n                return Promise.resolve();\r\n            }\r\n        });\r\n    }));\r\n}\r\n\r\nexport function Interactions_runTestProject(mergeResultsToExplorer, makeTrxPath, testRun, cancellationToken, projectRunRequest) {\r\n    return PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => (PromiseBuilder__Delay_62FBFDE1(promise, () => (Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, Interactions_runTestProject_withoutExceptionHandling(mergeResultsToExplorer, makeTrxPath, testRun, cancellationToken, projectRunRequest)))).catch((_arg) => {\r\n        const message = ` Error running tests: \n    project: ${projectRunRequest.ProjectPath} \n\n    error:\n        ${_arg.message}`;\r\n        Interactions_TestRun_appendOutputLine(testRun, message);\r\n        Interactions_TestRun_showError(testRun, message, projectRunRequest.Tests);\r\n        return Promise.resolve();\r\n    }))));\r\n}\r\n\r\nfunction Interactions_filtersToProjectRunRequests(rootTestCollection, runRequest) {\r\n    return map((tupledArg) => {\r\n        let projectRootItemId;\r\n        const projectPath = tupledArg[0];\r\n        const tests = tupledArg[1];\r\n        const project = defaultArgWith(bind((loadingState) => {\r\n            if (loadingState.tag === 1) {\r\n                return loadingState.fields[0];\r\n            }\r\n            else {\r\n                throw new Error(`Could not run tests: project not loaded. ${projectPath}`);\r\n            }\r\n        }, tryFindInWorkspace(projectPath)), () => {\r\n            const message_1 = `Could not run tests: project does not found in workspace. ${projectPath}`;\r\n            ConsoleAndOutputChannelLogger__Error_Z17053F5(logger, message_1);\r\n            throw new Error(message_1);\r\n        });\r\n        const shouldDebug = defaultArg(map_3((p) => (p.kind === 2), runRequest.profile), false);\r\n        let hasIncludeFilter;\r\n        let isOnlyProjectSelected;\r\n        if (!equalsWith(equals, tests, defaultOf()) && (tests.length === 1)) {\r\n            const single = tests[0];\r\n            isOnlyProjectSelected = (single.id === TestItem_constructProjectRootId(project.Project));\r\n        }\r\n        else {\r\n            isOnlyProjectSelected = false;\r\n        }\r\n        hasIncludeFilter = ((runRequest.include != null) && !isOnlyProjectSelected);\r\n        return new Interactions_ProjectRunRequest(projectPath, project.Info.TargetFramework, shouldDebug, (projectRootItemId = TestItem_constructProjectRootId(project.Project), Array_distinctBy(TestItem_getId, collect((testItem) => {\r\n            if (testItem.id === projectRootItemId) {\r\n                return Fable_Import_VSCode_Vscode_TestItemCollection__TestItemCollection_TestItems(testItem.children);\r\n            }\r\n            else {\r\n                return [testItem];\r\n            }\r\n        }, tests), {\r\n            Equals: (x_1, y_1) => (x_1 === y_1),\r\n            GetHashCode: stringHash,\r\n        })), hasIncludeFilter);\r\n    }, Array_groupBy((arg) => TestItem_getProjectPath(TestItem_getId(arg)), defaultArg(map_3((source) => Array.from(source), runRequest.include), Fable_Import_VSCode_Vscode_TestItemCollection__TestItemCollection_TestItems(rootTestCollection)), {\r\n        Equals: (x, y) => (x === y),\r\n        GetHashCode: stringHash,\r\n    }));\r\n}\r\n\r\nexport function Interactions_runHandler(testController, tryGetLocation, makeTrxPath, req, _ct) {\r\n    const testRun = testController.createTestRun(req);\r\n    ConsoleAndOutputChannelLogger__Debug_Z17053F5(logger, \"TestRunRequest\", req);\r\n    if (testController.items.size < 1) {\r\n        testRun.end();\r\n    }\r\n    else {\r\n        const projectRunRequests = Interactions_filtersToProjectRunRequests(testController.items, req);\r\n        const testItemFactory = TestItem_itemFactoryForController(testController);\r\n        let mergeTestResultsToExplorer;\r\n        const rootTestCollection = testController.items;\r\n        mergeTestResultsToExplorer = ((testRun_1) => ((projectPath) => ((targetFramework) => ((expectedToRun) => ((testResults) => {\r\n            Interactions_mergeTestResultsToExplorer(rootTestCollection, testItemFactory, tryGetLocation, testRun_1, projectPath, targetFramework, expectedToRun, testResults);\r\n        })))));\r\n        Promise_toThenable(PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => {\r\n            let testRun_2;\r\n            Interactions_TestRun_showEnqueued(testRun, collect((rr) => TestItem_runnableFromArray(rr.Tests), projectRunRequests));\r\n            return Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, Promise_mapExecuteForAll((testRun_2 = testRun, (projectRunRequest_1) => PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => {\r\n                const runnableTests = TestItem_runnableFromArray(projectRunRequest_1.Tests);\r\n                const projectPath_1 = projectRunRequest_1.ProjectPath;\r\n                return Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, DotnetCli_restore(projectPath_1)).then((_arg) => (Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, invokeMSBuildWithCancel(projectPath_1, \"Build\", _ct)).then((_arg_1) => {\r\n                    if (!equals(_arg_1.Code, 0)) {\r\n                        Interactions_TestRun_showError(testRun_2, \"Project build failed\", runnableTests);\r\n                        Interactions_TestRun_appendOutputLine(testRun_2, ` Failed to build project: ${projectPath_1}`);\r\n                        return Promise.resolve(void 0);\r\n                    }\r\n                    else {\r\n                        return Promise.resolve(projectRunRequest_1);\r\n                    }\r\n                })));\r\n            }))), ofArray_1(projectRunRequests))).then((_arg_2) => {\r\n                const successfullyBuiltRequests = choose_1((x) => x, _arg_2);\r\n                return Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, Promise_executeWithMaxParallel(maxParallelTestProjects, (projectRunRequest) => Interactions_runTestProject(uncurry5(mergeTestResultsToExplorer), makeTrxPath, testRun, _ct, projectRunRequest), successfullyBuiltRequests)).then((_arg_3) => {\r\n                    testRun.end();\r\n                    return Promise.resolve();\r\n                });\r\n            });\r\n        })));\r\n    }\r\n}\r\n\r\nexport function Interactions_refreshTestList(testItemFactory, rootTestCollection, tryGetLocation, makeTrxPath, cancellationToken) {\r\n    return Interactions_withProgress(new Interactions_ProgressCancellable(1, []), (p, progressCancelToken) => PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => {\r\n        const report = (message) => {\r\n            ConsoleAndOutputChannelLogger__Info_Z17053F5(logger, message);\r\n            p.report({\r\n                message: message,\r\n            });\r\n        };\r\n        const cancellationToken_1 = CancellationToken_mergeTokens(ofArray_1([cancellationToken, progressCancelToken]));\r\n        const testProjects = filter_1(ProjectExt_isTestProject, getLoaded());\r\n        ConsoleAndOutputChannelLogger__Debug_Z17053F5(logger, \"Refresh - Test Projects\", toArray_2(map_1(ProjectPathModule_fromProject, testProjects)));\r\n        const testProjectCount = length(testProjects) | 0;\r\n        report(`Building ${testProjectCount} test projects`);\r\n        return Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, Promise_mapExecuteForAll((project_2) => PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => {\r\n            const projectPath = project_2.Project;\r\n            ConsoleAndOutputChannelLogger__Info_Z17053F5(logger, `Building ${projectPath}`);\r\n            return Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, invokeMSBuildWithCancel(projectPath, \"Build\", cancellationToken_1)).then((_arg) => (Promise.resolve([project_2, _arg])));\r\n        })), testProjects)).then((_arg_1) => {\r\n            let pr_2;\r\n            let patternInput;\r\n            const tupledArg_1 = partition_1((tupledArg) => equals(tupledArg[1].Code, 0), _arg_1);\r\n            patternInput = ListExt_mapPartitioned((tuple) => tuple[0], tupledArg_1[0], tupledArg_1[1]);\r\n            const buildFailures = patternInput[1];\r\n            if (!isEmpty(buildFailures)) {\r\n                window$.showErrorMessage(\"Couldn\\'t build test projects. Make sure you can build projects with `dotnet build`\");\r\n                ConsoleAndOutputChannelLogger__Error_Z17053F5(logger, \"Couldn\\'t build test projects. Make sure you can build projects with `dotnet build`\", map_1(ProjectPathModule_fromProject, buildFailures));\r\n                return Promise.resolve();\r\n            }\r\n            else {\r\n                const detectablePackageToFramework = new Map([[\"Expecto\", \"Expecto\"], [\"xunit.abstractions\", \"XUnit\"]]);\r\n                const librariesCapableOfListOnlyDiscovery = ofSeq(detectablePackageToFramework.keys(), {\r\n                    Compare: comparePrimitives,\r\n                });\r\n                const patternInput_1 = partition_1((project_4) => project_4.PackageReferences.some((pr) => contains(pr.Name, librariesCapableOfListOnlyDiscovery)), patternInput[0]);\r\n                const trxDiscoveryProjects = patternInput_1[1];\r\n                return Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, (pr_2 = ListExt_mapKeepInputAsync((project_5) => PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => {\r\n                    report(`Discovering tests for ${project_5.Project}`);\r\n                    return Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, DotnetCli_listTests(project_5.Project, project_5.Info.TargetFramework, false, cancellationToken_1)).then((_arg_3) => {\r\n                        const detectedTestFramework = tryPick((arg_1) => Dict_tryGet(detectablePackageToFramework, arg_1.Name), project_5.PackageReferences);\r\n                        const testItemFactory_1 = (testItemBuilder) => testItemFactory(new TestItem_TestItemBuilder(testItemBuilder.id, testItemBuilder.label, testItemBuilder.uri, testItemBuilder.range, testItemBuilder.children, detectedTestFramework));\r\n                        const testHierarchy = map((hierarchy) => TestItem_fromNamedHierarchy(testItemFactory_1, tryGetLocation, project_5.Project, hierarchy), TestName_inferHierarchy(map((n) => ({\r\n                            FullName: n,\r\n                        }), _arg_3)));\r\n                        return Promise.resolve(TestItem_fromProject(testItemFactory_1, project_5.Project, project_5.Info.TargetFramework, testHierarchy));\r\n                    });\r\n                })), patternInput_1[0]), Promise.all(pr_2))).then((_arg_4) => {\r\n                    const listDiscoveredPerProject = _arg_4;\r\n                    iterate_1((arg_3) => {\r\n                        Path_deleteIfExists(makeTrxPath(ProjectPathModule_fromProject(arg_3)));\r\n                    }, trxDiscoveryProjects);\r\n                    return Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, Promise_executeWithMaxParallel(maxParallelTestProjects, (project_7) => {\r\n                        const projectPath_2 = project_7.Project;\r\n                        report(`Discovering tests for ${projectPath_2}`);\r\n                        return DotnetCli_test(projectPath_2, project_7.Info.TargetFramework, makeTrxPath(projectPath_2), void 0, new DotnetCli_DebugTests(1, []), cancellationToken_1);\r\n                    }, trxDiscoveryProjects)).then((_arg_5) => {\r\n                        const trxDiscoveredTests = TestDiscovery_discoverFromTrx(testItemFactory, tryGetLocation, makeTrxPath, trxDiscoveryProjects);\r\n                        const newTests = concat([map((tuple_1) => tuple_1[1], listDiscoveredPerProject), trxDiscoveredTests]);\r\n                        report(`Discovered ${sumBy((arg_5) => {\r\n                            const array_5 = TestItem_runnableChildren(arg_5);\r\n                            return array_5.length | 0;\r\n                        }, newTests, {\r\n                            GetZero: () => 0,\r\n                            Add: (x_1, y_1) => (x_1 + y_1),\r\n                        })} tests`);\r\n                        rootTestCollection.replace(Array.from(newTests));\r\n                        if ((testProjectCount > 0) && (newTests.length === 0)) {\r\n                            window$.showWarningMessage(\"Detected test projects but no tests. Make sure your tests can be run with `dotnet test`\");\r\n                            ConsoleAndOutputChannelLogger__Warn_Z17053F5(logger, \"Detected test projects but no tests. Make sure your tests can be run with `dotnet test`\");\r\n                            return Promise.resolve();\r\n                        }\r\n                        else {\r\n                            const possibleDiscoveryFailures = concat(toList(delay(() => append(singleton(map((arg_9) => ProjectPathModule_fromProject(arg_9[0]), listDiscoveredPerProject.filter((arg_8) => {\r\n                                const array_7 = Fable_Import_VSCode_Vscode_TestItemCollection__TestItemCollection_TestItems(arg_8[1].children);\r\n                                return array_7.length === 0;\r\n                            }))), delay(() => {\r\n                                let array_11;\r\n                                return singleton((array_11 = map(ProjectPathModule_fromProject, toArray_2(trxDiscoveryProjects)), array_11.filter((arg_11) => (Path_tryPath(makeTrxPath(arg_11)) == null))));\r\n                            })))));\r\n                            if (!(possibleDiscoveryFailures.length === 0)) {\r\n                                const message_2 = `No tests discovered for the following projects. Make sure your tests can be run with \\`dotnet test\\` \n ${join(\"\\n\", possibleDiscoveryFailures)}`;\r\n                                ConsoleAndOutputChannelLogger__Warn_Z17053F5(logger, message_2);\r\n                                window$.showWarningMessage(message_2);\r\n                                return Promise.resolve();\r\n                            }\r\n                            else {\r\n                                return Promise.resolve();\r\n                            }\r\n                        }\r\n                    });\r\n                });\r\n            }\r\n        });\r\n    })));\r\n}\r\n\r\nexport function Interactions_tryMatchTestBySuffix(locationCache, testId) {\r\n    return tryFind_2((locatedTestId) => endsWith(testId, TestItem_getFullName(locatedTestId)), CodeLocationCache__GetKnownTestIds(locationCache));\r\n}\r\n\r\nexport function Interactions_Option_tee(f, option) {\r\n    iterate(f, toArray(option));\r\n    return option;\r\n}\r\n\r\nexport function Interactions_Option_tryFallback(f, opt) {\r\n    if (opt == null) {\r\n        return f();\r\n    }\r\n    else {\r\n        return opt;\r\n    }\r\n}\r\n\r\nexport function Interactions_tryGetLocation(locationCache, testId) {\r\n    const cached = CodeLocationCache__GetById_Z721C83C5(locationCache, testId);\r\n    if (cached == null) {\r\n        return Interactions_Option_tee((lr) => {\r\n            CodeLocationCache__Save_Z528A07B(locationCache, testId, lr);\r\n        }, bind((arg) => CodeLocationCache__GetById_Z721C83C5(locationCache, arg), Interactions_tryMatchTestBySuffix(locationCache, testId)));\r\n    }\r\n    else {\r\n        return cached;\r\n    }\r\n}\r\n\r\nexport function Interactions_onTestsDiscoveredInCode(testItemFactory, rootTestCollection, locationCache, testsPerFileCache, displacedFragmentMapCache, testsForFile) {\r\n    let filePath;\r\n    iterate((filePath = testsForFile.file, (testsFromCode) => {\r\n        CodeLocationCacheModule_cacheTestLocations(locationCache, filePath, testsFromCode);\r\n        TestDiscovery_tryMatchCodeLocations(testItemFactory, (testId) => Interactions_Option_tee((matchedTest) => {\r\n            iterate((lr) => {\r\n                CodeLocationCache__Save_Z528A07B(locationCache, testId, lr);\r\n            }, toArray(LocationRecordModule_testToLocation(matchedTest)));\r\n        }, bind((matchedId_1) => TestItem_tryGetById(matchedId_1, testsFromCode), Interactions_Option_tee((matchedId) => {\r\n            displacedFragmentMapCache.set(testId, matchedId);\r\n        }, Interactions_Option_tryFallback(() => Interactions_tryMatchTestBySuffix(locationCache, testId), displacedFragmentMapCache.has(testId) ? displacedFragmentMapCache.get(testId) : null)))), rootTestCollection, testsFromCode);\r\n        const cached = testsPerFileCache.has(filePath) ? testsPerFileCache.get(filePath) : null;\r\n        if (cached != null) {\r\n            TestDiscovery_mergeCodeUpdates(rootTestCollection, cached, testsFromCode, (arg) => displacedFragmentMapCache.has(arg));\r\n        }\r\n        testsPerFileCache.set(filePath, testsFromCode);\r\n    }), toArray(TestItem_tryFromTestForFile(testItemFactory, testsForFile)));\r\n}\r\n\r\nexport function Mailbox_continuousLoop(f, mailbox) {\r\n    const idleLoop = () => singleton_1.Delay(() => singleton_1.Bind(receive(mailbox), (_arg) => {\r\n        f(_arg);\r\n        return singleton_1.ReturnFrom(idleLoop());\r\n    }));\r\n    return idleLoop();\r\n}\r\n\r\nexport function activate(context) {\r\n    const testController = tests_1.createTestController(\"fsharp-test-controller\", \"F# Test Controller\");\r\n    const testItemFactory = TestItem_itemFactoryForController(testController);\r\n    const locationCache = CodeLocationCache_$ctor();\r\n    const workspaceRoot = value_5(workspace.rootPath);\r\n    const storageUri = defaultArg(map_3((uri) => uri.fsPath, context.storageUri), workspaceRoot);\r\n    ConsoleAndOutputChannelLogger__Debug_Z17053F5(logger, \"Extension Storage\", storageUri);\r\n    const makeTrxPath = (projectPath) => TrxParser_makeTrxPath(workspaceRoot, storageUri, projectPath);\r\n    const tryGetLocation = (testId) => Interactions_tryGetLocation(locationCache, testId);\r\n    const runHandler = (req, _ct) => Interactions_runHandler(testController, tryGetLocation, makeTrxPath, req, _ct);\r\n    const arg = testController.createRunProfile(\"Run F# Tests\", 1, runHandler, true);\r\n    const objectArg = context.subscriptions;\r\n    void (objectArg.push(arg));\r\n    const arg_1 = testController.createRunProfile(\"Debug F# Tests\", 2, runHandler, false);\r\n    const objectArg_1 = context.subscriptions;\r\n    void (objectArg_1.push(arg_1));\r\n    const testsPerFileCache = new Map([]);\r\n    const displacedFragmentMapCache = new Map([]);\r\n    let onTestsDiscoveredInCode;\r\n    const rootTestCollection = testController.items;\r\n    onTestsDiscoveredInCode = ((testsForFile) => {\r\n        Interactions_onTestsDiscoveredInCode(testItemFactory, rootTestCollection, locationCache, testsPerFileCache, displacedFragmentMapCache, testsForFile);\r\n    });\r\n    const codeTestsDiscoveredMailbox = start((mailbox) => Mailbox_continuousLoop(onTestsDiscoveredInCode, mailbox));\r\n    const arg_2 = Notifications_testDetected((testsForFile_1) => {\r\n        post(codeTestsDiscoveredMailbox, testsForFile_1);\r\n        return void 0;\r\n    });\r\n    const objectArg_2 = context.subscriptions;\r\n    void (objectArg_2.push(arg_2));\r\n    testController.refreshHandler = ((cancellationToken) => Promise_toThenable(Interactions_refreshTestList(testItemFactory, testController.items, tryGetLocation, makeTrxPath, cancellationToken)));\r\n    const shouldAutoDiscoverTests = Configuration_get(true, \"FSharp.TestExplorer.AutoDiscoverTestsOnLoad\");\r\n    let hasInitiatedDiscovery = false;\r\n    const arg_4 = workspaceLoaded(() => {\r\n        if (shouldAutoDiscoverTests && !hasInitiatedDiscovery) {\r\n            hasInitiatedDiscovery = true;\r\n            const initialTests = TestDiscovery_discoverFromTrx(testItemFactory, tryGetLocation, makeTrxPath, getLoaded());\r\n            let action;\r\n            const objectArg_3 = testController.items;\r\n            action = ((arg_3) => {\r\n                objectArg_3.add(arg_3);\r\n            });\r\n            initialTests.forEach(action);\r\n            const cancellationTokenSource = new vscode.CancellationTokenSource();\r\n            const pr = Interactions_refreshTestList(testItemFactory, testController.items, tryGetLocation, makeTrxPath, cancellationTokenSource.token);\r\n            void pr;\r\n        }\r\n        return void 0;\r\n    });\r\n    const objectArg_4 = context.subscriptions;\r\n    void (objectArg_4.push(arg_4));\r\n}\r\n\r\n//# sourceMappingURL=TestExplorer.js.map\r\n","import { ConsoleAndOutputChannelLogger__Info_Z17053F5, Level, ConsoleAndOutputChannelLogger_$ctor_Z565F02F0 } from \"../Core/Logging.js\";\r\nimport * as semver from \"semver\";\r\nimport { commands } from \"vscode\";\r\nimport * as vscode from \"vscode\";\r\nimport { Configuration_set } from \"../Core/Utils.js\";\r\nimport { some } from \"../fable_modules/fable-library.4.2.2/Option.js\";\r\n\r\nconst logger = ConsoleAndOutputChannelLogger_$ctor_Z565F02F0(\"InlayHints\", new Level(0, []), void 0, new Level(0, []));\r\n\r\nlet toggleSupported = false;\r\n\r\nexport const Config_enabled = \"FSharp.inlayHints.enabled\";\r\n\r\nexport const Config_typeAnnotationsEnabled = \"FSharp.inlayHints.typeAnnotations\";\r\n\r\nexport const Config_parameterNamesEnabled = \"FSharp.inlayHints.parameterNames\";\r\n\r\nexport const Config_disableLongTooltip = \"FSharp.inlayHints.disableLongTooltip\";\r\n\r\nexport const Config_editorInlayHintsEnabled = \"editor.inlayHints.enabled\";\r\n\r\nexport const Commands_hideTypeAnnotations = \"fsharp.inlayHints.hideTypeAnnotations\";\r\n\r\nexport const Commands_hideParameterNames = \"fsharp.inlayHints.hideParameterNames\";\r\n\r\nexport const Commands_hideAll = \"fsharp.inlayHints.hideAll\";\r\n\r\nexport const Commands_setToToggle = \"fsharp.inlayHints.setToToggle\";\r\n\r\nexport const Commands_disableLongTooltip = \"fsharp.inlayHints.disableLongTooltip\";\r\n\r\nexport function supportsToggle(vscodeVersion) {\r\n    const compareOptions = {};\r\n    compareOptions.includePrerelease = true;\r\n    return semver.gte(vscodeVersion, \"1.67.0\", compareOptions);\r\n}\r\n\r\nexport function activate(context) {\r\n    toggleSupported = supportsToggle(vscode.version);\r\n    const arg_1 = commands.registerCommand(Commands_disableLongTooltip, (_arg) => some(Configuration_set(Config_disableLongTooltip, some(true))));\r\n    void (context.subscriptions.push(arg_1));\r\n    if (toggleSupported) {\r\n        const arg_3 = commands.registerCommand(Commands_setToToggle, (_arg_1) => some(Configuration_set(Config_editorInlayHintsEnabled, some(\"offUnlessPressed\"))));\r\n        void (context.subscriptions.push(arg_3));\r\n    }\r\n    const arg_5 = commands.registerCommand(Commands_hideAll, (_arg_2) => some(Configuration_set(Config_enabled, some(false))));\r\n    void (context.subscriptions.push(arg_5));\r\n    const arg_7 = commands.registerCommand(Commands_hideParameterNames, (_arg_3) => some(Configuration_set(Config_parameterNamesEnabled, some(false))));\r\n    void (context.subscriptions.push(arg_7));\r\n    const arg_9 = commands.registerCommand(Commands_hideTypeAnnotations, (_arg_4) => some(Configuration_set(Config_typeAnnotationsEnabled, some(false))));\r\n    void (context.subscriptions.push(arg_9));\r\n    ConsoleAndOutputChannelLogger__Info_Z17053F5(logger, \"Activating F# inlay hints\");\r\n}\r\n\r\n//# sourceMappingURL=InlayHints.js.map\r\n","import { ConsoleAndOutputChannelLogger__Error_Z17053F5, ConsoleAndOutputChannelLogger__Debug_Z17053F5, defaultOutputChannel, Level, ConsoleAndOutputChannelLogger_$ctor_Z565F02F0 } from \"./Core/Logging.js\";\r\nimport { Record } from \"./fable_modules/fable-library.4.2.2/Types.js\";\r\nimport { Project_$reflection } from \"./Core/DTO.js\";\r\nimport { record_type, unit_type, array_type, option_type, list_type, lambda_type, string_type, class_type } from \"./fable_modules/fable-library.4.2.2/Reflection.js\";\r\nimport { window as window$, commands } from \"vscode\";\r\nimport * as vscode from \"vscode\";\r\nimport { PromiseBuilder__Delay_62FBFDE1, PromiseBuilder__Run_212F1D4B } from \"./fable_modules/Fable.Promise.3.2.0/Promise.fs.js\";\r\nimport { promise } from \"./fable_modules/Fable.Promise.3.2.0/PromiseImpl.fs.js\";\r\nimport { VSCodeExtension_workbenchViewId, Promise_ofThenable, Promise_toThenable, Promise_onSuccess, Configuration_get, Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B } from \"./Core/Utils.js\";\r\nimport { LanguageService_loadAnalyzers, LanguageService_start, LanguageService_stop } from \"./Core/LanguageService.js\";\r\nimport { getLauncher, projectLoaded, activate as activate_2, initWorkspace } from \"./Core/Project.js\";\r\nimport { int32ToString, defaultOf } from \"./fable_modules/fable-library.4.2.2/Util.js\";\r\nimport { activate as activate_1 } from \"./Components/QuickInfoProject.js\";\r\nimport { interpolate, toText } from \"./fable_modules/fable-library.4.2.2/String.js\";\r\nimport { activate as activate_3 } from \"./Components/SolutionExplorer.js\";\r\nimport { activate as activate_4 } from \"./Core/FsProjEdit.js\";\r\nimport { activate as activate_5 } from \"./Components/Diagnostics.js\";\r\nimport { LineLens__activate_7F028812 } from \"./Components/LineLens/LineLensShared.js\";\r\nimport { Instance } from \"./Components/LineLens/LineLens.js\";\r\nimport { Fsdn_activate, QuickInfo_activate } from \"./Components/QuickInfo.js\";\r\nimport { activate as activate_6 } from \"./Components/Help.js\";\r\nimport { buildProjectPathFast, buildProjectPath, activate as activate_7 } from \"./Components/MSBuild.js\";\r\nimport { activate as activate_8 } from \"./Components/SignatureData.js\";\r\nimport { Debugger_debugProject, Debugger_activate } from \"./Components/Debugger.js\";\r\nimport { activate as activate_9 } from \"./Components/Fsi.js\";\r\nimport { activate as activate_10 } from \"./Components/ScriptRunner.js\";\r\nimport { activate as activate_11 } from \"./Components/LanguageConfiguration.js\";\r\nimport { activate as activate_12 } from \"./Components/HtmlConverter.js\";\r\nimport { activate as activate_13 } from \"./Components/InfoPanel.js\";\r\nimport { activate as activate_14 } from \"./Components/CodeLensHelpers.js\";\r\nimport { activate as activate_15 } from \"./Components/Gitignore.js\";\r\nimport { Instance as Instance_1 } from \"./Components/LineLens/PipelineHints.js\";\r\nimport { activate as activate_16 } from \"./Components/TestExplorer.js\";\r\nimport { activate as activate_17 } from \"./Components/InlayHints.js\";\r\n\r\nconst logger = ConsoleAndOutputChannelLogger_$ctor_Z565F02F0(\"Main\", new Level(0, []), defaultOutputChannel, new Level(0, []));\r\n\r\nexport class Api extends Record {\r\n    constructor(ProjectLoadedEvent, BuildProject, BuildProjectFast, GetProjectLauncher, DebugProject) {\r\n        super();\r\n        this.ProjectLoadedEvent = ProjectLoadedEvent;\r\n        this.BuildProject = BuildProject;\r\n        this.BuildProjectFast = BuildProjectFast;\r\n        this.GetProjectLauncher = GetProjectLauncher;\r\n        this.DebugProject = DebugProject;\r\n    }\r\n}\r\n\r\nexport function Api_$reflection() {\r\n    return record_type(\"Ionide.VSCode.FSharpModule.Api\", [], Api, () => [[\"ProjectLoadedEvent\", class_type(\"Fable.Import.VSCode.Vscode.Event`1\", [Project_$reflection()])], [\"BuildProject\", lambda_type(Project_$reflection(), class_type(\"Fable.Core.JS.Promise`1\", [string_type]))], [\"BuildProjectFast\", lambda_type(Project_$reflection(), class_type(\"Fable.Core.JS.Promise`1\", [string_type]))], [\"GetProjectLauncher\", lambda_type(class_type(\"Fable.Import.VSCode.Vscode.OutputChannel\"), lambda_type(Project_$reflection(), option_type(lambda_type(list_type(string_type), class_type(\"Fable.Core.JS.Promise`1\", [class_type(\"Node.ChildProcess.ChildProcess\")])))))], [\"DebugProject\", lambda_type(Project_$reflection(), lambda_type(array_type(string_type), class_type(\"Fable.Core.JS.Promise`1\", [unit_type])))]]);\r\n}\r\n\r\nfunction activateLanguageServiceRestart(context) {\r\n    const arg_1 = commands.registerCommand(\"fsharp.restartLanguageService\", (arg) => (() => PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => {\r\n        ConsoleAndOutputChannelLogger__Debug_Z17053F5(logger, \"Restarting F# language service\");\r\n        return Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, LanguageService_stop()).then(() => (Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, LanguageService_start(context)).then(() => (Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, initWorkspace()).then(() => (Promise.resolve(void 0)))))));\r\n    })))(arg));\r\n    void (context.subscriptions.push(arg_1));\r\n}\r\n\r\nexport function activate(context) {\r\n    let pr;\r\n    const solutionExplorer = Configuration_get(true, \"FSharp.enableTreeView\");\r\n    const showExplorer = Configuration_get(true, \"FSharp.showExplorerOnStartup\");\r\n    const tryActivate = (label, activationFn, ctx) => {\r\n        try {\r\n            return activationFn(ctx);\r\n        }\r\n        catch (ex) {\r\n            ConsoleAndOutputChannelLogger__Error_Z17053F5(logger, `Error while activating feature '${label}': ${ex}`);\r\n            return defaultOf();\r\n        }\r\n    };\r\n    let pr_6;\r\n    const pr_5 = Promise_onSuccess()(() => {\r\n        const progressOpts = {};\r\n        progressOpts.location = 10;\r\n        ConsoleAndOutputChannelLogger__Debug_Z17053F5(logger, \"Activating features\");\r\n        window$.withProgress(progressOpts, (p, ctok) => {\r\n            let pr_4, pr_3, pr_2, pr_1;\r\n            const pm = {\r\n                message: \"Loading projects\",\r\n            };\r\n            p.report(pm);\r\n            return Promise_toThenable((pr_4 = ((pr_3 = ((pr_2 = Promise_onSuccess()(() => {\r\n                tryActivate(\"quickinfoproject\", (context_1) => {\r\n                    activate_1(context_1);\r\n                }, context);\r\n            })((pr_1 = activate_2(context), pr_1.catch((e_1) => {\r\n                ConsoleAndOutputChannelLogger__Error_Z17053F5(logger, toText(interpolate(\"Error loading projects: %A%P()\", [e_1])));\r\n            }))), pr_2.then(() => {\r\n                if (showExplorer) {\r\n                    return Promise_ofThenable(commands.executeCommand(VSCodeExtension_workbenchViewId()));\r\n                }\r\n                else {\r\n                    return Promise.resolve(void 0);\r\n                }\r\n            }))), pr_3.then((_arg_3) => tryActivate(\"analyzers\", LanguageService_loadAnalyzers, void 0)))), pr_4.catch((e_2) => {\r\n                ConsoleAndOutputChannelLogger__Error_Z17053F5(logger, toText(interpolate(\"Error loading all projects: %A%P()\", [e_2])));\r\n                const pm_1 = {\r\n                    message: \"Error loading projects\",\r\n                };\r\n                p.report(pm_1);\r\n            })));\r\n        });\r\n    })((pr = LanguageService_start(context), pr.catch((e) => {\r\n        ConsoleAndOutputChannelLogger__Error_Z17053F5(logger, toText(interpolate(\"Error activating FSAC: %A%P()\", [e])));\r\n    })));\r\n    pr_6 = (pr_5.then(() => {\r\n        if (solutionExplorer) {\r\n            tryActivate(\"solutionExplorer\", (context_2) => {\r\n                activate_3(context_2);\r\n            }, context);\r\n        }\r\n        tryActivate(\"fsprojedit\", (context_3) => {\r\n            activate_4(context_3);\r\n        }, context);\r\n        tryActivate(\"diagnostics\", (context_4) => {\r\n            activate_5(context_4);\r\n        }, context);\r\n        tryActivate(\"linelens\", (arg) => {\r\n            LineLens__activate_7F028812(Instance, arg);\r\n        }, context);\r\n        tryActivate(\"quickinfo\", (context_5) => {\r\n            QuickInfo_activate(context_5);\r\n        }, context);\r\n        tryActivate(\"help\", (context_6) => {\r\n            activate_6(context_6);\r\n        }, context);\r\n        tryActivate(\"msbuild\", (context_7) => {\r\n            activate_7(context_7);\r\n        }, context);\r\n        tryActivate(\"signaturedata\", (context_8) => {\r\n            activate_8(context_8);\r\n        }, context);\r\n        tryActivate(\"debugger\", (c) => {\r\n            Debugger_activate(c);\r\n        }, context);\r\n        tryActivate(\"fsdn\", (context_9) => {\r\n            Fsdn_activate(context_9);\r\n        }, context);\r\n        tryActivate(\"fsi\", (context_10) => {\r\n            activate_9(context_10);\r\n        }, context);\r\n        tryActivate(\"scriptrunner\", (context_11) => {\r\n            activate_10(context_11);\r\n        }, context);\r\n        tryActivate(\"languageconfiguration\", (context_12) => {\r\n            activate_11(context_12);\r\n        }, context);\r\n        tryActivate(\"htmlconverter\", (context_13) => {\r\n            activate_12(context_13);\r\n        }, context);\r\n        tryActivate(\"infopanel\", (context_14) => {\r\n            activate_13(context_14);\r\n        }, context);\r\n        tryActivate(\"codelens\", (context_15) => {\r\n            activate_14(context_15);\r\n        }, context);\r\n        tryActivate(\"gitignore\", (_context) => {\r\n            activate_15(_context);\r\n        }, context);\r\n        tryActivate(\"pipelinehints\", (arg_1) => {\r\n            LineLens__activate_7F028812(Instance_1, arg_1);\r\n        }, context);\r\n        tryActivate(\"testExplorer\", (context_16) => {\r\n            activate_16(context_16);\r\n        }, context);\r\n        tryActivate(\"inlayhints\", (context_17) => {\r\n            activate_17(context_17);\r\n        }, context);\r\n        tryActivate(\"languageservice\", (context_18) => {\r\n            activateLanguageServiceRestart(context_18);\r\n        }, context);\r\n        const event = new vscode.EventEmitter();\r\n        projectLoaded((n) => (setTimeout((() => {\r\n            event.fire(n);\r\n        }), 500)));\r\n        return new Api(event.event, (project) => PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => (Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, buildProjectPath(\"Build\", project)).then((_arg_5) => {\r\n            const matchValue = _arg_5.Code;\r\n            if (matchValue == null) {\r\n                return Promise.resolve(\"\");\r\n            }\r\n            else {\r\n                const code = matchValue | 0;\r\n                return Promise.resolve(int32ToString(code));\r\n            }\r\n        })))), (project_1) => PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => (Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, buildProjectPathFast(project_1)).then((_arg_6) => {\r\n            const matchValue_1 = _arg_6.Code;\r\n            if (matchValue_1 == null) {\r\n                return Promise.resolve(\"\");\r\n            }\r\n            else {\r\n                const code_1 = matchValue_1 | 0;\r\n                return Promise.resolve(int32ToString(code_1));\r\n            }\r\n        })))), getLauncher, Debugger_debugProject);\r\n    }));\r\n    return pr_6.catch((e_3) => {\r\n        ConsoleAndOutputChannelLogger__Error_Z17053F5(logger, toText(interpolate(\"Error activating features: %A%P()\", [e_3])));\r\n        return defaultOf();\r\n    });\r\n}\r\n\r\nexport function deactivate(disposables) {\r\n    return LanguageService_stop();\r\n}\r\n\r\n//# sourceMappingURL=fsharp.js.map\r\n","import { some, value as value_1 } from \"../fable_modules/fable-library.4.2.2/Option.js\";\r\nimport { commands, window as window$ } from \"vscode\";\r\nimport * as vscode from \"vscode\";\r\nimport { PromiseBuilder__Delay_62FBFDE1, PromiseBuilder__Run_212F1D4B } from \"../fable_modules/Fable.Promise.3.2.0/Promise.fs.js\";\r\nimport { promise } from \"../fable_modules/Fable.Promise.3.2.0/PromiseImpl.fs.js\";\r\nimport { Promise_PromiseBuilder__PromiseBuilder_Source_Z7741CCC2, Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B } from \"../Core/Utils.js\";\r\nimport { LanguageService_f1Help } from \"../Core/LanguageService.js\";\r\nimport { printf, toText, replace } from \"../fable_modules/fable-library.4.2.2/String.js\";\r\n\r\nexport function getHelp() {\r\n    const te = value_1(window$.activeTextEditor);\r\n    const doc = te.document;\r\n    const pos = te.selection.start;\r\n    PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => (Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, LanguageService_f1Help(doc.uri, ~~pos.line, ~~pos.character)).then((_arg) => {\r\n        const res = _arg;\r\n        if (res != null) {\r\n            const api = replace(res.Data, \"#ctor\", \"-ctor\");\r\n            const uri = vscode.Uri.parse(toText(printf(\"https://docs.microsoft.com/en-us/dotnet/api/%s\"))(api));\r\n            return Promise_PromiseBuilder__PromiseBuilder_Source_Z7741CCC2(promise, commands.executeCommand(\"vscode.open\", some(uri)));\r\n        }\r\n        else {\r\n            return Promise.resolve(void 0);\r\n        }\r\n    }))));\r\n}\r\n\r\nexport function activate(context) {\r\n    const arg_1 = commands.registerCommand(\"fsharp.getHelp\", (arg) => (() => {\r\n        getHelp();\r\n    })(arg));\r\n    void (context.subscriptions.push(arg_1));\r\n}\r\n\r\n//# sourceMappingURL=Help.js.map\r\n","import { value } from \"../fable_modules/fable-library.4.2.2/Option.js\";\r\nimport { commands, window as window$ } from \"vscode\";\r\nimport { LanguageService_generateDocumentation } from \"../Core/LanguageService.js\";\r\nimport { Document_$007CFSharp$007CCSharp$007CVB$007CFSharpScript$007CMarkdown$007COther$007C } from \"../Core/Utils.js\";\r\n\r\nexport function generateDoc() {\r\n    const editor = value(window$.activeTextEditor);\r\n    const document$ = editor.document;\r\n    let matchResult;\r\n    const activePatternResult = Document_$007CFSharp$007CCSharp$007CVB$007CFSharpScript$007CMarkdown$007COther$007C(document$);\r\n    switch (activePatternResult.tag) {\r\n        case 0:\r\n        case 3: {\r\n            matchResult = 0;\r\n            break;\r\n        }\r\n        default:\r\n            matchResult = 1;\r\n    }\r\n    switch (matchResult) {\r\n        case 0: {\r\n            const line = editor.selection.active.line;\r\n            const col = editor.selection.active.character;\r\n            return LanguageService_generateDocumentation(document$.uri, document$.version, ~~line, ~~col);\r\n        }\r\n        default:\r\n            return Promise.resolve(void 0);\r\n    }\r\n}\r\n\r\nexport function activate(context) {\r\n    const arg_1 = commands.registerCommand(\"fsharp.generateDoc\", (arg) => (generateDoc)(arg));\r\n    void (context.subscriptions.push(arg_1));\r\n}\r\n\r\n//# sourceMappingURL=SignatureData.js.map\r\n","import { value } from \"../fable_modules/fable-library.4.2.2/Option.js\";\r\nimport { commands, window as window$ } from \"vscode\";\r\nimport * as path from \"path\";\r\nimport { PromiseBuilder__Delay_62FBFDE1, PromiseBuilder__Run_212F1D4B } from \"../fable_modules/Fable.Promise.3.2.0/Promise.fs.js\";\r\nimport { promise } from \"../fable_modules/Fable.Promise.3.2.0/PromiseImpl.fs.js\";\r\nimport { Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B } from \"../Core/Utils.js\";\r\nimport { fsiBinaryAndParameters } from \"./Fsi.js\";\r\nimport { printf, toText, join } from \"../fable_modules/fable-library.4.2.2/String.js\";\r\nimport { map } from \"../fable_modules/fable-library.4.2.2/Array.js\";\r\nimport * as os from \"os\";\r\n\r\nfunction runFile() {\r\n    const scriptFile = value(window$.activeTextEditor).document.fileName;\r\n    const scriptDir = path.dirname(scriptFile);\r\n    return PromiseBuilder__Run_212F1D4B(promise, PromiseBuilder__Delay_62FBFDE1(promise, () => (Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B(promise, fsiBinaryAndParameters()).then((_arg) => {\r\n        let clo;\r\n        const fsiBinary = _arg[0];\r\n        const flatArgs = join(\" \", map((clo = toText(printf(\"\\\"%s\\\"\")), clo), _arg[1]));\r\n        const patternInput = (os.type() === \"Windows_NT\") ? [\"cmd.exe\", [\"/Q\", \"/K\"], toText(printf(\"cd \\\"%s\\\" && cls && \\\"%s\\\" %s \\\"%s\\\" && pause && exit\"))(scriptDir)(fsiBinary)(flatArgs)(scriptFile)] : [\"sh\", [], toText(printf(\"cd \\\"%s\\\" && clear && \\\"%s\\\" %s \\\"%s\\\" && echo \\\"Press enter to close script...\\\" && read && exit\"))(scriptDir)(fsiBinary)(flatArgs)(scriptFile)];\r\n        const shellArgs_1 = Array.from(patternInput[1]);\r\n        const title = path.basename(scriptFile);\r\n        const terminal = window$.createTerminal(title, patternInput[0], shellArgs_1);\r\n        terminal.sendText(patternInput[2]);\r\n        terminal.show();\r\n        return Promise.resolve();\r\n    }))));\r\n}\r\n\r\nexport function activate(context) {\r\n    const arg_1 = commands.registerCommand(\"fsharp.scriptrunner.run\", (arg) => (runFile)(arg));\r\n    void (context.subscriptions.push(arg_1));\r\n}\r\n\r\n//# sourceMappingURL=ScriptRunner.js.map\r\n","import { commands } from \"vscode\";\r\nimport * as vscode from \"vscode\";\r\nimport { map } from \"../fable_modules/fable-library.4.2.2/Seq.js\";\r\nimport { some } from \"../fable_modules/fable-library.4.2.2/Option.js\";\r\nimport { uncurry3 } from \"../fable_modules/fable-library.4.2.2/Util.js\";\r\n\r\nexport function showReferences(args, args2, args3) {\r\n    const uri = vscode.Uri.parse(args);\r\n    const pos = new vscode.Position(args2.Line, args2.Character);\r\n    let locs;\r\n    const arg = map((f) => {\r\n        const uri_1 = vscode.Uri.parse(f.Uri);\r\n        const range = new vscode.Range(f.Range.Start.Line, f.Range.Start.Character, f.Range.End.Line, f.Range.End.Character);\r\n        return new vscode.Location(uri_1, range);\r\n    }, args3);\r\n    locs = Array.from(arg);\r\n    return commands.executeCommand(\"editor.action.showReferences\", some(uri), some(pos), some(locs));\r\n}\r\n\r\nexport function activate(context) {\r\n    const arg_3 = commands.registerCommand(\"fsharp.showReferences\", uncurry3((arg) => {\r\n        const clo_1 = ((args) => ((args_1) => ((args_2) => showReferences(args, args_1, args_2))))(arg);\r\n        return (arg_1) => {\r\n            const clo_2 = clo_1(arg_1);\r\n            return clo_2;\r\n        };\r\n    }));\r\n    void (context.subscriptions.push(arg_3));\r\n}\r\n\r\n//# sourceMappingURL=CodeLensHelpers.js.map\r\n"],"names":["balanced","a","b","str","RegExp","maybeMatch","r","range","start","end","pre","slice","body","length","post","reg","m","match","begs","beg","left","right","result","ai","indexOf","bi","i","push","pop","module","exports","concatMap","substr","expand","split","join","escSlash","escOpen","escClose","escComma","escPeriod","escapeBraces","map","unescapeBraces","Math","random","numeric","parseInt","charCodeAt","parseCommaParts","parts","p","postParts","shift","apply","embrace","isPadded","el","test","lte","y","gte","isTop","expansions","n","isNumericSequence","isAlphaSequence","isSequence","isOptions","N","x","width","max","incr","abs","pad","some","c","String","fromCharCode","need","z","Array","j","k","expansion","xs","fn","res","isArray","Object","prototype","toString","call","cp","parse","enoent","spawn","command","args","options","parsed","spawned","hookChildProcess","sync","spawnSync","error","verifyENOENTSync","status","_parse","_enoent","isWin","process","platform","notFoundError","original","syscall","assign","Error","code","errno","path","spawnargs","verifyENOENT","file","originalEmit","emit","name","arg1","err","arguments","resolveCommand","escape","readShebang","isExecutableRegExp","isCmdShimRegExp","undefined","shell","commandFile","shebang","unshift","detectShebang","needsShell","forceShell","needsDoubleEscapeMetaChars","normalize","arg","argument","shellCommand","concat","env","comspec","windowsVerbatimArguments","parseNonShell","metaCharsRegExp","replace","doubleEscapeMetaChars","fs","shebangCommand","buffer","Buffer","alloc","fd","openSync","readSync","closeSync","e","which","getPathKey","resolveCommandAttempt","withoutPathExt","cwd","hasCustomCwd","shouldSwitchCwd","chdir","disabled","resolved","pathExt","delimiter","resolve","defineProperty","value","elementNames","Map","attributeNames","__assign","this","t","s","hasOwnProperty","__importStar","mod","__esModule","ElementType","entities","foreignNames_1","unencodedElements","Set","singleTag","render","node","nodes","cheerio","output","renderNode","type","children","Directive","data","Comment","CDATA","elem","renderCdata","isTag","opts","_a","xmlMode","get","parent","foreignModeIntegrationPoints","has","foreignElements","tag","attribs","attributes","keys","key","emptyAttrs","decodeEntities","encodeXML","formatAttributes","selfClosingTags","renderTag","renderText","Text","Script","Style","Tag","Doctype","node_1","Node","Element","DataNode","NodeWithChildren","reWhitespace","defaultOpts","normalizeWhitespace","withStartIndices","withEndIndices","DomHandler","callback","elementCB","dom","_done","_tagStack","_lastNode","_parser","_callback","_options","_elementCB","onparserinit","parser","onreset","onend","handleCallback","onerror","onclosetag","endIndex","onopentag","element","addNode","ontext","oncomment","oncommentend","oncdatastart","text","oncdataend","onprocessinginstruction","ProcessingInstruction","siblings","previousSibling","startIndex","prev","next","addDataNode","extendStatics","__extends","d","setPrototypeOf","__proto__","__","constructor","create","nodeTypes","enumerable","configurable","set","_super","_this","uniqueSort","compareDocumentPosition","removeSubsets","tagtypes_1","nodeA","nodeB","aParents","bParents","current","hasChildren","idx","sharedParent","aSibling","bSibling","lastIndexOf","splice","ancestor","filter","arr","includes","sort","relative","__createBinding","o","k2","__exportStar","getElementsByTagType","getElementsByTagName","getElementById","getElements","testElement","querying_1","isTextNode","Checks","tag_name","tag_type","tag_contains","getAttribCheck","attrib","combineFuncs","compileTest","funcs","reduce","recurse","limit","Infinity","id","findOne","removeElement","childs","prepend","append","appendChild","replaceElement","replacement","child","sibling","currNext","findAll","existsOne","findOneChild","find","_i","nodes_1","checked","stack","__importDefault","getText","getInnerHTML","getOuterHTML","dom_serializer_1","default","isCDATA","isText","isComment","domelementtype_1","getChildren","getParent","nextElementSibling","getName","hasAttrib","getAttributeValue","getSiblings","decodeHTML","decodeHTMLStrict","decodeXML","entities_json_1","legacy_json_1","xml_json_1","decode_codepoint_1","getStrictDecoder","getReplacer","re","sorter","charAt","secondChar","legacy","replacer","decode_json_1","codePoint","encodeHTML","inverseXML","getInverseObj","xmlReplacer","getInverseReplacer","getInverse","inverseHTML","htmlReplacer","obj","inverse","single","multiple","count","reNonASCII","singleCharReplacer","codePointAt","toUpperCase","reXmlChars","encode","decodeStrict","decode","decode_1","encode_1","level","encode_2","decode_2","CollectingHandler","cbs","events","_cbs","restart","_b","name_1","domhandler_1","DomUtils","Parser_1","FeedHandler","feed","feedRoot","getOneElement","isValidFeed","addConditionally","href","getAttribute","link","updated","fetch","Date","items","item","entry","description","pubDate","what","where","trim","prop","tmp","defaultOptions","parseFeed","handler","Parser","MultiplexHandler","func","_func","onattribute","comment","onopentagname","Tokenizer_1","events_1","formTags","pTag","openImpliesClose","tr","th","td","li","h1","h2","h3","h4","h5","h6","select","input","button","datalist","textarea","option","optgroup","dd","dt","address","article","aside","blockquote","details","div","dl","fieldset","figcaption","figure","footer","form","header","hr","main","nav","ol","section","table","ul","rt","rp","tbody","tfoot","voidElements","foreignContextElements","htmlIntegrationElements","reNameEnd","_tagname","_attribname","_attribvalue","_attribs","_stack","_foreignContext","parseChunk","write","done","_lowerCaseTagNames","lowerCaseTags","_lowerCaseAttributeNames","lowerCaseAttributeNames","_tokenizer","Tokenizer","_updatePosition","initialOffset","_sectionStart","getAbsoluteIndex","toLowerCase","onopentagend","_closeCurrentTag","pos","onselfclosingtag","recognizeSelfClosing","onattribname","onattribdata","onattribend","_getInstructionName","search","ondeclaration","name_2","oncdata","recognizeCDATA","reset","parseComplete","chunk","pause","resume","EventEmitter","whitespace","ifElseState","upper","SUCCESS","FAILURE","lower","_state","_index","consumeSpecialNameChar","NEXT_STATE","stateBeforeCdata1","stateBeforeCdata2","stateBeforeCdata3","stateBeforeCdata4","stateBeforeCdata5","stateBeforeScript1","stateBeforeScript2","stateBeforeScript3","stateBeforeScript4","stateAfterScript1","stateAfterScript2","stateAfterScript3","stateAfterScript4","stateBeforeStyle1","stateBeforeStyle2","stateBeforeStyle3","stateAfterStyle1","stateAfterStyle2","stateAfterStyle3","stateBeforeEntity","stateBeforeNumericEntity","_buffer","_bufferOffset","_baseState","_special","_running","_ended","_xmlMode","_decodeEntities","_stateText","_getSection","_stateBeforeTagName","_stateInTagName","_emitToken","_stateBeforeClosingTagName","_stateInClosingTagName","_stateAfterClosingTagName","_stateBeforeAttributeName","_stateInSelfClosingTag","_stateInAttributeName","_stateAfterAttributeName","_stateBeforeAttributeValue","_stateInAttributeValueDoubleQuotes","_stateInAttributeValueSingleQuotes","_stateInAttributeValueNoQuotes","_stateBeforeDeclaration","_stateInDeclaration","_stateInProcessingInstruction","_stateBeforeComment","_stateInComment","_stateAfterComment1","_stateAfterComment2","substring","_stateBeforeCdata6","_stateInCdata","_stateAfterCdata1","_stateAfterCdata2","_stateBeforeSpecial","_stateBeforeSpecialEnd","_stateBeforeScript5","_stateAfterScript5","_stateBeforeStyle4","_stateAfterStyle4","_parseNamedEntityStrict","entity","_emitPartial","_parseLegacyEntity","_stateInNamedEntity","_decodeNumericEntity","offset","base","sectionStart","_stateInNumericEntity","_stateInHexEntity","_cleanup","_finish","_handleTrailingData","stream_1","string_decoder_1","WritableStream","decodeStrings","_decoder","StringDecoder","_write","encoding","cb","_chunk","isBuffer","_final","Writable","__export","DefaultHandler","parseDOM","createDomStream","elementCb","EVENTS","attribute","cdatastart","cdataend","processinginstruction","commentend","closetag","opentag","opentagname","FeedHandler_1","RssHandler","core","isexe","Promise","TypeError","reject","er","is","ignoreErrors","global","TESTING_WINDOWS","checkStat","statSync","stat","isFile","mode","uid","gid","myUid","getuid","myGid","getgid","u","g","checkMode","isSymbolicLink","pathext","PATHEXT","checkPathExt","Yallist","MAX","Symbol","LENGTH","LENGTH_CALCULATOR","ALLOW_STALE","MAX_AGE","DISPOSE","NO_DISPOSE_ON_SET","LRU_LIST","CACHE","UPDATE_AGE_ON_GET","naiveLength","self","doUse","hit","isStale","del","now","unshiftNode","maxAge","diff","walker","tail","delete","removeNode","Entry","forEachStep","thisp","lc","stale","dispose","noDisposeOnSet","updateAgeOnGet","mL","allowStale","mA","lengthCalculator","lC","forEach","itemCount","rforEach","head","toArray","values","dump","v","h","dumpLru","len","peek","load","l","expiresAt","prune","minimatch","Minimatch","sep","GLOBSTAR","plTypes","open","close","qmark","star","reSpecials","slashSplit","ext","pattern","assertValidPattern","nocomment","allowWindowsEscape","regexp","negate","empty","partial","make","braceExpand","nobrace","list","defaults","def","orig","makeRe","debug","parseNegate","globSet","console","globParts","si","negateOffset","nonegate","isSub","noglobstar","stateChar","hasMagic","nocase","escaping","patternListStack","negativeLists","inClass","reClassStart","classStart","patternStart","dot","clearStateChar","noext","reStart","pl","reEnd","cs","sp","SUBPARSE","_","$1","$2","addPatternStart","nl","nlBefore","nlFirst","nlLast","nlAfter","openParensBefore","cleanAfter","dollar","flags","regExp","_glob","_src","twoStar","ex","mm","f","nonull","filename","matchBase","matchOne","flipNegate","fi","pi","fl","fr","pr","swallowee","pathKey","environment","reverse","ANY","Comparator","comp","parseOptions","loose","semver","operator","version","COMPARATORLOOSE","COMPARATOR","SemVer","cmp","intersects","includePrerelease","Range","sameDirectionIncreasing","sameDirectionDecreasing","sameSemVer","differentDirectionsInclusive","oppositeDirectionsLessThan","oppositeDirectionsGreaterThan","raw","format","parseRange","first","isNullSet","isAny","comps","memoKey","cached","cache","HYPHENRANGELOOSE","HYPHENRANGE","hyphenReplace","COMPARATORTRIM","comparatorTrimReplace","TILDETRIM","tildeTrimReplace","CARETTRIM","caretTrimReplace","compRe","rangeList","parseComparator","replaceGTE0","rangeMap","size","thisComparators","isSatisfiable","rangeComparators","every","thisComparator","rangeComparator","testSet","comparators","remainingComparators","testComparator","otherComparator","replaceCarets","replaceTildes","replaceXRanges","replaceStars","isX","replaceTilde","TILDELOOSE","TILDE","M","ret","replaceCaret","CARETLOOSE","CARET","replaceXRange","XRANGELOOSE","XRANGE","gtlt","xM","xm","xp","anyX","STAR","GTE0PRE","GTE0","incPr","$0","from","fM","fm","fp","fpr","fb","to","tM","tm","tp","tpr","tb","prerelease","allowed","major","minor","patch","MAX_LENGTH","MAX_SAFE_INTEGER","compareIdentifiers","LOOSE","FULL","num","build","compare","other","compareMain","comparePre","compareBuild","inc","release","identifier","isNaN","eq","neq","gt","lt","op","rtl","COERCERTL","exec","index","lastIndex","COERCE","versionA","versionB","version1","version2","v1","v2","hasPre","prefix","defaultResult","internalRe","src","tokens","SEMVER_SPEC_VERSION","rcompareIdentifiers","valid","clean","rcompare","compareLoose","rsort","coerce","satisfies","toComparators","maxSatisfying","minSatisfying","minVersion","validRange","outside","gtr","ltr","simplifyRange","subset","Number","MAX_SAFE_COMPONENT_LENGTH","NODE_DEBUG","anum","bnum","R","createToken","isGlobal","NUMERICIDENTIFIER","NUMERICIDENTIFIERLOOSE","NONNUMERICIDENTIFIER","PRERELEASEIDENTIFIER","PRERELEASEIDENTIFIERLOOSE","BUILDIDENTIFIER","MAINVERSION","PRERELEASE","BUILD","FULLPLAIN","MAINVERSIONLOOSE","PRERELEASELOOSE","LOOSEPLAIN","XRANGEIDENTIFIER","XRANGEIDENTIFIERLOOSE","GTLT","XRANGEPLAIN","XRANGEPLAINLOOSE","LONETILDE","LONECARET","r1","r2","versions","maxSV","rangeObj","min","minSV","minver","setMin","comparator","compver","hilo","gtfn","ltefn","ltfn","ecomp","high","low","ranges","simplified","simpleSubset","sub","eqSet","gtltComp","higher","hasDomLT","hasDomGT","higherGT","lowerLT","add","needDomLTPre","needDomGTPre","sawNonNull","OUTER","simpleSub","simpleDom","shebangRegex","string","binary","getDefaultOpts","simple","omitExtraWLInCodeBlocks","defaultValue","describe","noHeaderId","prefixHeaderId","rawPrefixHeaderId","ghCompatibleHeaderId","rawHeaderId","headerLevelStart","parseImgDimensions","simplifiedAutoLink","excludeTrailingPunctuationFromURLs","literalMidWordUnderscores","literalMidWordAsterisks","strikethrough","tables","tablesHeaderId","ghCodeBlocks","tasklists","smoothLivePreview","smartIndentationFix","disableForced4SpacesIndentedSublists","simpleLineBreaks","requireSpaceBeforeHeadingText","ghMentions","ghMentionsLink","encodeEmails","openLinksInNewWindow","backslashEscapesHTMLTags","emoji","underline","completeHTMLDocument","metadata","splitAdjacentBlockquotes","JSON","stringify","opt","showdown","parsers","extensions","globalOptions","setFlavor","flavor","github","ghost","vanilla","allOn","allOptionsOn","validate","extension","errMsg","helper","baseMsg","isString","isUndefined","listeners","regex","ln","escapeCharactersCallback","wholeMatch","m1","setOption","getOption","getOptions","resetOptions","preset","getFlavor","getFlavorOptions","getDefaultOptions","subParser","stdExtName","validExtension","getAllExtensions","removeExtension","resetExtensions","validateExtension","warn","isFunction","escapeCharacters","charsToEscape","afterBackslash","regexString","unescapeHTMLEntities","txt","rgxFindMatchPos","matchRecursiveRegExp","matchPos","results","replaceRecursiveRegExp","repStr","finalStr","lng","bits","regexIndexOf","fromIndex","splitAtIndex","encodeEmailAddress","mail","ch","floor","padEnd","targetLength","padString","repeat","msg","alert","log","regexes","asteriskDashAndColon","emojis","Converter","converterOptions","langExtensions","outputModifiers","setConvFlavor","_parseExtension","legacyExtensionLoading","validExt","listen","gOpt","_constructor","_dispatch","evtName","globals","ei","nText","makeHtml","gHtmlBlocks","gHtmlMdBlocks","gHtmlSpans","gUrls","gTitles","gDimensions","gListLevel","hashLinkCounts","converter","rsp","rgx","rTrimInputText","makeMarkdown","makeMd","HTMLParser","window","document","doc","createElement","innerHTML","preList","pres","querySelectorAll","presPH","childElementCount","firstChild","tagName","content","language","classes","className","matches","outerHTML","setAttribute","substitutePreCodeTags","childNodes","nodeType","nodeValue","removeChild","mdDoc","addExtension","useExtension","extensionName","getMetadata","getMetadataFormat","_setMetadataPair","_setMetadataFormat","_setMetadataRaw","writeAnchorTag","linkText","linkId","url","m5","m6","title","wm","st","mentions","username","lnk","target","simpleURLRegex","simpleURLRegex2","delimUrlRegex","simpleMailRegex","delimMailRegex","replaceLink","leadingMagicChars","m2","m3","trailingPunctuation","trailingMagicChars","lnkTxt","lmc","tmc","replaceMail","bq","codeblock","nextChar","doctype","doctypeParsed","charset","lang","meta","leadingText","numSpaces","emojiCode","delim","blockText","blockTags","repFunc","inside","opTagPos","rgx1","patLeft","patRight","subTexts","newSubText1","hashHTMLSpan","html","repText","setextRegexH1","setextRegexH2","spanGamut","hID","headerId","hashBlock","matchFound","hLevel","atxStyle","customizedHeaderId","hText","span","writeImageTag","altText","height","gDims","parseInside","lead","processListItems","listStr","trimTrailing","isParagraphed","m4","taskbtn","bulletStyle","otp","wm2","styleStartNumber","listType","parseConsecutiveLists","olRgx","ulRgx","counterRxg","parseCL","style","parseMetadataContents","wholematch","grafs","grafsOut","grafsOutIt","codeFlag","replaceFunc","blankLines","parseCells","cell","parseTable","rawTable","tableLines","sLine","rawHeaders","rawStyles","rawCells","headers","styles","cells","tableHeaderId","row","ii","tblLgn","buildTable","charCodeToReplace","hasChildNodes","childrenLength","innerTxt","headerLevel","headerMark","hasAttribute","listItems","listItemsLenght","listNum","listItemTxt","childrenLenght","spansOnly","tableArray","headings","rows","headContent","allign","cols","cellContent","cellSpacesCount","strLen","TraceFormat","TraceValues","Trace","ProgressType","ProgressToken","createMessageConnection","NullLogger","ConnectionOptions","ConnectionStrategy","WriteableStreamMessageWriter","AbstractMessageWriter","MessageWriter","ReadableStreamMessageReader","AbstractMessageReader","MessageReader","CancellationToken","CancellationTokenSource","Emitter","Event","Disposable","LRUCache","Touch","LinkedMap","ParameterStructures","NotificationType9","NotificationType8","NotificationType7","NotificationType6","NotificationType5","NotificationType4","NotificationType3","NotificationType2","NotificationType1","NotificationType0","NotificationType","ErrorCodes","ResponseError","RequestType9","RequestType8","RequestType7","RequestType6","RequestType5","RequestType4","RequestType3","RequestType2","RequestType1","RequestType0","RequestType","Message","RAL","CancellationStrategy","CancellationSenderStrategy","CancellationReceiverStrategy","ConnectionError","ConnectionErrors","LogTraceNotification","SetTraceNotification","messages_1","linkedMap_1","disposable_1","cancellation_1","messageReader_1","messageWriter_1","connection_1","ral_1","Is","None","freeze","isCancellationRequested","onCancellationRequested","Cancelled","candidate","boolean","shortcutEvent","context","handle","timer","setTimeout","bind","MutableToken","_isCancelled","cancel","_emitter","fire","event","token","_token","CancelNotification","ProgressNotification","StarRequestHandler","ConnectionState","info","Off","Messages","Compact","Verbose","fromString","message","super","cancelUndispatched","createCancellationTokenSource","sendCancellation","conn","sendNotification","cleanup","receiver","sender","cancellationStrategy","connectionStrategy","messageReader","messageWriter","_logger","logger","sequenceNumber","notificationSequenceNumber","unknownResponseSequenceNumber","starRequestHandler","requestHandlers","starNotificationHandler","notificationHandlers","progressHandlers","tracer","messageQueue","responsePromises","knownCanceledRequests","requestTokens","trace","traceFormat","state","New","errorEmitter","closeEmitter","unhandledNotificationEmitter","unhandledProgressEmitter","disposeEmitter","createRequestQueueKey","_message","isListening","Listening","isClosed","Closed","isDisposed","Disposed","closeHandler","triggerMessageQueue","setImmediate","isRequest","requestMessage","reply","resultOrError","method","startTime","jsonrpc","toJson","traceSendingResponse","catch","replyError","params","stringifyTrace","logLSPMessage","traceReceivedRequest","requestHandler","tokenKey","cancellationSource","handlerResult","numberOfParams","InvalidParams","parameterStructures","byName","byPosition","promise","then","InternalError","replySuccess","MethodNotFound","handleRequest","isNotification","notificationHandler","cancelId","traceReceivedNotification","handleNotification","isResponse","responseMessage","responsePromise","timerStart","traceReceivedResponse","handleResponse","number","responseHandler","handleInvalidMessage","processMessageQueue","onClose","onError","toCancel","strategy","response","cancellationToken","queue","addMessageToQueue","lspMessage","isLSPMessage","timestamp","throwIfClosedOrDisposed","undefinedToNull","param","nullToUndefined","isNamedParam","computeSingleParam","auto","computeMessageParams","connection","messageParams","paramStart","paramEnd","notificationMessage","traceSendingNotification","onNotification","onProgress","_type","sendProgress","onUnhandledProgress","sendRequest","throwIfNotListening","last","disposable","traceSendingRequest","MessageWriteError","onRequest","hasPendingResponse","async","_value","_tracer","sendNotificationOrTraceOptions","_sendNotification","_traceFormat","onUnhandledNotification","onDispose","PendingResponseRejected","AlreadyListening","throwIfListening","inspect","verbose","_disposable","CallbackList","bucket","_callbacks","_contexts","remove","foundCallbackWithDifferentContext","invoke","callbacks","contexts","isEmpty","_event","listener","thisArgs","disposables","onFirstListenerAdd","_noop","onLastListenerRemove","array","stringArray","First","AsOld","Last","AsNew","_map","_head","_tail","_size","clear","touch","previous","addItemLast","addItemFirst","removeItem","callbackfn","thisArg","iterator","entries","toStringTag","trimOld","newSize","currentSize","toJSON","fromJSON","ratio","_limit","_ratio","checkTrim","round","AbstractMessageBuffer","_encoding","_chunks","_totalLength","toAppend","byteLength","tryReadHeaders","chunkIndex","chunkBytesRead","_read","tryReadBody","numberOfBytes","byteCount","emptyBuffer","asNative","allocNative","resultOffset","chunkPart","ResolvedMessageReaderOptions","onPartialMessage","partialMessageEmitter","fireError","asError","fireClose","firePartialMessage","fromOptions","contentDecoder","contentDecoders","contentTypeDecoder","contentTypeDecoders","decoder","applicationJson","readable","messageBuffer","_partialMessageTimeout","nextMessageLength","messageToken","partialMessageTimeout","timeout","partialMessageTimer","onData","contentLength","setPartialMessageTimer","clearPartialMessageTimer","waitingTime","semaphore_1","ResolvedMessageWriterOptions","contentTypeEncoder","encoder","contentEncoder","writable","errorCount","writeSemaphore","Semaphore","lock","doWrite","handleError","AbstractMessageSignature","ParseError","InvalidRequest","jsonrpcReservedErrorRangeStart","serverErrorStart","MessageReadError","ConnectionInactive","ServerNotInitialized","UnknownErrorCode","jsonrpcReservedErrorRangeEnd","serverErrorEnd","kind","static","_parameterStructures","_ral","install","ral","capacity","_capacity","_active","_waiting","thunk","runNext","active","doRunNext","desc","getOwnPropertyDescriptor","createServerSocketTransport","createClientSocketTransport","createServerPipeTransport","createClientPipeTransport","generateRandomPipeName","StreamMessageWriter","StreamMessageReader","SocketMessageWriter","SocketMessageReader","IPCMessageWriter","IPCMessageReader","ril_1","api_1","os","crypto_1","net_1","eventEmitter","on","off","send","socket","stream","asReadableStream","asWritableStream","destroy","readble","XDG_RUNTIME_DIR","safeIpcPathLengths","randomSuffix","randomBytes","tmpdir","pipeName","connectResolve","connected","_reject","server","createServer","removeListener","onConnected","createConnection","port","reader","read","addListener","isReadableStream","writer","isWritableStream","util_1","messageBuffer_1","MessageBuffer","TextDecoder","allocUnsafe","ReadableStreamWrapper","onEnd","WritableStreamWrapper","_ril","ms","clearTimeout","clearImmediate","setInterval","clearInterval","RIL","DiagnosticPullMode","vsdiag","diagnostic_1","CallHierarchyFeature","vscode_1","vscode_languageserver_protocol_1","features_1","CallHierarchyProvider","client","middleware","prepareCallHierarchy","position","code2ProtocolConverter","asTextDocumentPositionParams","CallHierarchyPrepareRequest","protocol2CodeConverter","asCallHierarchyItems","handleFailedRequest","provideCallHierarchyIncomingCalls","asCallHierarchyItem","CallHierarchyIncomingCallsRequest","asCallHierarchyIncomingCalls","provideCallHierarchyOutgoingCalls","CallHierarchyOutgoingCallsRequest","asCallHierarchyOutgoingCalls","TextDocumentLanguageFeature","fillClientCapabilities","cap","capabilities","ensure","dynamicRegistration","initialize","documentSelector","getRegistration","callHierarchyProvider","register","registerOptions","registerLanguageProvider","_client","provider","languages","registerCallHierarchyProvider","asDocumentSelector","ProposedFeatures","BaseLanguageClient","MessageTransports","SuspendMode","State","CloseAction","ErrorAction","RevealOutputChannelOn","c2p","p2c","async_1","UUID","progressPart_1","notebook_1","configuration_1","textSynchronization_1","completion_1","hover_1","definition_1","signatureHelp_1","documentHighlight_1","documentSymbol_1","workspaceSymbol_1","reference_1","codeAction_1","codeLens_1","formatting_1","rename_1","documentLink_1","executeCommand_1","fileSystemWatcher_1","colorProvider_1","implementation_1","typeDefinition_1","workspaceFolder_1","foldingRange_1","declaration_1","selectionRange_1","progress_1","callHierarchy_1","semanticTokens_1","fileOperations_1","linkedEditingRange_1","typeHierarchy_1","inlineValue_1","inlayHint_1","ClientState","DefaultErrorHandler","maxRestartCount","restarts","_error","action","Continue","Shutdown","closed","Restart","DoNotRestart","clientOptions","_diagnosticQueue","_diagnosticQueueState","_features","_dynamicFeatures","workspaceEditLock","_id","_name","markdown","isTrusted","supportHtml","_clientOptions","synchronize","diagnosticCollectionName","outputChannelName","revealOutputChannelOn","stdioEncoding","initializationOptions","initializationFailedHandler","progressOnInitialization","errorHandler","createDefaultErrorHandler","connectionOptions","uriConverters","workspaceFolder","diagnosticPullOptions","onChange","onSave","notebookDocumentOptions","Initial","_ignoredRegistrations","_listeners","_notificationHandlers","_pendingNotificationHandlers","_notificationDisposables","_requestHandlers","_pendingRequestHandlers","_requestDisposables","_progressHandlers","_pendingProgressHandlers","_progressDisposables","_connection","_initializeResult","outputChannel","_outputChannel","_disposeOutputChannel","_traceOutputChannel","traceOutputChannel","_diagnostics","_fileEvents","_fileEventDelayer","Delayer","_onStop","_telemetryEmitter","_stateChangeEmitter","_trace","messageOrDataObject","logTrace","logObjectTrace","_c2p","createConverter","code2Protocol","_p2c","protocol2Code","_syncedDocuments","registerBuiltinFeatures","onTelemetry","onDidChangeState","createOutputChannel","diagnostics","getPublicState","$state","oldState","newState","Starting","Running","Stopped","initializeResult","StartFailed","Stopping","$start","forceDocumentSync","activeConnection","handleWorkDoneProgress","realHandler","WorkDoneProgress","data2String","responseError","showNotification","appendLine","toLocaleTimeString","Info","showNotificationMessage","MessageType","Warn","Warning","showErrorMessage","showWarningMessage","showInformationMessage","selection","show","needsStart","needsStop","isRunning","_disposed","_onStart","createOnStartPromise","createDiagnosticCollection","LogMessageNotification","ShowMessageNotification","ShowMessageRequest","messageFunc","actions","TelemetryEventNotification","ShowDocumentRequest","showDocument","uri","asUri","external","success","openExternal","asRange","takeFocus","preserveFocus","showTextDocument","_resolve","refreshTrace","initOption","rootPath","workspaceFolders","fsPath","_clientGetRootPath","initParams","processId","clientInfo","appName","locale","getLocale","rootUri","Uri","computeClientCapabilities","fillInitializeParams","doInitialize","generateUuid","part","ProgressPart","workDoneToken","positionEncoding","PositionEncodingKind","UTF16","textDocumentSyncOptions","textDocumentSync","TextDocumentSyncKind","openClose","change","save","includeText","_capabilities","resolvedTextDocumentSync","PublishDiagnosticsNotification","handleDiagnostics","RegistrationRequest","handleRegistrationRequest","UnregistrationRequest","handleUnregistrationRequest","ApplyWorkspaceEditRequest","handleApplyWorkspaceEdit","InitializedNotification","hookFileEvents","hookConfigurationChanged","initializeFeatures","stop","retry","folders","workspace","folder","scheme","shutdown","cleanUp","exit","race","finally","cleanUpChannel","feature","_idleInterval","notifyFileEvent","didChangeWatchedFile","trigger","DidChangeWatchedFilesNotification","changes","workSpaceMiddleware","_didChangeTextDocumentFeature","DidChangeTextDocumentNotification","forceDelivery","tokenSource","triggerDiagnosticQueue","workDiagnosticQueue","asDiagnostics","converted","setDiagnostics","transports","createMessageTransports","_lastUsed","ConsoleLogger","createProtocolConnection","lastUsed","resetLastUsed","defaultTraceOptions","InitializeRequest","ShutdownRequest","ExitNotification","handleConnectionError","handleConnectionClosed","onDidChangeConfiguration","config","getConfiguration","traceConfig","watchers","fileEvents","registerRaw","registerFeatures","features","registerFeature","DynamicFeature","registrationType","getFeature","request","hasDedicatedTextSynchronizationFeature","textDocument","NotebookDocumentSyncRegistrationType","NotebookDocumentSyncFeature","handles","ConfigurationFeature","DidOpenTextDocumentFeature","DidChangeTextDocumentFeature","WillSaveFeature","WillSaveWaitUntilFeature","DidSaveTextDocumentFeature","DidCloseTextDocumentFeature","FileSystemWatcherFeature","CompletionItemFeature","HoverFeature","SignatureHelpFeature","DefinitionFeature","ReferencesFeature","DocumentHighlightFeature","DocumentSymbolFeature","WorkspaceSymbolFeature","CodeActionFeature","CodeLensFeature","DocumentFormattingFeature","DocumentRangeFormattingFeature","DocumentOnTypeFormattingFeature","RenameFeature","DocumentLinkFeature","ExecuteCommandFeature","SyncConfigurationFeature","TypeDefinitionFeature","ImplementationFeature","ColorProviderFeature","WorkspaceFoldersFeature","FoldingRangeFeature","DeclarationFeature","SelectionRangeFeature","ProgressFeature","SemanticTokensFeature","LinkedEditingFeature","DidCreateFilesFeature","DidRenameFilesFeature","DidDeleteFilesFeature","WillCreateFilesFeature","WillRenameFilesFeature","WillDeleteFilesFeature","TypeHierarchyFeature","InlineValueFeature","InlayHintsFeature","DiagnosticFeature","registerProposedFeatures","createAll","applyEdit","workspaceEdit","documentChanges","resourceOperations","ResourceOperationKind","Create","Rename","Delete","failureHandling","FailureHandlingKind","TextOnlyTransactional","normalizesLineEndings","changeAnnotationSupport","groupsOnLabel","relatedInformation","versionSupport","tagSupport","valueSet","DiagnosticTag","Unnecessary","Deprecated","codeDescriptionSupport","dataSupport","windowCapabilities","messageActionItem","additionalPropertiesSupport","support","generalCapabilities","staleRequestSupport","retryOnContentModified","RequestsToCancelOnContentModified","regularExpressions","engine","positionEncodings","allowedTags","preInitialize","registration","registrations","unregistration","unregisterations","unregister","edit","asWorkspaceEdit","openTextDocuments","textDocuments","versionMismatch","TextDocumentEdit","applied","asPromise","LSPErrorCodes","RequestCancelled","ServerCancelled","LSPCancellationError","CancellationError","ContentModified","SemanticTokensRequest","SemanticTokensRangeRequest","SemanticTokensDeltaRequest","CodeActionRequest","isPreferredSupport","disabledSupport","resolveSupport","properties","codeActionLiteralSupport","codeActionKind","CodeActionKind","Empty","QuickFix","Refactor","RefactorExtract","RefactorInline","RefactorRewrite","Source","SourceOrganizeImports","honorsChangeAnnotations","getRegistrationOptions","codeActionProvider","selector","provideCodeActions","_provideCodeActions","asTextDocumentIdentifier","asCodeActionContext","asCodeActionResult","resolveCodeAction","resolveProvider","CodeActionResolveRequest","asCodeAction","registerCodeActionsProvider","codeActionKinds","providedCodeActionKinds","asCodeActionKinds","proto","protocolCompletionItem_1","protocolCodeLens_1","protocolDocumentLink_1","protocolCodeAction_1","protocolDiagnostic_1","protocolCallHierarchyItem_1","protocolTypeHierarchyItem_1","protocolWorkspaceSymbol_1","protocolInlayHint_1","InsertReplaceRange","inserting","replacing","uriConverter","_uriConverter","asTextDocumentItem","languageId","asTextDocumentSaveReason","reason","TextDocumentSaveReason","Manual","AfterDelay","FocusOut","asCompletionTriggerKind","triggerKind","CompletionTriggerKind","TriggerCharacter","TriggerForIncompleteCompletions","Invoked","asSignatureHelpTriggerKind","SignatureHelpTriggerKind","Invoke","ContentChange","asParameterInformation","label","asSignatureInformation","parameters","asWorkerPosition","line","character","asPosition","uinteger","MAX_VALUE","asLocation","Location","asDiagnosticSeverity","DiagnosticSeverity","Information","Hint","asDiagnosticTag","asRelatedInformation","location","asDiagnostic","Diagnostic","protocolDiagnostic","ProtocolDiagnostic","asDiagnosticCode","DiagnosticCode","hasDiagnosticCode","codeDescription","severity","tags","asDiagnosticTags","source","asCompletionItemTag","CompletionItemTag","asTextEdit","newText","asTextEdits","edits","asSymbolKind","SymbolKind","TypeParameter","Property","asSymbolTag","asSymbolTags","asCommand","Command","asInlayHintLabelPart","InlayHintLabelPart","tooltip","asTooltip","MarkupKind","Markdown","asVersionedTextDocumentIdentifier","asOpenTextDocumentParams","asChangeTextDocumentParams","isTextDocument","contentChanges","isTextDocumentChangeEvent","rangeLength","asCloseTextDocumentParams","asSaveTextDocumentParams","includeContent","asWillSaveTextDocumentParams","asDidCreateFilesParams","files","fileUri","asDidRenameFilesParams","oldUri","newUri","asDidDeleteFilesParams","asWillCreateFilesParams","asWillRenameFilesParams","asWillDeleteFilesParams","asCompletionParams","triggerCharacter","asSignatureHelpParams","isRetrigger","activeSignatureHelp","signatures","activeSignature","activeParameter","asPositions","asCompletionItem","labelDetailsSupport","labelDetails","detail","protocolItem","documentation","documentationFormat","PlainText","asDocumentation","filterText","InsertTextFormat","textEdit","insertText","SnippetString","Snippet","insertTextFormat","fromEdit","InsertReplaceEdit","asCompletionTextEdit","fillPrimaryInsertText","originalItemKind","sortText","additionalTextEdits","commitCharacters","preselect","asCompletionItemTags","deprecated","insertTextMode","keepWhitespace","InsertTextMode","adjustIndentation","asReferenceParams","includeDeclaration","CodeAction","asCodeActionKind","isPreferred","only","CodeActionContext","CodeActionTriggerKind","Automatic","asCodeActionTriggerKind","asInlineValueContext","InlineValueContext","frameId","stoppedLocation","asCodeLens","CodeLens","asFormattingOptions","fileOptions","tabSize","insertSpaces","trimTrailingWhitespace","trimFinalNewlines","insertFinalNewline","asDocumentSymbolParams","asCodeLensParams","asDocumentLink","DocumentLink","asDocumentLinkParams","selectionRange","asTypeHierarchyItem","asInlayHint","InlayHint","textEdits","paddingLeft","paddingRight","asWorkspaceSymbol","hasRange","containerName","CodeLensRequest","refreshSupport","CodeLensRefreshRequest","getAllProviders","onDidChangeCodeLensEmitter","codeLensProvider","onDidChangeCodeLenses","provideCodeLenses","asCodeLenses","resolveCodeLens","codeLens","CodeLensResolveRequest","registerCodeLensProvider","DocumentColorRequest","colorProvider","provideColorPresentations","color","requestParams","ColorPresentationRequest","asColorPresentations","provideDocumentColors","asColorInformations","registerColorProvider","SupportedCompletionItemKinds","CompletionItemKind","Method","Function","Constructor","Field","Variable","Class","Interface","Module","Unit","Value","Enum","Keyword","Color","File","Reference","Folder","EnumMember","Constant","Struct","Operator","CompletionRequest","completion","contextSupport","completionItem","snippetSupport","commitCharactersSupport","deprecatedSupport","preselectSupport","insertReplaceSupport","insertTextModeSupport","asIs","completionItemKind","completionList","itemDefaults","completionProvider","triggerCharacters","defaultCommitCharacters","allCommitCharacters","provideCompletionItems","asCompletionResult","provideCompletionItem","resolveCompletionItem","CompletionResolveRequest","registerCompletionItemProvider","toJSONObject","getState","configuration","ConfigurationRequest","resource","scopeUri","DidChangeConfigurationNotification","configurationSection","sections","affectsConfiguration","didChangeConfiguration","settings","extractSettingsInformation","ensurePath","DeclarationRequest","declarationSupport","linkSupport","declarationProvider","provideDeclaration","asDeclarationResult","registerProvider","registerDeclarationProvider","DefinitionRequest","definitionSupport","definitionProvider","provideDefinition","asDefinitionResult","registerDefinitionProvider","uuid_1","RequestStateKind","PullState","DocumentDiagnosticReportKind","Tabs","_onOpen","_onClose","fillTabResources","tabGroups","onDidChangeTabs","opened","oldTabs","currentTabs","tab","toFire","onOpen","isActive","activeTextEditor","isVisible","getTabResources","strings","uris","seen","group","all","tabs","TabInputText","TabInputTextDiff","modified","DocumentPullStateTracker","documentPullStates","workspacePullStates","track","states","pulledVersion","resultId","update","arg2","unTrack","tracks","getResultId","getAllResultIds","DiagnosticRequestor","onDidChangeDiagnosticsEmitter","createProvider","openRequests","documentStates","workspaceErrorCounter","knows","forget","pull","pullAsync","isUri","currentRequestState","documentState","report","afterState","provideDiagnostics","full","DiagnosticServerCancellationData","retriggerRequest","outDated","reschedule","forgetDocument","workspaceDiagnostics","pullWorkspace","pullWorkspaceAsync","workspaceTimeout","provideWorkspaceDiagnostics","workspaceCancellation","previousResultIds","onDidChangeDiagnostics","previousResultId","DocumentDiagnosticRequest","Full","unChanged","resultIds","resultReporter","convertReport","convertPreviousResultIds","partialResultToken","WorkspaceDiagnosticRequest","partialResult","BackgroundScheduler","diagnosticRequestor","documents","endDocument","intervalHandle","DiagnosticFeatureProviderImpl","TextDocumentFilter","matcher","matchResource","isActiveDocument","activeTextDocument","backgroundScheduler","addToBackgroundIfNeeded","interFileDependencies","onDidChangeActiveTextEditor","editor","oldActive","openFeature","DidOpenTextDocumentNotification","onNotificationSent","pulledTextDocuments","onTabs","changeFeature","onType","saveFeature","DidSaveTextDocumentNotification","closeFeature","DidCloseTextDocumentNotification","cleanUpDocument","capability","relatedDocumentSupport","DiagnosticRefreshRequest","diagnosticProvider","DocumentHighlightRequest","documentHighlightProvider","provideDocumentHighlights","_provideDocumentHighlights","asDocumentHighlights","registerDocumentHighlightProvider","DocumentLinkRequest","documentLinkCapabilities","tooltipSupport","documentLinkProvider","provideDocumentLinks","asDocumentLinks","resolveDocumentLink","DocumentLinkResolveRequest","registerDocumentLinkProvider","SupportedSymbolTags","SupportedSymbolKinds","Namespace","Package","Boolean","Key","Null","SymbolTag","DocumentSymbolRequest","symbolCapabilities","symbolKind","hierarchicalDocumentSymbolSupport","labelSupport","documentSymbolProvider","provideDocumentSymbols","_provideDocumentSymbols","DocumentSymbol","asDocumentSymbols","asSymbolInformations","metaData","registerDocumentSymbolProvider","_commands","ExecuteCommandRequest","executeCommandProvider","executeCommand","commands","registerCommand","WorkspaceFeature","TextDocumentEventFeature","DynamicDocumentFeature","StaticFeature","selectors","getDocumentSelectors","createParams","selectorFilter","_middleware","_createParams","_textDocument","_selectorFilter","_selectors","_onNotificationSent","getStateInfo","_listener","doSend","notificationSent","getProvider","_registrationType","_registrations","TextDocumentRegistrationOptions","StaticRegistrationOptions","hasId","WorkDoneProgressOptions","getProviders","FileOperationFeature","clientCapability","serverCapability","_clientCapability","_serverCapability","_filters","filterSize","fileOperations","filters","minimatchFilter","glob","asMinimatchOptions","getFileType","fileMatches","fileType","FileType","FileOperationPatternKind","Directory","ignoreCase","NotificationFileOperationFeature","notificationType","accessUri","_notificationType","_accessUri","originalEvent","filteredEvent","CachingNotificationFileOperationFeature","_fsPathFileTypes","clearFileTypeCache","_willListener","onDidCreateFiles","DidCreateFilesNotification","didCreateFiles","onDidRenameFiles","DidRenameFilesNotification","onWillRenameFiles","willRename","waitUntil","cacheFileTypes","didRenameFiles","onDidDeleteFiles","DidDeleteFilesNotification","onWillDeleteFiles","willDelete","didDeleteFiles","RequestFileOperationFeature","requestType","_requestType","onWillCreateFiles","WillCreateFilesRequest","willCreateFiles","WillRenameFilesRequest","willRenameFiles","WillDeleteFilesRequest","willDeleteFiles","_notifyFileEvent","_watchers","relativePatternSupport","_documentSelector","watcher","globPattern","asGlobPattern","watchCreate","watchChange","watchDelete","WatchKind","Change","fileSystemWatcher","createFileSystemWatcher","hookListeners","fileSystemWatchers","onDidCreate","FileChangeType","Created","onDidChange","Changed","onDidDelete","Deleted","FoldingRangeRequest","rangeLimit","lineFoldingOnly","foldingRangeKind","FoldingRangeKind","Imports","Region","foldingRange","collapsedText","foldingRangeProvider","provideFoldingRanges","asFoldingRanges","registerFoldingRangeProvider","FileFormattingOptions","fromConfiguration","filesConfig","DocumentFormattingRequest","documentFormattingProvider","provideDocumentFormattingEdits","registerDocumentFormattingEditProvider","DocumentRangeFormattingRequest","documentRangeFormattingProvider","provideDocumentRangeFormattingEdits","registerDocumentRangeFormattingEditProvider","DocumentOnTypeFormattingRequest","documentOnTypeFormattingProvider","provideOnTypeFormattingEdits","moreTriggerCharacter","registerOnTypeFormattingEditProvider","firstTriggerCharacter","HoverRequest","hoverCapability","contentFormat","hoverProvider","provideHover","asHover","registerHoverProvider","ImplementationRequest","implementationSupport","implementationProvider","provideImplementation","registerImplementationProvider","InlayHintRequest","inlayHint","InlayHintRefreshRequest","onDidChangeInlayHints","inlayHintProvider","provideInlayHints","viewPort","asInlayHints","resolveInlayHint","hint","InlayHintResolveRequest","registerInlayHintsProvider","InlineValueRequest","InlineValueRefreshRequest","onDidChangeInlineValues","inlineValueProvider","provideInlineValues","asInlineValues","registerInlineValuesProvider","LinkedEditingRangeRequest","linkedEditingRangeProvider","provideLinkedEditingRanges","provideLinkedEditing","asLinkedEditingRanges","provideLinkedEditingRange","registerLinkedEditingRangeProvider","vscode","$NotebookCell","$NotebookDocumentFilter","$NotebookDocumentSyncOptions","SyncInfo","asNotebookCells","asNotebookCell","asMetadata","deepCopy","NotebookCell","NotebookCellKind","Markup","Code","asNotebookCellKind","executionSummary","executionOrder","props","asVersionedNotebookDocumentIdentifier","notebookDocument","asNotebookDocument","NotebookDocument","notebookType","asTextContentChange","asNotebookDocumentChangeEvent","changedCells","structure","deleteCount","didOpen","didClose","textContent","equals","one","compareMetaData","endTime","equalsTiming","timing","equalsExecution","equalsMetadata","oneArray","otherArray","isObjectLiteral","oneKeys","otherKeys","computeDiff","originalCells","modifiedCells","compareMetadata","originalLength","modifiedLength","originalEndIndex","modifiedEndIndex","newCells","matchNotebook","asDocumentFilter","notebook","notebookSelector","NotebookDocumentSyncFeatureProvider","notebookSyncInfo","notebookDidOpen","onDidOpenNotebookDocument","notebookDocuments","onDidChangeNotebookDocument","didChangeNotebookDocument","onDidSaveNotebookDocument","didSave","onDidCloseNotebookDocument","getMatchingCells","didOpenNotebookCellTextDocument","syncInfo","cellMatches","cellIsSynced","matchingCells","doSendChange","doSendOpen","didChangeNotebookCellTextDocument","didCloseNotebookCellTextDocument","cellUri","findIndex","doSendClose","deleted","newEvent","doSendSave","syncedCells","getCells","nb","cellDocuments","DidOpenNotebookDocumentNotification","cellTextDocuments","notebooks","DidChangeNotebookDocumentNotification","didChange","DidSaveNotebookDocumentNotification","DidCloseNotebookDocumentNotification","matchingCellsSet","cellChanges","cellChange","oldCells","addedCells","removedCells","filtered","filterCells","cellSelector","cellLanguage","onDidOpenTextDocument","CellScheme","notebookCell","findNotebookDocumentAndCell","onDidChangeTextDocument","onDidCloseTextDocument","synchronization","executionSummarySupport","notebookDocumentSync","dedicatedChannel","activeParts","WorkDoneProgressCreateRequest","workDoneProgress","deleteHandler","_reported","_infinite","_lspProgressDisposable","begin","percentage","withProgress","ProgressLocation","Window","cancellable","progress","_progress","_cancellationToken","_tokenDisposable","WorkDoneProgressCancelNotification","delta","increment","ProtocolCallHierarchyItem","CallHierarchyItem","ProtocolCodeAction","ProtocolCodeLens","ProtocolCompletionItem","CompletionItem","ls","CodeBlock","trustMarkdown","diagnostic","CodeDescription","diagnosticCode","DiagnosticRelatedInformation","Position","asRanges","asMarkdownString","MarkdownString","appendText","defaultRange","defaultInsertTextMode","defaultInsertTextFormat","defaultData","CompletionItemLabelDetails","asCompletionItemLabel","insert","textEditText","asCompletionInsertText","itemKind","asTextEditsSync","TextEdit","asSignatureInformations","mapAsync","SignatureInformation","asParameterInformations","ParameterInformation","asLocationLink","targetUri","targetRange","originSelectionRange","targetSelectionRange","asLocationResult","LocationLink","links","locations","asDocumentHighlight","DocumentHighlight","asDocumentHighlightKind","DocumentHighlightKind","Read","Write","asSymbolInformation","SymbolInformation","fillTags","asDocumentSymbol","kindMapping","asDiagnosticsSync","sharedMetadata","changeAnnotations","annotation","needsConfirmation","asWorkspaceEditEntryMetadata","WorkspaceEdit","CreateFile","createFile","annotationId","RenameFile","renameFile","DeleteFile","deleteFile","AnnotatedTextEdit","asColor","red","green","blue","alpha","asColorInformation","ci","ColorInformation","asColorPresentation","presentation","ColorPresentation","asFoldingRangeKind","asFoldingRange","FoldingRange","startLine","endLine","asSelectionRange","SelectionRange","asInlineValue","inlineValue","InlineValueText","InlineValueVariableLookup","variableName","caseSensitiveLookup","InlineValueEvaluatableExpression","expression","asCallHierarchyIncomingCall","CallHierarchyIncomingCall","fromRanges","asCallHierarchyOutgoingCall","CallHierarchyOutgoingCall","asSemanticTokensEdit","SemanticTokensEdit","Uint32Array","NotebookCellTextDocumentFilter","hover","Hover","appendCodeblock","appendMarkdown","asHoverContent","contents","rangeDefaults","editRange","getCompletionItemDefaults","CompletionList","isIncomplete","asSignatureHelp","SignatureHelp","asReferences","asCommands","foldingRanges","colorInformation","colorPresentations","asSelectionRanges","selectionRanges","inlineValues","asSemanticTokensLegend","asSemanticTokens","SemanticTokens","asSemanticTokensEdits","SemanticTokensEdits","LinkedEditingRanges","asRegularExpression","wordPattern","asTypeHierarchyItems","RelativePattern","URI","baseUri","WorkspaceFolder","getWorkspaceFolder","ProtocolDocumentLink","ProtocolInlayHint","ProtocolTypeHierarchyItem","TypeHierarchyItem","WorkspaceSymbol","locationOrUri","ReferencesRequest","referencesProvider","provideReferences","_providerReferences","registerReferenceProvider","RenameRequest","rename","prepareSupport","prepareSupportDefaultBehavior","PrepareSupportDefaultBehavior","Identifier","renameProvider","prepareProvider","provideRenameEdits","newName","prepareRename","PrepareRenameRequest","isDefaultBehavior","defaultBehavior","placeholder","registerRenameProvider","SelectionRangeRequest","selectionRangeProvider","provideSelectionRanges","positions","registerSelectionRangeProvider","SemanticTokensRegistrationType","tokenTypes","SemanticTokenTypes","namespace","class","enum","interface","struct","typeParameter","parameter","variable","property","enumMember","function","macro","keyword","modifier","decorator","tokenModifiers","SemanticTokenModifiers","declaration","definition","readonly","abstract","modification","defaultLibrary","formats","TokenFormat","Relative","requests","multilineTokenSupport","overlappingTokenSupport","serverCancelSupport","augmentsSyntaxTokens","SemanticTokensRefreshRequest","onDidChangeSemanticTokensEmitter","semanticTokensProvider","fullProvider","hasEditProvider","documentProvider","onDidChangeSemanticTokens","provideDocumentSemanticTokens","provideDocumentSemanticTokensEdits","rangeProvider","provideDocumentRangeSemanticTokens","legend","registerDocumentSemanticTokensProvider","registerDocumentRangeSemanticTokensProvider","SignatureHelpRequest","signatureInformation","parameterInformation","labelOffsetSupport","activeParameterSupport","signatureHelpProvider","provideSignatureHelp","providerSignatureHelp","retriggerCharacters","registerSignatureHelpProvider","syncedDocuments","textDocumentFilter","openDocuments","_forcingDelivery","_changeData","syncKind","promises","changeData","Incremental","_changeDelayer","delayer","changeEvent","onWillSaveTextDocument","WillSaveTextDocumentNotification","willSave","willSaveEvent","WillSaveTextDocumentWaitUntilRequest","willSaveWaitUntil","vEdits","onDidSaveTextDocument","_includeText","saveOptions","TypeDefinitionRequest","typeDefinitionSupport","typeDefinitionProvider","provideTypeDefinition","registerTypeDefinitionProvider","TypeHierarchyProvider","prepareTypeHierarchy","TypeHierarchyPrepareRequest","provideTypeHierarchySupertypes","TypeHierarchySupertypesRequest","provideTypeHierarchySubtypes","TypeHierarchySubtypesRequest","typeHierarchyProvider","registerTypeHierarchyProvider","clearTestMode","setTestMode","defaultDelay","completionPromise","onSuccess","task","delay","cancelTimeout","isTriggered","$test","Timer","yieldAfter","counter","total","counterInterval","shouldYield","timeTaken","timeLeft","convertBatch","yieldCallback","runBatch","thenable","typedArray","check","isUUID","v4","ValueUUID","asHex","V4UUID","_randomHex","_oneOf","_timeHighBits","_chars","_UUIDPattern","arrayDiff","access","DidChangeWorkspaceFoldersNotification","initializeWithFolders","asProtocol","currentWorkspaceFolders","_initialFolders","WorkspaceFoldersRequest","sendInitialEvent","removed","added","doSendEvent","addedFolders","removedFolders","onDidChangeWorkspaceFolders","didChangeWorkspaceFolders","WorkspaceSymbolRequest","workspaceSymbolProvider","provideWorkspaceSymbols","query","resolveWorkspaceSymbol","WorkspaceSymbolResolveRequest","registerWorkspaceSymbolProvider","SettingMonitor","LanguageClient","TransportKind","client_1","processes_1","semverParse","semverSatisfies","Transport","Executable","NodeModule","StreamInfo","ChildProcessInfo","isSocket","detached","arg3","arg4","arg5","serverOptions","forceDebug","_serverOptions","_forceDebug","_isInDebugMode","checkVersion","codeVersion","isInDebugMode","_serverProcess","toCheck","_isDetached","checkProcessDied","childProcess","pid","kill","terminate","getEnvironment","fork","debugStartWith","debugEquals","assertStdio","stdin","stdout","stderr","json","runDebug","run","execArgv","startsWith","startedInDebugMode","_getServerWorkingDir","serverWorkingDir","transport","stdio","runtime","ipc","pipe","silent","protocol","execOptions","_getRuntimePath","serverProcess","handleChildProcessStartError","serverWorkingDirectory","isAbsolute","mainRootPath","_mainGetRootPath","existsSync","lstat","stats","isDirectory","envValue","_setting","primary","rest","enabled","path_1","isWindows","isMacintosh","isLinux","execFileSync","cmd","__dirname","lspReservedErrorRangeStart","RequestFailed","lspReservedErrorRangeEnd","vscode_jsonrpc_1","ProtocolNotificationType","ProtocolNotificationType0","ProtocolRequestType","ProtocolRequestType0","RegistrationType","MessageDirection","messageDirection","clientToServer","serverToClient","Unchanged","TextDocumentContentChangeEvent","InitializeErrorCodes","DocumentSelector","NotebookDocumentFilter","MonikerRequest","MonikerKind","UniquenessLevel","NotebookCellArrayChange","ExecutionSummary","vscode_languageserver_types_1","protocol_implementation_1","protocol_typeDefinition_1","protocol_workspaceFolder_1","protocol_configuration_1","protocol_colorProvider_1","protocol_foldingRange_1","protocol_declaration_1","protocol_selectionRange_1","protocol_progress_1","protocol_callHierarchy_1","protocol_semanticTokens_1","protocol_showDocument_1","protocol_linkedEditingRange_1","protocol_fileOperations_1","protocol_moniker_1","protocol_typeHierarchy_1","protocol_inlineValue_1","protocol_inlayHint_1","protocol_diagnostic_1","protocol_notebook_1","objectLiteral","Abort","Transactional","Undo","UTF8","UTF32","hasWorkDoneProgress","unknownProtocolVersion","Log","isIncremental","isFull","project","$import","$export","local","DocumentUri","two","integer","registrationMethod","ChangeAnnotation","ChangeAnnotationIdentifier","MIN_VALUE","three","four","numberRange","startCharacter","endCharacter","defined","OptionalVersionedTextDocumentIdentifier","overwrite","ignoreIfExists","recursive","ignoreIfNotExists","TextDocumentIdentifier","VersionedTextDocumentIdentifier","TextDocumentItem","MarkupContent","MarkedString","FormattingOptions","InlayHintKind","TextEditChangeImpl","assertChangeAnnotations","manage","ChangeAnnotations","annotations","_annotations","_counter","idOrAnnotation","nextId","WorkspaceChange","_textEditChanges","_workspaceEdit","_changeAnnotations","textEditChange","initDocumentChanges","getTextEditChange","textDocumentEdit","initChanges","optionsOrAnnotation","operation","fromPlainText","plainText","SourceFixAll","kindOrCommandOrEdit","checkKind","Type","Parameter","TextDocument","EOL","mergeSort","leftIdx","rightIdx","FullTextDocument","lineCount","positionAt","offsetAt","applyEdits","sortedEdits","lastModifiedOffset","startOffset","endOffset","_uri","_languageId","_version","_content","_lineOffsets","getLineOffsets","lineOffsets","isLineStart","mid","lineOffset","nextLineOffset","OSTYPE","COLON","getNotFoundError","getPathInfo","colon","pathEnv","PATH","pathExtExe","found","step","ppRaw","pathPart","pCmd","subStep","cur","nothrow","DOMParser","locator","DOMHandler","cdata","lineNumber","columnNumber","_locator","systemId","_toString","chars","java","appendElement","hander","currentElement","parseFromString","mimeType","sax","XMLReader","domBuilder","defaultNSMap","xmlns","isHTML","entityMap","htmlEntity","setDocumentLocator","errorImpl","isCallback","buildErrorHandler","xml","startDocument","DOMImplementation","createDocument","documentURI","startElement","namespaceURI","localName","qName","attrs","createElementNS","getURI","getValue","attr","getQName","createAttributeNS","getLocator","setAttributeNode","endElement","parentNode","startPrefixMapping","endPrefixMapping","processingInstruction","ins","createProcessingInstruction","ignorableWhitespace","characters","charNode","createCDATASection","createTextNode","skippedEntity","comm","createComment","startCDATA","endCDATA","startDTD","publicId","impl","implementation","createDocumentType","warning","fatalError","copy","dest","_extends","Super","pt","NodeType","ELEMENT_NODE","ATTRIBUTE_NODE","TEXT_NODE","CDATA_SECTION_NODE","ENTITY_REFERENCE_NODE","ENTITY_NODE","PROCESSING_INSTRUCTION_NODE","COMMENT_NODE","DOCUMENT_NODE","DOCUMENT_TYPE_NODE","DOCUMENT_FRAGMENT_NODE","NOTATION_NODE","ExceptionCode","ExceptionMessage","HIERARCHY_REQUEST_ERR","INDEX_SIZE_ERR","DOMSTRING_SIZE_ERR","NOT_FOUND_ERR","WRONG_DOCUMENT_ERR","INVALID_CHARACTER_ERR","NO_DATA_ALLOWED_ERR","NO_MODIFICATION_ALLOWED_ERR","INUSE_ATTRIBUTE_ERR","NOT_SUPPORTED_ERR","DOMException","captureStackTrace","NodeList","LiveNodeList","refresh","_node","_refresh","_updateLiveList","_inc","ownerDocument","__set__","NamedNodeMap","_findNodeIndex","_addNamedNode","newAttr","oldAttr","ownerElement","_onRemoveAttribute","_nsMap","_onAddAttribute","_removeNamedNode","_xmlEncoder","_visitNode","nextSibling","Document","_onUpdateChild","newChild","_removeChild","lastChild","_insertBefore","nextChild","newFirst","newLast","Attr","CharacterData","CDATASection","DocumentType","Notation","Entity","EntityReference","DocumentFragment","nodeSerializeToString","isHtml","nodeFilter","buf","refNode","documentElement","lookupPrefix","visibleNamespaces","serializeToString","needNamespaceDefine","ns","nodeName","pubid","sysid","internalSubset","importNode","deep","node2","cloneNode","attrs2","_ownerElement","object","INVALID_STATE_ERR","SYNTAX_ERR","INVALID_MODIFICATION_ERR","NAMESPACE_ERR","INVALID_ACCESS_ERR","getNamedItem","setNamedItem","setNamedItemNS","getNamedItemNS","removeNamedItem","removeNamedItemNS","hasFeature","qualifiedName","root","insertBefore","refChild","replaceChild","oldChild","appendData","isSupported","hasAttributes","lookupNamespaceURI","isDefaultNamespace","importedNode","rtv","getElementsByClassName","createDocumentFragment","createAttribute","specified","createEntityReference","getAttributeNode","removeAttribute","removeAttributeNode","_appendSingleChild","setAttributeNodeNS","removeAttributeNS","old","getAttributeNodeNS","hasAttributeNS","getAttributeNS","setAttributeNS","getElementsByTagNameNS","substringData","insertData","replaceData","deleteData","splitText","newNode","getTextContent","$$length","amp","quot","apos","Agrave","Aacute","Acirc","Atilde","Auml","Aring","AElig","Ccedil","Egrave","Eacute","Ecirc","Euml","Igrave","Iacute","Icirc","Iuml","ETH","Ntilde","Ograve","Oacute","Ocirc","Otilde","Ouml","Oslash","Ugrave","Uacute","Ucirc","Uuml","Yacute","THORN","szlig","agrave","aacute","acirc","atilde","auml","aring","aelig","ccedil","egrave","eacute","ecirc","euml","igrave","iacute","icirc","iuml","eth","ntilde","ograve","oacute","ocirc","otilde","ouml","oslash","ugrave","uacute","ucirc","uuml","yacute","thorn","yuml","nbsp","iexcl","cent","pound","curren","yen","brvbar","sect","uml","ordf","laquo","not","shy","macr","deg","plusmn","sup2","sup3","acute","micro","para","middot","cedil","sup1","ordm","raquo","frac14","frac12","frac34","iquest","times","divide","forall","exist","nabla","isin","notin","ni","prod","sum","minus","lowast","radic","infin","ang","and","or","cup","there4","sim","cong","asymp","ne","equiv","le","ge","sup","nsub","sube","supe","oplus","otimes","perp","sdot","Alpha","Beta","Gamma","Delta","Epsilon","Zeta","Eta","Theta","Iota","Kappa","Lambda","Mu","Nu","Xi","Omicron","Pi","Rho","Sigma","Tau","Upsilon","Phi","Chi","Psi","Omega","beta","gamma","epsilon","zeta","eta","theta","iota","kappa","lambda","mu","nu","xi","omicron","rho","sigmaf","sigma","tau","upsilon","phi","chi","psi","omega","thetasym","upsih","piv","OElig","oelig","Scaron","scaron","Yuml","fnof","circ","tilde","ensp","emsp","thinsp","zwnj","zwj","lrm","rlm","ndash","mdash","lsquo","rsquo","sbquo","ldquo","rdquo","bdquo","dagger","Dagger","bull","hellip","permil","prime","Prime","lsaquo","rsaquo","oline","euro","trade","larr","uarr","rarr","darr","harr","crarr","lceil","rceil","lfloor","rfloor","loz","spades","clubs","hearts","diams","nameStartChar","nameChar","tagNamePattern","copyLocator","parseElementStartPart","currentNSMap","entityReplacer","addAttribute","qname","addValue","attrName","setTagName","localNSMap","nsp","nsPrefix","_copy","parseHtmlSpecialContent","elStartEnd","elEndStart","fixSelfClosed","closeMap","parseDCC","matchs","lastMatch","endDTD","parseInstruction","ElementAttributes","defaultNSMapCopy","surrogate1","surrogate2","fixedFromCharCode","xt","lineEnd","linePattern","lineStart","parseStack","tagStart","endMatch","locator2","getLocalName","seed","acc","mapped","wrap","pref","suf","prototypeConcat","varArgs","nextSource","nextKey","XPathParser","init","XPath","setIfUnset","Expression","UnaryOperation","rhs","UnaryMinusOperation","BinaryOperation","lhs","OrOperation","AndOperation","EqualsOperation","NotEqualOperation","LessThanOperation","GreaterThanOperation","LessThanOrEqualOperation","GreaterThanOrEqualOperation","PlusOperation","MinusOperation","MultiplyOperation","DivOperation","ModOperation","BarOperation","PathExpr","filterPreds","locpath","findRoot","applyStepWithPredicates","xpc","applyPredicates","predicates","applyStep","applyStepToNodes","flatten","LocationPath","steps","Step","axis","nodetest","preds","NodeTest","VariableReference","FunctionCall","superclass","reduceActions","locationPath","DESCENDANTORSELF","nodeTest","Utilities","instance_of","filterPredicates","XString","XNumber","absolute","CHILD","ANCESTOR","ANCESTORORSELF","ATTRIBUTE","DESCENDANT","FOLLOWING","FOLLOWINGSIBLING","NAMESPACE","PARENT","PRECEDING","PRECEDINGSIBLING","SELF","commentTest","textTest","anyPiTest","PITest","nameTestAny","NameTestPrefixAny","NameTestQName","actionTable","actionTableNumber","gotoTable","productions","DOUBLEDOT","DOUBLECOLON","DOUBLESLASH","NOTEQUAL","LESSTHANOREQUAL","GREATERTHANOREQUAL","AND","OR","MOD","DIV","MULTIPLYOPERATOR","FUNCTIONNAME","AXISNAME","LITERAL","NUMBER","ASTERISKNAMETEST","QNAME","NCNAMECOLONASTERISK","NODETYPE","PROCESSINGINSTRUCTIONWITHLITERAL","EQUALS","LESSTHAN","GREATERTHAN","PLUS","MINUS","BAR","SLASH","LEFTPARENTHESIS","RIGHTPARENTHESIS","COMMA","AT","LEFTBRACKET","RIGHTBRACKET","DOT","DOLLAR","tokenize","s1","types","isLetter","isNCNameChar","literal","XPathException","fromMessage","SHIFT","REDUCE","ACCEPT","tokenPos","tokenType","tokenValue","s_","evaluate","contextNode","expressionContextNode","contextSize","contextPosition","XML_NAMESPACE_URI","XMLNS_NAMESPACE_URI","bool","booleanValue","notequal","lessthan","greaterthan","lessthanorequal","greaterthanorequal","plus","multiply","nodeset","union","ctx","extend","inNodes","pred","predicateMatches","getRoot","firstNode","virtualRoot","ownerDoc","newNodes","getOwnerElement","nnm","nm","nsn","XPathNamespace","outer","applySteps","applyFilter","XNodeSet","nonNodes","toUnsortedArray","applyLocationPath","startNodes","XPathContext","filterResult","addArray","numberValue","predicateString","predicate","predicatesString","filterStr","selectSingleNode","elts","elt","STEPNAMES","NAMETESTANY","NAMETESTPREFIXANY","NAMETESTQNAME","COMMENT","TEXT","PI","NODE","isNodeType","makeNodeTestType","members","ctor","newType","makeNodeTypeTest","stringVal","hasPrefix","isElementOrAttribute","nameSpaceMatches","nNamespace","allowAnyNamespaceForNoPrefix","namespaceResolver","getNamespace","localNameMatches","nLocalName","caseInsensitive","XPATH_NAMESPACE_NODE","nameParts","resolveQName","variableResolver","getVariable","functionName","FunctionResolver","getFunctionFromContext","functionResolver","Operators","XBoolean","AVLTree","isXPathNamespace","vr","nr","VariableResolver","NamespaceResolver","Functions","functions","addStandardFunctions","stringValue","compareWithString","numberFormat","parseFloat","NaN","strValue","numberStr","exponent","padSmallNumber","zerosToAppend","padLargeNumber","compareWithNumber","compareWithBoolean","true_","false_","depth","balance","ldepth","rdepth","rotateRR","rotateLL","rrdepth","nodeBefore","rightBefore","updateInNewLocation","leftBefore","getDepthFromChildren","n1","n2","cpos","d1","d2","n1Par","n2Par","n1isAttr","isAttribute","n2isAttr","cn","nodeOrder","tree","stringForNode","stringForContainerNode","isNamespaceNode","nt","buildTree","toArrayRec","compareWithNodeSet","oInvert","lop","rop","compareWith","totalargs","curry","newProps","contains","substringBefore","substringAfter","stringLength","normalizeSpace","translate","boolean_","ceiling","addFunction","getFunction","aname","ids","eNode","baseName","s2","isSpace","eValue","eFrom","eTo","cMap","ceil","val","splitQName","qn","useDefault","coalesceText","exception","INVALID_EXPRESSION_ERR","TYPE_ERR","getMessage","XPathExpression","xpath","XPathNSResolverWrapper","xpathNSResolver","NodeXPathNSResolver","XPathResult","ANY_TYPE","STRING_TYPE","NUMBER_TYPE","BOOLEAN_TYPE","UNORDERED_NODE_ITERATOR_TYPE","resultType","ANY_UNORDERED_NODE_TYPE","FIRST_ORDERED_NODE_TYPE","singleNodeValue","ORDERED_NODE_ITERATOR_TYPE","invalidIteratorState","iteratorIndex","UNORDERED_NODE_SNAPSHOT_TYPE","ORDERED_NODE_SNAPSHOT_TYPE","snapshotLength","installDOM3XPathSupport","createExpression","createNSResolver","getOwnerDocument","detectHtmlDom","iterateNext","snapshotItem","shouldInstall","defaultNSResolver","defaultFunctionResolver","defaultVariableResolver","makeNSResolverFromFunction","convertValue","makeFunctionResolverFromFunction","makeEvaluator","makeVariableResolverFromFunction","copyIfPresent","makeContext","resolver","namespaces","makeNSResolverFromMap","makeFunctionResolverFromMap","makeFunctionResolver","makeVariableResolver","variables","evaluatorPrototype","parsedExpression","evaluateNumber","evaluateString","evaluateBoolean","evaluateNodeSet","select1","selectWithResolver","useNamespaces","mappings","isNodeLike","isInteger","isNodeOfType","isArrayOfNodes","isElement","isCDATASection","isProcessingInstruction","isDocumentNode","isDocumentTypeNode","isDocumentFragment","pushNode","forEachReverse","getReverse","mapReverse","initial","reduceReverse","toArrayReverse","sliceReverse","inserted","require","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","ArrayBuffer","isView","isHashable","GetHashCode","isDisposable","Dispose","sameConstructor","getPrototypeOf","Enumerator","iter","GetEnumerator","en","hasNext","date","date1","getTimezoneOffset","radix","ObjectRef","idMap","numberHash","bigintHash","combineHashCodes","hashes","arrayHash","getTime","dateHash","safeHash","physicalHash","identityHash","equalArraysWith","equalArrays","Equals","isEquatable","xKeys","yKeys","equalObjects","xtime","ytime","compareArrays","compareArraysWith","CompareTo","isComparable","compareObjects","createAtom","atom","createObj","fields","kv","unescapeDataString","decodeURIComponent","WeakMap","curried","f2","a1","a2","curry2","a3","uncurry5","a4","a5","callStack","seqToString","cons","cases","fieldStr","withParens","unionToString","recordToJSON","thisNames","recordEquals","recordCompareTo","getter","setter","contentsOrGetter","ensureErrorOrException","isPromise","isMinus","minutes","dateToHalfUTCString","half","toISOString","dateToStringWithCustomFormat","utc","rep","getUTCFullYear","getFullYear","getUTCMonth","getMonth","getUTCDate","getDate","getUTCHours","getHours","getUTCMinutes","getMinutes","getUTCSeconds","getSeconds","getUTCMilliseconds","getMilliseconds","_provider","dateWithOffset","dateToISOStringWithOffset","dateToStringWithOffset","toUTCString","toLocaleString","toLocaleDateString","printOffset","dateToISOString","dateToStringWithKind","parseRaw","fail","baseDate","timeInSeconds","timeParts","offsetInMinutes","tryParse","defValue","detectUTC","_err","symbol","isNumeric","BigInt","toFixed","dp","toPrecision","sd","toExponential","toHex","asUintN","startAt","lastMatchIndex","withGroups","pLast","groups","_s","sub1","_matches","sub2","fsFormatRegExp","interpolateRegExp","formatRegExp","isLessThan","cont","strParts","strIdx","matchIndex","createPrinter","interpolate","valIdx","padLength","precision","formatReplacement","continuePrint","toConsole","toFail","sign","zeroFlag","minusFlag","_strParts","_result","padArg","_padLength","str2","padLeft","intPart","decimalPart","repInt","repDecimal","rightZeros","padRight","thousandGroups","thousands","isNullOrEmpty","isNullOrWhiteSpace","isRight","replicate","splitters","removeEmpty","splits","findSplits","trimStart","trimEnd","Some","unwrap","defaultArgWith","defThunk","mapping","binder","targetIndex","fill","truncate","count_1","arrays","arrays_1","totalIdx","totalLength","idx_1","arr_2","item_1","start_1","end$0027","i_mut","loop","skipWhile","tryFindIndex","matchValue","tryPick","chooser","array1","array2","length1","length2","tryHead","foldBack2","differentLengths","foldBackIndexed2","_arg","sumBy","projection","adder","GetZero","Add","xs_1_mut","ys_1_mut","xs_1","ys_1","matchValue_1","yt","h_mut","ListEnumerator$1","it","FSharpList_get_Empty","FSharpList_Cons_305B8EAC","FSharpList__get_IsEmpty","FSharpList__get_Length","FSharpList__get_Head","FSharpList__get_Tail","unitVar","ofArrayWithTail","tail_1","ofSeq","xs_3","enumerator","xs_5","t_2","ys","zs","tryFind","root2","root1","patternInput_1","tupledArg","lacc","racc","t_4","t_5","comparer","Compare","Level","this$","Level__isGreaterOrEqualTo_Z4DA8F37A","Level_get_GetLevelNum","ionideLogsMemory","getConsoleLogArgs","template","browserLogTemplate","writeOutputChannelIfConfigured","out","chanMinLevel","formattedMessage","formattedLogLine","writeOutputChannel","writeToFile","ConsoleAndOutputChannelLogger","chanDefaultMinLevel","consoleMinLevel","ConsoleAndOutputChannelLogger_$ctor_Z565F02F0","ConsoleAndOutputChannelLogger__get_ChanMinLevel","ConsoleAndOutputChannelLogger__Debug_Z17053F5","template_1","args_1","patternInput","ConsoleAndOutputChannelLogger__Info_Z17053F5","ConsoleAndOutputChannelLogger__Error_Z17053F5","ConsoleAndOutputChannelLogger__Warn_Z17053F5","defaultOutputChannel","TypeInfo","fullname","generics","construct","enumCases","getHashCode","getGenerics","t1","t2","getRecordElements","k1","argType","returnType","generic","unit_type","elemType","getElementType","isEnum","getEnumValues","parseEnum","getEnumCase","isTuple","makeUnion","uci","expectedLength","declaringType","WorkspacePeekRequest","Deep","ExcludedDirs","DocumentationForSymbolRequest","XmlSig","Assembly","DocumentationDescription","XmlKey","Constructors","Fields","Interfaces","Attributes","DeclaredTypes","Signature","Comment$","FooterLines","DocumentationDescription_$reflection","Range$","StartColumn","StartLine","EndColumn","EndLine","Range$_$reflection","Symbol$","UniqueName","Name","Glyph","GlyphChar","IsTopLevel","BodyRange","EnclosingEntity","IsAbstract","Symbol$_$reflection","Symbols","Declaration","Nested","ProjectResponseInfoDotnetSdk","IsTestProject","Configuration","IsPackable","TargetFramework","TargetFrameworkIdentifier","TargetFrameworkVersion","RestoreSuccess","TargetFrameworks","RunCmd","IsPublishable","Arguments","ProjectResponseItem","FilePath","VirtualPath","Metadata","ProjectReference","RelativePath","ProjectFileName","PackageReference","Version","FullPath","Project","Files","Output","References","ProjectReferences","PackageReferences","Logs","OutputType","Items","AdditionalInfo","SignatureData","Parameters","Generics","WorkspacePeek","Found","WorkspacePeekFound","WorkspacePeekFoundDirectory","Fsprojs","WorkspacePeekFoundSolution","Path","Configurations","WorkspacePeekFoundSolutionItem","Guid","Kind","WorkspacePeekFoundSolutionItemKind","WorkspacePeekFoundSolutionItemKindFolder","FsdnResponse","ErrorData","CompileData","PipelineHint","Line","Types","PrecedingNonPipeExprLine","Result$1","Data","gen0","DotnetNew_Template","ShortName","Tags","DotnetNew_DotnetNewListRequest","Query","DotnetNew_DotnetNewRunRequest","Template","Target","FsProj_DotnetFileRequest","FsProj","FileVirtualPath","FsProj_DotnetFile2Request","NewFile","FsProj_DotnetRenameFileRequest","OldFileVirtualPath","NewFileName","generator","er_1","onError_1","er_2","a_1","er_3","ResultValue","ErrorValue","FSharpChoice$4","FSharpChoice$6","Enumerator_notStarted","Enumerator_alreadyFinished","Enumerator_Seq","Enumerator_FromFunctions$1","Enumerator_noReset","Enumerator_FromFunctions$1_$ctor_58C54629","mkSeq","Enumerator_Seq_$ctor_673A07F2","argName","Operators_NullArg","sources","outerOpt","innerOpt","curr","started","finished","finish","inner","copyOfStruct","outerOpt_1","innerOpt_1","inner_1","outer_1","Enumerator_concat","ar","generate","compute","openf","closef","x_1","Enumerator_generateWhileSome","e_1","acc_mut","Queue$1","initialContents","initialCount","guard","Queue$1__size","Queue$1__toIndex_Z524259A4","st_1","Enumerator_unfold","VSCode_getPluginPath","pluginName","extensionPath","CrossSpawn_crossSpawn","cross_spawn","Process_onClose","proc","Process_onOutput","Process_onErrorOutput","Process_onError","Process_spawnWithShell","Process_spawnWithNotification","e_2","arg_2","arg_1","Process_spawn","Process_ChildProcessExit","Signal","Process_exec","signal","Promise_PromiseBuilder__PromiseBuilder_Source_212F1D4B","CodeRange_fromDTO","String_trim","separator","String_endWith","ending","String_startWith","Document_$007CFSharp$007CCSharp$007CVB$007CFSharpScript$007CMarkdown$007COther$007C","document$","fileName","Configuration_tryGet","configuredValue","Configuration_get","Configuration_set","Configuration_setGlobal","Utils_isNotNull","Message_choice","Array_safeSkip","col","skip","Promise_onFail","Promise_suppress","_arg_1","Promise_executeForAll","Promise_mapExecuteForAll","collected","Promise_executeWithMaxParallel","maxParallelCount","items_1","take","remaining","Queue$1_$ctor_BB573A","startNext","Queue$1__Dequeue","pr_1","Context_set","Context_cachedSetter","ShowStatus","panel","_disposables","onDidDispose","instance","ShowStatus__Dispose","onDidChangeViewState","_ev","visible","ShowStatus__Update","ShowStatus_CreateOrShow_Z384F8060","projectPath","projectName","tap","Promise_onSuccess","bodyStr","ShowStatus_$ctor_2A6816C4","encodeURIComponent","webview","VSCodeExtension_extensionName","VSCodeExtension_ionidePluginPath","oldExtensionName","toLocaleUpperCase","spawnAndGetTrimmedOutput","tryGetTool","toolName","paths","tupledArg_1","op_LessDivideGreater","Util_Cache$1","Util_Cache$1_$ctor","Util_Casing_lowerFirst","Util_Casing_convert","caseStrategy","fieldName","guidRegex","guidRegexNoHyphen","guidRegexHex","hyphenateGuid","wsTrimAndLowered","NumberStyles","getRange","unsigned","bitsize","digits","AllowHexSpecifier","getRadix","invalidDigits","getInvalidDigits","regexMatch","validResponse","isValid","umin","umax","DateTimeOffset","checkOffsetInRange","offsetMatch","ticks","milliseconds","ts","firstDot","firstColon","MapTreeLeaf$2","MapTreeLeaf$2_$ctor_5BDDA1","MapTreeLeaf$2__get_Key","MapTreeLeaf$2__get_Value","MapTreeNode$2","MapTreeNode$2_$ctor_Z39DE9543","MapTreeNode$2__get_Left","MapTreeNode$2__get_Right","MapTreeNode$2__get_Height","MapTreeModule_sizeAux","m_mut","mn","MapTreeModule_size","MapTreeModule_mk","mn_1","hl","m2_1","m_2","MapTreeModule_rebalance","m2_2","mn_2","m_3","m2_3","mn_3","t1h","t2h","t2$0027","t2l","matchValue_2","t1$0027","matchValue_3","t1r","MapTreeModule_add","MapTreeModule_empty","MapTreeModule_tryFind","comparer_mut","k_mut","MapTreeModule_iterOpt","f_mut","MapTreeModule_iter","MapTreeModule_mapiOpt","l2","MapTreeModule_mapi","MapTreeModule_ofSeq","forLoopVar","MapTreeModule_ofArray","MapTreeModule_ofList","ie","e_mut","MapTreeModule_mkFromEnumerator","MapTreeModule_MapIterator$2","MapTreeModule_collapseLHS","stack_mut","MapTreeModule_mkIterator","MapTreeModule_current","MapTreeModule_alreadyFinished","MapTreeModule_notStarted","MapTreeModule_mkIEnumerator","MapTreeModule_moveNext","FSharpMap","combineHash","activePatternResult","FSharpMap__ComputeHashCode","that","that_1","e1","e2","e1c","e2c","b1","b2","kvp1","kvp2","FSharpMap__ContainsKey","FSharpMap__get_Item","MapTreeModule_copyToArray","FSharpMap__get_Count","FSharpMap_$ctor","MapTreeModule_find","MapTreeModule_mem","FSharpMap__TryFind","FSharpMap_Empty","SetTreeLeaf$1","SetTreeLeaf$1_$ctor_2B595","SetTreeLeaf$1__get_Key","SetTreeNode$1","SetTreeNode$1_$ctor_5F465FC9","SetTreeNode$1__get_Left","SetTreeNode$1__get_Right","SetTreeNode$1__get_Height","SetTreeModule_countAux","t_mut","tn","SetTreeModule_count","SetTreeModule_mk","tn_1","t2_1","SetTreeModule_rebalance","t2_3","tn_2","t_3","t2_4","tn_3","t2_2","SetTreeModule_add","c_1","SetTreeModule_empty","SetTreeModule_spliceOutSuccessor","SetTreeModule_remove","SetTreeModule_mem","SetTreeModule_iter","SetTreeModule_diffAux","SetTreeModule_diff","SetTreeModule_intersectionAux","b_mut","acc_1","acc_2","SetTreeModule_intersection","SetTreeModule_SetIterator$1","SetTreeModule_collapseLHS","x2","xn","SetTreeModule_mkIterator","SetTreeModule_current","SetTreeModule_alreadyFinished","SetTreeModule_notStarted","SetTreeModule_mkIEnumerator","SetTreeModule_moveNext","SetTreeModule_compare","l1_mut","l2_mut","SetTreeModule_compareStacks","l1","x1_3","x2_3","x1n_2","x2n_2","matchResult","t1_6","x1_4","t2_6","x2_4","x1n_3","x2n_3","matchResult_1","t1_7","x1_5","t2_7","x2_5","x1n_4","x2n_4","c_3","x2n_5","c_2","matchResult_2","t1_8","x1_6","t2_8","x2_6","x1n_5","x2n_6","matchResult_3","t1_2","x1","x2_1","x1n","x2n","matchResult_4","t1_4","x1_2","x2_2","x1n_1","x2n_1","SetTreeModule_copyToArray","SetTreeModule_ofArray","FSharpSet","FSharpSet__ComputeHashCode","FSharpSet__get_Comparer","FSharpSet__get_Tree","FSharpSet__get_Count","FSharpSet__Contains","FSharpSet_$ctor","set$","elements","SetTreeModule_ofList","SetTreeModule_mkFromEnumerator","SetTreeModule_ofSeq","difference","set1","set2","FSharpSet_op_Subtraction","genericMsg","value_1","newLine","errorToString","reason_1","fromValue","SyntaxError","sbyte","value_2","value_3","value_1_1","isFinite","outArg","int16","uint16","uint32","requestedIndex","currentPath","vArray","andThen","tuple2","decoder1","decoder2","decoder_3","path_3","value_4","decoder_2","decoder_1","path_2","arg10$0040","arg20$0040","toMap","mixedArray","decoders","extra","getUnionCases","uci_1","values_1","autoDecoder","getUnionCaseFields","autoDecodeRecordsAndUnions","isOptional","decoderRef","extra_1","FSharpMap__Add","isRecord","_t","makeRecord","decoderInfos","reduceRight","delegateArg","delegateArg_1","foldBack","autoObject","isUnion","decoder_13","decoder_14","decoder_15","enumType","getEnumUnderlyingType","value_5","enumValue","path_4","value_7","path_5","value_8","enumValue_1","y_1","path_6","value_10","path_7","value_11","enumValue_2","x_2","y_2","path_8","value_13","path_9","value_14","matchValue_4","enumValue_3","x_3","y_3","path_10","value_16","t_6","path_11","value_17","matchValue_5","enumValue_4","x_4","y_4","path_12","value_19","t_7","path_13","value_20","matchValue_6","enumValue_5","x_5","y_5","arg_7","clo_1","arg_8","isGenericType","t_8","getTupleElements","path_14","value_21","fullname_1","getGenericTypeDefinition","path_15","value_22","path_16","value_23","keyDecoder","valueDecoder","d_18","decoders_1","path_17","value_24","autoObject2","path_18","value_25","path_19","value_26","oneOf","decoders_1_mut","errors_mut","runner","errors","path_20","value_28","decoder_16","path_21","value_29","matchValue_7","path_22","value_31","path_23","value_32","unit","path_24","value_33","path_25","value_34","path_26","value_35","float32","path_27","value_36","datetime","path_28","value_37","datetimeOffset","path_29","value_38","timespan","path_30","value_39","guid","_arg_6","makeExtra","Coders","caseStrategy_1","Notifications_DocumentParsedEvent","Notifications_onDocumentParsedEmitter","Notifications_onDocumentParsed","Notifications_tooltipRequested","Notifications_notifyWorkspaceHandler","Notifications_testDetectedEmitter","Notifications_testDetected","LanguageService_logger","LanguageService_Types_Position","Character","LanguageService_Types_TextDocumentIdentifier","LanguageService_Types_VersionedTextDocumentIdentifier","LanguageService_Types_TextDocumentPositionParams","LanguageService_Types_VersionedTextDocumentPositionParams","LanguageService_Types_FileParams","LanguageService_Types_WorkspaceLoadParms","TextDocuments","LanguageService_Types_FSharpPipelineHintsRequest","Fable_Import_VSCode_Vscode_Uri__Uri_get_ToDocumentUri","LanguageService_client","LanguageService_selector","LanguageService_tryFindDotnet","reportError","readUInt32LE","tempPath","newFile","_arg_2","dotnetFullPath_1","dotnetRoot","program","dotnetFullPath","LanguageService_documentation","cl","req","response_1","LanguageService_lineLenses","LanguageService_parseError","AdditionalData","LanguageService_loadAnalyzers","LanguageService_pipelineHints","LanguageService_getOptions","openTelemetryEnabled","enableProjectGraph","oldgcConserveMemory","gcConserveMemory","copyOfStruct_1","outArg_1","v_2","gcConserveMemory_1","gcHeapCount","gcServer","gcNoAffinitize","parallelReferenceResolution","fsacAttachDebugger","fsacNetcorePath","fsacSilencedLogs","probePathForTFMs","basePath","tfm_2","availableTFMs_1","tfm_3","availableTFMs","tfmToSemVer","ver","tfmMap","v_5","tfm_1","ver_1","tuple","skipped","dotnet_1","dotnet","stdoutTrimmed","semver_1","sdkVersionAtRootPath","sdkVersion","sdkTfm","v_7","tfm_4","userSpecified","filesAndFolders","fsacPath","userDotnetArgs","hasUserRollForward","_arg_3","shouldApplyImplicitRollForward","_arg_4","envVariables","matchValue_8","_arg_5","arg_3","fsacPath_1","versionSupportingEnvVars","isNet7orHigher","fsacEnvVars_1","exeOpts","exeEnv","arg_4","matchValue_9","storageUri","storageDir","executable","LanguageService_start","startOpts","opts_1","initFails","errorHandling","initOpts","synch","fileDeletedWatcher","error_1","AutomaticWorkspaceInit","LanguageService_createClient","Status","te","ev","a_2","LanguageService_registerCustomNotifications","LanguageService_stop","dict","ProjectLoadingState","emptyProjectsMap","loadedWorkspace","loadedProjects","workspaceNotificationAvaiable","setAnyProjectContext","workspaceChangedEmitter","workspaceChanged","projectNotRestoredLoadedEmitter","projectNotRestoredLoaded","projectLoadedEmitter","projectLoaded","workspaceLoadedEmitter","workspaceLoaded","statusUpdatedEmitter","statusUpdated","excluded","deepLevel","isNetCoreApp","tfm","isSDKProjectPath","tryFindInWorkspace","n_1","updateInWorkspace","getAll","findProjs","dir","s$0027","chooseLoaded","getLoaded","tryFindLoadedProjectByFile","filePath","foldFsproj","getLoadedSolution","clearCache","getCaches","countProjectsInSln","sln","array_1","ConfiguredWorkspace","CurrentWorkspaceConfiguration_key","CurrentWorkspaceConfiguration_extensionWorkspaceState","CurrentWorkspaceConfiguration_pathExists","stats_1","CurrentWorkspaceConfiguration_parseAndValidate","ws","configured","fullPath","CurrentWorkspaceConfiguration_parse","CurrentWorkspaceConfiguration_getStringFromWorkspaceConfig","CurrentWorkspaceConfiguration_get","CurrentWorkspaceConfiguration_removeEndSlash","lastChar","CurrentWorkspaceConfiguration_equalPeek","peekDir","valueDir","peekSln","valueSln","pickFSACWorkspace","defaultPick","isDefault","peekFound","arg_5","projects","chooseFrom","placeHolder","arg_6","chosen","chosen_1","selected","tuple_1","selected_1","configuredPath","CurrentWorkspaceConfiguration_getWorkspacePath","CurrentWorkspaceConfiguration_isConfiguredInWorkspace","relativePath","CurrentWorkspaceConfiguration_set","execWithDotnet","getLauncher","execDotnet","exe","workspacePeek","excludedDirs","mapItem","folderData","res_1","f_1","data_1","LanguageService_workspacePeek","sortBy","initWorkspaceHelper","projs","LanguageService_workspaceLoad","configuredPeek","slns","fsprojs","wdir","ProjectStatus_timer","ProjectStatus_path","ProjectStatus_item","ProjectStatus_showItem","ProjectStatus_statusUpdateHandler","ProjectStatus_clearTimer","hide","ProjectStatus_update","te_1","proj","pPath","isUntitled","loadingInfo","isLoadingWorkspaceComplete","fileNameOnly","hashMap","HashSet__Add_2B595","HashSet__Clear","HashSet__Contains_2B595","arrayIndex","HashSet__get_Count","HashSet__Remove_2B595","HashSet__TryFindIndex_2B595","v_1","pairs","pair","Dictionary__Add_5BDDA1","Dictionary__Clear","Dictionary__TryFind_2B595","p_1","Dictionary__get_Count","Dictionary__Remove_2B595","Dictionary__ContainsKey_2B595","Dictionary__get_Item_2B595","Dictionary__set_Item_5BDDA1","Dictionary__TryFindIndex_2B595","distinctBy","hashSet","Array_distinctBy","Array_groupBy","key_1","groupBy","distinct","Trampoline","maxTrampolineCallCount","callCount","incrementAndCheck","hijack","cancelToken","isCancelled","onCancel","trampoline","Bind","computation","Combine","computation1","computation2","Delay","For","sequence","While","Return","ReturnFrom","TryFinally","compensation","TryWith","catchHandler","Using","Zero","emptyContinuation","_x","awaitPromise","conts","defaultCancellationToken","cancelled","_cancelled","$","sequential","computations","startAsPromise","_sequential","startWithContinuations","continuation","exceptionContinuation","cancellationContinuation","QueueCell","MailboxQueue","itCell","firstAndLast","tryGet","MailboxProcessor","messages","__processEvents","$this","receive","mbox","startImmediate","dotnetBinary","invokeMSBuildWithCancel","autoshow","cfg","progressOpts","ctok","pm","msbuildPath","Process_onExit","invokeMSBuild","msbuildTasksFilter","buildCurrentProject","currentProject","projectFile","tasks","expectedGroup","t_1","pickProject","buildProject","buildProjectPath","restoreMailBox","inbox","messageLoop","restoreProjectAsync","comingFromRestore","pr_2","LanguageService_project","_d_1","r_1","buildSolution","solutionFile","buildCurrentSolution","invokeDotnet","dotnetPath","subcommand","envs","msbuildTaskDef","perProjectTasks","buildTaskListForProject","projectDir","returnVal","verb","execution","cmdline","buildTaskListForSolution","solutionDir","solutionName","msbuildBuildTaskProvider","provideTasks","projectTasks","resolveTask","token_1","Documents_Cached","decorations","textEditors","Documents_DocumentInfo","LineLensDecorations_create","theme","attachment","contentText","renderOptions","after","decoration","LineLensDecorations_decorationType","LineLensConfig","LineLensState","decorationType","DecorationUpdateModule_updateDecorationsForDocument","fetchHintsData","hintsToSignature","signatureToDecoration","cache_1","hintsResults_1","info_2","uri_3","documents_4","curry3","Documents_update","info_1","LineLens","decorationUpdate","getConfig","LineLens_$ctor_Z6044D13C","LineLens__removeDocument_Z429A7006","documentExistInCache","uri_1","LineLens__documentClosed","textEditor_1","setDecorations","textEditor","LineLens__activate_7F028812","changeHandler","wasEnabled","isEnabled","decorationType_1","LineLens__setDecorationsForEditorIfCurrentVersion","LineLens__textEditorsChangedHandler_Z3DCC5CF","ConsoleAndOutputChannelLogger__ErrorOnFailed","editor_1","LineLens__setDecorationsForEditor","LineLens__documentParsedHandler_Z1CB7A421","LineLens__closedTextDocumentHandler_5F5A1B66","LineLens__install_Z7A2E8F54","LineLens__uninstall","LineLens__configChangedHandler_Z7A2E8F54","subscriptions","LineLensConfigModule_defaultConfig","DecorationUpdate_formatSignature","formatType","DecorationUpdate_declarationsResultToSignatures","declarationsResult","LanguageService_signatureData","DecorationUpdate_getSignature","ranges_1","symbols","syms","interestingNested","sym","len1","len2","newArray","i_1","Instance","logger_1","config_1","document$_1","signature","lineAt","DecorationUpdate_lineRange","DecorationUpdate_signatureToDecoration","PipelineHintsConfigModule_defaultConfig","PipelineDecorationUpdate_typeParamRegex","PipelineDecorationUpdate_getSignature","tts","PipelineDecorationUpdate_declarationsResultToSignatures","PipelineDecorationUpdate_getSignatures","previousNonPipeLine","lines","textLine","previousTextLine","PipelineDecorationUpdate_interestingSymbolPositions","doc_1","PipelineDecorationUpdate_signatureToDecoration","addFile","fsproj","LanguageService_fsprojAddFile","clo_2","projectPath_1","LaunchJsonVersion2_RequestLaunch","preLaunchTask","console$","stopAtEntry","LaunchJsonVersion2_createRequestLaunch","Debugger_outputChannel","Debugger_logger","Debugger_buildAndRun","launcher","execWithDotnetWithShell","execWithShell","getLauncherWithShell","Debugger_setProgramPath","relativeOutPath","programPath_1","Debugger_debugProject","rntm","Debugger_buildAndDebug","code_1","Debugger_startup","Debugger_context","Debugger_setDefaultProject","workspaceState","Debugger_chooseDefaultProject","picks","project_1","Debugger_launchSettingProvider","provideDebugConfigurations","buildTaskForProject","fileContent","profiles","Debugger_readSettingsForProject","launchSettings","buildTaskOpt","commandName","cliArgs","commandLineArgs","bt","workingDirectory","launchBrowser","serverReadyAction","environmentVariables","vars","applicationUrl","ASPNETCORE_URLS","hidden","Debugger_makeDebugConfigFor","Debugger_defaultConfigForProject","resolveDebugConfiguration","folder_1","debugConfiguration","resolveDebugConfigurationWithSubstitutedVariables","folder_2","debugConfiguration_1","token_2","VsHtml_datagrid_2708424C","customTitles","titles","titles_1","values_2","columnDataKey","SdkScriptsNotify_suggestKey","SdkScriptsNotify_useKey","Watcher_logger","Watcher_panel","Watcher_valuesUpdated","Watcher_values","Watcher_updateContent","varsContent","typesContent","funcsContent","patternInput_2","wbp","scripts","styles_1","scripts_1","vsUIWebkit","extensionUri","asWebviewUri","mergeStrings","mergeScripts","FsWebview_render_D0BE276","Watcher_varsUri","Watcher_typesUri","Watcher_funcUri","Watcher_handler","cnt","datagridContent","buf_1","cnt_1","row_1","buf_2","cnt_2","row_2","Watcher_provider","symbols_1","hints","s_1","hint_1","fsiTerminal","fsiTerminalPID","lastSelectionSent","lastCd","lastCurrentFile","lastCurrentLine","sendCd","terminal","dir_1","line_1","file_1","dir_2","cd_1","sendText","currentFile_1","currentLine_1","msg_1","fsiBinaryAndParameters","addWatcher","parms","fsiParams","fsiParams_1","fsiArg","fsiNetCoreName","provideTerminalProfile","fsiArguments_1","shellArgs","shellPath","profile","ifValue","Promise_ofMaybeThenable","profile_1","terminal_1","newTerminal","getTerminal","msgWithNewline","linesCount","sendLine","by","handleCloseTerminal","currentTerminalPID","sendReferencesForProject","references","generateProjectReferencesForProject","ctn","source_1","clo","ctn_1","dispsables","st2","st2_1","st_2","st2_2","Watcher_activate","arg0__2","arg0__1","arg0_","choice","anchor","arg_9","lastSelectionText","arg_11","arg_10","arg_13","arg_12","projectOpt","sendReferences","arg_15","arg_14","arg_17","arg_16","viewType","viewOptions","enableScripts","resourceRoots","enableCommandUris","enableFindWidget","retainContextWhenHidden","viewOptions_1","viewColumn","FsWebview_create_23A3D64B","reveal","Model","NodeEntry","Children","getParentRef","model","setParentRefs","models","toModel","projPath","entry_1","virtualPath","filepath","state_mut","items_mut","addhelper","children_1","key_2","dirName_2","lastFileOrDir_1","dirName_3","xs_2","dirPath","getProjectModel","files_1","packageRefs","p_3","p_2","p_5","p_4","result_1","result_2","getSolutionModel","getProjItem","getProjectModelByState","getItem","getSolution","getSubmodel","ShowInActivity_setInFsharpActivity","ShowInActivity_setInExplorerActivity","NodeReveal_RevealConfiguration_getAutoReveal","NodeReveal_State","RootModel","ModelPerFile","NodeReveal_revealTextEditor","showTreeIfHidden","NodeReveal_findModelFromUri","model_1","NodeReveal_revealUri","NodeReveal_getModelPerFile","NodeReveal_activate","rootChanged","treeView","NodeReveal_onDidChangeActiveTextEditor","newValue","NodeReveal_onModelChanged","onDidChangeVisibility","NodeReveal_onDidChangeTreeVisibility","handleUntitled","createNewFileDialg","existingFiles","prompt","prefilled","validateInput","userInput","userInput_1","projDir","relativeFilePathFromProject","tryFindParentProject","model_mut","newProject","LanguageService_dotnetNewList","projName","LanguageService_dotnetNewRun","slnName","pname","cleanTextEditorsDecorations","normalizedPath","emiter","plugPath","event_1","element_1","getTreeItem","element_2","collaps","ti","name_9","getLabel","contextValue","dark","light","resourceUri","iconPath","ti_1","u_1","onDidChangeTreeData","resolveTreeItem","element_3","treeViewId","inFsharpActivity","ShowInActivity_initializeAndGetId","virtPath","LanguageService_fsprojMoveFileUp","m_1","virtPath_1","LanguageService_fsprojMoveFileDown","proj_2","LanguageService_fsprojRemoveFile","filePath_1","proj_3","newFileNameOpt","newFileName_1","newFileName_2","newFileName","LanguageService_fsprojRenameFile","m_4","parent_1","virtPath_2","proj_4","pr_3","fromFile","LanguageService_fsprojAddFileAbove","arg_18","m_5","parent_2","virtPath_3","matchValue_10","matchValue_11","matchResult_5","files_2","proj_5","pr_5","file_2","LanguageService_fsprojAddFileBelow","error_2","arg_20","arg_19","m_6","matchValue_12","proj_6","pr_7","file_4","error_3","arg_22","arg_21","m_7","matchValue_13","proj_7","projectUri","pr_9","canSelectMany","openLabel","defaultUri","selectedFilesOpt","selectedFiles","LanguageService_fsprojAddExistingFile","error_4","arg_24","arg_23","m_8","matchValue_14","reference","LanguageService_dotnetAddProject","arg_26","arg_25","m_9","matchValue_15","ref","LanguageService_dotnetRemoveProject","treeOptions","treeDataProvider","wsProvider","viewFailed","error_5","matchValue_17","provideTextDocumentContent","q","matchValue_19","proj_9","proj_8","matchValue_16","projRefs","refs_1","_path_1","error_6","_path_2","error_7","_path_3","_path","arg_39","n_2","x_14","arg_34","boolToString","x_15","arg_35","crossgen","arg_41","projectStatusCommand","m_12","arg_44","arg_46","arg_48","arg_47","m_13","arg_50","arg_49","m_15","pathOpt","matchValue_25","arg_52","arg_51","m_16","matchValue_26","arg_54","arg_53","m_17","matchValue_27","arg_56","arg_55","m_18","matchValue_28","arg_58","arg_57","m_19","matchValue_29","arg_60","arg_59","m_20","matchValue_30","arg_62","arg_61","m_21","matchValue_31","arg_64","arg_63","m_22","matchValue_32","arg_66","arg_65","m_23","matchValue_33","arg_68","arg_67","m_24","matchValue_34","arg_70","arg_69","m_25","matchValue_35","arg_72","arg_71","m_26","matchValue_36","arg_74","arg_73","m_27","matchValue_37","arg_77","arg_76","m_28","matchValue_38","_arg_10","proj_12","proj_13","Templates_header","getDiagnosticsInfos","arch","packageJSON","uiKind","netcoreInfos","dotnetVersion","Templates_netcoreRuntime","getRuntimeInfos","Templates_machineInfos","Fsdn_pickSignature","QuickInfo_StatusDisplay_item","QuickInfo_timer","QuickInfo_StatusDisplay_update","selections","QuickInfo_StatusDisplay_isFsharpTextEditor","LanguageService_signature","o_1","QuickInfo_StatusDisplay_getOverloadSignature","QuickInfo_clearTimer","QuickInfo_activate","newItem","QuickInfo_StatusDisplay_activate","item_2","indentationRules","increaseIndentPattern","decreaseIndentPattern","setLanguageConfiguration","triggerNotification","onEnterRules","indentAction","beforeText","activateSmartIndent","disp","AttributeType","cssProps","indent","escapeValue","typ","String_suffix","String_prefix","countFirstOccurenceSize","getStr","chkdChar","count_mut","convert","selectedText","builder","htmlCode","fsharpCode","attributes_2","keyValuePairs","lastRow","trimed","currentRow","toLocaleLowerCase","mapIndexed","str_1","styleValue","styleProp_1","styleValue_1","stylePropPascalCase","attributesToString","rawText","lastRow_2","trimed_1","htmlToElmish","isFsharpTextEditor","Panel_showdownOptions","Panel_showdown","Panel_panel","Panel_locked","Panel_setContent","str_2","Panel_mapContent","fsharpBlock","sigContent","commentContent","footerContent","ctors","intfs","fncs","x_6","y_6","x_7","y_7","Panel_update","clearTimer","openPanel","viewOpts","webviewPanel","startLocked","updateMode","selectionChanged","Panel_update$0027","tooltipRequested","updatePanel","xmlSig","XmlDocSig","assemblyName","AssemblyName","assembly","LanguageService_documentationForSymbol","GITIGNORE_KEY","gitignorePath","GitignoreCheckResult","patternsToIgnore","checkForPatternsAndPromptUser","patterns","patterns_1","notFoundPats","FSharpSet__Remove","t$0027_mut","t$0027","SetTreeModule_toList","checkGitignore","writePatternsToGitignore","XmlDoc_dom","XPath_SelectCardinality","XPath_selectWith","xmlNode","selectSingle","XPath_XPathSelector","xmlDoc","selectXPath","XPath_XPathSelector__SelectNodes_Z721C83C5","XPath_XPathSelector__SelectStringRelative_A14A813","XPath_XPathSelector__TrySelectStringRelative_A14A813","StringBuilder","StringBuilder__Append_244C7CD6","ArrayExt_venn","leftIdf","rightIdf","array_3","array_4","leftIdMap","rightIdMap","leftIds","rightIds","intersection","intersectionPairs","leftExclusiveIds","rightExclusiveIds","dictGet","ProjectPathModule_fromProject","TestName_Segment","Text$","SeparatorBefore","TestName_SegmentModule_empty","TestName_segmentRegex","TestName_splitSegments","fullTestName","inputSequence","TestName_appendSegment","parentPath","segment","TestName_fromPathAndTestName","classPath","testName","TestName_DataWithRelativePath$1","TestName_NameHierarchy$1","FullName","TestName_inferHierarchy","namedData","defsWithRelativePath","res1","res2","iTrue","iFalse","partition","groupSegment","fullName","d_1","named","Fable_Import_VSCode_Vscode_TestItemCollection__TestItemCollection_TestItems","Fable_Import_VSCode_Vscode_TestItem__TestItem_get_TestFramework","testFramework","TestResult","FullTestName","Outcome","ErrorMessage","ErrorStackTrace","Expected","Actual","Timing","TestFramework","Path_tryPath","Path_getNameOnly","TrxParser_adapterTypeNameToTestFramework","adapterTypeName","TrxParser_Execution","Id","TrxParser_TestMethod","AdapterTypeName","ClassName","TrxParser_UnitTest","Execution","TestMethod","TrxParser_UnitTest__get_FullName","TrxParser_ErrorInfo","StackTrace","TrxParser_Output","ErrorInfo","TrxParser_UnitTestResult","ExecutionId","Duration","TrxParser_TestWithResult","UnitTest","UnitTestResult","TrxParser_trxSelector","trxPath","xmlContent","TrxParser_extractTestDefinitionsFromSelector","xpathSelector","executionId","testMethodName","DotnetCli_Process_execWithCancel","outputCallback","env_1","DotnetCli_debugProcessIdRegex","DotnetCli_DebugTests","DotnetCli_dotnetTest","targetFramework","trxOutputPath","shouldDebug","additionalArgs","isDebuggerStarted","childEnv","VSTEST_HOST_DEBUG","consoleOutput","DotnetCli_tryGetDebugProcessId","launchRequest","DotnetCli_launchDebugger","DotnetCli_test","filterExpression","stdOutput","stdError","errored","LocationRecord","LocationRecordModule_tryGetUri","l_1","LocationRecordModule_tryGetRange","LocationRecordModule_testToLocation","testItem","CodeLocationCache","locationCache","CodeLocationCache__Save_Z528A07B","testId","CodeLocationCache__GetById_Z721C83C5","TestItem_idSeparator","TestItem_constructId","TestItem_constructProjectRootId","TestItem_componentizeId","TestItem_getFullName","TestItem_getId","TestItem_runnableChildren","visit","TestItem_runnableFromArray","testCollection","TestItem_TestItemBuilder","TestItem_itemFactoryForController","testController","createTestItem","objectArg","frameworkId","TestItem_fromNamedHierarchy","itemFactory","tryGetLocation","hierarchy","namedNode","TestItem_fromProject","testItemFactory","ProjectExt_isTestProject","testProjectIndicators","TestDiscovery_discoverFromTrx","makeTrxPath","hierarchy_1","searchResult","trxDef","TestName_NameHierarchy_tryPick","testItemBuilder","Interactions_ProjectRunRequest","ProjectPath","ShouldDebug","Tests","HasIncludeFilter","Interactions_TestRun_appendOutputLine","testRun","appendOutput","Interactions_TestRun_showError","testItems","Interactions_ProgressCancellable","Interactions_filterSpecialCharacters","Interactions_filterSpecialCharactersSet","Interactions_buildFilterExpression","tests","toSplit","escapedTestName","anyOf","indexOfAny","currentChar","Interactions_displayTestResultInExplorer","testResult","passed","fullErrorMessage","em","stackTrace","TestItem_tryGetLocation","expectedOutput","actualOutput","duration","failed","Interactions_TestRun_showFailure","Interactions_trxResultToTestResult","trxResult","Interactions_runTestProject_withoutExceptionHandling","mergeResultsToExplorer","projectRunRequest","runnableTests","Interactions_TestRun_showStarted","testResults","testDef","outcome","errorInfoMessage","errorStackTrace","TrxParser_extractResultsSection","TrxParser_extractTrxResults","Interactions_runHandler","_ct","createTestRun","projectRunRequests","rootTestCollection","runRequest","projectRootItemId","loadingState","message_1","hasIncludeFilter","isOnlyProjectSelected","include","Interactions_filtersToProjectRunRequests","mergeTestResultsToExplorer","testRun_1","expectedToRun","testWithoutResult","parentCollection","additionalResult","rootCollection","projectRoot","pathSegments","collection_mut","parentPath_mut","remainingPath_mut","collection","remainingPath","remainingPath_2","currentLabel_1","maybeLocation","existingItem","TestItem_getOrMakeHierarchyPath","Interactions_mergeTestResultsToExplorer","testRun_2","enqueued","Interactions_TestRun_showEnqueued","rr","projectRunRequest_1","DotnetCli_restore","Interactions_runTestProject","Interactions_refreshTestList","isCancellable","Interactions_withProgress","progressCancelToken","cancellationToken_1","CancellationToken_mergeTokens","testProjects","testProjectCount","project_2","buildFailures","detectablePackageToFramework","librariesCapableOfListOnlyDiscovery","project_4","trxDiscoveryProjects","project_5","shouldBuild","testNames","DotnetCli_listTests","detectedTestFramework","Dict_tryGet","testItemFactory_1","testHierarchy","listDiscoveredPerProject","project_7","projectPath_2","trxDiscoveredTests","newTests","possibleDiscoveryFailures","array_11","message_2","Interactions_tryMatchTestBySuffix","locatedTestId","Interactions_Option_tee","Interactions_onTestsDiscoveredInCode","testsPerFileCache","displacedFragmentMapCache","testsForFile","testsFromCode","kvp","CodeLocationCache__DeleteByFile_Z429A7006","TestItem_preWalk","CodeLocationCacheModule_cacheTestLocations","tryMatchDisplacedTest","cloneWithUri","withUri","target_1","withUri_1","exactPathMatch","newTestCollection","unlocated","displacedFragmentRoot","TestDiscovery_tryMatchCodeLocations","matchedTest","lr","matchedId_1","existingItem_1","TestItem_tryGetById","matchedId","targetCollection","previousCodeTests","newCodeTests","isKnownDisplacedFragment","targetCollection_1","previousCodeTests_1","newCodeTests_1","comparef","maybeRange","positionComparable","newCodeTest","TestDiscovery_mergeCodeUpdates","parentFullName","parentModuleType_1","parentModuleType","moduleType","TestItem_fromTestAdapter","TestItem_tryFromTestForFile","workspaceRoot","storageFolderPath","relativeProjectPath","relativeResultsPath","specialSegments","segments","Path_split","Path_removeSpecialRelativeSegments","TrxParser_makeTrxPath","Interactions_tryGetLocation","runHandler","createRunProfile","onTestsDiscoveredInCode","codeTestsDiscoveredMailbox","mailbox","idleLoop","Mailbox_continuousLoop","testsForFile_1","refreshHandler","shouldAutoDiscoverTests","hasInitiatedDiscovery","initialTests","objectArg_3","cancellationTokenSource","toggleSupported","Api","ProjectLoadedEvent","BuildProject","BuildProjectFast","GetProjectLauncher","DebugProject","Api_$reflection","solutionExplorer","showExplorer","tryActivate","activationFn","pr_6","pr_4","context_1","statusBarItem","_project","_project_1","_workspacePeek","CurrentWorkspaceConfiguration_setContext","disableShowNotification","projStatus","d_2","isDone","handleProjectParsedNotification","activate","context_2","context_3","context_4","context_5","context_6","LanguageService_f1Help","api","getHelp","context_7","unlessIgnored","isIgnored","initWorkspace","_n","solutionWatcher","com","_arg_7","_arg_8","_arg_9","restoreTask","context_8","LanguageService_generateDocumentation","Debugger_activate","context_9","docUri","activeSelection","LanguageService_fsdn","Fsdn_activate","context_10","context_11","scriptFile","scriptDir","fsiBinary","flatArgs","shellArgs_1","context_12","context_13","context_14","context_15","args_2","args2","args3","locs","Start","End","showReferences","_context","context_16","context_17","vscodeVersion","compareOptions","context_18","activateLanguageServiceRestart","LanguageService_handleUntitled","LanguageService_compile","e_3","deactivate"],"sourceRoot":""}