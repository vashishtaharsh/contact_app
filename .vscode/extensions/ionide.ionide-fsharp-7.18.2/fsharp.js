/*! For license information please see fsharp.js.LICENSE.txt */
(()=>{var e={5623:e=>{"use strict";function t(e,t,o){e instanceof RegExp&&(e=n(e,o)),t instanceof RegExp&&(t=n(t,o));var i=r(e,t,o);return i&&{start:i[0],end:i[1],pre:o.slice(0,i[0]),body:o.slice(i[0]+e.length,i[1]),post:o.slice(i[1]+t.length)}}function n(e,t){var n=t.match(e);return n?n[0]:null}function r(e,t,n){var r,o,i,s,a,c=n.indexOf(e),u=n.indexOf(t,c+1),l=c;if(c>=0&&u>0){if(e===t)return[c,u];for(r=[],i=n.length;l>=0&&!a;)l==c?(r.push(l),c=n.indexOf(e,l+1)):1==r.length?a=[r.pop(),u]:((o=r.pop())<i&&(i=o,s=u),u=n.indexOf(t,l+1)),l=c<u&&c>=0?c:u;r.length&&(a=[i,s])}return a}e.exports=t,t.range=r},3644:(e,t,n)=>{var r=n(1048),o=n(5623);e.exports=function(e){return e?("{}"===e.substr(0,2)&&(e="\\{\\}"+e.substr(2)),v(function(e){return e.split("\\\\").join(i).split("\\{").join(s).split("\\}").join(a).split("\\,").join(c).split("\\.").join(u)}(e),!0).map(d)):[]};var i="\0SLASH"+Math.random()+"\0",s="\0OPEN"+Math.random()+"\0",a="\0CLOSE"+Math.random()+"\0",c="\0COMMA"+Math.random()+"\0",u="\0PERIOD"+Math.random()+"\0";function l(e){return parseInt(e,10)==e?parseInt(e,10):e.charCodeAt(0)}function d(e){return e.split(i).join("\\").split(s).join("{").split(a).join("}").split(c).join(",").split(u).join(".")}function h(e){if(!e)return[""];var t=[],n=o("{","}",e);if(!n)return e.split(",");var r=n.pre,i=n.body,s=n.post,a=r.split(",");a[a.length-1]+="{"+i+"}";var c=h(s);return s.length&&(a[a.length-1]+=c.shift(),a.push.apply(a,c)),t.push.apply(t,a),t}function p(e){return"{"+e+"}"}function f(e){return/^-?0\d/.test(e)}function m(e,t){return e<=t}function g(e,t){return e>=t}function v(e,t){var n=[],i=o("{","}",e);if(!i||/\$$/.test(i.pre))return[e];var s,c=/^-?\d+\.\.-?\d+(?:\.\.-?\d+)?$/.test(i.body),u=/^[a-zA-Z]\.\.[a-zA-Z](?:\.\.-?\d+)?$/.test(i.body),d=c||u,y=i.body.indexOf(",")>=0;if(!d&&!y)return i.post.match(/,.*\}/)?v(e=i.pre+"{"+i.body+a+i.post):[e];if(d)s=i.body.split(/\.\./);else if(1===(s=h(i.body)).length&&1===(s=v(s[0],!1).map(p)).length)return(_=i.post.length?v(i.post,!1):[""]).map((function(e){return i.pre+s[0]+e}));var w,b=i.pre,_=i.post.length?v(i.post,!1):[""];if(d){var C=l(s[0]),S=l(s[1]),T=Math.max(s[0].length,s[1].length),E=3==s.length?Math.abs(l(s[2])):1,x=m;S<C&&(E*=-1,x=g);var D=s.some(f);w=[];for(var k=C;x(k,S);k+=E){var R;if(u)"\\"===(R=String.fromCharCode(k))&&(R="");else if(R=String(k),D){var P=T-R.length;if(P>0){var N=new Array(P+1).join("0");R=k<0?"-"+N+R.slice(1):N+R}}w.push(R)}}else w=r(s,(function(e){return v(e,!1)}));for(var O=0;O<w.length;O++)for(var I=0;I<_.length;I++){var A=b+w[O]+_[I];(!t||d||A)&&n.push(A)}return n}},1048:e=>{e.exports=function(e,n){for(var r=[],o=0;o<e.length;o++){var i=n(e[o],o);t(i)?r.push.apply(r,i):r.push(i)}return r};var t=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}},8309:(e,t,n)=>{"use strict";const r=n(2081),o=n(4605),i=n(3743);function s(e,t,n){const s=o(e,t,n),a=r.spawn(s.command,s.args,s.options);return i.hookChildProcess(a,s),a}e.exports=s,e.exports.spawn=s,e.exports.sync=function(e,t,n){const s=o(e,t,n),a=r.spawnSync(s.command,s.args,s.options);return a.error=a.error||i.verifyENOENTSync(a.status,s),a},e.exports._parse=o,e.exports._enoent=i},3743:e=>{"use strict";const t="win32"===process.platform;function n(e,t){return Object.assign(new Error(`${t} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${t} ${e.command}`,path:e.command,spawnargs:e.args})}function r(e,r){return t&&1===e&&!r.file?n(r.original,"spawn"):null}e.exports={hookChildProcess:function(e,n){if(!t)return;const o=e.emit;e.emit=function(t,i){if("exit"===t){const t=r(i,n);if(t)return o.call(e,"error",t)}return o.apply(e,arguments)}},verifyENOENT:r,verifyENOENTSync:function(e,r){return t&&1===e&&!r.file?n(r.original,"spawnSync"):null},notFoundError:n}},4605:(e,t,n)=>{"use strict";const r=n(1017),o=n(2202),i=n(5081),s=n(7550),a="win32"===process.platform,c=/\.(?:com|exe)$/i,u=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;e.exports=function(e,t,n){t&&!Array.isArray(t)&&(n=t,t=null);const l={command:e,args:t=t?t.slice(0):[],options:n=Object.assign({},n),file:void 0,original:{command:e,args:t}};return n.shell?l:function(e){if(!a)return e;const t=function(e){e.file=o(e);const t=e.file&&s(e.file);return t?(e.args.unshift(e.file),e.command=t,o(e)):e.file}(e),n=!c.test(t);if(e.options.forceShell||n){const n=u.test(t);e.command=r.normalize(e.command),e.command=i.command(e.command),e.args=e.args.map((e=>i.argument(e,n)));const o=[e.command].concat(e.args).join(" ");e.args=["/d","/s","/c",`"${o}"`],e.command=process.env.comspec||"cmd.exe",e.options.windowsVerbatimArguments=!0}return e}(l)}},5081:e=>{"use strict";const t=/([()\][%!^"`<>&|;, *?])/g;e.exports.command=function(e){return e.replace(t,"^$1")},e.exports.argument=function(e,n){return e=(e=`"${e=(e=(e=`${e}`).replace(/(\\*)"/g,'$1$1\\"')).replace(/(\\*)$/,"$1$1")}"`).replace(t,"^$1"),n&&(e=e.replace(t,"^$1")),e}},7550:(e,t,n)=>{"use strict";const r=n(7147),o=n(2063);e.exports=function(e){const t=Buffer.alloc(150);let n;try{n=r.openSync(e,"r"),r.readSync(n,t,0,150,0),r.closeSync(n)}catch(e){}return o(t.toString())}},2202:(e,t,n)=>{"use strict";const r=n(1017),o=n(2806),i=n(3024);function s(e,t){const n=e.options.env||process.env,s=process.cwd(),a=null!=e.options.cwd,c=a&&void 0!==process.chdir&&!process.chdir.disabled;if(c)try{process.chdir(e.options.cwd)}catch(e){}let u;try{u=o.sync(e.command,{path:n[i({env:n})],pathExt:t?r.delimiter:void 0})}catch(e){}finally{c&&process.chdir(s)}return u&&(u=r.resolve(a?e.options.cwd:"",u)),u}e.exports=function(e){return s(e)||s(e,!0)}},7837:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.elementNames=new Map([["altglyph","altGlyph"],["altglyphdef","altGlyphDef"],["altglyphitem","altGlyphItem"],["animatecolor","animateColor"],["animatemotion","animateMotion"],["animatetransform","animateTransform"],["clippath","clipPath"],["feblend","feBlend"],["fecolormatrix","feColorMatrix"],["fecomponenttransfer","feComponentTransfer"],["fecomposite","feComposite"],["feconvolvematrix","feConvolveMatrix"],["fediffuselighting","feDiffuseLighting"],["fedisplacementmap","feDisplacementMap"],["fedistantlight","feDistantLight"],["fedropshadow","feDropShadow"],["feflood","feFlood"],["fefunca","feFuncA"],["fefuncb","feFuncB"],["fefuncg","feFuncG"],["fefuncr","feFuncR"],["fegaussianblur","feGaussianBlur"],["feimage","feImage"],["femerge","feMerge"],["femergenode","feMergeNode"],["femorphology","feMorphology"],["feoffset","feOffset"],["fepointlight","fePointLight"],["fespecularlighting","feSpecularLighting"],["fespotlight","feSpotLight"],["fetile","feTile"],["feturbulence","feTurbulence"],["foreignobject","foreignObject"],["glyphref","glyphRef"],["lineargradient","linearGradient"],["radialgradient","radialGradient"],["textpath","textPath"]]),t.attributeNames=new Map([["definitionurl","definitionURL"],["attributename","attributeName"],["attributetype","attributeType"],["basefrequency","baseFrequency"],["baseprofile","baseProfile"],["calcmode","calcMode"],["clippathunits","clipPathUnits"],["diffuseconstant","diffuseConstant"],["edgemode","edgeMode"],["filterunits","filterUnits"],["glyphref","glyphRef"],["gradienttransform","gradientTransform"],["gradientunits","gradientUnits"],["kernelmatrix","kernelMatrix"],["kernelunitlength","kernelUnitLength"],["keypoints","keyPoints"],["keysplines","keySplines"],["keytimes","keyTimes"],["lengthadjust","lengthAdjust"],["limitingconeangle","limitingConeAngle"],["markerheight","markerHeight"],["markerunits","markerUnits"],["markerwidth","markerWidth"],["maskcontentunits","maskContentUnits"],["maskunits","maskUnits"],["numoctaves","numOctaves"],["pathlength","pathLength"],["patterncontentunits","patternContentUnits"],["patterntransform","patternTransform"],["patternunits","patternUnits"],["pointsatx","pointsAtX"],["pointsaty","pointsAtY"],["pointsatz","pointsAtZ"],["preservealpha","preserveAlpha"],["preserveaspectratio","preserveAspectRatio"],["primitiveunits","primitiveUnits"],["refx","refX"],["refy","refY"],["repeatcount","repeatCount"],["repeatdur","repeatDur"],["requiredextensions","requiredExtensions"],["requiredfeatures","requiredFeatures"],["specularconstant","specularConstant"],["specularexponent","specularExponent"],["spreadmethod","spreadMethod"],["startoffset","startOffset"],["stddeviation","stdDeviation"],["stitchtiles","stitchTiles"],["surfacescale","surfaceScale"],["systemlanguage","systemLanguage"],["tablevalues","tableValues"],["targetx","targetX"],["targety","targetY"],["textlength","textLength"],["viewbox","viewBox"],["viewtarget","viewTarget"],["xchannelselector","xChannelSelector"],["ychannelselector","yChannelSelector"],["zoomandpan","zoomAndPan"]])},7220:function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var o in t=arguments[n])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=o(n(9960)),s=o(n(5863)),a=n(7837),c=new Set(["style","script","xmp","iframe","noembed","noframes","plaintext","noscript"]),u=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]);function l(e,t){void 0===t&&(t={});for(var n=Array.isArray(e)||e.cheerio?e:[e],r="",o=0;o<n.length;o++)r+=d(n[o],t);return r}function d(e,t){switch(e.type){case"root":return l(e.children,t);case i.Directive:return"<"+e.data+">";case i.Comment:return"\x3c!--"+e.data+"--\x3e";case i.CDATA:return function(e){return"<![CDATA["+e.children[0].data+"]]>"}(e);default:return i.isTag(e)?function(e,t){var n;"foreign"===t.xmlMode&&(e.name=null!==(n=a.elementNames.get(e.name))&&void 0!==n?n:e.name,e.parent&&h.has(e.parent.name)&&(t=r(r({},t),{xmlMode:!1}))),!t.xmlMode&&p.has(e.name)&&(t=r(r({},t),{xmlMode:"foreign"}));var o="<"+e.name,i=function(e,t){if(e)return Object.keys(e).map((function(n){var r,o=e[n];return"foreign"===t.xmlMode&&(n=null!==(r=a.attributeNames.get(n))&&void 0!==r?r:n),t.emptyAttrs||t.xmlMode||null!==o&&""!==o?n+'="'+(t.decodeEntities?s.encodeXML(o):o.replace(/"/g,"&quot;"))+'"':n})).join(" ")}(e.attribs,t);return i&&(o+=" "+i),e.children&&0!==e.children.length||!(t.xmlMode?!1!==t.selfClosingTags:t.selfClosingTags&&u.has(e.name))?(o+=">",e.children&&(o+=l(e.children,t)),!t.xmlMode&&u.has(e.name)||(o+="</"+e.name+">")):(t.xmlMode||(o+=" "),o+="/>"),o}(e,t):function(e,t){var n=e.data||"";return!t.decodeEntities||e.parent&&c.has(e.parent.name)||(n=s.encodeXML(n)),n}(e,t)}}t.default=l;var h=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),p=new Set(["svg","math"])},9960:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isTag=function(e){return"tag"===e.type||"script"===e.type||"style"===e.type},t.Text="text",t.Directive="directive",t.Comment="comment",t.Script="script",t.Style="style",t.Tag="tag",t.CDATA="cdata",t.Doctype="doctype"},7915:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(7790);t.Node=r.Node,t.Element=r.Element,t.DataNode=r.DataNode,t.NodeWithChildren=r.NodeWithChildren;var o=/\s+/g,i={normalizeWhitespace:!1,withStartIndices:!1,withEndIndices:!1},s=function(){function e(e,t,n){this.dom=[],this._done=!1,this._tagStack=[],this._lastNode=null,this._parser=null,"function"==typeof t&&(n=t,t=i),"object"==typeof e&&(t=e,e=void 0),this._callback=e||null,this._options=t||i,this._elementCB=n||null}return e.prototype.onparserinit=function(e){this._parser=e},e.prototype.onreset=function(){this.dom=[],this._done=!1,this._tagStack=[],this._lastNode=null,this._parser=this._parser||null},e.prototype.onend=function(){this._done||(this._done=!0,this._parser=null,this.handleCallback(null))},e.prototype.onerror=function(e){this.handleCallback(e)},e.prototype.onclosetag=function(){this._lastNode=null;var e=this._tagStack.pop();e&&this._parser&&(this._options.withEndIndices&&(e.endIndex=this._parser.endIndex),this._elementCB&&this._elementCB(e))},e.prototype.onopentag=function(e,t){var n=new r.Element(e,t);this.addNode(n),this._tagStack.push(n)},e.prototype.ontext=function(e){var t=this._options.normalizeWhitespace,n=this._lastNode;if(n&&"text"===n.type)t?n.data=(n.data+e).replace(o," "):n.data+=e;else{t&&(e=e.replace(o," "));var i=new r.DataNode("text",e);this.addNode(i),this._lastNode=i}},e.prototype.oncomment=function(e){if(this._lastNode&&"comment"===this._lastNode.type)this._lastNode.data+=e;else{var t=new r.DataNode("comment",e);this.addNode(t),this._lastNode=t}},e.prototype.oncommentend=function(){this._lastNode=null},e.prototype.oncdatastart=function(){var e=new r.DataNode("text",""),t=new r.NodeWithChildren("cdata",[e]);this.addNode(t),e.parent=t,this._lastNode=e},e.prototype.oncdataend=function(){this._lastNode=null},e.prototype.onprocessinginstruction=function(e,t){var n=new r.ProcessingInstruction(e,t);this.addNode(n)},e.prototype.handleCallback=function(e){if("function"==typeof this._callback)this._callback(e,this.dom);else if(e)throw e},e.prototype.addNode=function(e){var t=this._tagStack[this._tagStack.length-1],n=t?t.children:this.dom,r=n[n.length-1];this._parser&&(this._options.withStartIndices&&(e.startIndex=this._parser.startIndex),this._options.withEndIndices&&(e.endIndex=this._parser.endIndex)),n.push(e),r&&(e.prev=r,r.next=e),t&&(e.parent=t),this._lastNode=null},e.prototype.addDataNode=function(e){this.addNode(e),this._lastNode=e},e}();t.DomHandler=s,t.default=s},7790:function(e,t){"use strict";var n,r=this&&this.__extends||(n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},n(e,t)},function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)});Object.defineProperty(t,"__esModule",{value:!0});var o=new Map([["tag",1],["script",1],["style",1],["directive",1],["text",3],["cdata",4],["comment",8]]),i=function(){function e(e){this.type=e,this.parent=null,this.prev=null,this.next=null,this.startIndex=null,this.endIndex=null}return Object.defineProperty(e.prototype,"nodeType",{get:function(){return o.get(this.type)||1},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parentNode",{get:function(){return this.parent||null},set:function(e){this.parent=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"previousSibling",{get:function(){return this.prev||null},set:function(e){this.prev=e},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"nextSibling",{get:function(){return this.next||null},set:function(e){this.next=e},enumerable:!0,configurable:!0}),e}();t.Node=i;var s=function(e){function t(t,n){var r=e.call(this,t)||this;return r.data=n,r}return r(t,e),Object.defineProperty(t.prototype,"nodeValue",{get:function(){return this.data},set:function(e){this.data=e},enumerable:!0,configurable:!0}),t}(i);t.DataNode=s;var a=function(e){function t(t,n){var r=e.call(this,"directive",n)||this;return r.name=t,r}return r(t,e),t}(s);t.ProcessingInstruction=a;var c=function(e){function t(t,n){var r=e.call(this,t)||this;return r.children=n,r}return r(t,e),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this.children[0]||null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lastChild",{get:function(){return this.children[this.children.length-1]||null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"childNodes",{get:function(){return this.children},set:function(e){this.children=e},enumerable:!0,configurable:!0}),t}(i);t.NodeWithChildren=c;var u=function(e){function t(t,n){var r=e.call(this,"script"===t?"script":"style"===t?"style":"tag",[])||this;return r.name=t,r.attribs=n,r.attribs=n,r}return r(t,e),Object.defineProperty(t.prototype,"tagName",{get:function(){return this.name},set:function(e){this.name=e},enumerable:!0,configurable:!0}),t}(c);t.Element=u},4975:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uniqueSort=t.compareDocumentPosition=t.removeSubsets=void 0;var r=n(7611);function o(e,t){var n=[],o=[];if(e===t)return 0;for(var i=r.hasChildren(e)?e:e.parent;i;)n.unshift(i),i=i.parent;for(i=r.hasChildren(t)?t:t.parent;i;)o.unshift(i),i=i.parent;for(var s=0;n[s]===o[s];)s++;if(0===s)return 1;var a=n[s-1],c=a.children,u=n[s],l=o[s];return c.indexOf(u)>c.indexOf(l)?a===t?20:4:a===e?10:2}t.removeSubsets=function(e){for(var t=e.length;--t>=0;){var n=e[t];if(t>0&&e.lastIndexOf(n,t-1)>=0)e.splice(t,1);else for(var r=n.parent;r;r=r.parent)if(e.indexOf(r)>-1){e.splice(t,1);break}}return e},t.compareDocumentPosition=o,t.uniqueSort=function(e){return(e=e.filter((function(e,t,n){return!n.includes(e,t+1)}))).sort((function(e,t){var n=o(e,t);return 2&n?-1:4&n?1:0})),e}},9432:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||t.hasOwnProperty(n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),o(n(3346),t),o(n(5010),t),o(n(6765),t),o(n(8043),t),o(n(3905),t),o(n(4975),t),o(n(7611),t)},3905:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getElementsByTagType=t.getElementsByTagName=t.getElementById=t.getElements=t.testElement=void 0;var r=n(8043),o=n(7611);function i(e){return"text"===e.type}var s={tag_name:function(e){return"function"==typeof e?function(t){return o.isTag(t)&&e(t.name)}:"*"===e?o.isTag:function(t){return o.isTag(t)&&t.name===e}},tag_type:function(e){return"function"==typeof e?function(t){return e(t.type)}:function(t){return t.type===e}},tag_contains:function(e){return"function"==typeof e?function(t){return i(t)&&e(t.data)}:function(t){return i(t)&&t.data===e}}};function a(e,t){return"function"==typeof t?function(n){return o.isTag(n)&&t(n.attribs[e])}:function(n){return o.isTag(n)&&n.attribs[e]===t}}function c(e,t){return function(n){return e(n)||t(n)}}function u(e){var t=Object.keys(e).map((function(t){var n=e[t];return t in s?s[t](n):a(t,n)}));return 0===t.length?null:t.reduce(c)}t.testElement=function(e,t){var n=u(e);return!n||n(t)},t.getElements=function(e,t,n,o){void 0===o&&(o=1/0);var i=u(e);return i?r.filter(i,t,n,o):[]},t.getElementById=function(e,t,n){return void 0===n&&(n=!0),Array.isArray(t)||(t=[t]),r.findOne(a("id",e),t,n)},t.getElementsByTagName=function(e,t,n,o){return void 0===o&&(o=1/0),r.filter(s.tag_name(e),t,n,o)},t.getElementsByTagType=function(e,t,n,o){return void 0===n&&(n=!0),void 0===o&&(o=1/0),r.filter(s.tag_type(e),t,n,o)}},6765:(e,t)=>{"use strict";function n(e){if(e.prev&&(e.prev.next=e.next),e.next&&(e.next.prev=e.prev),e.parent){var t=e.parent.children;t.splice(t.lastIndexOf(e),1)}}Object.defineProperty(t,"__esModule",{value:!0}),t.prepend=t.append=t.appendChild=t.replaceElement=t.removeElement=void 0,t.removeElement=n,t.replaceElement=function(e,t){var n=t.prev=e.prev;n&&(n.next=t);var r=t.next=e.next;r&&(r.prev=t);var o=t.parent=e.parent;if(o){var i=o.children;i[i.lastIndexOf(e)]=t}},t.appendChild=function(e,t){if(n(t),t.parent=e,1!==e.children.push(t)){var r=e.children[e.children.length-2];r.next=t,t.prev=r,t.next=null}},t.append=function(e,t){n(t);var r=e.parent,o=e.next;if(t.next=o,t.prev=e,e.next=t,t.parent=r,o){if(o.prev=t,r){var i=r.children;i.splice(i.lastIndexOf(o),0,t)}}else r&&r.children.push(t)},t.prepend=function(e,t){var n=e.parent;if(n){var r=n.children;r.splice(r.lastIndexOf(e),0,t)}e.prev&&(e.prev.next=t),t.parent=n,t.prev=e.prev,t.next=e,e.prev=t}},8043:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.findAll=t.existsOne=t.findOne=t.findOneChild=t.find=t.filter=void 0;var r=n(7611);function o(e,t,n,i){for(var s=[],a=0,c=t;a<c.length;a++){var u=c[a];if(e(u)&&(s.push(u),--i<=0))break;if(n&&r.hasChildren(u)&&u.children.length>0){var l=o(e,u.children,n,i);if(s.push.apply(s,l),(i-=l.length)<=0)break}}return s}t.filter=function(e,t,n,r){return void 0===n&&(n=!0),void 0===r&&(r=1/0),Array.isArray(t)||(t=[t]),o(e,t,n,r)},t.find=o,t.findOneChild=function(e,t){return t.find(e)},t.findOne=function e(t,n,o){void 0===o&&(o=!0);for(var i=null,s=0;s<n.length&&!i;s++){var a=n[s];r.isTag(a)&&(t(a)?i=a:o&&a.children.length>0&&(i=e(t,a.children)))}return i},t.existsOne=function e(t,n){return n.some((function(n){return r.isTag(n)&&(t(n)||n.children.length>0&&e(t,n.children))}))},t.findAll=function(e,t){for(var n,o,i=[],s=t.filter(r.isTag);o=s.shift();){var a=null===(n=o.children)||void 0===n?void 0:n.filter(r.isTag);a&&a.length>0&&s.unshift.apply(s,a),e(o)&&i.push(o)}return i}},3346:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.getText=t.getInnerHTML=t.getOuterHTML=void 0;var o=n(7611),i=r(n(7220));function s(e,t){return i.default(e,t)}t.getOuterHTML=s,t.getInnerHTML=function(e,t){return o.hasChildren(e)?e.children.map((function(e){return s(e,t)})).join(""):""},t.getText=function e(t){return Array.isArray(t)?t.map(e).join(""):o.isTag(t)?"br"===t.name?"\n":e(t.children):o.isCDATA(t)?e(t.children):o.isText(t)?t.data:""}},7611:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasChildren=t.isComment=t.isText=t.isCDATA=t.isTag=void 0;var r=n(9960);t.isTag=function(e){return r.isTag(e)},t.isCDATA=function(e){return"cdata"===e.type},t.isText=function(e){return"text"===e.type},t.isComment=function(e){return"comment"===e.type},t.hasChildren=function(e){return Object.prototype.hasOwnProperty.call(e,"children")}},5010:(e,t)=>{"use strict";function n(e){return e.children||null}function r(e){return e.parent||null}Object.defineProperty(t,"__esModule",{value:!0}),t.nextElementSibling=t.getName=t.hasAttrib=t.getAttributeValue=t.getSiblings=t.getParent=t.getChildren=void 0,t.getChildren=n,t.getParent=r,t.getSiblings=function(e){var t=r(e);return t?n(t):[e]},t.getAttributeValue=function(e,t){var n;return null===(n=e.attribs)||void 0===n?void 0:n[t]},t.hasAttrib=function(e,t){return!!e.attribs&&Object.prototype.hasOwnProperty.call(e.attribs,t)&&null!=e.attribs[t]},t.getName=function(e){return e.name},t.nextElementSibling=function(e){for(var t=e.next;null!==t&&"tag"!==t.type;)t=t.next;return t}},4076:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.decodeHTML=t.decodeHTMLStrict=t.decodeXML=void 0;var o=r(n(9323)),i=r(n(9591)),s=r(n(2586)),a=r(n(26));function c(e){var t=Object.keys(e).join("|"),n=l(e),r=new RegExp("&(?:"+(t+="|#[xX][\\da-fA-F]+|#\\d+")+");","g");return function(e){return String(e).replace(r,n)}}t.decodeXML=c(s.default),t.decodeHTMLStrict=c(o.default);var u=function(e,t){return e<t?1:-1};function l(e){return function(t){if("#"===t.charAt(1)){var n=t.charAt(2);return"X"===n||"x"===n?a.default(parseInt(t.substr(3),16)):a.default(parseInt(t.substr(2),10))}return e[t.slice(1,-1)]}}t.decodeHTML=function(){for(var e=Object.keys(i.default).sort(u),t=Object.keys(o.default).sort(u),n=0,r=0;n<t.length;n++)e[r]===t[n]?(t[n]+=";?",r++):t[n]+=";";var s=new RegExp("&(?:"+t.join("|")+"|#[xX][\\da-fA-F]+;?|#\\d+;?)","g"),a=l(o.default);function c(e){return";"!==e.substr(-1)&&(e+=";"),a(e)}return function(e){return String(e).replace(s,c)}}()},26:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(3600));t.default=function(e){if(e>=55296&&e<=57343||e>1114111)return"�";e in o.default&&(e=o.default[e]);var t="";return e>65535&&(e-=65536,t+=String.fromCharCode(e>>>10&1023|55296),e=56320|1023&e),t+String.fromCharCode(e)}},7322:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.escape=t.encodeHTML=t.encodeXML=void 0;var o=c(r(n(2586)).default),i=u(o);t.encodeXML=h(o,i);var s=c(r(n(9323)).default),a=u(s);function c(e){return Object.keys(e).sort().reduce((function(t,n){return t[e[n]]="&"+n+";",t}),{})}function u(e){for(var t=[],n=[],r=0,o=Object.keys(e);r<o.length;r++){var i=o[r];1===i.length?t.push("\\"+i):n.push(i)}t.sort();for(var s=0;s<t.length-1;s++){for(var a=s;a<t.length-1&&t[a].charCodeAt(1)+1===t[a+1].charCodeAt(1);)a+=1;var c=1+a-s;c<3||t.splice(s,c,t[s]+"-"+t[a])}return n.unshift("["+t.join("")+"]"),new RegExp(n.join("|"),"g")}t.encodeHTML=h(s,a);var l=/(?:[\x80-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])/g;function d(e){return"&#x"+e.codePointAt(0).toString(16).toUpperCase()+";"}function h(e,t){return function(n){return n.replace(t,(function(t){return e[t]})).replace(l,d)}}var p=u(o);t.escape=function(e){return e.replace(p,d).replace(l,d)}},5863:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.encode=t.decodeStrict=t.decode=void 0;var r=n(4076),o=n(7322);t.decode=function(e,t){return(!t||t<=0?r.decodeXML:r.decodeHTML)(e)},t.decodeStrict=function(e,t){return(!t||t<=0?r.decodeXML:r.decodeHTMLStrict)(e)},t.encode=function(e,t){return(!t||t<=0?o.encodeXML:o.encodeHTML)(e)};var i=n(7322);Object.defineProperty(t,"encodeXML",{enumerable:!0,get:function(){return i.encodeXML}}),Object.defineProperty(t,"encodeHTML",{enumerable:!0,get:function(){return i.encodeHTML}}),Object.defineProperty(t,"escape",{enumerable:!0,get:function(){return i.escape}}),Object.defineProperty(t,"encodeHTML4",{enumerable:!0,get:function(){return i.encodeHTML}}),Object.defineProperty(t,"encodeHTML5",{enumerable:!0,get:function(){return i.encodeHTML}});var s=n(4076);Object.defineProperty(t,"decodeXML",{enumerable:!0,get:function(){return s.decodeXML}}),Object.defineProperty(t,"decodeHTML",{enumerable:!0,get:function(){return s.decodeHTML}}),Object.defineProperty(t,"decodeHTMLStrict",{enumerable:!0,get:function(){return s.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTML4",{enumerable:!0,get:function(){return s.decodeHTML}}),Object.defineProperty(t,"decodeHTML5",{enumerable:!0,get:function(){return s.decodeHTML}}),Object.defineProperty(t,"decodeHTML4Strict",{enumerable:!0,get:function(){return s.decodeHTMLStrict}}),Object.defineProperty(t,"decodeHTML5Strict",{enumerable:!0,get:function(){return s.decodeHTMLStrict}}),Object.defineProperty(t,"decodeXMLStrict",{enumerable:!0,get:function(){return s.decodeXML}})},5449:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(t){void 0===t&&(t={});var n=e.call(this,(function(e){for(var t,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];n.events.push([e].concat(r)),n._cbs[e]&&(t=n._cbs)[e].apply(t,r)}))||this;return n._cbs=t,n.events=[],n}return o(t,e),t.prototype.onreset=function(){this.events=[],this._cbs.onreset&&this._cbs.onreset()},t.prototype.restart=function(){var e;this._cbs.onreset&&this._cbs.onreset();for(var t=0;t<this.events.length;t++){var n=this.events[t],r=n[0],o=n.slice(1);this._cbs[r]&&(e=this._cbs)[r].apply(e,o)}},t}(i(n(7923)).default);t.CollectingHandler=s},2952:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var a=i(n(7915)),c=s(n(9432)),u=n(763),l=function(e){function t(t,n){return"object"==typeof t&&null!==t&&(n=t=void 0),e.call(this,t,n)||this}return o(t,e),t.prototype.onend=function(){var e={},t=h(g,this.dom);if(t)if("feed"===t.name){var n=t.children;e.type="atom",m(e,"id","id",n),m(e,"title","title",n);var r=f("href",h("link",n));r&&(e.link=r),m(e,"description","subtitle",n),(o=p("updated",n))&&(e.updated=new Date(o)),m(e,"author","email",n,!0),e.items=d("entry",n).map((function(e){var t={},n=e.children;m(t,"id","id",n),m(t,"title","title",n);var r=f("href",h("link",n));r&&(t.link=r);var o=p("summary",n)||p("content",n);o&&(t.description=o);var i=p("updated",n);return i&&(t.pubDate=new Date(i)),t}))}else{var o;n=h("channel",t.children).children,e.type=t.name.substr(0,3),e.id="",m(e,"title","title",n),m(e,"link","link",n),m(e,"description","description",n),(o=p("lastBuildDate",n))&&(e.updated=new Date(o)),m(e,"author","managingEditor",n,!0),e.items=d("item",t.children).map((function(e){var t={},n=e.children;m(t,"id","guid",n),m(t,"title","title",n),m(t,"link","link",n),m(t,"description","description",n);var r=p("pubDate",n);return r&&(t.pubDate=new Date(r)),t}))}this.feed=e,this.handleCallback(t?null:Error("couldn't find root of feed"))},t}(a.default);function d(e,t){return c.getElementsByTagName(e,t,!0)}function h(e,t){return c.getElementsByTagName(e,t,!0,1)[0]}function p(e,t,n){return void 0===n&&(n=!1),c.getText(c.getElementsByTagName(e,t,n,1)).trim()}function f(e,t){return t?t.attribs[e]:null}function m(e,t,n,r,o){void 0===o&&(o=!1);var i=p(n,r,o);i&&(e[t]=i)}function g(e){return"rss"===e||"feed"===e||"rdf:RDF"===e}t.FeedHandler=l;var v={xmlMode:!0};t.parseFeed=function(e,t){void 0===t&&(t=v);var n=new l(t);return new u.Parser(n,t).end(e),n.feed}},7923:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e){this._func=e}return e.prototype.onattribute=function(e,t){this._func("onattribute",e,t)},e.prototype.oncdatastart=function(){this._func("oncdatastart")},e.prototype.oncdataend=function(){this._func("oncdataend")},e.prototype.ontext=function(e){this._func("ontext",e)},e.prototype.onprocessinginstruction=function(e,t){this._func("onprocessinginstruction",e,t)},e.prototype.oncomment=function(e){this._func("oncomment",e)},e.prototype.oncommentend=function(){this._func("oncommentend")},e.prototype.onclosetag=function(e){this._func("onclosetag",e)},e.prototype.onopentag=function(e,t){this._func("onopentag",e,t)},e.prototype.onopentagname=function(e){this._func("onopentagname",e)},e.prototype.onerror=function(e){this._func("onerror",e)},e.prototype.onend=function(){this._func("onend")},e.prototype.onparserinit=function(e){this._func("onparserinit",e)},e.prototype.onreset=function(){this._func("onreset")},e}();t.default=n},763:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(n(517)),a=n(2361),c=new Set(["input","option","optgroup","select","button","datalist","textarea"]),u=new Set(["p"]),l={tr:new Set(["tr","th","td"]),th:new Set(["th"]),td:new Set(["thead","th","td"]),body:new Set(["head","link","script"]),li:new Set(["li"]),p:u,h1:u,h2:u,h3:u,h4:u,h5:u,h6:u,select:c,input:c,output:c,button:c,datalist:c,textarea:c,option:new Set(["option"]),optgroup:new Set(["optgroup","option"]),dd:new Set(["dt","dd"]),dt:new Set(["dt","dd"]),address:u,article:u,aside:u,blockquote:u,details:u,div:u,dl:u,fieldset:u,figcaption:u,figure:u,footer:u,form:u,header:u,hr:u,main:u,nav:u,ol:u,pre:u,section:u,table:u,ul:u,rt:new Set(["rt","rp"]),rp:new Set(["rt","rp"]),tbody:new Set(["thead","tbody"]),tfoot:new Set(["thead","tbody"])},d=new Set(["area","base","basefont","br","col","command","embed","frame","hr","img","input","isindex","keygen","link","meta","param","source","track","wbr"]),h=new Set(["math","svg"]),p=new Set(["mi","mo","mn","ms","mtext","annotation-xml","foreignObject","desc","title"]),f=/\s|\//,m=function(e){function t(n,r){var o=e.call(this)||this;return o._tagname="",o._attribname="",o._attribvalue="",o._attribs=null,o._stack=[],o._foreignContext=[],o.startIndex=0,o.endIndex=null,o.parseChunk=t.prototype.write,o.done=t.prototype.end,o._options=r||{},o._cbs=n||{},o._tagname="",o._attribname="",o._attribvalue="",o._attribs=null,o._stack=[],o._foreignContext=[],o.startIndex=0,o.endIndex=null,o._lowerCaseTagNames="lowerCaseTags"in o._options?!!o._options.lowerCaseTags:!o._options.xmlMode,o._lowerCaseAttributeNames="lowerCaseAttributeNames"in o._options?!!o._options.lowerCaseAttributeNames:!o._options.xmlMode,o._tokenizer=new(o._options.Tokenizer||s.default)(o._options,o),o._cbs.onparserinit&&o._cbs.onparserinit(o),o}return o(t,e),t.prototype._updatePosition=function(e){null===this.endIndex?this._tokenizer._sectionStart<=e?this.startIndex=0:this.startIndex=this._tokenizer._sectionStart-e:this.startIndex=this.endIndex+1,this.endIndex=this._tokenizer.getAbsoluteIndex()},t.prototype.ontext=function(e){this._updatePosition(1),this.endIndex--,this._cbs.ontext&&this._cbs.ontext(e)},t.prototype.onopentagname=function(e){if(this._lowerCaseTagNames&&(e=e.toLowerCase()),this._tagname=e,!this._options.xmlMode&&Object.prototype.hasOwnProperty.call(l,e))for(var t=void 0;l[e].has(t=this._stack[this._stack.length-1]);this.onclosetag(t));!this._options.xmlMode&&d.has(e)||(this._stack.push(e),h.has(e)?this._foreignContext.push(!0):p.has(e)&&this._foreignContext.push(!1)),this._cbs.onopentagname&&this._cbs.onopentagname(e),this._cbs.onopentag&&(this._attribs={})},t.prototype.onopentagend=function(){this._updatePosition(1),this._attribs&&(this._cbs.onopentag&&this._cbs.onopentag(this._tagname,this._attribs),this._attribs=null),!this._options.xmlMode&&this._cbs.onclosetag&&d.has(this._tagname)&&this._cbs.onclosetag(this._tagname),this._tagname=""},t.prototype.onclosetag=function(e){if(this._updatePosition(1),this._lowerCaseTagNames&&(e=e.toLowerCase()),(h.has(e)||p.has(e))&&this._foreignContext.pop(),!this._stack.length||!this._options.xmlMode&&d.has(e))this._options.xmlMode||"br"!==e&&"p"!==e||(this.onopentagname(e),this._closeCurrentTag());else{var t=this._stack.lastIndexOf(e);if(-1!==t)if(this._cbs.onclosetag)for(t=this._stack.length-t;t--;)this._cbs.onclosetag(this._stack.pop());else this._stack.length=t;else"p"!==e||this._options.xmlMode||(this.onopentagname(e),this._closeCurrentTag())}},t.prototype.onselfclosingtag=function(){this._options.xmlMode||this._options.recognizeSelfClosing||this._foreignContext[this._foreignContext.length-1]?this._closeCurrentTag():this.onopentagend()},t.prototype._closeCurrentTag=function(){var e=this._tagname;this.onopentagend(),this._stack[this._stack.length-1]===e&&(this._cbs.onclosetag&&this._cbs.onclosetag(e),this._stack.pop())},t.prototype.onattribname=function(e){this._lowerCaseAttributeNames&&(e=e.toLowerCase()),this._attribname=e},t.prototype.onattribdata=function(e){this._attribvalue+=e},t.prototype.onattribend=function(){this._cbs.onattribute&&this._cbs.onattribute(this._attribname,this._attribvalue),this._attribs&&!Object.prototype.hasOwnProperty.call(this._attribs,this._attribname)&&(this._attribs[this._attribname]=this._attribvalue),this._attribname="",this._attribvalue=""},t.prototype._getInstructionName=function(e){var t=e.search(f),n=t<0?e:e.substr(0,t);return this._lowerCaseTagNames&&(n=n.toLowerCase()),n},t.prototype.ondeclaration=function(e){if(this._cbs.onprocessinginstruction){var t=this._getInstructionName(e);this._cbs.onprocessinginstruction("!"+t,"!"+e)}},t.prototype.onprocessinginstruction=function(e){if(this._cbs.onprocessinginstruction){var t=this._getInstructionName(e);this._cbs.onprocessinginstruction("?"+t,"?"+e)}},t.prototype.oncomment=function(e){this._updatePosition(4),this._cbs.oncomment&&this._cbs.oncomment(e),this._cbs.oncommentend&&this._cbs.oncommentend()},t.prototype.oncdata=function(e){this._updatePosition(1),this._options.xmlMode||this._options.recognizeCDATA?(this._cbs.oncdatastart&&this._cbs.oncdatastart(),this._cbs.ontext&&this._cbs.ontext(e),this._cbs.oncdataend&&this._cbs.oncdataend()):this.oncomment("[CDATA["+e+"]]")},t.prototype.onerror=function(e){this._cbs.onerror&&this._cbs.onerror(e)},t.prototype.onend=function(){if(this._cbs.onclosetag)for(var e=this._stack.length;e>0;this._cbs.onclosetag(this._stack[--e]));this._cbs.onend&&this._cbs.onend()},t.prototype.reset=function(){this._cbs.onreset&&this._cbs.onreset(),this._tokenizer.reset(),this._tagname="",this._attribname="",this._attribs=null,this._stack=[],this._cbs.onparserinit&&this._cbs.onparserinit(this)},t.prototype.parseComplete=function(e){this.reset(),this.end(e)},t.prototype.write=function(e){this._tokenizer.write(e)},t.prototype.end=function(e){this._tokenizer.end(e)},t.prototype.pause=function(){this._tokenizer.pause()},t.prototype.resume=function(){this._tokenizer.resume()},t}(a.EventEmitter);t.Parser=m},517:function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(n(26)),i=r(n(9323)),s=r(n(9591)),a=r(n(2586));function c(e){return" "===e||"\n"===e||"\t"===e||"\f"===e||"\r"===e}function u(e,t,n){var r=e.toLowerCase();return e===r?function(e,o){o===r?e._state=t:(e._state=n,e._index--)}:function(o,i){i===r||i===e?o._state=t:(o._state=n,o._index--)}}function l(e,t){var n=e.toLowerCase();return function(r,o){o===n||o===e?r._state=t:(r._state=3,r._index--)}}var d=u("C",23,16),h=u("D",24,16),p=u("A",25,16),f=u("T",26,16),m=u("A",27,16),g=l("R",34),v=l("I",35),y=l("P",36),w=l("T",37),b=u("R",39,1),_=u("I",40,1),C=u("P",41,1),S=u("T",42,1),T=l("Y",44),E=l("L",45),x=l("E",46),D=u("Y",48,1),k=u("L",49,1),R=u("E",50,1),P=u("#",52,53),N=u("X",55,54),O=function(){function e(e,t){this._state=1,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=1,this._special=1,this._running=!0,this._ended=!1,this._cbs=t,this._xmlMode=!(!e||!e.xmlMode),this._decodeEntities=!(!e||!e.decodeEntities)}return e.prototype.reset=function(){this._state=1,this._buffer="",this._sectionStart=0,this._index=0,this._bufferOffset=0,this._baseState=1,this._special=1,this._running=!0,this._ended=!1},e.prototype._stateText=function(e){"<"===e?(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._state=2,this._sectionStart=this._index):this._decodeEntities&&1===this._special&&"&"===e&&(this._index>this._sectionStart&&this._cbs.ontext(this._getSection()),this._baseState=1,this._state=51,this._sectionStart=this._index)},e.prototype._stateBeforeTagName=function(e){"/"===e?this._state=5:"<"===e?(this._cbs.ontext(this._getSection()),this._sectionStart=this._index):">"===e||1!==this._special||c(e)?this._state=1:"!"===e?(this._state=15,this._sectionStart=this._index+1):"?"===e?(this._state=17,this._sectionStart=this._index+1):(this._state=this._xmlMode||"s"!==e&&"S"!==e?3:31,this._sectionStart=this._index)},e.prototype._stateInTagName=function(e){("/"===e||">"===e||c(e))&&(this._emitToken("onopentagname"),this._state=8,this._index--)},e.prototype._stateBeforeClosingTagName=function(e){c(e)||(">"===e?this._state=1:1!==this._special?"s"===e||"S"===e?this._state=32:(this._state=1,this._index--):(this._state=6,this._sectionStart=this._index))},e.prototype._stateInClosingTagName=function(e){(">"===e||c(e))&&(this._emitToken("onclosetag"),this._state=7,this._index--)},e.prototype._stateAfterClosingTagName=function(e){">"===e&&(this._state=1,this._sectionStart=this._index+1)},e.prototype._stateBeforeAttributeName=function(e){">"===e?(this._cbs.onopentagend(),this._state=1,this._sectionStart=this._index+1):"/"===e?this._state=4:c(e)||(this._state=9,this._sectionStart=this._index)},e.prototype._stateInSelfClosingTag=function(e){">"===e?(this._cbs.onselfclosingtag(),this._state=1,this._sectionStart=this._index+1):c(e)||(this._state=8,this._index--)},e.prototype._stateInAttributeName=function(e){("="===e||"/"===e||">"===e||c(e))&&(this._cbs.onattribname(this._getSection()),this._sectionStart=-1,this._state=10,this._index--)},e.prototype._stateAfterAttributeName=function(e){"="===e?this._state=11:"/"===e||">"===e?(this._cbs.onattribend(),this._state=8,this._index--):c(e)||(this._cbs.onattribend(),this._state=9,this._sectionStart=this._index)},e.prototype._stateBeforeAttributeValue=function(e){'"'===e?(this._state=12,this._sectionStart=this._index+1):"'"===e?(this._state=13,this._sectionStart=this._index+1):c(e)||(this._state=14,this._sectionStart=this._index,this._index--)},e.prototype._stateInAttributeValueDoubleQuotes=function(e){'"'===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=8):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=51,this._sectionStart=this._index)},e.prototype._stateInAttributeValueSingleQuotes=function(e){"'"===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=8):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=51,this._sectionStart=this._index)},e.prototype._stateInAttributeValueNoQuotes=function(e){c(e)||">"===e?(this._emitToken("onattribdata"),this._cbs.onattribend(),this._state=8,this._index--):this._decodeEntities&&"&"===e&&(this._emitToken("onattribdata"),this._baseState=this._state,this._state=51,this._sectionStart=this._index)},e.prototype._stateBeforeDeclaration=function(e){this._state="["===e?22:"-"===e?18:16},e.prototype._stateInDeclaration=function(e){">"===e&&(this._cbs.ondeclaration(this._getSection()),this._state=1,this._sectionStart=this._index+1)},e.prototype._stateInProcessingInstruction=function(e){">"===e&&(this._cbs.onprocessinginstruction(this._getSection()),this._state=1,this._sectionStart=this._index+1)},e.prototype._stateBeforeComment=function(e){"-"===e?(this._state=19,this._sectionStart=this._index+1):this._state=16},e.prototype._stateInComment=function(e){"-"===e&&(this._state=20)},e.prototype._stateAfterComment1=function(e){this._state="-"===e?21:19},e.prototype._stateAfterComment2=function(e){">"===e?(this._cbs.oncomment(this._buffer.substring(this._sectionStart,this._index-2)),this._state=1,this._sectionStart=this._index+1):"-"!==e&&(this._state=19)},e.prototype._stateBeforeCdata6=function(e){"["===e?(this._state=28,this._sectionStart=this._index+1):(this._state=16,this._index--)},e.prototype._stateInCdata=function(e){"]"===e&&(this._state=29)},e.prototype._stateAfterCdata1=function(e){this._state="]"===e?30:28},e.prototype._stateAfterCdata2=function(e){">"===e?(this._cbs.oncdata(this._buffer.substring(this._sectionStart,this._index-2)),this._state=1,this._sectionStart=this._index+1):"]"!==e&&(this._state=28)},e.prototype._stateBeforeSpecial=function(e){"c"===e||"C"===e?this._state=33:"t"===e||"T"===e?this._state=43:(this._state=3,this._index--)},e.prototype._stateBeforeSpecialEnd=function(e){2!==this._special||"c"!==e&&"C"!==e?3!==this._special||"t"!==e&&"T"!==e?this._state=1:this._state=47:this._state=38},e.prototype._stateBeforeScript5=function(e){("/"===e||">"===e||c(e))&&(this._special=2),this._state=3,this._index--},e.prototype._stateAfterScript5=function(e){">"===e||c(e)?(this._special=1,this._state=6,this._sectionStart=this._index-6,this._index--):this._state=1},e.prototype._stateBeforeStyle4=function(e){("/"===e||">"===e||c(e))&&(this._special=3),this._state=3,this._index--},e.prototype._stateAfterStyle4=function(e){">"===e||c(e)?(this._special=1,this._state=6,this._sectionStart=this._index-5,this._index--):this._state=1},e.prototype._parseNamedEntityStrict=function(){if(this._sectionStart+1<this._index){var e=this._buffer.substring(this._sectionStart+1,this._index),t=this._xmlMode?a.default:i.default;Object.prototype.hasOwnProperty.call(t,e)&&(this._emitPartial(t[e]),this._sectionStart=this._index+1)}},e.prototype._parseLegacyEntity=function(){var e=this._sectionStart+1,t=this._index-e;for(t>6&&(t=6);t>=2;){var n=this._buffer.substr(e,t);if(Object.prototype.hasOwnProperty.call(s.default,n))return this._emitPartial(s.default[n]),void(this._sectionStart+=t+1);t--}},e.prototype._stateInNamedEntity=function(e){";"===e?(this._parseNamedEntityStrict(),this._sectionStart+1<this._index&&!this._xmlMode&&this._parseLegacyEntity(),this._state=this._baseState):(e<"a"||e>"z")&&(e<"A"||e>"Z")&&(e<"0"||e>"9")&&(this._xmlMode||this._sectionStart+1===this._index||(1!==this._baseState?"="!==e&&this._parseNamedEntityStrict():this._parseLegacyEntity()),this._state=this._baseState,this._index--)},e.prototype._decodeNumericEntity=function(e,t){var n=this._sectionStart+e;if(n!==this._index){var r=this._buffer.substring(n,this._index),i=parseInt(r,t);this._emitPartial(o.default(i)),this._sectionStart=this._index}else this._sectionStart--;this._state=this._baseState},e.prototype._stateInNumericEntity=function(e){";"===e?(this._decodeNumericEntity(2,10),this._sectionStart++):(e<"0"||e>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(2,10),this._index--)},e.prototype._stateInHexEntity=function(e){";"===e?(this._decodeNumericEntity(3,16),this._sectionStart++):(e<"a"||e>"f")&&(e<"A"||e>"F")&&(e<"0"||e>"9")&&(this._xmlMode?this._state=this._baseState:this._decodeNumericEntity(3,16),this._index--)},e.prototype._cleanup=function(){this._sectionStart<0?(this._buffer="",this._bufferOffset+=this._index,this._index=0):this._running&&(1===this._state?(this._sectionStart!==this._index&&this._cbs.ontext(this._buffer.substr(this._sectionStart)),this._buffer="",this._bufferOffset+=this._index,this._index=0):this._sectionStart===this._index?(this._buffer="",this._bufferOffset+=this._index,this._index=0):(this._buffer=this._buffer.substr(this._sectionStart),this._index-=this._sectionStart,this._bufferOffset+=this._sectionStart),this._sectionStart=0)},e.prototype.write=function(e){this._ended&&this._cbs.onerror(Error(".write() after done!")),this._buffer+=e,this._parse()},e.prototype._parse=function(){for(;this._index<this._buffer.length&&this._running;){var e=this._buffer.charAt(this._index);1===this._state?this._stateText(e):12===this._state?this._stateInAttributeValueDoubleQuotes(e):9===this._state?this._stateInAttributeName(e):19===this._state?this._stateInComment(e):8===this._state?this._stateBeforeAttributeName(e):3===this._state?this._stateInTagName(e):6===this._state?this._stateInClosingTagName(e):2===this._state?this._stateBeforeTagName(e):10===this._state?this._stateAfterAttributeName(e):13===this._state?this._stateInAttributeValueSingleQuotes(e):11===this._state?this._stateBeforeAttributeValue(e):5===this._state?this._stateBeforeClosingTagName(e):7===this._state?this._stateAfterClosingTagName(e):31===this._state?this._stateBeforeSpecial(e):20===this._state?this._stateAfterComment1(e):14===this._state?this._stateInAttributeValueNoQuotes(e):4===this._state?this._stateInSelfClosingTag(e):16===this._state?this._stateInDeclaration(e):15===this._state?this._stateBeforeDeclaration(e):21===this._state?this._stateAfterComment2(e):18===this._state?this._stateBeforeComment(e):32===this._state?this._stateBeforeSpecialEnd(e):38===this._state?b(this,e):39===this._state?_(this,e):40===this._state?C(this,e):33===this._state?g(this,e):34===this._state?v(this,e):35===this._state?y(this,e):36===this._state?w(this,e):37===this._state?this._stateBeforeScript5(e):41===this._state?S(this,e):42===this._state?this._stateAfterScript5(e):43===this._state?T(this,e):28===this._state?this._stateInCdata(e):44===this._state?E(this,e):45===this._state?x(this,e):46===this._state?this._stateBeforeStyle4(e):47===this._state?D(this,e):48===this._state?k(this,e):49===this._state?R(this,e):50===this._state?this._stateAfterStyle4(e):17===this._state?this._stateInProcessingInstruction(e):53===this._state?this._stateInNamedEntity(e):22===this._state?d(this,e):51===this._state?P(this,e):23===this._state?h(this,e):24===this._state?p(this,e):29===this._state?this._stateAfterCdata1(e):30===this._state?this._stateAfterCdata2(e):25===this._state?f(this,e):26===this._state?m(this,e):27===this._state?this._stateBeforeCdata6(e):55===this._state?this._stateInHexEntity(e):54===this._state?this._stateInNumericEntity(e):52===this._state?N(this,e):this._cbs.onerror(Error("unknown _state"),this._state),this._index++}this._cleanup()},e.prototype.pause=function(){this._running=!1},e.prototype.resume=function(){this._running=!0,this._index<this._buffer.length&&this._parse(),this._ended&&this._finish()},e.prototype.end=function(e){this._ended&&this._cbs.onerror(Error(".end() after done!")),e&&this.write(e),this._ended=!0,this._running&&this._finish()},e.prototype._finish=function(){this._sectionStart<this._index&&this._handleTrailingData(),this._cbs.onend()},e.prototype._handleTrailingData=function(){var e=this._buffer.substr(this._sectionStart);28===this._state||29===this._state||30===this._state?this._cbs.oncdata(e):19===this._state||20===this._state||21===this._state?this._cbs.oncomment(e):53!==this._state||this._xmlMode?54!==this._state||this._xmlMode?55!==this._state||this._xmlMode?3!==this._state&&8!==this._state&&11!==this._state&&10!==this._state&&9!==this._state&&13!==this._state&&12!==this._state&&14!==this._state&&6!==this._state&&this._cbs.ontext(e):(this._decodeNumericEntity(3,16),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._decodeNumericEntity(2,10),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData())):(this._parseLegacyEntity(),this._sectionStart<this._index&&(this._state=this._baseState,this._handleTrailingData()))},e.prototype.getAbsoluteIndex=function(){return this._bufferOffset+this._index},e.prototype._getSection=function(){return this._buffer.substring(this._sectionStart,this._index)},e.prototype._emitToken=function(e){this._cbs[e](this._getSection()),this._sectionStart=-1},e.prototype._emitPartial=function(e){1!==this._baseState?this._cbs.onattribdata(e):this._cbs.ontext(e)},e}();t.default=O},3621:function(e,t,n){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},r(e,t)},function(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)});Object.defineProperty(t,"__esModule",{value:!0});var i=n(763),s=n(2781),a=n(1576),c=function(e){function t(t,n){var r=e.call(this,{decodeStrings:!1})||this;return r._decoder=new a.StringDecoder,r._parser=new i.Parser(t,n),r}return o(t,e),t.prototype._write=function(e,t,n){(function(e,t){return"buffer"===t})(0,t)&&(e=this._decoder.write(e)),this._parser.write(e),n()},t.prototype._final=function(e){this._parser.end(this._decoder.end()),e()},t}(s.Writable);t.WritableStream=c},3719:function(e,t,n){"use strict";function r(e){for(var n in e)t.hasOwnProperty(n)||(t[n]=e[n])}var o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t};Object.defineProperty(t,"__esModule",{value:!0});var i=n(763);t.Parser=i.Parser;var s=n(7915);t.DomHandler=s.DomHandler,t.DefaultHandler=s.DomHandler,t.parseDOM=function(e,t){var n=new s.DomHandler(void 0,t);return new i.Parser(n,t).end(e),n.dom},t.createDomStream=function(e,t,n){var r=new s.DomHandler(e,t,n);return new i.Parser(r,t)};var a=n(517);t.Tokenizer=a.default;var c=o(n(9960));t.ElementType=c,t.EVENTS={attribute:2,cdatastart:0,cdataend:0,text:1,processinginstruction:2,comment:1,commentend:0,closetag:1,opentag:2,opentagname:1,error:1,end:0},r(n(2952)),r(n(3621)),r(n(5449));var u=o(n(9432));t.DomUtils=u;var l=n(2952);t.RssHandler=l.FeedHandler},1959:(e,t,n)=>{var r;function o(e,t,n){if("function"==typeof t&&(n=t,t={}),!n){if("function"!=typeof Promise)throw new TypeError("callback not provided");return new Promise((function(n,r){o(e,t||{},(function(e,t){e?r(e):n(t)}))}))}r(e,t||{},(function(e,r){e&&("EACCES"===e.code||t&&t.ignoreErrors)&&(e=null,r=!1),n(e,r)}))}n(7147),r="win32"===process.platform||global.TESTING_WINDOWS?n(1429):n(4601),e.exports=o,o.sync=function(e,t){try{return r.sync(e,t||{})}catch(e){if(t&&t.ignoreErrors||"EACCES"===e.code)return!1;throw e}}},4601:(e,t,n)=>{e.exports=o,o.sync=function(e,t){return i(r.statSync(e),t)};var r=n(7147);function o(e,t,n){r.stat(e,(function(e,r){n(e,!e&&i(r,t))}))}function i(e,t){return e.isFile()&&function(e,t){var n=e.mode,r=e.uid,o=e.gid,i=void 0!==t.uid?t.uid:process.getuid&&process.getuid(),s=void 0!==t.gid?t.gid:process.getgid&&process.getgid(),a=parseInt("100",8),c=parseInt("010",8);return n&parseInt("001",8)||n&c&&o===s||n&a&&r===i||n&(a|c)&&0===i}(e,t)}},1429:(e,t,n)=>{e.exports=i,i.sync=function(e,t){return o(r.statSync(e),e,t)};var r=n(7147);function o(e,t,n){return!(!e.isSymbolicLink()&&!e.isFile())&&function(e,t){var n=void 0!==t.pathExt?t.pathExt:process.env.PATHEXT;if(!n)return!0;if(-1!==(n=n.split(";")).indexOf(""))return!0;for(var r=0;r<n.length;r++){var o=n[r].toLowerCase();if(o&&e.substr(-o.length).toLowerCase()===o)return!0}return!1}(t,n)}function i(e,t,n){r.stat(e,(function(r,i){n(r,!r&&o(i,e,t))}))}},9593:(e,t,n)=>{"use strict";const r=n(4411),o=Symbol("max"),i=Symbol("length"),s=Symbol("lengthCalculator"),a=Symbol("allowStale"),c=Symbol("maxAge"),u=Symbol("dispose"),l=Symbol("noDisposeOnSet"),d=Symbol("lruList"),h=Symbol("cache"),p=Symbol("updateAgeOnGet"),f=()=>1,m=(e,t,n)=>{const r=e[h].get(t);if(r){const t=r.value;if(g(e,t)){if(y(e,r),!e[a])return}else n&&(e[p]&&(r.value.now=Date.now()),e[d].unshiftNode(r));return t.value}},g=(e,t)=>{if(!t||!t.maxAge&&!e[c])return!1;const n=Date.now()-t.now;return t.maxAge?n>t.maxAge:e[c]&&n>e[c]},v=e=>{if(e[i]>e[o])for(let t=e[d].tail;e[i]>e[o]&&null!==t;){const n=t.prev;y(e,t),t=n}},y=(e,t)=>{if(t){const n=t.value;e[u]&&e[u](n.key,n.value),e[i]-=n.length,e[h].delete(n.key),e[d].removeNode(t)}};class w{constructor(e,t,n,r,o){this.key=e,this.value=t,this.length=n,this.now=r,this.maxAge=o||0}}const b=(e,t,n,r)=>{let o=n.value;g(e,o)&&(y(e,n),e[a]||(o=void 0)),o&&t.call(r,o.value,o.key,e)};e.exports=class{constructor(e){if("number"==typeof e&&(e={max:e}),e||(e={}),e.max&&("number"!=typeof e.max||e.max<0))throw new TypeError("max must be a non-negative number");this[o]=e.max||1/0;const t=e.length||f;if(this[s]="function"!=typeof t?f:t,this[a]=e.stale||!1,e.maxAge&&"number"!=typeof e.maxAge)throw new TypeError("maxAge must be a number");this[c]=e.maxAge||0,this[u]=e.dispose,this[l]=e.noDisposeOnSet||!1,this[p]=e.updateAgeOnGet||!1,this.reset()}set max(e){if("number"!=typeof e||e<0)throw new TypeError("max must be a non-negative number");this[o]=e||1/0,v(this)}get max(){return this[o]}set allowStale(e){this[a]=!!e}get allowStale(){return this[a]}set maxAge(e){if("number"!=typeof e)throw new TypeError("maxAge must be a non-negative number");this[c]=e,v(this)}get maxAge(){return this[c]}set lengthCalculator(e){"function"!=typeof e&&(e=f),e!==this[s]&&(this[s]=e,this[i]=0,this[d].forEach((e=>{e.length=this[s](e.value,e.key),this[i]+=e.length}))),v(this)}get lengthCalculator(){return this[s]}get length(){return this[i]}get itemCount(){return this[d].length}rforEach(e,t){t=t||this;for(let n=this[d].tail;null!==n;){const r=n.prev;b(this,e,n,t),n=r}}forEach(e,t){t=t||this;for(let n=this[d].head;null!==n;){const r=n.next;b(this,e,n,t),n=r}}keys(){return this[d].toArray().map((e=>e.key))}values(){return this[d].toArray().map((e=>e.value))}reset(){this[u]&&this[d]&&this[d].length&&this[d].forEach((e=>this[u](e.key,e.value))),this[h]=new Map,this[d]=new r,this[i]=0}dump(){return this[d].map((e=>!g(this,e)&&{k:e.key,v:e.value,e:e.now+(e.maxAge||0)})).toArray().filter((e=>e))}dumpLru(){return this[d]}set(e,t,n){if((n=n||this[c])&&"number"!=typeof n)throw new TypeError("maxAge must be a number");const r=n?Date.now():0,a=this[s](t,e);if(this[h].has(e)){if(a>this[o])return y(this,this[h].get(e)),!1;const s=this[h].get(e).value;return this[u]&&(this[l]||this[u](e,s.value)),s.now=r,s.maxAge=n,s.value=t,this[i]+=a-s.length,s.length=a,this.get(e),v(this),!0}const p=new w(e,t,a,r,n);return p.length>this[o]?(this[u]&&this[u](e,t),!1):(this[i]+=p.length,this[d].unshift(p),this[h].set(e,this[d].head),v(this),!0)}has(e){if(!this[h].has(e))return!1;const t=this[h].get(e).value;return!g(this,t)}get(e){return m(this,e,!0)}peek(e){return m(this,e,!1)}pop(){const e=this[d].tail;return e?(y(this,e),e.value):null}del(e){y(this,this[h].get(e))}load(e){this.reset();const t=Date.now();for(let n=e.length-1;n>=0;n--){const r=e[n],o=r.e||0;if(0===o)this.set(r.k,r.v);else{const e=o-t;e>0&&this.set(r.k,r.v,e)}}}prune(){this[h].forEach(((e,t)=>m(this,t,!1)))}}},1171:(e,t,n)=>{e.exports=h,h.Minimatch=p;var r=function(){try{return n(1017)}catch(e){}}()||{sep:"/"};h.sep=r.sep;var o=h.GLOBSTAR=p.GLOBSTAR={},i=n(3644),s={"!":{open:"(?:(?!(?:",close:"))[^/]*?)"},"?":{open:"(?:",close:")?"},"+":{open:"(?:",close:")+"},"*":{open:"(?:",close:")*"},"@":{open:"(?:",close:")"}},a="[^/]",c="[^/]*?",u="().*{}+?[]^$\\!".split("").reduce((function(e,t){return e[t]=!0,e}),{}),l=/\/+/;function d(e,t){t=t||{};var n={};return Object.keys(e).forEach((function(t){n[t]=e[t]})),Object.keys(t).forEach((function(e){n[e]=t[e]})),n}function h(e,t,n){return m(t),n||(n={}),!(!n.nocomment&&"#"===t.charAt(0))&&new p(t,n).match(e)}function p(e,t){if(!(this instanceof p))return new p(e,t);m(e),t||(t={}),e=e.trim(),t.allowWindowsEscape||"/"===r.sep||(e=e.split(r.sep).join("/")),this.options=t,this.set=[],this.pattern=e,this.regexp=null,this.negate=!1,this.comment=!1,this.empty=!1,this.partial=!!t.partial,this.make()}function f(e,t){return t||(t=this instanceof p?this.options:{}),e=void 0===e?this.pattern:e,m(e),t.nobrace||!/\{(?:(?!\{).)*\}/.test(e)?[e]:i(e)}h.filter=function(e,t){return t=t||{},function(n,r,o){return h(n,e,t)}},h.defaults=function(e){if(!e||"object"!=typeof e||!Object.keys(e).length)return h;var t=h,n=function(n,r,o){return t(n,r,d(e,o))};return(n.Minimatch=function(n,r){return new t.Minimatch(n,d(e,r))}).defaults=function(n){return t.defaults(d(e,n)).Minimatch},n.filter=function(n,r){return t.filter(n,d(e,r))},n.defaults=function(n){return t.defaults(d(e,n))},n.makeRe=function(n,r){return t.makeRe(n,d(e,r))},n.braceExpand=function(n,r){return t.braceExpand(n,d(e,r))},n.match=function(n,r,o){return t.match(n,r,d(e,o))},n},p.defaults=function(e){return h.defaults(e).Minimatch},p.prototype.debug=function(){},p.prototype.make=function(){var e=this.pattern,t=this.options;if(t.nocomment||"#"!==e.charAt(0))if(e){this.parseNegate();var n=this.globSet=this.braceExpand();t.debug&&(this.debug=function(){console.error.apply(console,arguments)}),this.debug(this.pattern,n),n=this.globParts=n.map((function(e){return e.split(l)})),this.debug(this.pattern,n),n=n.map((function(e,t,n){return e.map(this.parse,this)}),this),this.debug(this.pattern,n),n=n.filter((function(e){return-1===e.indexOf(!1)})),this.debug(this.pattern,n),this.set=n}else this.empty=!0;else this.comment=!0},p.prototype.parseNegate=function(){var e=this.pattern,t=!1,n=0;if(!this.options.nonegate){for(var r=0,o=e.length;r<o&&"!"===e.charAt(r);r++)t=!t,n++;n&&(this.pattern=e.substr(n)),this.negate=t}},h.braceExpand=function(e,t){return f(e,t)},p.prototype.braceExpand=f;var m=function(e){if("string"!=typeof e)throw new TypeError("invalid pattern");if(e.length>65536)throw new TypeError("pattern is too long")};p.prototype.parse=function(e,t){m(e);var n=this.options;if("**"===e){if(!n.noglobstar)return o;e="*"}if(""===e)return"";var r,i="",l=!!n.nocase,d=!1,h=[],p=[],f=!1,v=-1,y=-1,w="."===e.charAt(0)?"":n.dot?"(?!(?:^|\\/)\\.{1,2}(?:$|\\/))":"(?!\\.)",b=this;function _(){if(r){switch(r){case"*":i+=c,l=!0;break;case"?":i+=a,l=!0;break;default:i+="\\"+r}b.debug("clearStateChar %j %j",r,i),r=!1}}for(var C,S=0,T=e.length;S<T&&(C=e.charAt(S));S++)if(this.debug("%s\t%s %s %j",e,S,i,C),d&&u[C])i+="\\"+C,d=!1;else switch(C){case"/":return!1;case"\\":_(),d=!0;continue;case"?":case"*":case"+":case"@":case"!":if(this.debug("%s\t%s %s %j <-- stateChar",e,S,i,C),f){this.debug("  in class"),"!"===C&&S===y+1&&(C="^"),i+=C;continue}b.debug("call clearStateChar %j",r),_(),r=C,n.noext&&_();continue;case"(":if(f){i+="(";continue}if(!r){i+="\\(";continue}h.push({type:r,start:S-1,reStart:i.length,open:s[r].open,close:s[r].close}),i+="!"===r?"(?:(?!(?:":"(?:",this.debug("plType %j %j",r,i),r=!1;continue;case")":if(f||!h.length){i+="\\)";continue}_(),l=!0;var E=h.pop();i+=E.close,"!"===E.type&&p.push(E),E.reEnd=i.length;continue;case"|":if(f||!h.length||d){i+="\\|",d=!1;continue}_(),i+="|";continue;case"[":if(_(),f){i+="\\"+C;continue}f=!0,y=S,v=i.length,i+=C;continue;case"]":if(S===y+1||!f){i+="\\"+C,d=!1;continue}var x=e.substring(y+1,S);try{RegExp("["+x+"]")}catch(e){var D=this.parse(x,g);i=i.substr(0,v)+"\\["+D[0]+"\\]",l=l||D[1],f=!1;continue}l=!0,f=!1,i+=C;continue;default:_(),d?d=!1:!u[C]||"^"===C&&f||(i+="\\"),i+=C}for(f&&(x=e.substr(y+1),D=this.parse(x,g),i=i.substr(0,v)+"\\["+D[0],l=l||D[1]),E=h.pop();E;E=h.pop()){var k=i.slice(E.reStart+E.open.length);this.debug("setting tail",i,E),k=k.replace(/((?:\\{2}){0,64})(\\?)\|/g,(function(e,t,n){return n||(n="\\"),t+t+n+"|"})),this.debug("tail=%j\n   %s",k,k,E,i);var R="*"===E.type?c:"?"===E.type?a:"\\"+E.type;l=!0,i=i.slice(0,E.reStart)+R+"\\("+k}_(),d&&(i+="\\\\");var P=!1;switch(i.charAt(0)){case"[":case".":case"(":P=!0}for(var N=p.length-1;N>-1;N--){var O=p[N],I=i.slice(0,O.reStart),A=i.slice(O.reStart,O.reEnd-8),F=i.slice(O.reEnd-8,O.reEnd),M=i.slice(O.reEnd);F+=M;var q=I.split("(").length-1,L=M;for(S=0;S<q;S++)L=L.replace(/\)[+*?]?/,"");var j="";""===(M=L)&&t!==g&&(j="$"),i=I+A+M+j+F}if(""!==i&&l&&(i="(?=.)"+i),P&&(i=w+i),t===g)return[i,l];if(!l)return e.replace(/\\(.)/g,"$1");var H=n.nocase?"i":"";try{var $=new RegExp("^"+i+"$",H)}catch(e){return new RegExp("$.")}return $._glob=e,$._src=i,$};var g={};h.makeRe=function(e,t){return new p(e,t||{}).makeRe()},p.prototype.makeRe=function(){if(this.regexp||!1===this.regexp)return this.regexp;var e=this.set;if(!e.length)return this.regexp=!1,this.regexp;var t=this.options,n=t.noglobstar?c:t.dot?"(?:(?!(?:\\/|^)(?:\\.{1,2})($|\\/)).)*?":"(?:(?!(?:\\/|^)\\.).)*?",r=t.nocase?"i":"",i=e.map((function(e){return e.map((function(e){return e===o?n:"string"==typeof e?e.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"):e._src})).join("\\/")})).join("|");i="^(?:"+i+")$",this.negate&&(i="^(?!"+i+").*$");try{this.regexp=new RegExp(i,r)}catch(e){this.regexp=!1}return this.regexp},h.match=function(e,t,n){var r=new p(t,n=n||{});return e=e.filter((function(e){return r.match(e)})),r.options.nonull&&!e.length&&e.push(t),e},p.prototype.match=function(e,t){if(void 0===t&&(t=this.partial),this.debug("match",e,this.pattern),this.comment)return!1;if(this.empty)return""===e;if("/"===e&&t)return!0;var n=this.options;"/"!==r.sep&&(e=e.split(r.sep).join("/")),e=e.split(l),this.debug(this.pattern,"split",e);var o,i,s=this.set;for(this.debug(this.pattern,"set",s),i=e.length-1;i>=0&&!(o=e[i]);i--);for(i=0;i<s.length;i++){var a=s[i],c=e;if(n.matchBase&&1===a.length&&(c=[o]),this.matchOne(c,a,t))return!!n.flipNegate||!this.negate}return!n.flipNegate&&this.negate},p.prototype.matchOne=function(e,t,n){var r=this.options;this.debug("matchOne",{this:this,file:e,pattern:t}),this.debug("matchOne",e.length,t.length);for(var i=0,s=0,a=e.length,c=t.length;i<a&&s<c;i++,s++){this.debug("matchOne loop");var u,l=t[s],d=e[i];if(this.debug(t,l,d),!1===l)return!1;if(l===o){this.debug("GLOBSTAR",[t,l,d]);var h=i,p=s+1;if(p===c){for(this.debug("** at the end");i<a;i++)if("."===e[i]||".."===e[i]||!r.dot&&"."===e[i].charAt(0))return!1;return!0}for(;h<a;){var f=e[h];if(this.debug("\nglobstar while",e,h,t,p,f),this.matchOne(e.slice(h),t.slice(p),n))return this.debug("globstar found match!",h,a,f),!0;if("."===f||".."===f||!r.dot&&"."===f.charAt(0)){this.debug("dot detected!",e,h,t,p);break}this.debug("globstar swallow a segment, and continue"),h++}return!(!n||(this.debug("\n>>> no match, partial?",e,h,t,p),h!==a))}if("string"==typeof l?(u=d===l,this.debug("string match",l,d,u)):(u=d.match(l),this.debug("pattern match",l,d,u)),!u)return!1}if(i===a&&s===c)return!0;if(i===a)return n;if(s===c)return i===a-1&&""===e[i];throw new Error("wtf?")}},3024:e=>{"use strict";const t=(e={})=>{const t=e.env||process.env;return"win32"!==(e.platform||process.platform)?"PATH":Object.keys(t).reverse().find((e=>"PATH"===e.toUpperCase()))||"Path"};e.exports=t,e.exports.default=t},2257:(e,t,n)=>{const r=Symbol("SemVer ANY");class o{static get ANY(){return r}constructor(e,t){if(t=i(t),e instanceof o){if(e.loose===!!t.loose)return e;e=e.value}u("comparator",e,t),this.options=t,this.loose=!!t.loose,this.parse(e),this.semver===r?this.value="":this.value=this.operator+this.semver.version,u("comp",this)}parse(e){const t=this.options.loose?s[a.COMPARATORLOOSE]:s[a.COMPARATOR],n=e.match(t);if(!n)throw new TypeError(`Invalid comparator: ${e}`);this.operator=void 0!==n[1]?n[1]:"","="===this.operator&&(this.operator=""),n[2]?this.semver=new l(n[2],this.options.loose):this.semver=r}toString(){return this.value}test(e){if(u("Comparator.test",e,this.options.loose),this.semver===r||e===r)return!0;if("string"==typeof e)try{e=new l(e,this.options)}catch(e){return!1}return c(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof o))throw new TypeError("a Comparator is required");if(t&&"object"==typeof t||(t={loose:!!t,includePrerelease:!1}),""===this.operator)return""===this.value||new d(e.value,t).test(this.value);if(""===e.operator)return""===e.value||new d(this.value,t).test(e.semver);const n=!(">="!==this.operator&&">"!==this.operator||">="!==e.operator&&">"!==e.operator),r=!("<="!==this.operator&&"<"!==this.operator||"<="!==e.operator&&"<"!==e.operator),i=this.semver.version===e.semver.version,s=!(">="!==this.operator&&"<="!==this.operator||">="!==e.operator&&"<="!==e.operator),a=c(this.semver,"<",e.semver,t)&&(">="===this.operator||">"===this.operator)&&("<="===e.operator||"<"===e.operator),u=c(this.semver,">",e.semver,t)&&("<="===this.operator||"<"===this.operator)&&(">="===e.operator||">"===e.operator);return n||r||i&&s||a||u}}e.exports=o;const i=n(2893),{re:s,t:a}=n(5765),c=n(7539),u=n(4225),l=n(6376),d=n(6902)},6902:(e,t,n)=>{class r{constructor(e,t){if(t=i(t),e instanceof r)return e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease?e:new r(e.raw,t);if(e instanceof s)return this.raw=e.value,this.set=[[e]],this.format(),this;if(this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease,this.raw=e,this.set=e.split(/\s*\|\|\s*/).map((e=>this.parseRange(e.trim()))).filter((e=>e.length)),!this.set.length)throw new TypeError(`Invalid SemVer Range: ${e}`);if(this.set.length>1){const e=this.set[0];if(this.set=this.set.filter((e=>!f(e[0]))),0===this.set.length)this.set=[e];else if(this.set.length>1)for(const e of this.set)if(1===e.length&&m(e[0])){this.set=[e];break}}this.format()}format(){return this.range=this.set.map((e=>e.join(" ").trim())).join("||").trim(),this.range}toString(){return this.range}parseRange(e){e=e.trim();const t=`parseRange:${Object.keys(this.options).join(",")}:${e}`,n=o.get(t);if(n)return n;const r=this.options.loose,i=r?u[l.HYPHENRANGELOOSE]:u[l.HYPHENRANGE];e=e.replace(i,D(this.options.includePrerelease)),a("hyphen replace",e),e=e.replace(u[l.COMPARATORTRIM],d),a("comparator trim",e,u[l.COMPARATORTRIM]),e=(e=(e=e.replace(u[l.TILDETRIM],h)).replace(u[l.CARETTRIM],p)).split(/\s+/).join(" ");const c=r?u[l.COMPARATORLOOSE]:u[l.COMPARATOR],m=e.split(" ").map((e=>v(e,this.options))).join(" ").split(/\s+/).map((e=>x(e,this.options))).filter(this.options.loose?e=>!!e.match(c):()=>!0).map((e=>new s(e,this.options))),g=(m.length,new Map);for(const e of m){if(f(e))return[e];g.set(e.value,e)}g.size>1&&g.has("")&&g.delete("");const y=[...g.values()];return o.set(t,y),y}intersects(e,t){if(!(e instanceof r))throw new TypeError("a Range is required");return this.set.some((n=>g(n,t)&&e.set.some((e=>g(e,t)&&n.every((n=>e.every((e=>n.intersects(e,t)))))))))}test(e){if(!e)return!1;if("string"==typeof e)try{e=new c(e,this.options)}catch(e){return!1}for(let t=0;t<this.set.length;t++)if(k(this.set[t],e,this.options))return!0;return!1}}e.exports=r;const o=new(n(9593))({max:1e3}),i=n(2893),s=n(2257),a=n(4225),c=n(6376),{re:u,t:l,comparatorTrimReplace:d,tildeTrimReplace:h,caretTrimReplace:p}=n(5765),f=e=>"<0.0.0-0"===e.value,m=e=>""===e.value,g=(e,t)=>{let n=!0;const r=e.slice();let o=r.pop();for(;n&&r.length;)n=r.every((e=>o.intersects(e,t))),o=r.pop();return n},v=(e,t)=>(a("comp",e,t),e=_(e,t),a("caret",e),e=w(e,t),a("tildes",e),e=S(e,t),a("xrange",e),e=E(e,t),a("stars",e),e),y=e=>!e||"x"===e.toLowerCase()||"*"===e,w=(e,t)=>e.trim().split(/\s+/).map((e=>b(e,t))).join(" "),b=(e,t)=>{const n=t.loose?u[l.TILDELOOSE]:u[l.TILDE];return e.replace(n,((t,n,r,o,i)=>{let s;return a("tilde",e,t,n,r,o,i),y(n)?s="":y(r)?s=`>=${n}.0.0 <${+n+1}.0.0-0`:y(o)?s=`>=${n}.${r}.0 <${n}.${+r+1}.0-0`:i?(a("replaceTilde pr",i),s=`>=${n}.${r}.${o}-${i} <${n}.${+r+1}.0-0`):s=`>=${n}.${r}.${o} <${n}.${+r+1}.0-0`,a("tilde return",s),s}))},_=(e,t)=>e.trim().split(/\s+/).map((e=>C(e,t))).join(" "),C=(e,t)=>{a("caret",e,t);const n=t.loose?u[l.CARETLOOSE]:u[l.CARET],r=t.includePrerelease?"-0":"";return e.replace(n,((t,n,o,i,s)=>{let c;return a("caret",e,t,n,o,i,s),y(n)?c="":y(o)?c=`>=${n}.0.0${r} <${+n+1}.0.0-0`:y(i)?c="0"===n?`>=${n}.${o}.0${r} <${n}.${+o+1}.0-0`:`>=${n}.${o}.0${r} <${+n+1}.0.0-0`:s?(a("replaceCaret pr",s),c="0"===n?"0"===o?`>=${n}.${o}.${i}-${s} <${n}.${o}.${+i+1}-0`:`>=${n}.${o}.${i}-${s} <${n}.${+o+1}.0-0`:`>=${n}.${o}.${i}-${s} <${+n+1}.0.0-0`):(a("no pr"),c="0"===n?"0"===o?`>=${n}.${o}.${i}${r} <${n}.${o}.${+i+1}-0`:`>=${n}.${o}.${i}${r} <${n}.${+o+1}.0-0`:`>=${n}.${o}.${i} <${+n+1}.0.0-0`),a("caret return",c),c}))},S=(e,t)=>(a("replaceXRanges",e,t),e.split(/\s+/).map((e=>T(e,t))).join(" ")),T=(e,t)=>{e=e.trim();const n=t.loose?u[l.XRANGELOOSE]:u[l.XRANGE];return e.replace(n,((n,r,o,i,s,c)=>{a("xRange",e,n,r,o,i,s,c);const u=y(o),l=u||y(i),d=l||y(s),h=d;return"="===r&&h&&(r=""),c=t.includePrerelease?"-0":"",u?n=">"===r||"<"===r?"<0.0.0-0":"*":r&&h?(l&&(i=0),s=0,">"===r?(r=">=",l?(o=+o+1,i=0,s=0):(i=+i+1,s=0)):"<="===r&&(r="<",l?o=+o+1:i=+i+1),"<"===r&&(c="-0"),n=`${r+o}.${i}.${s}${c}`):l?n=`>=${o}.0.0${c} <${+o+1}.0.0-0`:d&&(n=`>=${o}.${i}.0${c} <${o}.${+i+1}.0-0`),a("xRange return",n),n}))},E=(e,t)=>(a("replaceStars",e,t),e.trim().replace(u[l.STAR],"")),x=(e,t)=>(a("replaceGTE0",e,t),e.trim().replace(u[t.includePrerelease?l.GTE0PRE:l.GTE0],"")),D=e=>(t,n,r,o,i,s,a,c,u,l,d,h,p)=>`${n=y(r)?"":y(o)?`>=${r}.0.0${e?"-0":""}`:y(i)?`>=${r}.${o}.0${e?"-0":""}`:s?`>=${n}`:`>=${n}${e?"-0":""}`} ${c=y(u)?"":y(l)?`<${+u+1}.0.0-0`:y(d)?`<${u}.${+l+1}.0-0`:h?`<=${u}.${l}.${d}-${h}`:e?`<${u}.${l}.${+d+1}-0`:`<=${c}`}`.trim(),k=(e,t,n)=>{for(let n=0;n<e.length;n++)if(!e[n].test(t))return!1;if(t.prerelease.length&&!n.includePrerelease){for(let n=0;n<e.length;n++)if(a(e[n].semver),e[n].semver!==s.ANY&&e[n].semver.prerelease.length>0){const r=e[n].semver;if(r.major===t.major&&r.minor===t.minor&&r.patch===t.patch)return!0}return!1}return!0}},6376:(e,t,n)=>{const r=n(4225),{MAX_LENGTH:o,MAX_SAFE_INTEGER:i}=n(3295),{re:s,t:a}=n(5765),c=n(2893),{compareIdentifiers:u}=n(6742);class l{constructor(e,t){if(t=c(t),e instanceof l){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease)return e;e=e.version}else if("string"!=typeof e)throw new TypeError(`Invalid Version: ${e}`);if(e.length>o)throw new TypeError(`version is longer than ${o} characters`);r("SemVer",e,t),this.options=t,this.loose=!!t.loose,this.includePrerelease=!!t.includePrerelease;const n=e.trim().match(t.loose?s[a.LOOSE]:s[a.FULL]);if(!n)throw new TypeError(`Invalid Version: ${e}`);if(this.raw=e,this.major=+n[1],this.minor=+n[2],this.patch=+n[3],this.major>i||this.major<0)throw new TypeError("Invalid major version");if(this.minor>i||this.minor<0)throw new TypeError("Invalid minor version");if(this.patch>i||this.patch<0)throw new TypeError("Invalid patch version");n[4]?this.prerelease=n[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<i)return t}return e})):this.prerelease=[],this.build=n[5]?n[5].split("."):[],this.format()}format(){return this.version=`${this.major}.${this.minor}.${this.patch}`,this.prerelease.length&&(this.version+=`-${this.prerelease.join(".")}`),this.version}toString(){return this.version}compare(e){if(r("SemVer.compare",this.version,this.options,e),!(e instanceof l)){if("string"==typeof e&&e===this.version)return 0;e=new l(e,this.options)}return e.version===this.version?0:this.compareMain(e)||this.comparePre(e)}compareMain(e){return e instanceof l||(e=new l(e,this.options)),u(this.major,e.major)||u(this.minor,e.minor)||u(this.patch,e.patch)}comparePre(e){if(e instanceof l||(e=new l(e,this.options)),this.prerelease.length&&!e.prerelease.length)return-1;if(!this.prerelease.length&&e.prerelease.length)return 1;if(!this.prerelease.length&&!e.prerelease.length)return 0;let t=0;do{const n=this.prerelease[t],o=e.prerelease[t];if(r("prerelease compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return u(n,o)}while(++t)}compareBuild(e){e instanceof l||(e=new l(e,this.options));let t=0;do{const n=this.build[t],o=e.build[t];if(r("prerelease compare",t,n,o),void 0===n&&void 0===o)return 0;if(void 0===o)return 1;if(void 0===n)return-1;if(n!==o)return u(n,o)}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0,this.patch=0,this.minor=0,this.major++,this.inc("pre",t);break;case"preminor":this.prerelease.length=0,this.patch=0,this.minor++,this.inc("pre",t);break;case"prepatch":this.prerelease.length=0,this.inc("patch",t),this.inc("pre",t);break;case"prerelease":0===this.prerelease.length&&this.inc("patch",t),this.inc("pre",t);break;case"major":0===this.minor&&0===this.patch&&0!==this.prerelease.length||this.major++,this.minor=0,this.patch=0,this.prerelease=[];break;case"minor":0===this.patch&&0!==this.prerelease.length||this.minor++,this.patch=0,this.prerelease=[];break;case"patch":0===this.prerelease.length&&this.patch++,this.prerelease=[];break;case"pre":if(0===this.prerelease.length)this.prerelease=[0];else{let e=this.prerelease.length;for(;--e>=0;)"number"==typeof this.prerelease[e]&&(this.prerelease[e]++,e=-2);-1===e&&this.prerelease.push(0)}t&&(this.prerelease[0]===t?isNaN(this.prerelease[1])&&(this.prerelease=[t,0]):this.prerelease=[t,0]);break;default:throw new Error(`invalid increment argument: ${e}`)}return this.format(),this.raw=this.version,this}}e.exports=l},3507:(e,t,n)=>{const r=n(3959);e.exports=(e,t)=>{const n=r(e.trim().replace(/^[=v]+/,""),t);return n?n.version:null}},7539:(e,t,n)=>{const r=n(8718),o=n(1194),i=n(1312),s=n(5903),a=n(1544),c=n(2056);e.exports=(e,t,n,u)=>{switch(t){case"===":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e===n;case"!==":return"object"==typeof e&&(e=e.version),"object"==typeof n&&(n=n.version),e!==n;case"":case"=":case"==":return r(e,n,u);case"!=":return o(e,n,u);case">":return i(e,n,u);case">=":return s(e,n,u);case"<":return a(e,n,u);case"<=":return c(e,n,u);default:throw new TypeError(`Invalid operator: ${t}`)}}},9038:(e,t,n)=>{const r=n(6376),o=n(3959),{re:i,t:s}=n(5765);e.exports=(e,t)=>{if(e instanceof r)return e;if("number"==typeof e&&(e=String(e)),"string"!=typeof e)return null;let n=null;if((t=t||{}).rtl){let t;for(;(t=i[s.COERCERTL].exec(e))&&(!n||n.index+n[0].length!==e.length);)n&&t.index+t[0].length===n.index+n[0].length||(n=t),i[s.COERCERTL].lastIndex=t.index+t[1].length+t[2].length;i[s.COERCERTL].lastIndex=-1}else n=e.match(i[s.COERCE]);return null===n?null:o(`${n[2]}.${n[3]||"0"}.${n[4]||"0"}`,t)}},8880:(e,t,n)=>{const r=n(6376);e.exports=(e,t,n)=>{const o=new r(e,n),i=new r(t,n);return o.compare(i)||o.compareBuild(i)}},7880:(e,t,n)=>{const r=n(6269);e.exports=(e,t)=>r(e,t,!0)},6269:(e,t,n)=>{const r=n(6376);e.exports=(e,t,n)=>new r(e,n).compare(new r(t,n))},2378:(e,t,n)=>{const r=n(3959),o=n(8718);e.exports=(e,t)=>{if(o(e,t))return null;{const n=r(e),o=r(t),i=n.prerelease.length||o.prerelease.length,s=i?"pre":"",a=i?"prerelease":"";for(const e in n)if(("major"===e||"minor"===e||"patch"===e)&&n[e]!==o[e])return s+e;return a}}},8718:(e,t,n)=>{const r=n(6269);e.exports=(e,t,n)=>0===r(e,t,n)},1312:(e,t,n)=>{const r=n(6269);e.exports=(e,t,n)=>r(e,t,n)>0},5903:(e,t,n)=>{const r=n(6269);e.exports=(e,t,n)=>r(e,t,n)>=0},253:(e,t,n)=>{const r=n(6376);e.exports=(e,t,n,o)=>{"string"==typeof n&&(o=n,n=void 0);try{return new r(e,n).inc(t,o).version}catch(e){return null}}},1544:(e,t,n)=>{const r=n(6269);e.exports=(e,t,n)=>r(e,t,n)<0},2056:(e,t,n)=>{const r=n(6269);e.exports=(e,t,n)=>r(e,t,n)<=0},8679:(e,t,n)=>{const r=n(6376);e.exports=(e,t)=>new r(e,t).major},7789:(e,t,n)=>{const r=n(6376);e.exports=(e,t)=>new r(e,t).minor},1194:(e,t,n)=>{const r=n(6269);e.exports=(e,t,n)=>0!==r(e,t,n)},3959:(e,t,n)=>{const{MAX_LENGTH:r}=n(3295),{re:o,t:i}=n(5765),s=n(6376),a=n(2893);e.exports=(e,t)=>{if(t=a(t),e instanceof s)return e;if("string"!=typeof e)return null;if(e.length>r)return null;if(!(t.loose?o[i.LOOSE]:o[i.FULL]).test(e))return null;try{return new s(e,t)}catch(e){return null}}},2358:(e,t,n)=>{const r=n(6376);e.exports=(e,t)=>new r(e,t).patch},7559:(e,t,n)=>{const r=n(3959);e.exports=(e,t)=>{const n=r(e,t);return n&&n.prerelease.length?n.prerelease:null}},9795:(e,t,n)=>{const r=n(6269);e.exports=(e,t,n)=>r(t,e,n)},3657:(e,t,n)=>{const r=n(8880);e.exports=(e,t)=>e.sort(((e,n)=>r(n,e,t)))},5712:(e,t,n)=>{const r=n(6902);e.exports=(e,t,n)=>{try{t=new r(t,n)}catch(e){return!1}return t.test(e)}},1100:(e,t,n)=>{const r=n(8880);e.exports=(e,t)=>e.sort(((e,n)=>r(e,n,t)))},6397:(e,t,n)=>{const r=n(3959);e.exports=(e,t)=>{const n=r(e,t);return n?n.version:null}},1249:(e,t,n)=>{const r=n(5765);e.exports={re:r.re,src:r.src,tokens:r.t,SEMVER_SPEC_VERSION:n(3295).SEMVER_SPEC_VERSION,SemVer:n(6376),compareIdentifiers:n(6742).compareIdentifiers,rcompareIdentifiers:n(6742).rcompareIdentifiers,parse:n(3959),valid:n(6397),clean:n(3507),inc:n(253),diff:n(2378),major:n(8679),minor:n(7789),patch:n(2358),prerelease:n(7559),compare:n(6269),rcompare:n(9795),compareLoose:n(7880),compareBuild:n(8880),sort:n(1100),rsort:n(3657),gt:n(1312),lt:n(1544),eq:n(8718),neq:n(1194),gte:n(5903),lte:n(2056),cmp:n(7539),coerce:n(9038),Comparator:n(2257),Range:n(6902),satisfies:n(5712),toComparators:n(1042),maxSatisfying:n(5775),minSatisfying:n(1657),minVersion:n(5316),validRange:n(9042),outside:n(6826),gtr:n(7606),ltr:n(32),intersects:n(2937),simplifyRange:n(7908),subset:n(799)}},3295:e=>{const t=Number.MAX_SAFE_INTEGER||9007199254740991;e.exports={SEMVER_SPEC_VERSION:"2.0.0",MAX_LENGTH:256,MAX_SAFE_INTEGER:t,MAX_SAFE_COMPONENT_LENGTH:16}},4225:e=>{const t="object"==typeof process&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},6742:e=>{const t=/^[0-9]+$/,n=(e,n)=>{const r=t.test(e),o=t.test(n);return r&&o&&(e=+e,n=+n),e===n?0:r&&!o?-1:o&&!r?1:e<n?-1:1};e.exports={compareIdentifiers:n,rcompareIdentifiers:(e,t)=>n(t,e)}},2893:e=>{const t=["includePrerelease","loose","rtl"];e.exports=e=>e?"object"!=typeof e?{loose:!0}:t.filter((t=>e[t])).reduce(((e,t)=>(e[t]=!0,e)),{}):{}},5765:(e,t,n)=>{const{MAX_SAFE_COMPONENT_LENGTH:r}=n(3295),o=n(4225),i=(t=e.exports={}).re=[],s=t.src=[],a=t.t={};let c=0;const u=(e,t,n)=>{const r=c++;o(r,t),a[e]=r,s[r]=t,i[r]=new RegExp(t,n?"g":void 0)};u("NUMERICIDENTIFIER","0|[1-9]\\d*"),u("NUMERICIDENTIFIERLOOSE","[0-9]+"),u("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*"),u("MAINVERSION",`(${s[a.NUMERICIDENTIFIER]})\\.(${s[a.NUMERICIDENTIFIER]})\\.(${s[a.NUMERICIDENTIFIER]})`),u("MAINVERSIONLOOSE",`(${s[a.NUMERICIDENTIFIERLOOSE]})\\.(${s[a.NUMERICIDENTIFIERLOOSE]})\\.(${s[a.NUMERICIDENTIFIERLOOSE]})`),u("PRERELEASEIDENTIFIER",`(?:${s[a.NUMERICIDENTIFIER]}|${s[a.NONNUMERICIDENTIFIER]})`),u("PRERELEASEIDENTIFIERLOOSE",`(?:${s[a.NUMERICIDENTIFIERLOOSE]}|${s[a.NONNUMERICIDENTIFIER]})`),u("PRERELEASE",`(?:-(${s[a.PRERELEASEIDENTIFIER]}(?:\\.${s[a.PRERELEASEIDENTIFIER]})*))`),u("PRERELEASELOOSE",`(?:-?(${s[a.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${s[a.PRERELEASEIDENTIFIERLOOSE]})*))`),u("BUILDIDENTIFIER","[0-9A-Za-z-]+"),u("BUILD",`(?:\\+(${s[a.BUILDIDENTIFIER]}(?:\\.${s[a.BUILDIDENTIFIER]})*))`),u("FULLPLAIN",`v?${s[a.MAINVERSION]}${s[a.PRERELEASE]}?${s[a.BUILD]}?`),u("FULL",`^${s[a.FULLPLAIN]}$`),u("LOOSEPLAIN",`[v=\\s]*${s[a.MAINVERSIONLOOSE]}${s[a.PRERELEASELOOSE]}?${s[a.BUILD]}?`),u("LOOSE",`^${s[a.LOOSEPLAIN]}$`),u("GTLT","((?:<|>)?=?)"),u("XRANGEIDENTIFIERLOOSE",`${s[a.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`),u("XRANGEIDENTIFIER",`${s[a.NUMERICIDENTIFIER]}|x|X|\\*`),u("XRANGEPLAIN",`[v=\\s]*(${s[a.XRANGEIDENTIFIER]})(?:\\.(${s[a.XRANGEIDENTIFIER]})(?:\\.(${s[a.XRANGEIDENTIFIER]})(?:${s[a.PRERELEASE]})?${s[a.BUILD]}?)?)?`),u("XRANGEPLAINLOOSE",`[v=\\s]*(${s[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[a.XRANGEIDENTIFIERLOOSE]})(?:\\.(${s[a.XRANGEIDENTIFIERLOOSE]})(?:${s[a.PRERELEASELOOSE]})?${s[a.BUILD]}?)?)?`),u("XRANGE",`^${s[a.GTLT]}\\s*${s[a.XRANGEPLAIN]}$`),u("XRANGELOOSE",`^${s[a.GTLT]}\\s*${s[a.XRANGEPLAINLOOSE]}$`),u("COERCE",`(^|[^\\d])(\\d{1,${r}})(?:\\.(\\d{1,${r}}))?(?:\\.(\\d{1,${r}}))?(?:$|[^\\d])`),u("COERCERTL",s[a.COERCE],!0),u("LONETILDE","(?:~>?)"),u("TILDETRIM",`(\\s*)${s[a.LONETILDE]}\\s+`,!0),t.tildeTrimReplace="$1~",u("TILDE",`^${s[a.LONETILDE]}${s[a.XRANGEPLAIN]}$`),u("TILDELOOSE",`^${s[a.LONETILDE]}${s[a.XRANGEPLAINLOOSE]}$`),u("LONECARET","(?:\\^)"),u("CARETTRIM",`(\\s*)${s[a.LONECARET]}\\s+`,!0),t.caretTrimReplace="$1^",u("CARET",`^${s[a.LONECARET]}${s[a.XRANGEPLAIN]}$`),u("CARETLOOSE",`^${s[a.LONECARET]}${s[a.XRANGEPLAINLOOSE]}$`),u("COMPARATORLOOSE",`^${s[a.GTLT]}\\s*(${s[a.LOOSEPLAIN]})$|^$`),u("COMPARATOR",`^${s[a.GTLT]}\\s*(${s[a.FULLPLAIN]})$|^$`),u("COMPARATORTRIM",`(\\s*)${s[a.GTLT]}\\s*(${s[a.LOOSEPLAIN]}|${s[a.XRANGEPLAIN]})`,!0),t.comparatorTrimReplace="$1$2$3",u("HYPHENRANGE",`^\\s*(${s[a.XRANGEPLAIN]})\\s+-\\s+(${s[a.XRANGEPLAIN]})\\s*$`),u("HYPHENRANGELOOSE",`^\\s*(${s[a.XRANGEPLAINLOOSE]})\\s+-\\s+(${s[a.XRANGEPLAINLOOSE]})\\s*$`),u("STAR","(<|>)?=?\\s*\\*"),u("GTE0","^\\s*>=\\s*0.0.0\\s*$"),u("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")},7606:(e,t,n)=>{const r=n(6826);e.exports=(e,t,n)=>r(e,t,">",n)},2937:(e,t,n)=>{const r=n(6902);e.exports=(e,t,n)=>(e=new r(e,n),t=new r(t,n),e.intersects(t))},32:(e,t,n)=>{const r=n(6826);e.exports=(e,t,n)=>r(e,t,"<",n)},5775:(e,t,n)=>{const r=n(6376),o=n(6902);e.exports=(e,t,n)=>{let i=null,s=null,a=null;try{a=new o(t,n)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(i&&-1!==s.compare(e)||(i=e,s=new r(i,n)))})),i}},1657:(e,t,n)=>{const r=n(6376),o=n(6902);e.exports=(e,t,n)=>{let i=null,s=null,a=null;try{a=new o(t,n)}catch(e){return null}return e.forEach((e=>{a.test(e)&&(i&&1!==s.compare(e)||(i=e,s=new r(i,n)))})),i}},5316:(e,t,n)=>{const r=n(6376),o=n(6902),i=n(1312);e.exports=(e,t)=>{e=new o(e,t);let n=new r("0.0.0");if(e.test(n))return n;if(n=new r("0.0.0-0"),e.test(n))return n;n=null;for(let t=0;t<e.set.length;++t){const o=e.set[t];let s=null;o.forEach((e=>{const t=new r(e.semver.version);switch(e.operator){case">":0===t.prerelease.length?t.patch++:t.prerelease.push(0),t.raw=t.format();case"":case">=":s&&!i(t,s)||(s=t);break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}})),!s||n&&!i(n,s)||(n=s)}return n&&e.test(n)?n:null}},6826:(e,t,n)=>{const r=n(6376),o=n(2257),{ANY:i}=o,s=n(6902),a=n(5712),c=n(1312),u=n(1544),l=n(2056),d=n(5903);e.exports=(e,t,n,h)=>{let p,f,m,g,v;switch(e=new r(e,h),t=new s(t,h),n){case">":p=c,f=l,m=u,g=">",v=">=";break;case"<":p=u,f=d,m=c,g="<",v="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(a(e,t,h))return!1;for(let n=0;n<t.set.length;++n){const r=t.set[n];let s=null,a=null;if(r.forEach((e=>{e.semver===i&&(e=new o(">=0.0.0")),s=s||e,a=a||e,p(e.semver,s.semver,h)?s=e:m(e.semver,a.semver,h)&&(a=e)})),s.operator===g||s.operator===v)return!1;if((!a.operator||a.operator===g)&&f(e,a.semver))return!1;if(a.operator===v&&m(e,a.semver))return!1}return!0}},7908:(e,t,n)=>{const r=n(5712),o=n(6269);e.exports=(e,t,n)=>{const i=[];let s=null,a=null;const c=e.sort(((e,t)=>o(e,t,n)));for(const e of c)r(e,t,n)?(a=e,s||(s=e)):(a&&i.push([s,a]),a=null,s=null);s&&i.push([s,null]);const u=[];for(const[e,t]of i)e===t?u.push(e):t||e!==c[0]?t?e===c[0]?u.push(`<=${t}`):u.push(`${e} - ${t}`):u.push(`>=${e}`):u.push("*");const l=u.join(" || "),d="string"==typeof t.raw?t.raw:String(t);return l.length<d.length?l:t}},799:(e,t,n)=>{const r=n(6902),o=n(2257),{ANY:i}=o,s=n(5712),a=n(6269),c=(e,t,n)=>{if(e===t)return!0;if(1===e.length&&e[0].semver===i){if(1===t.length&&t[0].semver===i)return!0;e=n.includePrerelease?[new o(">=0.0.0-0")]:[new o(">=0.0.0")]}if(1===t.length&&t[0].semver===i){if(n.includePrerelease)return!0;t=[new o(">=0.0.0")]}const r=new Set;let c,d,h,p,f,m,g;for(const t of e)">"===t.operator||">="===t.operator?c=u(c,t,n):"<"===t.operator||"<="===t.operator?d=l(d,t,n):r.add(t.semver);if(r.size>1)return null;if(c&&d){if(h=a(c.semver,d.semver,n),h>0)return null;if(0===h&&(">="!==c.operator||"<="!==d.operator))return null}for(const e of r){if(c&&!s(e,String(c),n))return null;if(d&&!s(e,String(d),n))return null;for(const r of t)if(!s(e,String(r),n))return!1;return!0}let v=!(!d||n.includePrerelease||!d.semver.prerelease.length)&&d.semver,y=!(!c||n.includePrerelease||!c.semver.prerelease.length)&&c.semver;v&&1===v.prerelease.length&&"<"===d.operator&&0===v.prerelease[0]&&(v=!1);for(const e of t){if(g=g||">"===e.operator||">="===e.operator,m=m||"<"===e.operator||"<="===e.operator,c)if(y&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===y.major&&e.semver.minor===y.minor&&e.semver.patch===y.patch&&(y=!1),">"===e.operator||">="===e.operator){if(p=u(c,e,n),p===e&&p!==c)return!1}else if(">="===c.operator&&!s(c.semver,String(e),n))return!1;if(d)if(v&&e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===v.major&&e.semver.minor===v.minor&&e.semver.patch===v.patch&&(v=!1),"<"===e.operator||"<="===e.operator){if(f=l(d,e,n),f===e&&f!==d)return!1}else if("<="===d.operator&&!s(d.semver,String(e),n))return!1;if(!e.operator&&(d||c)&&0!==h)return!1}return!(c&&m&&!d&&0!==h||d&&g&&!c&&0!==h||y||v)},u=(e,t,n)=>{if(!e)return t;const r=a(e.semver,t.semver,n);return r>0?e:r<0||">"===t.operator&&">="===e.operator?t:e},l=(e,t,n)=>{if(!e)return t;const r=a(e.semver,t.semver,n);return r<0?e:r>0||"<"===t.operator&&"<="===e.operator?t:e};e.exports=(e,t,n={})=>{if(e===t)return!0;e=new r(e,n),t=new r(t,n);let o=!1;e:for(const r of e.set){for(const e of t.set){const t=c(r,e,n);if(o=o||null!==t,t)continue e}if(o)return!1}return!0}},1042:(e,t,n)=>{const r=n(6902);e.exports=(e,t)=>new r(e,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" ")))},9042:(e,t,n)=>{const r=n(6902);e.exports=(e,t)=>{try{return new r(e,t).range||"*"}catch(e){return null}}},2063:(e,t,n)=>{"use strict";const r=n(9395);e.exports=(e="")=>{const t=e.match(r);if(!t)return null;const[n,o]=t[0].replace(/#! ?/,"").split(" "),i=n.split("/").pop();return"env"===i?o:o?`${i} ${o}`:i}},9395:e=>{"use strict";e.exports=/^#!(.*)/},3787:function(e,t,n){var r;(function(){function o(e){"use strict";var t={omitExtraWLInCodeBlocks:{defaultValue:!1,describe:"Omit the default extra whiteline added to code blocks",type:"boolean"},noHeaderId:{defaultValue:!1,describe:"Turn on/off generated header id",type:"boolean"},prefixHeaderId:{defaultValue:!1,describe:"Add a prefix to the generated header ids. Passing a string will prefix that string to the header id. Setting to true will add a generic 'section-' prefix",type:"string"},rawPrefixHeaderId:{defaultValue:!1,describe:'Setting this option to true will prevent showdown from modifying the prefix. This might result in malformed IDs (if, for instance, the " char is used in the prefix)',type:"boolean"},ghCompatibleHeaderId:{defaultValue:!1,describe:"Generate header ids compatible with github style (spaces are replaced with dashes, a bunch of non alphanumeric chars are removed)",type:"boolean"},rawHeaderId:{defaultValue:!1,describe:"Remove only spaces, ' and \" from generated header ids (including prefixes), replacing them with dashes (-). WARNING: This might result in malformed ids",type:"boolean"},headerLevelStart:{defaultValue:!1,describe:"The header blocks level start",type:"integer"},parseImgDimensions:{defaultValue:!1,describe:"Turn on/off image dimension parsing",type:"boolean"},simplifiedAutoLink:{defaultValue:!1,describe:"Turn on/off GFM autolink style",type:"boolean"},excludeTrailingPunctuationFromURLs:{defaultValue:!1,describe:"Excludes trailing punctuation from links generated with autoLinking",type:"boolean"},literalMidWordUnderscores:{defaultValue:!1,describe:"Parse midword underscores as literal underscores",type:"boolean"},literalMidWordAsterisks:{defaultValue:!1,describe:"Parse midword asterisks as literal asterisks",type:"boolean"},strikethrough:{defaultValue:!1,describe:"Turn on/off strikethrough support",type:"boolean"},tables:{defaultValue:!1,describe:"Turn on/off tables support",type:"boolean"},tablesHeaderId:{defaultValue:!1,describe:"Add an id to table headers",type:"boolean"},ghCodeBlocks:{defaultValue:!0,describe:"Turn on/off GFM fenced code blocks support",type:"boolean"},tasklists:{defaultValue:!1,describe:"Turn on/off GFM tasklist support",type:"boolean"},smoothLivePreview:{defaultValue:!1,describe:"Prevents weird effects in live previews due to incomplete input",type:"boolean"},smartIndentationFix:{defaultValue:!1,description:"Tries to smartly fix indentation in es6 strings",type:"boolean"},disableForced4SpacesIndentedSublists:{defaultValue:!1,description:"Disables the requirement of indenting nested sublists by 4 spaces",type:"boolean"},simpleLineBreaks:{defaultValue:!1,description:"Parses simple line breaks as <br> (GFM Style)",type:"boolean"},requireSpaceBeforeHeadingText:{defaultValue:!1,description:"Makes adding a space between `#` and the header text mandatory (GFM Style)",type:"boolean"},ghMentions:{defaultValue:!1,description:"Enables github @mentions",type:"boolean"},ghMentionsLink:{defaultValue:"https://github.com/{u}",description:"Changes the link generated by @mentions. Only applies if ghMentions option is enabled.",type:"string"},encodeEmails:{defaultValue:!0,description:"Encode e-mail addresses through the use of Character Entities, transforming ASCII e-mail addresses into its equivalent decimal entities",type:"boolean"},openLinksInNewWindow:{defaultValue:!1,description:"Open all links in new windows",type:"boolean"},backslashEscapesHTMLTags:{defaultValue:!1,description:"Support for HTML Tag escaping. ex: <div>foo</div>",type:"boolean"},emoji:{defaultValue:!1,description:"Enable emoji support. Ex: `this is a :smile: emoji`",type:"boolean"},underline:{defaultValue:!1,description:"Enable support for underline. Syntax is double or triple underscores: `__underline word__`. With this option enabled, underscores no longer parses into `<em>` and `<strong>`",type:"boolean"},completeHTMLDocument:{defaultValue:!1,description:"Outputs a complete html document, including `<html>`, `<head>` and `<body>` tags",type:"boolean"},metadata:{defaultValue:!1,description:"Enable support for document metadata (defined at the top of the document between `«««` and `»»»` or between `---` and `---`).",type:"boolean"},splitAdjacentBlockquotes:{defaultValue:!1,description:"Split adjacent blockquote blocks",type:"boolean"}};if(!1===e)return JSON.parse(JSON.stringify(t));var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r].defaultValue);return n}var i={},s={},a={},c=o(!0),u="vanilla",l={github:{omitExtraWLInCodeBlocks:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,disableForced4SpacesIndentedSublists:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghCompatibleHeaderId:!0,ghMentions:!0,backslashEscapesHTMLTags:!0,emoji:!0,splitAdjacentBlockquotes:!0},original:{noHeaderId:!0,ghCodeBlocks:!1},ghost:{omitExtraWLInCodeBlocks:!0,parseImgDimensions:!0,simplifiedAutoLink:!0,excludeTrailingPunctuationFromURLs:!0,literalMidWordUnderscores:!0,strikethrough:!0,tables:!0,tablesHeaderId:!0,ghCodeBlocks:!0,tasklists:!0,smoothLivePreview:!0,simpleLineBreaks:!0,requireSpaceBeforeHeadingText:!0,ghMentions:!1,encodeEmails:!0},vanilla:o(!0),allOn:function(){"use strict";var e=o(!0),t={};for(var n in e)e.hasOwnProperty(n)&&(t[n]=!0);return t}()};function d(e,t){"use strict";var n=t?"Error in "+t+" extension->":"Error in unnamed extension",r={valid:!0,error:""};i.helper.isArray(e)||(e=[e]);for(var o=0;o<e.length;++o){var s=n+" sub-extension "+o+": ",a=e[o];if("object"!=typeof a)return r.valid=!1,r.error=s+"must be an object, but "+typeof a+" given",r;if(!i.helper.isString(a.type))return r.valid=!1,r.error=s+'property "type" must be a string, but '+typeof a.type+" given",r;var c=a.type=a.type.toLowerCase();if("language"===c&&(c=a.type="lang"),"html"===c&&(c=a.type="output"),"lang"!==c&&"output"!==c&&"listener"!==c)return r.valid=!1,r.error=s+"type "+c+' is not recognized. Valid values: "lang/language", "output/html" or "listener"',r;if("listener"===c){if(i.helper.isUndefined(a.listeners))return r.valid=!1,r.error=s+'. Extensions of type "listener" must have a property called "listeners"',r}else if(i.helper.isUndefined(a.filter)&&i.helper.isUndefined(a.regex))return r.valid=!1,r.error=s+c+' extensions must define either a "regex" property or a "filter" method',r;if(a.listeners){if("object"!=typeof a.listeners)return r.valid=!1,r.error=s+'"listeners" property must be an object but '+typeof a.listeners+" given",r;for(var u in a.listeners)if(a.listeners.hasOwnProperty(u)&&"function"!=typeof a.listeners[u])return r.valid=!1,r.error=s+'"listeners" property must be an hash of [event name]: [callback]. listeners.'+u+" must be a function but "+typeof a.listeners[u]+" given",r}if(a.filter){if("function"!=typeof a.filter)return r.valid=!1,r.error=s+'"filter" must be a function, but '+typeof a.filter+" given",r}else if(a.regex){if(i.helper.isString(a.regex)&&(a.regex=new RegExp(a.regex,"g")),!(a.regex instanceof RegExp))return r.valid=!1,r.error=s+'"regex" property must either be a string or a RegExp object, but '+typeof a.regex+" given",r;if(i.helper.isUndefined(a.replace))return r.valid=!1,r.error=s+'"regex" extensions must implement a replace string or function',r}}return r}function h(e,t){"use strict";return"¨E"+t.charCodeAt(0)+"E"}i.helper={},i.extensions={},i.setOption=function(e,t){"use strict";return c[e]=t,this},i.getOption=function(e){"use strict";return c[e]},i.getOptions=function(){"use strict";return c},i.resetOptions=function(){"use strict";c=o(!0)},i.setFlavor=function(e){"use strict";if(!l.hasOwnProperty(e))throw Error(e+" flavor was not found");i.resetOptions();var t=l[e];for(var n in u=e,t)t.hasOwnProperty(n)&&(c[n]=t[n])},i.getFlavor=function(){"use strict";return u},i.getFlavorOptions=function(e){"use strict";if(l.hasOwnProperty(e))return l[e]},i.getDefaultOptions=function(e){"use strict";return o(e)},i.subParser=function(e,t){"use strict";if(i.helper.isString(e)){if(void 0===t){if(s.hasOwnProperty(e))return s[e];throw Error("SubParser named "+e+" not registered!")}s[e]=t}},i.extension=function(e,t){"use strict";if(!i.helper.isString(e))throw Error("Extension 'name' must be a string");if(e=i.helper.stdExtName(e),i.helper.isUndefined(t)){if(!a.hasOwnProperty(e))throw Error("Extension named "+e+" is not registered!");return a[e]}"function"==typeof t&&(t=t()),i.helper.isArray(t)||(t=[t]);var n=d(t,e);if(!n.valid)throw Error(n.error);a[e]=t},i.getAllExtensions=function(){"use strict";return a},i.removeExtension=function(e){"use strict";delete a[e]},i.resetExtensions=function(){"use strict";a={}},i.validateExtension=function(e){"use strict";var t=d(e,null);return!!t.valid||(console.warn(t.error),!1)},i.hasOwnProperty("helper")||(i.helper={}),i.helper.isString=function(e){"use strict";return"string"==typeof e||e instanceof String},i.helper.isFunction=function(e){"use strict";return e&&"[object Function]"==={}.toString.call(e)},i.helper.isArray=function(e){"use strict";return Array.isArray(e)},i.helper.isUndefined=function(e){"use strict";return void 0===e},i.helper.forEach=function(e,t){"use strict";if(i.helper.isUndefined(e))throw new Error("obj param is required");if(i.helper.isUndefined(t))throw new Error("callback param is required");if(!i.helper.isFunction(t))throw new Error("callback param must be a function/closure");if("function"==typeof e.forEach)e.forEach(t);else if(i.helper.isArray(e))for(var n=0;n<e.length;n++)t(e[n],n,e);else{if("object"!=typeof e)throw new Error("obj does not seem to be an array or an iterable object");for(var r in e)e.hasOwnProperty(r)&&t(e[r],r,e)}},i.helper.stdExtName=function(e){"use strict";return e.replace(/[_?*+\/\\.^-]/g,"").replace(/\s/g,"").toLowerCase()},i.helper.escapeCharactersCallback=h,i.helper.escapeCharacters=function(e,t,n){"use strict";var r="(["+t.replace(/([\[\]\\])/g,"\\$1")+"])";n&&(r="\\\\"+r);var o=new RegExp(r,"g");return e.replace(o,h)},i.helper.unescapeHTMLEntities=function(e){"use strict";return e.replace(/&quot;/g,'"').replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&")};var p=function(e,t,n,r){"use strict";var o,i,s,a,c,u=r||"",l=u.indexOf("g")>-1,d=new RegExp(t+"|"+n,"g"+u.replace(/g/g,"")),h=new RegExp(t,u.replace(/g/g,"")),p=[];do{for(o=0;s=d.exec(e);)if(h.test(s[0]))o++||(a=(i=d.lastIndex)-s[0].length);else if(o&&!--o){c=s.index+s[0].length;var f={left:{start:a,end:i},match:{start:i,end:s.index},right:{start:s.index,end:c},wholeMatch:{start:a,end:c}};if(p.push(f),!l)return p}}while(o&&(d.lastIndex=i));return p};i.helper.matchRecursiveRegExp=function(e,t,n,r){"use strict";for(var o=p(e,t,n,r),i=[],s=0;s<o.length;++s)i.push([e.slice(o[s].wholeMatch.start,o[s].wholeMatch.end),e.slice(o[s].match.start,o[s].match.end),e.slice(o[s].left.start,o[s].left.end),e.slice(o[s].right.start,o[s].right.end)]);return i},i.helper.replaceRecursiveRegExp=function(e,t,n,r,o){"use strict";if(!i.helper.isFunction(t)){var s=t;t=function(){return s}}var a=p(e,n,r,o),c=e,u=a.length;if(u>0){var l=[];0!==a[0].wholeMatch.start&&l.push(e.slice(0,a[0].wholeMatch.start));for(var d=0;d<u;++d)l.push(t(e.slice(a[d].wholeMatch.start,a[d].wholeMatch.end),e.slice(a[d].match.start,a[d].match.end),e.slice(a[d].left.start,a[d].left.end),e.slice(a[d].right.start,a[d].right.end))),d<u-1&&l.push(e.slice(a[d].wholeMatch.end,a[d+1].wholeMatch.start));a[u-1].wholeMatch.end<e.length&&l.push(e.slice(a[u-1].wholeMatch.end)),c=l.join("")}return c},i.helper.regexIndexOf=function(e,t,n){"use strict";if(!i.helper.isString(e))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";if(t instanceof RegExp==0)throw"InvalidArgumentError: second parameter of showdown.helper.regexIndexOf function must be an instance of RegExp";var r=e.substring(n||0).search(t);return r>=0?r+(n||0):r},i.helper.splitAtIndex=function(e,t){"use strict";if(!i.helper.isString(e))throw"InvalidArgumentError: first parameter of showdown.helper.regexIndexOf function must be a string";return[e.substring(0,t),e.substring(t)]},i.helper.encodeEmailAddress=function(e){"use strict";var t=[function(e){return"&#"+e.charCodeAt(0)+";"},function(e){return"&#x"+e.charCodeAt(0).toString(16)+";"},function(e){return e}];return e.replace(/./g,(function(e){if("@"===e)e=t[Math.floor(2*Math.random())](e);else{var n=Math.random();e=n>.9?t[2](e):n>.45?t[1](e):t[0](e)}return e}))},i.helper.padEnd=function(e,t,n){"use strict";return t>>=0,n=String(n||" "),e.length>t?String(e):((t-=e.length)>n.length&&(n+=n.repeat(t/n.length)),String(e)+n.slice(0,t))},"undefined"==typeof console&&(console={warn:function(e){"use strict";alert(e)},log:function(e){"use strict";alert(e)},error:function(e){"use strict";throw e}}),i.helper.regexes={asteriskDashAndColon:/([*_:~])/g},i.helper.emojis={"+1":"👍","-1":"👎",100:"💯",1234:"🔢","1st_place_medal":"🥇","2nd_place_medal":"🥈","3rd_place_medal":"🥉","8ball":"🎱",a:"🅰️",ab:"🆎",abc:"🔤",abcd:"🔡",accept:"🉑",aerial_tramway:"🚡",airplane:"✈️",alarm_clock:"⏰",alembic:"⚗️",alien:"👽",ambulance:"🚑",amphora:"🏺",anchor:"⚓️",angel:"👼",anger:"💢",angry:"😠",anguished:"😧",ant:"🐜",apple:"🍎",aquarius:"♒️",aries:"♈️",arrow_backward:"◀️",arrow_double_down:"⏬",arrow_double_up:"⏫",arrow_down:"⬇️",arrow_down_small:"🔽",arrow_forward:"▶️",arrow_heading_down:"⤵️",arrow_heading_up:"⤴️",arrow_left:"⬅️",arrow_lower_left:"↙️",arrow_lower_right:"↘️",arrow_right:"➡️",arrow_right_hook:"↪️",arrow_up:"⬆️",arrow_up_down:"↕️",arrow_up_small:"🔼",arrow_upper_left:"↖️",arrow_upper_right:"↗️",arrows_clockwise:"🔃",arrows_counterclockwise:"🔄",art:"🎨",articulated_lorry:"🚛",artificial_satellite:"🛰",astonished:"😲",athletic_shoe:"👟",atm:"🏧",atom_symbol:"⚛️",avocado:"🥑",b:"🅱️",baby:"👶",baby_bottle:"🍼",baby_chick:"🐤",baby_symbol:"🚼",back:"🔙",bacon:"🥓",badminton:"🏸",baggage_claim:"🛄",baguette_bread:"🥖",balance_scale:"⚖️",balloon:"🎈",ballot_box:"🗳",ballot_box_with_check:"☑️",bamboo:"🎍",banana:"🍌",bangbang:"‼️",bank:"🏦",bar_chart:"📊",barber:"💈",baseball:"⚾️",basketball:"🏀",basketball_man:"⛹️",basketball_woman:"⛹️&zwj;♀️",bat:"🦇",bath:"🛀",bathtub:"🛁",battery:"🔋",beach_umbrella:"🏖",bear:"🐻",bed:"🛏",bee:"🐝",beer:"🍺",beers:"🍻",beetle:"🐞",beginner:"🔰",bell:"🔔",bellhop_bell:"🛎",bento:"🍱",biking_man:"🚴",bike:"🚲",biking_woman:"🚴&zwj;♀️",bikini:"👙",biohazard:"☣️",bird:"🐦",birthday:"🎂",black_circle:"⚫️",black_flag:"🏴",black_heart:"🖤",black_joker:"🃏",black_large_square:"⬛️",black_medium_small_square:"◾️",black_medium_square:"◼️",black_nib:"✒️",black_small_square:"▪️",black_square_button:"🔲",blonde_man:"👱",blonde_woman:"👱&zwj;♀️",blossom:"🌼",blowfish:"🐡",blue_book:"📘",blue_car:"🚙",blue_heart:"💙",blush:"😊",boar:"🐗",boat:"⛵️",bomb:"💣",book:"📖",bookmark:"🔖",bookmark_tabs:"📑",books:"📚",boom:"💥",boot:"👢",bouquet:"💐",bowing_man:"🙇",bow_and_arrow:"🏹",bowing_woman:"🙇&zwj;♀️",bowling:"🎳",boxing_glove:"🥊",boy:"👦",bread:"🍞",bride_with_veil:"👰",bridge_at_night:"🌉",briefcase:"💼",broken_heart:"💔",bug:"🐛",building_construction:"🏗",bulb:"💡",bullettrain_front:"🚅",bullettrain_side:"🚄",burrito:"🌯",bus:"🚌",business_suit_levitating:"🕴",busstop:"🚏",bust_in_silhouette:"👤",busts_in_silhouette:"👥",butterfly:"🦋",cactus:"🌵",cake:"🍰",calendar:"📆",call_me_hand:"🤙",calling:"📲",camel:"🐫",camera:"📷",camera_flash:"📸",camping:"🏕",cancer:"♋️",candle:"🕯",candy:"🍬",canoe:"🛶",capital_abcd:"🔠",capricorn:"♑️",car:"🚗",card_file_box:"🗃",card_index:"📇",card_index_dividers:"🗂",carousel_horse:"🎠",carrot:"🥕",cat:"🐱",cat2:"🐈",cd:"💿",chains:"⛓",champagne:"🍾",chart:"💹",chart_with_downwards_trend:"📉",chart_with_upwards_trend:"📈",checkered_flag:"🏁",cheese:"🧀",cherries:"🍒",cherry_blossom:"🌸",chestnut:"🌰",chicken:"🐔",children_crossing:"🚸",chipmunk:"🐿",chocolate_bar:"🍫",christmas_tree:"🎄",church:"⛪️",cinema:"🎦",circus_tent:"🎪",city_sunrise:"🌇",city_sunset:"🌆",cityscape:"🏙",cl:"🆑",clamp:"🗜",clap:"👏",clapper:"🎬",classical_building:"🏛",clinking_glasses:"🥂",clipboard:"📋",clock1:"🕐",clock10:"🕙",clock1030:"🕥",clock11:"🕚",clock1130:"🕦",clock12:"🕛",clock1230:"🕧",clock130:"🕜",clock2:"🕑",clock230:"🕝",clock3:"🕒",clock330:"🕞",clock4:"🕓",clock430:"🕟",clock5:"🕔",clock530:"🕠",clock6:"🕕",clock630:"🕡",clock7:"🕖",clock730:"🕢",clock8:"🕗",clock830:"🕣",clock9:"🕘",clock930:"🕤",closed_book:"📕",closed_lock_with_key:"🔐",closed_umbrella:"🌂",cloud:"☁️",cloud_with_lightning:"🌩",cloud_with_lightning_and_rain:"⛈",cloud_with_rain:"🌧",cloud_with_snow:"🌨",clown_face:"🤡",clubs:"♣️",cocktail:"🍸",coffee:"☕️",coffin:"⚰️",cold_sweat:"😰",comet:"☄️",computer:"💻",computer_mouse:"🖱",confetti_ball:"🎊",confounded:"😖",confused:"😕",congratulations:"㊗️",construction:"🚧",construction_worker_man:"👷",construction_worker_woman:"👷&zwj;♀️",control_knobs:"🎛",convenience_store:"🏪",cookie:"🍪",cool:"🆒",policeman:"👮",copyright:"©️",corn:"🌽",couch_and_lamp:"🛋",couple:"👫",couple_with_heart_woman_man:"💑",couple_with_heart_man_man:"👨&zwj;❤️&zwj;👨",couple_with_heart_woman_woman:"👩&zwj;❤️&zwj;👩",couplekiss_man_man:"👨&zwj;❤️&zwj;💋&zwj;👨",couplekiss_man_woman:"💏",couplekiss_woman_woman:"👩&zwj;❤️&zwj;💋&zwj;👩",cow:"🐮",cow2:"🐄",cowboy_hat_face:"🤠",crab:"🦀",crayon:"🖍",credit_card:"💳",crescent_moon:"🌙",cricket:"🏏",crocodile:"🐊",croissant:"🥐",crossed_fingers:"🤞",crossed_flags:"🎌",crossed_swords:"⚔️",crown:"👑",cry:"😢",crying_cat_face:"😿",crystal_ball:"🔮",cucumber:"🥒",cupid:"💘",curly_loop:"➰",currency_exchange:"💱",curry:"🍛",custard:"🍮",customs:"🛃",cyclone:"🌀",dagger:"🗡",dancer:"💃",dancing_women:"👯",dancing_men:"👯&zwj;♂️",dango:"🍡",dark_sunglasses:"🕶",dart:"🎯",dash:"💨",date:"📅",deciduous_tree:"🌳",deer:"🦌",department_store:"🏬",derelict_house:"🏚",desert:"🏜",desert_island:"🏝",desktop_computer:"🖥",male_detective:"🕵️",diamond_shape_with_a_dot_inside:"💠",diamonds:"♦️",disappointed:"😞",disappointed_relieved:"😥",dizzy:"💫",dizzy_face:"😵",do_not_litter:"🚯",dog:"🐶",dog2:"🐕",dollar:"💵",dolls:"🎎",dolphin:"🐬",door:"🚪",doughnut:"🍩",dove:"🕊",dragon:"🐉",dragon_face:"🐲",dress:"👗",dromedary_camel:"🐪",drooling_face:"🤤",droplet:"💧",drum:"🥁",duck:"🦆",dvd:"📀","e-mail":"📧",eagle:"🦅",ear:"👂",ear_of_rice:"🌾",earth_africa:"🌍",earth_americas:"🌎",earth_asia:"🌏",egg:"🥚",eggplant:"🍆",eight_pointed_black_star:"✴️",eight_spoked_asterisk:"✳️",electric_plug:"🔌",elephant:"🐘",email:"✉️",end:"🔚",envelope_with_arrow:"📩",euro:"💶",european_castle:"🏰",european_post_office:"🏤",evergreen_tree:"🌲",exclamation:"❗️",expressionless:"😑",eye:"👁",eye_speech_bubble:"👁&zwj;🗨",eyeglasses:"👓",eyes:"👀",face_with_head_bandage:"🤕",face_with_thermometer:"🤒",fist_oncoming:"👊",factory:"🏭",fallen_leaf:"🍂",family_man_woman_boy:"👪",family_man_boy:"👨&zwj;👦",family_man_boy_boy:"👨&zwj;👦&zwj;👦",family_man_girl:"👨&zwj;👧",family_man_girl_boy:"👨&zwj;👧&zwj;👦",family_man_girl_girl:"👨&zwj;👧&zwj;👧",family_man_man_boy:"👨&zwj;👨&zwj;👦",family_man_man_boy_boy:"👨&zwj;👨&zwj;👦&zwj;👦",family_man_man_girl:"👨&zwj;👨&zwj;👧",family_man_man_girl_boy:"👨&zwj;👨&zwj;👧&zwj;👦",family_man_man_girl_girl:"👨&zwj;👨&zwj;👧&zwj;👧",family_man_woman_boy_boy:"👨&zwj;👩&zwj;👦&zwj;👦",family_man_woman_girl:"👨&zwj;👩&zwj;👧",family_man_woman_girl_boy:"👨&zwj;👩&zwj;👧&zwj;👦",family_man_woman_girl_girl:"👨&zwj;👩&zwj;👧&zwj;👧",family_woman_boy:"👩&zwj;👦",family_woman_boy_boy:"👩&zwj;👦&zwj;👦",family_woman_girl:"👩&zwj;👧",family_woman_girl_boy:"👩&zwj;👧&zwj;👦",family_woman_girl_girl:"👩&zwj;👧&zwj;👧",family_woman_woman_boy:"👩&zwj;👩&zwj;👦",family_woman_woman_boy_boy:"👩&zwj;👩&zwj;👦&zwj;👦",family_woman_woman_girl:"👩&zwj;👩&zwj;👧",family_woman_woman_girl_boy:"👩&zwj;👩&zwj;👧&zwj;👦",family_woman_woman_girl_girl:"👩&zwj;👩&zwj;👧&zwj;👧",fast_forward:"⏩",fax:"📠",fearful:"😨",feet:"🐾",female_detective:"🕵️&zwj;♀️",ferris_wheel:"🎡",ferry:"⛴",field_hockey:"🏑",file_cabinet:"🗄",file_folder:"📁",film_projector:"📽",film_strip:"🎞",fire:"🔥",fire_engine:"🚒",fireworks:"🎆",first_quarter_moon:"🌓",first_quarter_moon_with_face:"🌛",fish:"🐟",fish_cake:"🍥",fishing_pole_and_fish:"🎣",fist_raised:"✊",fist_left:"🤛",fist_right:"🤜",flags:"🎏",flashlight:"🔦",fleur_de_lis:"⚜️",flight_arrival:"🛬",flight_departure:"🛫",floppy_disk:"💾",flower_playing_cards:"🎴",flushed:"😳",fog:"🌫",foggy:"🌁",football:"🏈",footprints:"👣",fork_and_knife:"🍴",fountain:"⛲️",fountain_pen:"🖋",four_leaf_clover:"🍀",fox_face:"🦊",framed_picture:"🖼",free:"🆓",fried_egg:"🍳",fried_shrimp:"🍤",fries:"🍟",frog:"🐸",frowning:"😦",frowning_face:"☹️",frowning_man:"🙍&zwj;♂️",frowning_woman:"🙍",middle_finger:"🖕",fuelpump:"⛽️",full_moon:"🌕",full_moon_with_face:"🌝",funeral_urn:"⚱️",game_die:"🎲",gear:"⚙️",gem:"💎",gemini:"♊️",ghost:"👻",gift:"🎁",gift_heart:"💝",girl:"👧",globe_with_meridians:"🌐",goal_net:"🥅",goat:"🐐",golf:"⛳️",golfing_man:"🏌️",golfing_woman:"🏌️&zwj;♀️",gorilla:"🦍",grapes:"🍇",green_apple:"🍏",green_book:"📗",green_heart:"💚",green_salad:"🥗",grey_exclamation:"❕",grey_question:"❔",grimacing:"😬",grin:"😁",grinning:"😀",guardsman:"💂",guardswoman:"💂&zwj;♀️",guitar:"🎸",gun:"🔫",haircut_woman:"💇",haircut_man:"💇&zwj;♂️",hamburger:"🍔",hammer:"🔨",hammer_and_pick:"⚒",hammer_and_wrench:"🛠",hamster:"🐹",hand:"✋",handbag:"👜",handshake:"🤝",hankey:"💩",hatched_chick:"🐥",hatching_chick:"🐣",headphones:"🎧",hear_no_evil:"🙉",heart:"❤️",heart_decoration:"💟",heart_eyes:"😍",heart_eyes_cat:"😻",heartbeat:"💓",heartpulse:"💗",hearts:"♥️",heavy_check_mark:"✔️",heavy_division_sign:"➗",heavy_dollar_sign:"💲",heavy_heart_exclamation:"❣️",heavy_minus_sign:"➖",heavy_multiplication_x:"✖️",heavy_plus_sign:"➕",helicopter:"🚁",herb:"🌿",hibiscus:"🌺",high_brightness:"🔆",high_heel:"👠",hocho:"🔪",hole:"🕳",honey_pot:"🍯",horse:"🐴",horse_racing:"🏇",hospital:"🏥",hot_pepper:"🌶",hotdog:"🌭",hotel:"🏨",hotsprings:"♨️",hourglass:"⌛️",hourglass_flowing_sand:"⏳",house:"🏠",house_with_garden:"🏡",houses:"🏘",hugs:"🤗",hushed:"😯",ice_cream:"🍨",ice_hockey:"🏒",ice_skate:"⛸",icecream:"🍦",id:"🆔",ideograph_advantage:"🉐",imp:"👿",inbox_tray:"📥",incoming_envelope:"📨",tipping_hand_woman:"💁",information_source:"ℹ️",innocent:"😇",interrobang:"⁉️",iphone:"📱",izakaya_lantern:"🏮",jack_o_lantern:"🎃",japan:"🗾",japanese_castle:"🏯",japanese_goblin:"👺",japanese_ogre:"👹",jeans:"👖",joy:"😂",joy_cat:"😹",joystick:"🕹",kaaba:"🕋",key:"🔑",keyboard:"⌨️",keycap_ten:"🔟",kick_scooter:"🛴",kimono:"👘",kiss:"💋",kissing:"😗",kissing_cat:"😽",kissing_closed_eyes:"😚",kissing_heart:"😘",kissing_smiling_eyes:"😙",kiwi_fruit:"🥝",koala:"🐨",koko:"🈁",label:"🏷",large_blue_circle:"🔵",large_blue_diamond:"🔷",large_orange_diamond:"🔶",last_quarter_moon:"🌗",last_quarter_moon_with_face:"🌜",latin_cross:"✝️",laughing:"😆",leaves:"🍃",ledger:"📒",left_luggage:"🛅",left_right_arrow:"↔️",leftwards_arrow_with_hook:"↩️",lemon:"🍋",leo:"♌️",leopard:"🐆",level_slider:"🎚",libra:"♎️",light_rail:"🚈",link:"🔗",lion:"🦁",lips:"👄",lipstick:"💄",lizard:"🦎",lock:"🔒",lock_with_ink_pen:"🔏",lollipop:"🍭",loop:"➿",loud_sound:"🔊",loudspeaker:"📢",love_hotel:"🏩",love_letter:"💌",low_brightness:"🔅",lying_face:"🤥",m:"Ⓜ️",mag:"🔍",mag_right:"🔎",mahjong:"🀄️",mailbox:"📫",mailbox_closed:"📪",mailbox_with_mail:"📬",mailbox_with_no_mail:"📭",man:"👨",man_artist:"👨&zwj;🎨",man_astronaut:"👨&zwj;🚀",man_cartwheeling:"🤸&zwj;♂️",man_cook:"👨&zwj;🍳",man_dancing:"🕺",man_facepalming:"🤦&zwj;♂️",man_factory_worker:"👨&zwj;🏭",man_farmer:"👨&zwj;🌾",man_firefighter:"👨&zwj;🚒",man_health_worker:"👨&zwj;⚕️",man_in_tuxedo:"🤵",man_judge:"👨&zwj;⚖️",man_juggling:"🤹&zwj;♂️",man_mechanic:"👨&zwj;🔧",man_office_worker:"👨&zwj;💼",man_pilot:"👨&zwj;✈️",man_playing_handball:"🤾&zwj;♂️",man_playing_water_polo:"🤽&zwj;♂️",man_scientist:"👨&zwj;🔬",man_shrugging:"🤷&zwj;♂️",man_singer:"👨&zwj;🎤",man_student:"👨&zwj;🎓",man_teacher:"👨&zwj;🏫",man_technologist:"👨&zwj;💻",man_with_gua_pi_mao:"👲",man_with_turban:"👳",tangerine:"🍊",mans_shoe:"👞",mantelpiece_clock:"🕰",maple_leaf:"🍁",martial_arts_uniform:"🥋",mask:"😷",massage_woman:"💆",massage_man:"💆&zwj;♂️",meat_on_bone:"🍖",medal_military:"🎖",medal_sports:"🏅",mega:"📣",melon:"🍈",memo:"📝",men_wrestling:"🤼&zwj;♂️",menorah:"🕎",mens:"🚹",metal:"🤘",metro:"🚇",microphone:"🎤",microscope:"🔬",milk_glass:"🥛",milky_way:"🌌",minibus:"🚐",minidisc:"💽",mobile_phone_off:"📴",money_mouth_face:"🤑",money_with_wings:"💸",moneybag:"💰",monkey:"🐒",monkey_face:"🐵",monorail:"🚝",moon:"🌔",mortar_board:"🎓",mosque:"🕌",motor_boat:"🛥",motor_scooter:"🛵",motorcycle:"🏍",motorway:"🛣",mount_fuji:"🗻",mountain:"⛰",mountain_biking_man:"🚵",mountain_biking_woman:"🚵&zwj;♀️",mountain_cableway:"🚠",mountain_railway:"🚞",mountain_snow:"🏔",mouse:"🐭",mouse2:"🐁",movie_camera:"🎥",moyai:"🗿",mrs_claus:"🤶",muscle:"💪",mushroom:"🍄",musical_keyboard:"🎹",musical_note:"🎵",musical_score:"🎼",mute:"🔇",nail_care:"💅",name_badge:"📛",national_park:"🏞",nauseated_face:"🤢",necktie:"👔",negative_squared_cross_mark:"❎",nerd_face:"🤓",neutral_face:"😐",new:"🆕",new_moon:"🌑",new_moon_with_face:"🌚",newspaper:"📰",newspaper_roll:"🗞",next_track_button:"⏭",ng:"🆖",no_good_man:"🙅&zwj;♂️",no_good_woman:"🙅",night_with_stars:"🌃",no_bell:"🔕",no_bicycles:"🚳",no_entry:"⛔️",no_entry_sign:"🚫",no_mobile_phones:"📵",no_mouth:"😶",no_pedestrians:"🚷",no_smoking:"🚭","non-potable_water":"🚱",nose:"👃",notebook:"📓",notebook_with_decorative_cover:"📔",notes:"🎶",nut_and_bolt:"🔩",o:"⭕️",o2:"🅾️",ocean:"🌊",octopus:"🐙",oden:"🍢",office:"🏢",oil_drum:"🛢",ok:"🆗",ok_hand:"👌",ok_man:"🙆&zwj;♂️",ok_woman:"🙆",old_key:"🗝",older_man:"👴",older_woman:"👵",om:"🕉",on:"🔛",oncoming_automobile:"🚘",oncoming_bus:"🚍",oncoming_police_car:"🚔",oncoming_taxi:"🚖",open_file_folder:"📂",open_hands:"👐",open_mouth:"😮",open_umbrella:"☂️",ophiuchus:"⛎",orange_book:"📙",orthodox_cross:"☦️",outbox_tray:"📤",owl:"🦉",ox:"🐂",package:"📦",page_facing_up:"📄",page_with_curl:"📃",pager:"📟",paintbrush:"🖌",palm_tree:"🌴",pancakes:"🥞",panda_face:"🐼",paperclip:"📎",paperclips:"🖇",parasol_on_ground:"⛱",parking:"🅿️",part_alternation_mark:"〽️",partly_sunny:"⛅️",passenger_ship:"🛳",passport_control:"🛂",pause_button:"⏸",peace_symbol:"☮️",peach:"🍑",peanuts:"🥜",pear:"🍐",pen:"🖊",pencil2:"✏️",penguin:"🐧",pensive:"😔",performing_arts:"🎭",persevere:"😣",person_fencing:"🤺",pouting_woman:"🙎",phone:"☎️",pick:"⛏",pig:"🐷",pig2:"🐖",pig_nose:"🐽",pill:"💊",pineapple:"🍍",ping_pong:"🏓",pisces:"♓️",pizza:"🍕",place_of_worship:"🛐",plate_with_cutlery:"🍽",play_or_pause_button:"⏯",point_down:"👇",point_left:"👈",point_right:"👉",point_up:"☝️",point_up_2:"👆",police_car:"🚓",policewoman:"👮&zwj;♀️",poodle:"🐩",popcorn:"🍿",post_office:"🏣",postal_horn:"📯",postbox:"📮",potable_water:"🚰",potato:"🥔",pouch:"👝",poultry_leg:"🍗",pound:"💷",rage:"😡",pouting_cat:"😾",pouting_man:"🙎&zwj;♂️",pray:"🙏",prayer_beads:"📿",pregnant_woman:"🤰",previous_track_button:"⏮",prince:"🤴",princess:"👸",printer:"🖨",purple_heart:"💜",purse:"👛",pushpin:"📌",put_litter_in_its_place:"🚮",question:"❓",rabbit:"🐰",rabbit2:"🐇",racehorse:"🐎",racing_car:"🏎",radio:"📻",radio_button:"🔘",radioactive:"☢️",railway_car:"🚃",railway_track:"🛤",rainbow:"🌈",rainbow_flag:"🏳️&zwj;🌈",raised_back_of_hand:"🤚",raised_hand_with_fingers_splayed:"🖐",raised_hands:"🙌",raising_hand_woman:"🙋",raising_hand_man:"🙋&zwj;♂️",ram:"🐏",ramen:"🍜",rat:"🐀",record_button:"⏺",recycle:"♻️",red_circle:"🔴",registered:"®️",relaxed:"☺️",relieved:"😌",reminder_ribbon:"🎗",repeat:"🔁",repeat_one:"🔂",rescue_worker_helmet:"⛑",restroom:"🚻",revolving_hearts:"💞",rewind:"⏪",rhinoceros:"🦏",ribbon:"🎀",rice:"🍚",rice_ball:"🍙",rice_cracker:"🍘",rice_scene:"🎑",right_anger_bubble:"🗯",ring:"💍",robot:"🤖",rocket:"🚀",rofl:"🤣",roll_eyes:"🙄",roller_coaster:"🎢",rooster:"🐓",rose:"🌹",rosette:"🏵",rotating_light:"🚨",round_pushpin:"📍",rowing_man:"🚣",rowing_woman:"🚣&zwj;♀️",rugby_football:"🏉",running_man:"🏃",running_shirt_with_sash:"🎽",running_woman:"🏃&zwj;♀️",sa:"🈂️",sagittarius:"♐️",sake:"🍶",sandal:"👡",santa:"🎅",satellite:"📡",saxophone:"🎷",school:"🏫",school_satchel:"🎒",scissors:"✂️",scorpion:"🦂",scorpius:"♏️",scream:"😱",scream_cat:"🙀",scroll:"📜",seat:"💺",secret:"㊙️",see_no_evil:"🙈",seedling:"🌱",selfie:"🤳",shallow_pan_of_food:"🥘",shamrock:"☘️",shark:"🦈",shaved_ice:"🍧",sheep:"🐑",shell:"🐚",shield:"🛡",shinto_shrine:"⛩",ship:"🚢",shirt:"👕",shopping:"🛍",shopping_cart:"🛒",shower:"🚿",shrimp:"🦐",signal_strength:"📶",six_pointed_star:"🔯",ski:"🎿",skier:"⛷",skull:"💀",skull_and_crossbones:"☠️",sleeping:"😴",sleeping_bed:"🛌",sleepy:"😪",slightly_frowning_face:"🙁",slightly_smiling_face:"🙂",slot_machine:"🎰",small_airplane:"🛩",small_blue_diamond:"🔹",small_orange_diamond:"🔸",small_red_triangle:"🔺",small_red_triangle_down:"🔻",smile:"😄",smile_cat:"😸",smiley:"😃",smiley_cat:"😺",smiling_imp:"😈",smirk:"😏",smirk_cat:"😼",smoking:"🚬",snail:"🐌",snake:"🐍",sneezing_face:"🤧",snowboarder:"🏂",snowflake:"❄️",snowman:"⛄️",snowman_with_snow:"☃️",sob:"😭",soccer:"⚽️",soon:"🔜",sos:"🆘",sound:"🔉",space_invader:"👾",spades:"♠️",spaghetti:"🍝",sparkle:"❇️",sparkler:"🎇",sparkles:"✨",sparkling_heart:"💖",speak_no_evil:"🙊",speaker:"🔈",speaking_head:"🗣",speech_balloon:"💬",speedboat:"🚤",spider:"🕷",spider_web:"🕸",spiral_calendar:"🗓",spiral_notepad:"🗒",spoon:"🥄",squid:"🦑",stadium:"🏟",star:"⭐️",star2:"🌟",star_and_crescent:"☪️",star_of_david:"✡️",stars:"🌠",station:"🚉",statue_of_liberty:"🗽",steam_locomotive:"🚂",stew:"🍲",stop_button:"⏹",stop_sign:"🛑",stopwatch:"⏱",straight_ruler:"📏",strawberry:"🍓",stuck_out_tongue:"😛",stuck_out_tongue_closed_eyes:"😝",stuck_out_tongue_winking_eye:"😜",studio_microphone:"🎙",stuffed_flatbread:"🥙",sun_behind_large_cloud:"🌥",sun_behind_rain_cloud:"🌦",sun_behind_small_cloud:"🌤",sun_with_face:"🌞",sunflower:"🌻",sunglasses:"😎",sunny:"☀️",sunrise:"🌅",sunrise_over_mountains:"🌄",surfing_man:"🏄",surfing_woman:"🏄&zwj;♀️",sushi:"🍣",suspension_railway:"🚟",sweat:"😓",sweat_drops:"💦",sweat_smile:"😅",sweet_potato:"🍠",swimming_man:"🏊",swimming_woman:"🏊&zwj;♀️",symbols:"🔣",synagogue:"🕍",syringe:"💉",taco:"🌮",tada:"🎉",tanabata_tree:"🎋",taurus:"♉️",taxi:"🚕",tea:"🍵",telephone_receiver:"📞",telescope:"🔭",tennis:"🎾",tent:"⛺️",thermometer:"🌡",thinking:"🤔",thought_balloon:"💭",ticket:"🎫",tickets:"🎟",tiger:"🐯",tiger2:"🐅",timer_clock:"⏲",tipping_hand_man:"💁&zwj;♂️",tired_face:"😫",tm:"™️",toilet:"🚽",tokyo_tower:"🗼",tomato:"🍅",tongue:"👅",top:"🔝",tophat:"🎩",tornado:"🌪",trackball:"🖲",tractor:"🚜",traffic_light:"🚥",train:"🚋",train2:"🚆",tram:"🚊",triangular_flag_on_post:"🚩",triangular_ruler:"📐",trident:"🔱",triumph:"😤",trolleybus:"🚎",trophy:"🏆",tropical_drink:"🍹",tropical_fish:"🐠",truck:"🚚",trumpet:"🎺",tulip:"🌷",tumbler_glass:"🥃",turkey:"🦃",turtle:"🐢",tv:"📺",twisted_rightwards_arrows:"🔀",two_hearts:"💕",two_men_holding_hands:"👬",two_women_holding_hands:"👭",u5272:"🈹",u5408:"🈴",u55b6:"🈺",u6307:"🈯️",u6708:"🈷️",u6709:"🈶",u6e80:"🈵",u7121:"🈚️",u7533:"🈸",u7981:"🈲",u7a7a:"🈳",umbrella:"☔️",unamused:"😒",underage:"🔞",unicorn:"🦄",unlock:"🔓",up:"🆙",upside_down_face:"🙃",v:"✌️",vertical_traffic_light:"🚦",vhs:"📼",vibration_mode:"📳",video_camera:"📹",video_game:"🎮",violin:"🎻",virgo:"♍️",volcano:"🌋",volleyball:"🏐",vs:"🆚",vulcan_salute:"🖖",walking_man:"🚶",walking_woman:"🚶&zwj;♀️",waning_crescent_moon:"🌘",waning_gibbous_moon:"🌖",warning:"⚠️",wastebasket:"🗑",watch:"⌚️",water_buffalo:"🐃",watermelon:"🍉",wave:"👋",wavy_dash:"〰️",waxing_crescent_moon:"🌒",wc:"🚾",weary:"😩",wedding:"💒",weight_lifting_man:"🏋️",weight_lifting_woman:"🏋️&zwj;♀️",whale:"🐳",whale2:"🐋",wheel_of_dharma:"☸️",wheelchair:"♿️",white_check_mark:"✅",white_circle:"⚪️",white_flag:"🏳️",white_flower:"💮",white_large_square:"⬜️",white_medium_small_square:"◽️",white_medium_square:"◻️",white_small_square:"▫️",white_square_button:"🔳",wilted_flower:"🥀",wind_chime:"🎐",wind_face:"🌬",wine_glass:"🍷",wink:"😉",wolf:"🐺",woman:"👩",woman_artist:"👩&zwj;🎨",woman_astronaut:"👩&zwj;🚀",woman_cartwheeling:"🤸&zwj;♀️",woman_cook:"👩&zwj;🍳",woman_facepalming:"🤦&zwj;♀️",woman_factory_worker:"👩&zwj;🏭",woman_farmer:"👩&zwj;🌾",woman_firefighter:"👩&zwj;🚒",woman_health_worker:"👩&zwj;⚕️",woman_judge:"👩&zwj;⚖️",woman_juggling:"🤹&zwj;♀️",woman_mechanic:"👩&zwj;🔧",woman_office_worker:"👩&zwj;💼",woman_pilot:"👩&zwj;✈️",woman_playing_handball:"🤾&zwj;♀️",woman_playing_water_polo:"🤽&zwj;♀️",woman_scientist:"👩&zwj;🔬",woman_shrugging:"🤷&zwj;♀️",woman_singer:"👩&zwj;🎤",woman_student:"👩&zwj;🎓",woman_teacher:"👩&zwj;🏫",woman_technologist:"👩&zwj;💻",woman_with_turban:"👳&zwj;♀️",womans_clothes:"👚",womans_hat:"👒",women_wrestling:"🤼&zwj;♀️",womens:"🚺",world_map:"🗺",worried:"😟",wrench:"🔧",writing_hand:"✍️",x:"❌",yellow_heart:"💛",yen:"💴",yin_yang:"☯️",yum:"😋",zap:"⚡️",zipper_mouth_face:"🤐",zzz:"💤",octocat:'<img alt=":octocat:" height="20" width="20" align="absmiddle" src="https://assets-cdn.github.com/images/icons/emoji/octocat.png">',showdown:"<span style=\"font-family: 'Anonymous Pro', monospace; text-decoration: underline; text-decoration-style: dashed; text-decoration-color: #3e8b8a;text-underline-position: under;\">S</span>"},i.Converter=function(e){"use strict";var t={},n=[],r=[],o={},s=u,h={parsed:{},raw:"",format:""};function p(e,t){if(t=t||null,i.helper.isString(e)){if(t=e=i.helper.stdExtName(e),i.extensions[e])return console.warn("DEPRECATION WARNING: "+e+" is an old extension that uses a deprecated loading method.Please inform the developer that the extension should be updated!"),void function(e,t){"function"==typeof e&&(e=e(new i.Converter)),i.helper.isArray(e)||(e=[e]);var o=d(e,t);if(!o.valid)throw Error(o.error);for(var s=0;s<e.length;++s)switch(e[s].type){case"lang":n.push(e[s]);break;case"output":r.push(e[s]);break;default:throw Error("Extension loader error: Type unrecognized!!!")}}(i.extensions[e],e);if(i.helper.isUndefined(a[e]))throw Error('Extension "'+e+'" could not be loaded. It was either not found or is not a valid extension.');e=a[e]}"function"==typeof e&&(e=e()),i.helper.isArray(e)||(e=[e]);var o=d(e,t);if(!o.valid)throw Error(o.error);for(var s=0;s<e.length;++s){switch(e[s].type){case"lang":n.push(e[s]);break;case"output":r.push(e[s])}if(e[s].hasOwnProperty("listeners"))for(var c in e[s].listeners)e[s].listeners.hasOwnProperty(c)&&f(c,e[s].listeners[c])}}function f(e,t){if(!i.helper.isString(e))throw Error("Invalid argument in converter.listen() method: name must be a string, but "+typeof e+" given");if("function"!=typeof t)throw Error("Invalid argument in converter.listen() method: callback must be a function, but "+typeof t+" given");o.hasOwnProperty(e)||(o[e]=[]),o[e].push(t)}!function(){for(var n in e=e||{},c)c.hasOwnProperty(n)&&(t[n]=c[n]);if("object"!=typeof e)throw Error("Converter expects the passed parameter to be an object, but "+typeof e+" was passed instead.");for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);t.extensions&&i.helper.forEach(t.extensions,p)}(),this._dispatch=function(e,t,n,r){if(o.hasOwnProperty(e))for(var i=0;i<o[e].length;++i){var s=o[e][i](e,t,this,n,r);s&&void 0!==s&&(t=s)}return t},this.listen=function(e,t){return f(e,t),this},this.makeHtml=function(e){if(!e)return e;var o={gHtmlBlocks:[],gHtmlMdBlocks:[],gHtmlSpans:[],gUrls:{},gTitles:{},gDimensions:{},gListLevel:0,hashLinkCounts:{},langExtensions:n,outputModifiers:r,converter:this,ghCodeBlocks:[],metadata:{parsed:{},raw:"",format:""}};return e=(e=(e=(e=(e=e.replace(/¨/g,"¨T")).replace(/\$/g,"¨D")).replace(/\r\n/g,"\n")).replace(/\r/g,"\n")).replace(/\u00A0/g,"&nbsp;"),t.smartIndentationFix&&(e=function(e){var t=e.match(/^\s*/)[0].length,n=new RegExp("^\\s{0,"+t+"}","gm");return e.replace(n,"")}(e)),e="\n\n"+e+"\n\n",e=(e=i.subParser("detab")(e,t,o)).replace(/^[ \t]+$/gm,""),i.helper.forEach(n,(function(n){e=i.subParser("runExtension")(n,e,t,o)})),e=i.subParser("metadata")(e,t,o),e=i.subParser("hashPreCodeTags")(e,t,o),e=i.subParser("githubCodeBlocks")(e,t,o),e=i.subParser("hashHTMLBlocks")(e,t,o),e=i.subParser("hashCodeTags")(e,t,o),e=i.subParser("stripLinkDefinitions")(e,t,o),e=i.subParser("blockGamut")(e,t,o),e=i.subParser("unhashHTMLSpans")(e,t,o),e=(e=(e=i.subParser("unescapeSpecialChars")(e,t,o)).replace(/¨D/g,"$$")).replace(/¨T/g,"¨"),e=i.subParser("completeHTMLDocument")(e,t,o),i.helper.forEach(r,(function(n){e=i.subParser("runExtension")(n,e,t,o)})),h=o.metadata,e},this.makeMarkdown=this.makeMd=function(e,t){if(e=(e=(e=e.replace(/\r\n/g,"\n")).replace(/\r/g,"\n")).replace(/>[ \t]+</,">¨NBSP;<"),!t){if(!window||!window.document)throw new Error("HTMLParser is undefined. If in a webworker or nodejs environment, you need to provide a WHATWG DOM and HTML such as JSDOM");t=window.document}var n=t.createElement("div");n.innerHTML=e;var r={preList:function(e){for(var t=e.querySelectorAll("pre"),n=[],r=0;r<t.length;++r)if(1===t[r].childElementCount&&"code"===t[r].firstChild.tagName.toLowerCase()){var o=t[r].firstChild.innerHTML.trim(),s=t[r].firstChild.getAttribute("data-language")||"";if(""===s)for(var a=t[r].firstChild.className.split(" "),c=0;c<a.length;++c){var u=a[c].match(/^language-(.+)$/);if(null!==u){s=u[1];break}}o=i.helper.unescapeHTMLEntities(o),n.push(o),t[r].outerHTML='<precode language="'+s+'" precodenum="'+r.toString()+'"></precode>'}else n.push(t[r].innerHTML),t[r].innerHTML="",t[r].setAttribute("prenum",r.toString());return n}(n)};!function e(t){for(var n=0;n<t.childNodes.length;++n){var r=t.childNodes[n];3===r.nodeType?/\S/.test(r.nodeValue)?(r.nodeValue=r.nodeValue.split("\n").join(" "),r.nodeValue=r.nodeValue.replace(/(\s)+/g,"$1")):(t.removeChild(r),--n):1===r.nodeType&&e(r)}}(n);for(var o=n.childNodes,s="",a=0;a<o.length;a++)s+=i.subParser("makeMarkdown.node")(o[a],r);return s},this.setOption=function(e,n){t[e]=n},this.getOption=function(e){return t[e]},this.getOptions=function(){return t},this.addExtension=function(e,t){p(e,t=t||null)},this.useExtension=function(e){p(e)},this.setFlavor=function(e){if(!l.hasOwnProperty(e))throw Error(e+" flavor was not found");var n=l[e];for(var r in s=e,n)n.hasOwnProperty(r)&&(t[r]=n[r])},this.getFlavor=function(){return s},this.removeExtension=function(e){i.helper.isArray(e)||(e=[e]);for(var t=0;t<e.length;++t){for(var o=e[t],s=0;s<n.length;++s)n[s]===o&&n[s].splice(s,1);for(;0<r.length;++s)r[0]===o&&r[0].splice(s,1)}},this.getAllExtensions=function(){return{language:n,output:r}},this.getMetadata=function(e){return e?h.raw:h.parsed},this.getMetadataFormat=function(){return h.format},this._setMetadataPair=function(e,t){h.parsed[e]=t},this._setMetadataFormat=function(e){h.format=e},this._setMetadataRaw=function(e){h.raw=e}},i.subParser("anchors",(function(e,t,n){"use strict";var r=function(e,r,o,s,a,c,u){if(i.helper.isUndefined(u)&&(u=""),o=o.toLowerCase(),e.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)s="";else if(!s){if(o||(o=r.toLowerCase().replace(/ ?\n/g," ")),s="#"+o,i.helper.isUndefined(n.gUrls[o]))return e;s=n.gUrls[o],i.helper.isUndefined(n.gTitles[o])||(u=n.gTitles[o])}var l='<a href="'+(s=s.replace(i.helper.regexes.asteriskDashAndColon,i.helper.escapeCharactersCallback))+'"';return""!==u&&null!==u&&(l+=' title="'+(u=(u=u.replace(/"/g,"&quot;")).replace(i.helper.regexes.asteriskDashAndColon,i.helper.escapeCharactersCallback))+'"'),t.openLinksInNewWindow&&!/^#/.test(s)&&(l+=' rel="noopener noreferrer" target="¨E95Eblank"'),l+">"+r+"</a>"};return e=(e=(e=(e=(e=n.converter._dispatch("anchors.before",e,t,n)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)] ?(?:\n *)?\[(.*?)]()()()()/g,r)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<([^>]*)>(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,r)).replace(/\[((?:\[[^\]]*]|[^\[\]])*)]()[ \t]*\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?:[ \t]*((["'])([^"]*?)\5))?[ \t]?\)/g,r)).replace(/\[([^\[\]]+)]()()()()()/g,r),t.ghMentions&&(e=e.replace(/(^|\s)(\\)?(@([a-z\d]+(?:[a-z\d.-]+?[a-z\d]+)*))/gim,(function(e,n,r,o,s){if("\\"===r)return n+o;if(!i.helper.isString(t.ghMentionsLink))throw new Error("ghMentionsLink option must be a string");var a=t.ghMentionsLink.replace(/\{u}/g,s),c="";return t.openLinksInNewWindow&&(c=' rel="noopener noreferrer" target="¨E95Eblank"'),n+'<a href="'+a+'"'+c+">"+o+"</a>"}))),n.converter._dispatch("anchors.after",e,t,n)}));var f=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+?\.[^'">\s]+?)()(\1)?(?=\s|$)(?!["<>])/gi,m=/([*~_]+|\b)(((https?|ftp|dict):\/\/|www\.)[^'">\s]+\.[^'">\s]+?)([.!?,()\[\]])?(\1)?(?=\s|$)(?!["<>])/gi,g=/()<(((https?|ftp|dict):\/\/|www\.)[^'">\s]+)()>()/gi,v=/(^|\s)(?:mailto:)?([A-Za-z0-9!#$%&'*+-/=?^_`{|}~.]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)(?=$|\s)/gim,y=/<()(?:mailto:)?([-.\w]+@[-a-z0-9]+(\.[-a-z0-9]+)*\.[a-z]+)>/gi,w=function(e){"use strict";return function(t,n,r,o,s,a,c){var u=r=r.replace(i.helper.regexes.asteriskDashAndColon,i.helper.escapeCharactersCallback),l="",d="",h=n||"",p=c||"";return/^www\./i.test(r)&&(r=r.replace(/^www\./i,"http://www.")),e.excludeTrailingPunctuationFromURLs&&a&&(l=a),e.openLinksInNewWindow&&(d=' rel="noopener noreferrer" target="¨E95Eblank"'),h+'<a href="'+r+'"'+d+">"+u+"</a>"+l+p}},b=function(e,t){"use strict";return function(n,r,o){var s="mailto:";return r=r||"",o=i.subParser("unescapeSpecialChars")(o,e,t),e.encodeEmails?(s=i.helper.encodeEmailAddress(s+o),o=i.helper.encodeEmailAddress(o)):s+=o,r+'<a href="'+s+'">'+o+"</a>"}};i.subParser("autoLinks",(function(e,t,n){"use strict";return e=(e=(e=n.converter._dispatch("autoLinks.before",e,t,n)).replace(g,w(t))).replace(y,b(t,n)),n.converter._dispatch("autoLinks.after",e,t,n)})),i.subParser("simplifiedAutoLinks",(function(e,t,n){"use strict";return t.simplifiedAutoLink?(e=n.converter._dispatch("simplifiedAutoLinks.before",e,t,n),e=(e=t.excludeTrailingPunctuationFromURLs?e.replace(m,w(t)):e.replace(f,w(t))).replace(v,b(t,n)),e=n.converter._dispatch("simplifiedAutoLinks.after",e,t,n)):e})),i.subParser("blockGamut",(function(e,t,n){"use strict";return e=n.converter._dispatch("blockGamut.before",e,t,n),e=i.subParser("blockQuotes")(e,t,n),e=i.subParser("headers")(e,t,n),e=i.subParser("horizontalRule")(e,t,n),e=i.subParser("lists")(e,t,n),e=i.subParser("codeBlocks")(e,t,n),e=i.subParser("tables")(e,t,n),e=i.subParser("hashHTMLBlocks")(e,t,n),e=i.subParser("paragraphs")(e,t,n),n.converter._dispatch("blockGamut.after",e,t,n)})),i.subParser("blockQuotes",(function(e,t,n){"use strict";e=n.converter._dispatch("blockQuotes.before",e,t,n),e+="\n\n";var r=/(^ {0,3}>[ \t]?.+\n(.+\n)*\n*)+/gm;return t.splitAdjacentBlockquotes&&(r=/^ {0,3}>[\s\S]*?(?:\n\n)/gm),e=e.replace(r,(function(e){return e=(e=(e=e.replace(/^[ \t]*>[ \t]?/gm,"")).replace(/¨0/g,"")).replace(/^[ \t]+$/gm,""),e=i.subParser("githubCodeBlocks")(e,t,n),e=(e=(e=i.subParser("blockGamut")(e,t,n)).replace(/(^|\n)/g,"$1  ")).replace(/(\s*<pre>[^\r]+?<\/pre>)/gm,(function(e,t){var n=t;return(n=n.replace(/^  /gm,"¨0")).replace(/¨0/g,"")})),i.subParser("hashBlock")("<blockquote>\n"+e+"\n</blockquote>",t,n)})),n.converter._dispatch("blockQuotes.after",e,t,n)})),i.subParser("codeBlocks",(function(e,t,n){"use strict";return e=n.converter._dispatch("codeBlocks.before",e,t,n),e=(e=(e+="¨0").replace(/(?:\n\n|^)((?:(?:[ ]{4}|\t).*\n+)+)(\n*[ ]{0,3}[^ \t\n]|(?=¨0))/g,(function(e,r,o){var s=r,a=o,c="\n";return s=i.subParser("outdent")(s,t,n),s=i.subParser("encodeCode")(s,t,n),s=(s=(s=i.subParser("detab")(s,t,n)).replace(/^\n+/g,"")).replace(/\n+$/g,""),t.omitExtraWLInCodeBlocks&&(c=""),s="<pre><code>"+s+c+"</code></pre>",i.subParser("hashBlock")(s,t,n)+a}))).replace(/¨0/,""),n.converter._dispatch("codeBlocks.after",e,t,n)})),i.subParser("codeSpans",(function(e,t,n){"use strict";return void 0===(e=n.converter._dispatch("codeSpans.before",e,t,n))&&(e=""),e=e.replace(/(^|[^\\])(`+)([^\r]*?[^`])\2(?!`)/gm,(function(e,r,o,s){var a=s;return a=(a=a.replace(/^([ \t]*)/g,"")).replace(/[ \t]*$/g,""),a=r+"<code>"+(a=i.subParser("encodeCode")(a,t,n))+"</code>",i.subParser("hashHTMLSpans")(a,t,n)})),n.converter._dispatch("codeSpans.after",e,t,n)})),i.subParser("completeHTMLDocument",(function(e,t,n){"use strict";if(!t.completeHTMLDocument)return e;e=n.converter._dispatch("completeHTMLDocument.before",e,t,n);var r="html",o="<!DOCTYPE HTML>\n",i="",s='<meta charset="utf-8">\n',a="",c="";for(var u in void 0!==n.metadata.parsed.doctype&&(o="<!DOCTYPE "+n.metadata.parsed.doctype+">\n","html"!==(r=n.metadata.parsed.doctype.toString().toLowerCase())&&"html5"!==r||(s='<meta charset="utf-8">')),n.metadata.parsed)if(n.metadata.parsed.hasOwnProperty(u))switch(u.toLowerCase()){case"doctype":break;case"title":i="<title>"+n.metadata.parsed.title+"</title>\n";break;case"charset":s="html"===r||"html5"===r?'<meta charset="'+n.metadata.parsed.charset+'">\n':'<meta name="charset" content="'+n.metadata.parsed.charset+'">\n';break;case"language":case"lang":a=' lang="'+n.metadata.parsed[u]+'"',c+='<meta name="'+u+'" content="'+n.metadata.parsed[u]+'">\n';break;default:c+='<meta name="'+u+'" content="'+n.metadata.parsed[u]+'">\n'}return e=o+"<html"+a+">\n<head>\n"+i+s+c+"</head>\n<body>\n"+e.trim()+"\n</body>\n</html>",n.converter._dispatch("completeHTMLDocument.after",e,t,n)})),i.subParser("detab",(function(e,t,n){"use strict";return e=(e=(e=(e=(e=(e=n.converter._dispatch("detab.before",e,t,n)).replace(/\t(?=\t)/g,"    ")).replace(/\t/g,"¨A¨B")).replace(/¨B(.+?)¨A/g,(function(e,t){for(var n=t,r=4-n.length%4,o=0;o<r;o++)n+=" ";return n}))).replace(/¨A/g,"    ")).replace(/¨B/g,""),n.converter._dispatch("detab.after",e,t,n)})),i.subParser("ellipsis",(function(e,t,n){"use strict";return e=(e=n.converter._dispatch("ellipsis.before",e,t,n)).replace(/\.\.\./g,"…"),n.converter._dispatch("ellipsis.after",e,t,n)})),i.subParser("emoji",(function(e,t,n){"use strict";return t.emoji?(e=(e=n.converter._dispatch("emoji.before",e,t,n)).replace(/:([\S]+?):/g,(function(e,t){return i.helper.emojis.hasOwnProperty(t)?i.helper.emojis[t]:e})),n.converter._dispatch("emoji.after",e,t,n)):e})),i.subParser("encodeAmpsAndAngles",(function(e,t,n){"use strict";return e=(e=(e=(e=(e=n.converter._dispatch("encodeAmpsAndAngles.before",e,t,n)).replace(/&(?!#?[xX]?(?:[0-9a-fA-F]+|\w+);)/g,"&amp;")).replace(/<(?![a-z\/?$!])/gi,"&lt;")).replace(/</g,"&lt;")).replace(/>/g,"&gt;"),n.converter._dispatch("encodeAmpsAndAngles.after",e,t,n)})),i.subParser("encodeBackslashEscapes",(function(e,t,n){"use strict";return e=(e=(e=n.converter._dispatch("encodeBackslashEscapes.before",e,t,n)).replace(/\\(\\)/g,i.helper.escapeCharactersCallback)).replace(/\\([`*_{}\[\]()>#+.!~=|-])/g,i.helper.escapeCharactersCallback),n.converter._dispatch("encodeBackslashEscapes.after",e,t,n)})),i.subParser("encodeCode",(function(e,t,n){"use strict";return e=(e=n.converter._dispatch("encodeCode.before",e,t,n)).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/([*_{}\[\]\\=~-])/g,i.helper.escapeCharactersCallback),n.converter._dispatch("encodeCode.after",e,t,n)})),i.subParser("escapeSpecialCharsWithinTagAttributes",(function(e,t,n){"use strict";return e=(e=(e=n.converter._dispatch("escapeSpecialCharsWithinTagAttributes.before",e,t,n)).replace(/<\/?[a-z\d_:-]+(?:[\s]+[\s\S]+?)?>/gi,(function(e){return e.replace(/(.)<\/?code>(?=.)/g,"$1`").replace(/([\\`*_~=|])/g,i.helper.escapeCharactersCallback)}))).replace(/<!(--(?:(?:[^>-]|-[^>])(?:[^-]|-[^-])*)--)>/gi,(function(e){return e.replace(/([\\`*_~=|])/g,i.helper.escapeCharactersCallback)})),n.converter._dispatch("escapeSpecialCharsWithinTagAttributes.after",e,t,n)})),i.subParser("githubCodeBlocks",(function(e,t,n){"use strict";return t.ghCodeBlocks?(e=n.converter._dispatch("githubCodeBlocks.before",e,t,n),e=(e=(e+="¨0").replace(/(?:^|\n)(?: {0,3})(```+|~~~+)(?: *)([^\s`~]*)\n([\s\S]*?)\n(?: {0,3})\1/g,(function(e,r,o,s){var a=t.omitExtraWLInCodeBlocks?"":"\n";return s=i.subParser("encodeCode")(s,t,n),s="<pre><code"+(o?' class="'+o+" language-"+o+'"':"")+">"+(s=(s=(s=i.subParser("detab")(s,t,n)).replace(/^\n+/g,"")).replace(/\n+$/g,""))+a+"</code></pre>",s=i.subParser("hashBlock")(s,t,n),"\n\n¨G"+(n.ghCodeBlocks.push({text:e,codeblock:s})-1)+"G\n\n"}))).replace(/¨0/,""),n.converter._dispatch("githubCodeBlocks.after",e,t,n)):e})),i.subParser("hashBlock",(function(e,t,n){"use strict";return e=(e=n.converter._dispatch("hashBlock.before",e,t,n)).replace(/(^\n+|\n+$)/g,""),e="\n\n¨K"+(n.gHtmlBlocks.push(e)-1)+"K\n\n",n.converter._dispatch("hashBlock.after",e,t,n)})),i.subParser("hashCodeTags",(function(e,t,n){"use strict";return e=n.converter._dispatch("hashCodeTags.before",e,t,n),e=i.helper.replaceRecursiveRegExp(e,(function(e,r,o,s){var a=o+i.subParser("encodeCode")(r,t,n)+s;return"¨C"+(n.gHtmlSpans.push(a)-1)+"C"}),"<code\\b[^>]*>","</code>","gim"),n.converter._dispatch("hashCodeTags.after",e,t,n)})),i.subParser("hashElement",(function(e,t,n){"use strict";return function(e,t){var r=t;return r=(r=(r=r.replace(/\n\n/g,"\n")).replace(/^\n/,"")).replace(/\n+$/g,""),"\n\n¨K"+(n.gHtmlBlocks.push(r)-1)+"K\n\n"}})),i.subParser("hashHTMLBlocks",(function(e,t,n){"use strict";e=n.converter._dispatch("hashHTMLBlocks.before",e,t,n);var r=["pre","div","h1","h2","h3","h4","h5","h6","blockquote","table","dl","ol","ul","script","noscript","form","fieldset","iframe","math","style","section","header","footer","nav","article","aside","address","audio","canvas","figure","hgroup","output","video","p"],o=function(e,t,r,o){var i=e;return-1!==r.search(/\bmarkdown\b/)&&(i=r+n.converter.makeHtml(t)+o),"\n\n¨K"+(n.gHtmlBlocks.push(i)-1)+"K\n\n"};t.backslashEscapesHTMLTags&&(e=e.replace(/\\<(\/?[^>]+?)>/g,(function(e,t){return"&lt;"+t+"&gt;"})));for(var s=0;s<r.length;++s)for(var a,c=new RegExp("^ {0,3}(<"+r[s]+"\\b[^>]*>)","im"),u="<"+r[s]+"\\b[^>]*>",l="</"+r[s]+">";-1!==(a=i.helper.regexIndexOf(e,c));){var d=i.helper.splitAtIndex(e,a),h=i.helper.replaceRecursiveRegExp(d[1],o,u,l,"im");if(h===d[1])break;e=d[0].concat(h)}return e=e.replace(/(\n {0,3}(<(hr)\b([^<>])*?\/?>)[ \t]*(?=\n{2,}))/g,i.subParser("hashElement")(e,t,n)),e=(e=i.helper.replaceRecursiveRegExp(e,(function(e){return"\n\n¨K"+(n.gHtmlBlocks.push(e)-1)+"K\n\n"}),"^ {0,3}\x3c!--","--\x3e","gm")).replace(/(?:\n\n)( {0,3}(?:<([?%])[^\r]*?\2>)[ \t]*(?=\n{2,}))/g,i.subParser("hashElement")(e,t,n)),n.converter._dispatch("hashHTMLBlocks.after",e,t,n)})),i.subParser("hashHTMLSpans",(function(e,t,n){"use strict";function r(e){return"¨C"+(n.gHtmlSpans.push(e)-1)+"C"}return e=(e=(e=(e=(e=n.converter._dispatch("hashHTMLSpans.before",e,t,n)).replace(/<[^>]+?\/>/gi,(function(e){return r(e)}))).replace(/<([^>]+?)>[\s\S]*?<\/\1>/g,(function(e){return r(e)}))).replace(/<([^>]+?)\s[^>]+?>[\s\S]*?<\/\1>/g,(function(e){return r(e)}))).replace(/<[^>]+?>/gi,(function(e){return r(e)})),n.converter._dispatch("hashHTMLSpans.after",e,t,n)})),i.subParser("unhashHTMLSpans",(function(e,t,n){"use strict";e=n.converter._dispatch("unhashHTMLSpans.before",e,t,n);for(var r=0;r<n.gHtmlSpans.length;++r){for(var o=n.gHtmlSpans[r],i=0;/¨C(\d+)C/.test(o);){var s=RegExp.$1;if(o=o.replace("¨C"+s+"C",n.gHtmlSpans[s]),10===i){console.error("maximum nesting of 10 spans reached!!!");break}++i}e=e.replace("¨C"+r+"C",o)}return n.converter._dispatch("unhashHTMLSpans.after",e,t,n)})),i.subParser("hashPreCodeTags",(function(e,t,n){"use strict";return e=n.converter._dispatch("hashPreCodeTags.before",e,t,n),e=i.helper.replaceRecursiveRegExp(e,(function(e,r,o,s){var a=o+i.subParser("encodeCode")(r,t,n)+s;return"\n\n¨G"+(n.ghCodeBlocks.push({text:e,codeblock:a})-1)+"G\n\n"}),"^ {0,3}<pre\\b[^>]*>\\s*<code\\b[^>]*>","^ {0,3}</code>\\s*</pre>","gim"),n.converter._dispatch("hashPreCodeTags.after",e,t,n)})),i.subParser("headers",(function(e,t,n){"use strict";e=n.converter._dispatch("headers.before",e,t,n);var r=isNaN(parseInt(t.headerLevelStart))?1:parseInt(t.headerLevelStart),o=t.smoothLivePreview?/^(.+)[ \t]*\n={2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n=+[ \t]*\n+/gm,s=t.smoothLivePreview?/^(.+)[ \t]*\n-{2,}[ \t]*\n+/gm:/^(.+)[ \t]*\n-+[ \t]*\n+/gm;e=(e=e.replace(o,(function(e,o){var s=i.subParser("spanGamut")(o,t,n),a=t.noHeaderId?"":' id="'+c(o)+'"',u="<h"+r+a+">"+s+"</h"+r+">";return i.subParser("hashBlock")(u,t,n)}))).replace(s,(function(e,o){var s=i.subParser("spanGamut")(o,t,n),a=t.noHeaderId?"":' id="'+c(o)+'"',u=r+1,l="<h"+u+a+">"+s+"</h"+u+">";return i.subParser("hashBlock")(l,t,n)}));var a=t.requireSpaceBeforeHeadingText?/^(#{1,6})[ \t]+(.+?)[ \t]*#*\n+/gm:/^(#{1,6})[ \t]*(.+?)[ \t]*#*\n+/gm;function c(e){var r,o;if(t.customizedHeaderId){var s=e.match(/\{([^{]+?)}\s*$/);s&&s[1]&&(e=s[1])}return r=e,o=i.helper.isString(t.prefixHeaderId)?t.prefixHeaderId:!0===t.prefixHeaderId?"section-":"",t.rawPrefixHeaderId||(r=o+r),r=t.ghCompatibleHeaderId?r.replace(/ /g,"-").replace(/&amp;/g,"").replace(/¨T/g,"").replace(/¨D/g,"").replace(/[&+$,\/:;=?@"#{}|^¨~\[\]`\\*)(%.!'<>]/g,"").toLowerCase():t.rawHeaderId?r.replace(/ /g,"-").replace(/&amp;/g,"&").replace(/¨T/g,"¨").replace(/¨D/g,"$").replace(/["']/g,"-").toLowerCase():r.replace(/[^\w]/g,"").toLowerCase(),t.rawPrefixHeaderId&&(r=o+r),n.hashLinkCounts[r]?r=r+"-"+n.hashLinkCounts[r]++:n.hashLinkCounts[r]=1,r}return e=e.replace(a,(function(e,o,s){var a=s;t.customizedHeaderId&&(a=s.replace(/\s?\{([^{]+?)}\s*$/,""));var u=i.subParser("spanGamut")(a,t,n),l=t.noHeaderId?"":' id="'+c(s)+'"',d=r-1+o.length,h="<h"+d+l+">"+u+"</h"+d+">";return i.subParser("hashBlock")(h,t,n)})),n.converter._dispatch("headers.after",e,t,n)})),i.subParser("horizontalRule",(function(e,t,n){"use strict";e=n.converter._dispatch("horizontalRule.before",e,t,n);var r=i.subParser("hashBlock")("<hr />",t,n);return e=(e=(e=e.replace(/^ {0,2}( ?-){3,}[ \t]*$/gm,r)).replace(/^ {0,2}( ?\*){3,}[ \t]*$/gm,r)).replace(/^ {0,2}( ?_){3,}[ \t]*$/gm,r),n.converter._dispatch("horizontalRule.after",e,t,n)})),i.subParser("images",(function(e,t,n){"use strict";function r(e,t,r,o,s,a,c,u){var l=n.gUrls,d=n.gTitles,h=n.gDimensions;if(r=r.toLowerCase(),u||(u=""),e.search(/\(<?\s*>? ?(['"].*['"])?\)$/m)>-1)o="";else if(""===o||null===o){if(""!==r&&null!==r||(r=t.toLowerCase().replace(/ ?\n/g," ")),o="#"+r,i.helper.isUndefined(l[r]))return e;o=l[r],i.helper.isUndefined(d[r])||(u=d[r]),i.helper.isUndefined(h[r])||(s=h[r].width,a=h[r].height)}t=t.replace(/"/g,"&quot;").replace(i.helper.regexes.asteriskDashAndColon,i.helper.escapeCharactersCallback);var p='<img src="'+(o=o.replace(i.helper.regexes.asteriskDashAndColon,i.helper.escapeCharactersCallback))+'" alt="'+t+'"';return u&&i.helper.isString(u)&&(p+=' title="'+(u=u.replace(/"/g,"&quot;").replace(i.helper.regexes.asteriskDashAndColon,i.helper.escapeCharactersCallback))+'"'),s&&a&&(p+=' width="'+(s="*"===s?"auto":s)+'"',p+=' height="'+(a="*"===a?"auto":a)+'"'),p+" />"}return e=(e=(e=(e=(e=(e=n.converter._dispatch("images.before",e,t,n)).replace(/!\[([^\]]*?)] ?(?:\n *)?\[([\s\S]*?)]()()()()()/g,r)).replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,(function(e,t,n,o,i,s,a,c){return r(e,t,n,o=o.replace(/\s/g,""),i,s,0,c)}))).replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<([^>]*)>(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(?:(["'])([^"]*?)\6))?[ \t]?\)/g,r)).replace(/!\[([^\]]*?)][ \t]*()\([ \t]?<?([\S]+?(?:\([\S]*?\)[\S]*?)?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*(?:(["'])([^"]*?)\6)?[ \t]?\)/g,r)).replace(/!\[([^\[\]]+)]()()()()()/g,r),n.converter._dispatch("images.after",e,t,n)})),i.subParser("italicsAndBold",(function(e,t,n){"use strict";function r(e,t,n){return t+e+n}return e=n.converter._dispatch("italicsAndBold.before",e,t,n),e=t.literalMidWordUnderscores?(e=(e=e.replace(/\b___(\S[\s\S]*?)___\b/g,(function(e,t){return r(t,"<strong><em>","</em></strong>")}))).replace(/\b__(\S[\s\S]*?)__\b/g,(function(e,t){return r(t,"<strong>","</strong>")}))).replace(/\b_(\S[\s\S]*?)_\b/g,(function(e,t){return r(t,"<em>","</em>")})):(e=(e=e.replace(/___(\S[\s\S]*?)___/g,(function(e,t){return/\S$/.test(t)?r(t,"<strong><em>","</em></strong>"):e}))).replace(/__(\S[\s\S]*?)__/g,(function(e,t){return/\S$/.test(t)?r(t,"<strong>","</strong>"):e}))).replace(/_([^\s_][\s\S]*?)_/g,(function(e,t){return/\S$/.test(t)?r(t,"<em>","</em>"):e})),e=t.literalMidWordAsterisks?(e=(e=e.replace(/([^*]|^)\B\*\*\*(\S[\s\S]*?)\*\*\*\B(?!\*)/g,(function(e,t,n){return r(n,t+"<strong><em>","</em></strong>")}))).replace(/([^*]|^)\B\*\*(\S[\s\S]*?)\*\*\B(?!\*)/g,(function(e,t,n){return r(n,t+"<strong>","</strong>")}))).replace(/([^*]|^)\B\*(\S[\s\S]*?)\*\B(?!\*)/g,(function(e,t,n){return r(n,t+"<em>","</em>")})):(e=(e=e.replace(/\*\*\*(\S[\s\S]*?)\*\*\*/g,(function(e,t){return/\S$/.test(t)?r(t,"<strong><em>","</em></strong>"):e}))).replace(/\*\*(\S[\s\S]*?)\*\*/g,(function(e,t){return/\S$/.test(t)?r(t,"<strong>","</strong>"):e}))).replace(/\*([^\s*][\s\S]*?)\*/g,(function(e,t){return/\S$/.test(t)?r(t,"<em>","</em>"):e})),n.converter._dispatch("italicsAndBold.after",e,t,n)})),i.subParser("lists",(function(e,t,n){"use strict";function r(e,r){n.gListLevel++,e=e.replace(/\n{2,}$/,"\n");var o=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(¨0| {0,3}([*+-]|\d+[.])[ \t]+))/gm,s=/\n[ \t]*\n(?!¨0)/.test(e+="¨0");return t.disableForced4SpacesIndentedSublists&&(o=/(\n)?(^ {0,3})([*+-]|\d+[.])[ \t]+((\[(x|X| )?])?[ \t]*[^\r]+?(\n{1,2}))(?=\n*(¨0|\2([*+-]|\d+[.])[ \t]+))/gm),e=(e=e.replace(o,(function(e,r,o,a,c,u,l){l=l&&""!==l.trim();var d=i.subParser("outdent")(c,t,n),h="";return u&&t.tasklists&&(h=' class="task-list-item" style="list-style-type: none;"',d=d.replace(/^[ \t]*\[(x|X| )?]/m,(function(){var e='<input type="checkbox" disabled style="margin: 0px 0.35em 0.25em -1.6em; vertical-align: middle;"';return l&&(e+=" checked"),e+">"}))),d=d.replace(/^([-*+]|\d\.)[ \t]+[\S\n ]*/g,(function(e){return"¨A"+e})),r||d.search(/\n{2,}/)>-1?(d=i.subParser("githubCodeBlocks")(d,t,n),d=i.subParser("blockGamut")(d,t,n)):(d=(d=i.subParser("lists")(d,t,n)).replace(/\n$/,""),d=(d=i.subParser("hashHTMLBlocks")(d,t,n)).replace(/\n\n+/g,"\n\n"),d=s?i.subParser("paragraphs")(d,t,n):i.subParser("spanGamut")(d,t,n)),"<li"+h+">"+(d=d.replace("¨A",""))+"</li>\n"}))).replace(/¨0/g,""),n.gListLevel--,r&&(e=e.replace(/\s+$/,"")),e}function o(e,t){if("ol"===t){var n=e.match(/^ *(\d+)\./);if(n&&"1"!==n[1])return' start="'+n[1]+'"'}return""}function s(e,n,i){var s=t.disableForced4SpacesIndentedSublists?/^ ?\d+\.[ \t]/gm:/^ {0,3}\d+\.[ \t]/gm,a=t.disableForced4SpacesIndentedSublists?/^ ?[*+-][ \t]/gm:/^ {0,3}[*+-][ \t]/gm,c="ul"===n?s:a,u="";if(-1!==e.search(c))!function t(l){var d=l.search(c),h=o(e,n);-1!==d?(u+="\n\n<"+n+h+">\n"+r(l.slice(0,d),!!i)+"</"+n+">\n",c="ul"==(n="ul"===n?"ol":"ul")?s:a,t(l.slice(d))):u+="\n\n<"+n+h+">\n"+r(l,!!i)+"</"+n+">\n"}(e);else{var l=o(e,n);u="\n\n<"+n+l+">\n"+r(e,!!i)+"</"+n+">\n"}return u}return e=n.converter._dispatch("lists.before",e,t,n),e+="¨0",e=(e=n.gListLevel?e.replace(/^(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(¨0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,(function(e,t,n){return s(t,n.search(/[*+-]/g)>-1?"ul":"ol",!0)})):e.replace(/(\n\n|^\n?)(( {0,3}([*+-]|\d+[.])[ \t]+)[^\r]+?(¨0|\n{2,}(?=\S)(?![ \t]*(?:[*+-]|\d+[.])[ \t]+)))/gm,(function(e,t,n,r){return s(n,r.search(/[*+-]/g)>-1?"ul":"ol",!1)}))).replace(/¨0/,""),n.converter._dispatch("lists.after",e,t,n)})),i.subParser("metadata",(function(e,t,n){"use strict";if(!t.metadata)return e;function r(e){n.metadata.raw=e,(e=(e=e.replace(/&/g,"&amp;").replace(/"/g,"&quot;")).replace(/\n {4}/g," ")).replace(/^([\S ]+): +([\s\S]+?)$/gm,(function(e,t,r){return n.metadata.parsed[t]=r,""}))}return e=(e=(e=(e=n.converter._dispatch("metadata.before",e,t,n)).replace(/^\s*«««+(\S*?)\n([\s\S]+?)\n»»»+\n/,(function(e,t,n){return r(n),"¨M"}))).replace(/^\s*---+(\S*?)\n([\s\S]+?)\n---+\n/,(function(e,t,o){return t&&(n.metadata.format=t),r(o),"¨M"}))).replace(/¨M/g,""),n.converter._dispatch("metadata.after",e,t,n)})),i.subParser("outdent",(function(e,t,n){"use strict";return e=(e=(e=n.converter._dispatch("outdent.before",e,t,n)).replace(/^(\t|[ ]{1,4})/gm,"¨0")).replace(/¨0/g,""),n.converter._dispatch("outdent.after",e,t,n)})),i.subParser("paragraphs",(function(e,t,n){"use strict";for(var r=(e=(e=(e=n.converter._dispatch("paragraphs.before",e,t,n)).replace(/^\n+/g,"")).replace(/\n+$/g,"")).split(/\n{2,}/g),o=[],s=r.length,a=0;a<s;a++){var c=r[a];c.search(/¨(K|G)(\d+)\1/g)>=0?o.push(c):c.search(/\S/)>=0&&(c=(c=i.subParser("spanGamut")(c,t,n)).replace(/^([ \t]*)/g,"<p>"),c+="</p>",o.push(c))}for(s=o.length,a=0;a<s;a++){for(var u="",l=o[a],d=!1;/¨(K|G)(\d+)\1/.test(l);){var h=RegExp.$1,p=RegExp.$2;u=(u="K"===h?n.gHtmlBlocks[p]:d?i.subParser("encodeCode")(n.ghCodeBlocks[p].text,t,n):n.ghCodeBlocks[p].codeblock).replace(/\$/g,"$$$$"),l=l.replace(/(\n\n)?¨(K|G)\d+\2(\n\n)?/,u),/^<pre\b[^>]*>\s*<code\b[^>]*>/.test(l)&&(d=!0)}o[a]=l}return e=(e=(e=o.join("\n")).replace(/^\n+/g,"")).replace(/\n+$/g,""),n.converter._dispatch("paragraphs.after",e,t,n)})),i.subParser("runExtension",(function(e,t,n,r){"use strict";if(e.filter)t=e.filter(t,r.converter,n);else if(e.regex){var o=e.regex;o instanceof RegExp||(o=new RegExp(o,"g")),t=t.replace(o,e.replace)}return t})),i.subParser("spanGamut",(function(e,t,n){"use strict";return e=n.converter._dispatch("spanGamut.before",e,t,n),e=i.subParser("codeSpans")(e,t,n),e=i.subParser("escapeSpecialCharsWithinTagAttributes")(e,t,n),e=i.subParser("encodeBackslashEscapes")(e,t,n),e=i.subParser("images")(e,t,n),e=i.subParser("anchors")(e,t,n),e=i.subParser("autoLinks")(e,t,n),e=i.subParser("simplifiedAutoLinks")(e,t,n),e=i.subParser("emoji")(e,t,n),e=i.subParser("underline")(e,t,n),e=i.subParser("italicsAndBold")(e,t,n),e=i.subParser("strikethrough")(e,t,n),e=i.subParser("ellipsis")(e,t,n),e=i.subParser("hashHTMLSpans")(e,t,n),e=i.subParser("encodeAmpsAndAngles")(e,t,n),t.simpleLineBreaks?/\n\n¨K/.test(e)||(e=e.replace(/\n+/g,"<br />\n")):e=e.replace(/  +\n/g,"<br />\n"),n.converter._dispatch("spanGamut.after",e,t,n)})),i.subParser("strikethrough",(function(e,t,n){"use strict";return t.strikethrough&&(e=(e=n.converter._dispatch("strikethrough.before",e,t,n)).replace(/(?:~){2}([\s\S]+?)(?:~){2}/g,(function(e,r){return function(e){return t.simplifiedAutoLink&&(e=i.subParser("simplifiedAutoLinks")(e,t,n)),"<del>"+e+"</del>"}(r)})),e=n.converter._dispatch("strikethrough.after",e,t,n)),e})),i.subParser("stripLinkDefinitions",(function(e,t,n){"use strict";var r=function(e,r,o,s,a,c,u){return r=r.toLowerCase(),o.match(/^data:.+?\/.+?;base64,/)?n.gUrls[r]=o.replace(/\s/g,""):n.gUrls[r]=i.subParser("encodeAmpsAndAngles")(o,t,n),c?c+u:(u&&(n.gTitles[r]=u.replace(/"|'/g,"&quot;")),t.parseImgDimensions&&s&&a&&(n.gDimensions[r]={width:s,height:a}),"")};return(e=(e=(e+="¨0").replace(/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?(data:.+?\/.+?;base64,[A-Za-z0-9+/=\n]+?)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n\n|(?=¨0)|(?=\n\[))/gm,r)).replace(/^ {0,3}\[(.+)]:[ \t]*\n?[ \t]*<?([^>\s]+)>?(?: =([*\d]+[A-Za-z%]{0,4})x([*\d]+[A-Za-z%]{0,4}))?[ \t]*\n?[ \t]*(?:(\n*)["|'(](.+?)["|')][ \t]*)?(?:\n+|(?=¨0))/gm,r)).replace(/¨0/,"")})),i.subParser("tables",(function(e,t,n){"use strict";if(!t.tables)return e;function r(e,r){return"<td"+r+">"+i.subParser("spanGamut")(e,t,n)+"</td>\n"}function o(e){var o,s=e.split("\n");for(o=0;o<s.length;++o)/^ {0,3}\|/.test(s[o])&&(s[o]=s[o].replace(/^ {0,3}\|/,"")),/\|[ \t]*$/.test(s[o])&&(s[o]=s[o].replace(/\|[ \t]*$/,"")),s[o]=i.subParser("codeSpans")(s[o],t,n);var a,c,u,l,d=s[0].split("|").map((function(e){return e.trim()})),h=s[1].split("|").map((function(e){return e.trim()})),p=[],f=[],m=[],g=[];for(s.shift(),s.shift(),o=0;o<s.length;++o)""!==s[o].trim()&&p.push(s[o].split("|").map((function(e){return e.trim()})));if(d.length<h.length)return e;for(o=0;o<h.length;++o)m.push((a=h[o],/^:[ \t]*--*$/.test(a)?' style="text-align:left;"':/^--*[ \t]*:[ \t]*$/.test(a)?' style="text-align:right;"':/^:[ \t]*--*[ \t]*:$/.test(a)?' style="text-align:center;"':""));for(o=0;o<d.length;++o)i.helper.isUndefined(m[o])&&(m[o]=""),f.push((c=d[o],u=m[o],l=void 0,l="",c=c.trim(),(t.tablesHeaderId||t.tableHeaderId)&&(l=' id="'+c.replace(/ /g,"_").toLowerCase()+'"'),"<th"+l+u+">"+(c=i.subParser("spanGamut")(c,t,n))+"</th>\n"));for(o=0;o<p.length;++o){for(var v=[],y=0;y<f.length;++y)i.helper.isUndefined(p[o][y]),v.push(r(p[o][y],m[y]));g.push(v)}return function(e,t){for(var n="<table>\n<thead>\n<tr>\n",r=e.length,o=0;o<r;++o)n+=e[o];for(n+="</tr>\n</thead>\n<tbody>\n",o=0;o<t.length;++o){n+="<tr>\n";for(var i=0;i<r;++i)n+=t[o][i];n+="</tr>\n"}return n+"</tbody>\n</table>\n"}(f,g)}return e=(e=(e=(e=n.converter._dispatch("tables.before",e,t,n)).replace(/\\(\|)/g,i.helper.escapeCharactersCallback)).replace(/^ {0,3}\|?.+\|.+\n {0,3}\|?[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*:?[ \t]*(?:[-=]){2,}[\s\S]+?(?:\n\n|¨0)/gm,o)).replace(/^ {0,3}\|.+\|[ \t]*\n {0,3}\|[ \t]*:?[ \t]*(?:[-=]){2,}[ \t]*:?[ \t]*\|[ \t]*\n( {0,3}\|.+\|[ \t]*\n)*(?:\n|¨0)/gm,o),n.converter._dispatch("tables.after",e,t,n)})),i.subParser("underline",(function(e,t,n){"use strict";return t.underline?(e=n.converter._dispatch("underline.before",e,t,n),e=(e=t.literalMidWordUnderscores?(e=e.replace(/\b___(\S[\s\S]*?)___\b/g,(function(e,t){return"<u>"+t+"</u>"}))).replace(/\b__(\S[\s\S]*?)__\b/g,(function(e,t){return"<u>"+t+"</u>"})):(e=e.replace(/___(\S[\s\S]*?)___/g,(function(e,t){return/\S$/.test(t)?"<u>"+t+"</u>":e}))).replace(/__(\S[\s\S]*?)__/g,(function(e,t){return/\S$/.test(t)?"<u>"+t+"</u>":e}))).replace(/(_)/g,i.helper.escapeCharactersCallback),e=n.converter._dispatch("underline.after",e,t,n)):e})),i.subParser("unescapeSpecialChars",(function(e,t,n){"use strict";return e=(e=n.converter._dispatch("unescapeSpecialChars.before",e,t,n)).replace(/¨E(\d+)E/g,(function(e,t){var n=parseInt(t);return String.fromCharCode(n)})),n.converter._dispatch("unescapeSpecialChars.after",e,t,n)})),i.subParser("makeMarkdown.blockquote",(function(e,t){"use strict";var n="";if(e.hasChildNodes())for(var r=e.childNodes,o=r.length,s=0;s<o;++s){var a=i.subParser("makeMarkdown.node")(r[s],t);""!==a&&(n+=a)}return"> "+(n=n.trim()).split("\n").join("\n> ")})),i.subParser("makeMarkdown.codeBlock",(function(e,t){"use strict";var n=e.getAttribute("language"),r=e.getAttribute("precodenum");return"```"+n+"\n"+t.preList[r]+"\n```"})),i.subParser("makeMarkdown.codeSpan",(function(e){"use strict";return"`"+e.innerHTML+"`"})),i.subParser("makeMarkdown.emphasis",(function(e,t){"use strict";var n="";if(e.hasChildNodes()){n+="*";for(var r=e.childNodes,o=r.length,s=0;s<o;++s)n+=i.subParser("makeMarkdown.node")(r[s],t);n+="*"}return n})),i.subParser("makeMarkdown.header",(function(e,t,n){"use strict";var r=new Array(n+1).join("#"),o="";if(e.hasChildNodes()){o=r+" ";for(var s=e.childNodes,a=s.length,c=0;c<a;++c)o+=i.subParser("makeMarkdown.node")(s[c],t)}return o})),i.subParser("makeMarkdown.hr",(function(){"use strict";return"---"})),i.subParser("makeMarkdown.image",(function(e){"use strict";var t="";return e.hasAttribute("src")&&(t+="!["+e.getAttribute("alt")+"](",t+="<"+e.getAttribute("src")+">",e.hasAttribute("width")&&e.hasAttribute("height")&&(t+=" ="+e.getAttribute("width")+"x"+e.getAttribute("height")),e.hasAttribute("title")&&(t+=' "'+e.getAttribute("title")+'"'),t+=")"),t})),i.subParser("makeMarkdown.links",(function(e,t){"use strict";var n="";if(e.hasChildNodes()&&e.hasAttribute("href")){var r=e.childNodes,o=r.length;n="[";for(var s=0;s<o;++s)n+=i.subParser("makeMarkdown.node")(r[s],t);n+="](",n+="<"+e.getAttribute("href")+">",e.hasAttribute("title")&&(n+=' "'+e.getAttribute("title")+'"'),n+=")"}return n})),i.subParser("makeMarkdown.list",(function(e,t,n){"use strict";var r="";if(!e.hasChildNodes())return"";for(var o=e.childNodes,s=o.length,a=e.getAttribute("start")||1,c=0;c<s;++c)void 0!==o[c].tagName&&"li"===o[c].tagName.toLowerCase()&&(r+=("ol"===n?a.toString()+". ":"- ")+i.subParser("makeMarkdown.listItem")(o[c],t),++a);return(r+="\n\x3c!-- --\x3e\n").trim()})),i.subParser("makeMarkdown.listItem",(function(e,t){"use strict";for(var n="",r=e.childNodes,o=r.length,s=0;s<o;++s)n+=i.subParser("makeMarkdown.node")(r[s],t);return/\n$/.test(n)?n=n.split("\n").join("\n    ").replace(/^ {4}$/gm,"").replace(/\n\n+/g,"\n\n"):n+="\n",n})),i.subParser("makeMarkdown.node",(function(e,t,n){"use strict";n=n||!1;var r="";if(3===e.nodeType)return i.subParser("makeMarkdown.txt")(e,t);if(8===e.nodeType)return"\x3c!--"+e.data+"--\x3e\n\n";if(1!==e.nodeType)return"";switch(e.tagName.toLowerCase()){case"h1":n||(r=i.subParser("makeMarkdown.header")(e,t,1)+"\n\n");break;case"h2":n||(r=i.subParser("makeMarkdown.header")(e,t,2)+"\n\n");break;case"h3":n||(r=i.subParser("makeMarkdown.header")(e,t,3)+"\n\n");break;case"h4":n||(r=i.subParser("makeMarkdown.header")(e,t,4)+"\n\n");break;case"h5":n||(r=i.subParser("makeMarkdown.header")(e,t,5)+"\n\n");break;case"h6":n||(r=i.subParser("makeMarkdown.header")(e,t,6)+"\n\n");break;case"p":n||(r=i.subParser("makeMarkdown.paragraph")(e,t)+"\n\n");break;case"blockquote":n||(r=i.subParser("makeMarkdown.blockquote")(e,t)+"\n\n");break;case"hr":n||(r=i.subParser("makeMarkdown.hr")(e,t)+"\n\n");break;case"ol":n||(r=i.subParser("makeMarkdown.list")(e,t,"ol")+"\n\n");break;case"ul":n||(r=i.subParser("makeMarkdown.list")(e,t,"ul")+"\n\n");break;case"precode":n||(r=i.subParser("makeMarkdown.codeBlock")(e,t)+"\n\n");break;case"pre":n||(r=i.subParser("makeMarkdown.pre")(e,t)+"\n\n");break;case"table":n||(r=i.subParser("makeMarkdown.table")(e,t)+"\n\n");break;case"code":r=i.subParser("makeMarkdown.codeSpan")(e,t);break;case"em":case"i":r=i.subParser("makeMarkdown.emphasis")(e,t);break;case"strong":case"b":r=i.subParser("makeMarkdown.strong")(e,t);break;case"del":r=i.subParser("makeMarkdown.strikethrough")(e,t);break;case"a":r=i.subParser("makeMarkdown.links")(e,t);break;case"img":r=i.subParser("makeMarkdown.image")(e,t);break;default:r=e.outerHTML+"\n\n"}return r})),i.subParser("makeMarkdown.paragraph",(function(e,t){"use strict";var n="";if(e.hasChildNodes())for(var r=e.childNodes,o=r.length,s=0;s<o;++s)n+=i.subParser("makeMarkdown.node")(r[s],t);return n.trim()})),i.subParser("makeMarkdown.pre",(function(e,t){"use strict";var n=e.getAttribute("prenum");return"<pre>"+t.preList[n]+"</pre>"})),i.subParser("makeMarkdown.strikethrough",(function(e,t){"use strict";var n="";if(e.hasChildNodes()){n+="~~";for(var r=e.childNodes,o=r.length,s=0;s<o;++s)n+=i.subParser("makeMarkdown.node")(r[s],t);n+="~~"}return n})),i.subParser("makeMarkdown.strong",(function(e,t){"use strict";var n="";if(e.hasChildNodes()){n+="**";for(var r=e.childNodes,o=r.length,s=0;s<o;++s)n+=i.subParser("makeMarkdown.node")(r[s],t);n+="**"}return n})),i.subParser("makeMarkdown.table",(function(e,t){"use strict";var n,r,o="",s=[[],[]],a=e.querySelectorAll("thead>tr>th"),c=e.querySelectorAll("tbody>tr");for(n=0;n<a.length;++n){var u=i.subParser("makeMarkdown.tableCell")(a[n],t),l="---";if(a[n].hasAttribute("style"))switch(a[n].getAttribute("style").toLowerCase().replace(/\s/g,"")){case"text-align:left;":l=":---";break;case"text-align:right;":l="---:";break;case"text-align:center;":l=":---:"}s[0][n]=u.trim(),s[1][n]=l}for(n=0;n<c.length;++n){var d=s.push([])-1,h=c[n].getElementsByTagName("td");for(r=0;r<a.length;++r){var p=" ";void 0!==h[r]&&(p=i.subParser("makeMarkdown.tableCell")(h[r],t)),s[d].push(p)}}var f=3;for(n=0;n<s.length;++n)for(r=0;r<s[n].length;++r){var m=s[n][r].length;m>f&&(f=m)}for(n=0;n<s.length;++n){for(r=0;r<s[n].length;++r)1===n?":"===s[n][r].slice(-1)?s[n][r]=i.helper.padEnd(s[n][r].slice(-1),f-1,"-")+":":s[n][r]=i.helper.padEnd(s[n][r],f,"-"):s[n][r]=i.helper.padEnd(s[n][r],f);o+="| "+s[n].join(" | ")+" |\n"}return o.trim()})),i.subParser("makeMarkdown.tableCell",(function(e,t){"use strict";var n="";if(!e.hasChildNodes())return"";for(var r=e.childNodes,o=r.length,s=0;s<o;++s)n+=i.subParser("makeMarkdown.node")(r[s],t,!0);return n.trim()})),i.subParser("makeMarkdown.txt",(function(e){"use strict";var t=e.nodeValue;return t=(t=t.replace(/ +/g," ")).replace(/¨NBSP;/g," "),(t=(t=(t=(t=(t=(t=(t=(t=i.helper.unescapeHTMLEntities(t)).replace(/([*_~|`])/g,"\\$1")).replace(/^(\s*)>/g,"\\$1>")).replace(/^#/gm,"\\#")).replace(/^(\s*)([-=]{3,})(\s*)$/,"$1\\$2$3")).replace(/^( {0,3}\d+)\./gm,"$1\\.")).replace(/^( {0,3})([+-])/gm,"$1\\$2")).replace(/]([\s]*)\(/g,"\\]$1\\(")).replace(/^ {0,3}\[([\S \t]*?)]:/gm,"\\[$1]:")})),void 0===(r=function(){"use strict";return i}.call(t,n,t,e))||(e.exports=r)}).call(this)},3870:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TraceFormat=t.TraceValues=t.Trace=t.ProgressType=t.ProgressToken=t.createMessageConnection=t.NullLogger=t.ConnectionOptions=t.ConnectionStrategy=t.WriteableStreamMessageWriter=t.AbstractMessageWriter=t.MessageWriter=t.ReadableStreamMessageReader=t.AbstractMessageReader=t.MessageReader=t.CancellationToken=t.CancellationTokenSource=t.Emitter=t.Event=t.Disposable=t.LRUCache=t.Touch=t.LinkedMap=t.ParameterStructures=t.NotificationType9=t.NotificationType8=t.NotificationType7=t.NotificationType6=t.NotificationType5=t.NotificationType4=t.NotificationType3=t.NotificationType2=t.NotificationType1=t.NotificationType0=t.NotificationType=t.ErrorCodes=t.ResponseError=t.RequestType9=t.RequestType8=t.RequestType7=t.RequestType6=t.RequestType5=t.RequestType4=t.RequestType3=t.RequestType2=t.RequestType1=t.RequestType0=t.RequestType=t.Message=t.RAL=void 0,t.CancellationStrategy=t.CancellationSenderStrategy=t.CancellationReceiverStrategy=t.ConnectionError=t.ConnectionErrors=t.LogTraceNotification=t.SetTraceNotification=void 0;const r=n(839);Object.defineProperty(t,"Message",{enumerable:!0,get:function(){return r.Message}}),Object.defineProperty(t,"RequestType",{enumerable:!0,get:function(){return r.RequestType}}),Object.defineProperty(t,"RequestType0",{enumerable:!0,get:function(){return r.RequestType0}}),Object.defineProperty(t,"RequestType1",{enumerable:!0,get:function(){return r.RequestType1}}),Object.defineProperty(t,"RequestType2",{enumerable:!0,get:function(){return r.RequestType2}}),Object.defineProperty(t,"RequestType3",{enumerable:!0,get:function(){return r.RequestType3}}),Object.defineProperty(t,"RequestType4",{enumerable:!0,get:function(){return r.RequestType4}}),Object.defineProperty(t,"RequestType5",{enumerable:!0,get:function(){return r.RequestType5}}),Object.defineProperty(t,"RequestType6",{enumerable:!0,get:function(){return r.RequestType6}}),Object.defineProperty(t,"RequestType7",{enumerable:!0,get:function(){return r.RequestType7}}),Object.defineProperty(t,"RequestType8",{enumerable:!0,get:function(){return r.RequestType8}}),Object.defineProperty(t,"RequestType9",{enumerable:!0,get:function(){return r.RequestType9}}),Object.defineProperty(t,"ResponseError",{enumerable:!0,get:function(){return r.ResponseError}}),Object.defineProperty(t,"ErrorCodes",{enumerable:!0,get:function(){return r.ErrorCodes}}),Object.defineProperty(t,"NotificationType",{enumerable:!0,get:function(){return r.NotificationType}}),Object.defineProperty(t,"NotificationType0",{enumerable:!0,get:function(){return r.NotificationType0}}),Object.defineProperty(t,"NotificationType1",{enumerable:!0,get:function(){return r.NotificationType1}}),Object.defineProperty(t,"NotificationType2",{enumerable:!0,get:function(){return r.NotificationType2}}),Object.defineProperty(t,"NotificationType3",{enumerable:!0,get:function(){return r.NotificationType3}}),Object.defineProperty(t,"NotificationType4",{enumerable:!0,get:function(){return r.NotificationType4}}),Object.defineProperty(t,"NotificationType5",{enumerable:!0,get:function(){return r.NotificationType5}}),Object.defineProperty(t,"NotificationType6",{enumerable:!0,get:function(){return r.NotificationType6}}),Object.defineProperty(t,"NotificationType7",{enumerable:!0,get:function(){return r.NotificationType7}}),Object.defineProperty(t,"NotificationType8",{enumerable:!0,get:function(){return r.NotificationType8}}),Object.defineProperty(t,"NotificationType9",{enumerable:!0,get:function(){return r.NotificationType9}}),Object.defineProperty(t,"ParameterStructures",{enumerable:!0,get:function(){return r.ParameterStructures}});const o=n(6184);Object.defineProperty(t,"LinkedMap",{enumerable:!0,get:function(){return o.LinkedMap}}),Object.defineProperty(t,"LRUCache",{enumerable:!0,get:function(){return o.LRUCache}}),Object.defineProperty(t,"Touch",{enumerable:!0,get:function(){return o.Touch}});const i=n(3911);Object.defineProperty(t,"Disposable",{enumerable:!0,get:function(){return i.Disposable}});const s=n(7135);Object.defineProperty(t,"Event",{enumerable:!0,get:function(){return s.Event}}),Object.defineProperty(t,"Emitter",{enumerable:!0,get:function(){return s.Emitter}});const a=n(3881);Object.defineProperty(t,"CancellationTokenSource",{enumerable:!0,get:function(){return a.CancellationTokenSource}}),Object.defineProperty(t,"CancellationToken",{enumerable:!0,get:function(){return a.CancellationToken}});const c=n(6525);Object.defineProperty(t,"MessageReader",{enumerable:!0,get:function(){return c.MessageReader}}),Object.defineProperty(t,"AbstractMessageReader",{enumerable:!0,get:function(){return c.AbstractMessageReader}}),Object.defineProperty(t,"ReadableStreamMessageReader",{enumerable:!0,get:function(){return c.ReadableStreamMessageReader}});const u=n(6654);Object.defineProperty(t,"MessageWriter",{enumerable:!0,get:function(){return u.MessageWriter}}),Object.defineProperty(t,"AbstractMessageWriter",{enumerable:!0,get:function(){return u.AbstractMessageWriter}}),Object.defineProperty(t,"WriteableStreamMessageWriter",{enumerable:!0,get:function(){return u.WriteableStreamMessageWriter}});const l=n(1343);Object.defineProperty(t,"ConnectionStrategy",{enumerable:!0,get:function(){return l.ConnectionStrategy}}),Object.defineProperty(t,"ConnectionOptions",{enumerable:!0,get:function(){return l.ConnectionOptions}}),Object.defineProperty(t,"NullLogger",{enumerable:!0,get:function(){return l.NullLogger}}),Object.defineProperty(t,"createMessageConnection",{enumerable:!0,get:function(){return l.createMessageConnection}}),Object.defineProperty(t,"ProgressToken",{enumerable:!0,get:function(){return l.ProgressToken}}),Object.defineProperty(t,"ProgressType",{enumerable:!0,get:function(){return l.ProgressType}}),Object.defineProperty(t,"Trace",{enumerable:!0,get:function(){return l.Trace}}),Object.defineProperty(t,"TraceValues",{enumerable:!0,get:function(){return l.TraceValues}}),Object.defineProperty(t,"TraceFormat",{enumerable:!0,get:function(){return l.TraceFormat}}),Object.defineProperty(t,"SetTraceNotification",{enumerable:!0,get:function(){return l.SetTraceNotification}}),Object.defineProperty(t,"LogTraceNotification",{enumerable:!0,get:function(){return l.LogTraceNotification}}),Object.defineProperty(t,"ConnectionErrors",{enumerable:!0,get:function(){return l.ConnectionErrors}}),Object.defineProperty(t,"ConnectionError",{enumerable:!0,get:function(){return l.ConnectionError}}),Object.defineProperty(t,"CancellationReceiverStrategy",{enumerable:!0,get:function(){return l.CancellationReceiverStrategy}}),Object.defineProperty(t,"CancellationSenderStrategy",{enumerable:!0,get:function(){return l.CancellationSenderStrategy}}),Object.defineProperty(t,"CancellationStrategy",{enumerable:!0,get:function(){return l.CancellationStrategy}});const d=n(147);t.RAL=d.default},3881:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CancellationTokenSource=t.CancellationToken=void 0;const r=n(147),o=n(7574),i=n(7135);var s;!function(e){e.None=Object.freeze({isCancellationRequested:!1,onCancellationRequested:i.Event.None}),e.Cancelled=Object.freeze({isCancellationRequested:!0,onCancellationRequested:i.Event.None}),e.is=function(t){const n=t;return n&&(n===e.None||n===e.Cancelled||o.boolean(n.isCancellationRequested)&&!!n.onCancellationRequested)}}(s=t.CancellationToken||(t.CancellationToken={}));const a=Object.freeze((function(e,t){const n=(0,r.default)().timer.setTimeout(e.bind(t),0);return{dispose(){n.dispose()}}}));class c{constructor(){this._isCancelled=!1}cancel(){this._isCancelled||(this._isCancelled=!0,this._emitter&&(this._emitter.fire(void 0),this.dispose()))}get isCancellationRequested(){return this._isCancelled}get onCancellationRequested(){return this._isCancelled?a:(this._emitter||(this._emitter=new i.Emitter),this._emitter.event)}dispose(){this._emitter&&(this._emitter.dispose(),this._emitter=void 0)}}t.CancellationTokenSource=class{get token(){return this._token||(this._token=new c),this._token}cancel(){this._token?this._token.cancel():this._token=s.Cancelled}dispose(){this._token?this._token instanceof c&&this._token.dispose():this._token=s.None}}},1343:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createMessageConnection=t.ConnectionOptions=t.CancellationStrategy=t.CancellationSenderStrategy=t.CancellationReceiverStrategy=t.ConnectionStrategy=t.ConnectionError=t.ConnectionErrors=t.LogTraceNotification=t.SetTraceNotification=t.TraceFormat=t.TraceValues=t.Trace=t.NullLogger=t.ProgressType=t.ProgressToken=void 0;const r=n(147),o=n(7574),i=n(839),s=n(6184),a=n(7135),c=n(3881);var u,l,d,h,p,f,m,g,v,y,w,b,_,C,S;!function(e){e.type=new i.NotificationType("$/cancelRequest")}(u||(u={})),function(e){e.is=function(e){return"string"==typeof e||"number"==typeof e}}(l=t.ProgressToken||(t.ProgressToken={})),function(e){e.type=new i.NotificationType("$/progress")}(d||(d={})),t.ProgressType=class{constructor(){}},function(e){e.is=function(e){return o.func(e)}}(h||(h={})),t.NullLogger=Object.freeze({error:()=>{},warn:()=>{},info:()=>{},log:()=>{}}),function(e){e[e.Off=0]="Off",e[e.Messages=1]="Messages",e[e.Compact=2]="Compact",e[e.Verbose=3]="Verbose"}(p=t.Trace||(t.Trace={})),(S=t.TraceValues||(t.TraceValues={})).Off="off",S.Messages="messages",S.Compact="compact",S.Verbose="verbose",function(e){e.fromString=function(t){if(!o.string(t))return e.Off;switch(t=t.toLowerCase()){case"off":default:return e.Off;case"messages":return e.Messages;case"compact":return e.Compact;case"verbose":return e.Verbose}},e.toString=function(t){switch(t){case e.Off:return"off";case e.Messages:return"messages";case e.Compact:return"compact";case e.Verbose:return"verbose";default:return"off"}}}(p=t.Trace||(t.Trace={})),function(e){e.Text="text",e.JSON="json"}(t.TraceFormat||(t.TraceFormat={})),function(e){e.fromString=function(t){return o.string(t)&&"json"===(t=t.toLowerCase())?e.JSON:e.Text}}(f=t.TraceFormat||(t.TraceFormat={})),function(e){e.type=new i.NotificationType("$/setTrace")}(m=t.SetTraceNotification||(t.SetTraceNotification={})),function(e){e.type=new i.NotificationType("$/logTrace")}(g=t.LogTraceNotification||(t.LogTraceNotification={})),function(e){e[e.Closed=1]="Closed",e[e.Disposed=2]="Disposed",e[e.AlreadyListening=3]="AlreadyListening"}(v=t.ConnectionErrors||(t.ConnectionErrors={}));class T extends Error{constructor(e,t){super(t),this.code=e,Object.setPrototypeOf(this,T.prototype)}}t.ConnectionError=T,function(e){e.is=function(e){const t=e;return t&&o.func(t.cancelUndispatched)}}(y=t.ConnectionStrategy||(t.ConnectionStrategy={})),function(e){e.Message=Object.freeze({createCancellationTokenSource:e=>new c.CancellationTokenSource}),e.is=function(e){const t=e;return t&&o.func(t.createCancellationTokenSource)}}(w=t.CancellationReceiverStrategy||(t.CancellationReceiverStrategy={})),function(e){e.Message=Object.freeze({sendCancellation:(e,t)=>e.sendNotification(u.type,{id:t}),cleanup(e){}}),e.is=function(e){const t=e;return t&&o.func(t.sendCancellation)&&o.func(t.cleanup)}}(b=t.CancellationSenderStrategy||(t.CancellationSenderStrategy={})),function(e){e.Message=Object.freeze({receiver:w.Message,sender:b.Message}),e.is=function(e){const t=e;return t&&w.is(t.receiver)&&b.is(t.sender)}}(_=t.CancellationStrategy||(t.CancellationStrategy={})),(t.ConnectionOptions||(t.ConnectionOptions={})).is=function(e){const t=e;return t&&(_.is(t.cancellationStrategy)||y.is(t.connectionStrategy))},function(e){e[e.New=1]="New",e[e.Listening=2]="Listening",e[e.Closed=3]="Closed",e[e.Disposed=4]="Disposed"}(C||(C={})),t.createMessageConnection=function(e,n,y,w){const b=void 0!==y?y:t.NullLogger;let S=0,E=0,x=0;const D="2.0";let k;const R=new Map;let P;const N=new Map,O=new Map;let I,A,F=new s.LinkedMap,M=new Map,q=new Set,L=new Map,j=p.Off,H=f.Text,$=C.New;const U=new a.Emitter,B=new a.Emitter,W=new a.Emitter,z=new a.Emitter,G=new a.Emitter,V=w&&w.cancellationStrategy?w.cancellationStrategy:_.Message;function K(e){if(null===e)throw new Error("Can't send requests with id null since the response can't be correlated.");return"req-"+e.toString()}function X(e){}function Y(){return $===C.Listening}function J(){return $===C.Closed}function Q(){return $===C.Disposed}function Z(){$!==C.New&&$!==C.Listening||($=C.Closed,B.fire(void 0))}function ee(){I||0===F.size||(I=(0,r.default)().timer.setImmediate((()=>{I=void 0,function(){if(0===F.size)return;const e=F.shift();try{i.Message.isRequest(e)?function(e){if(Q())return;function t(t,r,o){const s={jsonrpc:D,id:e.id};t instanceof i.ResponseError?s.error=t.toJson():s.result=void 0===t?null:t,re(s,r,o),n.write(s).catch((()=>b.error("Sending response failed.")))}function r(t,r,o){const i={jsonrpc:D,id:e.id,error:t.toJson()};re(i,r,o),n.write(i).catch((()=>b.error("Sending response failed.")))}!function(e){if(j!==p.Off&&A)if(H===f.Text){let t;j!==p.Verbose&&j!==p.Compact||!e.params||(t=`Params: ${ne(e.params)}\n\n`),A.log(`Received request '${e.method} - (${e.id})'.`,t)}else ie("receive-request",e)}(e);const s=R.get(e.method);let a,c;s&&(a=s.type,c=s.handler);const u=Date.now();if(c||k){const s=e.id??String(Date.now()),l=V.receiver.createCancellationTokenSource(s);null!==e.id&&q.has(e.id)&&l.cancel(),null!==e.id&&L.set(s,l);try{let d;if(c)if(void 0===e.params){if(void 0!==a&&0!==a.numberOfParams)return void r(new i.ResponseError(i.ErrorCodes.InvalidParams,`Request ${e.method} defines ${a.numberOfParams} params but received none.`),e.method,u);d=c(l.token)}else if(Array.isArray(e.params)){if(void 0!==a&&a.parameterStructures===i.ParameterStructures.byName)return void r(new i.ResponseError(i.ErrorCodes.InvalidParams,`Request ${e.method} defines parameters by name but received parameters by position`),e.method,u);d=c(...e.params,l.token)}else{if(void 0!==a&&a.parameterStructures===i.ParameterStructures.byPosition)return void r(new i.ResponseError(i.ErrorCodes.InvalidParams,`Request ${e.method} defines parameters by position but received parameters by name`),e.method,u);d=c(e.params,l.token)}else k&&(d=k(e.method,e.params,l.token));const h=d;d?h.then?h.then((n=>{L.delete(s),t(n,e.method,u)}),(t=>{L.delete(s),t instanceof i.ResponseError?r(t,e.method,u):t&&o.string(t.message)?r(new i.ResponseError(i.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${t.message}`),e.method,u):r(new i.ResponseError(i.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,u)})):(L.delete(s),t(d,e.method,u)):(L.delete(s),function(t,r,o){void 0===t&&(t=null);const i={jsonrpc:D,id:e.id,result:t};re(i,r,o),n.write(i).catch((()=>b.error("Sending response failed.")))}(d,e.method,u))}catch(n){L.delete(s),n instanceof i.ResponseError?t(n,e.method,u):n&&o.string(n.message)?r(new i.ResponseError(i.ErrorCodes.InternalError,`Request ${e.method} failed with message: ${n.message}`),e.method,u):r(new i.ResponseError(i.ErrorCodes.InternalError,`Request ${e.method} failed unexpectedly without providing any details.`),e.method,u)}}else r(new i.ResponseError(i.ErrorCodes.MethodNotFound,`Unhandled method ${e.method}`),e.method,u)}(e):i.Message.isNotification(e)?function(e){if(Q())return;let t,n;if(e.method===u.type.method){const t=e.params.id;return q.delete(t),void oe(e)}{const r=N.get(e.method);r&&(n=r.handler,t=r.type)}if(n||P)try{if(oe(e),n)if(void 0===e.params)void 0!==t&&0!==t.numberOfParams&&t.parameterStructures!==i.ParameterStructures.byName&&b.error(`Notification ${e.method} defines ${t.numberOfParams} params but received none.`),n();else if(Array.isArray(e.params)){const r=e.params;e.method===d.type.method&&2===r.length&&l.is(r[0])?n({token:r[0],value:r[1]}):(void 0!==t&&(t.parameterStructures===i.ParameterStructures.byName&&b.error(`Notification ${e.method} defines parameters by name but received parameters by position`),t.numberOfParams!==e.params.length&&b.error(`Notification ${e.method} defines ${t.numberOfParams} params but received ${r.length} arguments`)),n(...r))}else void 0!==t&&t.parameterStructures===i.ParameterStructures.byPosition&&b.error(`Notification ${e.method} defines parameters by position but received parameters by name`),n(e.params);else P&&P(e.method,e.params)}catch(t){t.message?b.error(`Notification handler '${e.method}' failed with message: ${t.message}`):b.error(`Notification handler '${e.method}' failed unexpectedly.`)}else W.fire(e)}(e):i.Message.isResponse(e)?function(e){if(!Q())if(null===e.id)e.error?b.error(`Received response message without id: Error is: \n${JSON.stringify(e.error,void 0,4)}`):b.error("Received response message without id. No further error information provided.");else{const t=e.id,n=M.get(t);if(function(e,t){if(j!==p.Off&&A)if(H===f.Text){let n;if(j!==p.Verbose&&j!==p.Compact||(e.error&&e.error.data?n=`Error data: ${ne(e.error.data)}\n\n`:e.result?n=`Result: ${ne(e.result)}\n\n`:void 0===e.error&&(n="No result returned.\n\n")),t){const r=e.error?` Request failed: ${e.error.message} (${e.error.code}).`:"";A.log(`Received response '${t.method} - (${e.id})' in ${Date.now()-t.timerStart}ms.${r}`,n)}else A.log(`Received response ${e.id} without active response promise.`,n)}else ie("receive-response",e)}(e,n),void 0!==n){M.delete(t);try{if(e.error){const t=e.error;n.reject(new i.ResponseError(t.code,t.message,t.data))}else{if(void 0===e.result)throw new Error("Should never happen.");n.resolve(e.result)}}catch(e){e.message?b.error(`Response handler '${n.method}' failed with message: ${e.message}`):b.error(`Response handler '${n.method}' failed unexpectedly.`)}}}}(e):function(e){if(!e)return void b.error("Received empty message.");b.error(`Received message which is neither a response nor a notification message:\n${JSON.stringify(e,null,4)}`);const t=e;if(o.string(t.id)||o.number(t.id)){const e=t.id,n=M.get(e);n&&n.reject(new Error("The received response has neither a result nor an error property."))}}(e)}finally{ee()}}()})))}e.onClose(Z),e.onError((function(e){U.fire([e,void 0,void 0])})),n.onClose(Z),n.onError((function(e){U.fire(e)}));const te=e=>{try{if(i.Message.isNotification(e)&&e.method===u.type.method){const t=e.params.id,r=K(t),o=F.get(r);if(i.Message.isRequest(o)){const i=w?.connectionStrategy,s=i&&i.cancelUndispatched?i.cancelUndispatched(o,X):void 0;if(s&&(void 0!==s.error||void 0!==s.result))return F.delete(r),L.delete(t),s.id=o.id,re(s,e.method,Date.now()),void n.write(s).catch((()=>b.error("Sending response for canceled message failed.")))}const s=L.get(t);if(void 0!==s)return s.cancel(),void oe(e);q.add(t)}!function(e,t){var n;i.Message.isRequest(t)?e.set(K(t.id),t):i.Message.isResponse(t)?e.set(null===(n=t.id)?"res-unknown-"+(++x).toString():"res-"+n.toString(),t):e.set("not-"+(++E).toString(),t)}(F,e)}finally{ee()}};function ne(e){if(null!=e)switch(j){case p.Verbose:return JSON.stringify(e,null,4);case p.Compact:return JSON.stringify(e);default:return}}function re(e,t,n){if(j!==p.Off&&A)if(H===f.Text){let r;j!==p.Verbose&&j!==p.Compact||(e.error&&e.error.data?r=`Error data: ${ne(e.error.data)}\n\n`:e.result?r=`Result: ${ne(e.result)}\n\n`:void 0===e.error&&(r="No result returned.\n\n")),A.log(`Sending response '${t} - (${e.id})'. Processing request took ${Date.now()-n}ms`,r)}else ie("send-response",e)}function oe(e){if(j!==p.Off&&A&&e.method!==g.type.method)if(H===f.Text){let t;j!==p.Verbose&&j!==p.Compact||(t=e.params?`Params: ${ne(e.params)}\n\n`:"No parameters provided.\n\n"),A.log(`Received notification '${e.method}'.`,t)}else ie("receive-notification",e)}function ie(e,t){if(!A||j===p.Off)return;const n={isLSPMessage:!0,type:e,message:t,timestamp:Date.now()};A.log(n)}function se(){if(J())throw new T(v.Closed,"Connection is closed.");if(Q())throw new T(v.Disposed,"Connection is disposed.")}function ae(e){return void 0===e?null:e}function ce(e){return null===e?void 0:e}function ue(e){return null!=e&&!Array.isArray(e)&&"object"==typeof e}function le(e,t){switch(e){case i.ParameterStructures.auto:return ue(t)?ce(t):[ae(t)];case i.ParameterStructures.byName:if(!ue(t))throw new Error("Received parameters by name but param is not an object literal.");return ce(t);case i.ParameterStructures.byPosition:return[ae(t)];default:throw new Error(`Unknown parameter structure ${e.toString()}`)}}function de(e,t){let n;const r=e.numberOfParams;switch(r){case 0:n=void 0;break;case 1:n=le(e.parameterStructures,t[0]);break;default:n=[];for(let e=0;e<t.length&&e<r;e++)n.push(ae(t[e]));if(t.length<r)for(let e=t.length;e<r;e++)n.push(null)}return n}const he={sendNotification:(e,...t)=>{let r,s;if(se(),o.string(e)){r=e;const n=t[0];let o=0,a=i.ParameterStructures.auto;i.ParameterStructures.is(n)&&(o=1,a=n);let c=t.length;const u=c-o;switch(u){case 0:s=void 0;break;case 1:s=le(a,t[o]);break;default:if(a===i.ParameterStructures.byName)throw new Error(`Received ${u} parameters for 'by Name' notification parameter structure.`);s=t.slice(o,c).map((e=>ae(e)))}}else{const n=t;r=e.method,s=de(e,n)}const a={jsonrpc:D,method:r,params:s};return function(e){if(j!==p.Off&&A)if(H===f.Text){let t;j!==p.Verbose&&j!==p.Compact||(t=e.params?`Params: ${ne(e.params)}\n\n`:"No parameters provided.\n\n"),A.log(`Sending notification '${e.method}'.`,t)}else ie("send-notification",e)}(a),n.write(a).catch((()=>b.error("Sending notification failed.")))},onNotification:(e,t)=>{let n;return se(),o.func(e)?P=e:t&&(o.string(e)?(n=e,N.set(e,{type:void 0,handler:t})):(n=e.method,N.set(e.method,{type:e,handler:t}))),{dispose:()=>{void 0!==n?N.delete(n):P=void 0}}},onProgress:(e,t,n)=>{if(O.has(t))throw new Error(`Progress handler for token ${t} already registered`);return O.set(t,n),{dispose:()=>{O.delete(t)}}},sendProgress:(e,t,n)=>he.sendNotification(d.type,{token:t,value:n}),onUnhandledProgress:z.event,sendRequest:(e,...t)=>{let r,s,a;if(se(),function(){if(!Y())throw new Error("Call listen() first.")}(),o.string(e)){r=e;const n=t[0],o=t[t.length-1];let u=0,l=i.ParameterStructures.auto;i.ParameterStructures.is(n)&&(u=1,l=n);let d=t.length;c.CancellationToken.is(o)&&(d-=1,a=o);const h=d-u;switch(h){case 0:s=void 0;break;case 1:s=le(l,t[u]);break;default:if(l===i.ParameterStructures.byName)throw new Error(`Received ${h} parameters for 'by Name' request parameter structure.`);s=t.slice(u,d).map((e=>ae(e)))}}else{const n=t;r=e.method,s=de(e,n);const o=e.numberOfParams;a=c.CancellationToken.is(n[o])?n[o]:void 0}const u=S++;let l;return a&&(l=a.onCancellationRequested((()=>{const e=V.sender.sendCancellation(he,u);return void 0===e?(b.log(`Received no promise from cancellation strategy when cancelling id ${u}`),Promise.resolve()):e.catch((()=>{b.log(`Sending cancellation messages for id ${u} failed`)}))}))),new Promise(((e,t)=>{const o={jsonrpc:D,id:u,method:r,params:s};let a={method:r,timerStart:Date.now(),resolve:t=>{e(t),V.sender.cleanup(u),l?.dispose()},reject:e=>{t(e),V.sender.cleanup(u),l?.dispose()}};!function(e){if(j!==p.Off&&A)if(H===f.Text){let t;j!==p.Verbose&&j!==p.Compact||!e.params||(t=`Params: ${ne(e.params)}\n\n`),A.log(`Sending request '${e.method} - (${e.id})'.`,t)}else ie("send-request",e)}(o);try{n.write(o).catch((()=>b.error("Sending request failed.")))}catch(e){a.reject(new i.ResponseError(i.ErrorCodes.MessageWriteError,e.message?e.message:"Unknown reason")),a=null}a&&M.set(u,a)}))},onRequest:(e,t)=>{se();let n=null;return h.is(e)?(n=void 0,k=e):o.string(e)?(n=null,void 0!==t&&(n=e,R.set(e,{handler:t,type:void 0}))):void 0!==t&&(n=e.method,R.set(e.method,{type:e,handler:t})),{dispose:()=>{null!==n&&(void 0!==n?R.delete(n):k=void 0)}}},hasPendingResponse:()=>M.size>0,trace:async(e,t,n)=>{let r=!1,i=f.Text;void 0!==n&&(o.boolean(n)?r=n:(r=n.sendNotification||!1,i=n.traceFormat||f.Text)),j=e,H=i,A=j===p.Off?void 0:t,!r||J()||Q()||await he.sendNotification(m.type,{value:p.toString(e)})},onError:U.event,onClose:B.event,onUnhandledNotification:W.event,onDispose:G.event,end:()=>{n.end()},dispose:()=>{if(Q())return;$=C.Disposed,G.fire(void 0);const t=new i.ResponseError(i.ErrorCodes.PendingResponseRejected,"Pending response rejected since connection got disposed");for(const e of M.values())e.reject(t);M=new Map,L=new Map,q=new Set,F=new s.LinkedMap,o.func(n.dispose)&&n.dispose(),o.func(e.dispose)&&e.dispose()},listen:()=>{se(),function(){if(Y())throw new T(v.AlreadyListening,"Connection is already listening")}(),$=C.Listening,e.listen(te)},inspect:()=>{(0,r.default)().console.log("inspect")}};return he.onNotification(g.type,(e=>{if(j===p.Off||!A)return;const t=j===p.Verbose||j===p.Compact;A.log(e.message,t?e.verbose:void 0)})),he.onNotification(d.type,(e=>{const t=O.get(e.token);t?t(e.value):z.fire(e)})),he}},3911:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Disposable=void 0,(t.Disposable||(t.Disposable={})).create=function(e){return{dispose:e}}},7135:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Emitter=t.Event=void 0;const r=n(147);!function(e){const t={dispose(){}};e.None=function(){return t}}(t.Event||(t.Event={}));class o{add(e,t=null,n){this._callbacks||(this._callbacks=[],this._contexts=[]),this._callbacks.push(e),this._contexts.push(t),Array.isArray(n)&&n.push({dispose:()=>this.remove(e,t)})}remove(e,t=null){if(!this._callbacks)return;let n=!1;for(let r=0,o=this._callbacks.length;r<o;r++)if(this._callbacks[r]===e){if(this._contexts[r]===t)return this._callbacks.splice(r,1),void this._contexts.splice(r,1);n=!0}if(n)throw new Error("When adding a listener with a context, you should remove it with the same context")}invoke(...e){if(!this._callbacks)return[];const t=[],n=this._callbacks.slice(0),o=this._contexts.slice(0);for(let i=0,s=n.length;i<s;i++)try{t.push(n[i].apply(o[i],e))}catch(e){(0,r.default)().console.error(e)}return t}isEmpty(){return!this._callbacks||0===this._callbacks.length}dispose(){this._callbacks=void 0,this._contexts=void 0}}class i{constructor(e){this._options=e}get event(){return this._event||(this._event=(e,t,n)=>{this._callbacks||(this._callbacks=new o),this._options&&this._options.onFirstListenerAdd&&this._callbacks.isEmpty()&&this._options.onFirstListenerAdd(this),this._callbacks.add(e,t);const r={dispose:()=>{this._callbacks&&(this._callbacks.remove(e,t),r.dispose=i._noop,this._options&&this._options.onLastListenerRemove&&this._callbacks.isEmpty()&&this._options.onLastListenerRemove(this))}};return Array.isArray(n)&&n.push(r),r}),this._event}fire(e){this._callbacks&&this._callbacks.invoke.call(this._callbacks,e)}dispose(){this._callbacks&&(this._callbacks.dispose(),this._callbacks=void 0)}}t.Emitter=i,i._noop=function(){}},7574:(e,t)=>{"use strict";function n(e){return"string"==typeof e||e instanceof String}function r(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.stringArray=t.array=t.func=t.error=t.number=t.string=t.boolean=void 0,t.boolean=function(e){return!0===e||!1===e},t.string=n,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=function(e){return"function"==typeof e},t.array=r,t.stringArray=function(e){return r(e)&&e.every((e=>n(e)))}},6184:(e,t)=>{"use strict";var n,r;Object.defineProperty(t,"__esModule",{value:!0}),t.LRUCache=t.LinkedMap=t.Touch=void 0,function(e){e.None=0,e.First=1,e.AsOld=e.First,e.Last=2,e.AsNew=e.Last}(r=t.Touch||(t.Touch={}));class o{constructor(){this[n]="LinkedMap",this._map=new Map,this._head=void 0,this._tail=void 0,this._size=0,this._state=0}clear(){this._map.clear(),this._head=void 0,this._tail=void 0,this._size=0,this._state++}isEmpty(){return!this._head&&!this._tail}get size(){return this._size}get first(){return this._head?.value}get last(){return this._tail?.value}has(e){return this._map.has(e)}get(e,t=r.None){const n=this._map.get(e);if(n)return t!==r.None&&this.touch(n,t),n.value}set(e,t,n=r.None){let o=this._map.get(e);if(o)o.value=t,n!==r.None&&this.touch(o,n);else{switch(o={key:e,value:t,next:void 0,previous:void 0},n){case r.None:this.addItemLast(o);break;case r.First:this.addItemFirst(o);break;case r.Last:default:this.addItemLast(o)}this._map.set(e,o),this._size++}return this}delete(e){return!!this.remove(e)}remove(e){const t=this._map.get(e);if(t)return this._map.delete(e),this.removeItem(t),this._size--,t.value}shift(){if(!this._head&&!this._tail)return;if(!this._head||!this._tail)throw new Error("Invalid list");const e=this._head;return this._map.delete(e.key),this.removeItem(e),this._size--,e.value}forEach(e,t){const n=this._state;let r=this._head;for(;r;){if(t?e.bind(t)(r.value,r.key,this):e(r.value,r.key,this),this._state!==n)throw new Error("LinkedMap got modified during iteration.");r=r.next}}keys(){const e=this._state;let t=this._head;const n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){const e={value:t.key,done:!1};return t=t.next,e}return{value:void 0,done:!0}}};return n}values(){const e=this._state;let t=this._head;const n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){const e={value:t.value,done:!1};return t=t.next,e}return{value:void 0,done:!0}}};return n}entries(){const e=this._state;let t=this._head;const n={[Symbol.iterator]:()=>n,next:()=>{if(this._state!==e)throw new Error("LinkedMap got modified during iteration.");if(t){const e={value:[t.key,t.value],done:!1};return t=t.next,e}return{value:void 0,done:!0}}};return n}[(n=Symbol.toStringTag,Symbol.iterator)](){return this.entries()}trimOld(e){if(e>=this.size)return;if(0===e)return void this.clear();let t=this._head,n=this.size;for(;t&&n>e;)this._map.delete(t.key),t=t.next,n--;this._head=t,this._size=n,t&&(t.previous=void 0),this._state++}addItemFirst(e){if(this._head||this._tail){if(!this._head)throw new Error("Invalid list");e.next=this._head,this._head.previous=e}else this._tail=e;this._head=e,this._state++}addItemLast(e){if(this._head||this._tail){if(!this._tail)throw new Error("Invalid list");e.previous=this._tail,this._tail.next=e}else this._head=e;this._tail=e,this._state++}removeItem(e){if(e===this._head&&e===this._tail)this._head=void 0,this._tail=void 0;else if(e===this._head){if(!e.next)throw new Error("Invalid list");e.next.previous=void 0,this._head=e.next}else if(e===this._tail){if(!e.previous)throw new Error("Invalid list");e.previous.next=void 0,this._tail=e.previous}else{const t=e.next,n=e.previous;if(!t||!n)throw new Error("Invalid list");t.previous=n,n.next=t}e.next=void 0,e.previous=void 0,this._state++}touch(e,t){if(!this._head||!this._tail)throw new Error("Invalid list");if(t===r.First||t===r.Last)if(t===r.First){if(e===this._head)return;const t=e.next,n=e.previous;e===this._tail?(n.next=void 0,this._tail=n):(t.previous=n,n.next=t),e.previous=void 0,e.next=this._head,this._head.previous=e,this._head=e,this._state++}else if(t===r.Last){if(e===this._tail)return;const t=e.next,n=e.previous;e===this._head?(t.previous=void 0,this._head=t):(t.previous=n,n.next=t),e.next=void 0,e.previous=this._tail,this._tail.next=e,this._tail=e,this._state++}}toJSON(){const e=[];return this.forEach(((t,n)=>{e.push([n,t])})),e}fromJSON(e){this.clear();for(const[t,n]of e)this.set(t,n)}}t.LinkedMap=o,t.LRUCache=class extends o{constructor(e,t=1){super(),this._limit=e,this._ratio=Math.min(Math.max(0,t),1)}get limit(){return this._limit}set limit(e){this._limit=e,this.checkTrim()}get ratio(){return this._ratio}set ratio(e){this._ratio=Math.min(Math.max(0,e),1),this.checkTrim()}get(e,t=r.AsNew){return super.get(e,t)}peek(e){return super.get(e,r.None)}set(e,t){return super.set(e,t,r.Last),this.checkTrim(),this}checkTrim(){this.size>this._limit&&this.trimOld(Math.round(this._limit*this._ratio))}}},5530:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AbstractMessageBuffer=void 0,t.AbstractMessageBuffer=class{constructor(e="utf-8"){this._encoding=e,this._chunks=[],this._totalLength=0}get encoding(){return this._encoding}append(e){const t="string"==typeof e?this.fromString(e,this._encoding):e;this._chunks.push(t),this._totalLength+=t.byteLength}tryReadHeaders(){if(0===this._chunks.length)return;let e=0,t=0,n=0,r=0;e:for(;t<this._chunks.length;){const o=this._chunks[t];for(n=0;n<o.length;){switch(o[n]){case 13:switch(e){case 0:e=1;break;case 2:e=3;break;default:e=0}break;case 10:switch(e){case 1:e=2;break;case 3:e=4,n++;break e;default:e=0}break;default:e=0}n++}r+=o.byteLength,t++}if(4!==e)return;const o=this._read(r+n),i=new Map,s=this.toString(o,"ascii").split("\r\n");if(s.length<2)return i;for(let e=0;e<s.length-2;e++){const t=s[e],n=t.indexOf(":");if(-1===n)throw new Error("Message header must separate key and value using :");const r=t.substr(0,n),o=t.substr(n+1).trim();i.set(r,o)}return i}tryReadBody(e){if(!(this._totalLength<e))return this._read(e)}get numberOfBytes(){return this._totalLength}_read(e){if(0===e)return this.emptyBuffer();if(e>this._totalLength)throw new Error("Cannot read so many bytes!");if(this._chunks[0].byteLength===e){const t=this._chunks[0];return this._chunks.shift(),this._totalLength-=e,this.asNative(t)}if(this._chunks[0].byteLength>e){const t=this._chunks[0],n=this.asNative(t,e);return this._chunks[0]=t.slice(e),this._totalLength-=e,n}const t=this.allocNative(e);let n=0;for(;e>0;){const r=this._chunks[0];if(r.byteLength>e){const o=r.slice(0,e);t.set(o,n),n+=e,this._chunks[0]=r.slice(e),this._totalLength-=e,e-=e}else t.set(r,n),n+=r.byteLength,this._chunks.shift(),this._totalLength-=r.byteLength,e-=r.byteLength}return t}}},6525:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReadableStreamMessageReader=t.AbstractMessageReader=t.MessageReader=void 0;const r=n(147),o=n(7574),i=n(7135);var s;(t.MessageReader||(t.MessageReader={})).is=function(e){let t=e;return t&&o.func(t.listen)&&o.func(t.dispose)&&o.func(t.onError)&&o.func(t.onClose)&&o.func(t.onPartialMessage)};class a{constructor(){this.errorEmitter=new i.Emitter,this.closeEmitter=new i.Emitter,this.partialMessageEmitter=new i.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e){this.errorEmitter.fire(this.asError(e))}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}get onPartialMessage(){return this.partialMessageEmitter.event}firePartialMessage(e){this.partialMessageEmitter.fire(e)}asError(e){return e instanceof Error?e:new Error(`Reader received error. Reason: ${o.string(e.message)?e.message:"unknown"}`)}}t.AbstractMessageReader=a,function(e){e.fromOptions=function(e){let t,n;const o=new Map;let i;const s=new Map;if(void 0===e||"string"==typeof e)t=e??"utf-8";else{if(t=e.charset??"utf-8",void 0!==e.contentDecoder&&(n=e.contentDecoder,o.set(n.name,n)),void 0!==e.contentDecoders)for(const t of e.contentDecoders)o.set(t.name,t);if(void 0!==e.contentTypeDecoder&&(i=e.contentTypeDecoder,s.set(i.name,i)),void 0!==e.contentTypeDecoders)for(const t of e.contentTypeDecoders)s.set(t.name,t)}return void 0===i&&(i=(0,r.default)().applicationJson.decoder,s.set(i.name,i)),{charset:t,contentDecoder:n,contentDecoders:o,contentTypeDecoder:i,contentTypeDecoders:s}}}(s||(s={})),t.ReadableStreamMessageReader=class extends a{constructor(e,t){super(),this.readable=e,this.options=s.fromOptions(t),this.buffer=(0,r.default)().messageBuffer.create(this.options.charset),this._partialMessageTimeout=1e4,this.nextMessageLength=-1,this.messageToken=0}set partialMessageTimeout(e){this._partialMessageTimeout=e}get partialMessageTimeout(){return this._partialMessageTimeout}listen(e){this.nextMessageLength=-1,this.messageToken=0,this.partialMessageTimer=void 0,this.callback=e;const t=this.readable.onData((e=>{this.onData(e)}));return this.readable.onError((e=>this.fireError(e))),this.readable.onClose((()=>this.fireClose())),t}onData(e){for(this.buffer.append(e);;){if(-1===this.nextMessageLength){const e=this.buffer.tryReadHeaders();if(!e)return;const t=e.get("Content-Length");if(!t)throw new Error("Header must provide a Content-Length property.");const n=parseInt(t);if(isNaN(n))throw new Error("Content-Length value must be a number.");this.nextMessageLength=n}const e=this.buffer.tryReadBody(this.nextMessageLength);if(void 0===e)return void this.setPartialMessageTimer();let t;this.clearPartialMessageTimer(),this.nextMessageLength=-1,t=void 0!==this.options.contentDecoder?this.options.contentDecoder.decode(e):Promise.resolve(e),t.then((e=>{this.options.contentTypeDecoder.decode(e,this.options).then((e=>{this.callback(e)}),(e=>{this.fireError(e)}))}),(e=>{this.fireError(e)}))}}clearPartialMessageTimer(){this.partialMessageTimer&&(this.partialMessageTimer.dispose(),this.partialMessageTimer=void 0)}setPartialMessageTimer(){this.clearPartialMessageTimer(),this._partialMessageTimeout<=0||(this.partialMessageTimer=(0,r.default)().timer.setTimeout(((e,t)=>{this.partialMessageTimer=void 0,e===this.messageToken&&(this.firePartialMessage({messageToken:e,waitingTime:t}),this.setPartialMessageTimer())}),this._partialMessageTimeout,this.messageToken,this._partialMessageTimeout))}}},6654:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WriteableStreamMessageWriter=t.AbstractMessageWriter=t.MessageWriter=void 0;const r=n(147),o=n(7574),i=n(142),s=n(7135);var a;(t.MessageWriter||(t.MessageWriter={})).is=function(e){let t=e;return t&&o.func(t.dispose)&&o.func(t.onClose)&&o.func(t.onError)&&o.func(t.write)};class c{constructor(){this.errorEmitter=new s.Emitter,this.closeEmitter=new s.Emitter}dispose(){this.errorEmitter.dispose(),this.closeEmitter.dispose()}get onError(){return this.errorEmitter.event}fireError(e,t,n){this.errorEmitter.fire([this.asError(e),t,n])}get onClose(){return this.closeEmitter.event}fireClose(){this.closeEmitter.fire(void 0)}asError(e){return e instanceof Error?e:new Error(`Writer received error. Reason: ${o.string(e.message)?e.message:"unknown"}`)}}t.AbstractMessageWriter=c,function(e){e.fromOptions=function(e){return void 0===e||"string"==typeof e?{charset:e??"utf-8",contentTypeEncoder:(0,r.default)().applicationJson.encoder}:{charset:e.charset??"utf-8",contentEncoder:e.contentEncoder,contentTypeEncoder:e.contentTypeEncoder??(0,r.default)().applicationJson.encoder}}}(a||(a={})),t.WriteableStreamMessageWriter=class extends c{constructor(e,t){super(),this.writable=e,this.options=a.fromOptions(t),this.errorCount=0,this.writeSemaphore=new i.Semaphore(1),this.writable.onError((e=>this.fireError(e))),this.writable.onClose((()=>this.fireClose()))}async write(e){return this.writeSemaphore.lock((async()=>this.options.contentTypeEncoder.encode(e,this.options).then((e=>void 0!==this.options.contentEncoder?this.options.contentEncoder.encode(e):e)).then((t=>{const n=[];return n.push("Content-Length: ",t.byteLength.toString(),"\r\n"),n.push("\r\n"),this.doWrite(e,n,t)}),(e=>{throw this.fireError(e),e}))))}async doWrite(e,t,n){try{return await this.writable.write(t.join(""),"ascii"),this.writable.write(n)}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){this.writable.end()}}},839:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Message=t.NotificationType9=t.NotificationType8=t.NotificationType7=t.NotificationType6=t.NotificationType5=t.NotificationType4=t.NotificationType3=t.NotificationType2=t.NotificationType1=t.NotificationType0=t.NotificationType=t.RequestType9=t.RequestType8=t.RequestType7=t.RequestType6=t.RequestType5=t.RequestType4=t.RequestType3=t.RequestType2=t.RequestType1=t.RequestType=t.RequestType0=t.AbstractMessageSignature=t.ParameterStructures=t.ResponseError=t.ErrorCodes=void 0;const r=n(7574);var o,i;!function(e){e.ParseError=-32700,e.InvalidRequest=-32600,e.MethodNotFound=-32601,e.InvalidParams=-32602,e.InternalError=-32603,e.jsonrpcReservedErrorRangeStart=-32099,e.serverErrorStart=-32099,e.MessageWriteError=-32099,e.MessageReadError=-32098,e.PendingResponseRejected=-32097,e.ConnectionInactive=-32096,e.ServerNotInitialized=-32002,e.UnknownErrorCode=-32001,e.jsonrpcReservedErrorRangeEnd=-32e3,e.serverErrorEnd=-32e3}(o=t.ErrorCodes||(t.ErrorCodes={}));class s extends Error{constructor(e,t,n){super(t),this.code=r.number(e)?e:o.UnknownErrorCode,this.data=n,Object.setPrototypeOf(this,s.prototype)}toJson(){const e={code:this.code,message:this.message};return void 0!==this.data&&(e.data=this.data),e}}t.ResponseError=s;class a{constructor(e){this.kind=e}static is(e){return e===a.auto||e===a.byName||e===a.byPosition}toString(){return this.kind}}t.ParameterStructures=a,a.auto=new a("auto"),a.byPosition=new a("byPosition"),a.byName=new a("byName");class c{constructor(e,t){this.method=e,this.numberOfParams=t}get parameterStructures(){return a.auto}}t.AbstractMessageSignature=c,t.RequestType0=class extends c{constructor(e){super(e,0)}},t.RequestType=class extends c{constructor(e,t=a.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}},t.RequestType1=class extends c{constructor(e,t=a.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}},t.RequestType2=class extends c{constructor(e){super(e,2)}},t.RequestType3=class extends c{constructor(e){super(e,3)}},t.RequestType4=class extends c{constructor(e){super(e,4)}},t.RequestType5=class extends c{constructor(e){super(e,5)}},t.RequestType6=class extends c{constructor(e){super(e,6)}},t.RequestType7=class extends c{constructor(e){super(e,7)}},t.RequestType8=class extends c{constructor(e){super(e,8)}},t.RequestType9=class extends c{constructor(e){super(e,9)}},t.NotificationType=class extends c{constructor(e,t=a.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}},t.NotificationType0=class extends c{constructor(e){super(e,0)}},t.NotificationType1=class extends c{constructor(e,t=a.auto){super(e,1),this._parameterStructures=t}get parameterStructures(){return this._parameterStructures}},t.NotificationType2=class extends c{constructor(e){super(e,2)}},t.NotificationType3=class extends c{constructor(e){super(e,3)}},t.NotificationType4=class extends c{constructor(e){super(e,4)}},t.NotificationType5=class extends c{constructor(e){super(e,5)}},t.NotificationType6=class extends c{constructor(e){super(e,6)}},t.NotificationType7=class extends c{constructor(e){super(e,7)}},t.NotificationType8=class extends c{constructor(e){super(e,8)}},t.NotificationType9=class extends c{constructor(e){super(e,9)}},(i=t.Message||(t.Message={})).isRequest=function(e){const t=e;return t&&r.string(t.method)&&(r.string(t.id)||r.number(t.id))},i.isNotification=function(e){const t=e;return t&&r.string(t.method)&&void 0===e.id},i.isResponse=function(e){const t=e;return t&&(void 0!==t.result||!!t.error)&&(r.string(t.id)||r.number(t.id)||null===t.id)}},147:(e,t)=>{"use strict";let n;function r(){if(void 0===n)throw new Error("No runtime abstraction layer installed");return n}Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.install=function(e){if(void 0===e)throw new Error("No runtime abstraction layer provided");n=e}}(r||(r={})),t.default=r},142:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Semaphore=void 0;const r=n(147);t.Semaphore=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise(((t,n)=>{this._waiting.push({thunk:e,resolve:t,reject:n}),this.runNext()}))}get active(){return this._active}runNext(){0!==this._waiting.length&&this._active!==this._capacity&&(0,r.default)().timer.setImmediate((()=>this.doRunNext()))}doRunNext(){if(0===this._waiting.length||this._active===this._capacity)return;const e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{const t=e.thunk();t instanceof Promise?t.then((t=>{this._active--,e.resolve(t),this.runNext()}),(t=>{this._active--,e.reject(t),this.runNext()})):(this._active--,e.resolve(t),this.runNext())}catch(t){this._active--,e.reject(t),this.runNext()}}}},4389:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.createMessageConnection=t.createServerSocketTransport=t.createClientSocketTransport=t.createServerPipeTransport=t.createClientPipeTransport=t.generateRandomPipeName=t.StreamMessageWriter=t.StreamMessageReader=t.SocketMessageWriter=t.SocketMessageReader=t.IPCMessageWriter=t.IPCMessageReader=void 0;const i=n(3034);i.default.install();const s=n(3870),a=n(1017),c=n(2037),u=n(6113),l=n(1808);o(n(3870),t);class d extends s.AbstractMessageReader{constructor(e){super(),this.process=e;let t=this.process;t.on("error",(e=>this.fireError(e))),t.on("close",(()=>this.fireClose()))}listen(e){return this.process.on("message",e),s.Disposable.create((()=>this.process.off("message",e)))}}t.IPCMessageReader=d;class h extends s.AbstractMessageWriter{constructor(e){super(),this.process=e,this.errorCount=0;let t=this.process;t.on("error",(e=>this.fireError(e))),t.on("close",(()=>this.fireClose))}write(e){try{return"function"==typeof this.process.send&&this.process.send(e,void 0,void 0,(t=>{t?(this.errorCount++,this.handleError(t,e)):this.errorCount=0})),Promise.resolve()}catch(t){return this.handleError(t,e),Promise.reject(t)}}handleError(e,t){this.errorCount++,this.fireError(e,t,this.errorCount)}end(){}}t.IPCMessageWriter=h;class p extends s.ReadableStreamMessageReader{constructor(e,t="utf-8"){super((0,i.default)().stream.asReadableStream(e),t)}}t.SocketMessageReader=p;class f extends s.WriteableStreamMessageWriter{constructor(e,t){super((0,i.default)().stream.asWritableStream(e),t),this.socket=e}dispose(){super.dispose(),this.socket.destroy()}}t.SocketMessageWriter=f;class m extends s.ReadableStreamMessageReader{constructor(e,t){super((0,i.default)().stream.asReadableStream(e),t)}}t.StreamMessageReader=m;class g extends s.WriteableStreamMessageWriter{constructor(e,t){super((0,i.default)().stream.asWritableStream(e),t)}}t.StreamMessageWriter=g;const v=process.env.XDG_RUNTIME_DIR,y=new Map([["linux",107],["darwin",103]]);t.generateRandomPipeName=function(){const e=(0,u.randomBytes)(21).toString("hex");if("win32"===process.platform)return`\\\\.\\pipe\\vscode-jsonrpc-${e}-sock`;let t;t=v?a.join(v,`vscode-ipc-${e}.sock`):a.join(c.tmpdir(),`vscode-${e}.sock`);const n=y.get(process.platform);return void 0!==n&&t.length>=n&&(0,i.default)().console.warn(`WARNING: IPC handle "${t}" is longer than ${n} characters.`),t},t.createClientPipeTransport=function(e,t="utf-8"){let n;const r=new Promise(((e,t)=>{n=e}));return new Promise(((o,i)=>{let s=(0,l.createServer)((e=>{s.close(),n([new p(e,t),new f(e,t)])}));s.on("error",i),s.listen(e,(()=>{s.removeListener("error",i),o({onConnected:()=>r})}))}))},t.createServerPipeTransport=function(e,t="utf-8"){const n=(0,l.createConnection)(e);return[new p(n,t),new f(n,t)]},t.createClientSocketTransport=function(e,t="utf-8"){let n;const r=new Promise(((e,t)=>{n=e}));return new Promise(((o,i)=>{const s=(0,l.createServer)((e=>{s.close(),n([new p(e,t),new f(e,t)])}));s.on("error",i),s.listen(e,"127.0.0.1",(()=>{s.removeListener("error",i),o({onConnected:()=>r})}))}))},t.createServerSocketTransport=function(e,t="utf-8"){const n=(0,l.createConnection)(e,"127.0.0.1");return[new p(n,t),new f(n,t)]},t.createMessageConnection=function(e,t,n,r){n||(n=s.NullLogger);const o=function(e){const t=e;return void 0!==t.read&&void 0!==t.addListener}(e)?new m(e):e,i=function(e){const t=e;return void 0!==t.write&&void 0!==t.addListener}(t)?new g(t):t;return s.ConnectionStrategy.is(r)&&(r={connectionStrategy:r}),(0,s.createMessageConnection)(o,i,n,r)}},3034:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(147),o=n(3837),i=n(3911),s=n(5530);class a extends s.AbstractMessageBuffer{constructor(e="utf-8"){super(e)}emptyBuffer(){return a.emptyBuffer}fromString(e,t){return Buffer.from(e,t)}toString(e,t){return e instanceof Buffer?e.toString(t):new o.TextDecoder(t).decode(e)}asNative(e,t){return void 0===t?e instanceof Buffer?e:Buffer.from(e):e instanceof Buffer?e.slice(0,t):Buffer.from(e,0,t)}allocNative(e){return Buffer.allocUnsafe(e)}}a.emptyBuffer=Buffer.allocUnsafe(0);class c{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),i.Disposable.create((()=>this.stream.off("close",e)))}onError(e){return this.stream.on("error",e),i.Disposable.create((()=>this.stream.off("error",e)))}onEnd(e){return this.stream.on("end",e),i.Disposable.create((()=>this.stream.off("end",e)))}onData(e){return this.stream.on("data",e),i.Disposable.create((()=>this.stream.off("data",e)))}}class u{constructor(e){this.stream=e}onClose(e){return this.stream.on("close",e),i.Disposable.create((()=>this.stream.off("close",e)))}onError(e){return this.stream.on("error",e),i.Disposable.create((()=>this.stream.off("error",e)))}onEnd(e){return this.stream.on("end",e),i.Disposable.create((()=>this.stream.off("end",e)))}write(e,t){return new Promise(((n,r)=>{const o=e=>{null==e?n():r(e)};"string"==typeof e?this.stream.write(e,t,o):this.stream.write(e,o)}))}end(){this.stream.end()}}const l=Object.freeze({messageBuffer:Object.freeze({create:e=>new a(e)}),applicationJson:Object.freeze({encoder:Object.freeze({name:"application/json",encode:(e,t)=>{try{return Promise.resolve(Buffer.from(JSON.stringify(e,void 0,0),t.charset))}catch(e){return Promise.reject(e)}}}),decoder:Object.freeze({name:"application/json",decode:(e,t)=>{try{return e instanceof Buffer?Promise.resolve(JSON.parse(e.toString(t.charset))):Promise.resolve(JSON.parse(new o.TextDecoder(t.charset).decode(e)))}catch(e){return Promise.reject(e)}}})}),stream:Object.freeze({asReadableStream:e=>new c(e),asWritableStream:e=>new u(e)}),console,timer:Object.freeze({setTimeout(e,t,...n){const r=setTimeout(e,t,...n);return{dispose:()=>clearTimeout(r)}},setImmediate(e,...t){const n=setImmediate(e,...t);return{dispose:()=>clearImmediate(n)}},setInterval(e,t,...n){const r=setInterval(e,t,...n);return{dispose:()=>clearInterval(r)}}})});function d(){return l}!function(e){e.install=function(){r.default.install(l)}}(d||(d={})),t.default=d},5028:(e,t,n)=>{"use strict";e.exports=n(4389)},5734:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.DiagnosticPullMode=t.vsdiag=void 0,o(n(273),t),o(n(8909),t);var i=n(2570);Object.defineProperty(t,"vsdiag",{enumerable:!0,get:function(){return i.vsdiag}}),Object.defineProperty(t,"DiagnosticPullMode",{enumerable:!0,get:function(){return i.DiagnosticPullMode}}),o(n(4384),t)},5578:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CallHierarchyFeature=void 0;const r=n(9496),o=n(273),i=n(8909);class s{constructor(e){this.client=e,this.middleware=e.middleware}prepareCallHierarchy(e,t,n){const r=this.client,i=this.middleware,s=(e,t,n)=>{const i=r.code2ProtocolConverter.asTextDocumentPositionParams(e,t);return r.sendRequest(o.CallHierarchyPrepareRequest.type,i,n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asCallHierarchyItems(e,n)),(e=>r.handleFailedRequest(o.CallHierarchyPrepareRequest.type,n,e,null)))};return i.prepareCallHierarchy?i.prepareCallHierarchy(e,t,n,s):s(e,t,n)}provideCallHierarchyIncomingCalls(e,t){const n=this.client,r=this.middleware,i=(e,t)=>{const r={item:n.code2ProtocolConverter.asCallHierarchyItem(e)};return n.sendRequest(o.CallHierarchyIncomingCallsRequest.type,r,t).then((e=>t.isCancellationRequested?null:n.protocol2CodeConverter.asCallHierarchyIncomingCalls(e,t)),(e=>n.handleFailedRequest(o.CallHierarchyIncomingCallsRequest.type,t,e,null)))};return r.provideCallHierarchyIncomingCalls?r.provideCallHierarchyIncomingCalls(e,t,i):i(e,t)}provideCallHierarchyOutgoingCalls(e,t){const n=this.client,r=this.middleware,i=(e,t)=>{const r={item:n.code2ProtocolConverter.asCallHierarchyItem(e)};return n.sendRequest(o.CallHierarchyOutgoingCallsRequest.type,r,t).then((e=>t.isCancellationRequested?null:n.protocol2CodeConverter.asCallHierarchyOutgoingCalls(e,t)),(e=>n.handleFailedRequest(o.CallHierarchyOutgoingCallsRequest.type,t,e,null)))};return r.provideCallHierarchyOutgoingCalls?r.provideCallHierarchyOutgoingCalls(e,t,i):i(e,t)}}class a extends i.TextDocumentLanguageFeature{constructor(e){super(e,o.CallHierarchyPrepareRequest.type)}fillClientCapabilities(e){const t=e;(0,i.ensure)((0,i.ensure)(t,"textDocument"),"callHierarchy").dynamicRegistration=!0}initialize(e,t){const[n,r]=this.getRegistration(t,e.callHierarchyProvider);n&&r&&this.register({id:n,registerOptions:r})}registerLanguageProvider(e){const t=this._client,n=new s(t);return[r.languages.registerCallHierarchyProvider(this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector),n),n]}}t.CallHierarchyFeature=a},4384:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProposedFeatures=t.BaseLanguageClient=t.MessageTransports=t.SuspendMode=t.State=t.CloseAction=t.ErrorAction=t.RevealOutputChannelOn=void 0;const r=n(9496),o=n(273),i=n(71),s=n(8785),a=n(9763),c=n(4904),u=n(1980),l=n(8071),d=n(8909),h=n(2570),p=n(203),f=n(6495),m=n(743),g=n(1435),v=n(6782),y=n(122),w=n(2908),b=n(9959),_=n(2483),C=n(3051),S=n(8480),T=n(9474),E=n(7711),x=n(6426),D=n(6458),k=n(3471),R=n(4849),P=n(5338),N=n(3069),O=n(9889),I=n(328),A=n(5941),F=n(6454),M=n(707),q=n(750),L=n(3603),j=n(5578),H=n(9957),$=n(8406),U=n(3483),B=n(4175),W=n(5098),z=n(6190);var G,V,K,X,Y,J,Q;!function(e){e[e.Info=1]="Info",e[e.Warn=2]="Warn",e[e.Error=3]="Error",e[e.Never=4]="Never"}(G=t.RevealOutputChannelOn||(t.RevealOutputChannelOn={})),function(e){e[e.Continue=1]="Continue",e[e.Shutdown=2]="Shutdown"}(V=t.ErrorAction||(t.ErrorAction={})),function(e){e[e.DoNotRestart=1]="DoNotRestart",e[e.Restart=2]="Restart"}(K=t.CloseAction||(t.CloseAction={})),function(e){e[e.Stopped=1]="Stopped",e[e.Starting=3]="Starting",e[e.Running=2]="Running"}(X=t.State||(t.State={})),(Q=t.SuspendMode||(t.SuspendMode={})).off="off",Q.on="on";class Z{constructor(e,t){this.client=e,this.maxRestartCount=t,this.restarts=[]}error(e,t,n){return n&&n<=3?{action:V.Continue}:{action:V.Shutdown}}closed(){return this.restarts.push(Date.now()),this.restarts.length<=this.maxRestartCount?{action:K.Restart}:this.restarts[this.restarts.length-1]-this.restarts[0]<=18e4?{action:K.DoNotRestart,message:`The ${this.client.name} server crashed ${this.maxRestartCount+1} times in the last 3 minutes. The server will not be restarted. See the output for more information.`}:(this.restarts.shift(),{action:K.Restart})}}!function(e){e.Initial="initial",e.Starting="starting",e.StartFailed="startFailed",e.Running="running",e.Stopping="stopping",e.Stopped="stopped"}(Y||(Y={})),(t.MessageTransports||(t.MessageTransports={})).is=function(e){return e&&o.MessageReader.is(e.reader)&&o.MessageWriter.is(e.writer)};class ee{constructor(e,t,n){this._traceFormat=o.TraceFormat.Text,this._diagnosticQueue=new Map,this._diagnosticQueueState={state:"idle"},this._features=[],this._dynamicFeatures=new Map,this.workspaceEditLock=new c.Semaphore(1),this._id=e,this._name=t;const r={isTrusted:!1,supportHtml:!1};void 0!==(n=n||{}).markdown&&(r.isTrusted=!0===n.markdown.isTrusted,r.supportHtml=!0===n.markdown.supportHtml),this._clientOptions={documentSelector:n.documentSelector??[],synchronize:n.synchronize??{},diagnosticCollectionName:n.diagnosticCollectionName,outputChannelName:n.outputChannelName??this._name,revealOutputChannelOn:n.revealOutputChannelOn??G.Error,stdioEncoding:n.stdioEncoding??"utf8",initializationOptions:n.initializationOptions,initializationFailedHandler:n.initializationFailedHandler,progressOnInitialization:!!n.progressOnInitialization,errorHandler:n.errorHandler??this.createDefaultErrorHandler(n.connectionOptions?.maxRestartCount),middleware:n.middleware??{},uriConverters:n.uriConverters,workspaceFolder:n.workspaceFolder,connectionOptions:n.connectionOptions,markdown:r,diagnosticPullOptions:n.diagnosticPullOptions??{onChange:!0,onSave:!1},notebookDocumentOptions:n.notebookDocumentOptions??{}},this._clientOptions.synchronize=this._clientOptions.synchronize||{},this._state=Y.Initial,this._ignoredRegistrations=new Set,this._listeners=[],this._notificationHandlers=new Map,this._pendingNotificationHandlers=new Map,this._notificationDisposables=new Map,this._requestHandlers=new Map,this._pendingRequestHandlers=new Map,this._requestDisposables=new Map,this._progressHandlers=new Map,this._pendingProgressHandlers=new Map,this._progressDisposables=new Map,this._connection=void 0,this._initializeResult=void 0,n.outputChannel?(this._outputChannel=n.outputChannel,this._disposeOutputChannel=!1):(this._outputChannel=void 0,this._disposeOutputChannel=!0),this._traceOutputChannel=n.traceOutputChannel,this._diagnostics=void 0,this._fileEvents=[],this._fileEventDelayer=new c.Delayer(250),this._onStop=void 0,this._telemetryEmitter=new o.Emitter,this._stateChangeEmitter=new o.Emitter,this._trace=o.Trace.Off,this._tracer={log:(e,t)=>{a.string(e)?this.logTrace(e,t):this.logObjectTrace(e)}},this._c2p=i.createConverter(n.uriConverters?n.uriConverters.code2Protocol:void 0),this._p2c=s.createConverter(n.uriConverters?n.uriConverters.protocol2Code:void 0,this._clientOptions.markdown.isTrusted,this._clientOptions.markdown.supportHtml),this._syncedDocuments=new Map,this.registerBuiltinFeatures()}get name(){return this._name}get middleware(){return this._clientOptions.middleware??Object.create(null)}get clientOptions(){return this._clientOptions}get protocol2CodeConverter(){return this._p2c}get code2ProtocolConverter(){return this._c2p}get onTelemetry(){return this._telemetryEmitter.event}get onDidChangeState(){return this._stateChangeEmitter.event}get outputChannel(){return this._outputChannel||(this._outputChannel=r.window.createOutputChannel(this._clientOptions.outputChannelName?this._clientOptions.outputChannelName:this._name)),this._outputChannel}get traceOutputChannel(){return this._traceOutputChannel?this._traceOutputChannel:this.outputChannel}get diagnostics(){return this._diagnostics}get state(){return this.getPublicState()}get $state(){return this._state}set $state(e){let t=this.getPublicState();this._state=e;let n=this.getPublicState();n!==t&&this._stateChangeEmitter.fire({oldState:t,newState:n})}getPublicState(){switch(this.$state){case Y.Starting:return X.Starting;case Y.Running:return X.Running;default:return X.Stopped}}get initializeResult(){return this._initializeResult}async sendRequest(e,...t){if(this.$state===Y.StartFailed||this.$state===Y.Stopping||this.$state===Y.Stopped)return Promise.reject(new o.ResponseError(o.ErrorCodes.ConnectionInactive,"Client is not running"));try{const n=await this.$start();return await this.forceDocumentSync(),n.sendRequest(e,...t)}catch(t){throw this.error(`Sending request ${a.string(e)?e:e.method} failed.`,t),t}}onRequest(e,t){const n="string"==typeof e?e:e.method;this._requestHandlers.set(n,t);const r=this.activeConnection();let o;return void 0!==r?(this._requestDisposables.set(n,r.onRequest(e,t)),o={dispose:()=>{const e=this._requestDisposables.get(n);void 0!==e&&(e.dispose(),this._requestDisposables.delete(n))}}):(this._pendingRequestHandlers.set(n,t),o={dispose:()=>{this._pendingRequestHandlers.delete(n);const e=this._requestDisposables.get(n);void 0!==e&&(e.dispose(),this._requestDisposables.delete(n))}}),{dispose:()=>{this._requestHandlers.delete(n),o.dispose()}}}async sendNotification(e,t){if(this.$state===Y.StartFailed||this.$state===Y.Stopping||this.$state===Y.Stopped)return Promise.reject(new o.ResponseError(o.ErrorCodes.ConnectionInactive,"Client is not running"));try{const n=await this.$start();return await this.forceDocumentSync(),n.sendNotification(e,t)}catch(t){throw this.error(`Sending notification ${a.string(e)?e:e.method} failed.`,t),t}}onNotification(e,t){const n="string"==typeof e?e:e.method;this._notificationHandlers.set(n,t);const r=this.activeConnection();let o;return void 0!==r?(this._notificationDisposables.set(n,r.onNotification(e,t)),o={dispose:()=>{const e=this._notificationDisposables.get(n);void 0!==e&&(e.dispose(),this._notificationDisposables.delete(n))}}):(this._pendingNotificationHandlers.set(n,t),o={dispose:()=>{this._pendingNotificationHandlers.delete(n);const e=this._notificationDisposables.get(n);void 0!==e&&(e.dispose(),this._notificationDisposables.delete(n))}}),{dispose:()=>{this._notificationHandlers.delete(n),o.dispose()}}}async sendProgress(e,t,n){if(this.$state===Y.StartFailed||this.$state===Y.Stopping||this.$state===Y.Stopped)return Promise.reject(new o.ResponseError(o.ErrorCodes.ConnectionInactive,"Client is not running"));try{return(await this.$start()).sendProgress(e,t,n)}catch(e){throw this.error(`Sending progress for token ${t} failed.`,e),e}}onProgress(e,t,n){this._progressHandlers.set(t,{type:e,handler:n});const r=this.activeConnection();let i;const s=this._clientOptions.middleware?.handleWorkDoneProgress,a=o.WorkDoneProgress.is(e)&&void 0!==s?e=>{s(t,e,(()=>n(e)))}:n;return void 0!==r?(this._progressDisposables.set(t,r.onProgress(e,t,a)),i={dispose:()=>{const e=this._progressDisposables.get(t);void 0!==e&&(e.dispose(),this._progressDisposables.delete(t))}}):(this._pendingProgressHandlers.set(t,{type:e,handler:n}),i={dispose:()=>{this._pendingProgressHandlers.delete(t);const e=this._progressDisposables.get(t);void 0!==e&&(e.dispose(),this._progressDisposables.delete(t))}}),{dispose:()=>{this._progressHandlers.delete(t),i.dispose()}}}createDefaultErrorHandler(e){if(void 0!==e&&e<0)throw new Error(`Invalid maxRestartCount: ${e}`);return new Z(this,e??4)}async setTrace(e){this._trace=e;const t=this.activeConnection();void 0!==t&&await t.trace(this._trace,this._tracer,{sendNotification:!1,traceFormat:this._traceFormat})}data2String(e){if(e instanceof o.ResponseError){const t=e;return`  Message: ${t.message}\n  Code: ${t.code} ${t.data?"\n"+t.data.toString():""}`}return e instanceof Error?a.string(e.stack)?e.stack:e.message:a.string(e)?e:e.toString()}info(e,t,n=!0){this.outputChannel.appendLine(`[Info  - ${(new Date).toLocaleTimeString()}] ${e}`),null!=t&&this.outputChannel.appendLine(this.data2String(t)),n&&this._clientOptions.revealOutputChannelOn<=G.Info&&this.showNotificationMessage(o.MessageType.Info,e)}warn(e,t,n=!0){this.outputChannel.appendLine(`[Warn  - ${(new Date).toLocaleTimeString()}] ${e}`),null!=t&&this.outputChannel.appendLine(this.data2String(t)),n&&this._clientOptions.revealOutputChannelOn<=G.Warn&&this.showNotificationMessage(o.MessageType.Warning,e)}error(e,t,n=!0){this.outputChannel.appendLine(`[Error - ${(new Date).toLocaleTimeString()}] ${e}`),null!=t&&this.outputChannel.appendLine(this.data2String(t)),("force"===n||n&&this._clientOptions.revealOutputChannelOn<=G.Error)&&this.showNotificationMessage(o.MessageType.Error,e)}showNotificationMessage(e,t){t=t??"A request has failed. See the output for more information.",(e===o.MessageType.Error?r.window.showErrorMessage:e===o.MessageType.Warning?r.window.showWarningMessage:r.window.showInformationMessage)(t,"Go to output").then((e=>{void 0!==e&&this.outputChannel.show(!0)}))}logTrace(e,t){this.traceOutputChannel.appendLine(`[Trace - ${(new Date).toLocaleTimeString()}] ${e}`),t&&this.traceOutputChannel.appendLine(this.data2String(t))}logObjectTrace(e){e.isLSPMessage&&e.type?this.traceOutputChannel.append(`[LSP   - ${(new Date).toLocaleTimeString()}] `):this.traceOutputChannel.append(`[Trace - ${(new Date).toLocaleTimeString()}] `),e&&this.traceOutputChannel.appendLine(`${JSON.stringify(e)}`)}needsStart(){return this.$state===Y.Initial||this.$state===Y.Stopping||this.$state===Y.Stopped}needsStop(){return this.$state===Y.Starting||this.$state===Y.Running}activeConnection(){return this.$state===Y.Running&&void 0!==this._connection?this._connection:void 0}isRunning(){return this.$state===Y.Running}async start(){if("disposing"===this._disposed||"disposed"===this._disposed)throw new Error("Client got disposed and can't be restarted.");if(this.$state===Y.Stopping)throw new Error("Client is currently stopping. Can only restart a full stopped client");if(void 0!==this._onStart)return this._onStart;const[e,t,n]=this.createOnStartPromise();this._onStart=e,void 0===this._diagnostics&&(this._diagnostics=this._clientOptions.diagnosticCollectionName?r.languages.createDiagnosticCollection(this._clientOptions.diagnosticCollectionName):r.languages.createDiagnosticCollection());for(const[e,t]of this._notificationHandlers)this._pendingNotificationHandlers.has(e)||this._pendingNotificationHandlers.set(e,t);for(const[e,t]of this._requestHandlers)this._pendingRequestHandlers.has(e)||this._pendingRequestHandlers.set(e,t);for(const[e,t]of this._progressHandlers)this._pendingProgressHandlers.has(e)||this._pendingProgressHandlers.set(e,t);this.$state=Y.Starting;try{const e=await this.createConnection();e.onNotification(o.LogMessageNotification.type,(e=>{switch(e.type){case o.MessageType.Error:this.error(e.message,void 0,!1);break;case o.MessageType.Warning:this.warn(e.message,void 0,!1);break;case o.MessageType.Info:this.info(e.message,void 0,!1);break;default:this.outputChannel.appendLine(e.message)}})),e.onNotification(o.ShowMessageNotification.type,(e=>{switch(e.type){case o.MessageType.Error:r.window.showErrorMessage(e.message);break;case o.MessageType.Warning:r.window.showWarningMessage(e.message);break;case o.MessageType.Info:default:r.window.showInformationMessage(e.message)}})),e.onRequest(o.ShowMessageRequest.type,(e=>{let t;switch(e.type){case o.MessageType.Error:t=r.window.showErrorMessage;break;case o.MessageType.Warning:t=r.window.showWarningMessage;break;case o.MessageType.Info:default:t=r.window.showInformationMessage}let n=e.actions||[];return t(e.message,...n)})),e.onNotification(o.TelemetryEventNotification.type,(e=>{this._telemetryEmitter.fire(e)})),e.onRequest(o.ShowDocumentRequest.type,(async e=>{const t=async e=>{const t=this.protocol2CodeConverter.asUri(e.uri);try{if(!0===e.external)return{success:await r.env.openExternal(t)};{const n={};return void 0!==e.selection&&(n.selection=this.protocol2CodeConverter.asRange(e.selection)),void 0===e.takeFocus||!1===e.takeFocus?n.preserveFocus=!0:!0===e.takeFocus&&(n.preserveFocus=!1),await r.window.showTextDocument(t,n),{success:!0}}}catch(e){return{success:!1}}},n=this._clientOptions.middleware.window?.showDocument;return void 0!==n?n(e,t):t(e)})),e.listen(),await this.initialize(e),t()}catch(e){this.$state=Y.StartFailed,this.error(`${this._name} client: couldn't create connection to server.`,e,"force"),n(e)}return this._onStart}createOnStartPromise(){let e,t;return[new Promise(((n,r)=>{e=n,t=r})),e,t]}async initialize(e){this.refreshTrace(e,!1);const t=this._clientOptions.initializationOptions,[n,i]=void 0!==this._clientOptions.workspaceFolder?[this._clientOptions.workspaceFolder.uri.fsPath,[{uri:this._c2p.asUri(this._clientOptions.workspaceFolder.uri),name:this._clientOptions.workspaceFolder.name}]]:[this._clientGetRootPath(),null],s={processId:null,clientInfo:{name:r.env.appName,version:r.version},locale:this.getLocale(),rootPath:n||null,rootUri:n?this._c2p.asUri(r.Uri.file(n)):null,capabilities:this.computeClientCapabilities(),initializationOptions:a.func(t)?t():t,trace:o.Trace.toString(this._trace),workspaceFolders:i};if(this.fillInitializeParams(s),!this._clientOptions.progressOnInitialization)return this.doInitialize(e,s);{const t=u.generateUuid(),n=new l.ProgressPart(e,t);s.workDoneToken=t;try{const t=await this.doInitialize(e,s);return n.done(),t}catch(e){throw n.cancel(),e}}}async doInitialize(e,t){try{const n=await e.initialize(t);if(void 0!==n.capabilities.positionEncoding&&n.capabilities.positionEncoding!==o.PositionEncodingKind.UTF16)throw new Error(`Unsupported position encoding (${n.capabilities.positionEncoding}) received from server ${this.name}`);let r;this._initializeResult=n,this.$state=Y.Running,a.number(n.capabilities.textDocumentSync)?r=n.capabilities.textDocumentSync===o.TextDocumentSyncKind.None?{openClose:!1,change:o.TextDocumentSyncKind.None,save:void 0}:{openClose:!0,change:n.capabilities.textDocumentSync,save:{includeText:!1}}:void 0!==n.capabilities.textDocumentSync&&null!==n.capabilities.textDocumentSync&&(r=n.capabilities.textDocumentSync),this._capabilities=Object.assign({},n.capabilities,{resolvedTextDocumentSync:r}),e.onNotification(o.PublishDiagnosticsNotification.type,(e=>this.handleDiagnostics(e))),e.onRequest(o.RegistrationRequest.type,(e=>this.handleRegistrationRequest(e))),e.onRequest("client/registerFeature",(e=>this.handleRegistrationRequest(e))),e.onRequest(o.UnregistrationRequest.type,(e=>this.handleUnregistrationRequest(e))),e.onRequest("client/unregisterFeature",(e=>this.handleUnregistrationRequest(e))),e.onRequest(o.ApplyWorkspaceEditRequest.type,(e=>this.handleApplyWorkspaceEdit(e)));for(const[t,n]of this._pendingNotificationHandlers)this._notificationDisposables.set(t,e.onNotification(t,n));this._pendingNotificationHandlers.clear();for(const[t,n]of this._pendingRequestHandlers)this._requestDisposables.set(t,e.onRequest(t,n));this._pendingRequestHandlers.clear();for(const[t,n]of this._pendingProgressHandlers)this._progressDisposables.set(t,e.onProgress(n.type,t,n.handler));return this._pendingProgressHandlers.clear(),await e.sendNotification(o.InitializedNotification.type,{}),this.hookFileEvents(e),this.hookConfigurationChanged(e),this.initializeFeatures(e),n}catch(t){throw this._clientOptions.initializationFailedHandler?this._clientOptions.initializationFailedHandler(t)?this.initialize(e):this.stop():t instanceof o.ResponseError&&t.data&&t.data.retry?r.window.showErrorMessage(t.message,{title:"Retry",id:"retry"}).then((t=>{t&&"retry"===t.id?this.initialize(e):this.stop()})):(t&&t.message&&r.window.showErrorMessage(t.message),this.error("Server initialization failed.",t),this.stop()),t}}_clientGetRootPath(){let e=r.workspace.workspaceFolders;if(!e||0===e.length)return;let t=e[0];return"file"===t.uri.scheme?t.uri.fsPath:void 0}stop(e=2e3){return this.shutdown("stop",e)}dispose(e=2e3){try{return this._disposed="disposing",this.stop(e)}finally{this._disposed="disposed"}}async shutdown(e,t){if(this.$state===Y.Stopped||this.$state===Y.Initial)return;if(this.$state===Y.Stopping){if(void 0!==this._onStop)return this._onStop;throw new Error("Client is stopping but no stop promise available.")}const n=this.activeConnection();if(void 0===n||this.$state!==Y.Running)throw new Error(`Client is not running and can't be stopped. It's current state is: ${this.$state}`);this._initializeResult=void 0,this.$state=Y.Stopping,this.cleanUp(e);const r=new Promise((e=>{(0,o.RAL)().timer.setTimeout(e,t)})),i=(async e=>(await e.shutdown(),await e.exit(),e))(n);return this._onStop=Promise.race([r,i]).then((e=>{if(void 0===e)throw this.error("Stopping server timed out",void 0,!1),new Error("Stopping the server timed out");e.end(),e.dispose()}),(e=>{throw this.error("Stopping server failed",e,!1),e})).finally((()=>{this.$state=Y.Stopped,"stop"===e&&this.cleanUpChannel(),this._onStart=void 0,this._onStop=void 0,this._connection=void 0,this._ignoredRegistrations.clear()}))}cleanUp(e){this._fileEvents=[],this._fileEventDelayer.cancel();const t=this._listeners.splice(0,this._listeners.length);for(const e of t)e.dispose();this._syncedDocuments&&this._syncedDocuments.clear();for(const e of Array.from(this._features.entries()).map((e=>e[1])).reverse())e.dispose();"stop"===e&&void 0!==this._diagnostics&&(this._diagnostics.dispose(),this._diagnostics=void 0),void 0!==this._idleInterval&&(this._idleInterval.dispose(),this._idleInterval=void 0)}cleanUpChannel(){void 0!==this._outputChannel&&this._disposeOutputChannel&&(this._outputChannel.dispose(),this._outputChannel=void 0)}notifyFileEvent(e){const t=this;async function n(e){return t._fileEvents.push(e),t._fileEventDelayer.trigger((async()=>{const e=await t.$start();await t.forceDocumentSync();const n=e.sendNotification(o.DidChangeWatchedFilesNotification.type,{changes:t._fileEvents});return t._fileEvents=[],n}))}const r=this.clientOptions.middleware?.workspace;(r?.didChangeWatchedFile?r.didChangeWatchedFile(e,n):n(e)).catch((e=>{t.error("Notify file events failed.",e)}))}async forceDocumentSync(){return void 0===this._didChangeTextDocumentFeature&&(this._didChangeTextDocumentFeature=this._dynamicFeatures.get(o.DidChangeTextDocumentNotification.type.method)),this._didChangeTextDocumentFeature.forceDelivery()}handleDiagnostics(e){if(!this._diagnostics)return;const t=e.uri;"busy"===this._diagnosticQueueState.state&&this._diagnosticQueueState.document===t&&this._diagnosticQueueState.tokenSource.cancel(),this._diagnosticQueue.set(e.uri,e.diagnostics),this.triggerDiagnosticQueue()}triggerDiagnosticQueue(){(0,o.RAL)().timer.setImmediate((()=>{this.workDiagnosticQueue()}))}workDiagnosticQueue(){if("busy"===this._diagnosticQueueState.state)return;const e=this._diagnosticQueue.entries().next();if(!0===e.done)return;const[t,n]=e.value;this._diagnosticQueue.delete(t);const o=new r.CancellationTokenSource;this._diagnosticQueueState={state:"busy",document:t,tokenSource:o},this._p2c.asDiagnostics(n,o.token).then((e=>{if(!o.token.isCancellationRequested){const n=this._p2c.asUri(t),r=this.clientOptions.middleware;r.handleDiagnostics?r.handleDiagnostics(n,e,((e,t)=>this.setDiagnostics(e,t))):this.setDiagnostics(n,e)}})).finally((()=>{this._diagnosticQueueState={state:"idle"},this.triggerDiagnosticQueue()}))}setDiagnostics(e,t){this._diagnostics&&this._diagnostics.set(e,t)}async $start(){if(this.$state===Y.StartFailed)throw new Error("Previous start failed. Can't restart server.");await this.start();const e=this.activeConnection();if(void 0===e)throw new Error("Starting server failed");return e}async createConnection(){const e=await this.createMessageTransports(this._clientOptions.stdioEncoding||"utf8");return this._connection=function(e,t,n,r,i){let s=-1;const c=new te,u=(0,o.createProtocolConnection)(e,t,c,i);return u.onError((e=>{n(e[0],e[1],e[2])})),u.onClose(r),{get lastUsed(){return s},resetLastUsed:()=>{s=-1},listen:()=>u.listen(),sendRequest:(e,...t)=>(s=Date.now(),u.sendRequest(e,...t)),onRequest:(e,t)=>u.onRequest(e,t),hasPendingResponse:()=>u.hasPendingResponse(),sendNotification:(e,t)=>(s=Date.now(),u.sendNotification(e,t)),onNotification:(e,t)=>u.onNotification(e,t),onProgress:u.onProgress,sendProgress:u.sendProgress,trace:(e,t,n)=>{const r={sendNotification:!1,traceFormat:o.TraceFormat.Text};return void 0===n?u.trace(e,t,r):(a.boolean(n),u.trace(e,t,n))},initialize:e=>(s=Date.now(),u.sendRequest(o.InitializeRequest.type,e)),shutdown:()=>(s=Date.now(),u.sendRequest(o.ShutdownRequest.type,void 0)),exit:()=>(s=Date.now(),u.sendNotification(o.ExitNotification.type)),end:()=>u.end(),dispose:()=>u.dispose()}}(e.reader,e.writer,((e,t,n)=>{this.handleConnectionError(e,t,n)}),(()=>{this.handleConnectionClosed()}),this._clientOptions.connectionOptions),this._connection}handleConnectionClosed(){if(this.$state===Y.Stopped)return;try{void 0!==this._connection&&this._connection.dispose()}catch(e){}let e={action:K.DoNotRestart};if(this.$state!==Y.Stopping)try{e=this._clientOptions.errorHandler.closed()}catch(e){}this._connection=void 0,e.action===K.DoNotRestart?(this.error(e.message??"Connection to server got closed. Server will not be restarted.",void 0,"force"),this.cleanUp("stop"),this.$state===Y.Starting?this.$state=Y.StartFailed:this.$state=Y.Stopped,this._onStop=Promise.resolve(),this._onStart=void 0):e.action===K.Restart&&(this.info(e.message??"Connection to server got closed. Server will restart."),this.cleanUp("restart"),this.$state=Y.Initial,this._onStop=Promise.resolve(),this._onStart=void 0,this.start().catch((e=>this.error("Restarting server failed",e,"force"))))}handleConnectionError(e,t,n){const r=this._clientOptions.errorHandler.error(e,t,n);r.action===V.Shutdown&&(this.error(r.message??`Client ${this._name}: connection to server is erroring. Shutting down server.`,void 0,"force"),this.stop().catch((e=>{this.error("Stopping server failed",e,!1)})))}hookConfigurationChanged(e){this._listeners.push(r.workspace.onDidChangeConfiguration((()=>{this.refreshTrace(e,!0)})))}refreshTrace(e,t=!1){const n=r.workspace.getConfiguration(this._id);let i=o.Trace.Off,s=o.TraceFormat.Text;if(n){const e=n.get("trace.server","off");"string"==typeof e?i=o.Trace.fromString(e):(i=o.Trace.fromString(n.get("trace.server.verbosity","off")),s=o.TraceFormat.fromString(n.get("trace.server.format","text")))}this._trace=i,this._traceFormat=s,e.trace(this._trace,this._tracer,{sendNotification:t,traceFormat:this._traceFormat}).catch((e=>{this.error("Updating trace failed with error",e,!1)}))}hookFileEvents(e){let t,n=this._clientOptions.synchronize.fileEvents;n&&(t=a.array(n)?n:[n],t&&this._dynamicFeatures.get(o.DidChangeWatchedFilesNotification.type.method).registerRaw(u.generateUuid(),t))}registerFeatures(e){for(let t of e)this.registerFeature(t)}registerFeature(e){if(this._features.push(e),d.DynamicFeature.is(e)){const t=e.registrationType;this._dynamicFeatures.set(t.method,e)}}getFeature(e){return this._dynamicFeatures.get(e)}hasDedicatedTextSynchronizationFeature(e){const t=this.getFeature(o.NotebookDocumentSyncRegistrationType.method);return void 0!==t&&t instanceof p.NotebookDocumentSyncFeature&&t.handles(e)}registerBuiltinFeatures(){this.registerFeature(new f.ConfigurationFeature(this)),this.registerFeature(new m.DidOpenTextDocumentFeature(this,this._syncedDocuments)),this.registerFeature(new m.DidChangeTextDocumentFeature(this)),this.registerFeature(new m.WillSaveFeature(this)),this.registerFeature(new m.WillSaveWaitUntilFeature(this)),this.registerFeature(new m.DidSaveTextDocumentFeature(this)),this.registerFeature(new m.DidCloseTextDocumentFeature(this,this._syncedDocuments)),this.registerFeature(new P.FileSystemWatcherFeature(this,(e=>this.notifyFileEvent(e)))),this.registerFeature(new g.CompletionItemFeature(this)),this.registerFeature(new v.HoverFeature(this)),this.registerFeature(new w.SignatureHelpFeature(this)),this.registerFeature(new y.DefinitionFeature(this)),this.registerFeature(new S.ReferencesFeature(this)),this.registerFeature(new b.DocumentHighlightFeature(this)),this.registerFeature(new _.DocumentSymbolFeature(this)),this.registerFeature(new C.WorkspaceSymbolFeature(this)),this.registerFeature(new T.CodeActionFeature(this)),this.registerFeature(new E.CodeLensFeature(this)),this.registerFeature(new x.DocumentFormattingFeature(this)),this.registerFeature(new x.DocumentRangeFormattingFeature(this)),this.registerFeature(new x.DocumentOnTypeFormattingFeature(this)),this.registerFeature(new D.RenameFeature(this)),this.registerFeature(new k.DocumentLinkFeature(this)),this.registerFeature(new R.ExecuteCommandFeature(this)),this.registerFeature(new f.SyncConfigurationFeature(this)),this.registerFeature(new I.TypeDefinitionFeature(this)),this.registerFeature(new O.ImplementationFeature(this)),this.registerFeature(new N.ColorProviderFeature(this)),void 0===this.clientOptions.workspaceFolder&&this.registerFeature(new A.WorkspaceFoldersFeature(this)),this.registerFeature(new F.FoldingRangeFeature(this)),this.registerFeature(new M.DeclarationFeature(this)),this.registerFeature(new q.SelectionRangeFeature(this)),this.registerFeature(new L.ProgressFeature(this)),this.registerFeature(new j.CallHierarchyFeature(this)),this.registerFeature(new H.SemanticTokensFeature(this)),this.registerFeature(new U.LinkedEditingFeature(this)),this.registerFeature(new $.DidCreateFilesFeature(this)),this.registerFeature(new $.DidRenameFilesFeature(this)),this.registerFeature(new $.DidDeleteFilesFeature(this)),this.registerFeature(new $.WillCreateFilesFeature(this)),this.registerFeature(new $.WillRenameFilesFeature(this)),this.registerFeature(new $.WillDeleteFilesFeature(this)),this.registerFeature(new B.TypeHierarchyFeature(this)),this.registerFeature(new W.InlineValueFeature(this)),this.registerFeature(new z.InlayHintsFeature(this)),this.registerFeature(new h.DiagnosticFeature(this)),this.registerFeature(new p.NotebookDocumentSyncFeature(this))}registerProposedFeatures(){this.registerFeatures(J.createAll(this))}fillInitializeParams(e){for(let t of this._features)a.func(t.fillInitializeParams)&&t.fillInitializeParams(e)}computeClientCapabilities(){const e={};(0,d.ensure)(e,"workspace").applyEdit=!0;const t=(0,d.ensure)((0,d.ensure)(e,"workspace"),"workspaceEdit");t.documentChanges=!0,t.resourceOperations=[o.ResourceOperationKind.Create,o.ResourceOperationKind.Rename,o.ResourceOperationKind.Delete],t.failureHandling=o.FailureHandlingKind.TextOnlyTransactional,t.normalizesLineEndings=!0,t.changeAnnotationSupport={groupsOnLabel:!0};const n=(0,d.ensure)((0,d.ensure)(e,"textDocument"),"publishDiagnostics");n.relatedInformation=!0,n.versionSupport=!1,n.tagSupport={valueSet:[o.DiagnosticTag.Unnecessary,o.DiagnosticTag.Deprecated]},n.codeDescriptionSupport=!0,n.dataSupport=!0;const r=(0,d.ensure)(e,"window");(0,d.ensure)(r,"showMessage").messageActionItem={additionalPropertiesSupport:!0},(0,d.ensure)(r,"showDocument").support=!0;const i=(0,d.ensure)(e,"general");i.staleRequestSupport={cancel:!0,retryOnContentModified:Array.from(ee.RequestsToCancelOnContentModified)},i.regularExpressions={engine:"ECMAScript",version:"ES2020"},i.markdown={parser:"marked",version:"1.1.0"},i.positionEncodings=["utf-16"],this._clientOptions.markdown.supportHtml&&(i.markdown.allowedTags=["ul","li","p","code","blockquote","ol","h1","h2","h3","h4","h5","h6","hr","em","pre","table","thead","tbody","tr","th","td","div","del","a","strong","br","img","span"]);for(let t of this._features)t.fillClientCapabilities(e);return e}initializeFeatures(e){const t=this._clientOptions.documentSelector;for(const e of this._features)a.func(e.preInitialize)&&e.preInitialize(this._capabilities,t);for(const e of this._features)e.initialize(this._capabilities,t)}async handleRegistrationRequest(e){if(this.isRunning())for(const t of e.registrations){const e=this._dynamicFeatures.get(t.method);if(void 0===e)return Promise.reject(new Error(`No feature implementation for ${t.method} found. Registration failed.`));const n=t.registerOptions??{};n.documentSelector=n.documentSelector??this._clientOptions.documentSelector;const r={id:t.id,registerOptions:n};try{e.register(r)}catch(e){return Promise.reject(e)}}else for(const t of e.registrations)this._ignoredRegistrations.add(t.id)}async handleUnregistrationRequest(e){for(let t of e.unregisterations){if(this._ignoredRegistrations.has(t.id))continue;const e=this._dynamicFeatures.get(t.method);if(!e)return Promise.reject(new Error(`No feature implementation for ${t.method} found. Unregistration failed.`));e.unregister(t.id)}}async handleApplyWorkspaceEdit(e){const t=e.edit,n=await this.workspaceEditLock.lock((()=>this._p2c.asWorkspaceEdit(t))),i=new Map;r.workspace.textDocuments.forEach((e=>i.set(e.uri.toString(),e)));let s=!1;if(t.documentChanges)for(const e of t.documentChanges)if(o.TextDocumentEdit.is(e)&&e.textDocument.version&&e.textDocument.version>=0){const t=i.get(e.textDocument.uri);if(t&&t.version!==e.textDocument.version){s=!0;break}}return s?Promise.resolve({applied:!1}):a.asPromise(r.workspace.applyEdit(n).then((e=>({applied:e}))))}handleFailedRequest(e,t,n,i,s=!0){if(n instanceof o.ResponseError){if(n.code===o.ErrorCodes.PendingResponseRejected||n.code===o.ErrorCodes.ConnectionInactive)return i;if(n.code===o.LSPErrorCodes.RequestCancelled||n.code===o.LSPErrorCodes.ServerCancelled){if(void 0!==t&&t.isCancellationRequested)return i;throw void 0!==n.data?new d.LSPCancellationError(n.data):new r.CancellationError}if(n.code===o.LSPErrorCodes.ContentModified){if(ee.RequestsToCancelOnContentModified.has(e.method))throw new r.CancellationError;return i}}throw this.error(`Request ${e.method} failed.`,n,s),n}}t.BaseLanguageClient=ee,ee.RequestsToCancelOnContentModified=new Set([o.SemanticTokensRequest.method,o.SemanticTokensRangeRequest.method,o.SemanticTokensDeltaRequest.method]);class te{error(e){(0,o.RAL)().console.error(e)}warn(e){(0,o.RAL)().console.warn(e)}info(e){(0,o.RAL)().console.info(e)}log(e){(0,o.RAL)().console.log(e)}}!function(e){e.createAll=function(e){return[]}}(J=t.ProposedFeatures||(t.ProposedFeatures={}))},9474:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodeActionFeature=void 0;const r=n(9496),o=n(273),i=n(1980),s=n(8909);class a extends s.TextDocumentLanguageFeature{constructor(e){super(e,o.CodeActionRequest.type)}fillClientCapabilities(e){const t=(0,s.ensure)((0,s.ensure)(e,"textDocument"),"codeAction");t.dynamicRegistration=!0,t.isPreferredSupport=!0,t.disabledSupport=!0,t.dataSupport=!0,t.resolveSupport={properties:["edit"]},t.codeActionLiteralSupport={codeActionKind:{valueSet:[o.CodeActionKind.Empty,o.CodeActionKind.QuickFix,o.CodeActionKind.Refactor,o.CodeActionKind.RefactorExtract,o.CodeActionKind.RefactorInline,o.CodeActionKind.RefactorRewrite,o.CodeActionKind.Source,o.CodeActionKind.SourceOrganizeImports]}},t.honorsChangeAnnotations=!1}initialize(e,t){const n=this.getRegistrationOptions(t,e.codeActionProvider);n&&this.register({id:i.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideCodeActions:(e,t,n,r)=>{const i=this._client,s=async(e,t,n,r)=>{const s={textDocument:i.code2ProtocolConverter.asTextDocumentIdentifier(e),range:i.code2ProtocolConverter.asRange(t),context:await i.code2ProtocolConverter.asCodeActionContext(n,r)};return i.sendRequest(o.CodeActionRequest.type,s,r).then((e=>r.isCancellationRequested||null==e?null:i.protocol2CodeConverter.asCodeActionResult(e,r)),(e=>i.handleFailedRequest(o.CodeActionRequest.type,r,e,null)))},a=i.middleware;return a.provideCodeActions?a.provideCodeActions(e,t,n,r,s):s(e,t,n,r)},resolveCodeAction:e.resolveProvider?(e,t)=>{const n=this._client,r=this._client.middleware,i=async(e,t)=>n.sendRequest(o.CodeActionResolveRequest.type,await n.code2ProtocolConverter.asCodeAction(e,t),t).then((r=>t.isCancellationRequested?e:n.protocol2CodeConverter.asCodeAction(r,t)),(r=>n.handleFailedRequest(o.CodeActionResolveRequest.type,t,r,e)));return r.resolveCodeAction?r.resolveCodeAction(e,t,i):i(e,t)}:void 0};return[r.languages.registerCodeActionsProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n,e.codeActionKinds?{providedCodeActionKinds:this._client.protocol2CodeConverter.asCodeActionKinds(e.codeActionKinds)}:void 0),n]}}t.CodeActionFeature=a},71:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createConverter=void 0;const r=n(9496),o=n(273),i=n(9763),s=n(4904),a=n(1807),c=n(583),u=n(8705),l=n(6434),d=n(6640),h=n(8714),p=n(1365),f=n(3912),m=n(1065);var g;!function(e){e.is=function(e){const t=e;return t&&!!t.inserting&&!!t.replacing}}(g||(g={})),t.createConverter=function(e){const t=e||(e=>e.toString());function n(e){return t(e)}function v(e){return{uri:t(e.uri)}}function y(e){return{uri:t(e.uri),languageId:e.languageId,version:e.version,text:e.getText()}}function w(e){switch(e){case r.TextDocumentSaveReason.Manual:return o.TextDocumentSaveReason.Manual;case r.TextDocumentSaveReason.AfterDelay:return o.TextDocumentSaveReason.AfterDelay;case r.TextDocumentSaveReason.FocusOut:return o.TextDocumentSaveReason.FocusOut}return o.TextDocumentSaveReason.Manual}function b(e){switch(e){case r.CompletionTriggerKind.TriggerCharacter:return o.CompletionTriggerKind.TriggerCharacter;case r.CompletionTriggerKind.TriggerForIncompleteCompletions:return o.CompletionTriggerKind.TriggerForIncompleteCompletions;default:return o.CompletionTriggerKind.Invoked}}function _(e){switch(e){case r.SignatureHelpTriggerKind.Invoke:return o.SignatureHelpTriggerKind.Invoked;case r.SignatureHelpTriggerKind.TriggerCharacter:return o.SignatureHelpTriggerKind.TriggerCharacter;case r.SignatureHelpTriggerKind.ContentChange:return o.SignatureHelpTriggerKind.ContentChange}}function C(e){return{label:e.label}}function S(e){return{label:e.label,parameters:(t=e.parameters,t.map(C))};var t}function T(e){return{line:e.line,character:e.character}}function E(e){return null==e?e:{line:e.line>o.uinteger.MAX_VALUE?o.uinteger.MAX_VALUE:e.line,character:e.character>o.uinteger.MAX_VALUE?o.uinteger.MAX_VALUE:e.character}}function x(e){return null==e?e:{start:E(e.start),end:E(e.end)}}function D(e){return null==e?e:o.Location.create(n(e.uri),x(e.range))}function k(e){switch(e){case r.DiagnosticSeverity.Error:return o.DiagnosticSeverity.Error;case r.DiagnosticSeverity.Warning:return o.DiagnosticSeverity.Warning;case r.DiagnosticSeverity.Information:return o.DiagnosticSeverity.Information;case r.DiagnosticSeverity.Hint:return o.DiagnosticSeverity.Hint}}function R(e){switch(e){case r.DiagnosticTag.Unnecessary:return o.DiagnosticTag.Unnecessary;case r.DiagnosticTag.Deprecated:return o.DiagnosticTag.Deprecated;default:return}}function P(e){return{message:e.message,location:D(e.location)}}function N(e){const t=o.Diagnostic.create(x(e.range),e.message),r=e instanceof d.ProtocolDiagnostic?e:void 0;void 0!==r&&void 0!==r.data&&(t.data=r.data);const s=function(e){if(null!=e)return i.number(e)||i.string(e)?e:{value:e.value,target:n(e.target)}}(e.code);return d.DiagnosticCode.is(s)?void 0!==r&&r.hasDiagnosticCode?t.code=s:(t.code=s.value,t.codeDescription={href:s.target}):t.code=s,i.number(e.severity)&&(t.severity=k(e.severity)),Array.isArray(e.tags)&&(t.tags=function(e){if(!e)return;let t=[];for(let n of e){let e=R(n);void 0!==e&&t.push(e)}return t.length>0?t:void 0}(e.tags)),e.relatedInformation&&(t.relatedInformation=e.relatedInformation.map(P)),e.source&&(t.source=e.source),t}function O(e,t){return null==e?e:s.map(e,N,t)}function I(e){if(e===r.CompletionItemTag.Deprecated)return o.CompletionItemTag.Deprecated}function A(e){return{range:x(e.range),newText:e.newText}}function F(e){return null==e?e:e.map(A)}function M(e){return e<=r.SymbolKind.TypeParameter?e+1:o.SymbolKind.Property}function q(e){return e}function L(e){return e.map(q)}function j(e){let t=o.Command.create(e.title,e.command);return e.arguments&&(t.arguments=e.arguments),t}function H(e){const t=o.InlayHintLabelPart.create(e.value);return void 0!==e.location&&(t.location=D(e.location)),void 0!==e.command&&(t.command=j(e.command)),void 0!==e.tooltip&&(t.tooltip=$(e.tooltip)),t}function $(e){return"string"==typeof e?e:{kind:o.MarkupKind.Markdown,value:e.value}}return{asUri:n,asTextDocumentIdentifier:v,asTextDocumentItem:y,asVersionedTextDocumentIdentifier:function(e){return{uri:t(e.uri),version:e.version}},asOpenTextDocumentParams:function(e){return{textDocument:y(e)}},asChangeTextDocumentParams:function(e){if(function(e){let t=e;return!!t.uri&&!!t.version}(e))return{textDocument:{uri:t(e.uri),version:e.version},contentChanges:[{text:e.getText()}]};if(function(e){let t=e;return!!t.document&&!!t.contentChanges}(e)){let n=e.document;return{textDocument:{uri:t(n.uri),version:n.version},contentChanges:e.contentChanges.map((e=>{let t=e.range;return{range:{start:{line:t.start.line,character:t.start.character},end:{line:t.end.line,character:t.end.character}},rangeLength:e.rangeLength,text:e.text}}))}}throw Error("Unsupported text document change parameter")},asCloseTextDocumentParams:function(e){return{textDocument:v(e)}},asSaveTextDocumentParams:function(e,t=!1){let n={textDocument:v(e)};return t&&(n.text=e.getText()),n},asWillSaveTextDocumentParams:function(e){return{textDocument:v(e.document),reason:w(e.reason)}},asDidCreateFilesParams:function(e){return{files:e.files.map((e=>({uri:t(e)})))}},asDidRenameFilesParams:function(e){return{files:e.files.map((e=>({oldUri:t(e.oldUri),newUri:t(e.newUri)})))}},asDidDeleteFilesParams:function(e){return{files:e.files.map((e=>({uri:t(e)})))}},asWillCreateFilesParams:function(e){return{files:e.files.map((e=>({uri:t(e)})))}},asWillRenameFilesParams:function(e){return{files:e.files.map((e=>({oldUri:t(e.oldUri),newUri:t(e.newUri)})))}},asWillDeleteFilesParams:function(e){return{files:e.files.map((e=>({uri:t(e)})))}},asTextDocumentPositionParams:function(e,t){return{textDocument:v(e),position:T(t)}},asCompletionParams:function(e,t,n){return{textDocument:v(e),position:T(t),context:{triggerKind:b(n.triggerKind),triggerCharacter:n.triggerCharacter}}},asSignatureHelpParams:function(e,t,n){return{textDocument:v(e),position:T(t),context:{isRetrigger:n.isRetrigger,triggerCharacter:n.triggerCharacter,triggerKind:_(n.triggerKind),activeSignatureHelp:(r=n.activeSignatureHelp,void 0===r?r:{signatures:(o=r.signatures,o.map(S)),activeSignature:r.activeSignature,activeParameter:r.activeParameter})}};var r,o},asWorkerPosition:T,asRange:x,asPosition:E,asPositions:function(e,t){return s.map(e,E,t)},asLocation:D,asDiagnosticSeverity:k,asDiagnosticTag:R,asDiagnostic:N,asDiagnostics:O,asCompletionItem:function(e,t=!1){let n,s;i.string(e.label)?n=e.label:(n=e.label.label,!t||void 0===e.label.detail&&void 0===e.label.description||(s={detail:e.label.detail,description:e.label.description}));let c={label:n};void 0!==s&&(c.labelDetails=s);let u=e instanceof a.default?e:void 0;var l,d;e.detail&&(c.detail=e.detail),e.documentation&&(u&&"$string"!==u.documentationFormat?c.documentation=function(e,t){switch(e){case"$string":return t;case o.MarkupKind.PlainText:return{kind:e,value:t};case o.MarkupKind.Markdown:return{kind:e,value:t.value};default:return`Unsupported Markup content received. Kind is: ${e}`}}(u.documentationFormat,e.documentation):c.documentation=e.documentation),e.filterText&&(c.filterText=e.filterText),function(e,t){let n,i,s=o.InsertTextFormat.PlainText;t.textEdit?(n=t.textEdit.newText,i=t.textEdit.range):t.insertText instanceof r.SnippetString?(s=o.InsertTextFormat.Snippet,n=t.insertText.value):n=t.insertText,t.range&&(i=t.range),e.insertTextFormat=s,t.fromEdit&&void 0!==n&&void 0!==i?e.textEdit=function(e,t){return g.is(t)?o.InsertReplaceEdit.create(e,x(t.inserting),x(t.replacing)):{newText:e,range:x(t)}}(n,i):e.insertText=n}(c,e),i.number(e.kind)&&(c.kind=(l=e.kind,void 0!==(d=u&&u.originalItemKind)?d:l+1)),e.sortText&&(c.sortText=e.sortText),e.additionalTextEdits&&(c.additionalTextEdits=F(e.additionalTextEdits)),e.commitCharacters&&(c.commitCharacters=e.commitCharacters.slice()),e.command&&(c.command=j(e.command)),!0!==e.preselect&&!1!==e.preselect||(c.preselect=e.preselect);const h=function(e){if(void 0===e)return e;const t=[];for(let n of e){const e=I(n);void 0!==e&&t.push(e)}return t}(e.tags);if(u){if(void 0!==u.data&&(c.data=u.data),!0===u.deprecated||!1===u.deprecated){if(!0===u.deprecated&&void 0!==h&&h.length>0){const e=h.indexOf(r.CompletionItemTag.Deprecated);-1!==e&&h.splice(e,1)}c.deprecated=u.deprecated}void 0!==u.insertTextMode&&(c.insertTextMode=u.insertTextMode)}return void 0!==h&&h.length>0&&(c.tags=h),void 0===c.insertTextMode&&!0===e.keepWhitespace&&(c.insertTextMode=o.InsertTextMode.adjustIndentation),c},asTextEdit:A,asSymbolKind:M,asSymbolTag:q,asSymbolTags:L,asReferenceParams:function(e,t,n){return{textDocument:v(e),position:T(t),context:{includeDeclaration:n.includeDeclaration}}},asCodeAction:async function(e,t){let n=o.CodeAction.create(e.title);if(e instanceof l.default&&void 0!==e.data&&(n.data=e.data),void 0!==e.kind&&(n.kind=function(e){if(null!=e)return e.value}(e.kind)),void 0!==e.diagnostics&&(n.diagnostics=await O(e.diagnostics,t)),void 0!==e.edit)throw new Error("VS Code code actions can only be converted to a protocol code action without an edit.");return void 0!==e.command&&(n.command=j(e.command)),void 0!==e.isPreferred&&(n.isPreferred=e.isPreferred),void 0!==e.disabled&&(n.disabled={reason:e.disabled.reason}),n},asCodeActionContext:async function(e,t){if(null==e)return e;let n;return e.only&&i.string(e.only.value)&&(n=[e.only.value]),o.CodeActionContext.create(await O(e.diagnostics,t),n,function(e){switch(e){case r.CodeActionTriggerKind.Invoke:return o.CodeActionTriggerKind.Invoked;case r.CodeActionTriggerKind.Automatic:return o.CodeActionTriggerKind.Automatic;default:return}}(e.triggerKind))},asInlineValueContext:function(e){return null==e?e:o.InlineValueContext.create(e.frameId,x(e.stoppedLocation))},asCommand:j,asCodeLens:function(e){let t=o.CodeLens.create(x(e.range));return e.command&&(t.command=j(e.command)),e instanceof c.default&&e.data&&(t.data=e.data),t},asFormattingOptions:function(e,t){const n={tabSize:e.tabSize,insertSpaces:e.insertSpaces};return t.trimTrailingWhitespace&&(n.trimTrailingWhitespace=!0),t.trimFinalNewlines&&(n.trimFinalNewlines=!0),t.insertFinalNewline&&(n.insertFinalNewline=!0),n},asDocumentSymbolParams:function(e){return{textDocument:v(e)}},asCodeLensParams:function(e){return{textDocument:v(e)}},asDocumentLink:function(e){let t=o.DocumentLink.create(x(e.range));e.target&&(t.target=n(e.target)),void 0!==e.tooltip&&(t.tooltip=e.tooltip);let r=e instanceof u.default?e:void 0;return r&&r.data&&(t.data=r.data),t},asDocumentLinkParams:function(e){return{textDocument:v(e)}},asCallHierarchyItem:function(e){const t={name:e.name,kind:M(e.kind),uri:n(e.uri),range:x(e.range),selectionRange:x(e.selectionRange)};return void 0!==e.detail&&e.detail.length>0&&(t.detail=e.detail),void 0!==e.tags&&(t.tags=L(e.tags)),e instanceof h.default&&void 0!==e.data&&(t.data=e.data),t},asTypeHierarchyItem:function(e){const t={name:e.name,kind:M(e.kind),uri:n(e.uri),range:x(e.range),selectionRange:x(e.selectionRange)};return void 0!==e.detail&&e.detail.length>0&&(t.detail=e.detail),void 0!==e.tags&&(t.tags=L(e.tags)),e instanceof p.default&&void 0!==e.data&&(t.data=e.data),t},asInlayHint:function(e){const t="string"==typeof e.label?e.label:e.label.map(H),n=o.InlayHint.create(E(e.position),t);return void 0!==e.kind&&(n.kind=e.kind),void 0!==e.textEdits&&(n.textEdits=F(e.textEdits)),void 0!==e.tooltip&&(n.tooltip=$(e.tooltip)),void 0!==e.paddingLeft&&(n.paddingLeft=e.paddingLeft),void 0!==e.paddingRight&&(n.paddingRight=e.paddingRight),e instanceof m.default&&void 0!==e.data&&(n.data=e.data),n},asWorkspaceSymbol:function(e){const n=e instanceof f.default?{name:e.name,kind:M(e.kind),location:e.hasRange?D(e.location):{uri:t(e.location.uri)},data:e.data}:{name:e.name,kind:M(e.kind),location:D(e.location)};return void 0!==e.tags&&(n.tags=L(e.tags)),""!==e.containerName&&(n.containerName=e.containerName),n}}}},7711:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CodeLensFeature=void 0;const r=n(9496),o=n(273),i=n(1980),s=n(8909);class a extends s.TextDocumentLanguageFeature{constructor(e){super(e,o.CodeLensRequest.type)}fillClientCapabilities(e){(0,s.ensure)((0,s.ensure)(e,"textDocument"),"codeLens").dynamicRegistration=!0,(0,s.ensure)((0,s.ensure)(e,"workspace"),"codeLens").refreshSupport=!0}initialize(e,t){this._client.onRequest(o.CodeLensRefreshRequest.type,(async()=>{for(const e of this.getAllProviders())e.onDidChangeCodeLensEmitter.fire()}));const n=this.getRegistrationOptions(t,e.codeLensProvider);n&&this.register({id:i.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n=new r.EventEmitter,i={onDidChangeCodeLenses:n.event,provideCodeLenses:(e,t)=>{const n=this._client,r=(e,t)=>n.sendRequest(o.CodeLensRequest.type,n.code2ProtocolConverter.asCodeLensParams(e),t).then((e=>t.isCancellationRequested?null:n.protocol2CodeConverter.asCodeLenses(e,t)),(e=>n.handleFailedRequest(o.CodeLensRequest.type,t,e,null))),i=n.middleware;return i.provideCodeLenses?i.provideCodeLenses(e,t,r):r(e,t)},resolveCodeLens:e.resolveProvider?(e,t)=>{const n=this._client,r=(e,t)=>n.sendRequest(o.CodeLensResolveRequest.type,n.code2ProtocolConverter.asCodeLens(e),t).then((r=>t.isCancellationRequested?e:n.protocol2CodeConverter.asCodeLens(r)),(r=>n.handleFailedRequest(o.CodeLensResolveRequest.type,t,r,e))),i=n.middleware;return i.resolveCodeLens?i.resolveCodeLens(e,t,r):r(e,t)}:void 0};return[r.languages.registerCodeLensProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),i),{provider:i,onDidChangeCodeLensEmitter:n}]}}t.CodeLensFeature=a},3069:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorProviderFeature=void 0;const r=n(9496),o=n(273),i=n(8909);class s extends i.TextDocumentLanguageFeature{constructor(e){super(e,o.DocumentColorRequest.type)}fillClientCapabilities(e){(0,i.ensure)((0,i.ensure)(e,"textDocument"),"colorProvider").dynamicRegistration=!0}initialize(e,t){let[n,r]=this.getRegistration(t,e.colorProvider);n&&r&&this.register({id:n,registerOptions:r})}registerLanguageProvider(e){const t=e.documentSelector,n={provideColorPresentations:(e,t,n)=>{const r=this._client,i=(e,t,n)=>{const i={color:e,textDocument:r.code2ProtocolConverter.asTextDocumentIdentifier(t.document),range:r.code2ProtocolConverter.asRange(t.range)};return r.sendRequest(o.ColorPresentationRequest.type,i,n).then((e=>n.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorPresentations(e,n)),(e=>r.handleFailedRequest(o.ColorPresentationRequest.type,n,e,null)))},s=r.middleware;return s.provideColorPresentations?s.provideColorPresentations(e,t,n,i):i(e,t,n)},provideDocumentColors:(e,t)=>{const n=this._client,r=(e,t)=>{const r={textDocument:n.code2ProtocolConverter.asTextDocumentIdentifier(e)};return n.sendRequest(o.DocumentColorRequest.type,r,t).then((e=>t.isCancellationRequested?null:this._client.protocol2CodeConverter.asColorInformations(e,t)),(e=>n.handleFailedRequest(o.DocumentColorRequest.type,t,e,null)))},i=n.middleware;return i.provideDocumentColors?i.provideDocumentColors(e,t,r):r(e,t)}};return[r.languages.registerColorProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}}t.ColorProviderFeature=s},1435:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CompletionItemFeature=void 0;const r=n(9496),o=n(273),i=n(8909),s=n(1980),a=[o.CompletionItemKind.Text,o.CompletionItemKind.Method,o.CompletionItemKind.Function,o.CompletionItemKind.Constructor,o.CompletionItemKind.Field,o.CompletionItemKind.Variable,o.CompletionItemKind.Class,o.CompletionItemKind.Interface,o.CompletionItemKind.Module,o.CompletionItemKind.Property,o.CompletionItemKind.Unit,o.CompletionItemKind.Value,o.CompletionItemKind.Enum,o.CompletionItemKind.Keyword,o.CompletionItemKind.Snippet,o.CompletionItemKind.Color,o.CompletionItemKind.File,o.CompletionItemKind.Reference,o.CompletionItemKind.Folder,o.CompletionItemKind.EnumMember,o.CompletionItemKind.Constant,o.CompletionItemKind.Struct,o.CompletionItemKind.Event,o.CompletionItemKind.Operator,o.CompletionItemKind.TypeParameter];class c extends i.TextDocumentLanguageFeature{constructor(e){super(e,o.CompletionRequest.type),this.labelDetailsSupport=new Map}fillClientCapabilities(e){let t=(0,i.ensure)((0,i.ensure)(e,"textDocument"),"completion");t.dynamicRegistration=!0,t.contextSupport=!0,t.completionItem={snippetSupport:!0,commitCharactersSupport:!0,documentationFormat:[o.MarkupKind.Markdown,o.MarkupKind.PlainText],deprecatedSupport:!0,preselectSupport:!0,tagSupport:{valueSet:[o.CompletionItemTag.Deprecated]},insertReplaceSupport:!0,resolveSupport:{properties:["documentation","detail","additionalTextEdits"]},insertTextModeSupport:{valueSet:[o.InsertTextMode.asIs,o.InsertTextMode.adjustIndentation]},labelDetailsSupport:!0},t.insertTextMode=o.InsertTextMode.adjustIndentation,t.completionItemKind={valueSet:a},t.completionList={itemDefaults:["commitCharacters","editRange","insertTextFormat","insertTextMode"]}}initialize(e,t){const n=this.getRegistrationOptions(t,e.completionProvider);n&&this.register({id:s.generateUuid(),registerOptions:n})}registerLanguageProvider(e,t){this.labelDetailsSupport.set(t,!!e.completionItem?.labelDetailsSupport);const n=e.triggerCharacters??[],i=e.allCommitCharacters,s=e.documentSelector,a={provideCompletionItems:(e,t,n,r)=>{const s=this._client,a=this._client.middleware,c=(e,t,n,r)=>s.sendRequest(o.CompletionRequest.type,s.code2ProtocolConverter.asCompletionParams(e,t,n),r).then((e=>r.isCancellationRequested?null:s.protocol2CodeConverter.asCompletionResult(e,i,r)),(e=>s.handleFailedRequest(o.CompletionRequest.type,r,e,null)));return a.provideCompletionItem?a.provideCompletionItem(e,t,r,n,c):c(e,t,r,n)},resolveCompletionItem:e.resolveProvider?(e,n)=>{const r=this._client,i=this._client.middleware,s=(e,n)=>r.sendRequest(o.CompletionResolveRequest.type,r.code2ProtocolConverter.asCompletionItem(e,!!this.labelDetailsSupport.get(t)),n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asCompletionItem(e)),(t=>r.handleFailedRequest(o.CompletionResolveRequest.type,n,t,e)));return i.resolveCompletionItem?i.resolveCompletionItem(e,n,s):s(e,n)}:void 0};return[r.languages.registerCompletionItemProvider(this._client.protocol2CodeConverter.asDocumentSelector(s),a,...n),a]}}t.CompletionItemFeature=c},6495:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SyncConfigurationFeature=t.toJSONObject=t.ConfigurationFeature=void 0;const r=n(9496),o=n(273),i=n(9763),s=n(1980),a=n(8909);function c(e){if(e){if(Array.isArray(e))return e.map(c);if("object"==typeof e){const t=Object.create(null);for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=c(e[n]));return t}}return e}t.ConfigurationFeature=class{constructor(e){this._client=e}getState(){return{kind:"static"}}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.configuration=!0}initialize(){let e=this._client;e.onRequest(o.ConfigurationRequest.type,((t,n)=>{let r=e=>{let t=[];for(let n of e.items){let e=void 0!==n.scopeUri&&null!==n.scopeUri?this._client.protocol2CodeConverter.asUri(n.scopeUri):void 0;t.push(this.getConfiguration(e,null!==n.section?n.section:void 0))}return t},o=e.middleware.workspace;return o&&o.configuration?o.configuration(t,n,r):r(t)}))}getConfiguration(e,t){let n=null;if(t){let o=t.lastIndexOf(".");if(-1===o)n=c(r.workspace.getConfiguration(void 0,e).get(t));else{let i=r.workspace.getConfiguration(t.substr(0,o),e);i&&(n=c(i.get(t.substr(o+1))))}}else{let t=r.workspace.getConfiguration(void 0,e);n={};for(let e of Object.keys(t))t.has(e)&&(n[e]=c(t.get(e)))}return void 0===n&&(n=null),n}dispose(){}},t.toJSONObject=c,t.SyncConfigurationFeature=class{constructor(e){this._client=e,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return o.DidChangeConfigurationNotification.type}fillClientCapabilities(e){(0,a.ensure)((0,a.ensure)(e,"workspace"),"didChangeConfiguration").dynamicRegistration=!0}initialize(){let e=this._client.clientOptions.synchronize?.configurationSection;void 0!==e&&this.register({id:s.generateUuid(),registerOptions:{section:e}})}register(e){let t=r.workspace.onDidChangeConfiguration((t=>{this.onDidChangeConfiguration(e.registerOptions.section,t)}));this._listeners.set(e.id,t),void 0!==e.registerOptions.section&&this.onDidChangeConfiguration(e.registerOptions.section,void 0)}unregister(e){let t=this._listeners.get(e);t&&(this._listeners.delete(e),t.dispose())}dispose(){for(const e of this._listeners.values())e.dispose();this._listeners.clear()}onDidChangeConfiguration(e,t){let n;if(n=i.string(e)?[e]:e,void 0!==n&&void 0!==t&&!n.some((e=>t.affectsConfiguration(e))))return;const r=async e=>void 0===e?this._client.sendNotification(o.DidChangeConfigurationNotification.type,{settings:null}):this._client.sendNotification(o.DidChangeConfigurationNotification.type,{settings:this.extractSettingsInformation(e)});let s=this._client.middleware.workspace?.didChangeConfiguration;(s?s(n,r):r(n)).catch((e=>{this._client.error(`Sending notification ${o.DidChangeConfigurationNotification.type.method} failed`,e)}))}extractSettingsInformation(e){function t(e,t){let n=e;for(let e=0;e<t.length-1;e++){let r=n[t[e]];r||(r=Object.create(null),n[t[e]]=r),n=r}return n}let n=this._client.clientOptions.workspaceFolder?this._client.clientOptions.workspaceFolder.uri:void 0,o=Object.create(null);for(let i=0;i<e.length;i++){let s=e[i],a=s.indexOf("."),u=null;if(u=a>=0?r.workspace.getConfiguration(s.substr(0,a),n).get(s.substr(a+1)):r.workspace.getConfiguration(void 0,n).get(s),u){let n=e[i].split(".");t(o,n)[n[n.length-1]]=c(u)}}return o}}},707:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeclarationFeature=void 0;const r=n(9496),o=n(273),i=n(8909);class s extends i.TextDocumentLanguageFeature{constructor(e){super(e,o.DeclarationRequest.type)}fillClientCapabilities(e){const t=(0,i.ensure)((0,i.ensure)(e,"textDocument"),"declaration");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){const[n,r]=this.getRegistration(t,e.declarationProvider);n&&r&&this.register({id:n,registerOptions:r})}registerLanguageProvider(e){const t=e.documentSelector,n={provideDeclaration:(e,t,n)=>{const r=this._client,i=(e,t,n)=>r.sendRequest(o.DeclarationRequest.type,r.code2ProtocolConverter.asTextDocumentPositionParams(e,t),n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asDeclarationResult(e,n)),(e=>r.handleFailedRequest(o.DeclarationRequest.type,n,e,null))),s=r.middleware;return s.provideDeclaration?s.provideDeclaration(e,t,n,i):i(e,t,n)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return r.languages.registerDeclarationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.DeclarationFeature=s},122:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DefinitionFeature=void 0;const r=n(9496),o=n(273),i=n(8909),s=n(1980);class a extends i.TextDocumentLanguageFeature{constructor(e){super(e,o.DefinitionRequest.type)}fillClientCapabilities(e){let t=(0,i.ensure)((0,i.ensure)(e,"textDocument"),"definition");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.definitionProvider);n&&this.register({id:s.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideDefinition:(e,t,n)=>{const r=this._client,i=(e,t,n)=>r.sendRequest(o.DefinitionRequest.type,r.code2ProtocolConverter.asTextDocumentPositionParams(e,t),n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asDefinitionResult(e,n)),(e=>r.handleFailedRequest(o.DefinitionRequest.type,n,e,null))),s=r.middleware;return s.provideDefinition?s.provideDefinition(e,t,n,i):i(e,t,n)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return r.languages.registerDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.DefinitionFeature=a},2570:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DiagnosticFeature=t.DiagnosticPullMode=t.vsdiag=void 0;const r=n(1171),o=n(9496),i=n(273),s=n(1980),a=n(8909);function c(e,t){return void 0===e[t]&&(e[t]={}),e[t]}var u,l,d,h;!function(e){let t;!function(e){e.full="full",e.unChanged="unChanged"}(t=e.DocumentDiagnosticReportKind||(e.DocumentDiagnosticReportKind={}))}(u=t.vsdiag||(t.vsdiag={})),function(e){e.onType="onType",e.onSave="onSave"}(l=t.DiagnosticPullMode||(t.DiagnosticPullMode={})),function(e){e.active="open",e.reschedule="reschedule",e.outDated="drop"}(d||(d={}));class p{constructor(){this.open=new Set,this._onOpen=new o.EventEmitter,this._onClose=new o.EventEmitter,p.fillTabResources(this.open);void 0!==o.window.tabGroups.onDidChangeTabs?this.disposable=o.window.tabGroups.onDidChangeTabs((e=>{if(0===e.closed.length&&0===e.opened.length)return;const t=this.open,n=new Set;p.fillTabResources(n);const r=new Set,i=new Set(n);for(const e of t.values())n.has(e)?i.delete(e):r.add(e);if(this.open=n,r.size>0){const e=new Set;for(const t of r)e.add(o.Uri.parse(t));this._onClose.fire(e)}if(i.size>0){const e=new Set;for(const t of i)e.add(o.Uri.parse(t));this._onOpen.fire(e)}})):this.disposable={dispose:()=>{}}}get onClose(){return this._onClose.event}get onOpen(){return this._onOpen.event}dispose(){this.disposable.dispose()}isActive(e){return e instanceof o.Uri?o.window.activeTextEditor?.document.uri===e:o.window.activeTextEditor?.document===e}isVisible(e){const t=e instanceof o.Uri?e:e.uri;return this.open.has(t.toString())}getTabResources(){const e=new Set;return p.fillTabResources(new Set,e),e}static fillTabResources(e,t){const n=e??new Set;for(const e of o.window.tabGroups.all)for(const r of e.tabs){const e=r.input;let i;e instanceof o.TabInputText?i=e.uri:e instanceof o.TabInputTextDiff&&(i=e.modified),void 0===i||n.has(i.toString())||(n.add(i.toString()),void 0!==t&&t.add(i))}}}!function(e){e[e.document=1]="document",e[e.workspace=2]="workspace"}(h||(h={}));class f{constructor(){this.documentPullStates=new Map,this.workspacePullStates=new Map}track(e,t,n){const r=e===h.document?this.documentPullStates:this.workspacePullStates,[i,s,a]=t instanceof o.Uri?[t.toString(),t,n]:[t.uri.toString(),t.uri,t.version];let c=r.get(i);return void 0===c&&(c={document:s,pulledVersion:a,resultId:void 0},r.set(i,c)),c}update(e,t,n,r){const i=e===h.document?this.documentPullStates:this.workspacePullStates,[s,a,c,u]=t instanceof o.Uri?[t.toString(),t,n,r]:[t.uri.toString(),t.uri,t.version,n];let l=i.get(s);void 0===l?(l={document:a,pulledVersion:c,resultId:u},i.set(s,l)):(l.pulledVersion=c,l.resultId=u)}unTrack(e,t){const n=t instanceof o.Uri?t.toString():t.uri.toString();(e===h.document?this.documentPullStates:this.workspacePullStates).delete(n)}tracks(e,t){const n=t instanceof o.Uri?t.toString():t.uri.toString();return(e===h.document?this.documentPullStates:this.workspacePullStates).has(n)}getResultId(e,t){const n=t instanceof o.Uri?t.toString():t.uri.toString();return(e===h.document?this.documentPullStates:this.workspacePullStates).get(n)?.resultId}getAllResultIds(){const e=[];for(let[t,n]of this.workspacePullStates)this.documentPullStates.has(t)&&(n=this.documentPullStates.get(t)),void 0!==n.resultId&&e.push({uri:t,value:n.resultId});return e}}class m{constructor(e,t,n){this.client=e,this.tabs=t,this.options=n,this.isDisposed=!1,this.onDidChangeDiagnosticsEmitter=new o.EventEmitter,this.provider=this.createProvider(),this.diagnostics=o.languages.createDiagnosticCollection(n.identifier),this.openRequests=new Map,this.documentStates=new f,this.workspaceErrorCounter=0}knows(e,t){return this.documentStates.tracks(e,t)}forget(e,t){this.documentStates.unTrack(e,t)}pull(e,t){if(this.isDisposed)return;const n=e instanceof o.Uri?e:e.uri;this.pullAsync(e).then((()=>{t&&t()}),(e=>{this.client.error(`Document pull failed for text document ${n.toString()}`,e,!1)}))}async pullAsync(e,t){if(this.isDisposed)return;const n=e instanceof o.Uri,r=n?e:e.uri,s=r.toString();t=n?t:e.version;const c=this.openRequests.get(s),l=n?this.documentStates.track(h.document,e,t):this.documentStates.track(h.document,e);if(void 0===c){const n=new o.CancellationTokenSource;let c,p;this.openRequests.set(s,{state:d.active,document:e,version:t,tokenSource:n});try{c=await this.provider.provideDiagnostics(e,l.resultId,n.token)??{kind:u.DocumentDiagnosticReportKind.full,items:[]}}catch(t){if(t instanceof a.LSPCancellationError&&i.DiagnosticServerCancellationData.is(t.data)&&!1===t.data.retriggerRequest&&(p={state:d.outDated,document:e}),!(void 0===p&&t instanceof o.CancellationError))throw t;p={state:d.reschedule,document:e}}if(p=p??this.openRequests.get(s),void 0===p)return this.client.error(`Lost request state in diagnostic pull model. Clearing diagnostics for ${s}`),void this.diagnostics.delete(r);if(this.openRequests.delete(s),!this.tabs.isVisible(e))return void this.documentStates.unTrack(h.document,e);if(p.state===d.outDated)return;void 0!==c&&(c.kind===u.DocumentDiagnosticReportKind.full&&this.diagnostics.set(r,c.items),l.pulledVersion=t,l.resultId=c.resultId),p.state===d.reschedule&&this.pull(e)}else c.state===d.active?(c.tokenSource.cancel(),this.openRequests.set(s,{state:d.reschedule,document:c.document})):c.state===d.outDated&&this.openRequests.set(s,{state:d.reschedule,document:c.document})}forgetDocument(e){const t=e instanceof o.Uri?e:e.uri,n=t.toString(),r=this.openRequests.get(n);this.options.workspaceDiagnostics?void 0!==r?this.openRequests.set(n,{state:d.reschedule,document:e}):this.pull(e,(()=>{this.forget(h.document,e)})):(void 0!==r&&(r.state===d.active&&r.tokenSource.cancel(),this.openRequests.set(n,{state:d.outDated,document:e})),this.diagnostics.delete(t),this.forget(h.document,e))}pullWorkspace(){this.isDisposed||this.pullWorkspaceAsync().then((()=>{this.workspaceTimeout=(0,i.RAL)().timer.setTimeout((()=>{this.pullWorkspace()}),2e3)}),(e=>{e instanceof a.LSPCancellationError||i.DiagnosticServerCancellationData.is(e.data)||(this.client.error("Workspace diagnostic pull failed.",e,!1),this.workspaceErrorCounter++),this.workspaceErrorCounter<=5&&(this.workspaceTimeout=(0,i.RAL)().timer.setTimeout((()=>{this.pullWorkspace()}),2e3))}))}async pullWorkspaceAsync(){if(!this.provider.provideWorkspaceDiagnostics||this.isDisposed)return;void 0!==this.workspaceCancellation&&(this.workspaceCancellation.cancel(),this.workspaceCancellation=void 0),this.workspaceCancellation=new o.CancellationTokenSource;const e=this.documentStates.getAllResultIds().map((e=>({uri:this.client.protocol2CodeConverter.asUri(e.uri),value:e.value})));await this.provider.provideWorkspaceDiagnostics(e,this.workspaceCancellation.token,(e=>{if(e&&!this.isDisposed)for(const t of e.items)t.kind===u.DocumentDiagnosticReportKind.full&&(this.documentStates.tracks(h.document,t.uri)||this.diagnostics.set(t.uri,t.items)),this.documentStates.update(h.workspace,t.uri,t.version??void 0,t.resultId)}))}createProvider(){const e={onDidChangeDiagnostics:this.onDidChangeDiagnosticsEmitter.event,provideDiagnostics:(e,t,n)=>{const r=(e,t,n)=>{const r={identifier:this.options.identifier,textDocument:{uri:this.client.code2ProtocolConverter.asUri(e instanceof o.Uri?e:e.uri)},previousResultId:t};return!0!==this.isDisposed&&this.client.isRunning()?this.client.sendRequest(i.DocumentDiagnosticRequest.type,r,n).then((async e=>null==e||this.isDisposed||n.isCancellationRequested?{kind:u.DocumentDiagnosticReportKind.full,items:[]}:e.kind===i.DocumentDiagnosticReportKind.Full?{kind:u.DocumentDiagnosticReportKind.full,resultId:e.resultId,items:await this.client.protocol2CodeConverter.asDiagnostics(e.items,n)}:{kind:u.DocumentDiagnosticReportKind.unChanged,resultId:e.resultId}),(e=>this.client.handleFailedRequest(i.DocumentDiagnosticRequest.type,n,e,{kind:u.DocumentDiagnosticReportKind.full,items:[]}))):{kind:u.DocumentDiagnosticReportKind.full,items:[]}},s=this.client.middleware;return s.provideDiagnostics?s.provideDiagnostics(e,t,n,r):r(e,t,n)}};return this.options.workspaceDiagnostics&&(e.provideWorkspaceDiagnostics=(e,t,n)=>{const r=async e=>e.kind===i.DocumentDiagnosticReportKind.Full?{kind:u.DocumentDiagnosticReportKind.full,uri:this.client.protocol2CodeConverter.asUri(e.uri),resultId:e.resultId,version:e.version,items:await this.client.protocol2CodeConverter.asDiagnostics(e.items,t)}:{kind:u.DocumentDiagnosticReportKind.unChanged,uri:this.client.protocol2CodeConverter.asUri(e.uri),resultId:e.resultId,version:e.version},o=e=>{const t=[];for(const n of e)t.push({uri:this.client.code2ProtocolConverter.asUri(n.uri),value:n.value});return t},a=(e,t)=>{const a=(0,s.generateUuid)(),c=this.client.onProgress(i.WorkspaceDiagnosticRequest.partialResult,a,(async e=>{if(null==e)return void n(null);const t={items:[]};for(const n of e.items)try{t.items.push(await r(n))}catch(e){this.client.error("Converting workspace diagnostics failed.",e)}n(t)})),u={identifier:this.options.identifier,previousResultIds:o(e),partialResultToken:a};return!0!==this.isDisposed&&this.client.isRunning()?this.client.sendRequest(i.WorkspaceDiagnosticRequest.type,u,t).then((async e=>{if(t.isCancellationRequested)return{items:[]};const o={items:[]};for(const t of e.items)o.items.push(await r(t));return c.dispose(),n(o),{items:[]}}),(e=>(c.dispose(),this.client.handleFailedRequest(i.DocumentDiagnosticRequest.type,t,e,{items:[]})))):{items:[]}},c=this.client.middleware;return c.provideWorkspaceDiagnostics?c.provideWorkspaceDiagnostics(e,t,n,a):a(e,t)}),e}dispose(){this.isDisposed=!0,this.workspaceCancellation?.cancel(),this.workspaceTimeout?.dispose();for(const[e,t]of this.openRequests)t.state===d.active&&t.tokenSource.cancel(),this.openRequests.set(e,{state:d.outDated,document:t.document});this.diagnostics.dispose()}}class g{constructor(e){this.diagnosticRequestor=e,this.documents=new i.LinkedMap,this.isDisposed=!1}add(e){if(!0===this.isDisposed)return;const t=e instanceof o.Uri?e.toString():e.uri.toString();this.documents.has(t)||(this.documents.set(t,e,i.Touch.Last),this.trigger())}remove(e){const t=e instanceof o.Uri?e.toString():e.uri.toString();this.documents.has(t)&&(this.documents.delete(t),this.diagnosticRequestor.pull(e)),0===this.documents.size?this.stop():e===this.endDocument&&(this.endDocument=this.documents.last)}trigger(){!0!==this.isDisposed&&(void 0===this.intervalHandle?(this.endDocument=this.documents.last,this.intervalHandle=(0,i.RAL)().timer.setInterval((()=>{const e=this.documents.first;if(void 0!==e){const t=e instanceof o.Uri?e.toString():e.uri.toString();this.diagnosticRequestor.pull(e),this.documents.set(t,e,i.Touch.Last),e===this.endDocument&&this.stop()}}),200)):this.endDocument=this.documents.last)}dispose(){this.isDisposed=!0,this.stop(),this.documents.clear()}stop(){this.intervalHandle?.dispose(),this.intervalHandle=void 0,this.endDocument=void 0}}class v{constructor(e,t,n){const s=e.clientOptions.diagnosticPullOptions??{onChange:!0,onSave:!1},a=e.protocol2CodeConverter.asDocumentSelector(n.documentSelector),c=[],u=e=>e instanceof o.Uri?(e=>{const t=n.documentSelector;if(void 0!==s.match)return s.match(t,e);for(const n of t)if(i.TextDocumentFilter.is(n)){if("string"==typeof n)return!1;if(void 0!==n.language&&"*"!==n.language)return!1;if(void 0!==n.scheme&&"*"!==n.scheme&&n.scheme!==e.scheme)return!1;if(void 0!==n.pattern){const t=new r.Minimatch(n.pattern,{noext:!0});if(!t.makeRe())return!1;if(!t.match(e.fsPath))return!1}}return!0})(e):o.languages.match(a,e)>0&&t.isVisible(e),d=e=>e instanceof o.Uri?this.activeTextDocument?.uri.toString()===e.toString():this.activeTextDocument===e;this.diagnosticRequestor=new m(e,t,n),this.backgroundScheduler=new g(this.diagnosticRequestor);const p=e=>{u(e)&&n.interFileDependencies&&!d(e)&&this.backgroundScheduler.add(e)};this.activeTextDocument=o.window.activeTextEditor?.document,o.window.onDidChangeActiveTextEditor((e=>{const t=this.activeTextDocument;this.activeTextDocument=e?.document,void 0!==t&&p(t),void 0!==this.activeTextDocument&&this.backgroundScheduler.remove(this.activeTextDocument)}));const f=e.getFeature(i.DidOpenTextDocumentNotification.method);c.push(f.onNotificationSent((e=>{const t=e.original;u(t)&&this.diagnosticRequestor.pull(t,(()=>{p(t)}))})));const v=new Set;for(const e of o.workspace.textDocuments)u(e)&&(this.diagnosticRequestor.pull(e,(()=>{p(e)})),v.add(e.uri.toString()));if(!0===s.onTabs)for(const e of t.getTabResources())!v.has(e.toString())&&u(e)&&this.diagnosticRequestor.pull(e,(()=>{p(e)}));if(t.onOpen((e=>{for(const t of e)u(t)&&!this.diagnosticRequestor.knows(h.document,t)&&this.diagnosticRequestor.pull(t,(()=>{p(t)}))})),!0===s.onChange){const t=e.getFeature(i.DidChangeTextDocumentNotification.method);c.push(t.onNotificationSent((async e=>{const t=e.original.document;(void 0===s.filter||!s.filter(t,l.onType))&&this.diagnosticRequestor.knows(h.document,t)&&e.original.contentChanges.length>0&&this.diagnosticRequestor.pull(t,(()=>{this.backgroundScheduler.trigger()}))})))}if(!0===s.onSave){const t=e.getFeature(i.DidSaveTextDocumentNotification.method);c.push(t.onNotificationSent((e=>{const t=e.original;void 0!==s.filter&&s.filter(t,l.onSave)||!this.diagnosticRequestor.knows(h.document,t)||this.diagnosticRequestor.pull(e.original,(()=>{this.backgroundScheduler.trigger()}))})))}const y=e.getFeature(i.DidCloseTextDocumentNotification.method);c.push(y.onNotificationSent((e=>{this.cleanUpDocument(e.original)}))),t.onClose((e=>{for(const t of e)this.cleanUpDocument(t)})),this.diagnosticRequestor.onDidChangeDiagnosticsEmitter.event((()=>{for(const e of o.workspace.textDocuments)u(e)&&this.diagnosticRequestor.pull(e)})),!0===n.workspaceDiagnostics&&"da348dc5-c30a-4515-9d98-31ff3be38d14"!==n.identifier&&this.diagnosticRequestor.pullWorkspace(),this.disposable=o.Disposable.from(...c,this.backgroundScheduler,this.diagnosticRequestor)}get onDidChangeDiagnosticsEmitter(){return this.diagnosticRequestor.onDidChangeDiagnosticsEmitter}get diagnostics(){return this.diagnosticRequestor.provider}cleanUpDocument(e){this.diagnosticRequestor.knows(h.document,e)&&(this.diagnosticRequestor.forgetDocument(e),this.backgroundScheduler.remove(e))}}class y extends a.TextDocumentLanguageFeature{constructor(e){super(e,i.DocumentDiagnosticRequest.type)}fillClientCapabilities(e){let t=c(c(e,"textDocument"),"diagnostic");t.dynamicRegistration=!0,t.relatedDocumentSupport=!1,c(c(e,"workspace"),"diagnostics").refreshSupport=!0}initialize(e,t){this._client.onRequest(i.DiagnosticRefreshRequest.type,(async()=>{for(const e of this.getAllProviders())e.onDidChangeDiagnosticsEmitter.fire()}));let[n,r]=this.getRegistration(t,e.diagnosticProvider);n&&r&&this.register({id:n,registerOptions:r})}dispose(){void 0!==this.tabs&&(this.tabs.dispose(),this.tabs=void 0),super.dispose()}registerLanguageProvider(e){void 0===this.tabs&&(this.tabs=new p);const t=new v(this._client,this.tabs,e);return[t.disposable,t]}}t.DiagnosticFeature=y},9959:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentHighlightFeature=void 0;const r=n(9496),o=n(273),i=n(8909),s=n(1980);class a extends i.TextDocumentLanguageFeature{constructor(e){super(e,o.DocumentHighlightRequest.type)}fillClientCapabilities(e){(0,i.ensure)((0,i.ensure)(e,"textDocument"),"documentHighlight").dynamicRegistration=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.documentHighlightProvider);n&&this.register({id:s.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideDocumentHighlights:(e,t,n)=>{const r=this._client,i=(e,t,n)=>r.sendRequest(o.DocumentHighlightRequest.type,r.code2ProtocolConverter.asTextDocumentPositionParams(e,t),n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asDocumentHighlights(e,n)),(e=>r.handleFailedRequest(o.DocumentHighlightRequest.type,n,e,null))),s=r.middleware;return s.provideDocumentHighlights?s.provideDocumentHighlights(e,t,n,i):i(e,t,n)}};return[r.languages.registerDocumentHighlightProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}}t.DocumentHighlightFeature=a},3471:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentLinkFeature=void 0;const r=n(9496),o=n(273),i=n(8909),s=n(1980);class a extends i.TextDocumentLanguageFeature{constructor(e){super(e,o.DocumentLinkRequest.type)}fillClientCapabilities(e){const t=(0,i.ensure)((0,i.ensure)(e,"textDocument"),"documentLink");t.dynamicRegistration=!0,t.tooltipSupport=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.documentLinkProvider);n&&this.register({id:s.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideDocumentLinks:(e,t)=>{const n=this._client,r=(e,t)=>n.sendRequest(o.DocumentLinkRequest.type,n.code2ProtocolConverter.asDocumentLinkParams(e),t).then((e=>t.isCancellationRequested?null:n.protocol2CodeConverter.asDocumentLinks(e,t)),(e=>n.handleFailedRequest(o.DocumentLinkRequest.type,t,e,null))),i=n.middleware;return i.provideDocumentLinks?i.provideDocumentLinks(e,t,r):r(e,t)},resolveDocumentLink:e.resolveProvider?(e,t)=>{const n=this._client;let r=(e,t)=>n.sendRequest(o.DocumentLinkResolveRequest.type,n.code2ProtocolConverter.asDocumentLink(e),t).then((r=>t.isCancellationRequested?e:n.protocol2CodeConverter.asDocumentLink(r)),(r=>n.handleFailedRequest(o.DocumentLinkResolveRequest.type,t,r,e)));const i=n.middleware;return i.resolveDocumentLink?i.resolveDocumentLink(e,t,r):r(e,t)}:void 0};return[r.languages.registerDocumentLinkProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}}t.DocumentLinkFeature=a},2483:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentSymbolFeature=t.SupportedSymbolTags=t.SupportedSymbolKinds=void 0;const r=n(9496),o=n(273),i=n(8909),s=n(1980);t.SupportedSymbolKinds=[o.SymbolKind.File,o.SymbolKind.Module,o.SymbolKind.Namespace,o.SymbolKind.Package,o.SymbolKind.Class,o.SymbolKind.Method,o.SymbolKind.Property,o.SymbolKind.Field,o.SymbolKind.Constructor,o.SymbolKind.Enum,o.SymbolKind.Interface,o.SymbolKind.Function,o.SymbolKind.Variable,o.SymbolKind.Constant,o.SymbolKind.String,o.SymbolKind.Number,o.SymbolKind.Boolean,o.SymbolKind.Array,o.SymbolKind.Object,o.SymbolKind.Key,o.SymbolKind.Null,o.SymbolKind.EnumMember,o.SymbolKind.Struct,o.SymbolKind.Event,o.SymbolKind.Operator,o.SymbolKind.TypeParameter],t.SupportedSymbolTags=[o.SymbolTag.Deprecated];class a extends i.TextDocumentLanguageFeature{constructor(e){super(e,o.DocumentSymbolRequest.type)}fillClientCapabilities(e){let n=(0,i.ensure)((0,i.ensure)(e,"textDocument"),"documentSymbol");n.dynamicRegistration=!0,n.symbolKind={valueSet:t.SupportedSymbolKinds},n.hierarchicalDocumentSymbolSupport=!0,n.tagSupport={valueSet:t.SupportedSymbolTags},n.labelSupport=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.documentSymbolProvider);n&&this.register({id:s.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideDocumentSymbols:(e,t)=>{const n=this._client,r=(e,t)=>n.sendRequest(o.DocumentSymbolRequest.type,n.code2ProtocolConverter.asDocumentSymbolParams(e),t).then((async e=>{if(t.isCancellationRequested||null==e)return null;if(0===e.length)return[];{const r=e[0];return o.DocumentSymbol.is(r)?await n.protocol2CodeConverter.asDocumentSymbols(e,t):await n.protocol2CodeConverter.asSymbolInformations(e,t)}}),(e=>n.handleFailedRequest(o.DocumentSymbolRequest.type,t,e,null))),i=n.middleware;return i.provideDocumentSymbols?i.provideDocumentSymbols(e,t,r):r(e,t)}},i=void 0!==e.label?{label:e.label}:void 0;return[r.languages.registerDocumentSymbolProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n,i),n]}}t.DocumentSymbolFeature=a},4849:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ExecuteCommandFeature=void 0;const r=n(9496),o=n(273),i=n(1980),s=n(8909);t.ExecuteCommandFeature=class{constructor(e){this._client=e,this._commands=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._commands.size>0}}get registrationType(){return o.ExecuteCommandRequest.type}fillClientCapabilities(e){(0,s.ensure)((0,s.ensure)(e,"workspace"),"executeCommand").dynamicRegistration=!0}initialize(e){e.executeCommandProvider&&this.register({id:i.generateUuid(),registerOptions:Object.assign({},e.executeCommandProvider)})}register(e){const t=this._client,n=t.middleware,i=(e,n)=>{let r={command:e,arguments:n};return t.sendRequest(o.ExecuteCommandRequest.type,r).then(void 0,(e=>t.handleFailedRequest(o.ExecuteCommandRequest.type,void 0,e,void 0)))};if(e.registerOptions.commands){const t=[];for(const o of e.registerOptions.commands)t.push(r.commands.registerCommand(o,((...e)=>n.executeCommand?n.executeCommand(o,e,i):i(o,e))));this._commands.set(e.id,t)}}unregister(e){let t=this._commands.get(e);t&&t.forEach((e=>e.dispose()))}dispose(){this._commands.forEach((e=>{e.forEach((e=>e.dispose()))})),this._commands.clear()}}},8909:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceFeature=t.TextDocumentLanguageFeature=t.TextDocumentEventFeature=t.DynamicDocumentFeature=t.DynamicFeature=t.StaticFeature=t.ensure=t.LSPCancellationError=void 0;const r=n(9496),o=n(273),i=n(9763),s=n(1980);class a extends r.CancellationError{constructor(e){super(),this.data=e}}t.LSPCancellationError=a,t.ensure=function(e,t){return void 0===e[t]&&(e[t]={}),e[t]},(t.StaticFeature||(t.StaticFeature={})).is=function(e){const t=e;return null!=t&&i.func(t.fillClientCapabilities)&&i.func(t.initialize)&&i.func(t.getState)&&i.func(t.dispose)&&(void 0===t.fillInitializeParams||i.func(t.fillInitializeParams))},(t.DynamicFeature||(t.DynamicFeature={})).is=function(e){const t=e;return null!=t&&i.func(t.fillClientCapabilities)&&i.func(t.initialize)&&i.func(t.getState)&&i.func(t.dispose)&&(void 0===t.fillInitializeParams||i.func(t.fillInitializeParams))&&i.func(t.register)&&i.func(t.unregister)&&void 0!==t.registrationType};class c{constructor(e){this._client=e}getState(){const e=this.getDocumentSelectors();let t=0;for(const n of e){t++;for(const e of r.workspace.textDocuments)if(r.languages.match(n,e)>0)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}const n=t>0;return{kind:"document",id:this.registrationType.method,registrations:n,matches:!1}}}t.DynamicDocumentFeature=c,t.TextDocumentEventFeature=class extends c{constructor(e,t,n,o,i,s,a){super(e),this._event=t,this._type=n,this._middleware=o,this._createParams=i,this._textDocument=s,this._selectorFilter=a,this._selectors=new Map,this._onNotificationSent=new r.EventEmitter}static textDocumentFilter(e,t){for(const n of e)if(r.languages.match(n,t)>0)return!0;return!1}getStateInfo(){return[this._selectors.values(),!1]}getDocumentSelectors(){return this._selectors.values()}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=this._event((e=>{this.callback(e).catch((e=>{this._client.error(`Sending document notification ${this._type.method} failed.`,e)}))}))),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)))}async callback(e){const t=async e=>{const t=this._createParams(e);await this._client.sendNotification(this._type,t).catch(),this.notificationSent(e,this._type,t)};if(this.matches(e)){const n=this._middleware();return n?n(e,(e=>t(e))):t(e)}}matches(e){return!this._client.hasDedicatedTextSynchronizationFeature(this._textDocument(e))&&(!this._selectorFilter||this._selectorFilter(this._selectors.values(),e))}get onNotificationSent(){return this._onNotificationSent.event}notificationSent(e,t,n){this._onNotificationSent.fire({original:e,type:t,params:n})}unregister(e){this._selectors.delete(e),0===this._selectors.size&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._onNotificationSent.dispose(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getProvider(e){for(const t of this._selectors.values())if(r.languages.match(t,e)>0)return{send:e=>this.callback(e)}}},t.TextDocumentLanguageFeature=class extends c{constructor(e,t){super(e),this._registrationType=t,this._registrations=new Map}*getDocumentSelectors(){for(const e of this._registrations.values()){const t=e.data.registerOptions.documentSelector;null!==t&&(yield this._client.protocol2CodeConverter.asDocumentSelector(t))}}get registrationType(){return this._registrationType}register(e){if(!e.registerOptions.documentSelector)return;let t=this.registerLanguageProvider(e.registerOptions,e.id);this._registrations.set(e.id,{disposable:t[0],data:e,provider:t[1]})}unregister(e){let t=this._registrations.get(e);void 0!==t&&t.disposable.dispose()}dispose(){this._registrations.forEach((e=>{e.disposable.dispose()})),this._registrations.clear()}getRegistration(e,t){if(!t)return[void 0,void 0];if(o.TextDocumentRegistrationOptions.is(t)){const n=o.StaticRegistrationOptions.hasId(t)?t.id:s.generateUuid(),r=t.documentSelector||e;if(r)return[n,Object.assign({},t,{documentSelector:r})]}else if(i.boolean(t)&&!0===t||o.WorkDoneProgressOptions.is(t)){if(!e)return[void 0,void 0];let n=i.boolean(t)&&!0===t?{documentSelector:e}:Object.assign({},t,{documentSelector:e});return[s.generateUuid(),n]}return[void 0,void 0]}getRegistrationOptions(e,t){if(e&&t)return i.boolean(t)&&!0===t?{documentSelector:e}:Object.assign({},t,{documentSelector:e})}getProvider(e){for(const t of this._registrations.values()){let n=t.data.registerOptions.documentSelector;if(null!==n&&r.languages.match(this._client.protocol2CodeConverter.asDocumentSelector(n),e)>0)return t.provider}}getAllProviders(){const e=[];for(const t of this._registrations.values())e.push(t.provider);return e}},t.WorkspaceFeature=class{constructor(e,t){this._client=e,this._registrationType=t,this._registrations=new Map}getState(){const e=this._registrations.size>0;return{kind:"workspace",id:this._registrationType.method,registrations:e}}get registrationType(){return this._registrationType}register(e){const t=this.registerLanguageProvider(e.registerOptions);this._registrations.set(e.id,{disposable:t[0],provider:t[1]})}unregister(e){let t=this._registrations.get(e);void 0!==t&&t.disposable.dispose()}dispose(){this._registrations.forEach((e=>{e.disposable.dispose()})),this._registrations.clear()}getProviders(){const e=[];for(const t of this._registrations.values())e.push(t.provider);return e}}},8406:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WillDeleteFilesFeature=t.WillRenameFilesFeature=t.WillCreateFilesFeature=t.DidDeleteFilesFeature=t.DidRenameFilesFeature=t.DidCreateFilesFeature=void 0;const r=n(9496),o=n(1171),i=n(273),s=n(1980);function a(e,t){return void 0===e[t]&&(e[t]={}),e[t]}function c(e,t,n){e[t]=n}class u{constructor(e,t,n,r,o){this._client=e,this._event=t,this._registrationType=n,this._clientCapability=r,this._serverCapability=o,this._filters=new Map}getState(){return{kind:"workspace",id:this._registrationType.method,registrations:this._filters.size>0}}filterSize(){return this._filters.size}get registrationType(){return this._registrationType}fillClientCapabilities(e){const t=a(a(e,"workspace"),"fileOperations");c(t,"dynamicRegistration",!0),c(t,this._clientCapability,!0)}initialize(e){const t=e.workspace?.fileOperations,n=void 0!==t?t[this._serverCapability]:void 0;if(void 0!==n?.filters)try{this.register({id:s.generateUuid(),registerOptions:{filters:n.filters}})}catch(e){this._client.warn(`Ignoring invalid glob pattern for ${this._serverCapability} registration: ${e}`)}}register(e){this._listener||(this._listener=this._event(this.send,this));const t=e.registerOptions.filters.map((e=>{const t=new o.Minimatch(e.pattern.glob,u.asMinimatchOptions(e.pattern.options));if(!t.makeRe())throw new Error(`Invalid pattern ${e.pattern.glob}!`);return{scheme:e.scheme,matcher:t,kind:e.pattern.matches}}));this._filters.set(e.id,t)}unregister(e){this._filters.delete(e),0===this._filters.size&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._filters.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}getFileType(e){return u.getFileType(e)}async filter(e,t){const n=await Promise.all(e.files.map((async e=>{const n=t(e),o=n.fsPath.replace(/\\/g,"/");for(const e of this._filters.values())for(const t of e)if(void 0===t.scheme||t.scheme===n.scheme)if(t.matcher.match(o)){if(void 0===t.kind)return!0;const e=await this.getFileType(n);if(void 0===e)return this._client.error(`Failed to determine file type for ${n.toString()}.`),!0;if(e===r.FileType.File&&t.kind===i.FileOperationPatternKind.file||e===r.FileType.Directory&&t.kind===i.FileOperationPatternKind.folder)return!0}else if(t.kind===i.FileOperationPatternKind.folder&&await u.getFileType(n)===r.FileType.Directory&&t.matcher.match(`${o}/`))return!0;return!1}))),o=e.files.filter(((e,t)=>n[t]));return{...e,files:o}}static async getFileType(e){try{return(await r.workspace.fs.stat(e)).type}catch(e){return}}static asMinimatchOptions(e){if(void 0!==e)return!0===e.ignoreCase?{nocase:!0}:void 0}}class l extends u{constructor(e,t,n,r,o,i,s){super(e,t,n,r,o),this._notificationType=n,this._accessUri=i,this._createParams=s}async send(e){const t=await this.filter(e,this._accessUri);if(t.files.length){const e=async e=>this._client.sendNotification(this._notificationType,this._createParams(e));return this.doSend(t,e)}}}class d extends l{constructor(){super(...arguments),this._fsPathFileTypes=new Map}async getFileType(e){const t=e.fsPath;if(this._fsPathFileTypes.has(t))return this._fsPathFileTypes.get(t);const n=await u.getFileType(e);return n&&this._fsPathFileTypes.set(t,n),n}async cacheFileTypes(e,t){await this.filter(e,t)}clearFileTypeCache(){this._fsPathFileTypes.clear()}unregister(e){super.unregister(e),0===this.filterSize()&&this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}dispose(){super.dispose(),this._willListener&&(this._willListener.dispose(),this._willListener=void 0)}}t.DidCreateFilesFeature=class extends l{constructor(e){super(e,r.workspace.onDidCreateFiles,i.DidCreateFilesNotification.type,"didCreate","didCreate",(e=>e),e.code2ProtocolConverter.asDidCreateFilesParams)}doSend(e,t){const n=this._client.middleware.workspace;return n?.didCreateFiles?n.didCreateFiles(e,t):t(e)}},t.DidRenameFilesFeature=class extends d{constructor(e){super(e,r.workspace.onDidRenameFiles,i.DidRenameFilesNotification.type,"didRename","didRename",(e=>e.oldUri),e.code2ProtocolConverter.asDidRenameFilesParams)}register(e){this._willListener||(this._willListener=r.workspace.onWillRenameFiles(this.willRename,this)),super.register(e)}willRename(e){e.waitUntil(this.cacheFileTypes(e,(e=>e.oldUri)))}doSend(e,t){this.clearFileTypeCache();const n=this._client.middleware.workspace;return n?.didRenameFiles?n.didRenameFiles(e,t):t(e)}},t.DidDeleteFilesFeature=class extends d{constructor(e){super(e,r.workspace.onDidDeleteFiles,i.DidDeleteFilesNotification.type,"didDelete","didDelete",(e=>e),e.code2ProtocolConverter.asDidDeleteFilesParams)}register(e){this._willListener||(this._willListener=r.workspace.onWillDeleteFiles(this.willDelete,this)),super.register(e)}willDelete(e){e.waitUntil(this.cacheFileTypes(e,(e=>e)))}doSend(e,t){this.clearFileTypeCache();const n=this._client.middleware.workspace;return n?.didDeleteFiles?n.didDeleteFiles(e,t):t(e)}};class h extends u{constructor(e,t,n,r,o,i,s){super(e,t,n,r,o),this._requestType=n,this._accessUri=i,this._createParams=s}async send(e){const t=this.waitUntil(e);e.waitUntil(t)}async waitUntil(e){const t=await this.filter(e,this._accessUri);if(t.files.length){const e=e=>this._client.sendRequest(this._requestType,this._createParams(e),e.token).then(this._client.protocol2CodeConverter.asWorkspaceEdit);return this.doSend(t,e)}}}t.WillCreateFilesFeature=class extends h{constructor(e){super(e,r.workspace.onWillCreateFiles,i.WillCreateFilesRequest.type,"willCreate","willCreate",(e=>e),e.code2ProtocolConverter.asWillCreateFilesParams)}doSend(e,t){const n=this._client.middleware.workspace;return n?.willCreateFiles?n.willCreateFiles(e,t):t(e)}},t.WillRenameFilesFeature=class extends h{constructor(e){super(e,r.workspace.onWillRenameFiles,i.WillRenameFilesRequest.type,"willRename","willRename",(e=>e.oldUri),e.code2ProtocolConverter.asWillRenameFilesParams)}doSend(e,t){const n=this._client.middleware.workspace;return n?.willRenameFiles?n.willRenameFiles(e,t):t(e)}},t.WillDeleteFilesFeature=class extends h{constructor(e){super(e,r.workspace.onWillDeleteFiles,i.WillDeleteFilesRequest.type,"willDelete","willDelete",(e=>e),e.code2ProtocolConverter.asWillDeleteFilesParams)}doSend(e,t){const n=this._client.middleware.workspace;return n?.willDeleteFiles?n.willDeleteFiles(e,t):t(e)}}},5338:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FileSystemWatcherFeature=void 0;const r=n(9496),o=n(273),i=n(8909);t.FileSystemWatcherFeature=class{constructor(e,t){this._client=e,this._notifyFileEvent=t,this._watchers=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._watchers.size>0}}get registrationType(){return o.DidChangeWatchedFilesNotification.type}fillClientCapabilities(e){(0,i.ensure)((0,i.ensure)(e,"workspace"),"didChangeWatchedFiles").dynamicRegistration=!0,(0,i.ensure)((0,i.ensure)(e,"workspace"),"didChangeWatchedFiles").relativePatternSupport=!0}initialize(e,t){}register(e){if(!Array.isArray(e.registerOptions.watchers))return;const t=[];for(const n of e.registerOptions.watchers){const e=this._client.protocol2CodeConverter.asGlobPattern(n.globPattern);if(void 0===e)continue;let i=!0,s=!0,a=!0;void 0!==n.kind&&null!==n.kind&&(i=0!=(n.kind&o.WatchKind.Create),s=0!=(n.kind&o.WatchKind.Change),a=0!=(n.kind&o.WatchKind.Delete));const c=r.workspace.createFileSystemWatcher(e,!i,!s,!a);this.hookListeners(c,i,s,a,t),t.push(c)}this._watchers.set(e.id,t)}registerRaw(e,t){let n=[];for(let e of t)this.hookListeners(e,!0,!0,!0,n);this._watchers.set(e,n)}hookListeners(e,t,n,r,i){t&&e.onDidCreate((e=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(e),type:o.FileChangeType.Created})),null,i),n&&e.onDidChange((e=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(e),type:o.FileChangeType.Changed})),null,i),r&&e.onDidDelete((e=>this._notifyFileEvent({uri:this._client.code2ProtocolConverter.asUri(e),type:o.FileChangeType.Deleted})),null,i)}unregister(e){let t=this._watchers.get(e);if(t)for(let e of t)e.dispose()}dispose(){this._watchers.forEach((e=>{for(let t of e)t.dispose()})),this._watchers.clear()}}},6454:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FoldingRangeFeature=void 0;const r=n(9496),o=n(273),i=n(8909);class s extends i.TextDocumentLanguageFeature{constructor(e){super(e,o.FoldingRangeRequest.type)}fillClientCapabilities(e){let t=(0,i.ensure)((0,i.ensure)(e,"textDocument"),"foldingRange");t.dynamicRegistration=!0,t.rangeLimit=5e3,t.lineFoldingOnly=!0,t.foldingRangeKind={valueSet:[o.FoldingRangeKind.Comment,o.FoldingRangeKind.Imports,o.FoldingRangeKind.Region]},t.foldingRange={collapsedText:!1}}initialize(e,t){let[n,r]=this.getRegistration(t,e.foldingRangeProvider);n&&r&&this.register({id:n,registerOptions:r})}registerLanguageProvider(e){const t=e.documentSelector,n={provideFoldingRanges:(e,t,n)=>{const r=this._client,i=(e,t,n)=>{const i={textDocument:r.code2ProtocolConverter.asTextDocumentIdentifier(e)};return r.sendRequest(o.FoldingRangeRequest.type,i,n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asFoldingRanges(e,n)),(e=>r.handleFailedRequest(o.FoldingRangeRequest.type,n,e,null)))},s=r.middleware;return s.provideFoldingRanges?s.provideFoldingRanges(e,t,n,i):i(e,0,n)}};return[r.languages.registerFoldingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}}t.FoldingRangeFeature=s},6426:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DocumentOnTypeFormattingFeature=t.DocumentRangeFormattingFeature=t.DocumentFormattingFeature=void 0;const r=n(9496),o=n(273),i=n(1980),s=n(8909);var a;!function(e){e.fromConfiguration=function(e){const t=r.workspace.getConfiguration("files",e);return{trimTrailingWhitespace:t.get("trimTrailingWhitespace"),trimFinalNewlines:t.get("trimFinalNewlines"),insertFinalNewline:t.get("insertFinalNewline")}}}(a||(a={}));class c extends s.TextDocumentLanguageFeature{constructor(e){super(e,o.DocumentFormattingRequest.type)}fillClientCapabilities(e){(0,s.ensure)((0,s.ensure)(e,"textDocument"),"formatting").dynamicRegistration=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.documentFormattingProvider);n&&this.register({id:i.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideDocumentFormattingEdits:(e,t,n)=>{const r=this._client,i=(e,t,n)=>{const i={textDocument:r.code2ProtocolConverter.asTextDocumentIdentifier(e),options:r.code2ProtocolConverter.asFormattingOptions(t,a.fromConfiguration(e))};return r.sendRequest(o.DocumentFormattingRequest.type,i,n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asTextEdits(e,n)),(e=>r.handleFailedRequest(o.DocumentFormattingRequest.type,n,e,null)))},s=r.middleware;return s.provideDocumentFormattingEdits?s.provideDocumentFormattingEdits(e,t,n,i):i(e,t,n)}};return[r.languages.registerDocumentFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}}t.DocumentFormattingFeature=c;class u extends s.TextDocumentLanguageFeature{constructor(e){super(e,o.DocumentRangeFormattingRequest.type)}fillClientCapabilities(e){(0,s.ensure)((0,s.ensure)(e,"textDocument"),"rangeFormatting").dynamicRegistration=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.documentRangeFormattingProvider);n&&this.register({id:i.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideDocumentRangeFormattingEdits:(e,t,n,r)=>{const i=this._client,s=(e,t,n,r)=>{const s={textDocument:i.code2ProtocolConverter.asTextDocumentIdentifier(e),range:i.code2ProtocolConverter.asRange(t),options:i.code2ProtocolConverter.asFormattingOptions(n,a.fromConfiguration(e))};return i.sendRequest(o.DocumentRangeFormattingRequest.type,s,r).then((e=>r.isCancellationRequested?null:i.protocol2CodeConverter.asTextEdits(e,r)),(e=>i.handleFailedRequest(o.DocumentRangeFormattingRequest.type,r,e,null)))},c=i.middleware;return c.provideDocumentRangeFormattingEdits?c.provideDocumentRangeFormattingEdits(e,t,n,r,s):s(e,t,n,r)}};return[r.languages.registerDocumentRangeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n),n]}}t.DocumentRangeFormattingFeature=u;class l extends s.TextDocumentLanguageFeature{constructor(e){super(e,o.DocumentOnTypeFormattingRequest.type)}fillClientCapabilities(e){(0,s.ensure)((0,s.ensure)(e,"textDocument"),"onTypeFormatting").dynamicRegistration=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.documentOnTypeFormattingProvider);n&&this.register({id:i.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideOnTypeFormattingEdits:(e,t,n,r,i)=>{const s=this._client,c=(e,t,n,r,i)=>{let c={textDocument:s.code2ProtocolConverter.asTextDocumentIdentifier(e),position:s.code2ProtocolConverter.asPosition(t),ch:n,options:s.code2ProtocolConverter.asFormattingOptions(r,a.fromConfiguration(e))};return s.sendRequest(o.DocumentOnTypeFormattingRequest.type,c,i).then((e=>i.isCancellationRequested?null:s.protocol2CodeConverter.asTextEdits(e,i)),(e=>s.handleFailedRequest(o.DocumentOnTypeFormattingRequest.type,i,e,null)))},u=s.middleware;return u.provideOnTypeFormattingEdits?u.provideOnTypeFormattingEdits(e,t,n,r,i,c):c(e,t,n,r,i)}},i=e.moreTriggerCharacter||[];return[r.languages.registerOnTypeFormattingEditProvider(this._client.protocol2CodeConverter.asDocumentSelector(t),n,e.firstTriggerCharacter,...i),n]}}t.DocumentOnTypeFormattingFeature=l},6782:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.HoverFeature=void 0;const r=n(9496),o=n(273),i=n(8909),s=n(1980);class a extends i.TextDocumentLanguageFeature{constructor(e){super(e,o.HoverRequest.type)}fillClientCapabilities(e){const t=(0,i.ensure)((0,i.ensure)(e,"textDocument"),"hover");t.dynamicRegistration=!0,t.contentFormat=[o.MarkupKind.Markdown,o.MarkupKind.PlainText]}initialize(e,t){const n=this.getRegistrationOptions(t,e.hoverProvider);n&&this.register({id:s.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideHover:(e,t,n)=>{const r=this._client,i=(e,t,n)=>r.sendRequest(o.HoverRequest.type,r.code2ProtocolConverter.asTextDocumentPositionParams(e,t),n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asHover(e)),(e=>r.handleFailedRequest(o.HoverRequest.type,n,e,null))),s=r.middleware;return s.provideHover?s.provideHover(e,t,n,i):i(e,t,n)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return r.languages.registerHoverProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.HoverFeature=a},9889:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImplementationFeature=void 0;const r=n(9496),o=n(273),i=n(8909);class s extends i.TextDocumentLanguageFeature{constructor(e){super(e,o.ImplementationRequest.type)}fillClientCapabilities(e){let t=(0,i.ensure)((0,i.ensure)(e,"textDocument"),"implementation");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let[n,r]=this.getRegistration(t,e.implementationProvider);n&&r&&this.register({id:n,registerOptions:r})}registerLanguageProvider(e){const t=e.documentSelector,n={provideImplementation:(e,t,n)=>{const r=this._client,i=(e,t,n)=>r.sendRequest(o.ImplementationRequest.type,r.code2ProtocolConverter.asTextDocumentPositionParams(e,t),n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asDefinitionResult(e,n)),(e=>r.handleFailedRequest(o.ImplementationRequest.type,n,e,null))),s=r.middleware;return s.provideImplementation?s.provideImplementation(e,t,n,i):i(e,t,n)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return r.languages.registerImplementationProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.ImplementationFeature=s},6190:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InlayHintsFeature=void 0;const r=n(9496),o=n(273),i=n(8909);class s extends i.TextDocumentLanguageFeature{constructor(e){super(e,o.InlayHintRequest.type)}fillClientCapabilities(e){const t=(0,i.ensure)((0,i.ensure)(e,"textDocument"),"inlayHint");t.dynamicRegistration=!0,t.resolveSupport={properties:["tooltip","textEdits","label.tooltip","label.location","label.command"]},(0,i.ensure)((0,i.ensure)(e,"workspace"),"inlayHint").refreshSupport=!0}initialize(e,t){this._client.onRequest(o.InlayHintRefreshRequest.type,(async()=>{for(const e of this.getAllProviders())e.onDidChangeInlayHints.fire()}));const[n,r]=this.getRegistration(t,e.inlayHintProvider);n&&r&&this.register({id:n,registerOptions:r})}registerLanguageProvider(e){const t=e.documentSelector,n=new r.EventEmitter,i={onDidChangeInlayHints:n.event,provideInlayHints:(e,t,n)=>{const r=this._client,i=async(e,t,n)=>{const i={textDocument:r.code2ProtocolConverter.asTextDocumentIdentifier(e),range:r.code2ProtocolConverter.asRange(t)};try{const e=await r.sendRequest(o.InlayHintRequest.type,i,n);return n.isCancellationRequested?null:r.protocol2CodeConverter.asInlayHints(e,n)}catch(e){return r.handleFailedRequest(o.InlayHintRequest.type,n,e,null)}},s=r.middleware;return s.provideInlayHints?s.provideInlayHints(e,t,n,i):i(e,t,n)}};return i.resolveInlayHint=!0===e.resolveProvider?(e,t)=>{const n=this._client,r=async(e,t)=>{try{const r=await n.sendRequest(o.InlayHintResolveRequest.type,n.code2ProtocolConverter.asInlayHint(e),t);if(t.isCancellationRequested)return null;const i=n.protocol2CodeConverter.asInlayHint(r,t);return t.isCancellationRequested?null:i}catch(e){return n.handleFailedRequest(o.InlayHintResolveRequest.type,t,e,null)}},i=n.middleware;return i.resolveInlayHint?i.resolveInlayHint(e,t,r):r(e,t)}:void 0,[this.registerProvider(t,i),{provider:i,onDidChangeInlayHints:n}]}registerProvider(e,t){return r.languages.registerInlayHintsProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.InlayHintsFeature=s},5098:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InlineValueFeature=void 0;const r=n(9496),o=n(273),i=n(8909);class s extends i.TextDocumentLanguageFeature{constructor(e){super(e,o.InlineValueRequest.type)}fillClientCapabilities(e){(0,i.ensure)((0,i.ensure)(e,"textDocument"),"inlineValue").dynamicRegistration=!0,(0,i.ensure)((0,i.ensure)(e,"workspace"),"inlineValue").refreshSupport=!0}initialize(e,t){this._client.onRequest(o.InlineValueRefreshRequest.type,(async()=>{for(const e of this.getAllProviders())e.onDidChangeInlineValues.fire()}));const[n,r]=this.getRegistration(t,e.inlineValueProvider);n&&r&&this.register({id:n,registerOptions:r})}registerLanguageProvider(e){const t=e.documentSelector,n=new r.EventEmitter,i={onDidChangeInlineValues:n.event,provideInlineValues:(e,t,n,r)=>{const i=this._client,s=(e,t,n,r)=>{const s={textDocument:i.code2ProtocolConverter.asTextDocumentIdentifier(e),range:i.code2ProtocolConverter.asRange(t),context:i.code2ProtocolConverter.asInlineValueContext(n)};return i.sendRequest(o.InlineValueRequest.type,s,r).then((e=>r.isCancellationRequested?null:i.protocol2CodeConverter.asInlineValues(e,r)),(e=>i.handleFailedRequest(o.InlineValueRequest.type,r,e,null)))},a=i.middleware;return a.provideInlineValues?a.provideInlineValues(e,t,n,r,s):s(e,t,n,r)}};return[this.registerProvider(t,i),{provider:i,onDidChangeInlineValues:n}]}registerProvider(e,t){return r.languages.registerInlineValuesProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.InlineValueFeature=s},3483:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LinkedEditingFeature=void 0;const r=n(9496),o=n(273),i=n(8909);class s extends i.TextDocumentLanguageFeature{constructor(e){super(e,o.LinkedEditingRangeRequest.type)}fillClientCapabilities(e){(0,i.ensure)((0,i.ensure)(e,"textDocument"),"linkedEditingRange").dynamicRegistration=!0}initialize(e,t){let[n,r]=this.getRegistration(t,e.linkedEditingRangeProvider);n&&r&&this.register({id:n,registerOptions:r})}registerLanguageProvider(e){const t=e.documentSelector,n={provideLinkedEditingRanges:(e,t,n)=>{const r=this._client,i=(e,t,n)=>r.sendRequest(o.LinkedEditingRangeRequest.type,r.code2ProtocolConverter.asTextDocumentPositionParams(e,t),n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asLinkedEditingRanges(e,n)),(e=>r.handleFailedRequest(o.LinkedEditingRangeRequest.type,n,e,null))),s=r.middleware;return s.provideLinkedEditingRange?s.provideLinkedEditingRange(e,t,n,i):i(e,t,n)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return r.languages.registerLinkedEditingRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.LinkedEditingFeature=s},203:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.NotebookDocumentSyncFeature=void 0;const r=n(9496),o=n(1171),i=n(273),s=n(1980),a=n(9763);function c(e,t){return void 0===e[t]&&(e[t]={}),e[t]}var u,l,d,h,p;!function(e){let t;!function(t){function n(e,t){return e.map((e=>s(e,t)))}function o(e){return c(new Set,e)}function s(e,t){const n=i.NotebookCell.create(function(e){switch(e){case r.NotebookCellKind.Markup:return i.NotebookCellKind.Markup;case r.NotebookCellKind.Code:return i.NotebookCellKind.Code}}(e.kind),t.asUri(e.document.uri));return Object.keys(e.metadata).length>0&&(n.metadata=o(e.metadata)),void 0!==e.executionSummary&&a.number(e.executionSummary.executionOrder)&&a.boolean(e.executionSummary.success)&&(n.executionSummary={executionOrder:e.executionSummary.executionOrder,success:e.executionSummary.success}),n}function c(e,t){if(e.has(t))throw new Error("Can't deep copy cyclic structures.");if(Array.isArray(t)){const n=[];for(const r of t)if(null!==r&&"object"==typeof r||Array.isArray(r))n.push(c(e,r));else{if(r instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");n.push(r)}return n}{const n=Object.keys(t),r=Object.create(null);for(const o of n){const n=t[o];if(null!==n&&"object"==typeof n||Array.isArray(n))r[o]=c(e,n);else{if(n instanceof RegExp)throw new Error("Can't transfer regular expressions to the server");r[o]=n}}return r}}t.asVersionedNotebookDocumentIdentifier=function(e,t){return{version:e.version,uri:t.asUri(e.uri)}},t.asNotebookDocument=function(e,t,r){const s=i.NotebookDocument.create(r.asUri(e.uri),e.notebookType,e.version,n(t,r));return Object.keys(e.metadata).length>0&&(s.metadata=o(e.metadata)),s},t.asNotebookCells=n,t.asMetadata=o,t.asNotebookCell=s,t.asTextContentChange=function(e,t){const n=t.asChangeTextDocumentParams(e);return{document:n.textDocument,changes:n.contentChanges}},t.asNotebookDocumentChangeEvent=function(t,n){const r=Object.create(null);if(t.metadata&&(r.metadata=e.c2p.asMetadata(t.metadata)),void 0!==t.cells){const o=Object.create(null),i=t.cells;i.structure&&(o.structure={array:{start:i.structure.array.start,deleteCount:i.structure.array.deleteCount,cells:void 0!==i.structure.array.cells?i.structure.array.cells.map((t=>e.c2p.asNotebookCell(t,n))):void 0},didOpen:void 0!==i.structure.didOpen?i.structure.didOpen.map((e=>n.asOpenTextDocumentParams(e.document).textDocument)):void 0,didClose:void 0!==i.structure.didClose?i.structure.didClose.map((e=>n.asCloseTextDocumentParams(e.document).textDocument)):void 0}),void 0!==i.data&&(o.data=i.data.map((t=>e.c2p.asNotebookCell(t,n)))),void 0!==i.textContent&&(o.textContent=i.textContent.map((t=>e.c2p.asTextContentChange(t,n)))),Object.keys(o).length>0&&(r.cells=o)}return r}}(t=e.c2p||(e.c2p={}))}(u||(u={})),function(e){function t(e,t,r=!0){return!(e.kind!==t.kind||e.document.uri.toString()!==t.document.uri.toString()||e.document.languageId!==t.document.languageId||!function(e,t){return e===t||void 0!==e&&void 0!==t&&(e.executionOrder===t.executionOrder&&e.success===t.success&&function(e,t){return e===t||void 0!==e&&void 0!==t&&(e.startTime===t.startTime&&e.endTime===t.endTime)}(e.timing,t.timing))}(e.executionSummary,t.executionSummary))&&(!r||r&&n(e.metadata,t.metadata))}function n(e,t){if(e===t)return!0;if(null==e||null==t)return!1;if(typeof e!=typeof t)return!1;if("object"!=typeof e)return!1;const o=Array.isArray(e),i=Array.isArray(t);if(o!==i)return!1;if(o&&i){if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1}if(r(e)&&r(t)){const r=Object.keys(e),o=Object.keys(t);if(r.length!==o.length)return!1;if(r.sort(),o.sort(),!n(r,o))return!1;for(let o=0;o<r.length;o++){const i=r[o];if(!n(e[i],t[i]))return!1}return!0}return!1}function r(e){return null!==e&&"object"==typeof e}e.computeDiff=function(e,n,r){const o=e.length,i=n.length;let s=0;for(;s<i&&s<o&&t(e[s],n[s],r);)s++;if(s<i&&s<o){let a=o-1,c=i-1;for(;a>=0&&c>=0&&t(e[a],n[c],r);)a--,c--;const u=a+1-s,l=s===c+1?void 0:n.slice(s,c+1);return void 0!==l?{start:s,deleteCount:u,cells:l}:{start:s,deleteCount:u}}return s<i?{start:s,deleteCount:0,cells:n.slice(s)}:s<o?{start:s,deleteCount:o-s}:void 0},e.isObjectLiteral=r}(l||(l={})),function(e){e.matchNotebook=function(e,t){if("string"==typeof e)return"*"===e||t.notebookType===e;if(void 0!==e.notebookType&&"*"!==e.notebookType&&t.notebookType!==e.notebookType)return!1;const n=t.uri;if(void 0!==e.scheme&&"*"!==e.scheme&&n.scheme!==e.scheme)return!1;if(void 0!==e.pattern){const t=new o.Minimatch(e.pattern,{noext:!0});if(!t.makeRe())return!1;if(!t.match(n.fsPath))return!1}return!0}}(d||(d={})),function(e){function t(e,t,n,r){return void 0===t&&void 0===n?{notebook:e,language:r}:{notebook:{notebookType:e,scheme:t,pattern:n},language:r}}e.asDocumentSelector=function(e){const n=e.notebookSelector,r=[];for(const e of n){const n=("string"==typeof e.notebook?e.notebook:e.notebook?.notebookType)??"*",o="string"==typeof e.notebook?void 0:e.notebook?.scheme,i="string"==typeof e.notebook?void 0:e.notebook?.pattern;if(void 0!==e.cells)for(const s of e.cells)r.push(t(n,o,i,s.language));else r.push(t(n,o,i,void 0))}return r}}(h||(h={})),function(e){e.create=function(e){return{cells:e,uris:new Set(e.map((e=>e.document.uri.toString())))}}}(p||(p={}));class f{constructor(e,t){this.client=e,this.options=t,this.notebookSyncInfo=new Map,this.notebookDidOpen=new Set,this.disposables=[],this.selector=e.protocol2CodeConverter.asDocumentSelector(h.asDocumentSelector(t)),r.workspace.onDidOpenNotebookDocument((e=>{this.notebookDidOpen.add(e.uri.toString()),this.didOpen(e)}),void 0,this.disposables);for(const e of r.workspace.notebookDocuments)this.notebookDidOpen.add(e.uri.toString()),this.didOpen(e);r.workspace.onDidChangeNotebookDocument((e=>this.didChangeNotebookDocument(e)),void 0,this.disposables),!0===this.options.save&&r.workspace.onDidSaveNotebookDocument((e=>this.didSave(e)),void 0,this.disposables),r.workspace.onDidCloseNotebookDocument((e=>{this.didClose(e),this.notebookDidOpen.delete(e.uri.toString())}),void 0,this.disposables)}getState(){for(const e of r.workspace.notebookDocuments)if(void 0!==this.getMatchingCells(e))return{kind:"document",id:"$internal",registrations:!0,matches:!0};return{kind:"document",id:"$internal",registrations:!0,matches:!1}}get mode(){return"notebook"}handles(e){return r.languages.match(this.selector,e)>0}didOpenNotebookCellTextDocument(e,t){if(0===r.languages.match(this.selector,t.document))return;if(!this.notebookDidOpen.has(e.uri.toString()))return;const n=this.notebookSyncInfo.get(e.uri.toString()),o=this.cellMatches(e,t);if(void 0!==n){const r=n.uris.has(t.document.uri.toString());if(o&&r||!o&&!r)return;if(o){const t=this.getMatchingCells(e);if(void 0!==t){const r=this.asNotebookDocumentChangeEvent(e,void 0,n,t);void 0!==r&&this.doSendChange(r,t).catch((()=>{}))}}}else o&&this.doSendOpen(e,[t]).catch((()=>{}))}didChangeNotebookCellTextDocument(e,t){0!==r.languages.match(this.selector,t.document)&&this.doSendChange({notebook:e,cells:{textContent:[t]}},void 0).catch((()=>{}))}didCloseNotebookCellTextDocument(e,t){const n=this.notebookSyncInfo.get(e.uri.toString());if(void 0===n)return;const r=t.document.uri,o=n.cells.findIndex((e=>e.document.uri.toString()===r.toString()));if(-1!==o)if(0===o&&1===n.cells.length)this.doSendClose(e,n.cells).catch((()=>{}));else{const t=n.cells.slice(),r=t.splice(o,1);this.doSendChange({notebook:e,cells:{structure:{array:{start:o,deleteCount:1},didClose:r}}},t).catch((()=>{}))}}dispose(){for(const e of this.disposables)e.dispose()}didOpen(e,t=this.getMatchingCells(e),n=this.notebookSyncInfo.get(e.uri.toString())){if(void 0!==n)if(void 0!==t){const r=this.asNotebookDocumentChangeEvent(e,void 0,n,t);void 0!==r&&this.doSendChange(r,t).catch((()=>{}))}else this.doSendClose(e,[]).catch((()=>{}));else{if(void 0===t)return;this.doSendOpen(e,t).catch((()=>{}))}}didChangeNotebookDocument(e){const t=e.notebook,n=this.notebookSyncInfo.get(t.uri.toString());if(void 0===n){if(0===e.contentChanges.length)return;const r=this.getMatchingCells(t);if(void 0===r)return;this.didOpen(t,r,n)}else{const r=this.getMatchingCells(t);if(void 0===r)return void this.didClose(t,n);const o=this.asNotebookDocumentChangeEvent(e.notebook,e,n,r);void 0!==o&&this.doSendChange(o,r).catch((()=>{}))}}didSave(e){void 0!==this.notebookSyncInfo.get(e.uri.toString())&&this.doSendSave(e).catch((()=>{}))}didClose(e,t=this.notebookSyncInfo.get(e.uri.toString())){if(void 0===t)return;const n=e.getCells().filter((e=>t.uris.has(e.document.uri.toString())));this.doSendClose(e,n).catch((()=>{}))}async sendDidOpenNotebookDocument(e){const t=this.getMatchingCells(e);if(void 0!==t)return this.doSendOpen(e,t)}async doSendOpen(e,t){const n=async(e,t)=>{const n=u.c2p.asNotebookDocument(e,t,this.client.code2ProtocolConverter),r=t.map((e=>this.client.code2ProtocolConverter.asTextDocumentItem(e.document)));try{await this.client.sendNotification(i.DidOpenNotebookDocumentNotification.type,{notebookDocument:n,cellTextDocuments:r})}catch(e){throw this.client.error("Sending DidOpenNotebookDocumentNotification failed",e),e}},r=this.client.middleware?.notebooks;return this.notebookSyncInfo.set(e.uri.toString(),p.create(t)),void 0!==r?.didOpen?r.didOpen(e,t,n):n(e,t)}async sendDidChangeNotebookDocument(e){return this.doSendChange(e,void 0)}async doSendChange(e,t=this.getMatchingCells(e.notebook)){const n=async e=>{try{await this.client.sendNotification(i.DidChangeNotebookDocumentNotification.type,{notebookDocument:u.c2p.asVersionedNotebookDocumentIdentifier(e.notebook,this.client.code2ProtocolConverter),change:u.c2p.asNotebookDocumentChangeEvent(e,this.client.code2ProtocolConverter)})}catch(e){throw this.client.error("Sending DidChangeNotebookDocumentNotification failed",e),e}},r=this.client.middleware?.notebooks;return void 0!==e.cells?.structure&&this.notebookSyncInfo.set(e.notebook.uri.toString(),p.create(t??[])),void 0!==r?.didChange?r?.didChange(e,n):n(e)}async sendDidSaveNotebookDocument(e){return this.doSendSave(e)}async doSendSave(e){const t=async e=>{try{await this.client.sendNotification(i.DidSaveNotebookDocumentNotification.type,{notebookDocument:{uri:this.client.code2ProtocolConverter.asUri(e.uri)}})}catch(e){throw this.client.error("Sending DidSaveNotebookDocumentNotification failed",e),e}},n=this.client.middleware?.notebooks;return void 0!==n?.didSave?n.didSave(e,t):t(e)}async sendDidCloseNotebookDocument(e){return this.doSendClose(e,this.getMatchingCells(e)??[])}async doSendClose(e,t){const n=async(e,t)=>{try{await this.client.sendNotification(i.DidCloseNotebookDocumentNotification.type,{notebookDocument:{uri:this.client.code2ProtocolConverter.asUri(e.uri)},cellTextDocuments:t.map((e=>this.client.code2ProtocolConverter.asTextDocumentIdentifier(e.document)))})}catch(e){throw this.client.error("Sending DidCloseNotebookDocumentNotification failed",e),e}},r=this.client.middleware?.notebooks;return this.notebookSyncInfo.delete(e.uri.toString()),void 0!==r?.didClose?r.didClose(e,t,n):n(e,t)}asNotebookDocumentChangeEvent(e,t,n,r){if(void 0!==t&&t.notebook!==e)throw new Error("Notebook must be identical");const o={notebook:e};let i;if(void 0!==t?.metadata&&(o.metadata=u.c2p.asMetadata(t.metadata)),void 0!==t?.cellChanges&&t.cellChanges.length>0){const e=[];i=new Set(r.map((e=>e.document.uri.toString())));for(const n of t.cellChanges)!i.has(n.cell.document.uri.toString())||void 0===n.executionSummary&&void 0===n.metadata||e.push(n.cell);e.length>0&&(o.cells=o.cells??{},o.cells.data=e)}if((void 0!==t?.contentChanges&&t.contentChanges.length>0||void 0===t)&&void 0!==n&&void 0!==r){const e=n.cells,t=r,i=l.computeDiff(e,t,!1);let s,a;if(void 0!==i){s=void 0===i.cells?new Map:new Map(i.cells.map((e=>[e.document.uri.toString(),e]))),a=0===i.deleteCount?new Map:new Map(e.slice(i.start,i.start+i.deleteCount).map((e=>[e.document.uri.toString(),e])));for(const e of Array.from(a.keys()))s.has(e)&&(a.delete(e),s.delete(e));o.cells=o.cells??{};const t=[],n=[];if(s.size>0||a.size>0){for(const e of s.values())t.push(e);for(const e of a.values())n.push(e)}o.cells.structure={array:i,didOpen:t,didClose:n}}}return Object.keys(o).length>1?o:void 0}getMatchingCells(e,t=e.getCells()){if(void 0!==this.options.notebookSelector)for(const n of this.options.notebookSelector)if(void 0===n.notebook||d.matchNotebook(n.notebook,e)){const r=this.filterCells(e,t,n.cells);return 0===r.length?void 0:r}}cellMatches(e,t){const n=this.getMatchingCells(e,[t]);return void 0!==n&&n[0]===t}filterCells(e,t,n){const r=void 0!==n?t.filter((e=>{const t=e.document.languageId;return n.some((e=>"*"===e.language||t===e.language))})):t;return"function"==typeof this.client.clientOptions.notebookDocumentOptions?.filterCells?this.client.clientOptions.notebookDocumentOptions.filterCells(e,r):r}}class m{constructor(e){this.client=e,this.registrations=new Map,this.registrationType=i.NotebookDocumentSyncRegistrationType.type,r.workspace.onDidOpenTextDocument((e=>{if(e.uri.scheme!==m.CellScheme)return;const[t,n]=this.findNotebookDocumentAndCell(e);if(void 0!==t&&void 0!==n)for(const e of this.registrations.values())e instanceof f&&e.didOpenNotebookCellTextDocument(t,n)})),r.workspace.onDidChangeTextDocument((e=>{if(0===e.contentChanges.length)return;const t=e.document;if(t.uri.scheme!==m.CellScheme)return;const[n]=this.findNotebookDocumentAndCell(t);if(void 0!==n)for(const t of this.registrations.values())t instanceof f&&t.didChangeNotebookCellTextDocument(n,e)})),r.workspace.onDidCloseTextDocument((e=>{if(e.uri.scheme!==m.CellScheme)return;const[t,n]=this.findNotebookDocumentAndCell(e);if(void 0!==t&&void 0!==n)for(const e of this.registrations.values())e instanceof f&&e.didCloseNotebookCellTextDocument(t,n)}))}getState(){if(0===this.registrations.size)return{kind:"document",id:this.registrationType.method,registrations:!1,matches:!1};for(const e of this.registrations.values()){const t=e.getState();if("document"===t.kind&&!0===t.registrations&&!0===t.matches)return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!0}}return{kind:"document",id:this.registrationType.method,registrations:!0,matches:!1}}fillClientCapabilities(e){const t=c(c(e,"notebookDocument"),"synchronization");t.dynamicRegistration=!0,t.executionSummarySupport=!0}preInitialize(e){const t=e.notebookDocumentSync;void 0!==t&&(this.dedicatedChannel=this.client.protocol2CodeConverter.asDocumentSelector(h.asDocumentSelector(t)))}initialize(e){const t=e.notebookDocumentSync;if(void 0===t)return;const n=t.id??s.generateUuid();this.register({id:n,registerOptions:t})}register(e){const t=new f(this.client,e.registerOptions);this.registrations.set(e.id,t)}unregister(e){const t=this.registrations.get(e);t&&t.dispose()}dispose(){for(const e of this.registrations.values())e.dispose();this.registrations.clear()}handles(e){if(e.uri.scheme!==m.CellScheme)return!1;if(void 0!==this.dedicatedChannel&&r.languages.match(this.dedicatedChannel,e)>0)return!0;for(const t of this.registrations.values())if(t.handles(e))return!0;return!1}getProvider(e){for(const t of this.registrations.values())if(t.handles(e.document))return t}findNotebookDocumentAndCell(e){const t=e.uri.toString();for(const e of r.workspace.notebookDocuments)for(const n of e.getCells())if(n.document.uri.toString()===t)return[e,n];return[void 0,void 0]}}t.NotebookDocumentSyncFeature=m,m.CellScheme="vscode-notebook-cell"},3603:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressFeature=void 0;const r=n(273),o=n(8071);t.ProgressFeature=class{constructor(e){this._client=e,this.activeParts=new Set}getState(){return{kind:"window",id:r.WorkDoneProgressCreateRequest.method,registrations:this.activeParts.size>0}}fillClientCapabilities(e){var t,n;(t=e,n="window",void 0===t[n]&&(t[n]=Object.create(null)),t[n]).workDoneProgress=!0}initialize(){const e=this._client,t=e=>{this.activeParts.delete(e)};e.onRequest(r.WorkDoneProgressCreateRequest.type,(e=>{this.activeParts.add(new o.ProgressPart(this._client,e.token,t))}))}dispose(){for(const e of this.activeParts)e.done();this.activeParts.clear()}}},8071:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProgressPart=void 0;const r=n(9496),o=n(273),i=n(9763);t.ProgressPart=class{constructor(e,t,n){this._client=e,this._token=t,this._reported=0,this._infinite=!1,this._lspProgressDisposable=this._client.onProgress(o.WorkDoneProgress.type,this._token,(e=>{switch(e.kind){case"begin":this.begin(e);break;case"report":this.report(e);break;case"end":this.done(),n&&n(this)}}))}begin(e){this._infinite=void 0===e.percentage,void 0!==this._lspProgressDisposable&&r.window.withProgress({location:r.ProgressLocation.Window,cancellable:e.cancellable,title:e.title},(async(t,n)=>{if(void 0!==this._lspProgressDisposable)return this._progress=t,this._cancellationToken=n,this._tokenDisposable=this._cancellationToken.onCancellationRequested((()=>{this._client.sendNotification(o.WorkDoneProgressCancelNotification.type,{token:this._token})})),this.report(e),new Promise(((e,t)=>{this._resolve=e,this._reject=t}))}))}report(e){if(this._infinite&&i.string(e.message))void 0!==this._progress&&this._progress.report({message:e.message});else if(i.number(e.percentage)){const t=Math.max(0,Math.min(e.percentage,100)),n=Math.max(0,t-this._reported);this._reported+=n,void 0!==this._progress&&this._progress.report({message:e.message,increment:n})}}cancel(){this.cleanup(),void 0!==this._reject&&(this._reject(),this._resolve=void 0,this._reject=void 0)}done(){this.cleanup(),void 0!==this._resolve&&(this._resolve(),this._resolve=void 0,this._reject=void 0)}cleanup(){void 0!==this._lspProgressDisposable&&(this._lspProgressDisposable.dispose(),this._lspProgressDisposable=void 0),void 0!==this._tokenDisposable&&(this._tokenDisposable.dispose(),this._tokenDisposable=void 0),this._progress=void 0,this._cancellationToken=void 0}}},8714:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9496);class o extends r.CallHierarchyItem{constructor(e,t,n,r,o,i,s){super(e,t,n,r,o,i),void 0!==s&&(this.data=s)}}t.default=o},6434:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9496);class o extends r.CodeAction{constructor(e,t){super(e),this.data=t}}t.default=o},583:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9496);class o extends r.CodeLens{constructor(e){super(e)}}t.default=o},1807:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9496);class o extends r.CompletionItem{constructor(e){super(e)}}t.default=o},8785:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createConverter=void 0;const r=n(9496),o=n(273),i=n(9763),s=n(4904),a=n(1807),c=n(583),u=n(8705),l=n(6434),d=n(6640),h=n(8714),p=n(1365),f=n(3912),m=n(1065),g=n(273);var v;!function(e){e.is=function(e){let t=e;return t&&i.string(t.language)&&i.string(t.value)}}(v||(v={})),t.createConverter=function(e,t,n){const y=e||(e=>r.Uri.parse(e));function w(e){return y(e)}function b(e){let t=new d.ProtocolDiagnostic(S(e.range),e.message,E(e.severity),e.data);if(void 0!==e.code)if("string"==typeof e.code||"number"==typeof e.code)o.CodeDescription.is(e.codeDescription)?t.code={value:e.code,target:w(e.codeDescription.href)}:t.code=e.code;else if(d.DiagnosticCode.is(e.code)){t.hasDiagnosticCode=!0;const n=e.code;t.code={value:n.value,target:w(n.target)}}return e.source&&(t.source=e.source),e.relatedInformation&&(t.relatedInformation=function(e){const t=new Array(e.length);for(let n=0;n<e.length;n++){const o=e[n];t[n]=new r.DiagnosticRelatedInformation(q(o.location),o.message)}return t}(e.relatedInformation)),Array.isArray(e.tags)&&(t.tags=function(e){if(!e)return;let t=[];for(let n of e){let e=_(n);void 0!==e&&t.push(e)}return t.length>0?t:void 0}(e.tags)),t}function _(e){switch(e){case o.DiagnosticTag.Unnecessary:return r.DiagnosticTag.Unnecessary;case o.DiagnosticTag.Deprecated:return r.DiagnosticTag.Deprecated;default:return}}function C(e){return e?new r.Position(e.line,e.character):void 0}function S(e){return e?new r.Range(e.start.line,e.start.character,e.end.line,e.end.character):void 0}async function T(e,t){return s.map(e,(e=>new r.Range(e.start.line,e.start.character,e.end.line,e.end.character)),t)}function E(e){if(null==e)return r.DiagnosticSeverity.Error;switch(e){case o.DiagnosticSeverity.Error:return r.DiagnosticSeverity.Error;case o.DiagnosticSeverity.Warning:return r.DiagnosticSeverity.Warning;case o.DiagnosticSeverity.Information:return r.DiagnosticSeverity.Information;case o.DiagnosticSeverity.Hint:return r.DiagnosticSeverity.Hint}return r.DiagnosticSeverity.Error}function x(e){if(i.string(e))return e;switch(e.kind){case o.MarkupKind.Markdown:return D(e.value);case o.MarkupKind.PlainText:return e.value;default:return`Unsupported Markup content received. Kind is: ${e.kind}`}}function D(e){let i;if(void 0===e||"string"==typeof e)i=new r.MarkdownString(e);else switch(e.kind){case o.MarkupKind.Markdown:i=new r.MarkdownString(e.value);break;case o.MarkupKind.PlainText:i=new r.MarkdownString,i.appendText(e.value);break;default:i=new r.MarkdownString,i.appendText(`Unsupported Markup content received. Kind is: ${e.kind}`)}return i.isTrusted=t,i.supportHtml=n,i}function k(e){if(e===o.CompletionItemTag.Deprecated)return r.CompletionItemTag.Deprecated}function R(e,t,n,s,c,u){const l=function(e){if(null==e)return[];const t=[];for(const n of e){const e=k(n);void 0!==e&&t.push(e)}return t}(e.tags),d=function(e){return o.CompletionItemLabelDetails.is(e.labelDetails)?{label:e.label,detail:e.labelDetails.detail,description:e.labelDetails.description}:e.label}(e),h=new a.default(d);e.detail&&(h.detail=e.detail),e.documentation&&(h.documentation=x(e.documentation),h.documentationFormat=i.string(e.documentation)?"$string":e.documentation.kind),e.filterText&&(h.filterText=e.filterText);const p=function(e,t,n){const i=e.insertTextFormat??n;if(void 0!==e.textEdit||void 0!==t){const[n,a]=void 0!==e.textEdit?(s=e.textEdit,o.InsertReplaceEdit.is(s)?[{inserting:S(s.insert),replacing:S(s.replace)},s.newText]:[S(s.range),s.newText]):[t,e.textEditText??e.label];return i===o.InsertTextFormat.Snippet?{text:new r.SnippetString(a),range:n,fromEdit:!0}:{text:a,range:n,fromEdit:!0}}var s;return e.insertText?i===o.InsertTextFormat.Snippet?{text:new r.SnippetString(e.insertText),fromEdit:!1}:{text:e.insertText,fromEdit:!1}:void 0}(e,n,c);if(p&&(h.insertText=p.text,h.range=p.range,h.fromEdit=p.fromEdit),i.number(e.kind)){let[t,n]=(f=e.kind,o.CompletionItemKind.Text<=f&&f<=o.CompletionItemKind.TypeParameter?[f-1,void 0]:[r.CompletionItemKind.Text,f]);h.kind=t,n&&(h.originalItemKind=n)}var f;e.sortText&&(h.sortText=e.sortText),e.additionalTextEdits&&(h.additionalTextEdits=O(e.additionalTextEdits));const m=void 0!==e.commitCharacters?i.stringArray(e.commitCharacters)?e.commitCharacters:void 0:t;m&&(h.commitCharacters=m.slice()),e.command&&(h.command=K(e.command)),!0!==e.deprecated&&!1!==e.deprecated||(h.deprecated=e.deprecated,!0===e.deprecated&&l.push(r.CompletionItemTag.Deprecated)),!0!==e.preselect&&!1!==e.preselect||(h.preselect=e.preselect);const g=e.data??u;void 0!==g&&(h.data=g),l.length>0&&(h.tags=l);const v=e.insertTextMode??s;return void 0!==v&&(h.insertTextMode=v,v===o.InsertTextMode.asIs&&(h.keepWhitespace=!0)),h}function P(e){if(e)return new r.TextEdit(S(e.range),e.newText)}async function N(e,t){if(e)return s.map(e,P,t)}function O(e){if(!e)return;const t=new Array(e.length);for(let n=0;n<e.length;n++)t[n]=P(e[n]);return t}async function I(e,t){return s.mapAsync(e,A,t)}async function A(e,t){let n=new r.SignatureInformation(e.label);return void 0!==e.documentation&&(n.documentation=x(e.documentation)),void 0!==e.parameters&&(n.parameters=await F(e.parameters,t)),void 0!==e.activeParameter&&(n.activeParameter=e.activeParameter),n}function F(e,t){return s.map(e,M,t)}function M(e){let t=new r.ParameterInformation(e.label);return e.documentation&&(t.documentation=x(e.documentation)),t}function q(e){return e?new r.Location(y(e.uri),S(e.range)):void 0}function L(e){if(!e)return;let t={targetUri:y(e.targetUri),targetRange:S(e.targetRange),originSelectionRange:S(e.originSelectionRange),targetSelectionRange:S(e.targetSelectionRange)};if(!t.targetSelectionRange)throw new Error("targetSelectionRange must not be undefined or null");return t}async function j(e,t){if(e){if(i.array(e)){if(0===e.length)return[];if(o.LocationLink.is(e[0])){const n=e;return s.map(n,L,t)}{const n=e;return s.map(n,q,t)}}return o.LocationLink.is(e)?[L(e)]:q(e)}}function H(e){let t=new r.DocumentHighlight(S(e.range));return i.number(e.kind)&&(t.kind=$(e.kind)),t}function $(e){switch(e){case o.DocumentHighlightKind.Text:return r.DocumentHighlightKind.Text;case o.DocumentHighlightKind.Read:return r.DocumentHighlightKind.Read;case o.DocumentHighlightKind.Write:return r.DocumentHighlightKind.Write}return r.DocumentHighlightKind.Text}function U(e){return e<=o.SymbolKind.TypeParameter?e-1:r.SymbolKind.Property}function B(e){if(e===o.SymbolTag.Deprecated)return r.SymbolTag.Deprecated}function W(e){if(null==e)return;const t=[];for(const n of e){const e=B(n);void 0!==e&&t.push(e)}return 0===t.length?void 0:t}function z(e){const t=e.data,n=e.location,o=void 0===n.range||void 0!==t?new f.default(e.name,U(e.kind),e.containerName??"",void 0===n.range?y(n.uri):new r.Location(y(e.location.uri),S(n.range)),t):new r.SymbolInformation(e.name,U(e.kind),e.containerName??"",new r.Location(y(e.location.uri),S(n.range)));return V(o,e),o}function G(e){let t=new r.DocumentSymbol(e.name,e.detail||"",U(e.kind),S(e.range),S(e.selectionRange));if(V(t,e),void 0!==e.children&&e.children.length>0){let n=[];for(let t of e.children)n.push(G(t));t.children=n}return t}function V(e,t){e.tags=W(t.tags),t.deprecated&&(e.tags?e.tags.includes(r.SymbolTag.Deprecated)||(e.tags=e.tags.concat(r.SymbolTag.Deprecated)):e.tags=[r.SymbolTag.Deprecated])}function K(e){let t={title:e.title,command:e.command};return e.arguments&&(t.arguments=e.arguments),t}const X=new Map;function Y(e){if(null==e)return;let t=X.get(e);if(t)return t;let n=e.split(".");t=r.CodeActionKind.Empty;for(let e of n)t=t.append(e);return t}async function J(e,t){if(null==e)return;let n=new l.default(e.title,e.data);return void 0!==e.kind&&(n.kind=Y(e.kind)),void 0!==e.diagnostics&&(n.diagnostics=function(e){const t=new Array(e.length);for(let n=0;n<e.length;n++)t[n]=b(e[n]);return t}(e.diagnostics)),void 0!==e.edit&&(n.edit=await Z(e.edit,t)),void 0!==e.command&&(n.command=K(e.command)),void 0!==e.isPreferred&&(n.isPreferred=e.isPreferred),void 0!==e.disabled&&(n.disabled={reason:e.disabled.reason}),n}function Q(e){if(!e)return;let t=new c.default(S(e.range));return e.command&&(t.command=K(e.command)),void 0!==e.data&&null!==e.data&&(t.data=e.data),t}async function Z(e,t){if(!e)return;const n=new Map;if(void 0!==e.changeAnnotations){const r=e.changeAnnotations;await s.forEach(Object.keys(r),(e=>{const t=function(e){if(void 0!==e)return{label:e.label,needsConfirmation:!!e.needsConfirmation,description:e.description}}(r[e]);n.set(e,t)}),t)}const i=e=>void 0===e?void 0:n.get(e),a=new r.WorkspaceEdit;if(e.documentChanges){const n=e.documentChanges;await s.forEach(n,(e=>{if(o.CreateFile.is(e))a.createFile(y(e.uri),e.options,i(e.annotationId));else if(o.RenameFile.is(e))a.renameFile(y(e.oldUri),y(e.newUri),e.options,i(e.annotationId));else if(o.DeleteFile.is(e))a.deleteFile(y(e.uri),e.options,i(e.annotationId));else{if(!o.TextDocumentEdit.is(e))throw new Error(`Unknown workspace edit change received:\n${JSON.stringify(e,void 0,4)}`);{const t=y(e.textDocument.uri);for(const n of e.edits)o.AnnotatedTextEdit.is(n)?a.replace(t,S(n.range),n.newText,i(n.annotationId)):a.replace(t,S(n.range),n.newText)}}}),t)}else if(e.changes){const n=e.changes;await s.forEach(Object.keys(n),(e=>{a.set(y(e),O(n[e]))}),t)}return a}function ee(e){let t=S(e.range),n=e.target?w(e.target):void 0,r=new u.default(t,n);return void 0!==e.tooltip&&(r.tooltip=e.tooltip),void 0!==e.data&&null!==e.data&&(r.data=e.data),r}function te(e){return new r.Color(e.red,e.green,e.blue,e.alpha)}function ne(e){return new r.ColorInformation(S(e.range),te(e.color))}function re(e){let t=new r.ColorPresentation(e.label);return t.additionalTextEdits=O(e.additionalTextEdits),e.textEdit&&(t.textEdit=P(e.textEdit)),t}function oe(e){if(e)switch(e){case o.FoldingRangeKind.Comment:return r.FoldingRangeKind.Comment;case o.FoldingRangeKind.Imports:return r.FoldingRangeKind.Imports;case o.FoldingRangeKind.Region:return r.FoldingRangeKind.Region}}function ie(e){return new r.FoldingRange(e.startLine,e.endLine,oe(e.kind))}function se(e){return new r.SelectionRange(S(e.range),e.parent?se(e.parent):void 0)}function ae(e){return o.InlineValueText.is(e)?new r.InlineValueText(S(e.range),e.text):o.InlineValueVariableLookup.is(e)?new r.InlineValueVariableLookup(S(e.range),e.variableName,e.caseSensitiveLookup):new r.InlineValueEvaluatableExpression(S(e.range),e.expression)}async function ce(e,t){const n="string"==typeof e.label?e.label:await s.map(e.label,ue,t),r=new m.default(C(e.position),n);return void 0!==e.kind&&(r.kind=e.kind),void 0!==e.textEdits&&(r.textEdits=await N(e.textEdits,t)),void 0!==e.tooltip&&(r.tooltip=le(e.tooltip)),void 0!==e.paddingLeft&&(r.paddingLeft=e.paddingLeft),void 0!==e.paddingRight&&(r.paddingRight=e.paddingRight),void 0!==e.data&&(r.data=e.data),r}function ue(e){const t=new r.InlayHintLabelPart(e.value);return void 0!==e.location&&(t.location=q(e.location)),void 0!==e.tooltip&&(t.tooltip=le(e.tooltip)),void 0!==e.command&&(t.command=K(e.command)),t}function le(e){return"string"==typeof e?e:D(e)}function de(e){if(null===e)return;const t=new h.default(U(e.kind),e.name,e.detail||"",w(e.uri),S(e.range),S(e.selectionRange),e.data);return void 0!==e.tags&&(t.tags=W(e.tags)),t}async function he(e,t){return new r.CallHierarchyIncomingCall(de(e.from),await T(e.fromRanges,t))}async function pe(e,t){return new r.CallHierarchyOutgoingCall(de(e.to),await T(e.fromRanges,t))}function fe(e){return new r.SemanticTokensEdit(e.start,e.deleteCount,void 0!==e.data?new Uint32Array(e.data):void 0)}function me(e){if(null===e)return;let t=new p.default(U(e.kind),e.name,e.detail||"",w(e.uri),S(e.range),S(e.selectionRange),e.data);return void 0!==e.tags&&(t.tags=W(e.tags)),t}return X.set(o.CodeActionKind.Empty,r.CodeActionKind.Empty),X.set(o.CodeActionKind.QuickFix,r.CodeActionKind.QuickFix),X.set(o.CodeActionKind.Refactor,r.CodeActionKind.Refactor),X.set(o.CodeActionKind.RefactorExtract,r.CodeActionKind.RefactorExtract),X.set(o.CodeActionKind.RefactorInline,r.CodeActionKind.RefactorInline),X.set(o.CodeActionKind.RefactorRewrite,r.CodeActionKind.RefactorRewrite),X.set(o.CodeActionKind.Source,r.CodeActionKind.Source),X.set(o.CodeActionKind.SourceOrganizeImports,r.CodeActionKind.SourceOrganizeImports),{asUri:w,asDocumentSelector:function(e){const t=[];for(const n of e)if("string"==typeof n)t.push(n);else if(g.NotebookCellTextDocumentFilter.is(n))if("string"==typeof n.notebook)t.push({notebookType:n.notebook,language:n.language});else{const e=n.notebook.notebookType??"*";t.push({notebookType:e,scheme:n.notebook.scheme,pattern:n.notebook.pattern,language:n.language})}else g.TextDocumentFilter.is(n)&&t.push({language:n.language,scheme:n.scheme,pattern:n.pattern});return t},asDiagnostics:async function(e,t){return s.map(e,b,t)},asDiagnostic:b,asRange:S,asRanges:T,asPosition:C,asDiagnosticSeverity:E,asDiagnosticTag:_,asHover:function(e){if(e)return new r.Hover(function(e){if(i.string(e))return D(e);if(v.is(e))return D().appendCodeblock(e.value,e.language);if(Array.isArray(e)){let t=[];for(let n of e){let e=D();v.is(n)?e.appendCodeblock(n.value,n.language):e.appendMarkdown(n),t.push(e)}return t}return D(e)}(e.contents),S(e.range))},asCompletionResult:async function(e,t,n){if(!e)return;if(Array.isArray(e))return s.map(e,(e=>R(e,t)),n);const i=e,{defaultRange:a,commitCharacters:c}=function(e,t){const n=e.itemDefaults?.editRange,r=e.itemDefaults?.commitCharacters??t;return o.Range.is(n)?{defaultRange:S(n),commitCharacters:r}:void 0!==n?{defaultRange:{inserting:S(n.insert),replacing:S(n.replace)},commitCharacters:r}:{defaultRange:void 0,commitCharacters:r}}(i,t),u=await s.map(i.items,(e=>R(e,c,a,i.itemDefaults?.insertTextMode,i.itemDefaults?.insertTextFormat,i.itemDefaults?.data)),n);return new r.CompletionList(u,i.isIncomplete)},asCompletionItem:R,asTextEdit:P,asTextEdits:N,asSignatureHelp:async function(e,t){if(!e)return;let n=new r.SignatureHelp;return i.number(e.activeSignature)?n.activeSignature=e.activeSignature:n.activeSignature=0,i.number(e.activeParameter)?n.activeParameter=e.activeParameter:n.activeParameter=0,e.signatures&&(n.signatures=await I(e.signatures,t)),n},asSignatureInformations:I,asSignatureInformation:A,asParameterInformations:F,asParameterInformation:M,asDeclarationResult:async function(e,t){if(e)return j(e,t)},asDefinitionResult:async function(e,t){if(e)return j(e,t)},asLocation:q,asReferences:async function(e,t){if(e)return s.map(e,q,t)},asDocumentHighlights:async function(e,t){if(e)return s.map(e,H,t)},asDocumentHighlight:H,asDocumentHighlightKind:$,asSymbolKind:U,asSymbolTag:B,asSymbolTags:W,asSymbolInformations:async function(e,t){if(e)return s.map(e,z,t)},asSymbolInformation:z,asDocumentSymbols:async function(e,t){if(null!=e)return s.map(e,G,t)},asDocumentSymbol:G,asCommand:K,asCommands:async function(e,t){if(e)return s.map(e,K,t)},asCodeAction:J,asCodeActionKind:Y,asCodeActionKinds:function(e){if(null!=e)return e.map((e=>Y(e)))},asCodeActionResult:function(e,t){return s.mapAsync(e,(async e=>o.Command.is(e)?K(e):J(e,t)),t)},asCodeLens:Q,asCodeLenses:async function(e,t){if(e)return s.map(e,Q,t)},asWorkspaceEdit:Z,asDocumentLink:ee,asDocumentLinks:async function(e,t){if(e)return s.map(e,ee,t)},asFoldingRangeKind:oe,asFoldingRange:ie,asFoldingRanges:async function(e,t){if(e)return s.map(e,ie,t)},asColor:te,asColorInformation:ne,asColorInformations:async function(e,t){if(e)return s.map(e,ne,t)},asColorPresentation:re,asColorPresentations:async function(e,t){if(e)return s.map(e,re,t)},asSelectionRange:se,asSelectionRanges:async function(e,t){return Array.isArray(e)?s.map(e,se,t):[]},asInlineValue:ae,asInlineValues:async function(e,t){return Array.isArray(e)?s.map(e,ae,t):[]},asInlayHint:ce,asInlayHints:async function(e,t){if(Array.isArray(e))return s.mapAsync(e,ce,t)},asSemanticTokensLegend:function(e){return e},asSemanticTokens:async function(e,t){if(null!=e)return new r.SemanticTokens(new Uint32Array(e.data),e.resultId)},asSemanticTokensEdit:fe,asSemanticTokensEdits:async function(e,t){if(null!=e)return new r.SemanticTokensEdits(e.edits.map(fe),e.resultId)},asCallHierarchyItem:de,asCallHierarchyItems:async function(e,t){if(null!==e)return s.map(e,de,t)},asCallHierarchyIncomingCall:he,asCallHierarchyIncomingCalls:async function(e,t){if(null!==e)return s.mapAsync(e,he,t)},asCallHierarchyOutgoingCall:pe,asCallHierarchyOutgoingCalls:async function(e,t){if(null!==e)return s.mapAsync(e,pe,t)},asLinkedEditingRanges:async function(e,t){if(null!=e)return new r.LinkedEditingRanges(await T(e.ranges,t),function(e){if(null!=e)return new RegExp(e)}(e.wordPattern))},asTypeHierarchyItem:me,asTypeHierarchyItems:async function(e,t){if(null!==e)return s.map(e,me,t)},asGlobPattern:function(e){if(i.string(e))return e;if(o.RelativePattern.is(e)){if(o.URI.is(e.baseUri))return new r.RelativePattern(w(e.baseUri),e.pattern);if(o.WorkspaceFolder.is(e.baseUri)){const t=r.workspace.getWorkspaceFolder(w(e.baseUri.uri));return void 0!==t?new r.RelativePattern(t,e.pattern):void 0}}}}}},6640:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProtocolDiagnostic=t.DiagnosticCode=void 0;const r=n(9496),o=n(9763);(t.DiagnosticCode||(t.DiagnosticCode={})).is=function(e){const t=e;return null!=t&&(o.number(t.value)||o.string(t.value))&&o.string(t.target)};class i extends r.Diagnostic{constructor(e,t,n,r){super(e,t,n),this.data=r,this.hasDiagnosticCode=!1}}t.ProtocolDiagnostic=i},8705:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9496);class o extends r.DocumentLink{constructor(e,t){super(e,t)}}t.default=o},1065:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9496);class o extends r.InlayHint{constructor(e,t,n){super(e,t,n)}}t.default=o},1365:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9496);class o extends r.TypeHierarchyItem{constructor(e,t,n,r,o,i,s){super(e,t,n,r,o,i),void 0!==s&&(this.data=s)}}t.default=o},3912:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const r=n(9496);class o extends r.SymbolInformation{constructor(e,t,n,o,i){const s=!(o instanceof r.Uri);super(e,t,n,s?o:new r.Location(o,new r.Range(0,0,0,0))),this.hasRange=s,void 0!==i&&(this.data=i)}}t.default=o},8480:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReferencesFeature=void 0;const r=n(9496),o=n(273),i=n(8909),s=n(1980);class a extends i.TextDocumentLanguageFeature{constructor(e){super(e,o.ReferencesRequest.type)}fillClientCapabilities(e){(0,i.ensure)((0,i.ensure)(e,"textDocument"),"references").dynamicRegistration=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.referencesProvider);n&&this.register({id:s.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t=e.documentSelector,n={provideReferences:(e,t,n,r)=>{const i=this._client,s=(e,t,n,r)=>i.sendRequest(o.ReferencesRequest.type,i.code2ProtocolConverter.asReferenceParams(e,t,n),r).then((e=>r.isCancellationRequested?null:i.protocol2CodeConverter.asReferences(e,r)),(e=>i.handleFailedRequest(o.ReferencesRequest.type,r,e,null))),a=i.middleware;return a.provideReferences?a.provideReferences(e,t,n,r,s):s(e,t,n,r)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return r.languages.registerReferenceProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.ReferencesFeature=a},6458:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RenameFeature=void 0;const r=n(9496),o=n(273),i=n(1980),s=n(9763),a=n(8909);class c extends a.TextDocumentLanguageFeature{constructor(e){super(e,o.RenameRequest.type)}fillClientCapabilities(e){let t=(0,a.ensure)((0,a.ensure)(e,"textDocument"),"rename");t.dynamicRegistration=!0,t.prepareSupport=!0,t.prepareSupportDefaultBehavior=o.PrepareSupportDefaultBehavior.Identifier,t.honorsChangeAnnotations=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.renameProvider);n&&(s.boolean(e.renameProvider)&&(n.prepareProvider=!1),this.register({id:i.generateUuid(),registerOptions:n}))}registerLanguageProvider(e){const t=e.documentSelector,n={provideRenameEdits:(e,t,n,r)=>{const i=this._client,s=(e,t,n,r)=>{let s={textDocument:i.code2ProtocolConverter.asTextDocumentIdentifier(e),position:i.code2ProtocolConverter.asPosition(t),newName:n};return i.sendRequest(o.RenameRequest.type,s,r).then((e=>r.isCancellationRequested?null:i.protocol2CodeConverter.asWorkspaceEdit(e,r)),(e=>i.handleFailedRequest(o.RenameRequest.type,r,e,null,!1)))},a=i.middleware;return a.provideRenameEdits?a.provideRenameEdits(e,t,n,r,s):s(e,t,n,r)},prepareRename:e.prepareProvider?(e,t,n)=>{const r=this._client,i=(e,t,n)=>{let i={textDocument:r.code2ProtocolConverter.asTextDocumentIdentifier(e),position:r.code2ProtocolConverter.asPosition(t)};return r.sendRequest(o.PrepareRenameRequest.type,i,n).then((e=>n.isCancellationRequested?null:o.Range.is(e)?r.protocol2CodeConverter.asRange(e):this.isDefaultBehavior(e)?!0===e.defaultBehavior?null:Promise.reject(new Error("The element can't be renamed.")):e&&o.Range.is(e.range)?{range:r.protocol2CodeConverter.asRange(e.range),placeholder:e.placeholder}:Promise.reject(new Error("The element can't be renamed."))),(e=>{throw"string"==typeof e.message?new Error(e.message):new Error("The element can't be renamed.")}))},s=r.middleware;return s.prepareRename?s.prepareRename(e,t,n,i):i(e,t,n)}:void 0};return[this.registerProvider(t,n),n]}registerProvider(e,t){return r.languages.registerRenameProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}isDefaultBehavior(e){const t=e;return t&&s.boolean(t.defaultBehavior)}}t.RenameFeature=c},750:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionRangeFeature=void 0;const r=n(9496),o=n(273),i=n(8909);class s extends i.TextDocumentLanguageFeature{constructor(e){super(e,o.SelectionRangeRequest.type)}fillClientCapabilities(e){(0,i.ensure)((0,i.ensure)(e,"textDocument"),"selectionRange").dynamicRegistration=!0}initialize(e,t){const[n,r]=this.getRegistration(t,e.selectionRangeProvider);n&&r&&this.register({id:n,registerOptions:r})}registerLanguageProvider(e){const t=e.documentSelector,n={provideSelectionRanges:(e,t,n)=>{const r=this._client,i=async(e,t,n)=>{const i={textDocument:r.code2ProtocolConverter.asTextDocumentIdentifier(e),positions:await r.code2ProtocolConverter.asPositions(t,n)};return r.sendRequest(o.SelectionRangeRequest.type,i,n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asSelectionRanges(e,n)),(e=>r.handleFailedRequest(o.SelectionRangeRequest.type,n,e,null)))},s=r.middleware;return s.provideSelectionRanges?s.provideSelectionRanges(e,t,n,i):i(e,t,n)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return r.languages.registerSelectionRangeProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.SelectionRangeFeature=s},9957:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SemanticTokensFeature=void 0;const r=n(9496),o=n(273),i=n(8909),s=n(9763);class a extends i.TextDocumentLanguageFeature{constructor(e){super(e,o.SemanticTokensRegistrationType.type)}fillClientCapabilities(e){const t=(0,i.ensure)((0,i.ensure)(e,"textDocument"),"semanticTokens");t.dynamicRegistration=!0,t.tokenTypes=[o.SemanticTokenTypes.namespace,o.SemanticTokenTypes.type,o.SemanticTokenTypes.class,o.SemanticTokenTypes.enum,o.SemanticTokenTypes.interface,o.SemanticTokenTypes.struct,o.SemanticTokenTypes.typeParameter,o.SemanticTokenTypes.parameter,o.SemanticTokenTypes.variable,o.SemanticTokenTypes.property,o.SemanticTokenTypes.enumMember,o.SemanticTokenTypes.event,o.SemanticTokenTypes.function,o.SemanticTokenTypes.method,o.SemanticTokenTypes.macro,o.SemanticTokenTypes.keyword,o.SemanticTokenTypes.modifier,o.SemanticTokenTypes.comment,o.SemanticTokenTypes.string,o.SemanticTokenTypes.number,o.SemanticTokenTypes.regexp,o.SemanticTokenTypes.operator,o.SemanticTokenTypes.decorator],t.tokenModifiers=[o.SemanticTokenModifiers.declaration,o.SemanticTokenModifiers.definition,o.SemanticTokenModifiers.readonly,o.SemanticTokenModifiers.static,o.SemanticTokenModifiers.deprecated,o.SemanticTokenModifiers.abstract,o.SemanticTokenModifiers.async,o.SemanticTokenModifiers.modification,o.SemanticTokenModifiers.documentation,o.SemanticTokenModifiers.defaultLibrary],t.formats=[o.TokenFormat.Relative],t.requests={range:!0,full:{delta:!0}},t.multilineTokenSupport=!1,t.overlappingTokenSupport=!1,t.serverCancelSupport=!0,t.augmentsSyntaxTokens=!0,(0,i.ensure)((0,i.ensure)(e,"workspace"),"semanticTokens").refreshSupport=!0}initialize(e,t){this._client.onRequest(o.SemanticTokensRefreshRequest.type,(async()=>{for(const e of this.getAllProviders())e.onDidChangeSemanticTokensEmitter.fire()}));const[n,r]=this.getRegistration(t,e.semanticTokensProvider);n&&r&&this.register({id:n,registerOptions:r})}registerLanguageProvider(e){const t=e.documentSelector,n=s.boolean(e.full)?e.full:void 0!==e.full,i=void 0!==e.full&&"boolean"!=typeof e.full&&!0===e.full.delta,a=new r.EventEmitter,c=n?{onDidChangeSemanticTokens:a.event,provideDocumentSemanticTokens:(e,t)=>{const n=this._client,r=n.middleware,i=(e,t)=>{const r={textDocument:n.code2ProtocolConverter.asTextDocumentIdentifier(e)};return n.sendRequest(o.SemanticTokensRequest.type,r,t).then((e=>t.isCancellationRequested?null:n.protocol2CodeConverter.asSemanticTokens(e,t)),(e=>n.handleFailedRequest(o.SemanticTokensRequest.type,t,e,null)))};return r.provideDocumentSemanticTokens?r.provideDocumentSemanticTokens(e,t,i):i(e,t)},provideDocumentSemanticTokensEdits:i?(e,t,n)=>{const r=this._client,i=r.middleware,s=(e,t,n)=>{const i={textDocument:r.code2ProtocolConverter.asTextDocumentIdentifier(e),previousResultId:t};return r.sendRequest(o.SemanticTokensDeltaRequest.type,i,n).then((async e=>n.isCancellationRequested?null:o.SemanticTokens.is(e)?await r.protocol2CodeConverter.asSemanticTokens(e,n):await r.protocol2CodeConverter.asSemanticTokensEdits(e,n)),(e=>r.handleFailedRequest(o.SemanticTokensDeltaRequest.type,n,e,null)))};return i.provideDocumentSemanticTokensEdits?i.provideDocumentSemanticTokensEdits(e,t,n,s):s(e,t,n)}:void 0}:void 0,u=!0===e.range?{provideDocumentRangeSemanticTokens:(e,t,n)=>{const r=this._client,i=r.middleware,s=(e,t,n)=>{const i={textDocument:r.code2ProtocolConverter.asTextDocumentIdentifier(e),range:r.code2ProtocolConverter.asRange(t)};return r.sendRequest(o.SemanticTokensRangeRequest.type,i,n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asSemanticTokens(e,n)),(e=>r.handleFailedRequest(o.SemanticTokensRangeRequest.type,n,e,null)))};return i.provideDocumentRangeSemanticTokens?i.provideDocumentRangeSemanticTokens(e,t,n,s):s(e,t,n)}}:void 0,l=[],d=this._client,h=d.protocol2CodeConverter.asSemanticTokensLegend(e.legend),p=d.protocol2CodeConverter.asDocumentSelector(t);return void 0!==c&&l.push(r.languages.registerDocumentSemanticTokensProvider(p,c,h)),void 0!==u&&l.push(r.languages.registerDocumentRangeSemanticTokensProvider(p,u,h)),[new r.Disposable((()=>l.forEach((e=>e.dispose())))),{range:u,full:c,onDidChangeSemanticTokensEmitter:a}]}}t.SemanticTokensFeature=a},2908:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SignatureHelpFeature=void 0;const r=n(9496),o=n(273),i=n(8909),s=n(1980);class a extends i.TextDocumentLanguageFeature{constructor(e){super(e,o.SignatureHelpRequest.type)}fillClientCapabilities(e){let t=(0,i.ensure)((0,i.ensure)(e,"textDocument"),"signatureHelp");t.dynamicRegistration=!0,t.signatureInformation={documentationFormat:[o.MarkupKind.Markdown,o.MarkupKind.PlainText]},t.signatureInformation.parameterInformation={labelOffsetSupport:!0},t.signatureInformation.activeParameterSupport=!0,t.contextSupport=!0}initialize(e,t){const n=this.getRegistrationOptions(t,e.signatureHelpProvider);n&&this.register({id:s.generateUuid(),registerOptions:n})}registerLanguageProvider(e){const t={provideSignatureHelp:(e,t,n,r)=>{const i=this._client,s=(e,t,n,r)=>i.sendRequest(o.SignatureHelpRequest.type,i.code2ProtocolConverter.asSignatureHelpParams(e,t,n),r).then((e=>r.isCancellationRequested?null:i.protocol2CodeConverter.asSignatureHelp(e,r)),(e=>i.handleFailedRequest(o.SignatureHelpRequest.type,r,e,null))),a=i.middleware;return a.provideSignatureHelp?a.provideSignatureHelp(e,t,r,n,s):s(e,t,r,n)}};return[this.registerProvider(e,t),t]}registerProvider(e,t){const n=this._client.protocol2CodeConverter.asDocumentSelector(e.documentSelector);if(void 0===e.retriggerCharacters){const o=e.triggerCharacters||[];return r.languages.registerSignatureHelpProvider(n,t,...o)}{const o={triggerCharacters:e.triggerCharacters||[],retriggerCharacters:e.retriggerCharacters||[]};return r.languages.registerSignatureHelpProvider(n,t,o)}}}t.SignatureHelpFeature=a},743:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DidSaveTextDocumentFeature=t.WillSaveWaitUntilFeature=t.WillSaveFeature=t.DidChangeTextDocumentFeature=t.DidCloseTextDocumentFeature=t.DidOpenTextDocumentFeature=void 0;const r=n(9496),o=n(273),i=n(8909),s=n(4904),a=n(1980);class c extends i.TextDocumentEventFeature{constructor(e,t){super(e,r.workspace.onDidOpenTextDocument,o.DidOpenTextDocumentNotification.type,(()=>e.middleware.didOpen),(t=>e.code2ProtocolConverter.asOpenTextDocumentParams(t)),(e=>e),i.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=t}get openDocuments(){return this._syncedDocuments.values()}fillClientCapabilities(e){(0,i.ensure)((0,i.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){const n=e.resolvedTextDocumentSync;t&&n&&n.openClose&&this.register({id:a.generateUuid(),registerOptions:{documentSelector:t}})}get registrationType(){return o.DidOpenTextDocumentNotification.type}register(e){if(super.register(e),!e.registerOptions.documentSelector)return;const t=this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector);r.workspace.textDocuments.forEach((e=>{const n=e.uri.toString();if(!this._syncedDocuments.has(n)&&r.languages.match(t,e)>0&&!this._client.hasDedicatedTextSynchronizationFeature(e)){const t=this._client.middleware,r=e=>this._client.sendNotification(this._type,this._createParams(e));(t.didOpen?t.didOpen(e,r):r(e)).catch((e=>{this._client.error(`Sending document notification ${this._type.method} failed`,e)})),this._syncedDocuments.set(n,e)}}))}notificationSent(e,t,n){super.notificationSent(e,t,n),this._syncedDocuments.set(e.uri.toString(),e)}}t.DidOpenTextDocumentFeature=c;class u extends i.TextDocumentEventFeature{constructor(e,t){super(e,r.workspace.onDidCloseTextDocument,o.DidCloseTextDocumentNotification.type,(()=>e.middleware.didClose),(t=>e.code2ProtocolConverter.asCloseTextDocumentParams(t)),(e=>e),i.TextDocumentEventFeature.textDocumentFilter),this._syncedDocuments=t}get registrationType(){return o.DidCloseTextDocumentNotification.type}fillClientCapabilities(e){(0,i.ensure)((0,i.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.openClose&&this.register({id:a.generateUuid(),registerOptions:{documentSelector:t}})}notificationSent(e,t,n){super.notificationSent(e,t,n),this._syncedDocuments.delete(e.uri.toString())}unregister(e){const t=this._selectors.get(e);super.unregister(e);const n=this._selectors.values();this._syncedDocuments.forEach((e=>{if(r.languages.match(t,e)>0&&!this._selectorFilter(n,e)&&!this._client.hasDedicatedTextSynchronizationFeature(e)){let t=this._client.middleware,n=e=>this._client.sendNotification(this._type,this._createParams(e));this._syncedDocuments.delete(e.uri.toString()),(t.didClose?t.didClose(e,n):n(e)).catch((e=>{this._client.error(`Sending document notification ${this._type.method} failed`,e)}))}}))}}t.DidCloseTextDocumentFeature=u;class l extends i.DynamicDocumentFeature{constructor(e){super(e),this._forcingDelivery=!1,this._changeData=new Map,this._onNotificationSent=new r.EventEmitter}get registrationType(){return o.DidChangeTextDocumentNotification.type}fillClientCapabilities(e){(0,i.ensure)((0,i.ensure)(e,"textDocument"),"synchronization").dynamicRegistration=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&void 0!==n.change&&n.change!==o.TextDocumentSyncKind.None&&this.register({id:a.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},{syncKind:n.change})})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=r.workspace.onDidChangeTextDocument(this.callback,this)),this._changeData.set(e.id,{syncKind:e.registerOptions.syncKind,documentSelector:this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)}))}*getDocumentSelectors(){for(const e of this._changeData.values())yield e.documentSelector}async callback(e){if(0===e.contentChanges.length)return;const t=[];for(const n of this._changeData.values())if(r.languages.match(n.documentSelector,e.document)>0&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){const r=this._client.middleware;if(n.syncKind===o.TextDocumentSyncKind.Incremental){const n=async e=>{const t=this._client.code2ProtocolConverter.asChangeTextDocumentParams(e);await this._client.sendNotification(o.DidChangeTextDocumentNotification.type,t),this.notificationSent(e,o.DidChangeTextDocumentNotification.type,t)};t.push(r.didChange?r.didChange(e,(e=>n(e))):n(e))}else if(n.syncKind===o.TextDocumentSyncKind.Full){const n=async e=>{const t=async e=>{const t=this._client.code2ProtocolConverter.asChangeTextDocumentParams(e.document);await this._client.sendNotification(o.DidChangeTextDocumentNotification.type,t),this.notificationSent(e,o.DidChangeTextDocumentNotification.type,t)};return this._changeDelayer?(this._changeDelayer.uri!==e.document.uri.toString()&&(await this.forceDelivery(),this._changeDelayer.uri=e.document.uri.toString()),this._changeDelayer.delayer.trigger((()=>t(e)))):(this._changeDelayer={uri:e.document.uri.toString(),delayer:new s.Delayer(200)},this._changeDelayer.delayer.trigger((()=>t(e)),-1))};t.push(r.didChange?r.didChange(e,(e=>n(e))):n(e))}}return Promise.all(t).then(void 0,(e=>{throw this._client.error(`Sending document notification ${o.DidChangeTextDocumentNotification.type.method} failed`,e),e}))}get onNotificationSent(){return this._onNotificationSent.event}notificationSent(e,t,n){this._onNotificationSent.fire({original:e,type:t,params:n})}unregister(e){this._changeData.delete(e),0===this._changeData.size&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){void 0!==this._changeDelayer&&this._changeDelayer.delayer.cancel(),this._changeDelayer=void 0,this._forcingDelivery=!1,this._changeData.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}async forceDelivery(){if(!this._forcingDelivery&&this._changeDelayer)try{return this._forcingDelivery=!0,this._changeDelayer.delayer.forceDelivery()}finally{this._forcingDelivery=!1}}getProvider(e){for(const t of this._changeData.values())if(r.languages.match(t.documentSelector,e)>0)return{send:e=>this.callback(e)}}}t.DidChangeTextDocumentFeature=l;class d extends i.TextDocumentEventFeature{constructor(e){super(e,r.workspace.onWillSaveTextDocument,o.WillSaveTextDocumentNotification.type,(()=>e.middleware.willSave),(t=>e.code2ProtocolConverter.asWillSaveTextDocumentParams(t)),(e=>e.document),((e,t)=>i.TextDocumentEventFeature.textDocumentFilter(e,t.document)))}get registrationType(){return o.WillSaveTextDocumentNotification.type}fillClientCapabilities(e){(0,i.ensure)((0,i.ensure)(e,"textDocument"),"synchronization").willSave=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.willSave&&this.register({id:a.generateUuid(),registerOptions:{documentSelector:t}})}}t.WillSaveFeature=d;class h extends i.DynamicDocumentFeature{constructor(e){super(e),this._selectors=new Map}getDocumentSelectors(){return this._selectors.values()}get registrationType(){return o.WillSaveTextDocumentWaitUntilRequest.type}fillClientCapabilities(e){(0,i.ensure)((0,i.ensure)(e,"textDocument"),"synchronization").willSaveWaitUntil=!0}initialize(e,t){let n=e.resolvedTextDocumentSync;t&&n&&n.willSaveWaitUntil&&this.register({id:a.generateUuid(),registerOptions:{documentSelector:t}})}register(e){e.registerOptions.documentSelector&&(this._listener||(this._listener=r.workspace.onWillSaveTextDocument(this.callback,this)),this._selectors.set(e.id,this._client.protocol2CodeConverter.asDocumentSelector(e.registerOptions.documentSelector)))}callback(e){if(i.TextDocumentEventFeature.textDocumentFilter(this._selectors.values(),e.document)&&!this._client.hasDedicatedTextSynchronizationFeature(e.document)){let t=this._client.middleware,n=e=>this._client.sendRequest(o.WillSaveTextDocumentWaitUntilRequest.type,this._client.code2ProtocolConverter.asWillSaveTextDocumentParams(e)).then((async e=>{let t=await this._client.protocol2CodeConverter.asTextEdits(e);return void 0===t?[]:t}));e.waitUntil(t.willSaveWaitUntil?t.willSaveWaitUntil(e,n):n(e))}}unregister(e){this._selectors.delete(e),0===this._selectors.size&&this._listener&&(this._listener.dispose(),this._listener=void 0)}dispose(){this._selectors.clear(),this._listener&&(this._listener.dispose(),this._listener=void 0)}}t.WillSaveWaitUntilFeature=h;class p extends i.TextDocumentEventFeature{constructor(e){super(e,r.workspace.onDidSaveTextDocument,o.DidSaveTextDocumentNotification.type,(()=>e.middleware.didSave),(t=>e.code2ProtocolConverter.asSaveTextDocumentParams(t,this._includeText)),(e=>e),i.TextDocumentEventFeature.textDocumentFilter),this._includeText=!1}get registrationType(){return o.DidSaveTextDocumentNotification.type}fillClientCapabilities(e){(0,i.ensure)((0,i.ensure)(e,"textDocument"),"synchronization").didSave=!0}initialize(e,t){const n=e.resolvedTextDocumentSync;if(t&&n&&n.save){const e="boolean"==typeof n.save?{includeText:!1}:{includeText:!!n.save.includeText};this.register({id:a.generateUuid(),registerOptions:Object.assign({},{documentSelector:t},e)})}}register(e){this._includeText=!!e.registerOptions.includeText,super.register(e)}}t.DidSaveTextDocumentFeature=p},328:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypeDefinitionFeature=void 0;const r=n(9496),o=n(273),i=n(8909);class s extends i.TextDocumentLanguageFeature{constructor(e){super(e,o.TypeDefinitionRequest.type)}fillClientCapabilities(e){(0,i.ensure)((0,i.ensure)(e,"textDocument"),"typeDefinition").dynamicRegistration=!0;let t=(0,i.ensure)((0,i.ensure)(e,"textDocument"),"typeDefinition");t.dynamicRegistration=!0,t.linkSupport=!0}initialize(e,t){let[n,r]=this.getRegistration(t,e.typeDefinitionProvider);n&&r&&this.register({id:n,registerOptions:r})}registerLanguageProvider(e){const t=e.documentSelector,n={provideTypeDefinition:(e,t,n)=>{const r=this._client,i=(e,t,n)=>r.sendRequest(o.TypeDefinitionRequest.type,r.code2ProtocolConverter.asTextDocumentPositionParams(e,t),n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asDefinitionResult(e,n)),(e=>r.handleFailedRequest(o.TypeDefinitionRequest.type,n,e,null))),s=r.middleware;return s.provideTypeDefinition?s.provideTypeDefinition(e,t,n,i):i(e,t,n)}};return[this.registerProvider(t,n),n]}registerProvider(e,t){return r.languages.registerTypeDefinitionProvider(this._client.protocol2CodeConverter.asDocumentSelector(e),t)}}t.TypeDefinitionFeature=s},4175:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypeHierarchyFeature=void 0;const r=n(9496),o=n(273),i=n(8909);class s{constructor(e){this.client=e,this.middleware=e.middleware}prepareTypeHierarchy(e,t,n){const r=this.client,i=this.middleware,s=(e,t,n)=>{const i=r.code2ProtocolConverter.asTextDocumentPositionParams(e,t);return r.sendRequest(o.TypeHierarchyPrepareRequest.type,i,n).then((e=>n.isCancellationRequested?null:r.protocol2CodeConverter.asTypeHierarchyItems(e,n)),(e=>r.handleFailedRequest(o.TypeHierarchyPrepareRequest.type,n,e,null)))};return i.prepareTypeHierarchy?i.prepareTypeHierarchy(e,t,n,s):s(e,t,n)}provideTypeHierarchySupertypes(e,t){const n=this.client,r=this.middleware,i=(e,t)=>{const r={item:n.code2ProtocolConverter.asTypeHierarchyItem(e)};return n.sendRequest(o.TypeHierarchySupertypesRequest.type,r,t).then((e=>t.isCancellationRequested?null:n.protocol2CodeConverter.asTypeHierarchyItems(e,t)),(e=>n.handleFailedRequest(o.TypeHierarchySupertypesRequest.type,t,e,null)))};return r.provideTypeHierarchySupertypes?r.provideTypeHierarchySupertypes(e,t,i):i(e,t)}provideTypeHierarchySubtypes(e,t){const n=this.client,r=this.middleware,i=(e,t)=>{const r={item:n.code2ProtocolConverter.asTypeHierarchyItem(e)};return n.sendRequest(o.TypeHierarchySubtypesRequest.type,r,t).then((e=>t.isCancellationRequested?null:n.protocol2CodeConverter.asTypeHierarchyItems(e,t)),(e=>n.handleFailedRequest(o.TypeHierarchySubtypesRequest.type,t,e,null)))};return r.provideTypeHierarchySubtypes?r.provideTypeHierarchySubtypes(e,t,i):i(e,t)}}class a extends i.TextDocumentLanguageFeature{constructor(e){super(e,o.TypeHierarchyPrepareRequest.type)}fillClientCapabilities(e){(0,i.ensure)((0,i.ensure)(e,"textDocument"),"typeHierarchy").dynamicRegistration=!0}initialize(e,t){const[n,r]=this.getRegistration(t,e.typeHierarchyProvider);n&&r&&this.register({id:n,registerOptions:r})}registerLanguageProvider(e){const t=this._client,n=new s(t);return[r.languages.registerTypeHierarchyProvider(t.protocol2CodeConverter.asDocumentSelector(e.documentSelector),n),n]}}t.TypeHierarchyFeature=a},4904:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.forEach=t.mapAsync=t.map=t.clearTestMode=t.setTestMode=t.Semaphore=t.Delayer=void 0;const r=n(273);t.Delayer=class{constructor(e){this.defaultDelay=e,this.timeout=void 0,this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0}trigger(e,t=this.defaultDelay){return this.task=e,t>=0&&this.cancelTimeout(),this.completionPromise||(this.completionPromise=new Promise((e=>{this.onSuccess=e})).then((()=>{this.completionPromise=void 0,this.onSuccess=void 0;var e=this.task();return this.task=void 0,e}))),(t>=0||void 0===this.timeout)&&(this.timeout=(0,r.RAL)().timer.setTimeout((()=>{this.timeout=void 0,this.onSuccess(void 0)}),t>=0?t:this.defaultDelay)),this.completionPromise}forceDelivery(){if(!this.completionPromise)return;this.cancelTimeout();let e=this.task();return this.completionPromise=void 0,this.onSuccess=void 0,this.task=void 0,e}isTriggered(){return void 0!==this.timeout}cancel(){this.cancelTimeout(),this.completionPromise=void 0}cancelTimeout(){void 0!==this.timeout&&(this.timeout.dispose(),this.timeout=void 0)}},t.Semaphore=class{constructor(e=1){if(e<=0)throw new Error("Capacity must be greater than 0");this._capacity=e,this._active=0,this._waiting=[]}lock(e){return new Promise(((t,n)=>{this._waiting.push({thunk:e,resolve:t,reject:n}),this.runNext()}))}get active(){return this._active}runNext(){0!==this._waiting.length&&this._active!==this._capacity&&(0,r.RAL)().timer.setImmediate((()=>this.doRunNext()))}doRunNext(){if(0===this._waiting.length||this._active===this._capacity)return;const e=this._waiting.shift();if(this._active++,this._active>this._capacity)throw new Error("To many thunks active");try{const t=e.thunk();t instanceof Promise?t.then((t=>{this._active--,e.resolve(t),this.runNext()}),(t=>{this._active--,e.reject(t),this.runNext()})):(this._active--,e.resolve(t),this.runNext())}catch(t){this._active--,e.reject(t),this.runNext()}}};let o=!1;t.setTestMode=function(){o=!0},t.clearTestMode=function(){o=!1};class i{constructor(e=15){this.yieldAfter=!0===o?Math.max(e,2):Math.max(e,15),this.startTime=Date.now(),this.counter=0,this.total=0,this.counterInterval=1}start(){this.counter=0,this.total=0,this.counterInterval=1,this.startTime=Date.now()}shouldYield(){if(++this.counter>=this.counterInterval){const e=Date.now()-this.startTime,t=Math.max(0,this.yieldAfter-e);if(this.total+=this.counter,this.counter=0,e>=this.yieldAfter||t<=1)return this.counterInterval=1,this.total=0,!0;switch(e){case 0:case 1:this.counterInterval=2*this.total}}return!1}}t.map=async function(e,t,n,o){if(0===e.length)return[];const s=new Array(e.length),a=new i(o?.yieldAfter);function c(n){a.start();for(let r=n;r<e.length;r++)if(s[r]=t(e[r]),a.shouldYield())return o?.yieldCallback&&o.yieldCallback(),r+1;return-1}let u=c(0);for(;-1!==u&&(void 0===n||!n.isCancellationRequested);)u=await new Promise((e=>{(0,r.RAL)().timer.setImmediate((()=>{e(c(u))}))}));return s},t.mapAsync=async function(e,t,n,o){if(0===e.length)return[];const s=new Array(e.length),a=new i(o?.yieldAfter);async function c(r){a.start();for(let i=r;i<e.length;i++)if(s[i]=await t(e[i],n),a.shouldYield())return o?.yieldCallback&&o.yieldCallback(),i+1;return-1}let u=await c(0);for(;-1!==u&&(void 0===n||!n.isCancellationRequested);)u=await new Promise((e=>{(0,r.RAL)().timer.setImmediate((()=>{e(c(u))}))}));return s},t.forEach=async function(e,t,n,o){if(0===e.length)return;const s=new i(o?.yieldAfter);function a(n){s.start();for(let r=n;r<e.length;r++)if(t(e[r]),s.shouldYield())return o?.yieldCallback&&o.yieldCallback(),r+1;return-1}let c=a(0);for(;-1!==c&&(void 0===n||!n.isCancellationRequested);)c=await new Promise((e=>{(0,r.RAL)().timer.setImmediate((()=>{e(a(c))}))}))}},9763:(e,t)=>{"use strict";function n(e){return"string"==typeof e||e instanceof String}function r(e){return"function"==typeof e}function o(e){return Array.isArray(e)}function i(e){return e&&r(e.then)}Object.defineProperty(t,"__esModule",{value:!0}),t.asPromise=t.thenable=t.typedArray=t.stringArray=t.array=t.func=t.error=t.number=t.string=t.boolean=void 0,t.boolean=function(e){return!0===e||!1===e},t.string=n,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=r,t.array=o,t.stringArray=function(e){return o(e)&&e.every((e=>n(e)))},t.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)},t.thenable=i,t.asPromise=function(e){return e instanceof Promise?e:i(e)?new Promise(((t,n)=>{e.then((e=>t(e)),(e=>n(e)))})):Promise.resolve(e)}},1980:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateUuid=t.parse=t.isUUID=t.v4=t.empty=void 0;class n{constructor(e){this._value=e}asHex(){return this._value}equals(e){return this.asHex()===e.asHex()}}class r extends n{constructor(){super([r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),"-",r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),"-","4",r._randomHex(),r._randomHex(),r._randomHex(),"-",r._oneOf(r._timeHighBits),r._randomHex(),r._randomHex(),r._randomHex(),"-",r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex(),r._randomHex()].join(""))}static _oneOf(e){return e[Math.floor(e.length*Math.random())]}static _randomHex(){return r._oneOf(r._chars)}}function o(){return new r}r._chars=["0","1","2","3","4","5","6","6","7","8","9","a","b","c","d","e","f"],r._timeHighBits=["8","9","a","b"],t.empty=new n("00000000-0000-0000-0000-000000000000"),t.v4=o;const i=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/i;function s(e){return i.test(e)}t.isUUID=s,t.parse=function(e){if(!s(e))throw new Error("invalid uuid");return new n(e)},t.generateUuid=function(){return o().asHex()}},5941:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceFoldersFeature=t.arrayDiff=void 0;const r=n(1980),o=n(9496),i=n(273);function s(e,t){if(void 0!==e)return e[t]}function a(e,t){return e.filter((e=>t.indexOf(e)<0))}t.arrayDiff=a,t.WorkspaceFoldersFeature=class{constructor(e){this._client=e,this._listeners=new Map}getState(){return{kind:"workspace",id:this.registrationType.method,registrations:this._listeners.size>0}}get registrationType(){return i.DidChangeWorkspaceFoldersNotification.type}fillInitializeParams(e){const t=o.workspace.workspaceFolders;this.initializeWithFolders(t),e.workspaceFolders=void 0===t?null:t.map((e=>this.asProtocol(e)))}initializeWithFolders(e){this._initialFolders=e}fillClientCapabilities(e){e.workspace=e.workspace||{},e.workspace.workspaceFolders=!0}initialize(e){const t=this._client;t.onRequest(i.WorkspaceFoldersRequest.type,(e=>{const n=()=>{const e=o.workspace.workspaceFolders;return void 0===e?null:e.map((e=>this.asProtocol(e)))},r=t.middleware.workspace;return r&&r.workspaceFolders?r.workspaceFolders(e,n):n()}));const n=s(s(s(e,"workspace"),"workspaceFolders"),"changeNotifications");let a;"string"==typeof n?a=n:!0===n&&(a=r.generateUuid()),a&&this.register({id:a,registerOptions:void 0})}sendInitialEvent(e){let t;if(this._initialFolders&&e){const n=a(this._initialFolders,e),r=a(e,this._initialFolders);(r.length>0||n.length>0)&&(t=this.doSendEvent(r,n))}else this._initialFolders?t=this.doSendEvent([],this._initialFolders):e&&(t=this.doSendEvent(e,[]));void 0!==t&&t.catch((e=>{this._client.error(`Sending notification ${i.DidChangeWorkspaceFoldersNotification.type.method} failed`,e)}))}doSendEvent(e,t){let n={event:{added:e.map((e=>this.asProtocol(e))),removed:t.map((e=>this.asProtocol(e)))}};return this._client.sendNotification(i.DidChangeWorkspaceFoldersNotification.type,n)}register(e){let t=e.id,n=this._client,r=o.workspace.onDidChangeWorkspaceFolders((e=>{let t=e=>this.doSendEvent(e.added,e.removed),r=n.middleware.workspace;(r&&r.didChangeWorkspaceFolders?r.didChangeWorkspaceFolders(e,t):t(e)).catch((e=>{this._client.error(`Sending notification ${i.DidChangeWorkspaceFoldersNotification.type.method} failed`,e)}))}));this._listeners.set(t,r),this.sendInitialEvent(o.workspace.workspaceFolders)}unregister(e){let t=this._listeners.get(e);void 0!==t&&(this._listeners.delete(e),t.dispose())}dispose(){for(let e of this._listeners.values())e.dispose();this._listeners.clear()}asProtocol(e){return void 0===e?null:{uri:this._client.code2ProtocolConverter.asUri(e.uri),name:e.name}}}},3051:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceSymbolFeature=void 0;const r=n(9496),o=n(273),i=n(8909),s=n(2483),a=n(1980);class c extends i.WorkspaceFeature{constructor(e){super(e,o.WorkspaceSymbolRequest.type)}fillClientCapabilities(e){let t=(0,i.ensure)((0,i.ensure)(e,"workspace"),"symbol");t.dynamicRegistration=!0,t.symbolKind={valueSet:s.SupportedSymbolKinds},t.tagSupport={valueSet:s.SupportedSymbolTags},t.resolveSupport={properties:["location.range"]}}initialize(e){e.workspaceSymbolProvider&&this.register({id:a.generateUuid(),registerOptions:!0===e.workspaceSymbolProvider?{workDoneProgress:!1}:e.workspaceSymbolProvider})}registerLanguageProvider(e){const t={provideWorkspaceSymbols:(e,t)=>{const n=this._client,r=(e,t)=>n.sendRequest(o.WorkspaceSymbolRequest.type,{query:e},t).then((e=>t.isCancellationRequested?null:n.protocol2CodeConverter.asSymbolInformations(e,t)),(e=>n.handleFailedRequest(o.WorkspaceSymbolRequest.type,t,e,null))),i=n.middleware;return i.provideWorkspaceSymbols?i.provideWorkspaceSymbols(e,t,r):r(e,t)},resolveWorkspaceSymbol:!0===e.resolveProvider?(e,t)=>{const n=this._client,r=(e,t)=>n.sendRequest(o.WorkspaceSymbolResolveRequest.type,n.code2ProtocolConverter.asWorkspaceSymbol(e),t).then((e=>t.isCancellationRequested?null:n.protocol2CodeConverter.asSymbolInformation(e)),(e=>n.handleFailedRequest(o.WorkspaceSymbolResolveRequest.type,t,e,null))),i=n.middleware;return i.resolveWorkspaceSymbol?i.resolveWorkspaceSymbol(e,t,r):r(e,t)}:void 0};return[r.languages.registerWorkspaceSymbolProvider(t),t]}}t.WorkspaceSymbolFeature=c},2850:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingMonitor=t.LanguageClient=t.TransportKind=void 0;const i=n(2081),s=n(7147),a=n(1017),c=n(9496),u=n(9763),l=n(4384),d=n(794),h=n(6560),p=n(3959),f=n(5712);o(n(6560),t),o(n(5734),t);var m,g,v,y,w,b;!function(e){e[e.stdio=0]="stdio",e[e.ipc=1]="ipc",e[e.pipe=2]="pipe",e[e.socket=3]="socket"}(m=t.TransportKind||(t.TransportKind={})),function(e){e.isSocket=function(e){const t=e;return t&&t.kind===m.socket&&u.number(t.port)}}(g||(g={})),function(e){e.is=function(e){return u.string(e.command)}}(v||(v={})),function(e){e.is=function(e){return u.string(e.module)}}(y||(y={})),function(e){e.is=function(e){let t=e;return t&&void 0!==t.writer&&void 0!==t.reader}}(w||(w={})),function(e){e.is=function(e){let t=e;return t&&void 0!==t.process&&"boolean"==typeof t.detached}}(b||(b={}));class _ extends l.BaseLanguageClient{constructor(e,t,n,r,o){let i,s,a,c,l;u.string(t)?(i=e,s=t,a=n,c=r,l=!!o):(i=e.toLowerCase(),s=e,a=t,c=n,l=r),void 0===l&&(l=!1),super(i,s,c),this._serverOptions=a,this._forceDebug=l,this._isInDebugMode=l;try{this.checkVersion()}catch(e){throw u.string(e.message)&&this.outputChannel.appendLine(e.message),e}}checkVersion(){const e=p(c.version);if(!e)throw new Error(`No valid VS Code version detected. Version string is: ${c.version}`);if(e.prerelease&&e.prerelease.length>0&&(e.prerelease=[]),!f(e,"^1.67.0"))throw new Error(`The language client requires VS Code version ^1.67.0 but received version ${c.version}`)}get isInDebugMode(){return this._isInDebugMode}async restart(){await this.stop(),this.isInDebugMode?(await new Promise((e=>setTimeout(e,1e3))),await this.start()):await this.start()}stop(e=2e3){return super.stop(e).finally((()=>{if(this._serverProcess){const e=this._serverProcess;this._serverProcess=void 0,void 0!==this._isDetached&&this._isDetached||this.checkProcessDied(e),this._isDetached=void 0}}))}checkProcessDied(e){e&&void 0!==e.pid&&setTimeout((()=>{try{void 0!==e.pid&&(process.kill(e.pid,0),(0,d.terminate)(e))}catch(e){}}),2e3)}handleConnectionClosed(){this._serverProcess=void 0,super.handleConnectionClosed()}fillInitializeParams(e){super.fillInitializeParams(e),null===e.processId&&(e.processId=process.pid)}createMessageTransports(e){function t(e,t){if(!e&&!t)return;const n=Object.create(null);return Object.keys(process.env).forEach((e=>n[e]=process.env[e])),t&&(n.ELECTRON_RUN_AS_NODE="1",n.ELECTRON_NO_ASAR="1"),e&&Object.keys(e).forEach((t=>n[t]=e[t])),n}const n=["--debug=","--debug-brk=","--inspect=","--inspect-brk="],r=["--debug","--debug-brk","--inspect","--inspect-brk"];function o(e){if(null===e.stdin||null===e.stdout||null===e.stderr)throw new Error("Process created without stdio streams")}const s=this._serverOptions;if(u.func(s))return s().then((t=>{if(l.MessageTransports.is(t))return this._isDetached=!!t.detached,t;if(w.is(t))return this._isDetached=!!t.detached,{reader:new h.StreamMessageReader(t.reader),writer:new h.StreamMessageWriter(t.writer)};{let n;return b.is(t)?(n=t.process,this._isDetached=t.detached):(n=t,this._isDetached=!1),n.stderr.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),{reader:new h.StreamMessageReader(n.stdout),writer:new h.StreamMessageWriter(n.stdin)}}}));let a,c=s;return c.run||c.debug?this._forceDebug||function(){let e=process.execArgv;return!!e&&e.some((e=>n.some((t=>e.startsWith(t)))||r.some((t=>e===t))))}()?(a=c.debug,this._isInDebugMode=!0):(a=c.run,this._isInDebugMode=!1):a=s,this._getServerWorkingDir(a.options).then((n=>{if(y.is(a)&&a.module){let r=a,s=r.transport||m.stdio;if(!r.runtime){let a;return new Promise(((c,l)=>{const d=(r.args&&r.args.slice())??[];s===m.ipc?d.push("--node-ipc"):s===m.stdio?d.push("--stdio"):s===m.pipe?(a=(0,h.generateRandomPipeName)(),d.push(`--pipe=${a}`)):g.isSocket(s)&&d.push(`--socket=${s.port}`),d.push(`--clientProcessId=${process.pid.toString()}`);const p=r.options??Object.create(null);if(p.env=t(p.env,!0),p.execArgv=p.execArgv||[],p.cwd=n,p.silent=!0,s===m.ipc||s===m.stdio){const t=i.fork(r.module,d||[],p);o(t),this._serverProcess=t,t.stderr.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),s===m.ipc?(t.stdout.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),c({reader:new h.IPCMessageReader(this._serverProcess),writer:new h.IPCMessageWriter(this._serverProcess)})):c({reader:new h.StreamMessageReader(t.stdout),writer:new h.StreamMessageWriter(t.stdin)})}else s===m.pipe?(0,h.createClientPipeTransport)(a).then((t=>{const n=i.fork(r.module,d||[],p);o(n),this._serverProcess=n,n.stderr.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),n.stdout.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),t.onConnected().then((e=>{c({reader:e[0],writer:e[1]})}),l)}),l):g.isSocket(s)&&(0,h.createClientSocketTransport)(s.port).then((t=>{const n=i.fork(r.module,d||[],p);o(n),this._serverProcess=n,n.stderr.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),n.stdout.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),t.onConnected().then((e=>{c({reader:e[0],writer:e[1]})}),l)}),l)}))}{const o=[],a=r.options??Object.create(null);a.execArgv&&a.execArgv.forEach((e=>o.push(e))),o.push(r.module),r.args&&r.args.forEach((e=>o.push(e)));const c=Object.create(null);c.cwd=n,c.env=t(a.env,!1);const l=this._getRuntimePath(r.runtime,n);let d;if(s===m.ipc?(c.stdio=[null,null,null,"ipc"],o.push("--node-ipc")):s===m.stdio?o.push("--stdio"):s===m.pipe?(d=(0,h.generateRandomPipeName)(),o.push(`--pipe=${d}`)):g.isSocket(s)&&o.push(`--socket=${s.port}`),o.push(`--clientProcessId=${process.pid.toString()}`),s===m.ipc||s===m.stdio){const t=i.spawn(l,o,c);return t&&t.pid?(this._serverProcess=t,t.stderr.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),s===m.ipc?(t.stdout.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),Promise.resolve({reader:new h.IPCMessageReader(t),writer:new h.IPCMessageWriter(t)})):Promise.resolve({reader:new h.StreamMessageReader(t.stdout),writer:new h.StreamMessageWriter(t.stdin)})):C(t,`Launching server using runtime ${l} failed.`)}if(s===m.pipe)return(0,h.createClientPipeTransport)(d).then((t=>{const n=i.spawn(l,o,c);return n&&n.pid?(this._serverProcess=n,n.stderr.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),n.stdout.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),t.onConnected().then((e=>({reader:e[0],writer:e[1]})))):C(n,`Launching server using runtime ${l} failed.`)}));if(g.isSocket(s))return(0,h.createClientSocketTransport)(s.port).then((t=>{const n=i.spawn(l,o,c);return n&&n.pid?(this._serverProcess=n,n.stderr.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),n.stdout.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),t.onConnected().then((e=>({reader:e[0],writer:e[1]})))):C(n,`Launching server using runtime ${l} failed.`)}))}}else if(v.is(a)&&a.command){const t=a,r=void 0!==a.args?a.args.slice(0):[];let o;const s=a.transport;if(s===m.stdio)r.push("--stdio");else if(s===m.pipe)o=(0,h.generateRandomPipeName)(),r.push(`--pipe=${o}`);else if(g.isSocket(s))r.push(`--socket=${s.port}`);else if(s===m.ipc)throw new Error("Transport kind ipc is not support for command executable");const c=Object.assign({},t.options);if(c.cwd=c.cwd||n,void 0===s||s===m.stdio){const n=i.spawn(t.command,r,c);return n&&n.pid?(n.stderr.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),this._serverProcess=n,this._isDetached=!!c.detached,Promise.resolve({reader:new h.StreamMessageReader(n.stdout),writer:new h.StreamMessageWriter(n.stdin)})):C(n,`Launching server using command ${t.command} failed.`)}if(s===m.pipe)return(0,h.createClientPipeTransport)(o).then((n=>{const o=i.spawn(t.command,r,c);return o&&o.pid?(this._serverProcess=o,this._isDetached=!!c.detached,o.stderr.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),o.stdout.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),n.onConnected().then((e=>({reader:e[0],writer:e[1]})))):C(o,`Launching server using command ${t.command} failed.`)}));if(g.isSocket(s))return(0,h.createClientSocketTransport)(s.port).then((n=>{const o=i.spawn(t.command,r,c);return o&&o.pid?(this._serverProcess=o,this._isDetached=!!c.detached,o.stderr.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),o.stdout.on("data",(t=>this.outputChannel.append(u.string(t)?t:t.toString(e)))),n.onConnected().then((e=>({reader:e[0],writer:e[1]})))):C(o,`Launching server using command ${t.command} failed.`)}))}return Promise.reject(new Error("Unsupported server configuration "+JSON.stringify(s,null,4)))}))}_getRuntimePath(e,t){if(a.isAbsolute(e))return e;const n=this._mainGetRootPath();if(void 0!==n){const t=a.join(n,e);if(s.existsSync(t))return t}if(void 0!==t){const n=a.join(t,e);if(s.existsSync(n))return n}return e}_mainGetRootPath(){let e=c.workspace.workspaceFolders;if(!e||0===e.length)return;let t=e[0];return"file"===t.uri.scheme?t.uri.fsPath:void 0}_getServerWorkingDir(e){let t=e&&e.cwd;return t||(t=this.clientOptions.workspaceFolder?this.clientOptions.workspaceFolder.uri.fsPath:this._mainGetRootPath()),t?new Promise((e=>{s.lstat(t,((n,r)=>{e(!n&&r.isDirectory()?t:void 0)}))})):Promise.resolve(void 0)}getLocale(){const e=process.env.VSCODE_NLS_CONFIG;if(void 0===e)return"en";let t;try{t=JSON.parse(e)}catch(e){}return void 0===t||"string"!=typeof t.locale?"en":t.locale}}function C(e,t){return null===e?Promise.reject(t):new Promise(((n,r)=>{e.on("error",(e=>{r(`${t} ${e}`)})),setImmediate((()=>r(t)))}))}t.LanguageClient=_,t.SettingMonitor=class{constructor(e,t){this._client=e,this._setting=t,this._listeners=[]}start(){return c.workspace.onDidChangeConfiguration(this.onDidChangeConfiguration,this,this._listeners),this.onDidChangeConfiguration(),new c.Disposable((()=>{this._client.needsStop()&&this._client.stop()}))}onDidChangeConfiguration(){let e=this._setting.indexOf("."),t=e>=0?this._setting.substr(0,e):this._setting,n=e>=0?this._setting.substr(e+1):void 0,r=n?c.workspace.getConfiguration(t).get(n,!1):c.workspace.getConfiguration(t);r&&this._client.needsStart()?this._client.start().catch((e=>this._client.error("Start failed after configuration change",e,"force"))):!r&&this._client.needsStop()&&this._client.stop().catch((e=>this._client.error("Stop failed after configuration change",e,"force")))}}},794:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.terminate=void 0;const r=n(2081),o=n(1017),i="win32"===process.platform,s="darwin"===process.platform,a="linux"===process.platform;t.terminate=function(e,t){if(i)try{let n={stdio:["pipe","pipe","ignore"]};return t&&(n.cwd=t),r.execFileSync("taskkill",["/T","/F","/PID",e.pid.toString()],n),!0}catch(e){return!1}else{if(!a&&!s)return e.kill("SIGKILL"),!0;try{var n=(0,o.join)(__dirname,"terminateProcess.sh");return!r.spawnSync(n,[e.pid.toString()]).error}catch(e){return!1}}}},1661:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.LSPErrorCodes=t.createProtocolConnection=void 0,o(n(4389),t),o(n(1674),t),o(n(6140),t),o(n(542),t);var i,s=n(3767);Object.defineProperty(t,"createProtocolConnection",{enumerable:!0,get:function(){return s.createProtocolConnection}}),(i=t.LSPErrorCodes||(t.LSPErrorCodes={})).lspReservedErrorRangeStart=-32899,i.RequestFailed=-32803,i.ServerCancelled=-32802,i.ContentModified=-32801,i.RequestCancelled=-32800,i.lspReservedErrorRangeEnd=-32800},3767:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.createProtocolConnection=void 0;const r=n(4389);t.createProtocolConnection=function(e,t,n,o){return r.ConnectionStrategy.is(o)&&(o={connectionStrategy:o}),(0,r.createMessageConnection)(e,t,n,o)}},6140:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProtocolNotificationType=t.ProtocolNotificationType0=t.ProtocolRequestType=t.ProtocolRequestType0=t.RegistrationType=t.MessageDirection=void 0;const r=n(4389);var o;(o=t.MessageDirection||(t.MessageDirection={})).clientToServer="clientToServer",o.serverToClient="serverToClient",o.both="both",t.RegistrationType=class{constructor(e){this.method=e}};class i extends r.RequestType0{constructor(e){super(e)}}t.ProtocolRequestType0=i;class s extends r.RequestType{constructor(e){super(e,r.ParameterStructures.byName)}}t.ProtocolRequestType=s;class a extends r.NotificationType0{constructor(e){super(e)}}t.ProtocolNotificationType0=a;class c extends r.NotificationType{constructor(e){super(e,r.ParameterStructures.byName)}}t.ProtocolNotificationType=c},2918:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.CallHierarchyOutgoingCallsRequest=t.CallHierarchyIncomingCallsRequest=t.CallHierarchyPrepareRequest=void 0;const r=n(6140);var o,i,s;(s=t.CallHierarchyPrepareRequest||(t.CallHierarchyPrepareRequest={})).method="textDocument/prepareCallHierarchy",s.messageDirection=r.MessageDirection.clientToServer,s.type=new r.ProtocolRequestType(s.method),(i=t.CallHierarchyIncomingCallsRequest||(t.CallHierarchyIncomingCallsRequest={})).method="callHierarchy/incomingCalls",i.messageDirection=r.MessageDirection.clientToServer,i.type=new r.ProtocolRequestType(i.method),(o=t.CallHierarchyOutgoingCallsRequest||(t.CallHierarchyOutgoingCallsRequest={})).method="callHierarchy/outgoingCalls",o.messageDirection=r.MessageDirection.clientToServer,o.type=new r.ProtocolRequestType(o.method)},9891:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ColorPresentationRequest=t.DocumentColorRequest=void 0;const r=n(6140);var o,i;(i=t.DocumentColorRequest||(t.DocumentColorRequest={})).method="textDocument/documentColor",i.messageDirection=r.MessageDirection.clientToServer,i.type=new r.ProtocolRequestType(i.method),(o=t.ColorPresentationRequest||(t.ColorPresentationRequest={})).method="textDocument/colorPresentation",o.messageDirection=r.MessageDirection.clientToServer,o.type=new r.ProtocolRequestType(o.method)},5934:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ConfigurationRequest=void 0;const r=n(6140);var o;(o=t.ConfigurationRequest||(t.ConfigurationRequest={})).method="workspace/configuration",o.messageDirection=r.MessageDirection.serverToClient,o.type=new r.ProtocolRequestType(o.method)},764:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DeclarationRequest=void 0;const r=n(6140);var o;(o=t.DeclarationRequest||(t.DeclarationRequest={})).method="textDocument/declaration",o.messageDirection=r.MessageDirection.clientToServer,o.type=new r.ProtocolRequestType(o.method)},9824:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DiagnosticRefreshRequest=t.WorkspaceDiagnosticRequest=t.DocumentDiagnosticRequest=t.DocumentDiagnosticReportKind=t.DiagnosticServerCancellationData=void 0;const r=n(4389),o=n(9533),i=n(6140);var s,a,c,u;(t.DiagnosticServerCancellationData||(t.DiagnosticServerCancellationData={})).is=function(e){const t=e;return t&&o.boolean(t.retriggerRequest)},(u=t.DocumentDiagnosticReportKind||(t.DocumentDiagnosticReportKind={})).Full="full",u.Unchanged="unchanged",(c=t.DocumentDiagnosticRequest||(t.DocumentDiagnosticRequest={})).method="textDocument/diagnostic",c.messageDirection=i.MessageDirection.clientToServer,c.type=new i.ProtocolRequestType(c.method),c.partialResult=new r.ProgressType,(a=t.WorkspaceDiagnosticRequest||(t.WorkspaceDiagnosticRequest={})).method="workspace/diagnostic",a.messageDirection=i.MessageDirection.clientToServer,a.type=new i.ProtocolRequestType(a.method),a.partialResult=new r.ProgressType,(s=t.DiagnosticRefreshRequest||(t.DiagnosticRefreshRequest={})).method="workspace/diagnostic/refresh",s.messageDirection=i.MessageDirection.clientToServer,s.type=new i.ProtocolRequestType0(s.method)},7846:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WillDeleteFilesRequest=t.DidDeleteFilesNotification=t.DidRenameFilesNotification=t.WillRenameFilesRequest=t.DidCreateFilesNotification=t.WillCreateFilesRequest=t.FileOperationPatternKind=void 0;const r=n(6140);var o,i,s,a,c,u,l;(l=t.FileOperationPatternKind||(t.FileOperationPatternKind={})).file="file",l.folder="folder",(u=t.WillCreateFilesRequest||(t.WillCreateFilesRequest={})).method="workspace/willCreateFiles",u.messageDirection=r.MessageDirection.clientToServer,u.type=new r.ProtocolRequestType(u.method),(c=t.DidCreateFilesNotification||(t.DidCreateFilesNotification={})).method="workspace/didCreateFiles",c.messageDirection=r.MessageDirection.clientToServer,c.type=new r.ProtocolNotificationType(c.method),(a=t.WillRenameFilesRequest||(t.WillRenameFilesRequest={})).method="workspace/willRenameFiles",a.messageDirection=r.MessageDirection.clientToServer,a.type=new r.ProtocolRequestType(a.method),(s=t.DidRenameFilesNotification||(t.DidRenameFilesNotification={})).method="workspace/didRenameFiles",s.messageDirection=r.MessageDirection.clientToServer,s.type=new r.ProtocolNotificationType(s.method),(i=t.DidDeleteFilesNotification||(t.DidDeleteFilesNotification={})).method="workspace/didDeleteFiles",i.messageDirection=r.MessageDirection.clientToServer,i.type=new r.ProtocolNotificationType(i.method),(o=t.WillDeleteFilesRequest||(t.WillDeleteFilesRequest={})).method="workspace/willDeleteFiles",o.messageDirection=r.MessageDirection.clientToServer,o.type=new r.ProtocolRequestType(o.method)},3394:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.FoldingRangeRequest=void 0;const r=n(6140);var o;(o=t.FoldingRangeRequest||(t.FoldingRangeRequest={})).method="textDocument/foldingRange",o.messageDirection=r.MessageDirection.clientToServer,o.type=new r.ProtocolRequestType(o.method)},2122:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ImplementationRequest=void 0;const r=n(6140);var o;(o=t.ImplementationRequest||(t.ImplementationRequest={})).method="textDocument/implementation",o.messageDirection=r.MessageDirection.clientToServer,o.type=new r.ProtocolRequestType(o.method)},9999:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InlayHintRefreshRequest=t.InlayHintResolveRequest=t.InlayHintRequest=void 0;const r=n(6140);var o,i,s;(s=t.InlayHintRequest||(t.InlayHintRequest={})).method="textDocument/inlayHint",s.messageDirection=r.MessageDirection.clientToServer,s.type=new r.ProtocolRequestType(s.method),(i=t.InlayHintResolveRequest||(t.InlayHintResolveRequest={})).method="inlayHint/resolve",i.messageDirection=r.MessageDirection.clientToServer,i.type=new r.ProtocolRequestType(i.method),(o=t.InlayHintRefreshRequest||(t.InlayHintRefreshRequest={})).method="workspace/inlayHint/refresh",o.messageDirection=r.MessageDirection.clientToServer,o.type=new r.ProtocolRequestType0(o.method)},5246:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InlineValueRefreshRequest=t.InlineValueRequest=void 0;const r=n(6140);var o,i;(i=t.InlineValueRequest||(t.InlineValueRequest={})).method="textDocument/inlineValue",i.messageDirection=r.MessageDirection.clientToServer,i.type=new r.ProtocolRequestType(i.method),(o=t.InlineValueRefreshRequest||(t.InlineValueRefreshRequest={})).method="workspace/inlineValue/refresh",o.messageDirection=r.MessageDirection.clientToServer,o.type=new r.ProtocolRequestType0(o.method)},542:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkspaceSymbolRequest=t.CodeActionResolveRequest=t.CodeActionRequest=t.DocumentSymbolRequest=t.DocumentHighlightRequest=t.ReferencesRequest=t.DefinitionRequest=t.SignatureHelpRequest=t.SignatureHelpTriggerKind=t.HoverRequest=t.CompletionResolveRequest=t.CompletionRequest=t.CompletionTriggerKind=t.PublishDiagnosticsNotification=t.WatchKind=t.RelativePattern=t.FileChangeType=t.DidChangeWatchedFilesNotification=t.WillSaveTextDocumentWaitUntilRequest=t.WillSaveTextDocumentNotification=t.TextDocumentSaveReason=t.DidSaveTextDocumentNotification=t.DidCloseTextDocumentNotification=t.DidChangeTextDocumentNotification=t.TextDocumentContentChangeEvent=t.DidOpenTextDocumentNotification=t.TextDocumentSyncKind=t.TelemetryEventNotification=t.LogMessageNotification=t.ShowMessageRequest=t.ShowMessageNotification=t.MessageType=t.DidChangeConfigurationNotification=t.ExitNotification=t.ShutdownRequest=t.InitializedNotification=t.InitializeErrorCodes=t.InitializeRequest=t.WorkDoneProgressOptions=t.TextDocumentRegistrationOptions=t.StaticRegistrationOptions=t.PositionEncodingKind=t.FailureHandlingKind=t.ResourceOperationKind=t.UnregistrationRequest=t.RegistrationRequest=t.DocumentSelector=t.NotebookCellTextDocumentFilter=t.NotebookDocumentFilter=t.TextDocumentFilter=void 0,t.TypeHierarchySubtypesRequest=t.TypeHierarchyPrepareRequest=t.MonikerRequest=t.MonikerKind=t.UniquenessLevel=t.WillDeleteFilesRequest=t.DidDeleteFilesNotification=t.WillRenameFilesRequest=t.DidRenameFilesNotification=t.WillCreateFilesRequest=t.DidCreateFilesNotification=t.FileOperationPatternKind=t.LinkedEditingRangeRequest=t.ShowDocumentRequest=t.SemanticTokensRegistrationType=t.SemanticTokensRefreshRequest=t.SemanticTokensRangeRequest=t.SemanticTokensDeltaRequest=t.SemanticTokensRequest=t.TokenFormat=t.CallHierarchyPrepareRequest=t.CallHierarchyOutgoingCallsRequest=t.CallHierarchyIncomingCallsRequest=t.WorkDoneProgressCancelNotification=t.WorkDoneProgressCreateRequest=t.WorkDoneProgress=t.SelectionRangeRequest=t.DeclarationRequest=t.FoldingRangeRequest=t.ColorPresentationRequest=t.DocumentColorRequest=t.ConfigurationRequest=t.DidChangeWorkspaceFoldersNotification=t.WorkspaceFoldersRequest=t.TypeDefinitionRequest=t.ImplementationRequest=t.ApplyWorkspaceEditRequest=t.ExecuteCommandRequest=t.PrepareRenameRequest=t.RenameRequest=t.PrepareSupportDefaultBehavior=t.DocumentOnTypeFormattingRequest=t.DocumentRangeFormattingRequest=t.DocumentFormattingRequest=t.DocumentLinkResolveRequest=t.DocumentLinkRequest=t.CodeLensRefreshRequest=t.CodeLensResolveRequest=t.CodeLensRequest=t.WorkspaceSymbolResolveRequest=void 0,t.DidCloseNotebookDocumentNotification=t.DidSaveNotebookDocumentNotification=t.DidChangeNotebookDocumentNotification=t.NotebookCellArrayChange=t.DidOpenNotebookDocumentNotification=t.NotebookDocumentSyncRegistrationType=t.NotebookDocument=t.NotebookCell=t.ExecutionSummary=t.NotebookCellKind=t.DiagnosticRefreshRequest=t.WorkspaceDiagnosticRequest=t.DocumentDiagnosticRequest=t.DocumentDiagnosticReportKind=t.DiagnosticServerCancellationData=t.InlayHintRefreshRequest=t.InlayHintResolveRequest=t.InlayHintRequest=t.InlineValueRefreshRequest=t.InlineValueRequest=t.TypeHierarchySupertypesRequest=void 0;const r=n(6140),o=n(1674),i=n(9533),s=n(2122);Object.defineProperty(t,"ImplementationRequest",{enumerable:!0,get:function(){return s.ImplementationRequest}});const a=n(1589);Object.defineProperty(t,"TypeDefinitionRequest",{enumerable:!0,get:function(){return a.TypeDefinitionRequest}});const c=n(8744);Object.defineProperty(t,"WorkspaceFoldersRequest",{enumerable:!0,get:function(){return c.WorkspaceFoldersRequest}}),Object.defineProperty(t,"DidChangeWorkspaceFoldersNotification",{enumerable:!0,get:function(){return c.DidChangeWorkspaceFoldersNotification}});const u=n(5934);Object.defineProperty(t,"ConfigurationRequest",{enumerable:!0,get:function(){return u.ConfigurationRequest}});const l=n(9891);Object.defineProperty(t,"DocumentColorRequest",{enumerable:!0,get:function(){return l.DocumentColorRequest}}),Object.defineProperty(t,"ColorPresentationRequest",{enumerable:!0,get:function(){return l.ColorPresentationRequest}});const d=n(3394);Object.defineProperty(t,"FoldingRangeRequest",{enumerable:!0,get:function(){return d.FoldingRangeRequest}});const h=n(764);Object.defineProperty(t,"DeclarationRequest",{enumerable:!0,get:function(){return h.DeclarationRequest}});const p=n(5206);Object.defineProperty(t,"SelectionRangeRequest",{enumerable:!0,get:function(){return p.SelectionRangeRequest}});const f=n(1862);Object.defineProperty(t,"WorkDoneProgress",{enumerable:!0,get:function(){return f.WorkDoneProgress}}),Object.defineProperty(t,"WorkDoneProgressCreateRequest",{enumerable:!0,get:function(){return f.WorkDoneProgressCreateRequest}}),Object.defineProperty(t,"WorkDoneProgressCancelNotification",{enumerable:!0,get:function(){return f.WorkDoneProgressCancelNotification}});const m=n(2918);Object.defineProperty(t,"CallHierarchyIncomingCallsRequest",{enumerable:!0,get:function(){return m.CallHierarchyIncomingCallsRequest}}),Object.defineProperty(t,"CallHierarchyOutgoingCallsRequest",{enumerable:!0,get:function(){return m.CallHierarchyOutgoingCallsRequest}}),Object.defineProperty(t,"CallHierarchyPrepareRequest",{enumerable:!0,get:function(){return m.CallHierarchyPrepareRequest}});const g=n(9434);Object.defineProperty(t,"TokenFormat",{enumerable:!0,get:function(){return g.TokenFormat}}),Object.defineProperty(t,"SemanticTokensRequest",{enumerable:!0,get:function(){return g.SemanticTokensRequest}}),Object.defineProperty(t,"SemanticTokensDeltaRequest",{enumerable:!0,get:function(){return g.SemanticTokensDeltaRequest}}),Object.defineProperty(t,"SemanticTokensRangeRequest",{enumerable:!0,get:function(){return g.SemanticTokensRangeRequest}}),Object.defineProperty(t,"SemanticTokensRefreshRequest",{enumerable:!0,get:function(){return g.SemanticTokensRefreshRequest}}),Object.defineProperty(t,"SemanticTokensRegistrationType",{enumerable:!0,get:function(){return g.SemanticTokensRegistrationType}});const v=n(5726);Object.defineProperty(t,"ShowDocumentRequest",{enumerable:!0,get:function(){return v.ShowDocumentRequest}});const y=n(6305);Object.defineProperty(t,"LinkedEditingRangeRequest",{enumerable:!0,get:function(){return y.LinkedEditingRangeRequest}});const w=n(7846);Object.defineProperty(t,"FileOperationPatternKind",{enumerable:!0,get:function(){return w.FileOperationPatternKind}}),Object.defineProperty(t,"DidCreateFilesNotification",{enumerable:!0,get:function(){return w.DidCreateFilesNotification}}),Object.defineProperty(t,"WillCreateFilesRequest",{enumerable:!0,get:function(){return w.WillCreateFilesRequest}}),Object.defineProperty(t,"DidRenameFilesNotification",{enumerable:!0,get:function(){return w.DidRenameFilesNotification}}),Object.defineProperty(t,"WillRenameFilesRequest",{enumerable:!0,get:function(){return w.WillRenameFilesRequest}}),Object.defineProperty(t,"DidDeleteFilesNotification",{enumerable:!0,get:function(){return w.DidDeleteFilesNotification}}),Object.defineProperty(t,"WillDeleteFilesRequest",{enumerable:!0,get:function(){return w.WillDeleteFilesRequest}});const b=n(3443);Object.defineProperty(t,"UniquenessLevel",{enumerable:!0,get:function(){return b.UniquenessLevel}}),Object.defineProperty(t,"MonikerKind",{enumerable:!0,get:function(){return b.MonikerKind}}),Object.defineProperty(t,"MonikerRequest",{enumerable:!0,get:function(){return b.MonikerRequest}});const _=n(3693);Object.defineProperty(t,"TypeHierarchyPrepareRequest",{enumerable:!0,get:function(){return _.TypeHierarchyPrepareRequest}}),Object.defineProperty(t,"TypeHierarchySubtypesRequest",{enumerable:!0,get:function(){return _.TypeHierarchySubtypesRequest}}),Object.defineProperty(t,"TypeHierarchySupertypesRequest",{enumerable:!0,get:function(){return _.TypeHierarchySupertypesRequest}});const C=n(5246);Object.defineProperty(t,"InlineValueRequest",{enumerable:!0,get:function(){return C.InlineValueRequest}}),Object.defineProperty(t,"InlineValueRefreshRequest",{enumerable:!0,get:function(){return C.InlineValueRefreshRequest}});const S=n(9999);Object.defineProperty(t,"InlayHintRequest",{enumerable:!0,get:function(){return S.InlayHintRequest}}),Object.defineProperty(t,"InlayHintResolveRequest",{enumerable:!0,get:function(){return S.InlayHintResolveRequest}}),Object.defineProperty(t,"InlayHintRefreshRequest",{enumerable:!0,get:function(){return S.InlayHintRefreshRequest}});const T=n(9824);Object.defineProperty(t,"DiagnosticServerCancellationData",{enumerable:!0,get:function(){return T.DiagnosticServerCancellationData}}),Object.defineProperty(t,"DocumentDiagnosticReportKind",{enumerable:!0,get:function(){return T.DocumentDiagnosticReportKind}}),Object.defineProperty(t,"DocumentDiagnosticRequest",{enumerable:!0,get:function(){return T.DocumentDiagnosticRequest}}),Object.defineProperty(t,"WorkspaceDiagnosticRequest",{enumerable:!0,get:function(){return T.WorkspaceDiagnosticRequest}}),Object.defineProperty(t,"DiagnosticRefreshRequest",{enumerable:!0,get:function(){return T.DiagnosticRefreshRequest}});const E=n(7169);var x,D,k,R,P,N,O,I,A,F,M,q,L,j,H,$,U,B,W,z,G,V,K,X,Y,J,Q,Z,ee,te,ne,re,oe,ie,se,ae,ce,ue,le,de,he,pe,fe,me,ge,ve,ye,we,be,_e,Ce,Se,Te,Ee,xe,De,ke,Re,Pe;Object.defineProperty(t,"NotebookCellKind",{enumerable:!0,get:function(){return E.NotebookCellKind}}),Object.defineProperty(t,"ExecutionSummary",{enumerable:!0,get:function(){return E.ExecutionSummary}}),Object.defineProperty(t,"NotebookCell",{enumerable:!0,get:function(){return E.NotebookCell}}),Object.defineProperty(t,"NotebookDocument",{enumerable:!0,get:function(){return E.NotebookDocument}}),Object.defineProperty(t,"NotebookDocumentSyncRegistrationType",{enumerable:!0,get:function(){return E.NotebookDocumentSyncRegistrationType}}),Object.defineProperty(t,"DidOpenNotebookDocumentNotification",{enumerable:!0,get:function(){return E.DidOpenNotebookDocumentNotification}}),Object.defineProperty(t,"NotebookCellArrayChange",{enumerable:!0,get:function(){return E.NotebookCellArrayChange}}),Object.defineProperty(t,"DidChangeNotebookDocumentNotification",{enumerable:!0,get:function(){return E.DidChangeNotebookDocumentNotification}}),Object.defineProperty(t,"DidSaveNotebookDocumentNotification",{enumerable:!0,get:function(){return E.DidSaveNotebookDocumentNotification}}),Object.defineProperty(t,"DidCloseNotebookDocumentNotification",{enumerable:!0,get:function(){return E.DidCloseNotebookDocumentNotification}}),function(e){e.is=function(e){const t=e;return i.string(t.language)||i.string(t.scheme)||i.string(t.pattern)}}(x=t.TextDocumentFilter||(t.TextDocumentFilter={})),function(e){e.is=function(e){const t=e;return i.objectLiteral(t)&&(i.string(t.notebookType)||i.string(t.scheme)||i.string(t.pattern))}}(D=t.NotebookDocumentFilter||(t.NotebookDocumentFilter={})),function(e){e.is=function(e){const t=e;return i.objectLiteral(t)&&(i.string(t.notebook)||D.is(t.notebook))&&(void 0===t.language||i.string(t.language))}}(k=t.NotebookCellTextDocumentFilter||(t.NotebookCellTextDocumentFilter={})),function(e){e.is=function(e){if(!Array.isArray(e))return!1;for(let t of e)if(!i.string(t)&&!x.is(t)&&!k.is(t))return!1;return!0}}(R=t.DocumentSelector||(t.DocumentSelector={})),(Pe=t.RegistrationRequest||(t.RegistrationRequest={})).method="client/registerCapability",Pe.messageDirection=r.MessageDirection.serverToClient,Pe.type=new r.ProtocolRequestType(Pe.method),(Re=t.UnregistrationRequest||(t.UnregistrationRequest={})).method="client/unregisterCapability",Re.messageDirection=r.MessageDirection.serverToClient,Re.type=new r.ProtocolRequestType(Re.method),(ke=t.ResourceOperationKind||(t.ResourceOperationKind={})).Create="create",ke.Rename="rename",ke.Delete="delete",(De=t.FailureHandlingKind||(t.FailureHandlingKind={})).Abort="abort",De.Transactional="transactional",De.TextOnlyTransactional="textOnlyTransactional",De.Undo="undo",(xe=t.PositionEncodingKind||(t.PositionEncodingKind={})).UTF8="utf-8",xe.UTF16="utf-16",xe.UTF32="utf-32",(t.StaticRegistrationOptions||(t.StaticRegistrationOptions={})).hasId=function(e){const t=e;return t&&i.string(t.id)&&t.id.length>0},(t.TextDocumentRegistrationOptions||(t.TextDocumentRegistrationOptions={})).is=function(e){const t=e;return t&&(null===t.documentSelector||R.is(t.documentSelector))},(Ee=t.WorkDoneProgressOptions||(t.WorkDoneProgressOptions={})).is=function(e){const t=e;return i.objectLiteral(t)&&(void 0===t.workDoneProgress||i.boolean(t.workDoneProgress))},Ee.hasWorkDoneProgress=function(e){const t=e;return t&&i.boolean(t.workDoneProgress)},(Te=t.InitializeRequest||(t.InitializeRequest={})).method="initialize",Te.messageDirection=r.MessageDirection.clientToServer,Te.type=new r.ProtocolRequestType(Te.method),(t.InitializeErrorCodes||(t.InitializeErrorCodes={})).unknownProtocolVersion=1,(Se=t.InitializedNotification||(t.InitializedNotification={})).method="initialized",Se.messageDirection=r.MessageDirection.clientToServer,Se.type=new r.ProtocolNotificationType(Se.method),(Ce=t.ShutdownRequest||(t.ShutdownRequest={})).method="shutdown",Ce.messageDirection=r.MessageDirection.clientToServer,Ce.type=new r.ProtocolRequestType0(Ce.method),(_e=t.ExitNotification||(t.ExitNotification={})).method="exit",_e.messageDirection=r.MessageDirection.clientToServer,_e.type=new r.ProtocolNotificationType0(_e.method),(be=t.DidChangeConfigurationNotification||(t.DidChangeConfigurationNotification={})).method="workspace/didChangeConfiguration",be.messageDirection=r.MessageDirection.clientToServer,be.type=new r.ProtocolNotificationType(be.method),(we=t.MessageType||(t.MessageType={})).Error=1,we.Warning=2,we.Info=3,we.Log=4,(ye=t.ShowMessageNotification||(t.ShowMessageNotification={})).method="window/showMessage",ye.messageDirection=r.MessageDirection.serverToClient,ye.type=new r.ProtocolNotificationType(ye.method),(ve=t.ShowMessageRequest||(t.ShowMessageRequest={})).method="window/showMessageRequest",ve.messageDirection=r.MessageDirection.serverToClient,ve.type=new r.ProtocolRequestType(ve.method),(ge=t.LogMessageNotification||(t.LogMessageNotification={})).method="window/logMessage",ge.messageDirection=r.MessageDirection.serverToClient,ge.type=new r.ProtocolNotificationType(ge.method),(me=t.TelemetryEventNotification||(t.TelemetryEventNotification={})).method="telemetry/event",me.messageDirection=r.MessageDirection.serverToClient,me.type=new r.ProtocolNotificationType(me.method),(fe=t.TextDocumentSyncKind||(t.TextDocumentSyncKind={})).None=0,fe.Full=1,fe.Incremental=2,(pe=t.DidOpenTextDocumentNotification||(t.DidOpenTextDocumentNotification={})).method="textDocument/didOpen",pe.messageDirection=r.MessageDirection.clientToServer,pe.type=new r.ProtocolNotificationType(pe.method),(he=t.TextDocumentContentChangeEvent||(t.TextDocumentContentChangeEvent={})).isIncremental=function(e){let t=e;return null!=t&&"string"==typeof t.text&&void 0!==t.range&&(void 0===t.rangeLength||"number"==typeof t.rangeLength)},he.isFull=function(e){let t=e;return null!=t&&"string"==typeof t.text&&void 0===t.range&&void 0===t.rangeLength},(de=t.DidChangeTextDocumentNotification||(t.DidChangeTextDocumentNotification={})).method="textDocument/didChange",de.messageDirection=r.MessageDirection.clientToServer,de.type=new r.ProtocolNotificationType(de.method),(le=t.DidCloseTextDocumentNotification||(t.DidCloseTextDocumentNotification={})).method="textDocument/didClose",le.messageDirection=r.MessageDirection.clientToServer,le.type=new r.ProtocolNotificationType(le.method),(ue=t.DidSaveTextDocumentNotification||(t.DidSaveTextDocumentNotification={})).method="textDocument/didSave",ue.messageDirection=r.MessageDirection.clientToServer,ue.type=new r.ProtocolNotificationType(ue.method),(ce=t.TextDocumentSaveReason||(t.TextDocumentSaveReason={})).Manual=1,ce.AfterDelay=2,ce.FocusOut=3,(ae=t.WillSaveTextDocumentNotification||(t.WillSaveTextDocumentNotification={})).method="textDocument/willSave",ae.messageDirection=r.MessageDirection.clientToServer,ae.type=new r.ProtocolNotificationType(ae.method),(se=t.WillSaveTextDocumentWaitUntilRequest||(t.WillSaveTextDocumentWaitUntilRequest={})).method="textDocument/willSaveWaitUntil",se.messageDirection=r.MessageDirection.clientToServer,se.type=new r.ProtocolRequestType(se.method),(ie=t.DidChangeWatchedFilesNotification||(t.DidChangeWatchedFilesNotification={})).method="workspace/didChangeWatchedFiles",ie.messageDirection=r.MessageDirection.clientToServer,ie.type=new r.ProtocolNotificationType(ie.method),(oe=t.FileChangeType||(t.FileChangeType={})).Created=1,oe.Changed=2,oe.Deleted=3,(t.RelativePattern||(t.RelativePattern={})).is=function(e){const t=e;return i.objectLiteral(t)&&(o.URI.is(t.baseUri)||o.WorkspaceFolder.is(t.baseUri))&&i.string(t.pattern)},(re=t.WatchKind||(t.WatchKind={})).Create=1,re.Change=2,re.Delete=4,(ne=t.PublishDiagnosticsNotification||(t.PublishDiagnosticsNotification={})).method="textDocument/publishDiagnostics",ne.messageDirection=r.MessageDirection.serverToClient,ne.type=new r.ProtocolNotificationType(ne.method),(te=t.CompletionTriggerKind||(t.CompletionTriggerKind={})).Invoked=1,te.TriggerCharacter=2,te.TriggerForIncompleteCompletions=3,(ee=t.CompletionRequest||(t.CompletionRequest={})).method="textDocument/completion",ee.messageDirection=r.MessageDirection.clientToServer,ee.type=new r.ProtocolRequestType(ee.method),(Z=t.CompletionResolveRequest||(t.CompletionResolveRequest={})).method="completionItem/resolve",Z.messageDirection=r.MessageDirection.clientToServer,Z.type=new r.ProtocolRequestType(Z.method),(Q=t.HoverRequest||(t.HoverRequest={})).method="textDocument/hover",Q.messageDirection=r.MessageDirection.clientToServer,Q.type=new r.ProtocolRequestType(Q.method),(J=t.SignatureHelpTriggerKind||(t.SignatureHelpTriggerKind={})).Invoked=1,J.TriggerCharacter=2,J.ContentChange=3,(Y=t.SignatureHelpRequest||(t.SignatureHelpRequest={})).method="textDocument/signatureHelp",Y.messageDirection=r.MessageDirection.clientToServer,Y.type=new r.ProtocolRequestType(Y.method),(X=t.DefinitionRequest||(t.DefinitionRequest={})).method="textDocument/definition",X.messageDirection=r.MessageDirection.clientToServer,X.type=new r.ProtocolRequestType(X.method),(K=t.ReferencesRequest||(t.ReferencesRequest={})).method="textDocument/references",K.messageDirection=r.MessageDirection.clientToServer,K.type=new r.ProtocolRequestType(K.method),(V=t.DocumentHighlightRequest||(t.DocumentHighlightRequest={})).method="textDocument/documentHighlight",V.messageDirection=r.MessageDirection.clientToServer,V.type=new r.ProtocolRequestType(V.method),(G=t.DocumentSymbolRequest||(t.DocumentSymbolRequest={})).method="textDocument/documentSymbol",G.messageDirection=r.MessageDirection.clientToServer,G.type=new r.ProtocolRequestType(G.method),(z=t.CodeActionRequest||(t.CodeActionRequest={})).method="textDocument/codeAction",z.messageDirection=r.MessageDirection.clientToServer,z.type=new r.ProtocolRequestType(z.method),(W=t.CodeActionResolveRequest||(t.CodeActionResolveRequest={})).method="codeAction/resolve",W.messageDirection=r.MessageDirection.clientToServer,W.type=new r.ProtocolRequestType(W.method),(B=t.WorkspaceSymbolRequest||(t.WorkspaceSymbolRequest={})).method="workspace/symbol",B.messageDirection=r.MessageDirection.clientToServer,B.type=new r.ProtocolRequestType(B.method),(U=t.WorkspaceSymbolResolveRequest||(t.WorkspaceSymbolResolveRequest={})).method="workspaceSymbol/resolve",U.messageDirection=r.MessageDirection.clientToServer,U.type=new r.ProtocolRequestType(U.method),($=t.CodeLensRequest||(t.CodeLensRequest={})).method="textDocument/codeLens",$.messageDirection=r.MessageDirection.clientToServer,$.type=new r.ProtocolRequestType($.method),(H=t.CodeLensResolveRequest||(t.CodeLensResolveRequest={})).method="codeLens/resolve",H.messageDirection=r.MessageDirection.clientToServer,H.type=new r.ProtocolRequestType(H.method),(j=t.CodeLensRefreshRequest||(t.CodeLensRefreshRequest={})).method="workspace/codeLens/refresh",j.messageDirection=r.MessageDirection.serverToClient,j.type=new r.ProtocolRequestType0(j.method),(L=t.DocumentLinkRequest||(t.DocumentLinkRequest={})).method="textDocument/documentLink",L.messageDirection=r.MessageDirection.clientToServer,L.type=new r.ProtocolRequestType(L.method),(q=t.DocumentLinkResolveRequest||(t.DocumentLinkResolveRequest={})).method="documentLink/resolve",q.messageDirection=r.MessageDirection.clientToServer,q.type=new r.ProtocolRequestType(q.method),(M=t.DocumentFormattingRequest||(t.DocumentFormattingRequest={})).method="textDocument/formatting",M.messageDirection=r.MessageDirection.clientToServer,M.type=new r.ProtocolRequestType(M.method),(F=t.DocumentRangeFormattingRequest||(t.DocumentRangeFormattingRequest={})).method="textDocument/rangeFormatting",F.messageDirection=r.MessageDirection.clientToServer,F.type=new r.ProtocolRequestType(F.method),(A=t.DocumentOnTypeFormattingRequest||(t.DocumentOnTypeFormattingRequest={})).method="textDocument/onTypeFormatting",A.messageDirection=r.MessageDirection.clientToServer,A.type=new r.ProtocolRequestType(A.method),(t.PrepareSupportDefaultBehavior||(t.PrepareSupportDefaultBehavior={})).Identifier=1,(I=t.RenameRequest||(t.RenameRequest={})).method="textDocument/rename",I.messageDirection=r.MessageDirection.clientToServer,I.type=new r.ProtocolRequestType(I.method),(O=t.PrepareRenameRequest||(t.PrepareRenameRequest={})).method="textDocument/prepareRename",O.messageDirection=r.MessageDirection.clientToServer,O.type=new r.ProtocolRequestType(O.method),(N=t.ExecuteCommandRequest||(t.ExecuteCommandRequest={})).method="workspace/executeCommand",N.messageDirection=r.MessageDirection.clientToServer,N.type=new r.ProtocolRequestType(N.method),(P=t.ApplyWorkspaceEditRequest||(t.ApplyWorkspaceEditRequest={})).method="workspace/applyEdit",P.messageDirection=r.MessageDirection.serverToClient,P.type=new r.ProtocolRequestType("workspace/applyEdit")},6305:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LinkedEditingRangeRequest=void 0;const r=n(6140);var o;(o=t.LinkedEditingRangeRequest||(t.LinkedEditingRangeRequest={})).method="textDocument/linkedEditingRange",o.messageDirection=r.MessageDirection.clientToServer,o.type=new r.ProtocolRequestType(o.method)},3443:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MonikerRequest=t.MonikerKind=t.UniquenessLevel=void 0;const r=n(6140);var o,i,s;(s=t.UniquenessLevel||(t.UniquenessLevel={})).document="document",s.project="project",s.group="group",s.scheme="scheme",s.global="global",(i=t.MonikerKind||(t.MonikerKind={})).$import="import",i.$export="export",i.local="local",(o=t.MonikerRequest||(t.MonikerRequest={})).method="textDocument/moniker",o.messageDirection=r.MessageDirection.clientToServer,o.type=new r.ProtocolRequestType(o.method)},7169:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DidCloseNotebookDocumentNotification=t.DidSaveNotebookDocumentNotification=t.DidChangeNotebookDocumentNotification=t.NotebookCellArrayChange=t.DidOpenNotebookDocumentNotification=t.NotebookDocumentSyncRegistrationType=t.NotebookDocument=t.NotebookCell=t.ExecutionSummary=t.NotebookCellKind=void 0;const r=n(1674),o=n(9533),i=n(6140);var s,a,c,u,l,d,h,p,f,m;!function(e){e.Markup=1,e.Code=2,e.is=function(e){return 1===e||2===e}}(s=t.NotebookCellKind||(t.NotebookCellKind={})),function(e){e.create=function(e,t){const n={executionOrder:e};return!0!==t&&!1!==t||(n.success=t),n},e.is=function(e){const t=e;return o.objectLiteral(t)&&r.uinteger.is(t.executionOrder)&&(void 0===t.success||o.boolean(t.success))},e.equals=function(e,t){return e===t||null!=e&&null!=t&&e.executionOrder===t.executionOrder&&e.success===t.success}}(a=t.ExecutionSummary||(t.ExecutionSummary={})),function(e){function t(e,n){if(e===n)return!0;if(null==e||null==n)return!1;if(typeof e!=typeof n)return!1;if("object"!=typeof e)return!1;const r=Array.isArray(e),i=Array.isArray(n);if(r!==i)return!1;if(r&&i){if(e.length!==n.length)return!1;for(let r=0;r<e.length;r++)if(!t(e[r],n[r]))return!1}if(o.objectLiteral(e)&&o.objectLiteral(n)){const r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;if(r.sort(),o.sort(),!t(r,o))return!1;for(let o=0;o<r.length;o++){const i=r[o];if(!t(e[i],n[i]))return!1}}return!0}e.create=function(e,t){return{kind:e,document:t}},e.is=function(e){const t=e;return o.objectLiteral(t)&&s.is(t.kind)&&r.DocumentUri.is(t.document)&&(void 0===t.metadata||o.objectLiteral(t.metadata))},e.diff=function(e,n){const r=new Set;return e.document!==n.document&&r.add("document"),e.kind!==n.kind&&r.add("kind"),e.executionSummary!==n.executionSummary&&r.add("executionSummary"),void 0===e.metadata&&void 0===n.metadata||t(e.metadata,n.metadata)||r.add("metadata"),void 0===e.executionSummary&&void 0===n.executionSummary||a.equals(e.executionSummary,n.executionSummary)||r.add("executionSummary"),r}}(c=t.NotebookCell||(t.NotebookCell={})),(m=t.NotebookDocument||(t.NotebookDocument={})).create=function(e,t,n,r){return{uri:e,notebookType:t,version:n,cells:r}},m.is=function(e){const t=e;return o.objectLiteral(t)&&o.string(t.uri)&&r.integer.is(t.version)&&o.typedArray(t.cells,c.is)},function(e){e.method="notebookDocument/sync",e.messageDirection=i.MessageDirection.clientToServer,e.type=new i.RegistrationType(e.method)}(u=t.NotebookDocumentSyncRegistrationType||(t.NotebookDocumentSyncRegistrationType={})),(f=t.DidOpenNotebookDocumentNotification||(t.DidOpenNotebookDocumentNotification={})).method="notebookDocument/didOpen",f.messageDirection=i.MessageDirection.clientToServer,f.type=new i.ProtocolNotificationType(f.method),f.registrationMethod=u.method,(p=t.NotebookCellArrayChange||(t.NotebookCellArrayChange={})).is=function(e){const t=e;return o.objectLiteral(t)&&r.uinteger.is(t.start)&&r.uinteger.is(t.deleteCount)&&(void 0===t.cells||o.typedArray(t.cells,c.is))},p.create=function(e,t,n){const r={start:e,deleteCount:t};return void 0!==n&&(r.cells=n),r},(h=t.DidChangeNotebookDocumentNotification||(t.DidChangeNotebookDocumentNotification={})).method="notebookDocument/didChange",h.messageDirection=i.MessageDirection.clientToServer,h.type=new i.ProtocolNotificationType(h.method),h.registrationMethod=u.method,(d=t.DidSaveNotebookDocumentNotification||(t.DidSaveNotebookDocumentNotification={})).method="notebookDocument/didSave",d.messageDirection=i.MessageDirection.clientToServer,d.type=new i.ProtocolNotificationType(d.method),d.registrationMethod=u.method,(l=t.DidCloseNotebookDocumentNotification||(t.DidCloseNotebookDocumentNotification={})).method="notebookDocument/didClose",l.messageDirection=i.MessageDirection.clientToServer,l.type=new i.ProtocolNotificationType(l.method),l.registrationMethod=u.method},1862:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WorkDoneProgressCancelNotification=t.WorkDoneProgressCreateRequest=t.WorkDoneProgress=void 0;const r=n(4389),o=n(6140);var i,s,a;(a=t.WorkDoneProgress||(t.WorkDoneProgress={})).type=new r.ProgressType,a.is=function(e){return e===a.type},(s=t.WorkDoneProgressCreateRequest||(t.WorkDoneProgressCreateRequest={})).method="window/workDoneProgress/create",s.messageDirection=o.MessageDirection.serverToClient,s.type=new o.ProtocolRequestType(s.method),(i=t.WorkDoneProgressCancelNotification||(t.WorkDoneProgressCancelNotification={})).method="window/workDoneProgress/cancel",i.messageDirection=o.MessageDirection.clientToServer,i.type=new o.ProtocolNotificationType(i.method)},5206:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SelectionRangeRequest=void 0;const r=n(6140);var o;(o=t.SelectionRangeRequest||(t.SelectionRangeRequest={})).method="textDocument/selectionRange",o.messageDirection=r.MessageDirection.clientToServer,o.type=new r.ProtocolRequestType(o.method)},9434:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SemanticTokensRefreshRequest=t.SemanticTokensRangeRequest=t.SemanticTokensDeltaRequest=t.SemanticTokensRequest=t.SemanticTokensRegistrationType=t.TokenFormat=void 0;const r=n(6140);var o,i,s,a,c;(t.TokenFormat||(t.TokenFormat={})).Relative="relative",function(e){e.method="textDocument/semanticTokens",e.type=new r.RegistrationType(e.method)}(o=t.SemanticTokensRegistrationType||(t.SemanticTokensRegistrationType={})),(c=t.SemanticTokensRequest||(t.SemanticTokensRequest={})).method="textDocument/semanticTokens/full",c.messageDirection=r.MessageDirection.clientToServer,c.type=new r.ProtocolRequestType(c.method),c.registrationMethod=o.method,(a=t.SemanticTokensDeltaRequest||(t.SemanticTokensDeltaRequest={})).method="textDocument/semanticTokens/full/delta",a.messageDirection=r.MessageDirection.clientToServer,a.type=new r.ProtocolRequestType(a.method),a.registrationMethod=o.method,(s=t.SemanticTokensRangeRequest||(t.SemanticTokensRangeRequest={})).method="textDocument/semanticTokens/range",s.messageDirection=r.MessageDirection.clientToServer,s.type=new r.ProtocolRequestType(s.method),s.registrationMethod=o.method,(i=t.SemanticTokensRefreshRequest||(t.SemanticTokensRefreshRequest={})).method="workspace/semanticTokens/refresh",i.messageDirection=r.MessageDirection.clientToServer,i.type=new r.ProtocolRequestType0(i.method)},5726:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShowDocumentRequest=void 0;const r=n(6140);var o;(o=t.ShowDocumentRequest||(t.ShowDocumentRequest={})).method="window/showDocument",o.messageDirection=r.MessageDirection.serverToClient,o.type=new r.ProtocolRequestType(o.method)},1589:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypeDefinitionRequest=void 0;const r=n(6140);var o;(o=t.TypeDefinitionRequest||(t.TypeDefinitionRequest={})).method="textDocument/typeDefinition",o.messageDirection=r.MessageDirection.clientToServer,o.type=new r.ProtocolRequestType(o.method)},3693:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.TypeHierarchySubtypesRequest=t.TypeHierarchySupertypesRequest=t.TypeHierarchyPrepareRequest=void 0;const r=n(6140);var o,i,s;(s=t.TypeHierarchyPrepareRequest||(t.TypeHierarchyPrepareRequest={})).method="textDocument/prepareTypeHierarchy",s.messageDirection=r.MessageDirection.clientToServer,s.type=new r.ProtocolRequestType(s.method),(i=t.TypeHierarchySupertypesRequest||(t.TypeHierarchySupertypesRequest={})).method="typeHierarchy/supertypes",i.messageDirection=r.MessageDirection.clientToServer,i.type=new r.ProtocolRequestType(i.method),(o=t.TypeHierarchySubtypesRequest||(t.TypeHierarchySubtypesRequest={})).method="typeHierarchy/subtypes",o.messageDirection=r.MessageDirection.clientToServer,o.type=new r.ProtocolRequestType(o.method)},8744:(e,t,n)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DidChangeWorkspaceFoldersNotification=t.WorkspaceFoldersRequest=void 0;const r=n(6140);var o,i;(i=t.WorkspaceFoldersRequest||(t.WorkspaceFoldersRequest={})).method="workspace/workspaceFolders",i.messageDirection=r.MessageDirection.serverToClient,i.type=new r.ProtocolRequestType0(i.method),(o=t.DidChangeWorkspaceFoldersNotification||(t.DidChangeWorkspaceFoldersNotification={})).method="workspace/didChangeWorkspaceFolders",o.messageDirection=r.MessageDirection.clientToServer,o.type=new r.ProtocolNotificationType(o.method)},9533:(e,t)=>{"use strict";function n(e){return"string"==typeof e||e instanceof String}function r(e){return Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.objectLiteral=t.typedArray=t.stringArray=t.array=t.func=t.error=t.number=t.string=t.boolean=void 0,t.boolean=function(e){return!0===e||!1===e},t.string=n,t.number=function(e){return"number"==typeof e||e instanceof Number},t.error=function(e){return e instanceof Error},t.func=function(e){return"function"==typeof e},t.array=r,t.stringArray=function(e){return r(e)&&e.every((e=>n(e)))},t.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)},t.objectLiteral=function(e){return null!==e&&"object"==typeof e}},273:function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n);var o=Object.getOwnPropertyDescriptor(t,n);o&&!("get"in o?!t.__esModule:o.writable||o.configurable)||(o={enumerable:!0,get:function(){return t[n]}}),Object.defineProperty(e,r,o)}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),t.createProtocolConnection=void 0;const i=n(5028);o(n(5028),t),o(n(1661),t),t.createProtocolConnection=function(e,t,n,r){return(0,i.createMessageConnection)(e,t,n,r)}},6560:(e,t,n)=>{"use strict";e.exports=n(273)},1674:(e,t,n)=>{"use strict";var r,o,i,s,a,c,u,l,d,h,p,f,m,g,v,y,w,b,_,C,S,T,E,x,D,k,R,P;n.r(t),n.d(t,{AnnotatedTextEdit:()=>E,ChangeAnnotation:()=>S,ChangeAnnotationIdentifier:()=>T,CodeAction:()=>ie,CodeActionContext:()=>oe,CodeActionKind:()=>ne,CodeActionTriggerKind:()=>re,CodeDescription:()=>w,CodeLens:()=>se,Color:()=>d,ColorInformation:()=>h,ColorPresentation:()=>p,Command:()=>_,CompletionItem:()=>B,CompletionItemKind:()=>q,CompletionItemLabelDetails:()=>U,CompletionItemTag:()=>j,CompletionList:()=>W,CreateFile:()=>D,DeleteFile:()=>R,Diagnostic:()=>b,DiagnosticRelatedInformation:()=>g,DiagnosticSeverity:()=>v,DiagnosticTag:()=>y,DocumentHighlight:()=>Y,DocumentHighlightKind:()=>X,DocumentLink:()=>ce,DocumentSymbol:()=>te,DocumentUri:()=>r,EOL:()=>Ee,FoldingRange:()=>m,FoldingRangeKind:()=>f,FormattingOptions:()=>ae,Hover:()=>G,InlayHint:()=>we,InlayHintKind:()=>ve,InlayHintLabelPart:()=>ye,InlineValueContext:()=>ge,InlineValueEvaluatableExpression:()=>me,InlineValueText:()=>pe,InlineValueVariableLookup:()=>fe,InsertReplaceEdit:()=>H,InsertTextFormat:()=>L,InsertTextMode:()=>$,Location:()=>u,LocationLink:()=>l,MarkedString:()=>z,MarkupContent:()=>M,MarkupKind:()=>F,OptionalVersionedTextDocumentIdentifier:()=>I,ParameterInformation:()=>V,Position:()=>a,Range:()=>c,RenameFile:()=>k,SelectionRange:()=>ue,SemanticTokenModifiers:()=>de,SemanticTokenTypes:()=>le,SemanticTokens:()=>he,SignatureInformation:()=>K,SymbolInformation:()=>Z,SymbolKind:()=>J,SymbolTag:()=>Q,TextDocument:()=>Te,TextDocumentEdit:()=>x,TextDocumentIdentifier:()=>N,TextDocumentItem:()=>A,TextEdit:()=>C,URI:()=>o,VersionedTextDocumentIdentifier:()=>O,WorkspaceChange:()=>Se,WorkspaceEdit:()=>P,WorkspaceFolder:()=>be,WorkspaceSymbol:()=>ee,integer:()=>i,uinteger:()=>s}),function(e){e.is=function(e){return"string"==typeof e}}(r||(r={})),function(e){e.is=function(e){return"string"==typeof e}}(o||(o={})),function(e){e.MIN_VALUE=-2147483648,e.MAX_VALUE=2147483647,e.is=function(t){return"number"==typeof t&&e.MIN_VALUE<=t&&t<=e.MAX_VALUE}}(i||(i={})),function(e){e.MIN_VALUE=0,e.MAX_VALUE=2147483647,e.is=function(t){return"number"==typeof t&&e.MIN_VALUE<=t&&t<=e.MAX_VALUE}}(s||(s={})),function(e){e.create=function(e,t){return e===Number.MAX_VALUE&&(e=s.MAX_VALUE),t===Number.MAX_VALUE&&(t=s.MAX_VALUE),{line:e,character:t}},e.is=function(e){var t=e;return xe.objectLiteral(t)&&xe.uinteger(t.line)&&xe.uinteger(t.character)}}(a||(a={})),function(e){e.create=function(e,t,n,r){if(xe.uinteger(e)&&xe.uinteger(t)&&xe.uinteger(n)&&xe.uinteger(r))return{start:a.create(e,t),end:a.create(n,r)};if(a.is(e)&&a.is(t))return{start:e,end:t};throw new Error("Range#create called with invalid arguments[".concat(e,", ").concat(t,", ").concat(n,", ").concat(r,"]"))},e.is=function(e){var t=e;return xe.objectLiteral(t)&&a.is(t.start)&&a.is(t.end)}}(c||(c={})),function(e){e.create=function(e,t){return{uri:e,range:t}},e.is=function(e){var t=e;return xe.objectLiteral(t)&&c.is(t.range)&&(xe.string(t.uri)||xe.undefined(t.uri))}}(u||(u={})),function(e){e.create=function(e,t,n,r){return{targetUri:e,targetRange:t,targetSelectionRange:n,originSelectionRange:r}},e.is=function(e){var t=e;return xe.objectLiteral(t)&&c.is(t.targetRange)&&xe.string(t.targetUri)&&c.is(t.targetSelectionRange)&&(c.is(t.originSelectionRange)||xe.undefined(t.originSelectionRange))}}(l||(l={})),function(e){e.create=function(e,t,n,r){return{red:e,green:t,blue:n,alpha:r}},e.is=function(e){var t=e;return xe.objectLiteral(t)&&xe.numberRange(t.red,0,1)&&xe.numberRange(t.green,0,1)&&xe.numberRange(t.blue,0,1)&&xe.numberRange(t.alpha,0,1)}}(d||(d={})),function(e){e.create=function(e,t){return{range:e,color:t}},e.is=function(e){var t=e;return xe.objectLiteral(t)&&c.is(t.range)&&d.is(t.color)}}(h||(h={})),function(e){e.create=function(e,t,n){return{label:e,textEdit:t,additionalTextEdits:n}},e.is=function(e){var t=e;return xe.objectLiteral(t)&&xe.string(t.label)&&(xe.undefined(t.textEdit)||C.is(t))&&(xe.undefined(t.additionalTextEdits)||xe.typedArray(t.additionalTextEdits,C.is))}}(p||(p={})),function(e){e.Comment="comment",e.Imports="imports",e.Region="region"}(f||(f={})),function(e){e.create=function(e,t,n,r,o,i){var s={startLine:e,endLine:t};return xe.defined(n)&&(s.startCharacter=n),xe.defined(r)&&(s.endCharacter=r),xe.defined(o)&&(s.kind=o),xe.defined(i)&&(s.collapsedText=i),s},e.is=function(e){var t=e;return xe.objectLiteral(t)&&xe.uinteger(t.startLine)&&xe.uinteger(t.startLine)&&(xe.undefined(t.startCharacter)||xe.uinteger(t.startCharacter))&&(xe.undefined(t.endCharacter)||xe.uinteger(t.endCharacter))&&(xe.undefined(t.kind)||xe.string(t.kind))}}(m||(m={})),function(e){e.create=function(e,t){return{location:e,message:t}},e.is=function(e){var t=e;return xe.defined(t)&&u.is(t.location)&&xe.string(t.message)}}(g||(g={})),function(e){e.Error=1,e.Warning=2,e.Information=3,e.Hint=4}(v||(v={})),function(e){e.Unnecessary=1,e.Deprecated=2}(y||(y={})),function(e){e.is=function(e){var t=e;return xe.objectLiteral(t)&&xe.string(t.href)}}(w||(w={})),function(e){e.create=function(e,t,n,r,o,i){var s={range:e,message:t};return xe.defined(n)&&(s.severity=n),xe.defined(r)&&(s.code=r),xe.defined(o)&&(s.source=o),xe.defined(i)&&(s.relatedInformation=i),s},e.is=function(e){var t,n=e;return xe.defined(n)&&c.is(n.range)&&xe.string(n.message)&&(xe.number(n.severity)||xe.undefined(n.severity))&&(xe.integer(n.code)||xe.string(n.code)||xe.undefined(n.code))&&(xe.undefined(n.codeDescription)||xe.string(null===(t=n.codeDescription)||void 0===t?void 0:t.href))&&(xe.string(n.source)||xe.undefined(n.source))&&(xe.undefined(n.relatedInformation)||xe.typedArray(n.relatedInformation,g.is))}}(b||(b={})),function(e){e.create=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o={title:e,command:t};return xe.defined(n)&&n.length>0&&(o.arguments=n),o},e.is=function(e){var t=e;return xe.defined(t)&&xe.string(t.title)&&xe.string(t.command)}}(_||(_={})),function(e){e.replace=function(e,t){return{range:e,newText:t}},e.insert=function(e,t){return{range:{start:e,end:e},newText:t}},e.del=function(e){return{range:e,newText:""}},e.is=function(e){var t=e;return xe.objectLiteral(t)&&xe.string(t.newText)&&c.is(t.range)}}(C||(C={})),function(e){e.create=function(e,t,n){var r={label:e};return void 0!==t&&(r.needsConfirmation=t),void 0!==n&&(r.description=n),r},e.is=function(e){var t=e;return xe.objectLiteral(t)&&xe.string(t.label)&&(xe.boolean(t.needsConfirmation)||void 0===t.needsConfirmation)&&(xe.string(t.description)||void 0===t.description)}}(S||(S={})),function(e){e.is=function(e){var t=e;return xe.string(t)}}(T||(T={})),function(e){e.replace=function(e,t,n){return{range:e,newText:t,annotationId:n}},e.insert=function(e,t,n){return{range:{start:e,end:e},newText:t,annotationId:n}},e.del=function(e,t){return{range:e,newText:"",annotationId:t}},e.is=function(e){var t=e;return C.is(t)&&(S.is(t.annotationId)||T.is(t.annotationId))}}(E||(E={})),function(e){e.create=function(e,t){return{textDocument:e,edits:t}},e.is=function(e){var t=e;return xe.defined(t)&&I.is(t.textDocument)&&Array.isArray(t.edits)}}(x||(x={})),function(e){e.create=function(e,t,n){var r={kind:"create",uri:e};return void 0===t||void 0===t.overwrite&&void 0===t.ignoreIfExists||(r.options=t),void 0!==n&&(r.annotationId=n),r},e.is=function(e){var t=e;return t&&"create"===t.kind&&xe.string(t.uri)&&(void 0===t.options||(void 0===t.options.overwrite||xe.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||xe.boolean(t.options.ignoreIfExists)))&&(void 0===t.annotationId||T.is(t.annotationId))}}(D||(D={})),function(e){e.create=function(e,t,n,r){var o={kind:"rename",oldUri:e,newUri:t};return void 0===n||void 0===n.overwrite&&void 0===n.ignoreIfExists||(o.options=n),void 0!==r&&(o.annotationId=r),o},e.is=function(e){var t=e;return t&&"rename"===t.kind&&xe.string(t.oldUri)&&xe.string(t.newUri)&&(void 0===t.options||(void 0===t.options.overwrite||xe.boolean(t.options.overwrite))&&(void 0===t.options.ignoreIfExists||xe.boolean(t.options.ignoreIfExists)))&&(void 0===t.annotationId||T.is(t.annotationId))}}(k||(k={})),function(e){e.create=function(e,t,n){var r={kind:"delete",uri:e};return void 0===t||void 0===t.recursive&&void 0===t.ignoreIfNotExists||(r.options=t),void 0!==n&&(r.annotationId=n),r},e.is=function(e){var t=e;return t&&"delete"===t.kind&&xe.string(t.uri)&&(void 0===t.options||(void 0===t.options.recursive||xe.boolean(t.options.recursive))&&(void 0===t.options.ignoreIfNotExists||xe.boolean(t.options.ignoreIfNotExists)))&&(void 0===t.annotationId||T.is(t.annotationId))}}(R||(R={})),function(e){e.is=function(e){var t=e;return t&&(void 0!==t.changes||void 0!==t.documentChanges)&&(void 0===t.documentChanges||t.documentChanges.every((function(e){return xe.string(e.kind)?D.is(e)||k.is(e)||R.is(e):x.is(e)})))}}(P||(P={}));var N,O,I,A,F,M,q,L,j,H,$,U,B,W,z,G,V,K,X,Y,J,Q,Z,ee,te,ne,re,oe,ie,se,ae,ce,ue,le,de,he,pe,fe,me,ge,ve,ye,we,be,_e=function(){function e(e,t){this.edits=e,this.changeAnnotations=t}return e.prototype.insert=function(e,t,n){var r,o;if(void 0===n?r=C.insert(e,t):T.is(n)?(o=n,r=E.insert(e,t,n)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(n),r=E.insert(e,t,o)),this.edits.push(r),void 0!==o)return o},e.prototype.replace=function(e,t,n){var r,o;if(void 0===n?r=C.replace(e,t):T.is(n)?(o=n,r=E.replace(e,t,n)):(this.assertChangeAnnotations(this.changeAnnotations),o=this.changeAnnotations.manage(n),r=E.replace(e,t,o)),this.edits.push(r),void 0!==o)return o},e.prototype.delete=function(e,t){var n,r;if(void 0===t?n=C.del(e):T.is(t)?(r=t,n=E.del(e,t)):(this.assertChangeAnnotations(this.changeAnnotations),r=this.changeAnnotations.manage(t),n=E.del(e,r)),this.edits.push(n),void 0!==r)return r},e.prototype.add=function(e){this.edits.push(e)},e.prototype.all=function(){return this.edits},e.prototype.clear=function(){this.edits.splice(0,this.edits.length)},e.prototype.assertChangeAnnotations=function(e){if(void 0===e)throw new Error("Text edit change is not configured to manage change annotations.")},e}(),Ce=function(){function e(e){this._annotations=void 0===e?Object.create(null):e,this._counter=0,this._size=0}return e.prototype.all=function(){return this._annotations},Object.defineProperty(e.prototype,"size",{get:function(){return this._size},enumerable:!1,configurable:!0}),e.prototype.manage=function(e,t){var n;if(T.is(e)?n=e:(n=this.nextId(),t=e),void 0!==this._annotations[n])throw new Error("Id ".concat(n," is already in use."));if(void 0===t)throw new Error("No annotation provided for id ".concat(n));return this._annotations[n]=t,this._size++,n},e.prototype.nextId=function(){return this._counter++,this._counter.toString()},e}(),Se=function(){function e(e){var t=this;this._textEditChanges=Object.create(null),void 0!==e?(this._workspaceEdit=e,e.documentChanges?(this._changeAnnotations=new Ce(e.changeAnnotations),e.changeAnnotations=this._changeAnnotations.all(),e.documentChanges.forEach((function(e){if(x.is(e)){var n=new _e(e.edits,t._changeAnnotations);t._textEditChanges[e.textDocument.uri]=n}}))):e.changes&&Object.keys(e.changes).forEach((function(n){var r=new _e(e.changes[n]);t._textEditChanges[n]=r}))):this._workspaceEdit={}}return Object.defineProperty(e.prototype,"edit",{get:function(){return this.initDocumentChanges(),void 0!==this._changeAnnotations&&(0===this._changeAnnotations.size?this._workspaceEdit.changeAnnotations=void 0:this._workspaceEdit.changeAnnotations=this._changeAnnotations.all()),this._workspaceEdit},enumerable:!1,configurable:!0}),e.prototype.getTextEditChange=function(e){if(I.is(e)){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var t={uri:e.uri,version:e.version};if(!(r=this._textEditChanges[t.uri])){var n={textDocument:t,edits:o=[]};this._workspaceEdit.documentChanges.push(n),r=new _e(o,this._changeAnnotations),this._textEditChanges[t.uri]=r}return r}if(this.initChanges(),void 0===this._workspaceEdit.changes)throw new Error("Workspace edit is not configured for normal text edit changes.");var r;if(!(r=this._textEditChanges[e])){var o=[];this._workspaceEdit.changes[e]=o,r=new _e(o),this._textEditChanges[e]=r}return r},e.prototype.initDocumentChanges=function(){void 0===this._workspaceEdit.documentChanges&&void 0===this._workspaceEdit.changes&&(this._changeAnnotations=new Ce,this._workspaceEdit.documentChanges=[],this._workspaceEdit.changeAnnotations=this._changeAnnotations.all())},e.prototype.initChanges=function(){void 0===this._workspaceEdit.documentChanges&&void 0===this._workspaceEdit.changes&&(this._workspaceEdit.changes=Object.create(null))},e.prototype.createFile=function(e,t,n){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var r,o,i;if(S.is(t)||T.is(t)?r=t:n=t,void 0===r?o=D.create(e,n):(i=T.is(r)?r:this._changeAnnotations.manage(r),o=D.create(e,n,i)),this._workspaceEdit.documentChanges.push(o),void 0!==i)return i},e.prototype.renameFile=function(e,t,n,r){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var o,i,s;if(S.is(n)||T.is(n)?o=n:r=n,void 0===o?i=k.create(e,t,r):(s=T.is(o)?o:this._changeAnnotations.manage(o),i=k.create(e,t,r,s)),this._workspaceEdit.documentChanges.push(i),void 0!==s)return s},e.prototype.deleteFile=function(e,t,n){if(this.initDocumentChanges(),void 0===this._workspaceEdit.documentChanges)throw new Error("Workspace edit is not configured for document changes.");var r,o,i;if(S.is(t)||T.is(t)?r=t:n=t,void 0===r?o=R.create(e,n):(i=T.is(r)?r:this._changeAnnotations.manage(r),o=R.create(e,n,i)),this._workspaceEdit.documentChanges.push(o),void 0!==i)return i},e}();!function(e){e.create=function(e){return{uri:e}},e.is=function(e){var t=e;return xe.defined(t)&&xe.string(t.uri)}}(N||(N={})),function(e){e.create=function(e,t){return{uri:e,version:t}},e.is=function(e){var t=e;return xe.defined(t)&&xe.string(t.uri)&&xe.integer(t.version)}}(O||(O={})),function(e){e.create=function(e,t){return{uri:e,version:t}},e.is=function(e){var t=e;return xe.defined(t)&&xe.string(t.uri)&&(null===t.version||xe.integer(t.version))}}(I||(I={})),function(e){e.create=function(e,t,n,r){return{uri:e,languageId:t,version:n,text:r}},e.is=function(e){var t=e;return xe.defined(t)&&xe.string(t.uri)&&xe.string(t.languageId)&&xe.integer(t.version)&&xe.string(t.text)}}(A||(A={})),function(e){e.PlainText="plaintext",e.Markdown="markdown",e.is=function(t){var n=t;return n===e.PlainText||n===e.Markdown}}(F||(F={})),function(e){e.is=function(e){var t=e;return xe.objectLiteral(e)&&F.is(t.kind)&&xe.string(t.value)}}(M||(M={})),function(e){e.Text=1,e.Method=2,e.Function=3,e.Constructor=4,e.Field=5,e.Variable=6,e.Class=7,e.Interface=8,e.Module=9,e.Property=10,e.Unit=11,e.Value=12,e.Enum=13,e.Keyword=14,e.Snippet=15,e.Color=16,e.File=17,e.Reference=18,e.Folder=19,e.EnumMember=20,e.Constant=21,e.Struct=22,e.Event=23,e.Operator=24,e.TypeParameter=25}(q||(q={})),function(e){e.PlainText=1,e.Snippet=2}(L||(L={})),function(e){e.Deprecated=1}(j||(j={})),function(e){e.create=function(e,t,n){return{newText:e,insert:t,replace:n}},e.is=function(e){var t=e;return t&&xe.string(t.newText)&&c.is(t.insert)&&c.is(t.replace)}}(H||(H={})),function(e){e.asIs=1,e.adjustIndentation=2}($||($={})),function(e){e.is=function(e){var t=e;return t&&(xe.string(t.detail)||void 0===t.detail)&&(xe.string(t.description)||void 0===t.description)}}(U||(U={})),function(e){e.create=function(e){return{label:e}}}(B||(B={})),function(e){e.create=function(e,t){return{items:e||[],isIncomplete:!!t}}}(W||(W={})),function(e){e.fromPlainText=function(e){return e.replace(/[\\`*_{}[\]()#+\-.!]/g,"\\$&")},e.is=function(e){var t=e;return xe.string(t)||xe.objectLiteral(t)&&xe.string(t.language)&&xe.string(t.value)}}(z||(z={})),function(e){e.is=function(e){var t=e;return!!t&&xe.objectLiteral(t)&&(M.is(t.contents)||z.is(t.contents)||xe.typedArray(t.contents,z.is))&&(void 0===e.range||c.is(e.range))}}(G||(G={})),function(e){e.create=function(e,t){return t?{label:e,documentation:t}:{label:e}}}(V||(V={})),function(e){e.create=function(e,t){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o={label:e};return xe.defined(t)&&(o.documentation=t),xe.defined(n)?o.parameters=n:o.parameters=[],o}}(K||(K={})),function(e){e.Text=1,e.Read=2,e.Write=3}(X||(X={})),function(e){e.create=function(e,t){var n={range:e};return xe.number(t)&&(n.kind=t),n}}(Y||(Y={})),function(e){e.File=1,e.Module=2,e.Namespace=3,e.Package=4,e.Class=5,e.Method=6,e.Property=7,e.Field=8,e.Constructor=9,e.Enum=10,e.Interface=11,e.Function=12,e.Variable=13,e.Constant=14,e.String=15,e.Number=16,e.Boolean=17,e.Array=18,e.Object=19,e.Key=20,e.Null=21,e.EnumMember=22,e.Struct=23,e.Event=24,e.Operator=25,e.TypeParameter=26}(J||(J={})),function(e){e.Deprecated=1}(Q||(Q={})),function(e){e.create=function(e,t,n,r,o){var i={name:e,kind:t,location:{uri:r,range:n}};return o&&(i.containerName=o),i}}(Z||(Z={})),function(e){e.create=function(e,t,n,r){return void 0!==r?{name:e,kind:t,location:{uri:n,range:r}}:{name:e,kind:t,location:{uri:n}}}}(ee||(ee={})),function(e){e.create=function(e,t,n,r,o,i){var s={name:e,detail:t,kind:n,range:r,selectionRange:o};return void 0!==i&&(s.children=i),s},e.is=function(e){var t=e;return t&&xe.string(t.name)&&xe.number(t.kind)&&c.is(t.range)&&c.is(t.selectionRange)&&(void 0===t.detail||xe.string(t.detail))&&(void 0===t.deprecated||xe.boolean(t.deprecated))&&(void 0===t.children||Array.isArray(t.children))&&(void 0===t.tags||Array.isArray(t.tags))}}(te||(te={})),function(e){e.Empty="",e.QuickFix="quickfix",e.Refactor="refactor",e.RefactorExtract="refactor.extract",e.RefactorInline="refactor.inline",e.RefactorRewrite="refactor.rewrite",e.Source="source",e.SourceOrganizeImports="source.organizeImports",e.SourceFixAll="source.fixAll"}(ne||(ne={})),function(e){e.Invoked=1,e.Automatic=2}(re||(re={})),function(e){e.create=function(e,t,n){var r={diagnostics:e};return null!=t&&(r.only=t),null!=n&&(r.triggerKind=n),r},e.is=function(e){var t=e;return xe.defined(t)&&xe.typedArray(t.diagnostics,b.is)&&(void 0===t.only||xe.typedArray(t.only,xe.string))&&(void 0===t.triggerKind||t.triggerKind===re.Invoked||t.triggerKind===re.Automatic)}}(oe||(oe={})),function(e){e.create=function(e,t,n){var r={title:e},o=!0;return"string"==typeof t?(o=!1,r.kind=t):_.is(t)?r.command=t:r.edit=t,o&&void 0!==n&&(r.kind=n),r},e.is=function(e){var t=e;return t&&xe.string(t.title)&&(void 0===t.diagnostics||xe.typedArray(t.diagnostics,b.is))&&(void 0===t.kind||xe.string(t.kind))&&(void 0!==t.edit||void 0!==t.command)&&(void 0===t.command||_.is(t.command))&&(void 0===t.isPreferred||xe.boolean(t.isPreferred))&&(void 0===t.edit||P.is(t.edit))}}(ie||(ie={})),function(e){e.create=function(e,t){var n={range:e};return xe.defined(t)&&(n.data=t),n},e.is=function(e){var t=e;return xe.defined(t)&&c.is(t.range)&&(xe.undefined(t.command)||_.is(t.command))}}(se||(se={})),function(e){e.create=function(e,t){return{tabSize:e,insertSpaces:t}},e.is=function(e){var t=e;return xe.defined(t)&&xe.uinteger(t.tabSize)&&xe.boolean(t.insertSpaces)}}(ae||(ae={})),function(e){e.create=function(e,t,n){return{range:e,target:t,data:n}},e.is=function(e){var t=e;return xe.defined(t)&&c.is(t.range)&&(xe.undefined(t.target)||xe.string(t.target))}}(ce||(ce={})),function(e){e.create=function(e,t){return{range:e,parent:t}},e.is=function(t){var n=t;return xe.objectLiteral(n)&&c.is(n.range)&&(void 0===n.parent||e.is(n.parent))}}(ue||(ue={})),function(e){e.namespace="namespace",e.type="type",e.class="class",e.enum="enum",e.interface="interface",e.struct="struct",e.typeParameter="typeParameter",e.parameter="parameter",e.variable="variable",e.property="property",e.enumMember="enumMember",e.event="event",e.function="function",e.method="method",e.macro="macro",e.keyword="keyword",e.modifier="modifier",e.comment="comment",e.string="string",e.number="number",e.regexp="regexp",e.operator="operator",e.decorator="decorator"}(le||(le={})),function(e){e.declaration="declaration",e.definition="definition",e.readonly="readonly",e.static="static",e.deprecated="deprecated",e.abstract="abstract",e.async="async",e.modification="modification",e.documentation="documentation",e.defaultLibrary="defaultLibrary"}(de||(de={})),function(e){e.is=function(e){var t=e;return xe.objectLiteral(t)&&(void 0===t.resultId||"string"==typeof t.resultId)&&Array.isArray(t.data)&&(0===t.data.length||"number"==typeof t.data[0])}}(he||(he={})),function(e){e.create=function(e,t){return{range:e,text:t}},e.is=function(e){var t=e;return null!=t&&c.is(t.range)&&xe.string(t.text)}}(pe||(pe={})),function(e){e.create=function(e,t,n){return{range:e,variableName:t,caseSensitiveLookup:n}},e.is=function(e){var t=e;return null!=t&&c.is(t.range)&&xe.boolean(t.caseSensitiveLookup)&&(xe.string(t.variableName)||void 0===t.variableName)}}(fe||(fe={})),function(e){e.create=function(e,t){return{range:e,expression:t}},e.is=function(e){var t=e;return null!=t&&c.is(t.range)&&(xe.string(t.expression)||void 0===t.expression)}}(me||(me={})),function(e){e.create=function(e,t){return{frameId:e,stoppedLocation:t}},e.is=function(e){var t=e;return xe.defined(t)&&c.is(e.stoppedLocation)}}(ge||(ge={})),function(e){e.Type=1,e.Parameter=2,e.is=function(e){return 1===e||2===e}}(ve||(ve={})),function(e){e.create=function(e){return{value:e}},e.is=function(e){var t=e;return xe.objectLiteral(t)&&(void 0===t.tooltip||xe.string(t.tooltip)||M.is(t.tooltip))&&(void 0===t.location||u.is(t.location))&&(void 0===t.command||_.is(t.command))}}(ye||(ye={})),function(e){e.create=function(e,t,n){var r={position:e,label:t};return void 0!==n&&(r.kind=n),r},e.is=function(e){var t=e;return xe.objectLiteral(t)&&a.is(t.position)&&(xe.string(t.label)||xe.typedArray(t.label,ye.is))&&(void 0===t.kind||ve.is(t.kind))&&void 0===t.textEdits||xe.typedArray(t.textEdits,C.is)&&(void 0===t.tooltip||xe.string(t.tooltip)||M.is(t.tooltip))&&(void 0===t.paddingLeft||xe.boolean(t.paddingLeft))&&(void 0===t.paddingRight||xe.boolean(t.paddingRight))}}(we||(we={})),function(e){e.is=function(e){var t=e;return xe.objectLiteral(t)&&o.is(t.uri)&&xe.string(t.name)}}(be||(be={}));var Te,Ee=["\n","\r\n","\r"];!function(e){function t(e,n){if(e.length<=1)return e;var r=e.length/2|0,o=e.slice(0,r),i=e.slice(r);t(o,n),t(i,n);for(var s=0,a=0,c=0;s<o.length&&a<i.length;){var u=n(o[s],i[a]);e[c++]=u<=0?o[s++]:i[a++]}for(;s<o.length;)e[c++]=o[s++];for(;a<i.length;)e[c++]=i[a++];return e}e.create=function(e,t,n,r){return new De(e,t,n,r)},e.is=function(e){var t=e;return!!(xe.defined(t)&&xe.string(t.uri)&&(xe.undefined(t.languageId)||xe.string(t.languageId))&&xe.uinteger(t.lineCount)&&xe.func(t.getText)&&xe.func(t.positionAt)&&xe.func(t.offsetAt))},e.applyEdits=function(e,n){for(var r=e.getText(),o=t(n,(function(e,t){var n=e.range.start.line-t.range.start.line;return 0===n?e.range.start.character-t.range.start.character:n})),i=r.length,s=o.length-1;s>=0;s--){var a=o[s],c=e.offsetAt(a.range.start),u=e.offsetAt(a.range.end);if(!(u<=i))throw new Error("Overlapping edit");r=r.substring(0,c)+a.newText+r.substring(u,r.length),i=c}return r}}(Te||(Te={}));var xe,De=function(){function e(e,t,n,r){this._uri=e,this._languageId=t,this._version=n,this._content=r,this._lineOffsets=void 0}return Object.defineProperty(e.prototype,"uri",{get:function(){return this._uri},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"languageId",{get:function(){return this._languageId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._version},enumerable:!1,configurable:!0}),e.prototype.getText=function(e){if(e){var t=this.offsetAt(e.start),n=this.offsetAt(e.end);return this._content.substring(t,n)}return this._content},e.prototype.update=function(e,t){this._content=e.text,this._version=t,this._lineOffsets=void 0},e.prototype.getLineOffsets=function(){if(void 0===this._lineOffsets){for(var e=[],t=this._content,n=!0,r=0;r<t.length;r++){n&&(e.push(r),n=!1);var o=t.charAt(r);n="\r"===o||"\n"===o,"\r"===o&&r+1<t.length&&"\n"===t.charAt(r+1)&&r++}n&&t.length>0&&e.push(t.length),this._lineOffsets=e}return this._lineOffsets},e.prototype.positionAt=function(e){e=Math.max(Math.min(e,this._content.length),0);var t=this.getLineOffsets(),n=0,r=t.length;if(0===r)return a.create(0,e);for(;n<r;){var o=Math.floor((n+r)/2);t[o]>e?r=o:n=o+1}var i=n-1;return a.create(i,e-t[i])},e.prototype.offsetAt=function(e){var t=this.getLineOffsets();if(e.line>=t.length)return this._content.length;if(e.line<0)return 0;var n=t[e.line],r=e.line+1<t.length?t[e.line+1]:this._content.length;return Math.max(Math.min(n+e.character,r),n)},Object.defineProperty(e.prototype,"lineCount",{get:function(){return this.getLineOffsets().length},enumerable:!1,configurable:!0}),e}();!function(e){var t=Object.prototype.toString;e.defined=function(e){return void 0!==e},e.undefined=function(e){return void 0===e},e.boolean=function(e){return!0===e||!1===e},e.string=function(e){return"[object String]"===t.call(e)},e.number=function(e){return"[object Number]"===t.call(e)},e.numberRange=function(e,n,r){return"[object Number]"===t.call(e)&&n<=e&&e<=r},e.integer=function(e){return"[object Number]"===t.call(e)&&-2147483648<=e&&e<=2147483647},e.uinteger=function(e){return"[object Number]"===t.call(e)&&0<=e&&e<=2147483647},e.func=function(e){return"[object Function]"===t.call(e)},e.objectLiteral=function(e){return null!==e&&"object"==typeof e},e.typedArray=function(e,t){return Array.isArray(e)&&e.every(t)}}(xe||(xe={}))},2806:(e,t,n)=>{const r="win32"===process.platform||"cygwin"===process.env.OSTYPE||"msys"===process.env.OSTYPE,o=n(1017),i=r?";":":",s=n(1959),a=e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),c=(e,t)=>{const n=t.colon||i,o=e.match(/\//)||r&&e.match(/\\/)?[""]:[...r?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(n)],s=r?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",a=r?s.split(n):[""];return r&&-1!==e.indexOf(".")&&""!==a[0]&&a.unshift(""),{pathEnv:o,pathExt:a,pathExtExe:s}},u=(e,t,n)=>{"function"==typeof t&&(n=t,t={}),t||(t={});const{pathEnv:r,pathExt:i,pathExtExe:u}=c(e,t),l=[],d=n=>new Promise(((i,s)=>{if(n===r.length)return t.all&&l.length?i(l):s(a(e));const c=r[n],u=/^".*"$/.test(c)?c.slice(1,-1):c,d=o.join(u,e),p=!u&&/^\.[\\\/]/.test(e)?e.slice(0,2)+d:d;i(h(p,n,0))})),h=(e,n,r)=>new Promise(((o,a)=>{if(r===i.length)return o(d(n+1));const c=i[r];s(e+c,{pathExt:u},((i,s)=>{if(!i&&s){if(!t.all)return o(e+c);l.push(e+c)}return o(h(e,n,r+1))}))}));return n?d(0).then((e=>n(null,e)),n):d(0)};e.exports=u,u.sync=(e,t)=>{t=t||{};const{pathEnv:n,pathExt:r,pathExtExe:i}=c(e,t),u=[];for(let a=0;a<n.length;a++){const c=n[a],l=/^".*"$/.test(c)?c.slice(1,-1):c,d=o.join(l,e),h=!l&&/^\.[\\\/]/.test(e)?e.slice(0,2)+d:d;for(let e=0;e<r.length;e++){const n=h+r[e];try{if(s.sync(n,{pathExt:i})){if(!t.all)return n;u.push(n)}}catch(e){}}}if(t.all&&u.length)return u;if(t.nothrow)return null;throw a(e)}},647:(e,t,n)=>{function r(e){this.options=e||{locator:{}}}function o(){this.cdata=!1}function i(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}function s(e){if(e)return"\n@"+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function a(e,t,n){return"string"==typeof e?e.substr(t,n):e.length>=t+n||t?new java.lang.String(e,t,n)+"":e}function c(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}r.prototype.parseFromString=function(e,t){var n=this.options,r=new d,i=n.domBuilder||new o,a=n.errorHandler,c=n.locator,l=n.xmlns||{},h=/\/x?html?$/.test(t),p=h?u.entityMap:{lt:"<",gt:">",amp:"&",quot:'"',apos:"'"};return c&&i.setDocumentLocator(c),r.errorHandler=function(e,t,n){if(!e){if(t instanceof o)return t;e=t}var r={},i=e instanceof Function;function a(t){var o=e[t];!o&&i&&(o=2==e.length?function(n){e(t,n)}:e),r[t]=o&&function(e){o("[xmldom "+t+"]\t"+e+s(n))}||function(){}}return n=n||{},a("warning"),a("error"),a("fatalError"),r}(a,i,c),r.domBuilder=n.domBuilder||i,h&&(l[""]="http://www.w3.org/1999/xhtml"),l.xml=l.xml||"http://www.w3.org/XML/1998/namespace",e&&"string"==typeof e?r.parse(e,l,p):r.errorHandler.error("invalid doc source"),i.doc},o.prototype={startDocument:function(){this.doc=(new p).createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,n,r){var o=this.doc,s=o.createElementNS(e,n||t),a=r.length;c(this,s),this.currentElement=s,this.locator&&i(this.locator,s);for(var u=0;u<a;u++){e=r.getURI(u);var l=r.getValue(u),d=(n=r.getQName(u),o.createAttributeNS(e,n));this.locator&&i(r.getLocator(u),d),d.value=d.nodeValue=l,s.setAttributeNode(d)}},endElement:function(e,t,n){var r=this.currentElement;r.tagName,this.currentElement=r.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var n=this.doc.createProcessingInstruction(e,t);this.locator&&i(this.locator,n),c(this,n)},ignorableWhitespace:function(e,t,n){},characters:function(e,t,n){if(e=a.apply(this,arguments)){if(this.cdata)var r=this.doc.createCDATASection(e);else r=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(r):/^\s*$/.test(e)&&this.doc.appendChild(r),this.locator&&i(this.locator,r)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,n){e=a.apply(this,arguments);var r=this.doc.createComment(e);this.locator&&i(this.locator,r),c(this,r)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,n){var r=this.doc.implementation;if(r&&r.createDocumentType){var o=r.createDocumentType(e,t,n);this.locator&&i(this.locator,o),c(this,o)}},warning:function(e){console.warn("[xmldom warning]\t"+e,s(this.locator))},error:function(e){console.error("[xmldom error]\t"+e,s(this.locator))},fatalError:function(e){throw new h(e,this.locator)}},"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,(function(e){o.prototype[e]=function(){return null}}));var u=n(3791),l=n(8275),d=l.XMLReader,h=l.ParseError,p=n(9034).DOMImplementation;n(9034),t.a=r},9034:(e,t)=>{function n(e,t){for(var n in e)t[n]=e[n]}function r(e,t){var r=e.prototype;if(!(r instanceof t)){function o(){}o.prototype=t.prototype,n(r,o=new o),e.prototype=r=o}r.constructor!=e&&("function"!=typeof e&&console.error("unknow Class:"+e),r.constructor=e)}var o={},i=o.ELEMENT_NODE=1,s=o.ATTRIBUTE_NODE=2,a=o.TEXT_NODE=3,c=o.CDATA_SECTION_NODE=4,u=o.ENTITY_REFERENCE_NODE=5,l=o.ENTITY_NODE=6,d=o.PROCESSING_INSTRUCTION_NODE=7,h=o.COMMENT_NODE=8,p=o.DOCUMENT_NODE=9,f=o.DOCUMENT_TYPE_NODE=10,m=o.DOCUMENT_FRAGMENT_NODE=11,g=o.NOTATION_NODE=12,v={},y={},w=(v.INDEX_SIZE_ERR=(y[1]="Index size error",1),v.DOMSTRING_SIZE_ERR=(y[2]="DOMString size error",2),v.HIERARCHY_REQUEST_ERR=(y[3]="Hierarchy request error",3)),b=(v.WRONG_DOCUMENT_ERR=(y[4]="Wrong document",4),v.INVALID_CHARACTER_ERR=(y[5]="Invalid character",5),v.NO_DATA_ALLOWED_ERR=(y[6]="No data allowed",6),v.NO_MODIFICATION_ALLOWED_ERR=(y[7]="No modification allowed",7),v.NOT_FOUND_ERR=(y[8]="Not found",8)),_=(v.NOT_SUPPORTED_ERR=(y[9]="Not supported",9),v.INUSE_ATTRIBUTE_ERR=(y[10]="Attribute in use",10));function C(e,t){if(t instanceof Error)var n=t;else n=this,Error.call(this,y[e]),this.message=y[e],Error.captureStackTrace&&Error.captureStackTrace(this,C);return n.code=e,t&&(this.message=this.message+": "+t),n}function S(){}function T(e,t){this._node=e,this._refresh=t,E(this)}function E(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!=t){var r=e._refresh(e._node);ne(e,"length",r.length),n(r,e),e._inc=t}}function x(){}function D(e,t){for(var n=e.length;n--;)if(e[n]===t)return n}function k(e,t,n,r){if(r?t[D(t,r)]=n:t[t.length++]=n,e){n.ownerElement=e;var o=e.ownerDocument;o&&(r&&F(o,e,r),function(e,t,n){e&&e._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&(t._nsMap[n.prefix?n.localName:""]=n.value)}(o,e,n))}}function R(e,t,n){var r=D(t,n);if(!(r>=0))throw C(b,new Error(e.tagName+"@"+n));for(var o=t.length-1;r<o;)t[r]=t[++r];if(t.length=o,e){var i=e.ownerDocument;i&&(F(i,e,n),n.ownerElement=null)}}function P(e){if(this._features={},e)for(var t in e)this._features=e[t]}function N(){}function O(e){return("<"==e?"&lt;":">"==e&&"&gt;")||"&"==e&&"&amp;"||'"'==e&&"&quot;"||"&#"+e.charCodeAt()+";"}function I(e,t){if(t(e))return!0;if(e=e.firstChild)do{if(I(e,t))return!0}while(e=e.nextSibling)}function A(){}function F(e,t,n,r){e&&e._inc++,"http://www.w3.org/2000/xmlns/"==n.namespaceURI&&delete t._nsMap[n.prefix?n.localName:""]}function M(e,t,n){if(e&&e._inc){e._inc++;var r=t.childNodes;if(n)r[r.length++]=n;else{for(var o=t.firstChild,i=0;o;)r[i++]=o,o=o.nextSibling;r.length=i}}}function q(e,t){var n=t.previousSibling,r=t.nextSibling;return n?n.nextSibling=r:e.firstChild=r,r?r.previousSibling=n:e.lastChild=n,M(e.ownerDocument,e),t}function L(e,t,n){var r=t.parentNode;if(r&&r.removeChild(t),t.nodeType===m){var o=t.firstChild;if(null==o)return t;var i=t.lastChild}else o=i=t;var s=n?n.previousSibling:e.lastChild;o.previousSibling=s,i.nextSibling=n,s?s.nextSibling=o:e.firstChild=o,null==n?e.lastChild=i:n.previousSibling=i;do{o.parentNode=e}while(o!==i&&(o=o.nextSibling));return M(e.ownerDocument||e,e),t.nodeType==m&&(t.firstChild=t.lastChild=null),t}function j(){this._nsMap={}}function H(){}function $(){}function U(){}function B(){}function W(){}function z(){}function G(){}function V(){}function K(){}function X(){}function Y(){}function J(e,t){var n=[],r=9==this.nodeType&&this.documentElement||this,o=r.prefix,i=r.namespaceURI;if(i&&null==o&&null==(o=r.lookupPrefix(i)))var s=[{namespace:i,prefix:null}];return Z(this,n,e,t,s),n.join("")}function Q(e,t,n){var r=e.prefix||"",o=e.namespaceURI;if(!r&&!o)return!1;if("xml"===r&&"http://www.w3.org/XML/1998/namespace"===o||"http://www.w3.org/2000/xmlns/"==o)return!1;for(var i=n.length;i--;){var s=n[i];if(s.prefix==r)return s.namespace!=o}return!0}function Z(e,t,n,r,o){if(r){if(!(e=r(e)))return;if("string"==typeof e)return void t.push(e)}switch(e.nodeType){case i:o||(o=[]),o.length;var l=e.attributes,g=l.length,v=e.firstChild,y=e.tagName;n="http://www.w3.org/1999/xhtml"===e.namespaceURI||n,t.push("<",y);for(var w=0;w<g;w++)"xmlns"==(b=l.item(w)).prefix?o.push({prefix:b.localName,namespace:b.value}):"xmlns"==b.nodeName&&o.push({prefix:"",namespace:b.value});for(w=0;w<g;w++){var b;if(Q(b=l.item(w),0,o)){var _=b.prefix||"",C=b.namespaceURI,S=_?" xmlns:"+_:" xmlns";t.push(S,'="',C,'"'),o.push({prefix:_,namespace:C})}Z(b,t,n,r,o)}if(Q(e,0,o)&&(_=e.prefix||"",(C=e.namespaceURI)&&(S=_?" xmlns:"+_:" xmlns",t.push(S,'="',C,'"'),o.push({prefix:_,namespace:C}))),v||n&&!/^(?:meta|link|img|br|hr|input)$/i.test(y)){if(t.push(">"),n&&/^script$/i.test(y))for(;v;)v.data?t.push(v.data):Z(v,t,n,r,o),v=v.nextSibling;else for(;v;)Z(v,t,n,r,o),v=v.nextSibling;t.push("</",y,">")}else t.push("/>");return;case p:case m:for(v=e.firstChild;v;)Z(v,t,n,r,o),v=v.nextSibling;return;case s:return t.push(" ",e.name,'="',e.value.replace(/[<&"]/g,O),'"');case a:return t.push(e.data.replace(/[<&]/g,O).replace(/]]>/g,"]]&gt;"));case c:return t.push("<![CDATA[",e.data,"]]>");case h:return t.push("\x3c!--",e.data,"--\x3e");case f:var T=e.publicId,E=e.systemId;if(t.push("<!DOCTYPE ",e.name),T)t.push(" PUBLIC ",T),E&&"."!=E&&t.push(" ",E),t.push(">");else if(E&&"."!=E)t.push(" SYSTEM ",E,">");else{var x=e.internalSubset;x&&t.push(" [",x,"]"),t.push(">")}return;case d:return t.push("<?",e.target," ",e.data,"?>");case u:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function ee(e,t,n){var r;switch(t.nodeType){case i:(r=t.cloneNode(!1)).ownerDocument=e;case m:break;case s:n=!0}if(r||(r=t.cloneNode(!1)),r.ownerDocument=e,r.parentNode=null,n)for(var o=t.firstChild;o;)r.appendChild(ee(e,o,n)),o=o.nextSibling;return r}function te(e,t,n){var r=new t.constructor;for(var o in t){var a=t[o];"object"!=typeof a&&a!=r[o]&&(r[o]=a)}switch(t.childNodes&&(r.childNodes=new S),r.ownerDocument=e,r.nodeType){case i:var c=t.attributes,u=r.attributes=new x,l=c.length;u._ownerElement=r;for(var d=0;d<l;d++)r.setAttributeNode(te(e,c.item(d),!0));break;case s:n=!0}if(n)for(var h=t.firstChild;h;)r.appendChild(te(e,h,n)),h=h.nextSibling;return r}function ne(e,t,n){e[t]=n}v.INVALID_STATE_ERR=(y[11]="Invalid state",11),v.SYNTAX_ERR=(y[12]="Syntax error",12),v.INVALID_MODIFICATION_ERR=(y[13]="Invalid modification",13),v.NAMESPACE_ERR=(y[14]="Invalid namespace",14),v.INVALID_ACCESS_ERR=(y[15]="Invalid access",15),C.prototype=Error.prototype,n(v,C),S.prototype={length:0,item:function(e){return this[e]||null},toString:function(e,t){for(var n=[],r=0;r<this.length;r++)Z(this[r],n,e,t);return n.join("")}},T.prototype.item=function(e){return E(this),this[e]},r(T,S),x.prototype={length:0,item:S.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var n=this[t];if(n.nodeName==e)return n}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new C(_);var n=this.getNamedItem(e.nodeName);return k(this._ownerElement,this,e,n),n},setNamedItemNS:function(e){var t,n=e.ownerElement;if(n&&n!=this._ownerElement)throw new C(_);return t=this.getNamedItemNS(e.namespaceURI,e.localName),k(this._ownerElement,this,e,t),t},removeNamedItem:function(e){var t=this.getNamedItem(e);return R(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var n=this.getNamedItemNS(e,t);return R(this._ownerElement,this,n),n},getNamedItemNS:function(e,t){for(var n=this.length;n--;){var r=this[n];if(r.localName==t&&r.namespaceURI==e)return r}return null}},P.prototype={hasFeature:function(e,t){var n=this._features[e.toLowerCase()];return!(!n||t&&!(t in n))},createDocument:function(e,t,n){var r=new A;if(r.implementation=this,r.childNodes=new S,r.doctype=n,n&&r.appendChild(n),t){var o=r.createElementNS(e,t);r.appendChild(o)}return r},createDocumentType:function(e,t,n){var r=new z;return r.name=e,r.nodeName=e,r.publicId=t,r.systemId=n,r}},N.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return L(this,e,t)},replaceChild:function(e,t){this.insertBefore(e,t),t&&this.removeChild(t)},removeChild:function(e){return q(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return null!=this.firstChild},cloneNode:function(e){return te(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==a&&e.nodeType==a?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var n=t._nsMap;if(n)for(var r in n)if(n[r]==e)return r;t=t.nodeType==s?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var n=t._nsMap;if(n&&e in n)return n[e];t=t.nodeType==s?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){return null==this.lookupPrefix(e)}},n(o,N),n(o,N.prototype),A.prototype={nodeName:"#document",nodeType:p,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==m){for(var n=e.firstChild;n;){var r=n.nextSibling;this.insertBefore(n,t),n=r}return e}return null==this.documentElement&&e.nodeType==i&&(this.documentElement=e),L(this,e,t),e.ownerDocument=this,e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),q(this,e)},importNode:function(e,t){return ee(this,e,t)},getElementById:function(e){var t=null;return I(this.documentElement,(function(n){if(n.nodeType==i&&n.getAttribute("id")==e)return t=n,!0})),t},getElementsByClassName:function(e){var t=new RegExp("(^|\\s)"+e+"(\\s|$)");return new T(this,(function(e){var n=[];return I(e.documentElement,(function(r){r!==e&&r.nodeType==i&&t.test(r.getAttribute("class"))&&n.push(r)})),n}))},createElement:function(e){var t=new j;return t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.childNodes=new S,(t.attributes=new x)._ownerElement=t,t},createDocumentFragment:function(){var e=new X;return e.ownerDocument=this,e.childNodes=new S,e},createTextNode:function(e){var t=new U;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new B;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new W;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var n=new Y;return n.ownerDocument=this,n.tagName=n.target=e,n.nodeValue=n.data=t,n},createAttribute:function(e){var t=new H;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new K;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var n=new j,r=t.split(":"),o=n.attributes=new x;return n.childNodes=new S,n.ownerDocument=this,n.nodeName=t,n.tagName=t,n.namespaceURI=e,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,o._ownerElement=n,n},createAttributeNS:function(e,t){var n=new H,r=t.split(":");return n.ownerDocument=this,n.nodeName=t,n.name=t,n.namespaceURI=e,n.specified=!0,2==r.length?(n.prefix=r[0],n.localName=r[1]):n.localName=t,n}},r(A,N),j.prototype={nodeType:i,hasAttribute:function(e){return null!=this.getAttributeNode(e)},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var n=this.ownerDocument.createAttribute(e);n.value=n.nodeValue=""+t,this.setAttributeNode(n)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===m?this.insertBefore(e,null):function(e,t){var n=t.parentNode;if(n){var r=e.lastChild;n.removeChild(t),r=e.lastChild}return r=e.lastChild,t.parentNode=e,t.previousSibling=r,t.nextSibling=null,r?r.nextSibling=t:e.firstChild=t,e.lastChild=t,M(e.ownerDocument,e,t),t}(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);n&&this.removeAttributeNode(n)},hasAttributeNS:function(e,t){return null!=this.getAttributeNodeNS(e,t)},getAttributeNS:function(e,t){var n=this.getAttributeNodeNS(e,t);return n&&n.value||""},setAttributeNS:function(e,t,n){var r=this.ownerDocument.createAttributeNS(e,t);r.value=r.nodeValue=""+n,this.setAttributeNode(r)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new T(this,(function(t){var n=[];return I(t,(function(r){r===t||r.nodeType!=i||"*"!==e&&r.tagName!=e||n.push(r)})),n}))},getElementsByTagNameNS:function(e,t){return new T(this,(function(n){var r=[];return I(n,(function(o){o===n||o.nodeType!==i||"*"!==e&&o.namespaceURI!==e||"*"!==t&&o.localName!=t||r.push(o)})),r}))}},A.prototype.getElementsByTagName=j.prototype.getElementsByTagName,A.prototype.getElementsByTagNameNS=j.prototype.getElementsByTagNameNS,r(j,N),H.prototype.nodeType=s,r(H,N),$.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(y[w])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,n){n=this.data.substring(0,e)+n+this.data.substring(e+t),this.nodeValue=this.data=n,this.length=n.length}},r($,N),U.prototype={nodeName:"#text",nodeType:a,splitText:function(e){var t=this.data,n=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var r=this.ownerDocument.createTextNode(n);return this.parentNode&&this.parentNode.insertBefore(r,this.nextSibling),r}},r(U,$),B.prototype={nodeName:"#comment",nodeType:h},r(B,$),W.prototype={nodeName:"#cdata-section",nodeType:c},r(W,$),z.prototype.nodeType=f,r(z,N),G.prototype.nodeType=g,r(G,N),V.prototype.nodeType=l,r(V,N),K.prototype.nodeType=u,r(K,N),X.prototype.nodeName="#document-fragment",X.prototype.nodeType=m,r(X,N),Y.prototype.nodeType=d,r(Y,N),N.prototype.toString=J;try{if(Object.defineProperty){function re(e){switch(e.nodeType){case i:case m:var t=[];for(e=e.firstChild;e;)7!==e.nodeType&&8!==e.nodeType&&t.push(re(e)),e=e.nextSibling;return t.join("");default:return e.nodeValue}}Object.defineProperty(T.prototype,"length",{get:function(){return E(this),this.$$length}}),Object.defineProperty(N.prototype,"textContent",{get:function(){return re(this)},set:function(e){switch(this.nodeType){case i:case m:for(;this.firstChild;)this.removeChild(this.firstChild);(e||String(e))&&this.appendChild(this.ownerDocument.createTextNode(e));break;default:this.data=e,this.value=e,this.nodeValue=e}}}),ne=function(e,t,n){e["$$"+t]=n}}}catch(oe){}t.DOMImplementation=P},3791:(e,t)=>{t.entityMap={lt:"<",gt:">",amp:"&",quot:'"',apos:"'",Agrave:"À",Aacute:"Á",Acirc:"Â",Atilde:"Ã",Auml:"Ä",Aring:"Å",AElig:"Æ",Ccedil:"Ç",Egrave:"È",Eacute:"É",Ecirc:"Ê",Euml:"Ë",Igrave:"Ì",Iacute:"Í",Icirc:"Î",Iuml:"Ï",ETH:"Ð",Ntilde:"Ñ",Ograve:"Ò",Oacute:"Ó",Ocirc:"Ô",Otilde:"Õ",Ouml:"Ö",Oslash:"Ø",Ugrave:"Ù",Uacute:"Ú",Ucirc:"Û",Uuml:"Ü",Yacute:"Ý",THORN:"Þ",szlig:"ß",agrave:"à",aacute:"á",acirc:"â",atilde:"ã",auml:"ä",aring:"å",aelig:"æ",ccedil:"ç",egrave:"è",eacute:"é",ecirc:"ê",euml:"ë",igrave:"ì",iacute:"í",icirc:"î",iuml:"ï",eth:"ð",ntilde:"ñ",ograve:"ò",oacute:"ó",ocirc:"ô",otilde:"õ",ouml:"ö",oslash:"ø",ugrave:"ù",uacute:"ú",ucirc:"û",uuml:"ü",yacute:"ý",thorn:"þ",yuml:"ÿ",nbsp:" ",iexcl:"¡",cent:"¢",pound:"£",curren:"¤",yen:"¥",brvbar:"¦",sect:"§",uml:"¨",copy:"©",ordf:"ª",laquo:"«",not:"¬",shy:"­­",reg:"®",macr:"¯",deg:"°",plusmn:"±",sup2:"²",sup3:"³",acute:"´",micro:"µ",para:"¶",middot:"·",cedil:"¸",sup1:"¹",ordm:"º",raquo:"»",frac14:"¼",frac12:"½",frac34:"¾",iquest:"¿",times:"×",divide:"÷",forall:"∀",part:"∂",exist:"∃",empty:"∅",nabla:"∇",isin:"∈",notin:"∉",ni:"∋",prod:"∏",sum:"∑",minus:"−",lowast:"∗",radic:"√",prop:"∝",infin:"∞",ang:"∠",and:"∧",or:"∨",cap:"∩",cup:"∪",int:"∫",there4:"∴",sim:"∼",cong:"≅",asymp:"≈",ne:"≠",equiv:"≡",le:"≤",ge:"≥",sub:"⊂",sup:"⊃",nsub:"⊄",sube:"⊆",supe:"⊇",oplus:"⊕",otimes:"⊗",perp:"⊥",sdot:"⋅",Alpha:"Α",Beta:"Β",Gamma:"Γ",Delta:"Δ",Epsilon:"Ε",Zeta:"Ζ",Eta:"Η",Theta:"Θ",Iota:"Ι",Kappa:"Κ",Lambda:"Λ",Mu:"Μ",Nu:"Ν",Xi:"Ξ",Omicron:"Ο",Pi:"Π",Rho:"Ρ",Sigma:"Σ",Tau:"Τ",Upsilon:"Υ",Phi:"Φ",Chi:"Χ",Psi:"Ψ",Omega:"Ω",alpha:"α",beta:"β",gamma:"γ",delta:"δ",epsilon:"ε",zeta:"ζ",eta:"η",theta:"θ",iota:"ι",kappa:"κ",lambda:"λ",mu:"μ",nu:"ν",xi:"ξ",omicron:"ο",pi:"π",rho:"ρ",sigmaf:"ς",sigma:"σ",tau:"τ",upsilon:"υ",phi:"φ",chi:"χ",psi:"ψ",omega:"ω",thetasym:"ϑ",upsih:"ϒ",piv:"ϖ",OElig:"Œ",oelig:"œ",Scaron:"Š",scaron:"š",Yuml:"Ÿ",fnof:"ƒ",circ:"ˆ",tilde:"˜",ensp:" ",emsp:" ",thinsp:" ",zwnj:"‌",zwj:"‍",lrm:"‎",rlm:"‏",ndash:"–",mdash:"—",lsquo:"‘",rsquo:"’",sbquo:"‚",ldquo:"“",rdquo:"”",bdquo:"„",dagger:"†",Dagger:"‡",bull:"•",hellip:"…",permil:"‰",prime:"′",Prime:"″",lsaquo:"‹",rsaquo:"›",oline:"‾",euro:"€",trade:"™",larr:"←",uarr:"↑",rarr:"→",darr:"↓",harr:"↔",crarr:"↵",lceil:"⌈",rceil:"⌉",lfloor:"⌊",rfloor:"⌋",loz:"◊",spades:"♠",clubs:"♣",hearts:"♥",diams:"♦"}},8275:(e,t)=>{var n=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,r=new RegExp("[\\-\\.0-9"+n.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),o=new RegExp("^"+n.source+r.source+"*(?::"+n.source+r.source+"*)?$");function i(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,i)}function s(){}function a(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function c(e,t,n,r,o,i){function s(e,t,r){e in n.attributeNames&&i.fatalError("Attribute "+e+" redefined"),n.addValue(e,t,r)}for(var a,c=++t,u=0;;){var l=e.charAt(c);switch(l){case"=":if(1===u)a=e.slice(t,c),u=3;else{if(2!==u)throw new Error("attribute equal must after attrName");u=3}break;case"'":case'"':if(3===u||1===u){if(1===u&&(i.warning('attribute value must after "="'),a=e.slice(t,c)),t=c+1,!((c=e.indexOf(l,t))>0))throw new Error("attribute value no end '"+l+"' match");s(a,d=e.slice(t,c).replace(/&#?\w+;/g,o),t-1),u=5}else{if(4!=u)throw new Error('attribute value must after "="');s(a,d=e.slice(t,c).replace(/&#?\w+;/g,o),t),i.warning('attribute "'+a+'" missed start quot('+l+")!!"),t=c+1,u=5}break;case"/":switch(u){case 0:n.setTagName(e.slice(t,c));case 5:case 6:case 7:u=7,n.closed=!0;case 4:case 1:case 2:break;default:throw new Error("attribute invalid close char('/')")}break;case"":return i.error("unexpected end of input"),0==u&&n.setTagName(e.slice(t,c)),c;case">":switch(u){case 0:n.setTagName(e.slice(t,c));case 5:case 6:case 7:break;case 4:case 1:"/"===(d=e.slice(t,c)).slice(-1)&&(n.closed=!0,d=d.slice(0,-1));case 2:2===u&&(d=a),4==u?(i.warning('attribute "'+d+'" missed quot(")!'),s(a,d.replace(/&#?\w+;/g,o),t)):("http://www.w3.org/1999/xhtml"===r[""]&&d.match(/^(?:disabled|checked|selected)$/i)||i.warning('attribute "'+d+'" missed value!! "'+d+'" instead!!'),s(d,d,t));break;case 3:throw new Error("attribute value missed!!")}return c;case"":l=" ";default:if(l<=" ")switch(u){case 0:n.setTagName(e.slice(t,c)),u=6;break;case 1:a=e.slice(t,c),u=2;break;case 4:var d=e.slice(t,c).replace(/&#?\w+;/g,o);i.warning('attribute "'+d+'" missed quot(")!!'),s(a,d,t);case 5:u=6}else switch(u){case 2:n.tagName,"http://www.w3.org/1999/xhtml"===r[""]&&a.match(/^(?:disabled|checked|selected)$/i)||i.warning('attribute "'+a+'" missed value!! "'+a+'" instead2!!'),s(a,a,t),t=c,u=1;break;case 5:i.warning('attribute space is required"'+a+'"!!');case 6:u=1,t=c;break;case 3:u=4,t=c;break;case 7:throw new Error("elements closed character '/' and '>' must be connected to")}}c++}}function u(e,t,n){for(var r=e.tagName,o=null,i=e.length;i--;){var s=e[i],a=s.qName,c=s.value;if((p=a.indexOf(":"))>0)var u=s.prefix=a.slice(0,p),l=a.slice(p+1),d="xmlns"===u&&l;else l=a,u=null,d="xmlns"===a&&"";s.localName=l,!1!==d&&(null==o&&(o={},h(n,n={})),n[d]=o[d]=c,s.uri="http://www.w3.org/2000/xmlns/",t.startPrefixMapping(d,c))}for(i=e.length;i--;)(u=(s=e[i]).prefix)&&("xml"===u&&(s.uri="http://www.w3.org/XML/1998/namespace"),"xmlns"!==u&&(s.uri=n[u||""]));var p;(p=r.indexOf(":"))>0?(u=e.prefix=r.slice(0,p),l=e.localName=r.slice(p+1)):(u=null,l=e.localName=r);var f=e.uri=n[u||""];if(t.startElement(f,l,r,e),!e.closed)return e.currentNSMap=n,e.localNSMap=o,!0;if(t.endElement(f,l,r),o)for(u in o)t.endPrefixMapping(u)}function l(e,t,n,r,o){if(/^(?:script|textarea)$/i.test(n)){var i=e.indexOf("</"+n+">",t),s=e.substring(t+1,i);if(/[&<]/.test(s))return/^script$/i.test(n)?(o.characters(s,0,s.length),i):(s=s.replace(/&#?\w+;/g,r),o.characters(s,0,s.length),i)}return t+1}function d(e,t,n,r){var o=r[n];return null==o&&((o=e.lastIndexOf("</"+n+">"))<t&&(o=e.lastIndexOf("</"+n)),r[n]=o),o<t}function h(e,t){for(var n in e)t[n]=e[n]}function p(e,t,n,r){if("-"===e.charAt(t+2))return"-"===e.charAt(t+3)?(o=e.indexOf("--\x3e",t+4))>t?(n.comment(e,t+4,o-t-4),o+3):(r.error("Unclosed comment"),-1):-1;if("CDATA["==e.substr(t+3,6)){var o=e.indexOf("]]>",t+9);return n.startCDATA(),n.characters(e,t+9,o-t-9),n.endCDATA(),o+3}var i=function(e,t){var n,r=[],o=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(o.lastIndex=t,o.exec(e);n=o.exec(e);)if(r.push(n),n[1])return r}(e,t),s=i.length;if(s>1&&/!doctype/i.test(i[0][0])){var a=i[1][0],c=!1,u=!1;s>3&&(/^public$/i.test(i[2][0])?(c=i[3][0],u=s>4&&i[4][0]):/^system$/i.test(i[2][0])&&(u=i[3][0]));var l=i[s-1];return n.startDTD(a,c,u),n.endDTD(),l.index+l[0].length}return-1}function f(e,t,n){var r=e.indexOf("?>",t);if(r){var o=e.substring(t,r).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);return o?(o[0].length,n.processingInstruction(o[1],o[2]),r+2):-1}return-1}function m(){this.attributeNames={}}i.prototype=new Error,i.prototype.name=i.name,s.prototype={parse:function(e,t,n){var r=this.domBuilder;r.startDocument(),h(t,t={}),function(e,t,n,r,o){function s(e){var t=e.slice(1,-1);return t in n?n[t]:"#"===t.charAt(0)?function(e){if(e>65535){var t=55296+((e-=65536)>>10),n=56320+(1023&e);return String.fromCharCode(t,n)}return String.fromCharCode(e)}(parseInt(t.substr(1).replace("x","0x"))):(o.error("entity not found:"+e),e)}function h(t){if(t>S){var n=e.substring(S,t).replace(/&#?\w+;/g,s);b&&g(S),r.characters(n,0,t-S),S=t}}function g(t,n){for(;t>=y&&(n=w.exec(e));)v=n.index,y=v+n[0].length,b.lineNumber++;b.columnNumber=t-v+1}for(var v=0,y=0,w=/.*(?:\r\n?|\n)|.*$/g,b=r.locator,_=[{currentNSMap:t}],C={},S=0;;){try{var T=e.indexOf("<",S);if(T<0){if(!e.substr(S).match(/^\s*$/)){var E=r.doc,x=E.createTextNode(e.substr(S));E.appendChild(x),r.currentElement=x}return}switch(T>S&&h(T),e.charAt(T+1)){case"/":var D=e.indexOf(">",T+3),k=e.substring(T+2,D),R=_.pop();D<0?(k=e.substring(T+2).replace(/[\s<].*/,""),o.error("end tag name: "+k+" is not complete:"+R.tagName),D=T+1+k.length):k.match(/\s</)&&(k=k.replace(/[\s<].*/,""),o.error("end tag name: "+k+" maybe not complete"),D=T+1+k.length);var P=R.localNSMap,N=R.tagName==k;if(N||R.tagName&&R.tagName.toLowerCase()==k.toLowerCase()){if(r.endElement(R.uri,R.localName,k),P)for(var O in P)r.endPrefixMapping(O);N||o.fatalError("end tag name: "+k+" is not match the current start tagName:"+R.tagName)}else _.push(R);D++;break;case"?":b&&g(T),D=f(e,T,r);break;case"!":b&&g(T),D=p(e,T,r,o);break;default:b&&g(T);var I=new m,A=_[_.length-1].currentNSMap,F=(D=c(e,T,I,A,s,o),I.length);if(!I.closed&&d(e,D,I.tagName,C)&&(I.closed=!0,n.nbsp||o.warning("unclosed xml attribute")),b&&F){for(var M=a(b,{}),q=0;q<F;q++){var L=I[q];g(L.offset),L.locator=a(b,{})}r.locator=M,u(I,r,A)&&_.push(I),r.locator=b}else u(I,r,A)&&_.push(I);"http://www.w3.org/1999/xhtml"!==I.uri||I.closed?D++:D=l(e,D,I.tagName,s,r)}}catch(e){if(e instanceof i)throw e;o.error("element parse error: "+e),D=-1}D>S?S=D:h(Math.max(T,S)+1)}}(e,t,n,r,this.errorHandler),r.endDocument()}},m.prototype={setTagName:function(e){if(!o.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},addValue:function(e,t,n){if(!o.test(e))throw new Error("invalid attribute:"+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:n}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}},t.XMLReader=s,t.ParseError=i},7691:(e,t)=>{!function(e){"use strict";var t=function(e,t){for(var n=0;n<t.length;n+=1)e(t[n],n,t)},n=function(e,n,r){var o=n;return t((function(t,n){o=e(o,t,n)}),r),o},r=function(e,n){var r=new Array(n.length);return t((function(t,n){r[n]=e(t)}),n),r};function o(e){return e.toString()}var i=function(e,t){return t.join(e)},s=function(e,t,n){return e+n+t},a=Array.prototype.concat;function c(e,t){for(var n=Object(e),r=1;r<arguments.length;r++){var o=arguments[r];if(null!=o)for(var i in o)Object.prototype.hasOwnProperty.call(o,i)&&(n[i]=o[i])}return n}function u(){this.init()}function l(e){this.expression=e}function d(e,t,n){t in e||(e[t]=n)}function h(){}function p(e){arguments.length>0&&this.init(e)}function f(e){arguments.length>0&&this.init(e)}function m(e,t){arguments.length>0&&this.init(e,t)}function g(e,t){arguments.length>0&&this.init(e,t)}function v(e,t){arguments.length>0&&this.init(e,t)}function y(e,t){arguments.length>0&&this.init(e,t)}function w(e,t){arguments.length>0&&this.init(e,t)}function b(e,t){arguments.length>0&&this.init(e,t)}function _(e,t){arguments.length>0&&this.init(e,t)}function C(e,t){arguments.length>0&&this.init(e,t)}function S(e,t){arguments.length>0&&this.init(e,t)}function T(e,t){arguments.length>0&&this.init(e,t)}function E(e,t){arguments.length>0&&this.init(e,t)}function x(e,t){arguments.length>0&&this.init(e,t)}function D(e,t){arguments.length>0&&this.init(e,t)}function k(e,t){arguments.length>0&&this.init(e,t)}function R(e,t){arguments.length>0&&this.init(e,t)}function P(e,t,n){arguments.length>0&&this.init(e,t,n)}function N(e){for(;e&&e.parentNode;)e=e.parentNode;return e}function O(e,t,n){return P.applyPredicates(e.predicates,t,P.applyStep(e,t,n))}function I(e,t,n){return function(e){for(var t=[],n=0;n<e.length;n+=32767){var r=e.slice(n,n+32767);t=a.apply(t,r)}return t}(r(O.bind(null,n,e),t))}function A(e,t){arguments.length>0&&this.init(e,t)}function F(e,t,n){arguments.length>0&&this.init(e,t,n)}function M(e,t){arguments.length>0&&this.init(e,t)}function q(e){arguments.length>0&&this.init(e)}function L(e,t){arguments.length>0&&this.init(e,t)}u.prototype=new Object,u.prototype.constructor=u,u.superclass=Object.prototype,u.prototype.init=function(){this.reduceActions=[],this.reduceActions[3]=function(e){return new g(e[0],e[2])},this.reduceActions[5]=function(e){return new v(e[0],e[2])},this.reduceActions[7]=function(e){return new y(e[0],e[2])},this.reduceActions[8]=function(e){return new w(e[0],e[2])},this.reduceActions[10]=function(e){return new b(e[0],e[2])},this.reduceActions[11]=function(e){return new _(e[0],e[2])},this.reduceActions[12]=function(e){return new C(e[0],e[2])},this.reduceActions[13]=function(e){return new S(e[0],e[2])},this.reduceActions[15]=function(e){return new T(e[0],e[2])},this.reduceActions[16]=function(e){return new E(e[0],e[2])},this.reduceActions[18]=function(e){return new x(e[0],e[2])},this.reduceActions[19]=function(e){return new D(e[0],e[2])},this.reduceActions[20]=function(e){return new k(e[0],e[2])},this.reduceActions[22]=function(e){return new f(e[1])},this.reduceActions[24]=function(e){return new R(e[0],e[2])},this.reduceActions[25]=function(e){return new P(void 0,void 0,e[0])},this.reduceActions[27]=function(e){return e[0].locationPath=e[2],e[0]},this.reduceActions[28]=function(e){return e[0].locationPath=e[2],e[0].locationPath.steps.unshift(new F(F.DESCENDANTORSELF,M.nodeTest,[])),e[0]},this.reduceActions[29]=function(e){return new P(e[0],[],void 0)},this.reduceActions[30]=function(e){return J.instance_of(e[0],P)?(null==e[0].filterPredicates&&(e[0].filterPredicates=[]),e[0].filterPredicates.push(e[1]),e[0]):new P(e[0],[e[1]],void 0)},this.reduceActions[32]=function(e){return e[1]},this.reduceActions[33]=function(e){return new H(e[0])},this.reduceActions[34]=function(e){return new $(e[0])},this.reduceActions[36]=function(e){return new L(e[0],[])},this.reduceActions[37]=function(e){return new L(e[0],e[2])},this.reduceActions[38]=function(e){return[e[0]]},this.reduceActions[39]=function(e){return e[2].unshift(e[0]),e[2]},this.reduceActions[43]=function(e){return new A(!0,[])},this.reduceActions[44]=function(e){return e[1].absolute=!0,e[1]},this.reduceActions[46]=function(e){return new A(!1,[e[0]])},this.reduceActions[47]=function(e){return e[0].steps.push(e[2]),e[0]},this.reduceActions[49]=function(e){return new F(e[0],e[1],[])},this.reduceActions[50]=function(e){return new F(F.CHILD,e[0],[])},this.reduceActions[51]=function(e){return new F(e[0],e[1],e[2])},this.reduceActions[52]=function(e){return new F(F.CHILD,e[0],e[1])},this.reduceActions[54]=function(e){return[e[0]]},this.reduceActions[55]=function(e){return e[1].unshift(e[0]),e[1]},this.reduceActions[56]=function(e){return"ancestor"==e[0]?F.ANCESTOR:"ancestor-or-self"==e[0]?F.ANCESTORORSELF:"attribute"==e[0]?F.ATTRIBUTE:"child"==e[0]?F.CHILD:"descendant"==e[0]?F.DESCENDANT:"descendant-or-self"==e[0]?F.DESCENDANTORSELF:"following"==e[0]?F.FOLLOWING:"following-sibling"==e[0]?F.FOLLOWINGSIBLING:"namespace"==e[0]?F.NAMESPACE:"parent"==e[0]?F.PARENT:"preceding"==e[0]?F.PRECEDING:"preceding-sibling"==e[0]?F.PRECEDINGSIBLING:"self"==e[0]?F.SELF:-1},this.reduceActions[57]=function(e){return F.ATTRIBUTE},this.reduceActions[59]=function(e){return"comment"==e[0]?M.commentTest:"text"==e[0]?M.textTest:"processing-instruction"==e[0]?M.anyPiTest:"node"==e[0]?M.nodeTest:new M(-1,void 0)},this.reduceActions[60]=function(e){return new M.PITest(e[2])},this.reduceActions[61]=function(e){return e[1]},this.reduceActions[63]=function(e){return e[1].absolute=!0,e[1].steps.unshift(new F(F.DESCENDANTORSELF,M.nodeTest,[])),e[1]},this.reduceActions[64]=function(e){return e[0].steps.push(new F(F.DESCENDANTORSELF,M.nodeTest,[])),e[0].steps.push(e[2]),e[0]},this.reduceActions[65]=function(e){return new F(F.SELF,M.nodeTest,[])},this.reduceActions[66]=function(e){return new F(F.PARENT,M.nodeTest,[])},this.reduceActions[67]=function(e){return new q(e[1])},this.reduceActions[68]=function(e){return M.nameTestAny},this.reduceActions[69]=function(e){return new M.NameTestPrefixAny(e[0].split(":")[0])},this.reduceActions[70]=function(e){return new M.NameTestQName(e[0])}},u.actionTable=[" s s        sssssssss    s ss  s  ss","                 s                  ","r  rrrrrrrrr         rrrrrrr rr  r  ","                rrrrr               "," s s        sssssssss    s ss  s  ss","rs  rrrrrrrr s  sssssrrrrrr  rrs rs "," s s        sssssssss    s ss  s  ss","                            s       ","                            s       ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","  s                                 ","                            s       "," s           s  sssss          s  s ","r  rrrrrrrrr         rrrrrrr rr  r  ","a                                   ","r       s                    rr  r  ","r      sr                    rr  r  ","r   s  rr            s       rr  r  ","r   rssrr            rss     rr  r  ","r   rrrrr            rrrss   rr  r  ","r   rrrrrsss         rrrrr   rr  r  ","r   rrrrrrrr         rrrrr   rr  r  ","r   rrrrrrrr         rrrrrs  rr  r  ","r   rrrrrrrr         rrrrrr  rr  r  ","r   rrrrrrrr         rrrrrr  rr  r  ","r  srrrrrrrr         rrrrrrs rr sr  ","r  srrrrrrrr         rrrrrrs rr  r  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r   rrrrrrrr         rrrrrr  rr  r  ","r   rrrrrrrr         rrrrrr  rr  r  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr  r  ","                sssss               ","r  rrrrrrrrr         rrrrrrr rr sr  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","                             s      ","r  srrrrrrrr         rrrrrrs rr  r  ","r   rrrrrrrr         rrrrr   rr  r  ","              s                     ","                             s      ","                rrrrr               "," s s        sssssssss    s sss s  ss","r  srrrrrrrr         rrrrrrs rr  r  "," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss    s ss  s  ss"," s s        sssssssss      ss  s  ss"," s s        sssssssss    s ss  s  ss"," s           s  sssss          s  s "," s           s  sssss          s  s ","r  rrrrrrrrr         rrrrrrr rr rr  "," s           s  sssss          s  s "," s           s  sssss          s  s ","r  rrrrrrrrr         rrrrrrr rr sr  ","r  rrrrrrrrr         rrrrrrr rr sr  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr rr  ","                             s      ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  ","                             rr     ","                             s      ","                             rs     ","r      sr                    rr  r  ","r   s  rr            s       rr  r  ","r   rssrr            rss     rr  r  ","r   rssrr            rss     rr  r  ","r   rrrrr            rrrss   rr  r  ","r   rrrrr            rrrss   rr  r  ","r   rrrrr            rrrss   rr  r  ","r   rrrrr            rrrss   rr  r  ","r   rrrrrsss         rrrrr   rr  r  ","r   rrrrrsss         rrrrr   rr  r  ","r   rrrrrrrr         rrrrr   rr  r  ","r   rrrrrrrr         rrrrr   rr  r  ","r   rrrrrrrr         rrrrr   rr  r  ","r   rrrrrrrr         rrrrrr  rr  r  ","                                 r  ","                                 s  ","r  srrrrrrrr         rrrrrrs rr  r  ","r  srrrrrrrr         rrrrrrs rr  r  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr  r  ","r  rrrrrrrrr         rrrrrrr rr rr  ","r  rrrrrrrrr         rrrrrrr rr rr  "," s s        sssssssss    s ss  s  ss","r  rrrrrrrrr         rrrrrrr rr rr  ","                             r      "],u.actionTableNumber=[" 1 0        /.-,+*)('    & %$  #  \"!","                 J                  ","a  aaaaaaaaa         aaaaaaa aa  a  ","                YYYYY               "," 1 0        /.-,+*)('    & %$  #  \"!","K1  KKKKKKKK .  +*)('KKKKKK  KK# K\" "," 1 0        /.-,+*)('    & %$  #  \"!","                            N       ","                            O       ","e  eeeeeeeee         eeeeeee ee ee  ","f  fffffffff         fffffff ff ff  ","d  ddddddddd         ddddddd dd dd  ","B  BBBBBBBBB         BBBBBBB BB BB  ","A  AAAAAAAAA         AAAAAAA AA AA  ","  P                                 ","                            Q       "," 1           .  +*)('          #  \" ","b  bbbbbbbbb         bbbbbbb bb  b  ","                                    ","!       S                    !!  !  ",'"      T"                    ""  "  ',"$   V  $$            U       $$  $  ","&   &ZY&&            &XW     &&  &  ",")   )))))            )))\\[   ))  )  ",".   ....._^]         .....   ..  .  ","1   11111111         11111   11  1  ","5   55555555         55555`  55  5  ","7   77777777         777777  77  7  ","9   99999999         999999  99  9  ",":  c::::::::         ::::::b :: a:  ","I  fIIIIIIII         IIIIIIe II  I  ","=  =========         ======= == ==  ","?  ?????????         ??????? ?? ??  ","C  CCCCCCCCC         CCCCCCC CC CC  ","J   JJJJJJJJ         JJJJJJ  JJ  J  ","M   MMMMMMMM         MMMMMM  MM  M  ","N  NNNNNNNNN         NNNNNNN NN  N  ","P  PPPPPPPPP         PPPPPPP PP  P  ","                +*)('               ","R  RRRRRRRRR         RRRRRRR RR aR  ","U  UUUUUUUUU         UUUUUUU UU  U  ","Z  ZZZZZZZZZ         ZZZZZZZ ZZ ZZ  ","c  ccccccccc         ccccccc cc cc  ","                             j      ","L  fLLLLLLLL         LLLLLLe LL  L  ","6   66666666         66666   66  6  ","              k                     ","                             l      ","                XXXXX               "," 1 0        /.-,+*)('    & %$m #  \"!","_  f________         ______e __  _  "," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1 0        /.-,+*)('      %$  #  \"!"," 1 0        /.-,+*)('    & %$  #  \"!"," 1           .  +*)('          #  \" "," 1           .  +*)('          #  \" ",">  >>>>>>>>>         >>>>>>> >> >>  "," 1           .  +*)('          #  \" "," 1           .  +*)('          #  \" ","Q  QQQQQQQQQ         QQQQQQQ QQ aQ  ","V  VVVVVVVVV         VVVVVVV VV aV  ","T  TTTTTTTTT         TTTTTTT TT  T  ","@  @@@@@@@@@         @@@@@@@ @@ @@  ","                                   ","[  [[[[[[[[[         [[[[[[[ [[ [[  ","D  DDDDDDDDD         DDDDDDD DD DD  ","                             HH     ","                                   ","                             F     ","#      T#                    ##  #  ","%   V  %%            U       %%  %  ","'   'ZY''            'XW     ''  '  ","(   (ZY((            (XW     ((  (  ","+   +++++            +++\\[   ++  +  ","*   *****            ***\\[   **  *  ","-   -----            ---\\[   --  -  ",",   ,,,,,            ,,,\\[   ,,  ,  ","0   00000_^]         00000   00  0  ","/   /////_^]         /////   //  /  ","2   22222222         22222   22  2  ","3   33333333         33333   33  3  ","4   44444444         44444   44  4  ","8   88888888         888888  88  8  ","                                 ^  ","                                   ",";  f;;;;;;;;         ;;;;;;e ;;  ;  ","<  f<<<<<<<<         <<<<<<e <<  <  ","O  OOOOOOOOO         OOOOOOO OO  O  ","`  `````````         ``````` ``  `  ","S  SSSSSSSSS         SSSSSSS SS  S  ","W  WWWWWWWWW         WWWWWWW WW  W  ","\\  \\\\\\\\\\\\\\\\\\         \\\\\\\\\\\\\\ \\\\ \\\\  ","E  EEEEEEEEE         EEEEEEE EE EE  "," 1 0        /.-,+*)('    & %$  #  \"!","]  ]]]]]]]]]         ]]]]]]] ]] ]]  ","                             G      "],u.gotoTable=["3456789:;<=>?@ AB  CDEFGH IJ ","                             ","                             ","                             ","L456789:;<=>?@ AB  CDEFGH IJ ","            M        EFGH IJ ","       N;<=>?@ AB  CDEFGH IJ ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","            S        EFGH IJ ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","              e              ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                        h  J ","              i          j   ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","o456789:;<=>?@ ABpqCDEFGH IJ ","                             ","  r6789:;<=>?@ AB  CDEFGH IJ ","   s789:;<=>?@ AB  CDEFGH IJ ","    t89:;<=>?@ AB  CDEFGH IJ ","    u89:;<=>?@ AB  CDEFGH IJ ","     v9:;<=>?@ AB  CDEFGH IJ ","     w9:;<=>?@ AB  CDEFGH IJ ","     x9:;<=>?@ AB  CDEFGH IJ ","     y9:;<=>?@ AB  CDEFGH IJ ","      z:;<=>?@ AB  CDEFGH IJ ","      {:;<=>?@ AB  CDEFGH IJ ","       |;<=>?@ AB  CDEFGH IJ ","       };<=>?@ AB  CDEFGH IJ ","       ~;<=>?@ AB  CDEFGH IJ ","         =>?@ AB  CDEFGH IJ ","456789:;<=>?@ AB  CDEFGH IJ","                    EFGH IJ ","                    EFGH IJ ","                             ","                      GH IJ ","                      GH IJ ","              i             ","              i             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","                             ","o456789:;<=>?@ ABqCDEFGH IJ ","                             ","                             "],u.productions=[[1,1,2],[2,1,3],[3,1,4],[3,3,3,-9,4],[4,1,5],[4,3,4,-8,5],[5,1,6],[5,3,5,-22,6],[5,3,5,-5,6],[6,1,7],[6,3,6,-23,7],[6,3,6,-24,7],[6,3,6,-6,7],[6,3,6,-7,7],[7,1,8],[7,3,7,-25,8],[7,3,7,-26,8],[8,1,9],[8,3,8,-12,9],[8,3,8,-11,9],[8,3,8,-10,9],[9,1,10],[9,2,-26,9],[10,1,11],[10,3,10,-27,11],[11,1,12],[11,1,13],[11,3,13,-28,14],[11,3,13,-4,14],[13,1,15],[13,2,13,16],[15,1,17],[15,3,-29,2,-30],[15,1,-15],[15,1,-16],[15,1,18],[18,3,-13,-29,-30],[18,4,-13,-29,19,-30],[19,1,20],[19,3,20,-31,19],[20,1,2],[12,1,14],[12,1,21],[21,1,-28],[21,2,-28,14],[21,1,22],[14,1,23],[14,3,14,-28,23],[14,1,24],[23,2,25,26],[23,1,26],[23,3,25,26,27],[23,2,26,27],[23,1,28],[27,1,16],[27,2,16,27],[25,2,-14,-3],[25,1,-32],[26,1,29],[26,3,-20,-29,-30],[26,4,-21,-29,-15,-30],[16,3,-33,30,-34],[30,1,2],[22,2,-4,14],[24,3,14,-4,23],[28,1,-35],[28,1,-2],[17,2,-36,-18],[29,1,-17],[29,1,-19],[29,1,-18]],u.DOUBLEDOT=2,u.DOUBLECOLON=3,u.DOUBLESLASH=4,u.NOTEQUAL=5,u.LESSTHANOREQUAL=6,u.GREATERTHANOREQUAL=7,u.AND=8,u.OR=9,u.MOD=10,u.DIV=11,u.MULTIPLYOPERATOR=12,u.FUNCTIONNAME=13,u.AXISNAME=14,u.LITERAL=15,u.NUMBER=16,u.ASTERISKNAMETEST=17,u.QNAME=18,u.NCNAMECOLONASTERISK=19,u.NODETYPE=20,u.PROCESSINGINSTRUCTIONWITHLITERAL=21,u.EQUALS=22,u.LESSTHAN=23,u.GREATERTHAN=24,u.PLUS=25,u.MINUS=26,u.BAR=27,u.SLASH=28,u.LEFTPARENTHESIS=29,u.RIGHTPARENTHESIS=30,u.COMMA=31,u.AT=32,u.LEFTBRACKET=33,u.RIGHTBRACKET=34,u.DOT=35,u.DOLLAR=36,u.prototype.tokenize=function(e){for(var t=[],n=[],r=e+"\0",o=0,i=r.charAt(o++);;){for(;" "==i||"\t"==i||"\r"==i||"\n"==i;)i=r.charAt(o++);if("\0"==i||o>=r.length)break;if("("!=i)if(")"!=i)if("["!=i)if("]"!=i)if("@"!=i)if(","!=i)if("|"!=i)if("+"!=i)if("-"!=i)if("="!=i)if("$"!=i)if("."!=i)if("'"!=i&&'"'!=i)if(i>="0"&&i<="9"){for(d=i,i=r.charAt(o++);i>="0"&&i<="9";)d+=i,i=r.charAt(o++);if("."==i&&r.charAt(o)>="0"&&r.charAt(o)<="9")for(d+=i,d+=r.charAt(o++),i=r.charAt(o++);i>="0"&&i<="9";)d+=i,i=r.charAt(o++);t.push(u.NUMBER),n.push(d)}else if("*"!=i)if(":"!=i||":"!=r.charAt(o))if("/"!=i)if("!"!=i||"="!=r.charAt(o))if("<"!=i)if(">"!=i){if("_"!=i&&!J.isLetter(i.charCodeAt(0)))throw new Error("Unexpected character "+i);var s=i;for(i=r.charAt(o++);J.isNCNameChar(i.charCodeAt(0));)s+=i,i=r.charAt(o++);if(t.length>0&&(a=t[t.length-1])!=u.AT&&a!=u.DOUBLECOLON&&a!=u.LEFTPARENTHESIS&&a!=u.LEFTBRACKET&&a!=u.AND&&a!=u.OR&&a!=u.MOD&&a!=u.DIV&&a!=u.MULTIPLYOPERATOR&&a!=u.SLASH&&a!=u.DOUBLESLASH&&a!=u.BAR&&a!=u.PLUS&&a!=u.MINUS&&a!=u.EQUALS&&a!=u.NOTEQUAL&&a!=u.LESSTHAN&&a!=u.LESSTHANOREQUAL&&a!=u.GREATERTHAN&&a!=u.GREATERTHANOREQUAL){if("and"==s){t.push(u.AND),n.push(s);continue}if("or"==s){t.push(u.OR),n.push(s);continue}if("mod"==s){t.push(u.MOD),n.push(s);continue}if("div"==s){t.push(u.DIV),n.push(s);continue}}if(":"==i){if("*"==r.charAt(o)){t.push(u.NCNAMECOLONASTERISK),n.push(s+":*"),o++,i=r.charAt(o++);continue}if("_"==r.charAt(o)||J.isLetter(r.charCodeAt(o))){for(s+=":",i=r.charAt(o++);J.isNCNameChar(i.charCodeAt(0));)s+=i,i=r.charAt(o++);if("("==i){t.push(u.FUNCTIONNAME),n.push(s);continue}t.push(u.QNAME),n.push(s);continue}if(":"==r.charAt(o)){t.push(u.AXISNAME),n.push(s);continue}}if("("==i){if("comment"==s||"text"==s||"node"==s){t.push(u.NODETYPE),n.push(s);continue}if("processing-instruction"==s){")"==r.charAt(o)?t.push(u.NODETYPE):t.push(u.PROCESSINGINSTRUCTIONWITHLITERAL),n.push(s);continue}t.push(u.FUNCTIONNAME),n.push(s);continue}t.push(u.QNAME),n.push(s)}else{if("="==r.charAt(o)){t.push(u.GREATERTHANOREQUAL),n.push(">="),o++,i=r.charAt(o++);continue}t.push(u.GREATERTHAN),n.push(">"),i=r.charAt(o++)}else{if("="==r.charAt(o)){t.push(u.LESSTHANOREQUAL),n.push("<="),o++,i=r.charAt(o++);continue}t.push(u.LESSTHAN),n.push("<"),i=r.charAt(o++)}else t.push(u.NOTEQUAL),n.push("!="),o++,i=r.charAt(o++);else{if("/"==(i=r.charAt(o++))){t.push(u.DOUBLESLASH),n.push("//"),i=r.charAt(o++);continue}t.push(u.SLASH),n.push("/")}else t.push(u.DOUBLECOLON),n.push("::"),o++,i=r.charAt(o++);else{var a;if(t.length>0&&(a=t[t.length-1])!=u.AT&&a!=u.DOUBLECOLON&&a!=u.LEFTPARENTHESIS&&a!=u.LEFTBRACKET&&a!=u.AND&&a!=u.OR&&a!=u.MOD&&a!=u.DIV&&a!=u.MULTIPLYOPERATOR&&a!=u.SLASH&&a!=u.DOUBLESLASH&&a!=u.BAR&&a!=u.PLUS&&a!=u.MINUS&&a!=u.EQUALS&&a!=u.NOTEQUAL&&a!=u.LESSTHAN&&a!=u.LESSTHANOREQUAL&&a!=u.GREATERTHAN&&a!=u.GREATERTHANOREQUAL){t.push(u.MULTIPLYOPERATOR),n.push(i),i=r.charAt(o++);continue}t.push(u.ASTERISKNAMETEST),n.push(i),i=r.charAt(o++)}else{for(var c=i,l="";o<r.length&&(i=r.charAt(o))!==c;)l+=i,o+=1;if(i!==c)throw Q.fromMessage("Unterminated string literal: "+c+l);o+=1,t.push(u.LITERAL),n.push(l),i=r.charAt(o++)}else{if("."==(i=r.charAt(o++))){t.push(u.DOUBLEDOT),n.push(".."),i=r.charAt(o++);continue}if(i>="0"&&i<="9"){var d="."+i;for(i=r.charAt(o++);i>="0"&&i<="9";)d+=i,i=r.charAt(o++);t.push(u.NUMBER),n.push(d);continue}t.push(u.DOT),n.push(".")}else t.push(u.DOLLAR),n.push(i),i=r.charAt(o++);else t.push(u.EQUALS),n.push(i),i=r.charAt(o++);else t.push(u.MINUS),n.push(i),i=r.charAt(o++);else t.push(u.PLUS),n.push(i),i=r.charAt(o++);else t.push(u.BAR),n.push(i),i=r.charAt(o++);else t.push(u.COMMA),n.push(i),i=r.charAt(o++);else t.push(u.AT),n.push(i),i=r.charAt(o++);else t.push(u.RIGHTBRACKET),n.push(i),i=r.charAt(o++);else t.push(u.LEFTBRACKET),n.push(i),i=r.charAt(o++);else t.push(u.RIGHTPARENTHESIS),n.push(i),i=r.charAt(o++);else t.push(u.LEFTPARENTHESIS),n.push(i),i=r.charAt(o++)}return t.push(1),n.push("[EOF]"),[t,n]},u.SHIFT="s",u.REDUCE="r",u.ACCEPT="a",u.prototype.parse=function(e){var t,n,r=this.tokenize(e);if(null!=r){t=r[0],n=r[1];var o,i,s=0,a=[],c=[],d=[];for(a.push(0),c.push(1),d.push("_S"),o=t[s],i=n[s++];;)switch(e=a[a.length-1],u.actionTable[e].charAt(o-1)){case u.SHIFT:c.push(-o),d.push(i),a.push(u.actionTableNumber[e].charCodeAt(o-1)-32),o=t[s],i=n[s++];break;case u.REDUCE:for(var h=u.productions[u.actionTableNumber[e].charCodeAt(o-1)-32][1],p=[],f=0;f<h;f++)c.pop(),p.unshift(d.pop()),a.pop();var m=a[a.length-1];c.push(u.productions[u.actionTableNumber[e].charCodeAt(o-1)-32][0]),null==this.reduceActions[u.actionTableNumber[e].charCodeAt(o-1)-32]?d.push(p[0]):d.push(this.reduceActions[u.actionTableNumber[e].charCodeAt(o-1)-32](p)),a.push(u.gotoTable[m].charCodeAt(u.productions[u.actionTableNumber[e].charCodeAt(o-1)-32][0]-2)-33);break;case u.ACCEPT:return new l(d.pop());default:throw new Error("XPath parse error")}}},l.prototype=new Object,l.prototype.constructor=l,l.superclass=Object.prototype,l.prototype.toString=function(){return this.expression.toString()},l.prototype.evaluate=function(e){return e.contextNode=e.expressionContextNode,e.contextSize=1,e.contextPosition=1,e.isHtml&&(d(e,"caseInsensitive",!0),d(e,"allowAnyNamespaceForNoPrefix",!0)),d(e,"caseInsensitive",!1),this.expression.evaluate(e)},l.XML_NAMESPACE_URI="http://www.w3.org/XML/1998/namespace",l.XMLNS_NAMESPACE_URI="http://www.w3.org/2000/xmlns/",h.prototype=new Object,h.prototype.constructor=h,h.superclass=Object.prototype,h.prototype.init=function(){},h.prototype.toString=function(){return"<Expression>"},h.prototype.evaluate=function(e){throw new Error("Could not evaluate expression.")},p.prototype=new h,p.prototype.constructor=p,p.superclass=h.prototype,p.prototype.init=function(e){this.rhs=e},f.prototype=new p,f.prototype.constructor=f,f.superclass=p.prototype,f.prototype.init=function(e){f.superclass.init.call(this,e)},f.prototype.evaluate=function(e){return this.rhs.evaluate(e).number().negate()},f.prototype.toString=function(){return"-"+this.rhs.toString()},m.prototype=new h,m.prototype.constructor=m,m.superclass=h.prototype,m.prototype.init=function(e,t){this.lhs=e,this.rhs=t},g.prototype=new m,g.prototype.constructor=g,g.superclass=m.prototype,g.prototype.init=function(e,t){g.superclass.init.call(this,e,t)},g.prototype.toString=function(){return"("+this.lhs.toString()+" or "+this.rhs.toString()+")"},g.prototype.evaluate=function(e){var t=this.lhs.evaluate(e).bool();return t.booleanValue()?t:this.rhs.evaluate(e).bool()},v.prototype=new m,v.prototype.constructor=v,v.superclass=m.prototype,v.prototype.init=function(e,t){v.superclass.init.call(this,e,t)},v.prototype.toString=function(){return"("+this.lhs.toString()+" and "+this.rhs.toString()+")"},v.prototype.evaluate=function(e){var t=this.lhs.evaluate(e).bool();return t.booleanValue()?this.rhs.evaluate(e).bool():t},y.prototype=new m,y.prototype.constructor=y,y.superclass=m.prototype,y.prototype.init=function(e,t){y.superclass.init.call(this,e,t)},y.prototype.toString=function(){return"("+this.lhs.toString()+" = "+this.rhs.toString()+")"},y.prototype.evaluate=function(e){return this.lhs.evaluate(e).equals(this.rhs.evaluate(e))},w.prototype=new m,w.prototype.constructor=w,w.superclass=m.prototype,w.prototype.init=function(e,t){w.superclass.init.call(this,e,t)},w.prototype.toString=function(){return"("+this.lhs.toString()+" != "+this.rhs.toString()+")"},w.prototype.evaluate=function(e){return this.lhs.evaluate(e).notequal(this.rhs.evaluate(e))},b.prototype=new m,b.prototype.constructor=b,b.superclass=m.prototype,b.prototype.init=function(e,t){b.superclass.init.call(this,e,t)},b.prototype.evaluate=function(e){return this.lhs.evaluate(e).lessthan(this.rhs.evaluate(e))},b.prototype.toString=function(){return"("+this.lhs.toString()+" < "+this.rhs.toString()+")"},_.prototype=new m,_.prototype.constructor=_,_.superclass=m.prototype,_.prototype.init=function(e,t){_.superclass.init.call(this,e,t)},_.prototype.evaluate=function(e){return this.lhs.evaluate(e).greaterthan(this.rhs.evaluate(e))},_.prototype.toString=function(){return"("+this.lhs.toString()+" > "+this.rhs.toString()+")"},C.prototype=new m,C.prototype.constructor=C,C.superclass=m.prototype,C.prototype.init=function(e,t){C.superclass.init.call(this,e,t)},C.prototype.evaluate=function(e){return this.lhs.evaluate(e).lessthanorequal(this.rhs.evaluate(e))},C.prototype.toString=function(){return"("+this.lhs.toString()+" <= "+this.rhs.toString()+")"},S.prototype=new m,S.prototype.constructor=S,S.superclass=m.prototype,S.prototype.init=function(e,t){S.superclass.init.call(this,e,t)},S.prototype.evaluate=function(e){return this.lhs.evaluate(e).greaterthanorequal(this.rhs.evaluate(e))},S.prototype.toString=function(){return"("+this.lhs.toString()+" >= "+this.rhs.toString()+")"},T.prototype=new m,T.prototype.constructor=T,T.superclass=m.prototype,T.prototype.init=function(e,t){T.superclass.init.call(this,e,t)},T.prototype.evaluate=function(e){return this.lhs.evaluate(e).number().plus(this.rhs.evaluate(e).number())},T.prototype.toString=function(){return"("+this.lhs.toString()+" + "+this.rhs.toString()+")"},E.prototype=new m,E.prototype.constructor=E,E.superclass=m.prototype,E.prototype.init=function(e,t){E.superclass.init.call(this,e,t)},E.prototype.evaluate=function(e){return this.lhs.evaluate(e).number().minus(this.rhs.evaluate(e).number())},E.prototype.toString=function(){return"("+this.lhs.toString()+" - "+this.rhs.toString()+")"},x.prototype=new m,x.prototype.constructor=x,x.superclass=m.prototype,x.prototype.init=function(e,t){x.superclass.init.call(this,e,t)},x.prototype.evaluate=function(e){return this.lhs.evaluate(e).number().multiply(this.rhs.evaluate(e).number())},x.prototype.toString=function(){return"("+this.lhs.toString()+" * "+this.rhs.toString()+")"},D.prototype=new m,D.prototype.constructor=D,D.superclass=m.prototype,D.prototype.init=function(e,t){D.superclass.init.call(this,e,t)},D.prototype.evaluate=function(e){return this.lhs.evaluate(e).number().div(this.rhs.evaluate(e).number())},D.prototype.toString=function(){return"("+this.lhs.toString()+" div "+this.rhs.toString()+")"},k.prototype=new m,k.prototype.constructor=k,k.superclass=m.prototype,k.prototype.init=function(e,t){k.superclass.init.call(this,e,t)},k.prototype.evaluate=function(e){return this.lhs.evaluate(e).number().mod(this.rhs.evaluate(e).number())},k.prototype.toString=function(){return"("+this.lhs.toString()+" mod "+this.rhs.toString()+")"},R.prototype=new m,R.prototype.constructor=R,R.superclass=m.prototype,R.prototype.init=function(e,t){R.superclass.init.call(this,e,t)},R.prototype.evaluate=function(e){return this.lhs.evaluate(e).nodeset().union(this.rhs.evaluate(e).nodeset())},R.prototype.toString=function(){return r(o,[this.lhs,this.rhs]).join(" | ")},P.prototype=new h,P.prototype.constructor=P,P.superclass=h.prototype,P.prototype.init=function(e,t,n){P.superclass.init.call(this),this.filter=e,this.filterPredicates=t,this.locationPath=n},P.applyPredicates=function(e,r,o){if(0===e.length)return o;var i=r.extend({});return n((function(e,n){return i.contextSize=e.length,r=function(e,t){return i.contextNode=e,i.contextPosition=t+1,P.predicateMatches(n,i)},o=[],t((function(e,t){r(e,t)&&o.push(e)}),e),o;var r,o}),o,e)},P.getRoot=function(e,t){var n=t[0];if(9===n.nodeType)return n;if(e.virtualRoot)return e.virtualRoot;var r=n.ownerDocument;if(r)return r;for(var o=n;null!=o.parentNode;)o=o.parentNode;return o},P.applyStep=function(e,t,n){var r=[];switch(t.contextNode=n,e.axis){case F.ANCESTOR:if(t.contextNode===t.virtualRoot)break;for(o=2==t.contextNode.nodeType?P.getOwnerElement(t.contextNode):t.contextNode.parentNode;null!=o&&(e.nodeTest.matches(o,t)&&r.push(o),o!==t.virtualRoot);)o=o.parentNode;break;case F.ANCESTORORSELF:for(var o=t.contextNode;null!=o&&(e.nodeTest.matches(o,t)&&r.push(o),o!==t.virtualRoot);o=2==o.nodeType?P.getOwnerElement(o):o.parentNode);break;case F.ATTRIBUTE:var i=t.contextNode.attributes;if(null!=i)for(var s=0;s<i.length;s++)o=i.item(s),e.nodeTest.matches(o,t)&&r.push(o);break;case F.CHILD:for(o=t.contextNode.firstChild;null!=o;o=o.nextSibling)e.nodeTest.matches(o,t)&&r.push(o);break;case F.DESCENDANT:for(var a=[t.contextNode.firstChild];a.length>0;)for(o=a.pop();null!=o;)e.nodeTest.matches(o,t)&&r.push(o),null!=o.firstChild?(a.push(o.nextSibling),o=o.firstChild):o=o.nextSibling;break;case F.DESCENDANTORSELF:for(e.nodeTest.matches(t.contextNode,t)&&r.push(t.contextNode),a=[t.contextNode.firstChild];a.length>0;)for(o=a.pop();null!=o;)e.nodeTest.matches(o,t)&&r.push(o),null!=o.firstChild?(a.push(o.nextSibling),o=o.firstChild):o=o.nextSibling;break;case F.FOLLOWING:if(t.contextNode===t.virtualRoot)break;for(a=[],null!=t.contextNode.firstChild?a.unshift(t.contextNode.firstChild):a.unshift(t.contextNode.nextSibling),o=t.contextNode.parentNode;null!=o&&9!=o.nodeType&&o!==t.virtualRoot;o=o.parentNode)a.unshift(o.nextSibling);do{for(o=a.pop();null!=o;)e.nodeTest.matches(o,t)&&r.push(o),null!=o.firstChild?(a.push(o.nextSibling),o=o.firstChild):o=o.nextSibling}while(a.length>0);break;case F.FOLLOWINGSIBLING:if(t.contextNode===t.virtualRoot)break;for(o=t.contextNode.nextSibling;null!=o;o=o.nextSibling)e.nodeTest.matches(o,t)&&r.push(o);break;case F.NAMESPACE:var c={};if(1==t.contextNode.nodeType){for(c.xml=l.XML_NAMESPACE_URI,c.xmlns=l.XMLNS_NAMESPACE_URI,o=t.contextNode;null!=o&&1==o.nodeType;o=o.parentNode)for(s=0;s<o.attributes.length;s++){var u=o.attributes.item(s),d=String(u.name);"xmlns"==d?null==c[""]&&(c[""]=u.value):d.length>6&&"xmlns:"==d.substring(0,6)&&null==c[h=d.substring(6,d.length)]&&(c[h]=u.value)}for(var h in c){var p=new z(h,c[h],t.contextNode);e.nodeTest.matches(p,t)&&r.push(p)}}break;case F.PARENT:o=null,t.contextNode!==t.virtualRoot&&(o=2==t.contextNode.nodeType?P.getOwnerElement(t.contextNode):t.contextNode.parentNode),null!=o&&e.nodeTest.matches(o,t)&&r.push(o);break;case F.PRECEDING:a=null!=t.virtualRoot?[t.virtualRoot]:[N(t.contextNode)];e:for(;a.length>0;)for(o=a.pop();null!=o;){if(o==t.contextNode)break e;e.nodeTest.matches(o,t)&&r.unshift(o),null!=o.firstChild?(a.push(o.nextSibling),o=o.firstChild):o=o.nextSibling}break;case F.PRECEDINGSIBLING:if(t.contextNode===t.virtualRoot)break;for(o=t.contextNode.previousSibling;null!=o;o=o.previousSibling)e.nodeTest.matches(o,t)&&r.push(o);break;case F.SELF:e.nodeTest.matches(t.contextNode,t)&&r.push(t.contextNode)}return r},P.applySteps=function(e,t,r){return n(I.bind(null,t),r,e)},P.prototype.applyFilter=function(e,t){if(!this.filter)return{nodes:[e.contextNode]};var n=this.filter.evaluate(e);if(!J.instance_of(n,W)){if(null!=this.filterPredicates&&this.filterPredicates.length>0||null!=this.locationPath)throw new Error("Path expression filter must evaluate to a nodeset if predicates or location path are used");return{nonNodes:n}}return{nodes:P.applyPredicates(this.filterPredicates||[],t,n.toUnsortedArray())}},P.applyLocationPath=function(e,t,n){if(!e)return n;var r=e.absolute?[P.getRoot(t,n)]:n;return P.applySteps(e.steps,t,r)},P.prototype.evaluate=function(e){var t=c(new G,e),n=this.applyFilter(e,t);if("nonNodes"in n)return n.nonNodes;var r=new W;return r.addArray(P.applyLocationPath(this.locationPath,t,n.nodes)),r},P.predicateMatches=function(e,t){var n=e.evaluate(t);return J.instance_of(n,$)?t.contextPosition===n.numberValue():n.booleanValue()},P.predicateString=function(e){return s("[","]",e.toString())},P.predicatesString=function(e){return i("",r(P.predicateString,e))},P.prototype.toString=function(){if(null!=this.filter){var e=o(this.filter);return J.instance_of(this.filter,H)?s("'","'",e):null!=this.filterPredicates&&this.filterPredicates.length?s("(",")",e)+P.predicatesString(this.filterPredicates):null!=this.locationPath?e+(this.locationPath.absolute?"":"/")+o(this.locationPath):e}return o(this.locationPath)},P.getOwnerElement=function(e){if(e.ownerElement)return e.ownerElement;try{if(e.selectSingleNode)return e.selectSingleNode("..")}catch(e){}for(var t=(9==e.nodeType?e:e.ownerDocument).getElementsByTagName("*"),n=0;n<t.length;n++)for(var r=t.item(n),o=r.attributes,i=0;i<o.length;i++)if(o.item(i)===e)return r;return null},A.prototype=new Object,A.prototype.constructor=A,A.superclass=Object.prototype,A.prototype.init=function(e,t){this.absolute=e,this.steps=t},A.prototype.toString=function(){return(this.absolute?"/":"")+r(o,this.steps).join("/")},F.prototype=new Object,F.prototype.constructor=F,F.superclass=Object.prototype,F.prototype.init=function(e,t,n){this.axis=e,this.nodeTest=t,this.predicates=n},F.prototype.toString=function(){return F.STEPNAMES[this.axis]+"::"+this.nodeTest.toString()+P.predicatesString(this.predicates)},F.ANCESTOR=0,F.ANCESTORORSELF=1,F.ATTRIBUTE=2,F.CHILD=3,F.DESCENDANT=4,F.DESCENDANTORSELF=5,F.FOLLOWING=6,F.FOLLOWINGSIBLING=7,F.NAMESPACE=8,F.PARENT=9,F.PRECEDING=10,F.PRECEDINGSIBLING=11,F.SELF=12,F.STEPNAMES=n((function(e,t){return e[t[0]]=t[1],e}),{},[[F.ANCESTOR,"ancestor"],[F.ANCESTORORSELF,"ancestor-or-self"],[F.ATTRIBUTE,"attribute"],[F.CHILD,"child"],[F.DESCENDANT,"descendant"],[F.DESCENDANTORSELF,"descendant-or-self"],[F.FOLLOWING,"following"],[F.FOLLOWINGSIBLING,"following-sibling"],[F.NAMESPACE,"namespace"],[F.PARENT,"parent"],[F.PRECEDING,"preceding"],[F.PRECEDINGSIBLING,"preceding-sibling"],[F.SELF,"self"]]),M.prototype=new Object,M.prototype.constructor=M,M.superclass=Object.prototype,M.prototype.init=function(e,t){this.type=e,this.value=t},M.prototype.toString=function(){return"<unknown nodetest type>"},M.prototype.matches=function(e,t){console.warn("unknown node test type")},M.NAMETESTANY=0,M.NAMETESTPREFIXANY=1,M.NAMETESTQNAME=2,M.COMMENT=3,M.TEXT=4,M.PI=5,M.NODE=6,M.isNodeType=function(e){return function(t){return function(e,t){for(var n=0;n<e.length;n+=1)if(e[n]===t)return!0;return!1}(e,t.nodeType)}},M.makeNodeTestType=function(e,t,n){var r=n||function(){};return r.prototype=new M(e),r.prototype.constructor=r,c(r.prototype,t),r},M.makeNodeTypeTest=function(e,t,n){return new(M.makeNodeTestType(e,{matches:M.isNodeType(t),toString:(r=n,function(){return r})}));var r},M.hasPrefix=function(e){return e.prefix||-1!==(e.nodeName||e.tagName).indexOf(":")},M.isElementOrAttribute=M.isNodeType([1,2]),M.nameSpaceMatches=function(e,t,n){var r=n.namespaceURI||"";if(!e)return!r||t.allowAnyNamespaceForNoPrefix&&!M.hasPrefix(n);var o=t.namespaceResolver.getNamespace(e,t.expressionContextNode);if(null==o)throw new Error("Cannot resolve QName "+e);return o===r},M.localNameMatches=function(e,t,n){var r=n.localName||n.nodeName;return t.caseInsensitive?e.toLowerCase()===r.toLowerCase():e===r},M.NameTestPrefixAny=M.makeNodeTestType(M.NAMETESTPREFIXANY,{matches:function(e,t){return M.isElementOrAttribute(e)&&M.nameSpaceMatches(this.prefix,t,e)},toString:function(){return this.prefix+":*"}},(function(e){this.prefix=e})),M.NameTestQName=M.makeNodeTestType(M.NAMETESTQNAME,{matches:function(e,t){return M.isNodeType([1,2,z.XPATH_NAMESPACE_NODE])(e)&&M.nameSpaceMatches(this.prefix,t,e)&&M.localNameMatches(this.localName,t,e)},toString:function(){return this.name}},(function(e){var t=e.split(":");this.name=e,this.prefix=t.length>1?t[0]:null,this.localName=t[t.length>1?1:0]})),M.PITest=M.makeNodeTestType(M.PI,{matches:function(e,t){return M.isNodeType([7])(e)&&(e.target||e.nodeName)===this.name},toString:function(){return s('processing-instruction("','")',this.name)}},(function(e){this.name=e})),M.nameTestAny=M.makeNodeTypeTest(M.NAMETESTANY,[1,2,z.XPATH_NAMESPACE_NODE],"*"),M.textTest=M.makeNodeTypeTest(M.TEXT,[3,4],"text()"),M.commentTest=M.makeNodeTypeTest(M.COMMENT,[8],"comment()"),M.nodeTest=M.makeNodeTypeTest(M.NODE,[1,2,3,4,7,8,9],"node()"),M.anyPiTest=M.makeNodeTypeTest(M.PI,[7],"processing-instruction()"),q.prototype=new h,q.prototype.constructor=q,q.superclass=h.prototype,q.prototype.init=function(e){this.variable=e},q.prototype.toString=function(){return"$"+this.variable},q.prototype.evaluate=function(e){var t=J.resolveQName(this.variable,e.namespaceResolver,e.contextNode,!1);if(null==t[0])throw new Error("Cannot resolve QName "+fn);var n=e.variableResolver.getVariable(t[1],t[0]);if(!n)throw Q.fromMessage("Undeclared variable: "+this.toString());return n},L.prototype=new h,L.prototype.constructor=L,L.superclass=h.prototype,L.prototype.init=function(e,t){this.functionName=e,this.arguments=t},L.prototype.toString=function(){for(var e=this.functionName+"(",t=0;t<this.arguments.length;t++)t>0&&(e+=", "),e+=this.arguments[t].toString();return e+")"},L.prototype.evaluate=function(e){var t=K.getFunctionFromContext(this.functionName,e);if(!t)throw new Error("Unknown function "+this.functionName);var n=[e].concat(this.arguments);return t.apply(e.functionResolver.thisArg,n)};var j=new Object;function H(e){arguments.length>0&&this.init(e)}function $(e){arguments.length>0&&this.init(e)}function U(e){arguments.length>0&&this.init(e)}function B(e){this.init(e)}function W(){this.init()}function z(e,t,n){this.isXPathNamespace=!0,this.ownerDocument=n.ownerDocument,this.nodeName="#namespace",this.prefix=e,this.localName=e,this.namespaceURI=t,this.nodeValue=t,this.ownerElement=n,this.nodeType=z.XPATH_NAMESPACE_NODE}function G(e,t,n){this.variableResolver=null!=e?e:new V,this.namespaceResolver=null!=t?t:new X,this.functionResolver=null!=n?n:new K}function V(){}function K(e){this.thisArg=null!=e?e:Y,this.functions=new Object,this.addStandardFunctions()}function X(){}j.equals=function(e,t){return e.equals(t)},j.notequal=function(e,t){return e.notequal(t)},j.lessthan=function(e,t){return e.lessthan(t)},j.greaterthan=function(e,t){return e.greaterthan(t)},j.lessthanorequal=function(e,t){return e.lessthanorequal(t)},j.greaterthanorequal=function(e,t){return e.greaterthanorequal(t)},H.prototype=new h,H.prototype.constructor=H,H.superclass=h.prototype,H.prototype.init=function(e){this.str=String(e)},H.prototype.toString=function(){return this.str},H.prototype.evaluate=function(e){return this},H.prototype.string=function(){return this},H.prototype.number=function(){return new $(this.str)},H.prototype.bool=function(){return new U(this.str)},H.prototype.nodeset=function(){throw new Error("Cannot convert string to nodeset")},H.prototype.stringValue=function(){return this.str},H.prototype.numberValue=function(){return this.number().numberValue()},H.prototype.booleanValue=function(){return this.bool().booleanValue()},H.prototype.equals=function(e){return J.instance_of(e,U)?this.bool().equals(e):J.instance_of(e,$)?this.number().equals(e):J.instance_of(e,W)?e.compareWithString(this,j.equals):new U(this.str==e.str)},H.prototype.notequal=function(e){return J.instance_of(e,U)?this.bool().notequal(e):J.instance_of(e,$)?this.number().notequal(e):J.instance_of(e,W)?e.compareWithString(this,j.notequal):new U(this.str!=e.str)},H.prototype.lessthan=function(e){return this.number().lessthan(e)},H.prototype.greaterthan=function(e){return this.number().greaterthan(e)},H.prototype.lessthanorequal=function(e){return this.number().lessthanorequal(e)},H.prototype.greaterthanorequal=function(e){return this.number().greaterthanorequal(e)},$.prototype=new h,$.prototype.constructor=$,$.superclass=h.prototype,$.prototype.init=function(e){this.num="string"==typeof e?this.parse(e):Number(e)},$.prototype.numberFormat=/^\s*-?[0-9]*\.?[0-9]+\s*$/,$.prototype.parse=function(e){return this.numberFormat.test(e)?parseFloat(e):Number.NaN},$.prototype.toString=function(){var e=this.num.toString();return-1!==e.indexOf("e-")?function(e){for(var t=e.split("e-"),n=t[0].replace(".",""),r=Number(t[1]),o=0;o<r-1;o+=1)n="0"+n;return"0."+n}(e):-1!==e.indexOf("e")?function(e){for(var t=e.split("e"),n=t[0].replace(".",""),r=Number(t[1])+1-n.length,o=0;o<r;o+=1)n+="0";return n}(e):e},$.prototype.evaluate=function(e){return this},$.prototype.string=function(){return new H(this.toString())},$.prototype.number=function(){return this},$.prototype.bool=function(){return new U(this.num)},$.prototype.nodeset=function(){throw new Error("Cannot convert number to nodeset")},$.prototype.stringValue=function(){return this.string().stringValue()},$.prototype.numberValue=function(){return this.num},$.prototype.booleanValue=function(){return this.bool().booleanValue()},$.prototype.negate=function(){return new $(-this.num)},$.prototype.equals=function(e){return J.instance_of(e,U)?this.bool().equals(e):J.instance_of(e,H)?this.equals(e.number()):J.instance_of(e,W)?e.compareWithNumber(this,j.equals):new U(this.num==e.num)},$.prototype.notequal=function(e){return J.instance_of(e,U)?this.bool().notequal(e):J.instance_of(e,H)?this.notequal(e.number()):J.instance_of(e,W)?e.compareWithNumber(this,j.notequal):new U(this.num!=e.num)},$.prototype.lessthan=function(e){return J.instance_of(e,W)?e.compareWithNumber(this,j.greaterthan):J.instance_of(e,U)||J.instance_of(e,H)?this.lessthan(e.number()):new U(this.num<e.num)},$.prototype.greaterthan=function(e){return J.instance_of(e,W)?e.compareWithNumber(this,j.lessthan):J.instance_of(e,U)||J.instance_of(e,H)?this.greaterthan(e.number()):new U(this.num>e.num)},$.prototype.lessthanorequal=function(e){return J.instance_of(e,W)?e.compareWithNumber(this,j.greaterthanorequal):J.instance_of(e,U)||J.instance_of(e,H)?this.lessthanorequal(e.number()):new U(this.num<=e.num)},$.prototype.greaterthanorequal=function(e){return J.instance_of(e,W)?e.compareWithNumber(this,j.lessthanorequal):J.instance_of(e,U)||J.instance_of(e,H)?this.greaterthanorequal(e.number()):new U(this.num>=e.num)},$.prototype.plus=function(e){return new $(this.num+e.num)},$.prototype.minus=function(e){return new $(this.num-e.num)},$.prototype.multiply=function(e){return new $(this.num*e.num)},$.prototype.div=function(e){return new $(this.num/e.num)},$.prototype.mod=function(e){return new $(this.num%e.num)},U.prototype=new h,U.prototype.constructor=U,U.superclass=h.prototype,U.prototype.init=function(e){this.b=Boolean(e)},U.prototype.toString=function(){return this.b.toString()},U.prototype.evaluate=function(e){return this},U.prototype.string=function(){return new H(this.b)},U.prototype.number=function(){return new $(this.b)},U.prototype.bool=function(){return this},U.prototype.nodeset=function(){throw new Error("Cannot convert boolean to nodeset")},U.prototype.stringValue=function(){return this.string().stringValue()},U.prototype.numberValue=function(){return this.number().numberValue()},U.prototype.booleanValue=function(){return this.b},U.prototype.not=function(){return new U(!this.b)},U.prototype.equals=function(e){return J.instance_of(e,H)||J.instance_of(e,$)?this.equals(e.bool()):J.instance_of(e,W)?e.compareWithBoolean(this,j.equals):new U(this.b==e.b)},U.prototype.notequal=function(e){return J.instance_of(e,H)||J.instance_of(e,$)?this.notequal(e.bool()):J.instance_of(e,W)?e.compareWithBoolean(this,j.notequal):new U(this.b!=e.b)},U.prototype.lessthan=function(e){return this.number().lessthan(e)},U.prototype.greaterthan=function(e){return this.number().greaterthan(e)},U.prototype.lessthanorequal=function(e){return this.number().lessthanorequal(e)},U.prototype.greaterthanorequal=function(e){return this.number().greaterthanorequal(e)},U.true_=new U(!0),U.false_=new U(!1),B.prototype=new Object,B.prototype.constructor=B,B.superclass=Object.prototype,B.prototype.init=function(e){this.left=null,this.right=null,this.node=e,this.depth=1},B.prototype.balance=function(){var e=null==this.left?0:this.left.depth,t=null==this.right?0:this.right.depth;if(e>t+1)(null==this.left.left?0:this.left.left.depth)<(null==this.left.right?0:this.left.right.depth)&&this.left.rotateRR(),this.rotateLL();else if(e+1<t){var n=null==this.right.right?0:this.right.right.depth;(null==this.right.left?0:this.right.left.depth)>n&&this.right.rotateLL(),this.rotateRR()}},B.prototype.rotateLL=function(){var e=this.node,t=this.right;this.node=this.left.node,this.right=this.left,this.left=this.left.left,this.right.left=this.right.right,this.right.right=t,this.right.node=e,this.right.updateInNewLocation(),this.updateInNewLocation()},B.prototype.rotateRR=function(){var e=this.node,t=this.left;this.node=this.right.node,this.left=this.right,this.right=this.right.right,this.left.right=this.left.left,this.left.left=t,this.left.node=e,this.left.updateInNewLocation(),this.updateInNewLocation()},B.prototype.updateInNewLocation=function(){this.getDepthFromChildren()},B.prototype.getDepthFromChildren=function(){this.depth=null==this.node?0:1,null!=this.left&&(this.depth=this.left.depth+1),null!=this.right&&this.depth<=this.right.depth&&(this.depth=this.right.depth+1)},B.prototype.add=function(e){if(e===this.node)return!1;var t=function(e,t){if(e===t)return 0;if(e.compareDocumentPosition){var n=e.compareDocumentPosition(t);return 1&n||10&n?1:20&n?-1:0}for(var r=0,o=0,i=e;null!=i;i=i.parentNode||i.ownerElement)r++;for(var s=t;null!=s;s=s.parentNode||s.ownerElement)o++;if(r>o){for(;r>o;)e=e.parentNode||e.ownerElement,r--;if(e===t)return 1}else if(o>r){for(;o>r;)t=t.parentNode||t.ownerElement,o--;if(e===t)return-1}for(var a=e.parentNode||e.ownerElement,c=t.parentNode||t.ownerElement;a!==c;)t=c,a=(e=a).parentNode||e.ownerElement,c=t.parentNode||t.ownerElement;var u=J.isAttribute(e),l=J.isAttribute(t);if(u&&!l)return-1;if(!u&&l)return 1;if(a)for(var d=u?a.attributes:a.childNodes,h=d.length,p=0;p<h;p+=1){var f=d[p];if(f===e)return-1;if(f===t)return 1}throw new Error("Unexpected: could not determine node order")}(e,this.node),n=!1;return-1==t?null==this.left?(this.left=new B(e),n=!0):(n=this.left.add(e))&&this.balance():1==t&&(null==this.right?(this.right=new B(e),n=!0):(n=this.right.add(e))&&this.balance()),n&&this.getDepthFromChildren(),n},W.prototype=new h,W.prototype.constructor=W,W.superclass=h.prototype,W.prototype.init=function(){this.tree=null,this.nodes=[],this.size=0},W.prototype.toString=function(){var e=this.first();return null==e?"":this.stringForNode(e)},W.prototype.evaluate=function(e){return this},W.prototype.string=function(){return new H(this.toString())},W.prototype.stringValue=function(){return this.toString()},W.prototype.number=function(){return new $(this.string())},W.prototype.numberValue=function(){return Number(this.string())},W.prototype.bool=function(){return new U(this.booleanValue())},W.prototype.booleanValue=function(){return!!this.size},W.prototype.nodeset=function(){return this},W.prototype.stringForNode=function(e){return 9==e.nodeType||1==e.nodeType||11===e.nodeType?this.stringForContainerNode(e):2===e.nodeType?e.value||e.nodeValue:e.isNamespaceNode?e.namespace:e.nodeValue},W.prototype.stringForContainerNode=function(e){for(var t="",n=e.firstChild;null!=n;n=n.nextSibling){var r=n.nodeType;1!==r&&3!==r&&4!==r&&9!==r&&11!==r||(t+=this.stringForNode(n))}return t},W.prototype.buildTree=function(){if(!this.tree&&this.nodes.length){this.tree=new B(this.nodes[0]);for(var e=1;e<this.nodes.length;e+=1)this.tree.add(this.nodes[e])}return this.tree},W.prototype.first=function(){var e=this.buildTree();if(null==e)return null;for(;null!=e.left;)e=e.left;return e.node},W.prototype.add=function(e){for(var t=0;t<this.nodes.length;t+=1)if(e===this.nodes[t])return;this.tree=null,this.nodes.push(e),this.size+=1},W.prototype.addArray=function(e){var n=this;t((function(e){n.add(e)}),e)},W.prototype.toArray=function(){var e=[];return this.toArrayRec(this.buildTree(),e),e},W.prototype.toArrayRec=function(e,t){null!=e&&(this.toArrayRec(e.left,t),t.push(e.node),this.toArrayRec(e.right,t))},W.prototype.toUnsortedArray=function(){return this.nodes.slice()},W.prototype.compareWithString=function(e,t){for(var n=this.toUnsortedArray(),r=0;r<n.length;r++){var o=n[r],i=t(new H(this.stringForNode(o)),e);if(i.booleanValue())return i}return new U(!1)},W.prototype.compareWithNumber=function(e,t){for(var n=this.toUnsortedArray(),r=0;r<n.length;r++){var o=n[r],i=t(new $(this.stringForNode(o)),e);if(i.booleanValue())return i}return new U(!1)},W.prototype.compareWithBoolean=function(e,t){return t(this.bool(),e)},W.prototype.compareWithNodeSet=function(e,t){for(var n=this.toUnsortedArray(),r=function(e,n){return t(n,e)},o=0;o<n.length;o++){var i=new H(this.stringForNode(n[o])),s=e.compareWithString(i,r);if(s.booleanValue())return s}return new U(!1)},W.compareWith=function(e){var t=Array.prototype.slice,n=e.length,r=function(e,n){return function(){return n.apply(this,e.concat(t.call(arguments)))}},o=function(){var i=t.call(arguments);return i.length<n?r(i,o):e.apply(this,t.apply(arguments,[0,n]))};return o}((function(e,t){return J.instance_of(t,H)?this.compareWithString(t,e):J.instance_of(t,$)?this.compareWithNumber(t,e):J.instance_of(t,U)?this.compareWithBoolean(t,e):this.compareWithNodeSet(t,e)})),W.prototype.equals=W.compareWith(j.equals),W.prototype.notequal=W.compareWith(j.notequal),W.prototype.lessthan=W.compareWith(j.lessthan),W.prototype.greaterthan=W.compareWith(j.greaterthan),W.prototype.lessthanorequal=W.compareWith(j.lessthanorequal),W.prototype.greaterthanorequal=W.compareWith(j.greaterthanorequal),W.prototype.union=function(e){var t=new W;return t.addArray(this.toUnsortedArray()),t.addArray(e.toUnsortedArray()),t},z.prototype=new Object,z.prototype.constructor=z,z.superclass=Object.prototype,z.prototype.toString=function(){return'{ "'+this.prefix+'", "'+this.namespaceURI+'" }'},G.prototype=new Object,G.prototype.constructor=G,G.superclass=Object.prototype,G.prototype.extend=function(e){return c(new G,this,e)},V.prototype=new Object,V.prototype.constructor=V,V.superclass=Object.prototype,V.prototype.getVariable=function(e,t){return null},K.prototype=new Object,K.prototype.constructor=K,K.superclass=Object.prototype,K.prototype.addStandardFunctions=function(){this.functions["{}last"]=Y.last,this.functions["{}position"]=Y.position,this.functions["{}count"]=Y.count,this.functions["{}id"]=Y.id,this.functions["{}local-name"]=Y.localName,this.functions["{}namespace-uri"]=Y.namespaceURI,this.functions["{}name"]=Y.name,this.functions["{}string"]=Y.string,this.functions["{}concat"]=Y.concat,this.functions["{}starts-with"]=Y.startsWith,this.functions["{}contains"]=Y.contains,this.functions["{}substring-before"]=Y.substringBefore,this.functions["{}substring-after"]=Y.substringAfter,this.functions["{}substring"]=Y.substring,this.functions["{}string-length"]=Y.stringLength,this.functions["{}normalize-space"]=Y.normalizeSpace,this.functions["{}translate"]=Y.translate,this.functions["{}boolean"]=Y.boolean_,this.functions["{}not"]=Y.not,this.functions["{}true"]=Y.true_,this.functions["{}false"]=Y.false_,this.functions["{}lang"]=Y.lang,this.functions["{}number"]=Y.number,this.functions["{}sum"]=Y.sum,this.functions["{}floor"]=Y.floor,this.functions["{}ceiling"]=Y.ceiling,this.functions["{}round"]=Y.round},K.prototype.addFunction=function(e,t,n){this.functions["{"+e+"}"+t]=n},K.getFunctionFromContext=function(e,t){var n=J.resolveQName(e,t.namespaceResolver,t.contextNode,!1);if(null===n[0])throw new Error("Cannot resolve QName "+name);return t.functionResolver.getFunction(n[1],n[0])},K.prototype.getFunction=function(e,t){return this.functions["{"+t+"}"+e]},X.prototype=new Object,X.prototype.constructor=X,X.superclass=Object.prototype,X.prototype.getNamespace=function(e,t){if("xml"==e)return l.XML_NAMESPACE_URI;if("xmlns"==e)return l.XMLNS_NAMESPACE_URI;for(9==t.nodeType?t=t.documentElement:2==t.nodeType?t=P.getOwnerElement(t):1!=t.nodeType&&(t=t.parentNode);null!=t&&1==t.nodeType;){for(var n=t.attributes,r=0;r<n.length;r++){var o=n.item(r),i=o.name||o.nodeName;if("xmlns"===i&&""===e||i==="xmlns:"+e)return String(o.value||o.nodeValue)}t=t.parentNode}return null};var Y=new Object;Y.last=function(e){if(1!=arguments.length)throw new Error("Function last expects ()");return new $(e.contextSize)},Y.position=function(e){if(1!=arguments.length)throw new Error("Function position expects ()");return new $(e.contextPosition)},Y.count=function(){var e,t=arguments[0];if(2!=arguments.length||!J.instance_of(e=arguments[1].evaluate(t),W))throw new Error("Function count expects (node-set)");return new $(e.size)},Y.id=function(){var e,t=arguments[0];if(2!=arguments.length)throw new Error("Function id expects (object)");e=arguments[1].evaluate(t);for(var n=(e=J.instance_of(e,W)?e.toArray().join(" "):e.stringValue()).split(/[\x0d\x0a\x09\x20]+/),r=new W,o=9==t.contextNode.nodeType?t.contextNode:t.contextNode.ownerDocument,i=0;i<n.length;i++){var s;null!=(s=o.getElementById?o.getElementById(n[i]):J.getElementById(o,n[i]))&&r.add(s)}return r},Y.localName=function(e,t){var n;if(1==arguments.length)n=e.contextNode;else{if(2!=arguments.length)throw new Error("Function local-name expects (node-set?)");n=t.evaluate(e).first()}return new H(null==n?"":n.localName||n.baseName||n.target||n.nodeName||"")},Y.namespaceURI=function(){var e,t=arguments[0];if(1==arguments.length)e=t.contextNode;else{if(2!=arguments.length)throw new Error("Function namespace-uri expects (node-set?)");e=arguments[1].evaluate(t).first()}return new H(null==e?"":e.namespaceURI)},Y.name=function(){var e,t=arguments[0];if(1==arguments.length)e=t.contextNode;else{if(2!=arguments.length)throw new Error("Function name expects (node-set?)");e=arguments[1].evaluate(t).first()}return null==e?new H(""):1==e.nodeType?new H(e.nodeName):2==e.nodeType?new H(e.name||e.nodeName):7===e.nodeType?new H(e.target||e.nodeName):null==e.localName?new H(""):new H(e.localName)},Y.string=function(){var e=arguments[0];if(1==arguments.length)return new H(W.prototype.stringForNode(e.contextNode));if(2==arguments.length)return arguments[1].evaluate(e).string();throw new Error("Function string expects (object?)")},Y.concat=function(e){if(arguments.length<3)throw new Error("Function concat expects (string, string[, string]*)");for(var t="",n=1;n<arguments.length;n++)t+=arguments[n].evaluate(e).stringValue();return new H(t)},Y.startsWith=function(){var e=arguments[0];if(3!=arguments.length)throw new Error("Function startsWith expects (string, string)");var t=arguments[1].evaluate(e).stringValue(),n=arguments[2].evaluate(e).stringValue();return new U(t.substring(0,n.length)==n)},Y.contains=function(){var e=arguments[0];if(3!=arguments.length)throw new Error("Function contains expects (string, string)");var t=arguments[1].evaluate(e).stringValue(),n=arguments[2].evaluate(e).stringValue();return new U(-1!==t.indexOf(n))},Y.substringBefore=function(){var e=arguments[0];if(3!=arguments.length)throw new Error("Function substring-before expects (string, string)");var t=arguments[1].evaluate(e).stringValue(),n=arguments[2].evaluate(e).stringValue();return new H(t.substring(0,t.indexOf(n)))},Y.substringAfter=function(){var e=arguments[0];if(3!=arguments.length)throw new Error("Function substring-after expects (string, string)");var t=arguments[1].evaluate(e).stringValue(),n=arguments[2].evaluate(e).stringValue();if(0==n.length)return new H(t);var r=t.indexOf(n);return new H(-1==r?"":t.substring(r+n.length))},Y.substring=function(){var e=arguments[0];if(3!=arguments.length&&4!=arguments.length)throw new Error("Function substring expects (string, number, number?)");var t=arguments[1].evaluate(e).stringValue(),n=Math.round(arguments[2].evaluate(e).numberValue())-1,r=4==arguments.length?n+Math.round(arguments[3].evaluate(e).numberValue()):void 0;return new H(t.substring(n,r))},Y.stringLength=function(){var e,t=arguments[0];if(1==arguments.length)e=W.prototype.stringForNode(t.contextNode);else{if(2!=arguments.length)throw new Error("Function string-length expects (string?)");e=arguments[1].evaluate(t).stringValue()}return new $(e.length)},Y.normalizeSpace=function(){var e,t=arguments[0];if(1==arguments.length)e=W.prototype.stringForNode(t.contextNode);else{if(2!=arguments.length)throw new Error("Function normalize-space expects (string?)");e=arguments[1].evaluate(t).stringValue()}for(var n=0,r=e.length-1;J.isSpace(e.charCodeAt(r));)r--;for(var o="";n<=r&&J.isSpace(e.charCodeAt(n));)n++;for(;n<=r;)if(J.isSpace(e.charCodeAt(n)))for(o+=" ";n<=r&&J.isSpace(e.charCodeAt(n));)n++;else o+=e.charAt(n),n++;return new H(o)},Y.translate=function(e,t,o,s){if(4!=arguments.length)throw new Error("Function translate expects (string, string, string)");var a=t.evaluate(e).stringValue(),c=o.evaluate(e).stringValue(),u=s.evaluate(e).stringValue(),l=n((function(e,t,n){return t in e||(e[t]=n>u.length?"":u[n]),e}),{},c),d=i("",r((function(e){return e in l?l[e]:e}),a));return new H(d)},Y.boolean_=function(){var e=arguments[0];if(2!=arguments.length)throw new Error("Function boolean expects (object)");return arguments[1].evaluate(e).bool()},Y.not=function(e,t){if(2!=arguments.length)throw new Error("Function not expects (object)");return t.evaluate(e).bool().not()},Y.true_=function(){if(1!=arguments.length)throw new Error("Function true expects ()");return U.true_},Y.false_=function(){if(1!=arguments.length)throw new Error("Function false expects ()");return U.false_},Y.lang=function(){var e,t=arguments[0];if(2!=arguments.length)throw new Error("Function lang expects (string)");for(var n=t.contextNode;null!=n&&9!=n.nodeType;n=n.parentNode){var r=n.getAttributeNS(l.XML_NAMESPACE_URI,"lang");if(null!=r){e=String(r);break}}if(null==e)return U.false_;var o=arguments[1].evaluate(t).stringValue();return new U(e.substring(0,o.length)==o&&(e.length==o.length||"-"==e.charAt(o.length)))},Y.number=function(){var e=arguments[0];if(1!=arguments.length&&2!=arguments.length)throw new Error("Function number expects (object?)");return 1==arguments.length?new $(W.prototype.stringForNode(e.contextNode)):arguments[1].evaluate(e).number()},Y.sum=function(){var e,t=arguments[0];if(2!=arguments.length||!J.instance_of(e=arguments[1].evaluate(t),W))throw new Error("Function sum expects (node-set)");e=e.toUnsortedArray();for(var n=0,r=0;r<e.length;r++)n+=new $(W.prototype.stringForNode(e[r])).numberValue();return new $(n)},Y.floor=function(){var e=arguments[0];if(2!=arguments.length)throw new Error("Function floor expects (number)");return new $(Math.floor(arguments[1].evaluate(e).numberValue()))},Y.ceiling=function(){var e=arguments[0];if(2!=arguments.length)throw new Error("Function ceiling expects (number)");return new $(Math.ceil(arguments[1].evaluate(e).numberValue()))},Y.round=function(){var e=arguments[0];if(2!=arguments.length)throw new Error("Function round expects (number)");return new $(Math.round(arguments[1].evaluate(e).numberValue()))};var J=new Object;J.isAttribute=function(e){return e&&(2===e.nodeType||e.ownerElement)},J.splitQName=function(e){var t=e.indexOf(":");return-1==t?[null,e]:[e.substring(0,t),e.substring(t+1)]},J.resolveQName=function(e,t,n,r){var o=J.splitQName(e);return null!=o[0]?o[0]=t.getNamespace(o[0],n):r?(o[0]=t.getNamespace("",n),null==o[0]&&(o[0]="")):o[0]="",o},J.isSpace=function(e){return 9==e||13==e||10==e||32==e},J.isLetter=function(e){return e>=65&&e<=90||e>=97&&e<=122||e>=192&&e<=214||e>=216&&e<=246||e>=248&&e<=255||e>=256&&e<=305||e>=308&&e<=318||e>=321&&e<=328||e>=330&&e<=382||e>=384&&e<=451||e>=461&&e<=496||e>=500&&e<=501||e>=506&&e<=535||e>=592&&e<=680||e>=699&&e<=705||902==e||e>=904&&e<=906||908==e||e>=910&&e<=929||e>=931&&e<=974||e>=976&&e<=982||986==e||988==e||990==e||992==e||e>=994&&e<=1011||e>=1025&&e<=1036||e>=1038&&e<=1103||e>=1105&&e<=1116||e>=1118&&e<=1153||e>=1168&&e<=1220||e>=1223&&e<=1224||e>=1227&&e<=1228||e>=1232&&e<=1259||e>=1262&&e<=1269||e>=1272&&e<=1273||e>=1329&&e<=1366||1369==e||e>=1377&&e<=1414||e>=1488&&e<=1514||e>=1520&&e<=1522||e>=1569&&e<=1594||e>=1601&&e<=1610||e>=1649&&e<=1719||e>=1722&&e<=1726||e>=1728&&e<=1742||e>=1744&&e<=1747||1749==e||e>=1765&&e<=1766||e>=2309&&e<=2361||2365==e||e>=2392&&e<=2401||e>=2437&&e<=2444||e>=2447&&e<=2448||e>=2451&&e<=2472||e>=2474&&e<=2480||2482==e||e>=2486&&e<=2489||e>=2524&&e<=2525||e>=2527&&e<=2529||e>=2544&&e<=2545||e>=2565&&e<=2570||e>=2575&&e<=2576||e>=2579&&e<=2600||e>=2602&&e<=2608||e>=2610&&e<=2611||e>=2613&&e<=2614||e>=2616&&e<=2617||e>=2649&&e<=2652||2654==e||e>=2674&&e<=2676||e>=2693&&e<=2699||2701==e||e>=2703&&e<=2705||e>=2707&&e<=2728||e>=2730&&e<=2736||e>=2738&&e<=2739||e>=2741&&e<=2745||2749==e||2784==e||e>=2821&&e<=2828||e>=2831&&e<=2832||e>=2835&&e<=2856||e>=2858&&e<=2864||e>=2866&&e<=2867||e>=2870&&e<=2873||2877==e||e>=2908&&e<=2909||e>=2911&&e<=2913||e>=2949&&e<=2954||e>=2958&&e<=2960||e>=2962&&e<=2965||e>=2969&&e<=2970||2972==e||e>=2974&&e<=2975||e>=2979&&e<=2980||e>=2984&&e<=2986||e>=2990&&e<=2997||e>=2999&&e<=3001||e>=3077&&e<=3084||e>=3086&&e<=3088||e>=3090&&e<=3112||e>=3114&&e<=3123||e>=3125&&e<=3129||e>=3168&&e<=3169||e>=3205&&e<=3212||e>=3214&&e<=3216||e>=3218&&e<=3240||e>=3242&&e<=3251||e>=3253&&e<=3257||3294==e||e>=3296&&e<=3297||e>=3333&&e<=3340||e>=3342&&e<=3344||e>=3346&&e<=3368||e>=3370&&e<=3385||e>=3424&&e<=3425||e>=3585&&e<=3630||3632==e||e>=3634&&e<=3635||e>=3648&&e<=3653||e>=3713&&e<=3714||3716==e||e>=3719&&e<=3720||3722==e||3725==e||e>=3732&&e<=3735||e>=3737&&e<=3743||e>=3745&&e<=3747||3749==e||3751==e||e>=3754&&e<=3755||e>=3757&&e<=3758||3760==e||e>=3762&&e<=3763||3773==e||e>=3776&&e<=3780||e>=3904&&e<=3911||e>=3913&&e<=3945||e>=4256&&e<=4293||e>=4304&&e<=4342||4352==e||e>=4354&&e<=4355||e>=4357&&e<=4359||4361==e||e>=4363&&e<=4364||e>=4366&&e<=4370||4412==e||4414==e||4416==e||4428==e||4430==e||4432==e||e>=4436&&e<=4437||4441==e||e>=4447&&e<=4449||4451==e||4453==e||4455==e||4457==e||e>=4461&&e<=4462||e>=4466&&e<=4467||4469==e||4510==e||4520==e||4523==e||e>=4526&&e<=4527||e>=4535&&e<=4536||4538==e||e>=4540&&e<=4546||4587==e||4592==e||4601==e||e>=7680&&e<=7835||e>=7840&&e<=7929||e>=7936&&e<=7957||e>=7960&&e<=7965||e>=7968&&e<=8005||e>=8008&&e<=8013||e>=8016&&e<=8023||8025==e||8027==e||8029==e||e>=8031&&e<=8061||e>=8064&&e<=8116||e>=8118&&e<=8124||8126==e||e>=8130&&e<=8132||e>=8134&&e<=8140||e>=8144&&e<=8147||e>=8150&&e<=8155||e>=8160&&e<=8172||e>=8178&&e<=8180||e>=8182&&e<=8188||8486==e||e>=8490&&e<=8491||8494==e||e>=8576&&e<=8578||e>=12353&&e<=12436||e>=12449&&e<=12538||e>=12549&&e<=12588||e>=44032&&e<=55203||e>=19968&&e<=40869||12295==e||e>=12321&&e<=12329},J.isNCNameChar=function(e){return e>=48&&e<=57||e>=1632&&e<=1641||e>=1776&&e<=1785||e>=2406&&e<=2415||e>=2534&&e<=2543||e>=2662&&e<=2671||e>=2790&&e<=2799||e>=2918&&e<=2927||e>=3047&&e<=3055||e>=3174&&e<=3183||e>=3302&&e<=3311||e>=3430&&e<=3439||e>=3664&&e<=3673||e>=3792&&e<=3801||e>=3872&&e<=3881||46==e||45==e||95==e||J.isLetter(e)||e>=768&&e<=837||e>=864&&e<=865||e>=1155&&e<=1158||e>=1425&&e<=1441||e>=1443&&e<=1465||e>=1467&&e<=1469||1471==e||e>=1473&&e<=1474||1476==e||e>=1611&&e<=1618||1648==e||e>=1750&&e<=1756||e>=1757&&e<=1759||e>=1760&&e<=1764||e>=1767&&e<=1768||e>=1770&&e<=1773||e>=2305&&e<=2307||2364==e||e>=2366&&e<=2380||2381==e||e>=2385&&e<=2388||e>=2402&&e<=2403||e>=2433&&e<=2435||2492==e||2494==e||2495==e||e>=2496&&e<=2500||e>=2503&&e<=2504||e>=2507&&e<=2509||2519==e||e>=2530&&e<=2531||2562==e||2620==e||2622==e||2623==e||e>=2624&&e<=2626||e>=2631&&e<=2632||e>=2635&&e<=2637||e>=2672&&e<=2673||e>=2689&&e<=2691||2748==e||e>=2750&&e<=2757||e>=2759&&e<=2761||e>=2763&&e<=2765||e>=2817&&e<=2819||2876==e||e>=2878&&e<=2883||e>=2887&&e<=2888||e>=2891&&e<=2893||e>=2902&&e<=2903||e>=2946&&e<=2947||e>=3006&&e<=3010||e>=3014&&e<=3016||e>=3018&&e<=3021||3031==e||e>=3073&&e<=3075||e>=3134&&e<=3140||e>=3142&&e<=3144||e>=3146&&e<=3149||e>=3157&&e<=3158||e>=3202&&e<=3203||e>=3262&&e<=3268||e>=3270&&e<=3272||e>=3274&&e<=3277||e>=3285&&e<=3286||e>=3330&&e<=3331||e>=3390&&e<=3395||e>=3398&&e<=3400||e>=3402&&e<=3405||3415==e||3633==e||e>=3636&&e<=3642||e>=3655&&e<=3662||3761==e||e>=3764&&e<=3769||e>=3771&&e<=3772||e>=3784&&e<=3789||e>=3864&&e<=3865||3893==e||3895==e||3897==e||3902==e||3903==e||e>=3953&&e<=3972||e>=3974&&e<=3979||e>=3984&&e<=3989||3991==e||e>=3993&&e<=4013||e>=4017&&e<=4023||4025==e||e>=8400&&e<=8412||8417==e||e>=12330&&e<=12335||12441==e||12442==e||183==e||720==e||721==e||903==e||1600==e||3654==e||3782==e||12293==e||e>=12337&&e<=12341||e>=12445&&e<=12446||e>=12540&&e<=12542},J.coalesceText=function(e){for(var t=e.firstChild;null!=t;t=t.nextSibling)if(3==t.nodeType||4==t.nodeType){var n=t.nodeValue,r=t;for(t=t.nextSibling;null!=t&&(3==t.nodeType||4==t.nodeType);){n+=t.nodeValue;var o=t;t=t.nextSibling,o.parentNode.removeChild(o)}if(4==r.nodeType){var i=r.parentNode;if(null==r.nextSibling)i.removeChild(r),i.appendChild(i.ownerDocument.createTextNode(n));else{var s=r.nextSibling;i.removeChild(r),i.insertBefore(i.ownerDocument.createTextNode(n),s)}}else r.nodeValue=n;if(null==t)break}else 1==t.nodeType&&J.coalesceText(t)},J.instance_of=function(e,t){for(;null!=e;){if(e.constructor===t)return!0;if(e===Object)return!1;e=e.constructor.superclass}return!1},J.getElementById=function(e,t){if(1==e.nodeType&&(e.getAttribute("id")==t||e.getAttributeNS(null,"id")==t))return e;for(var n=e.firstChild;null!=n;n=n.nextSibling){var r=J.getElementById(n,t);if(null!=r)return r}return null};var Q=function(){function e(t,n,r){var o=Error.call(this,function(t,n){var r=n?": "+n.toString():"";switch(t){case e.INVALID_EXPRESSION_ERR:return"Invalid expression"+r;case e.TYPE_ERR:return"Type error"+r}return null}(t,n)||r);return o.code=t,o.exception=n,o}return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e.superclass=Error,e.prototype.toString=function(){return this.message},e.fromMessage=function(t,n){return new e(null,n,t)},e.INVALID_EXPRESSION_ERR=51,e.TYPE_ERR=52,e}();function Z(e,t,n){this.xpath=n.parse(e),this.context=new G,this.context.namespaceResolver=new ee(t)}function ee(e){this.xpathNSResolver=e}function te(e){this.node=e,this.namespaceResolver=new X}function ne(e,t){switch(t==ne.ANY_TYPE&&(e.constructor===H?t=ne.STRING_TYPE:e.constructor===$?t=ne.NUMBER_TYPE:e.constructor===U?t=ne.BOOLEAN_TYPE:e.constructor===W&&(t=ne.UNORDERED_NODE_ITERATOR_TYPE)),this.resultType=t,t){case ne.NUMBER_TYPE:return void(this.numberValue=e.numberValue());case ne.STRING_TYPE:return void(this.stringValue=e.stringValue());case ne.BOOLEAN_TYPE:return void(this.booleanValue=e.booleanValue());case ne.ANY_UNORDERED_NODE_TYPE:case ne.FIRST_ORDERED_NODE_TYPE:if(e.constructor===W)return void(this.singleNodeValue=e.first());break;case ne.UNORDERED_NODE_ITERATOR_TYPE:case ne.ORDERED_NODE_ITERATOR_TYPE:if(e.constructor===W)return this.invalidIteratorState=!1,this.nodes=e.toArray(),void(this.iteratorIndex=0);break;case ne.UNORDERED_NODE_SNAPSHOT_TYPE:case ne.ORDERED_NODE_SNAPSHOT_TYPE:if(e.constructor===W)return this.nodes=e.toArray(),void(this.snapshotLength=this.nodes.length)}throw new Q(Q.TYPE_ERR)}function re(e,t){e.createExpression=function(e,n){try{return new Z(e,n,t)}catch(e){throw new Q(Q.INVALID_EXPRESSION_ERR,e)}},e.createNSResolver=function(e){return new te(e)},e.evaluate=function(n,r,o,i,s){if(i<0||i>9)throw{code:0,toString:function(){return"Request type not supported"}};return e.createExpression(n,o,t).evaluate(r,i,s)}}Z.prototype={},Z.prototype.constructor=Z,Z.superclass=Object.prototype,Z.getOwnerDocument=function(e){return 9===e.nodeType?e:e.ownerDocument},Z.detectHtmlDom=function(e){if(!e)return!1;var t=Z.getOwnerDocument(e);try{return t.implementation.hasFeature("HTML","2.0")}catch(e){return!0}},Z.prototype.evaluate=function(e,t,n){return this.context.expressionContextNode=e,this.context.caseInsensitive=Z.detectHtmlDom(e),new ne(this.xpath.evaluate(this.context),t)},ee.prototype={},ee.prototype.constructor=ee,ee.superclass=Object.prototype,ee.prototype.getNamespace=function(e,t){return null==this.xpathNSResolver?null:this.xpathNSResolver.lookupNamespaceURI(e)},te.prototype={},te.prototype.constructor=te,te.superclass=Object.prototype,te.prototype.lookupNamespaceURI=function(e){return this.namespaceResolver.getNamespace(e,this.node)},ne.prototype={},ne.prototype.constructor=ne,ne.superclass=Object.prototype,ne.prototype.iterateNext=function(){if(this.resultType!=ne.UNORDERED_NODE_ITERATOR_TYPE&&this.resultType!=ne.ORDERED_NODE_ITERATOR_TYPE)throw new Q(Q.TYPE_ERR);return this.nodes[this.iteratorIndex++]},ne.prototype.snapshotItem=function(e){if(this.resultType!=ne.UNORDERED_NODE_SNAPSHOT_TYPE&&this.resultType!=ne.ORDERED_NODE_SNAPSHOT_TYPE)throw new Q(Q.TYPE_ERR);return this.nodes[e]},ne.ANY_TYPE=0,ne.NUMBER_TYPE=1,ne.STRING_TYPE=2,ne.BOOLEAN_TYPE=3,ne.UNORDERED_NODE_ITERATOR_TYPE=4,ne.ORDERED_NODE_ITERATOR_TYPE=5,ne.UNORDERED_NODE_SNAPSHOT_TYPE=6,ne.ORDERED_NODE_SNAPSHOT_TYPE=7,ne.ANY_UNORDERED_NODE_TYPE=8,ne.FIRST_ORDERED_NODE_TYPE=9;try{var oe=!0;try{document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("XPath",null)&&(oe=!1)}catch(e){}oe&&re(document,new u)}catch(e){}re(e,new u),function(){var t=new u,n=new X,r=new K,o=new V;function i(e){return{getNamespace:function(t,r){return e(t,r)||n.getNamespace(t,r)}}}function s(e){if(null==e||e instanceof H||e instanceof U||e instanceof $||e instanceof W)return e;switch(typeof e){case"string":return new H(e);case"boolean":return new U(e);case"number":return new $(e)}var t=new W;return t.addArray([].concat(e)),t}function a(e){return{getFunction:function(t,n){var o=e(t,n);return o?function(e){return function(t){var n=Array.prototype.slice.call(arguments,1).map((function(e){return e.evaluate(t)}));return s(e.apply(this,[].concat(t,n)))}}(o):r.getFunction(t,n)}}}function c(e){return{getVariable:function(t,n){return s(e(t,n))}}}function l(e,t,n){e in n&&(t[e]=n[e])}function d(e){var t,s,u=new G;return e?(u.namespaceResolver=(t=e.namespaces)&&"function"==typeof t.getNamespace?i((s=t).getNamespace.bind(s)):"function"==typeof t?i(t):"object"==typeof t?function(e){return i((function(t){return e[t]}))}(t):n,u.functionResolver=function(e){return e&&"function"==typeof e.getFunction?a((t=e).getFunction.bind(t)):"function"==typeof e?a(e):"object"==typeof e?function(e){return a((function(t){return e[t]}))}(e):r;var t}(e.functions),u.variableResolver=function(e){if(e){if("function"==typeof e.getVariable)return c(e.getVariable.bind(e));if("function"==typeof e)return c(e);if("object"==typeof e)return c((function(t){return e[t]}))}return o}(e.variables),u.expressionContextNode=e.node,l("allowAnyNamespaceForNoPrefix",u,e),l("isHtml",u,e)):u.namespaceResolver=n,u}var h={evaluate:function(e){return function(e,t){var n=d(t);return e.evaluate(n)}(this.expression,e)},evaluateNumber:function(e){return this.evaluate(e).numberValue()},evaluateString:function(e){return this.evaluate(e).stringValue()},evaluateBoolean:function(e){return this.evaluate(e).booleanValue()},evaluateNodeSet:function(e){return this.evaluate(e).nodeset()},select:function(e){return this.evaluateNodeSet(e).toArray()},select1:function(e){return this.select(e)[0]}};e.parse=function(e){var n=t.parse(e);return Object.create(h,{expression:{value:n}})}}(),c(e,{XPath:l,XPathParser:u,XPathResult:ne,Step:F,PathExpr:P,NodeTest:M,LocationPath:A,OrOperation:g,AndOperation:v,BarOperation:R,EqualsOperation:y,NotEqualOperation:w,LessThanOperation:b,GreaterThanOperation:_,LessThanOrEqualOperation:C,GreaterThanOrEqualOperation:S,PlusOperation:T,MinusOperation:E,MultiplyOperation:x,DivOperation:D,ModOperation:k,UnaryMinusOperation:f,FunctionCall:L,VariableReference:q,XPathContext:G,XNodeSet:W,XBoolean:U,XString:H,XNumber:$,NamespaceResolver:X,FunctionResolver:K,VariableResolver:V,Utilities:J}),e.select=function(t,n,r){return e.selectWithResolver(t,n,null,r)},e.useNamespaces=function(t){var n={mappings:t||{},lookupNamespaceURI:function(e){return this.mappings[e]}};return function(t,r,o){return e.selectWithResolver(t,r,n,o)}},e.selectWithResolver=function(e,t,n,r){var o=new Z(e,n,new u),i=ne.ANY_TYPE,s=o.evaluate(t,i,null);return s.resultType==ne.STRING_TYPE?s=s.stringValue:s.resultType==ne.NUMBER_TYPE?s=s.numberValue:s.resultType==ne.BOOLEAN_TYPE?s=s.booleanValue:(s=s.nodes,r&&(s=s[0])),s},e.select1=function(t,n){return e.select(t,n,!0)};var ie=function(e){return e&&"number"==typeof e.nodeType&&Number.isInteger(e.nodeType)&&e.nodeType>=1&&e.nodeType<=11&&"string"==typeof e.nodeName},se=function(e){return function(t){return ie(t)&&t.nodeType===e}};c(e,{isNodeLike:ie,isArrayOfNodes:function(e){return Array.isArray(e)&&e.every(ie)},isElement:se(1),isAttribute:se(2),isTextNode:se(3),isCDATASection:se(4),isProcessingInstruction:se(7),isComment:se(8),isDocumentNode:se(9),isDocumentTypeNode:se(10),isDocumentFragment:se(11)})}(t)},9602:e=>{"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next)yield e.value}}},4411:(e,t,n)=>{"use strict";function r(e){var t=this;if(t instanceof r||(t=new r),t.tail=null,t.head=null,t.length=0,e&&"function"==typeof e.forEach)e.forEach((function(e){t.push(e)}));else if(arguments.length>0)for(var n=0,o=arguments.length;n<o;n++)t.push(arguments[n]);return t}function o(e,t){e.tail=new s(t,e.tail,null,e),e.head||(e.head=e.tail),e.length++}function i(e,t){e.head=new s(t,null,e.head,e),e.tail||(e.tail=e.head),e.length++}function s(e,t,n,r){if(!(this instanceof s))return new s(e,t,n,r);this.list=r,this.value=e,t?(t.next=this,this.prev=t):this.prev=null,n?(n.prev=this,this.next=n):this.next=null}e.exports=r,r.Node=s,r.create=r,r.prototype.removeNode=function(e){if(e.list!==this)throw new Error("removing node which does not belong to this list");var t=e.next,n=e.prev;return t&&(t.prev=n),n&&(n.next=t),e===this.head&&(this.head=t),e===this.tail&&(this.tail=n),e.list.length--,e.next=null,e.prev=null,e.list=null,t},r.prototype.unshiftNode=function(e){if(e!==this.head){e.list&&e.list.removeNode(e);var t=this.head;e.list=this,e.next=t,t&&(t.prev=e),this.head=e,this.tail||(this.tail=e),this.length++}},r.prototype.pushNode=function(e){if(e!==this.tail){e.list&&e.list.removeNode(e);var t=this.tail;e.list=this,e.prev=t,t&&(t.next=e),this.tail=e,this.head||(this.head=e),this.length++}},r.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++)o(this,arguments[e]);return this.length},r.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++)i(this,arguments[e]);return this.length},r.prototype.pop=function(){if(this.tail){var e=this.tail.value;return this.tail=this.tail.prev,this.tail?this.tail.next=null:this.head=null,this.length--,e}},r.prototype.shift=function(){if(this.head){var e=this.head.value;return this.head=this.head.next,this.head?this.head.prev=null:this.tail=null,this.length--,e}},r.prototype.forEach=function(e,t){t=t||this;for(var n=this.head,r=0;null!==n;r++)e.call(t,n.value,r,this),n=n.next},r.prototype.forEachReverse=function(e,t){t=t||this;for(var n=this.tail,r=this.length-1;null!==n;r--)e.call(t,n.value,r,this),n=n.prev},r.prototype.get=function(e){for(var t=0,n=this.head;null!==n&&t<e;t++)n=n.next;if(t===e&&null!==n)return n.value},r.prototype.getReverse=function(e){for(var t=0,n=this.tail;null!==n&&t<e;t++)n=n.prev;if(t===e&&null!==n)return n.value},r.prototype.map=function(e,t){t=t||this;for(var n=new r,o=this.head;null!==o;)n.push(e.call(t,o.value,this)),o=o.next;return n},r.prototype.mapReverse=function(e,t){t=t||this;for(var n=new r,o=this.tail;null!==o;)n.push(e.call(t,o.value,this)),o=o.prev;return n},r.prototype.reduce=function(e,t){var n,r=this.head;if(arguments.length>1)n=t;else{if(!this.head)throw new TypeError("Reduce of empty list with no initial value");r=this.head.next,n=this.head.value}for(var o=0;null!==r;o++)n=e(n,r.value,o),r=r.next;return n},r.prototype.reduceReverse=function(e,t){var n,r=this.tail;if(arguments.length>1)n=t;else{if(!this.tail)throw new TypeError("Reduce of empty list with no initial value");r=this.tail.prev,n=this.tail.value}for(var o=this.length-1;null!==r;o--)n=e(n,r.value,o),r=r.prev;return n},r.prototype.toArray=function(){for(var e=new Array(this.length),t=0,n=this.head;null!==n;t++)e[t]=n.value,n=n.next;return e},r.prototype.toArrayReverse=function(){for(var e=new Array(this.length),t=0,n=this.tail;null!==n;t++)e[t]=n.value,n=n.prev;return e},r.prototype.slice=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var o=0,i=this.head;null!==i&&o<e;o++)i=i.next;for(;null!==i&&o<t;o++,i=i.next)n.push(i.value);return n},r.prototype.sliceReverse=function(e,t){(t=t||this.length)<0&&(t+=this.length),(e=e||0)<0&&(e+=this.length);var n=new r;if(t<e||t<0)return n;e<0&&(e=0),t>this.length&&(t=this.length);for(var o=this.length,i=this.tail;null!==i&&o>t;o--)i=i.prev;for(;null!==i&&o>e;o--,i=i.prev)n.push(i.value);return n},r.prototype.splice=function(e,t,...n){e>this.length&&(e=this.length-1),e<0&&(e=this.length+e);for(var r=0,o=this.head;null!==o&&r<e;r++)o=o.next;var i,a,c,u,l=[];for(r=0;o&&r<t;r++)l.push(o.value),o=this.removeNode(o);for(null===o&&(o=this.tail),o!==this.head&&o!==this.tail&&(o=o.prev),r=0;r<n.length;r++)i=this,a=o,c=n[r],u=void 0,null===(u=a===i.head?new s(c,null,a,i):new s(c,a,a.next,i)).next&&(i.tail=u),null===u.prev&&(i.head=u),i.length++,o=u;return l},r.prototype.reverse=function(){for(var e=this.head,t=this.tail,n=e;null!==n;n=n.prev){var r=n.prev;n.prev=n.next,n.next=r}return this.head=t,this.tail=e,this};try{n(9602)(r)}catch(e){}},9496:e=>{"use strict";e.exports=require("vscode")},2081:e=>{"use strict";e.exports=require("child_process")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},1808:e=>{"use strict";e.exports=require("net")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},1576:e=>{"use strict";e.exports=require("string_decoder")},3837:e=>{"use strict";e.exports=require("util")},3600:e=>{"use strict";e.exports=JSON.parse('{"0":65533,"128":8364,"130":8218,"131":402,"132":8222,"133":8230,"134":8224,"135":8225,"136":710,"137":8240,"138":352,"139":8249,"140":338,"142":381,"145":8216,"146":8217,"147":8220,"148":8221,"149":8226,"150":8211,"151":8212,"152":732,"153":8482,"154":353,"155":8250,"156":339,"158":382,"159":376}')},9323:e=>{"use strict";e.exports=JSON.parse('{"Aacute":"Á","aacute":"á","Abreve":"Ă","abreve":"ă","ac":"∾","acd":"∿","acE":"∾̳","Acirc":"Â","acirc":"â","acute":"´","Acy":"А","acy":"а","AElig":"Æ","aelig":"æ","af":"⁡","Afr":"𝔄","afr":"𝔞","Agrave":"À","agrave":"à","alefsym":"ℵ","aleph":"ℵ","Alpha":"Α","alpha":"α","Amacr":"Ā","amacr":"ā","amalg":"⨿","amp":"&","AMP":"&","andand":"⩕","And":"⩓","and":"∧","andd":"⩜","andslope":"⩘","andv":"⩚","ang":"∠","ange":"⦤","angle":"∠","angmsdaa":"⦨","angmsdab":"⦩","angmsdac":"⦪","angmsdad":"⦫","angmsdae":"⦬","angmsdaf":"⦭","angmsdag":"⦮","angmsdah":"⦯","angmsd":"∡","angrt":"∟","angrtvb":"⊾","angrtvbd":"⦝","angsph":"∢","angst":"Å","angzarr":"⍼","Aogon":"Ą","aogon":"ą","Aopf":"𝔸","aopf":"𝕒","apacir":"⩯","ap":"≈","apE":"⩰","ape":"≊","apid":"≋","apos":"\'","ApplyFunction":"⁡","approx":"≈","approxeq":"≊","Aring":"Å","aring":"å","Ascr":"𝒜","ascr":"𝒶","Assign":"≔","ast":"*","asymp":"≈","asympeq":"≍","Atilde":"Ã","atilde":"ã","Auml":"Ä","auml":"ä","awconint":"∳","awint":"⨑","backcong":"≌","backepsilon":"϶","backprime":"‵","backsim":"∽","backsimeq":"⋍","Backslash":"∖","Barv":"⫧","barvee":"⊽","barwed":"⌅","Barwed":"⌆","barwedge":"⌅","bbrk":"⎵","bbrktbrk":"⎶","bcong":"≌","Bcy":"Б","bcy":"б","bdquo":"„","becaus":"∵","because":"∵","Because":"∵","bemptyv":"⦰","bepsi":"϶","bernou":"ℬ","Bernoullis":"ℬ","Beta":"Β","beta":"β","beth":"ℶ","between":"≬","Bfr":"𝔅","bfr":"𝔟","bigcap":"⋂","bigcirc":"◯","bigcup":"⋃","bigodot":"⨀","bigoplus":"⨁","bigotimes":"⨂","bigsqcup":"⨆","bigstar":"★","bigtriangledown":"▽","bigtriangleup":"△","biguplus":"⨄","bigvee":"⋁","bigwedge":"⋀","bkarow":"⤍","blacklozenge":"⧫","blacksquare":"▪","blacktriangle":"▴","blacktriangledown":"▾","blacktriangleleft":"◂","blacktriangleright":"▸","blank":"␣","blk12":"▒","blk14":"░","blk34":"▓","block":"█","bne":"=⃥","bnequiv":"≡⃥","bNot":"⫭","bnot":"⌐","Bopf":"𝔹","bopf":"𝕓","bot":"⊥","bottom":"⊥","bowtie":"⋈","boxbox":"⧉","boxdl":"┐","boxdL":"╕","boxDl":"╖","boxDL":"╗","boxdr":"┌","boxdR":"╒","boxDr":"╓","boxDR":"╔","boxh":"─","boxH":"═","boxhd":"┬","boxHd":"╤","boxhD":"╥","boxHD":"╦","boxhu":"┴","boxHu":"╧","boxhU":"╨","boxHU":"╩","boxminus":"⊟","boxplus":"⊞","boxtimes":"⊠","boxul":"┘","boxuL":"╛","boxUl":"╜","boxUL":"╝","boxur":"└","boxuR":"╘","boxUr":"╙","boxUR":"╚","boxv":"│","boxV":"║","boxvh":"┼","boxvH":"╪","boxVh":"╫","boxVH":"╬","boxvl":"┤","boxvL":"╡","boxVl":"╢","boxVL":"╣","boxvr":"├","boxvR":"╞","boxVr":"╟","boxVR":"╠","bprime":"‵","breve":"˘","Breve":"˘","brvbar":"¦","bscr":"𝒷","Bscr":"ℬ","bsemi":"⁏","bsim":"∽","bsime":"⋍","bsolb":"⧅","bsol":"\\\\","bsolhsub":"⟈","bull":"•","bullet":"•","bump":"≎","bumpE":"⪮","bumpe":"≏","Bumpeq":"≎","bumpeq":"≏","Cacute":"Ć","cacute":"ć","capand":"⩄","capbrcup":"⩉","capcap":"⩋","cap":"∩","Cap":"⋒","capcup":"⩇","capdot":"⩀","CapitalDifferentialD":"ⅅ","caps":"∩︀","caret":"⁁","caron":"ˇ","Cayleys":"ℭ","ccaps":"⩍","Ccaron":"Č","ccaron":"č","Ccedil":"Ç","ccedil":"ç","Ccirc":"Ĉ","ccirc":"ĉ","Cconint":"∰","ccups":"⩌","ccupssm":"⩐","Cdot":"Ċ","cdot":"ċ","cedil":"¸","Cedilla":"¸","cemptyv":"⦲","cent":"¢","centerdot":"·","CenterDot":"·","cfr":"𝔠","Cfr":"ℭ","CHcy":"Ч","chcy":"ч","check":"✓","checkmark":"✓","Chi":"Χ","chi":"χ","circ":"ˆ","circeq":"≗","circlearrowleft":"↺","circlearrowright":"↻","circledast":"⊛","circledcirc":"⊚","circleddash":"⊝","CircleDot":"⊙","circledR":"®","circledS":"Ⓢ","CircleMinus":"⊖","CirclePlus":"⊕","CircleTimes":"⊗","cir":"○","cirE":"⧃","cire":"≗","cirfnint":"⨐","cirmid":"⫯","cirscir":"⧂","ClockwiseContourIntegral":"∲","CloseCurlyDoubleQuote":"”","CloseCurlyQuote":"’","clubs":"♣","clubsuit":"♣","colon":":","Colon":"∷","Colone":"⩴","colone":"≔","coloneq":"≔","comma":",","commat":"@","comp":"∁","compfn":"∘","complement":"∁","complexes":"ℂ","cong":"≅","congdot":"⩭","Congruent":"≡","conint":"∮","Conint":"∯","ContourIntegral":"∮","copf":"𝕔","Copf":"ℂ","coprod":"∐","Coproduct":"∐","copy":"©","COPY":"©","copysr":"℗","CounterClockwiseContourIntegral":"∳","crarr":"↵","cross":"✗","Cross":"⨯","Cscr":"𝒞","cscr":"𝒸","csub":"⫏","csube":"⫑","csup":"⫐","csupe":"⫒","ctdot":"⋯","cudarrl":"⤸","cudarrr":"⤵","cuepr":"⋞","cuesc":"⋟","cularr":"↶","cularrp":"⤽","cupbrcap":"⩈","cupcap":"⩆","CupCap":"≍","cup":"∪","Cup":"⋓","cupcup":"⩊","cupdot":"⊍","cupor":"⩅","cups":"∪︀","curarr":"↷","curarrm":"⤼","curlyeqprec":"⋞","curlyeqsucc":"⋟","curlyvee":"⋎","curlywedge":"⋏","curren":"¤","curvearrowleft":"↶","curvearrowright":"↷","cuvee":"⋎","cuwed":"⋏","cwconint":"∲","cwint":"∱","cylcty":"⌭","dagger":"†","Dagger":"‡","daleth":"ℸ","darr":"↓","Darr":"↡","dArr":"⇓","dash":"‐","Dashv":"⫤","dashv":"⊣","dbkarow":"⤏","dblac":"˝","Dcaron":"Ď","dcaron":"ď","Dcy":"Д","dcy":"д","ddagger":"‡","ddarr":"⇊","DD":"ⅅ","dd":"ⅆ","DDotrahd":"⤑","ddotseq":"⩷","deg":"°","Del":"∇","Delta":"Δ","delta":"δ","demptyv":"⦱","dfisht":"⥿","Dfr":"𝔇","dfr":"𝔡","dHar":"⥥","dharl":"⇃","dharr":"⇂","DiacriticalAcute":"´","DiacriticalDot":"˙","DiacriticalDoubleAcute":"˝","DiacriticalGrave":"`","DiacriticalTilde":"˜","diam":"⋄","diamond":"⋄","Diamond":"⋄","diamondsuit":"♦","diams":"♦","die":"¨","DifferentialD":"ⅆ","digamma":"ϝ","disin":"⋲","div":"÷","divide":"÷","divideontimes":"⋇","divonx":"⋇","DJcy":"Ђ","djcy":"ђ","dlcorn":"⌞","dlcrop":"⌍","dollar":"$","Dopf":"𝔻","dopf":"𝕕","Dot":"¨","dot":"˙","DotDot":"⃜","doteq":"≐","doteqdot":"≑","DotEqual":"≐","dotminus":"∸","dotplus":"∔","dotsquare":"⊡","doublebarwedge":"⌆","DoubleContourIntegral":"∯","DoubleDot":"¨","DoubleDownArrow":"⇓","DoubleLeftArrow":"⇐","DoubleLeftRightArrow":"⇔","DoubleLeftTee":"⫤","DoubleLongLeftArrow":"⟸","DoubleLongLeftRightArrow":"⟺","DoubleLongRightArrow":"⟹","DoubleRightArrow":"⇒","DoubleRightTee":"⊨","DoubleUpArrow":"⇑","DoubleUpDownArrow":"⇕","DoubleVerticalBar":"∥","DownArrowBar":"⤓","downarrow":"↓","DownArrow":"↓","Downarrow":"⇓","DownArrowUpArrow":"⇵","DownBreve":"̑","downdownarrows":"⇊","downharpoonleft":"⇃","downharpoonright":"⇂","DownLeftRightVector":"⥐","DownLeftTeeVector":"⥞","DownLeftVectorBar":"⥖","DownLeftVector":"↽","DownRightTeeVector":"⥟","DownRightVectorBar":"⥗","DownRightVector":"⇁","DownTeeArrow":"↧","DownTee":"⊤","drbkarow":"⤐","drcorn":"⌟","drcrop":"⌌","Dscr":"𝒟","dscr":"𝒹","DScy":"Ѕ","dscy":"ѕ","dsol":"⧶","Dstrok":"Đ","dstrok":"đ","dtdot":"⋱","dtri":"▿","dtrif":"▾","duarr":"⇵","duhar":"⥯","dwangle":"⦦","DZcy":"Џ","dzcy":"џ","dzigrarr":"⟿","Eacute":"É","eacute":"é","easter":"⩮","Ecaron":"Ě","ecaron":"ě","Ecirc":"Ê","ecirc":"ê","ecir":"≖","ecolon":"≕","Ecy":"Э","ecy":"э","eDDot":"⩷","Edot":"Ė","edot":"ė","eDot":"≑","ee":"ⅇ","efDot":"≒","Efr":"𝔈","efr":"𝔢","eg":"⪚","Egrave":"È","egrave":"è","egs":"⪖","egsdot":"⪘","el":"⪙","Element":"∈","elinters":"⏧","ell":"ℓ","els":"⪕","elsdot":"⪗","Emacr":"Ē","emacr":"ē","empty":"∅","emptyset":"∅","EmptySmallSquare":"◻","emptyv":"∅","EmptyVerySmallSquare":"▫","emsp13":" ","emsp14":" ","emsp":" ","ENG":"Ŋ","eng":"ŋ","ensp":" ","Eogon":"Ę","eogon":"ę","Eopf":"𝔼","eopf":"𝕖","epar":"⋕","eparsl":"⧣","eplus":"⩱","epsi":"ε","Epsilon":"Ε","epsilon":"ε","epsiv":"ϵ","eqcirc":"≖","eqcolon":"≕","eqsim":"≂","eqslantgtr":"⪖","eqslantless":"⪕","Equal":"⩵","equals":"=","EqualTilde":"≂","equest":"≟","Equilibrium":"⇌","equiv":"≡","equivDD":"⩸","eqvparsl":"⧥","erarr":"⥱","erDot":"≓","escr":"ℯ","Escr":"ℰ","esdot":"≐","Esim":"⩳","esim":"≂","Eta":"Η","eta":"η","ETH":"Ð","eth":"ð","Euml":"Ë","euml":"ë","euro":"€","excl":"!","exist":"∃","Exists":"∃","expectation":"ℰ","exponentiale":"ⅇ","ExponentialE":"ⅇ","fallingdotseq":"≒","Fcy":"Ф","fcy":"ф","female":"♀","ffilig":"ﬃ","fflig":"ﬀ","ffllig":"ﬄ","Ffr":"𝔉","ffr":"𝔣","filig":"ﬁ","FilledSmallSquare":"◼","FilledVerySmallSquare":"▪","fjlig":"fj","flat":"♭","fllig":"ﬂ","fltns":"▱","fnof":"ƒ","Fopf":"𝔽","fopf":"𝕗","forall":"∀","ForAll":"∀","fork":"⋔","forkv":"⫙","Fouriertrf":"ℱ","fpartint":"⨍","frac12":"½","frac13":"⅓","frac14":"¼","frac15":"⅕","frac16":"⅙","frac18":"⅛","frac23":"⅔","frac25":"⅖","frac34":"¾","frac35":"⅗","frac38":"⅜","frac45":"⅘","frac56":"⅚","frac58":"⅝","frac78":"⅞","frasl":"⁄","frown":"⌢","fscr":"𝒻","Fscr":"ℱ","gacute":"ǵ","Gamma":"Γ","gamma":"γ","Gammad":"Ϝ","gammad":"ϝ","gap":"⪆","Gbreve":"Ğ","gbreve":"ğ","Gcedil":"Ģ","Gcirc":"Ĝ","gcirc":"ĝ","Gcy":"Г","gcy":"г","Gdot":"Ġ","gdot":"ġ","ge":"≥","gE":"≧","gEl":"⪌","gel":"⋛","geq":"≥","geqq":"≧","geqslant":"⩾","gescc":"⪩","ges":"⩾","gesdot":"⪀","gesdoto":"⪂","gesdotol":"⪄","gesl":"⋛︀","gesles":"⪔","Gfr":"𝔊","gfr":"𝔤","gg":"≫","Gg":"⋙","ggg":"⋙","gimel":"ℷ","GJcy":"Ѓ","gjcy":"ѓ","gla":"⪥","gl":"≷","glE":"⪒","glj":"⪤","gnap":"⪊","gnapprox":"⪊","gne":"⪈","gnE":"≩","gneq":"⪈","gneqq":"≩","gnsim":"⋧","Gopf":"𝔾","gopf":"𝕘","grave":"`","GreaterEqual":"≥","GreaterEqualLess":"⋛","GreaterFullEqual":"≧","GreaterGreater":"⪢","GreaterLess":"≷","GreaterSlantEqual":"⩾","GreaterTilde":"≳","Gscr":"𝒢","gscr":"ℊ","gsim":"≳","gsime":"⪎","gsiml":"⪐","gtcc":"⪧","gtcir":"⩺","gt":">","GT":">","Gt":"≫","gtdot":"⋗","gtlPar":"⦕","gtquest":"⩼","gtrapprox":"⪆","gtrarr":"⥸","gtrdot":"⋗","gtreqless":"⋛","gtreqqless":"⪌","gtrless":"≷","gtrsim":"≳","gvertneqq":"≩︀","gvnE":"≩︀","Hacek":"ˇ","hairsp":" ","half":"½","hamilt":"ℋ","HARDcy":"Ъ","hardcy":"ъ","harrcir":"⥈","harr":"↔","hArr":"⇔","harrw":"↭","Hat":"^","hbar":"ℏ","Hcirc":"Ĥ","hcirc":"ĥ","hearts":"♥","heartsuit":"♥","hellip":"…","hercon":"⊹","hfr":"𝔥","Hfr":"ℌ","HilbertSpace":"ℋ","hksearow":"⤥","hkswarow":"⤦","hoarr":"⇿","homtht":"∻","hookleftarrow":"↩","hookrightarrow":"↪","hopf":"𝕙","Hopf":"ℍ","horbar":"―","HorizontalLine":"─","hscr":"𝒽","Hscr":"ℋ","hslash":"ℏ","Hstrok":"Ħ","hstrok":"ħ","HumpDownHump":"≎","HumpEqual":"≏","hybull":"⁃","hyphen":"‐","Iacute":"Í","iacute":"í","ic":"⁣","Icirc":"Î","icirc":"î","Icy":"И","icy":"и","Idot":"İ","IEcy":"Е","iecy":"е","iexcl":"¡","iff":"⇔","ifr":"𝔦","Ifr":"ℑ","Igrave":"Ì","igrave":"ì","ii":"ⅈ","iiiint":"⨌","iiint":"∭","iinfin":"⧜","iiota":"℩","IJlig":"Ĳ","ijlig":"ĳ","Imacr":"Ī","imacr":"ī","image":"ℑ","ImaginaryI":"ⅈ","imagline":"ℐ","imagpart":"ℑ","imath":"ı","Im":"ℑ","imof":"⊷","imped":"Ƶ","Implies":"⇒","incare":"℅","in":"∈","infin":"∞","infintie":"⧝","inodot":"ı","intcal":"⊺","int":"∫","Int":"∬","integers":"ℤ","Integral":"∫","intercal":"⊺","Intersection":"⋂","intlarhk":"⨗","intprod":"⨼","InvisibleComma":"⁣","InvisibleTimes":"⁢","IOcy":"Ё","iocy":"ё","Iogon":"Į","iogon":"į","Iopf":"𝕀","iopf":"𝕚","Iota":"Ι","iota":"ι","iprod":"⨼","iquest":"¿","iscr":"𝒾","Iscr":"ℐ","isin":"∈","isindot":"⋵","isinE":"⋹","isins":"⋴","isinsv":"⋳","isinv":"∈","it":"⁢","Itilde":"Ĩ","itilde":"ĩ","Iukcy":"І","iukcy":"і","Iuml":"Ï","iuml":"ï","Jcirc":"Ĵ","jcirc":"ĵ","Jcy":"Й","jcy":"й","Jfr":"𝔍","jfr":"𝔧","jmath":"ȷ","Jopf":"𝕁","jopf":"𝕛","Jscr":"𝒥","jscr":"𝒿","Jsercy":"Ј","jsercy":"ј","Jukcy":"Є","jukcy":"є","Kappa":"Κ","kappa":"κ","kappav":"ϰ","Kcedil":"Ķ","kcedil":"ķ","Kcy":"К","kcy":"к","Kfr":"𝔎","kfr":"𝔨","kgreen":"ĸ","KHcy":"Х","khcy":"х","KJcy":"Ќ","kjcy":"ќ","Kopf":"𝕂","kopf":"𝕜","Kscr":"𝒦","kscr":"𝓀","lAarr":"⇚","Lacute":"Ĺ","lacute":"ĺ","laemptyv":"⦴","lagran":"ℒ","Lambda":"Λ","lambda":"λ","lang":"⟨","Lang":"⟪","langd":"⦑","langle":"⟨","lap":"⪅","Laplacetrf":"ℒ","laquo":"«","larrb":"⇤","larrbfs":"⤟","larr":"←","Larr":"↞","lArr":"⇐","larrfs":"⤝","larrhk":"↩","larrlp":"↫","larrpl":"⤹","larrsim":"⥳","larrtl":"↢","latail":"⤙","lAtail":"⤛","lat":"⪫","late":"⪭","lates":"⪭︀","lbarr":"⤌","lBarr":"⤎","lbbrk":"❲","lbrace":"{","lbrack":"[","lbrke":"⦋","lbrksld":"⦏","lbrkslu":"⦍","Lcaron":"Ľ","lcaron":"ľ","Lcedil":"Ļ","lcedil":"ļ","lceil":"⌈","lcub":"{","Lcy":"Л","lcy":"л","ldca":"⤶","ldquo":"“","ldquor":"„","ldrdhar":"⥧","ldrushar":"⥋","ldsh":"↲","le":"≤","lE":"≦","LeftAngleBracket":"⟨","LeftArrowBar":"⇤","leftarrow":"←","LeftArrow":"←","Leftarrow":"⇐","LeftArrowRightArrow":"⇆","leftarrowtail":"↢","LeftCeiling":"⌈","LeftDoubleBracket":"⟦","LeftDownTeeVector":"⥡","LeftDownVectorBar":"⥙","LeftDownVector":"⇃","LeftFloor":"⌊","leftharpoondown":"↽","leftharpoonup":"↼","leftleftarrows":"⇇","leftrightarrow":"↔","LeftRightArrow":"↔","Leftrightarrow":"⇔","leftrightarrows":"⇆","leftrightharpoons":"⇋","leftrightsquigarrow":"↭","LeftRightVector":"⥎","LeftTeeArrow":"↤","LeftTee":"⊣","LeftTeeVector":"⥚","leftthreetimes":"⋋","LeftTriangleBar":"⧏","LeftTriangle":"⊲","LeftTriangleEqual":"⊴","LeftUpDownVector":"⥑","LeftUpTeeVector":"⥠","LeftUpVectorBar":"⥘","LeftUpVector":"↿","LeftVectorBar":"⥒","LeftVector":"↼","lEg":"⪋","leg":"⋚","leq":"≤","leqq":"≦","leqslant":"⩽","lescc":"⪨","les":"⩽","lesdot":"⩿","lesdoto":"⪁","lesdotor":"⪃","lesg":"⋚︀","lesges":"⪓","lessapprox":"⪅","lessdot":"⋖","lesseqgtr":"⋚","lesseqqgtr":"⪋","LessEqualGreater":"⋚","LessFullEqual":"≦","LessGreater":"≶","lessgtr":"≶","LessLess":"⪡","lesssim":"≲","LessSlantEqual":"⩽","LessTilde":"≲","lfisht":"⥼","lfloor":"⌊","Lfr":"𝔏","lfr":"𝔩","lg":"≶","lgE":"⪑","lHar":"⥢","lhard":"↽","lharu":"↼","lharul":"⥪","lhblk":"▄","LJcy":"Љ","ljcy":"љ","llarr":"⇇","ll":"≪","Ll":"⋘","llcorner":"⌞","Lleftarrow":"⇚","llhard":"⥫","lltri":"◺","Lmidot":"Ŀ","lmidot":"ŀ","lmoustache":"⎰","lmoust":"⎰","lnap":"⪉","lnapprox":"⪉","lne":"⪇","lnE":"≨","lneq":"⪇","lneqq":"≨","lnsim":"⋦","loang":"⟬","loarr":"⇽","lobrk":"⟦","longleftarrow":"⟵","LongLeftArrow":"⟵","Longleftarrow":"⟸","longleftrightarrow":"⟷","LongLeftRightArrow":"⟷","Longleftrightarrow":"⟺","longmapsto":"⟼","longrightarrow":"⟶","LongRightArrow":"⟶","Longrightarrow":"⟹","looparrowleft":"↫","looparrowright":"↬","lopar":"⦅","Lopf":"𝕃","lopf":"𝕝","loplus":"⨭","lotimes":"⨴","lowast":"∗","lowbar":"_","LowerLeftArrow":"↙","LowerRightArrow":"↘","loz":"◊","lozenge":"◊","lozf":"⧫","lpar":"(","lparlt":"⦓","lrarr":"⇆","lrcorner":"⌟","lrhar":"⇋","lrhard":"⥭","lrm":"‎","lrtri":"⊿","lsaquo":"‹","lscr":"𝓁","Lscr":"ℒ","lsh":"↰","Lsh":"↰","lsim":"≲","lsime":"⪍","lsimg":"⪏","lsqb":"[","lsquo":"‘","lsquor":"‚","Lstrok":"Ł","lstrok":"ł","ltcc":"⪦","ltcir":"⩹","lt":"<","LT":"<","Lt":"≪","ltdot":"⋖","lthree":"⋋","ltimes":"⋉","ltlarr":"⥶","ltquest":"⩻","ltri":"◃","ltrie":"⊴","ltrif":"◂","ltrPar":"⦖","lurdshar":"⥊","luruhar":"⥦","lvertneqq":"≨︀","lvnE":"≨︀","macr":"¯","male":"♂","malt":"✠","maltese":"✠","Map":"⤅","map":"↦","mapsto":"↦","mapstodown":"↧","mapstoleft":"↤","mapstoup":"↥","marker":"▮","mcomma":"⨩","Mcy":"М","mcy":"м","mdash":"—","mDDot":"∺","measuredangle":"∡","MediumSpace":" ","Mellintrf":"ℳ","Mfr":"𝔐","mfr":"𝔪","mho":"℧","micro":"µ","midast":"*","midcir":"⫰","mid":"∣","middot":"·","minusb":"⊟","minus":"−","minusd":"∸","minusdu":"⨪","MinusPlus":"∓","mlcp":"⫛","mldr":"…","mnplus":"∓","models":"⊧","Mopf":"𝕄","mopf":"𝕞","mp":"∓","mscr":"𝓂","Mscr":"ℳ","mstpos":"∾","Mu":"Μ","mu":"μ","multimap":"⊸","mumap":"⊸","nabla":"∇","Nacute":"Ń","nacute":"ń","nang":"∠⃒","nap":"≉","napE":"⩰̸","napid":"≋̸","napos":"ŉ","napprox":"≉","natural":"♮","naturals":"ℕ","natur":"♮","nbsp":" ","nbump":"≎̸","nbumpe":"≏̸","ncap":"⩃","Ncaron":"Ň","ncaron":"ň","Ncedil":"Ņ","ncedil":"ņ","ncong":"≇","ncongdot":"⩭̸","ncup":"⩂","Ncy":"Н","ncy":"н","ndash":"–","nearhk":"⤤","nearr":"↗","neArr":"⇗","nearrow":"↗","ne":"≠","nedot":"≐̸","NegativeMediumSpace":"​","NegativeThickSpace":"​","NegativeThinSpace":"​","NegativeVeryThinSpace":"​","nequiv":"≢","nesear":"⤨","nesim":"≂̸","NestedGreaterGreater":"≫","NestedLessLess":"≪","NewLine":"\\n","nexist":"∄","nexists":"∄","Nfr":"𝔑","nfr":"𝔫","ngE":"≧̸","nge":"≱","ngeq":"≱","ngeqq":"≧̸","ngeqslant":"⩾̸","nges":"⩾̸","nGg":"⋙̸","ngsim":"≵","nGt":"≫⃒","ngt":"≯","ngtr":"≯","nGtv":"≫̸","nharr":"↮","nhArr":"⇎","nhpar":"⫲","ni":"∋","nis":"⋼","nisd":"⋺","niv":"∋","NJcy":"Њ","njcy":"њ","nlarr":"↚","nlArr":"⇍","nldr":"‥","nlE":"≦̸","nle":"≰","nleftarrow":"↚","nLeftarrow":"⇍","nleftrightarrow":"↮","nLeftrightarrow":"⇎","nleq":"≰","nleqq":"≦̸","nleqslant":"⩽̸","nles":"⩽̸","nless":"≮","nLl":"⋘̸","nlsim":"≴","nLt":"≪⃒","nlt":"≮","nltri":"⋪","nltrie":"⋬","nLtv":"≪̸","nmid":"∤","NoBreak":"⁠","NonBreakingSpace":" ","nopf":"𝕟","Nopf":"ℕ","Not":"⫬","not":"¬","NotCongruent":"≢","NotCupCap":"≭","NotDoubleVerticalBar":"∦","NotElement":"∉","NotEqual":"≠","NotEqualTilde":"≂̸","NotExists":"∄","NotGreater":"≯","NotGreaterEqual":"≱","NotGreaterFullEqual":"≧̸","NotGreaterGreater":"≫̸","NotGreaterLess":"≹","NotGreaterSlantEqual":"⩾̸","NotGreaterTilde":"≵","NotHumpDownHump":"≎̸","NotHumpEqual":"≏̸","notin":"∉","notindot":"⋵̸","notinE":"⋹̸","notinva":"∉","notinvb":"⋷","notinvc":"⋶","NotLeftTriangleBar":"⧏̸","NotLeftTriangle":"⋪","NotLeftTriangleEqual":"⋬","NotLess":"≮","NotLessEqual":"≰","NotLessGreater":"≸","NotLessLess":"≪̸","NotLessSlantEqual":"⩽̸","NotLessTilde":"≴","NotNestedGreaterGreater":"⪢̸","NotNestedLessLess":"⪡̸","notni":"∌","notniva":"∌","notnivb":"⋾","notnivc":"⋽","NotPrecedes":"⊀","NotPrecedesEqual":"⪯̸","NotPrecedesSlantEqual":"⋠","NotReverseElement":"∌","NotRightTriangleBar":"⧐̸","NotRightTriangle":"⋫","NotRightTriangleEqual":"⋭","NotSquareSubset":"⊏̸","NotSquareSubsetEqual":"⋢","NotSquareSuperset":"⊐̸","NotSquareSupersetEqual":"⋣","NotSubset":"⊂⃒","NotSubsetEqual":"⊈","NotSucceeds":"⊁","NotSucceedsEqual":"⪰̸","NotSucceedsSlantEqual":"⋡","NotSucceedsTilde":"≿̸","NotSuperset":"⊃⃒","NotSupersetEqual":"⊉","NotTilde":"≁","NotTildeEqual":"≄","NotTildeFullEqual":"≇","NotTildeTilde":"≉","NotVerticalBar":"∤","nparallel":"∦","npar":"∦","nparsl":"⫽⃥","npart":"∂̸","npolint":"⨔","npr":"⊀","nprcue":"⋠","nprec":"⊀","npreceq":"⪯̸","npre":"⪯̸","nrarrc":"⤳̸","nrarr":"↛","nrArr":"⇏","nrarrw":"↝̸","nrightarrow":"↛","nRightarrow":"⇏","nrtri":"⋫","nrtrie":"⋭","nsc":"⊁","nsccue":"⋡","nsce":"⪰̸","Nscr":"𝒩","nscr":"𝓃","nshortmid":"∤","nshortparallel":"∦","nsim":"≁","nsime":"≄","nsimeq":"≄","nsmid":"∤","nspar":"∦","nsqsube":"⋢","nsqsupe":"⋣","nsub":"⊄","nsubE":"⫅̸","nsube":"⊈","nsubset":"⊂⃒","nsubseteq":"⊈","nsubseteqq":"⫅̸","nsucc":"⊁","nsucceq":"⪰̸","nsup":"⊅","nsupE":"⫆̸","nsupe":"⊉","nsupset":"⊃⃒","nsupseteq":"⊉","nsupseteqq":"⫆̸","ntgl":"≹","Ntilde":"Ñ","ntilde":"ñ","ntlg":"≸","ntriangleleft":"⋪","ntrianglelefteq":"⋬","ntriangleright":"⋫","ntrianglerighteq":"⋭","Nu":"Ν","nu":"ν","num":"#","numero":"№","numsp":" ","nvap":"≍⃒","nvdash":"⊬","nvDash":"⊭","nVdash":"⊮","nVDash":"⊯","nvge":"≥⃒","nvgt":">⃒","nvHarr":"⤄","nvinfin":"⧞","nvlArr":"⤂","nvle":"≤⃒","nvlt":"<⃒","nvltrie":"⊴⃒","nvrArr":"⤃","nvrtrie":"⊵⃒","nvsim":"∼⃒","nwarhk":"⤣","nwarr":"↖","nwArr":"⇖","nwarrow":"↖","nwnear":"⤧","Oacute":"Ó","oacute":"ó","oast":"⊛","Ocirc":"Ô","ocirc":"ô","ocir":"⊚","Ocy":"О","ocy":"о","odash":"⊝","Odblac":"Ő","odblac":"ő","odiv":"⨸","odot":"⊙","odsold":"⦼","OElig":"Œ","oelig":"œ","ofcir":"⦿","Ofr":"𝔒","ofr":"𝔬","ogon":"˛","Ograve":"Ò","ograve":"ò","ogt":"⧁","ohbar":"⦵","ohm":"Ω","oint":"∮","olarr":"↺","olcir":"⦾","olcross":"⦻","oline":"‾","olt":"⧀","Omacr":"Ō","omacr":"ō","Omega":"Ω","omega":"ω","Omicron":"Ο","omicron":"ο","omid":"⦶","ominus":"⊖","Oopf":"𝕆","oopf":"𝕠","opar":"⦷","OpenCurlyDoubleQuote":"“","OpenCurlyQuote":"‘","operp":"⦹","oplus":"⊕","orarr":"↻","Or":"⩔","or":"∨","ord":"⩝","order":"ℴ","orderof":"ℴ","ordf":"ª","ordm":"º","origof":"⊶","oror":"⩖","orslope":"⩗","orv":"⩛","oS":"Ⓢ","Oscr":"𝒪","oscr":"ℴ","Oslash":"Ø","oslash":"ø","osol":"⊘","Otilde":"Õ","otilde":"õ","otimesas":"⨶","Otimes":"⨷","otimes":"⊗","Ouml":"Ö","ouml":"ö","ovbar":"⌽","OverBar":"‾","OverBrace":"⏞","OverBracket":"⎴","OverParenthesis":"⏜","para":"¶","parallel":"∥","par":"∥","parsim":"⫳","parsl":"⫽","part":"∂","PartialD":"∂","Pcy":"П","pcy":"п","percnt":"%","period":".","permil":"‰","perp":"⊥","pertenk":"‱","Pfr":"𝔓","pfr":"𝔭","Phi":"Φ","phi":"φ","phiv":"ϕ","phmmat":"ℳ","phone":"☎","Pi":"Π","pi":"π","pitchfork":"⋔","piv":"ϖ","planck":"ℏ","planckh":"ℎ","plankv":"ℏ","plusacir":"⨣","plusb":"⊞","pluscir":"⨢","plus":"+","plusdo":"∔","plusdu":"⨥","pluse":"⩲","PlusMinus":"±","plusmn":"±","plussim":"⨦","plustwo":"⨧","pm":"±","Poincareplane":"ℌ","pointint":"⨕","popf":"𝕡","Popf":"ℙ","pound":"£","prap":"⪷","Pr":"⪻","pr":"≺","prcue":"≼","precapprox":"⪷","prec":"≺","preccurlyeq":"≼","Precedes":"≺","PrecedesEqual":"⪯","PrecedesSlantEqual":"≼","PrecedesTilde":"≾","preceq":"⪯","precnapprox":"⪹","precneqq":"⪵","precnsim":"⋨","pre":"⪯","prE":"⪳","precsim":"≾","prime":"′","Prime":"″","primes":"ℙ","prnap":"⪹","prnE":"⪵","prnsim":"⋨","prod":"∏","Product":"∏","profalar":"⌮","profline":"⌒","profsurf":"⌓","prop":"∝","Proportional":"∝","Proportion":"∷","propto":"∝","prsim":"≾","prurel":"⊰","Pscr":"𝒫","pscr":"𝓅","Psi":"Ψ","psi":"ψ","puncsp":" ","Qfr":"𝔔","qfr":"𝔮","qint":"⨌","qopf":"𝕢","Qopf":"ℚ","qprime":"⁗","Qscr":"𝒬","qscr":"𝓆","quaternions":"ℍ","quatint":"⨖","quest":"?","questeq":"≟","quot":"\\"","QUOT":"\\"","rAarr":"⇛","race":"∽̱","Racute":"Ŕ","racute":"ŕ","radic":"√","raemptyv":"⦳","rang":"⟩","Rang":"⟫","rangd":"⦒","range":"⦥","rangle":"⟩","raquo":"»","rarrap":"⥵","rarrb":"⇥","rarrbfs":"⤠","rarrc":"⤳","rarr":"→","Rarr":"↠","rArr":"⇒","rarrfs":"⤞","rarrhk":"↪","rarrlp":"↬","rarrpl":"⥅","rarrsim":"⥴","Rarrtl":"⤖","rarrtl":"↣","rarrw":"↝","ratail":"⤚","rAtail":"⤜","ratio":"∶","rationals":"ℚ","rbarr":"⤍","rBarr":"⤏","RBarr":"⤐","rbbrk":"❳","rbrace":"}","rbrack":"]","rbrke":"⦌","rbrksld":"⦎","rbrkslu":"⦐","Rcaron":"Ř","rcaron":"ř","Rcedil":"Ŗ","rcedil":"ŗ","rceil":"⌉","rcub":"}","Rcy":"Р","rcy":"р","rdca":"⤷","rdldhar":"⥩","rdquo":"”","rdquor":"”","rdsh":"↳","real":"ℜ","realine":"ℛ","realpart":"ℜ","reals":"ℝ","Re":"ℜ","rect":"▭","reg":"®","REG":"®","ReverseElement":"∋","ReverseEquilibrium":"⇋","ReverseUpEquilibrium":"⥯","rfisht":"⥽","rfloor":"⌋","rfr":"𝔯","Rfr":"ℜ","rHar":"⥤","rhard":"⇁","rharu":"⇀","rharul":"⥬","Rho":"Ρ","rho":"ρ","rhov":"ϱ","RightAngleBracket":"⟩","RightArrowBar":"⇥","rightarrow":"→","RightArrow":"→","Rightarrow":"⇒","RightArrowLeftArrow":"⇄","rightarrowtail":"↣","RightCeiling":"⌉","RightDoubleBracket":"⟧","RightDownTeeVector":"⥝","RightDownVectorBar":"⥕","RightDownVector":"⇂","RightFloor":"⌋","rightharpoondown":"⇁","rightharpoonup":"⇀","rightleftarrows":"⇄","rightleftharpoons":"⇌","rightrightarrows":"⇉","rightsquigarrow":"↝","RightTeeArrow":"↦","RightTee":"⊢","RightTeeVector":"⥛","rightthreetimes":"⋌","RightTriangleBar":"⧐","RightTriangle":"⊳","RightTriangleEqual":"⊵","RightUpDownVector":"⥏","RightUpTeeVector":"⥜","RightUpVectorBar":"⥔","RightUpVector":"↾","RightVectorBar":"⥓","RightVector":"⇀","ring":"˚","risingdotseq":"≓","rlarr":"⇄","rlhar":"⇌","rlm":"‏","rmoustache":"⎱","rmoust":"⎱","rnmid":"⫮","roang":"⟭","roarr":"⇾","robrk":"⟧","ropar":"⦆","ropf":"𝕣","Ropf":"ℝ","roplus":"⨮","rotimes":"⨵","RoundImplies":"⥰","rpar":")","rpargt":"⦔","rppolint":"⨒","rrarr":"⇉","Rrightarrow":"⇛","rsaquo":"›","rscr":"𝓇","Rscr":"ℛ","rsh":"↱","Rsh":"↱","rsqb":"]","rsquo":"’","rsquor":"’","rthree":"⋌","rtimes":"⋊","rtri":"▹","rtrie":"⊵","rtrif":"▸","rtriltri":"⧎","RuleDelayed":"⧴","ruluhar":"⥨","rx":"℞","Sacute":"Ś","sacute":"ś","sbquo":"‚","scap":"⪸","Scaron":"Š","scaron":"š","Sc":"⪼","sc":"≻","sccue":"≽","sce":"⪰","scE":"⪴","Scedil":"Ş","scedil":"ş","Scirc":"Ŝ","scirc":"ŝ","scnap":"⪺","scnE":"⪶","scnsim":"⋩","scpolint":"⨓","scsim":"≿","Scy":"С","scy":"с","sdotb":"⊡","sdot":"⋅","sdote":"⩦","searhk":"⤥","searr":"↘","seArr":"⇘","searrow":"↘","sect":"§","semi":";","seswar":"⤩","setminus":"∖","setmn":"∖","sext":"✶","Sfr":"𝔖","sfr":"𝔰","sfrown":"⌢","sharp":"♯","SHCHcy":"Щ","shchcy":"щ","SHcy":"Ш","shcy":"ш","ShortDownArrow":"↓","ShortLeftArrow":"←","shortmid":"∣","shortparallel":"∥","ShortRightArrow":"→","ShortUpArrow":"↑","shy":"­","Sigma":"Σ","sigma":"σ","sigmaf":"ς","sigmav":"ς","sim":"∼","simdot":"⩪","sime":"≃","simeq":"≃","simg":"⪞","simgE":"⪠","siml":"⪝","simlE":"⪟","simne":"≆","simplus":"⨤","simrarr":"⥲","slarr":"←","SmallCircle":"∘","smallsetminus":"∖","smashp":"⨳","smeparsl":"⧤","smid":"∣","smile":"⌣","smt":"⪪","smte":"⪬","smtes":"⪬︀","SOFTcy":"Ь","softcy":"ь","solbar":"⌿","solb":"⧄","sol":"/","Sopf":"𝕊","sopf":"𝕤","spades":"♠","spadesuit":"♠","spar":"∥","sqcap":"⊓","sqcaps":"⊓︀","sqcup":"⊔","sqcups":"⊔︀","Sqrt":"√","sqsub":"⊏","sqsube":"⊑","sqsubset":"⊏","sqsubseteq":"⊑","sqsup":"⊐","sqsupe":"⊒","sqsupset":"⊐","sqsupseteq":"⊒","square":"□","Square":"□","SquareIntersection":"⊓","SquareSubset":"⊏","SquareSubsetEqual":"⊑","SquareSuperset":"⊐","SquareSupersetEqual":"⊒","SquareUnion":"⊔","squarf":"▪","squ":"□","squf":"▪","srarr":"→","Sscr":"𝒮","sscr":"𝓈","ssetmn":"∖","ssmile":"⌣","sstarf":"⋆","Star":"⋆","star":"☆","starf":"★","straightepsilon":"ϵ","straightphi":"ϕ","strns":"¯","sub":"⊂","Sub":"⋐","subdot":"⪽","subE":"⫅","sube":"⊆","subedot":"⫃","submult":"⫁","subnE":"⫋","subne":"⊊","subplus":"⪿","subrarr":"⥹","subset":"⊂","Subset":"⋐","subseteq":"⊆","subseteqq":"⫅","SubsetEqual":"⊆","subsetneq":"⊊","subsetneqq":"⫋","subsim":"⫇","subsub":"⫕","subsup":"⫓","succapprox":"⪸","succ":"≻","succcurlyeq":"≽","Succeeds":"≻","SucceedsEqual":"⪰","SucceedsSlantEqual":"≽","SucceedsTilde":"≿","succeq":"⪰","succnapprox":"⪺","succneqq":"⪶","succnsim":"⋩","succsim":"≿","SuchThat":"∋","sum":"∑","Sum":"∑","sung":"♪","sup1":"¹","sup2":"²","sup3":"³","sup":"⊃","Sup":"⋑","supdot":"⪾","supdsub":"⫘","supE":"⫆","supe":"⊇","supedot":"⫄","Superset":"⊃","SupersetEqual":"⊇","suphsol":"⟉","suphsub":"⫗","suplarr":"⥻","supmult":"⫂","supnE":"⫌","supne":"⊋","supplus":"⫀","supset":"⊃","Supset":"⋑","supseteq":"⊇","supseteqq":"⫆","supsetneq":"⊋","supsetneqq":"⫌","supsim":"⫈","supsub":"⫔","supsup":"⫖","swarhk":"⤦","swarr":"↙","swArr":"⇙","swarrow":"↙","swnwar":"⤪","szlig":"ß","Tab":"\\t","target":"⌖","Tau":"Τ","tau":"τ","tbrk":"⎴","Tcaron":"Ť","tcaron":"ť","Tcedil":"Ţ","tcedil":"ţ","Tcy":"Т","tcy":"т","tdot":"⃛","telrec":"⌕","Tfr":"𝔗","tfr":"𝔱","there4":"∴","therefore":"∴","Therefore":"∴","Theta":"Θ","theta":"θ","thetasym":"ϑ","thetav":"ϑ","thickapprox":"≈","thicksim":"∼","ThickSpace":"  ","ThinSpace":" ","thinsp":" ","thkap":"≈","thksim":"∼","THORN":"Þ","thorn":"þ","tilde":"˜","Tilde":"∼","TildeEqual":"≃","TildeFullEqual":"≅","TildeTilde":"≈","timesbar":"⨱","timesb":"⊠","times":"×","timesd":"⨰","tint":"∭","toea":"⤨","topbot":"⌶","topcir":"⫱","top":"⊤","Topf":"𝕋","topf":"𝕥","topfork":"⫚","tosa":"⤩","tprime":"‴","trade":"™","TRADE":"™","triangle":"▵","triangledown":"▿","triangleleft":"◃","trianglelefteq":"⊴","triangleq":"≜","triangleright":"▹","trianglerighteq":"⊵","tridot":"◬","trie":"≜","triminus":"⨺","TripleDot":"⃛","triplus":"⨹","trisb":"⧍","tritime":"⨻","trpezium":"⏢","Tscr":"𝒯","tscr":"𝓉","TScy":"Ц","tscy":"ц","TSHcy":"Ћ","tshcy":"ћ","Tstrok":"Ŧ","tstrok":"ŧ","twixt":"≬","twoheadleftarrow":"↞","twoheadrightarrow":"↠","Uacute":"Ú","uacute":"ú","uarr":"↑","Uarr":"↟","uArr":"⇑","Uarrocir":"⥉","Ubrcy":"Ў","ubrcy":"ў","Ubreve":"Ŭ","ubreve":"ŭ","Ucirc":"Û","ucirc":"û","Ucy":"У","ucy":"у","udarr":"⇅","Udblac":"Ű","udblac":"ű","udhar":"⥮","ufisht":"⥾","Ufr":"𝔘","ufr":"𝔲","Ugrave":"Ù","ugrave":"ù","uHar":"⥣","uharl":"↿","uharr":"↾","uhblk":"▀","ulcorn":"⌜","ulcorner":"⌜","ulcrop":"⌏","ultri":"◸","Umacr":"Ū","umacr":"ū","uml":"¨","UnderBar":"_","UnderBrace":"⏟","UnderBracket":"⎵","UnderParenthesis":"⏝","Union":"⋃","UnionPlus":"⊎","Uogon":"Ų","uogon":"ų","Uopf":"𝕌","uopf":"𝕦","UpArrowBar":"⤒","uparrow":"↑","UpArrow":"↑","Uparrow":"⇑","UpArrowDownArrow":"⇅","updownarrow":"↕","UpDownArrow":"↕","Updownarrow":"⇕","UpEquilibrium":"⥮","upharpoonleft":"↿","upharpoonright":"↾","uplus":"⊎","UpperLeftArrow":"↖","UpperRightArrow":"↗","upsi":"υ","Upsi":"ϒ","upsih":"ϒ","Upsilon":"Υ","upsilon":"υ","UpTeeArrow":"↥","UpTee":"⊥","upuparrows":"⇈","urcorn":"⌝","urcorner":"⌝","urcrop":"⌎","Uring":"Ů","uring":"ů","urtri":"◹","Uscr":"𝒰","uscr":"𝓊","utdot":"⋰","Utilde":"Ũ","utilde":"ũ","utri":"▵","utrif":"▴","uuarr":"⇈","Uuml":"Ü","uuml":"ü","uwangle":"⦧","vangrt":"⦜","varepsilon":"ϵ","varkappa":"ϰ","varnothing":"∅","varphi":"ϕ","varpi":"ϖ","varpropto":"∝","varr":"↕","vArr":"⇕","varrho":"ϱ","varsigma":"ς","varsubsetneq":"⊊︀","varsubsetneqq":"⫋︀","varsupsetneq":"⊋︀","varsupsetneqq":"⫌︀","vartheta":"ϑ","vartriangleleft":"⊲","vartriangleright":"⊳","vBar":"⫨","Vbar":"⫫","vBarv":"⫩","Vcy":"В","vcy":"в","vdash":"⊢","vDash":"⊨","Vdash":"⊩","VDash":"⊫","Vdashl":"⫦","veebar":"⊻","vee":"∨","Vee":"⋁","veeeq":"≚","vellip":"⋮","verbar":"|","Verbar":"‖","vert":"|","Vert":"‖","VerticalBar":"∣","VerticalLine":"|","VerticalSeparator":"❘","VerticalTilde":"≀","VeryThinSpace":" ","Vfr":"𝔙","vfr":"𝔳","vltri":"⊲","vnsub":"⊂⃒","vnsup":"⊃⃒","Vopf":"𝕍","vopf":"𝕧","vprop":"∝","vrtri":"⊳","Vscr":"𝒱","vscr":"𝓋","vsubnE":"⫋︀","vsubne":"⊊︀","vsupnE":"⫌︀","vsupne":"⊋︀","Vvdash":"⊪","vzigzag":"⦚","Wcirc":"Ŵ","wcirc":"ŵ","wedbar":"⩟","wedge":"∧","Wedge":"⋀","wedgeq":"≙","weierp":"℘","Wfr":"𝔚","wfr":"𝔴","Wopf":"𝕎","wopf":"𝕨","wp":"℘","wr":"≀","wreath":"≀","Wscr":"𝒲","wscr":"𝓌","xcap":"⋂","xcirc":"◯","xcup":"⋃","xdtri":"▽","Xfr":"𝔛","xfr":"𝔵","xharr":"⟷","xhArr":"⟺","Xi":"Ξ","xi":"ξ","xlarr":"⟵","xlArr":"⟸","xmap":"⟼","xnis":"⋻","xodot":"⨀","Xopf":"𝕏","xopf":"𝕩","xoplus":"⨁","xotime":"⨂","xrarr":"⟶","xrArr":"⟹","Xscr":"𝒳","xscr":"𝓍","xsqcup":"⨆","xuplus":"⨄","xutri":"△","xvee":"⋁","xwedge":"⋀","Yacute":"Ý","yacute":"ý","YAcy":"Я","yacy":"я","Ycirc":"Ŷ","ycirc":"ŷ","Ycy":"Ы","ycy":"ы","yen":"¥","Yfr":"𝔜","yfr":"𝔶","YIcy":"Ї","yicy":"ї","Yopf":"𝕐","yopf":"𝕪","Yscr":"𝒴","yscr":"𝓎","YUcy":"Ю","yucy":"ю","yuml":"ÿ","Yuml":"Ÿ","Zacute":"Ź","zacute":"ź","Zcaron":"Ž","zcaron":"ž","Zcy":"З","zcy":"з","Zdot":"Ż","zdot":"ż","zeetrf":"ℨ","ZeroWidthSpace":"​","Zeta":"Ζ","zeta":"ζ","zfr":"𝔷","Zfr":"ℨ","ZHcy":"Ж","zhcy":"ж","zigrarr":"⇝","zopf":"𝕫","Zopf":"ℤ","Zscr":"𝒵","zscr":"𝓏","zwj":"‍","zwnj":"‌"}')},9591:e=>{"use strict";e.exports=JSON.parse('{"Aacute":"Á","aacute":"á","Acirc":"Â","acirc":"â","acute":"´","AElig":"Æ","aelig":"æ","Agrave":"À","agrave":"à","amp":"&","AMP":"&","Aring":"Å","aring":"å","Atilde":"Ã","atilde":"ã","Auml":"Ä","auml":"ä","brvbar":"¦","Ccedil":"Ç","ccedil":"ç","cedil":"¸","cent":"¢","copy":"©","COPY":"©","curren":"¤","deg":"°","divide":"÷","Eacute":"É","eacute":"é","Ecirc":"Ê","ecirc":"ê","Egrave":"È","egrave":"è","ETH":"Ð","eth":"ð","Euml":"Ë","euml":"ë","frac12":"½","frac14":"¼","frac34":"¾","gt":">","GT":">","Iacute":"Í","iacute":"í","Icirc":"Î","icirc":"î","iexcl":"¡","Igrave":"Ì","igrave":"ì","iquest":"¿","Iuml":"Ï","iuml":"ï","laquo":"«","lt":"<","LT":"<","macr":"¯","micro":"µ","middot":"·","nbsp":" ","not":"¬","Ntilde":"Ñ","ntilde":"ñ","Oacute":"Ó","oacute":"ó","Ocirc":"Ô","ocirc":"ô","Ograve":"Ò","ograve":"ò","ordf":"ª","ordm":"º","Oslash":"Ø","oslash":"ø","Otilde":"Õ","otilde":"õ","Ouml":"Ö","ouml":"ö","para":"¶","plusmn":"±","pound":"£","quot":"\\"","QUOT":"\\"","raquo":"»","reg":"®","REG":"®","sect":"§","shy":"­","sup1":"¹","sup2":"²","sup3":"³","szlig":"ß","THORN":"Þ","thorn":"þ","times":"×","Uacute":"Ú","uacute":"ú","Ucirc":"Û","ucirc":"û","Ugrave":"Ù","ugrave":"ù","uml":"¨","Uuml":"Ü","uuml":"ü","Yacute":"Ý","yacute":"ý","yen":"¥","yuml":"ÿ"}')},2586:e=>{"use strict";e.exports=JSON.parse('{"amp":"&","apos":"\'","gt":">","lt":"<","quot":"\\""}')}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};(()=>{"use strict";function e(e){return Array.isArray(e)||ArrayBuffer.isView(e)}function t(e){return null!=e&&"function"==typeof e.GetHashCode}function o(e){return null!=e&&"function"==typeof e.Dispose}function i(e){o(e)&&e.Dispose()}function s(e,t){return Object.getPrototypeOf(e)?.constructor===Object.getPrototypeOf(t)?.constructor}n.r(r),n.d(r,{Api:()=>Fp,Api_$reflection:()=>Mp,activate:()=>qp,deactivate:()=>Lp}),Symbol.iterator;class a{constructor(e){this.iter=e,this.current=null}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current}"System.Collections.IEnumerator.get_Current"(){return this.current}"System.Collections.IEnumerator.MoveNext"(){const e=this.iter.next();return this.current=e.value,!e.done}"System.Collections.IEnumerator.Reset"(){throw new Error("JS iterators cannot be reset")}Dispose(){}}function c(e){return null!=(t=e)&&"function"==typeof t.GetEnumerator?e.GetEnumerator():new a(e[Symbol.iterator]());var t}function u(e){return{next(){const t=e["System.Collections.IEnumerator.MoveNext"]();return{done:!t,value:t?e["System.Collections.Generic.IEnumerator`1.get_Current"]():void 0}}}}function l(e,t){let n=e.toString(10);for(;n.length<t;)n="0"+n;return n}function d(e){const t=e;return"number"==typeof t.offset?t.offset:1===e.kind?0:-6e4*e.getTimezoneOffset()}function h(e,t){return(e=e<0&&null!=t&&10!==t?4294967295+e+1:e).toString(t)}class p{static id(e){return p.idMap.has(e)||p.idMap.set(e,++p.count),p.idMap.get(e)}}function f(e){let t=0,n=5381;const r=e.length;for(;t<r;)n=33*n^e.charCodeAt(t++);return n}function m(e){return 2654435761*e|0}function g(e){return f(e.toString(32))}function v(e){let t=0;const n=e.length;for(let r=0;r<n;r++)t=(t<<5)+t^e[r];return t}function y(n){if(null==n)return 0;switch(typeof n){case"boolean":return n?1:0;case"number":return m(n);case"bigint":return g(n);case"string":return f(n);default:return t(n)?n.GetHashCode():e(n)?function(e){const t=e.length,n=new Array(t);for(let r=0;r<t;r++)n[r]=y(e[r]);return v(n)}(n):n instanceof Date?function(e){return e.getTime()}(n):Object.getPrototypeOf(n)?.constructor===Object?v(Object.values(n).map((e=>y(e)))):m(p.id(n))}}function w(e){return function(e){return t(e)?e.GetHashCode():function(e){if(null==e)return 0;switch(typeof e){case"boolean":return e?1:0;case"number":return m(e);case"bigint":return g(e);case"string":return f(e);default:return m(p.id(e))}}(e)}(e)}function b(e,t,n){if(null==e)return null==t;if(null==t)return!1;if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(!n(e[r],t[r]))return!1;return!0}function _(e,t){return b(e,t,C)}function C(t,n){return t===n||(null==t?null==n:null!=n&&(function(e){return null!=e&&"function"==typeof e.Equals}(t)?t.Equals(n):e(t)?e(n)&&_(t,n):"object"==typeof t&&(t instanceof Date?n instanceof Date&&0===S(t,n):Object.getPrototypeOf(t)?.constructor===Object&&function(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;n.sort(),r.sort();for(let o=0;o<n.length;o++)if(n[o]!==r[o]||!C(e[n[o]],t[r[o]]))return!1;return!0}(t,n))))}function S(e,t){let n,r;return"offset"in e&&"offset"in t?(n=e.getTime(),r=t.getTime()):(n=e.getTime()+d(e),r=t.getTime()+d(t)),n===r?0:n<r?-1:1}function T(e,t){return e===t?0:e<t?-1:1}function E(e,t){return function(e,t,n){if(null==e)return null==t?0:1;if(null==t)return-1;if(e.length!==t.length)return e.length<t.length?-1:1;for(let r=0,o=0;r<e.length;r++)if(o=n(e[r],t[r]),0!==o)return o;return 0}(e,t,x)}function x(t,n){return t===n?0:null==t?null==n?0:-1:null==n?1:function(e){return null!=e&&"function"==typeof e.CompareTo}(t)?t.CompareTo(n):e(t)?e(n)?E(t,n):-1:"object"!=typeof t?t<n?-1:1:t instanceof Date?n instanceof Date?S(t,n):-1:Object.getPrototypeOf(t)?.constructor===Object?function(e,t){const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return n.length<r.length?-1:1;n.sort(),r.sort();for(let o=0,i=0;o<n.length;o++){const s=n[o];if(s!==r[o])return s<r[o]?-1:1;if(i=x(e[s],t[s]),0!==i)return i}return 0}(t,n):-1}function D(e){let t=e;return(...e)=>{if(0===e.length)return t;t=e[0]}}function k(e){const t={};for(const n of e)t[n[0]]=n[1];return t}function R(e){return decodeURIComponent(e.replace(/\+/g,"%20"))}p.idMap=new WeakMap,p.count=0;const P=new WeakMap;function N(e){if(null==e)return null;const t=(t,n)=>e(t)(n);return P.set(t,e),t}function O(e){return P.get(e)??(t=>n=>e(t,n))}function I(e){if(null==e)return null;const t=(t,n,r)=>e(t)(n)(r);return P.set(t,e),t}function A(e){if(null==e)return null;const t=(t,n,r,o,i)=>e(t)(n)(r)(o)(i);return P.set(t,e),t}function F(e,t=0){if(null!=e&&"object"==typeof e){if("function"==typeof e.toString)return e.toString();if(Symbol.iterator in e)return function(e){let t=0,n="[";for(const r of e){if(0===t)n+=F(r);else{if(100===t){n+="; ...";break}n+="; "+F(r)}t++}return n+"]"}(e);{const n=Object.getPrototypeOf(e)?.constructor;return n===Object&&t<10?"{ "+Object.entries(e).map((([e,n])=>e+" = "+F(n,t+1))).join("\n  ")+" }":n?.name??""}}return String(e)}class M{get name(){return this.cases()[this.tag]}toJSON(){return 0===this.fields.length?this.name:[this.name].concat(this.fields)}toString(){return function(e,t){if(0===t.length)return e;{let n,r=!0;return 1===t.length?(n=F(t[0]),r=n.indexOf(" ")>=0):n=t.map((e=>F(e))).join(", "),e+(r?" (":" ")+n+(r?")":"")}}(this.name,this.fields)}GetHashCode(){const e=this.fields.map((e=>y(e)));return e.splice(0,0,m(this.tag)),v(e)}Equals(e){return this===e||!!s(this,e)&&this.tag===e.tag&&_(this.fields,e.fields)}CompareTo(e){return this===e?0:s(this,e)?this.tag===e.tag?E(this.fields,e.fields):this.tag<e.tag?-1:1:-1}}class q{toJSON(){return function(e){const t={},n=Object.keys(e);for(let r=0;r<n.length;r++)t[n[r]]=e[n[r]];return t}(this)}toString(){return e=this,"{ "+Object.entries(e).map((([e,t])=>e+" = "+F(t))).join("\n  ")+" }";var e}GetHashCode(){return e=this,v(Object.values(e).map((e=>y(e))));var e}Equals(e){return function(e,t){if(e===t)return!0;if(s(e,t)){const n=Object.keys(e);for(let r=0;r<n.length;r++)if(!C(e[n[r]],t[n[r]]))return!1;return!0}return!1}(this,e)}CompareTo(e){return function(e,t){if(e===t)return 0;if(s(e,t)){const n=Object.keys(e);for(let r=0;r<n.length;r++){const o=x(e[n[r]],t[n[r]]);if(0!==o)return o}return 0}return-1}(this,e)}}class L{get contents(){return this.getter()}set contents(e){this.setter(e)}constructor(e,t){"function"==typeof t?(this.getter=e,this.setter=t):(this.getter=()=>e,this.setter=t=>{e=t})}}function j(e){return(t=e)instanceof class{constructor(e){this.message=e}}||t instanceof Error||function(e){return e instanceof Promise}(e)?e:new Error(String(e));var t}function H(e){const t=e<0,n=(e=Math.abs(e))%36e5/6e4;return(t?"-":"+")+l(~~(e/36e5),2)+":"+l(n,2)}function $(e,t){const n=e.toISOString();return"first"===t?n.substring(0,n.indexOf("T")):n.substring(n.indexOf("T")+1,n.length-1)}function U(e,t,n){return t.replace(/(\w)\1*/g,(t=>{let r=Number.NaN;switch(t.substring(0,1)){case"y":const o=n?e.getUTCFullYear():e.getFullYear();r=t.length<4?o%100:o;break;case"M":r=(n?e.getUTCMonth():e.getMonth())+1;break;case"d":r=n?e.getUTCDate():e.getDate();break;case"H":r=n?e.getUTCHours():e.getHours();break;case"h":const i=n?e.getUTCHours():e.getHours();r=i>12?i%12:i;break;case"m":r=n?e.getUTCMinutes():e.getMinutes();break;case"s":r=n?e.getUTCSeconds():e.getSeconds();break;case"f":r=n?e.getUTCMilliseconds():e.getMilliseconds()}return Number.isNaN(r)?t:l(r,t.length)}))}function B(e,t,n){return null!=e.offset?function(e,t){const n=new Date(e.getTime()+(e.offset??0));if("string"!=typeof t)return n.toISOString().replace(/\.\d+/,"").replace(/[A-Z]|\.\d+/g," ")+H(e.offset??0);if(1!==t.length)return U(n,t,!0);switch(t){case"D":case"d":return $(n,"first");case"T":case"t":return $(n,"second");case"O":case"o":return function(e,t){const n=e.toISOString();return n.substring(0,n.length-1)+H(t)}(n,e.offset??0);default:throw new Error("Unrecognized Date print format")}}(e,t):function(e,t){const n=1===e.kind;if("string"!=typeof t)return n?e.toUTCString():e.toLocaleString();if(1!==t.length)return U(e,t,n);switch(t){case"D":case"d":return n?$(e,"first"):e.toLocaleDateString();case"T":case"t":return n?$(e,"second"):e.toLocaleTimeString();case"O":case"o":return function(e,t){if(t)return e.toISOString();{const t=null==e.kind||2===e.kind;return l(e.getFullYear(),4)+"-"+l(e.getMonth()+1,2)+"-"+l(e.getDate(),2)+"T"+l(e.getHours(),2)+":"+l(e.getMinutes(),2)+":"+l(e.getSeconds(),2)+"."+l(e.getMilliseconds(),3)+(t?H(-6e4*e.getTimezoneOffset()):"")}}(e,n);default:throw new Error("Unrecognized Date print format")}}(e,t)}function W(e,t){const n=new Date(e);return n.kind=0|(null==t?0:t),n}function z(e){function t(){throw new Error(`The string is not a valid Date: ${e}`)}null!=e&&""!==e.trim()||t(),10===e.length&&"-"===e[4]&&"-"===e[7]&&(e+="T00:00:00");let n=new Date(e),r=null;if(isNaN(n.getTime())){const o=/^\s*(\d+[^\w\s:]\d+[^\w\s:]\d+)?\s*(\d+:\d+(?::\d+(?:\.\d+)?)?)?\s*([AaPp][Mm])?\s*(Z|[+-]([01]?\d):?([0-5]?\d)?)?\s*$/.exec(e);if(null!=o){let e,t=0;if(null!=o[2]){const e=o[2].split(":");t=3600*parseInt(e[0],10)+60*parseInt(e[1]||"0",10)+parseFloat(e[2]||"0"),null!=o[3]&&"PM"===o[3].toUpperCase()&&(t+=720)}if(null!=o[4]){if(null!=o[1])e=new Date(o[1]+" UTC");else{const t=new Date;e=new Date(t.getUTCFullYear()+"/"+(t.getUTCMonth()+1)+"/"+t.getUTCDate())}if("Z"===o[4])r="Z";else{let e=60*parseInt(o[5],10)+parseInt(o[6]||"0",10);"-"===o[4][0]&&(e*=-1),r=e,t-=60*e}}else if(null!=o[1])e=new Date(o[1]);else{const t=new Date;e=new Date(t.getFullYear()+"/"+(t.getMonth()+1)+"/"+t.getDate())}n=new Date(e.getTime()+1e3*t),n=new Date(n.getTime()+6e4*(n.getTimezoneOffset()-e.getTimezoneOffset()))}else t();isNaN(n.getTime())&&t()}return[n,r]}function G(e,t){try{return t.contents=function(e,t=!1){const[n,r]=z(e),o=null!=r?t&&"Z"===r?1:2:0;return W(n.getTime(),o)}(e),!0}catch(e){return!1}}function V(){return W(Date.now(),2)}const K=Symbol("numeric");function X(e){return"number"==typeof e||"bigint"==typeof e||e?.[K]}function Y(e,t){return"number"==typeof e?e*t:"bigint"==typeof e?e*BigInt(t):e[K]().multiply(t)}function J(e,t){return"number"==typeof e?e.toFixed(t):"bigint"==typeof e?e:e[K]().toFixed(t)}function Q(e,t){return"number"==typeof e?e.toPrecision(t):"bigint"==typeof e?e:e[K]().toPrecision(t)}function Z(e,t){return"number"==typeof e?e.toExponential(t):"bigint"==typeof e?e:e[K]().toExponential(t)}function ee(e){return"number"==typeof e?(Number(e)>>>0).toString(16):"bigint"==typeof e?BigInt.asUintN(64,e).toString(16):e[K]().toHex()}function te(e){return e.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}function ne(e,t,n=0){return e.lastIndex=n,e.exec(t)}function re(e,t,n=0){if(null==t)throw new Error("Input cannot ve null");if(!e.global)throw new Error("Non-global RegExp");e.lastIndex=n;const r=[];let o,i=-1;for(;null!=(o=e.exec(t));)o.index===i?e.lastIndex++:(i=o.index,r.push(o));return r}function oe(e,t,n,r,o=0){if("string"==typeof e){const n=e;e=function(e,t=0){if(0!=(-284&t))throw new Error("RegexOptions only supports: IgnoreCase, Multiline, Compiled, Singleline and ECMAScript");let n="gu";return n+=1&t?"i":"",n+=2&t?"m":"",n+=16&t?"s":"",new RegExp(e,n)}(t,r??0),t=n,r=void 0}if("function"==typeof n)return r=null==r?-1:r,t.substring(0,o)+t.substring(o).replace(e,(function(){let e=arguments[0];if(r){r--;const t=[],o=arguments.length,i="string"!=typeof arguments[o-1];let s=i?o-3:o-2;for(let e=0;e<s;e++)t.push(arguments[e]);t.index=arguments[s++],t.input=arguments[s++],i&&(t.groups=arguments[s]),e=n(t)}return e}));if(n=n.replace(/\$0/g,(e=>"$&")).replace(/\${([^}]+)}/g,"$<$1>"),null!=r){let i;const s=t.substring(o),a=re(e,s),c=re.length>r?(i=a[r-1],s.substring(0,i.index+i[0].length)):s;return t.substring(0,o)+c.replace(e,n)+t.substring(o+c.length)}return t.replace(e,n)}const ie=/(^|[^%])%([0+\- ]*)(\*|\d+)?(?:\.(\d+))?(\w)/g,se=/(?:(^|[^%])%([0+\- ]*)(\d+)?(?:\.(\d+))?(\w))?%P\(\)/g,ae=/\{(\d+)(,-?\d+)?(?:\:([a-zA-Z])(\d{0,2})|\:(.+?))?\}/g;function ce(e,t){return function(e,t){return"number"==typeof e||"bigint"==typeof e?e<t?-1:e>t?1:0:e.CompareTo(t)}(e,t)<0}function ue(e){return{input:e,cont:(t=e,e=>{ie.lastIndex=0;const n=[],r=[];let o=0,i=ie.exec(t);for(;i;){const e=i.index+(i[1]||"").length;n.push(t.substring(o,e).replace(/%%/g,"%")),r.push(i),o=ie.lastIndex,ie.lastIndex-=1,i=ie.exec(t)}return 0===n.length?e(t.replace(/%%/g,"%")):(n.push(t.substring(o).replace(/%%/g,"%")),ge(e,n,r))})};var t}function le(e,t){let n=0,r=0,o="";se.lastIndex=0;let i=se.exec(e);for(;i;){const s=i.index+(i[1]||"").length;o+=e.substring(r,s).replace(/%%/g,"%");const[,,a,c,u,l]=i;r=se.lastIndex,o+=me(t[n++],a,c,u,l),se.lastIndex=r-1,i=se.exec(e)}return o+=e.substring(r).replace(/%%/g,"%"),o}function de(e,t){return"string"==typeof t?e(t):t.cont(e)}function he(e){return de((e=>console.log(e)),e)}function pe(e){return de((e=>e),e)}function fe(e){return de((e=>{throw new Error(e)}),e)}function me(e,t,n,r,o){let i="";if(t=t||"",o=o||"",X(e))switch("x"!==o.toLowerCase()&&(ce(e,0)?(e=Y(e,-1),i="-"):t.indexOf(" ")>=0?i=" ":t.indexOf("+")>=0&&(i="+")),r=null==r?null:parseInt(r,10),o){case"f":case"F":e=J(e,r=null!=r?r:6);break;case"g":case"G":e=null!=r?Q(e,r):Q(e);break;case"e":case"E":e=null!=r?Z(e,r):Z(e);break;case"x":e=ee(e);break;case"X":e=ee(e).toUpperCase();break;default:e=String(e)}else e=e instanceof Date?B(e):F(e);if(n="number"==typeof n?n:parseInt(n,10),isNaN(n))e=i+e;else{const r=t.indexOf("0")>=0,o=t.indexOf("-")>=0,s=o||!r?" ":"0";e="0"===s?i+(e=Ce(e,n-i.length,s,o)):Ce(i+e,n,s,o)}return e}function ge(e,t,n,r="",o=-1){return(...i)=>{let s=r;const a=t.slice(),c=n.slice();for(const e of i){const[,,t,n,r,i]=c[0];let u=n;if(o>=0)u=o,o=-1;else if("*"===u){if(e<0)throw new Error("Non-negative number required");o=e;continue}s+=a[0],s+=me(e,t,u,r,i),a.splice(0,1),c.splice(0,1)}return 0===c.length?(s+=a[0],e(s)):ge(e,a,c,s,o)}}function ve(e,...t){let n;return"object"==typeof e?(n=String(t[0]),t.shift()):n=e,n.replace(ae,((e,n,r,o,i,s)=>{if(n<0||n>=t.length)throw new Error("Index must be greater or equal to zero and less than the arguments' length.");let a=t[n];if(X(a))switch(i=null==i?null:parseInt(i,10),o){case"f":case"F":a=J(a,i=null!=i?i:2);break;case"g":case"G":a=null!=i?Q(a,i):Q(a);break;case"e":case"E":a=null!=i?Z(a,i):Z(a);break;case"p":case"P":i=null!=i?i:2,a=J(Y(a,100),i)+" %";break;case"d":case"D":a=null!=i?Se(String(a),i,"0"):String(a);break;case"x":case"X":a=null!=i?Se(ee(a),i,"0"):ee(a),"X"===o&&(a=a.toUpperCase());break;default:if(s){let e="";a=s.replace(/([0#,]+)(\.[0#]+)?/,((t,n,r)=>{ce(a,0)&&(a=Y(a,-1),e="-"),r=null==r?"":r.substring(1),a=J(a,Math.max(r.length,0));let[o,i]=a.split(".");i||(i=""),o=Se(o,n.replace(/,/g,"").replace(/^#+/,"").length,"0");const s=r.replace(/#+$/,"").length;if(s>i.length?i=function(e,t,n){return Ce(e,t,"0",!0)}(i,s):s<i.length&&(i=i.substring(0,s)+i.substring(s).replace(/0+$/,"")),n.indexOf(",")>0){const e=o.length%3,t=Math.floor(o.length/3);let n=e>0?o.substr(0,e)+(t>0?",":""):"";for(let r=0;r<t;r++)n+=o.substr(e+3*r,3)+(r<t-1?",":"");o=n}return i.length>0?o+"."+i:o})),a=e+a}}else a=a instanceof Date?B(a,s||o):F(a);return r=parseInt((r||" ").substring(1),10),isNaN(r)||(a=Ce(String(a),Math.abs(r)," ",r<0)),a}))}function ye(e,t){const n=e.lastIndexOf(t);return n>=0&&n===e.length-t.length}function we(e){return"string"!=typeof e||0===e.length}function be(e){return"string"!=typeof e||/^\s*$/.test(e)}function _e(e,t){return Array.isArray(t)?t.join(e):Array.from(t).join(e)}function Ce(e,t,n,r){n=n||" ",t-=e.length;for(let o=0;o<t;o++)e=r?e+n:n+e;return e}function Se(e,t,n){return Ce(e,t,n)}function Te(e,t,n){return e.replace(new RegExp(te(t),"g"),n)}function Ee(e,t){return function(e,n){if(e<0)throw new Error("String length must be non-negative");const r=new Array(e);for(let n=0;n<e;n++)r[n]=t;return r.join("")}(e)}function xe(e,t,n,r){if(r="number"==typeof r?r:0,(n="number"==typeof n?n:void 0)&&n<0)throw new Error("Count cannot be less than zero");if(0===n)return[];const o=1==(1&r),i=2==(2&r);t=(t=(t=t||[]).filter((e=>e)).map(te)).length>0?t:["\\s"];const s=[],a=new RegExp(t.join("|"),"g");let c=!0,u=0;do{const t=a.exec(e);if(null===t){const t=i?e.substring(u).trim():e.substring(u);(!o||t.length>0)&&s.push(t),c=!1}else{const r=i?e.substring(u,t.index).trim():e.substring(u,t.index);(!o||r.length>0)&&(null!=n&&s.length+1===n?(s.push(i?e.substring(u).trim():e.substring(u)),c=!1):s.push(r)),u=a.lastIndex}}while(c);return s}function De(e,...t){if(0===t.length)return e.trim();const n="["+te(t.join(""))+"]+";return e.replace(new RegExp("^"+n),"").replace(new RegExp(n+"$"),"")}function ke(e,...t){return 0===t.length?e.trimStart():e.replace(new RegExp("^["+te(t.join(""))+"]+"),"")}function Re(e,...t){return 0===t.length?e.trimEnd():e.replace(new RegExp("["+te(t.join(""))+"]+$"),"")}function Pe(e,t,n){if(t+(n||0)>e.length)throw new Error("Invalid startIndex and/or length");return null!=n?e.substr(t,n):e.substr(t)}class Ne{constructor(e){this.value=e}toJSON(){return this.value}toString(){return String(this.value)}GetHashCode(){return y(this.value)}Equals(e){return null!=e&&C(this.value,e instanceof Ne?e.value:e)}CompareTo(e){return null==e?1:x(this.value,e instanceof Ne?e.value:e)}}function Oe(e){if(null==e)throw new Error("Option has no value");return e instanceof Ne?e.value:e}function Ie(e){return e instanceof Ne?e.value:e}function Ae(e){return null==e||e instanceof Ne?new Ne(e):e}function Fe(e){return null==e?[]:[Oe(e)]}function Me(e,t){return null!=e?Oe(e):t}function qe(e,t){return null!=e?Oe(e):t()}function Le(e,t){return null!=t?Ae(e(Oe(t))):void 0}function je(e,t){return null!=t?e(Oe(t)):void 0}function He(e,t){return"function"==typeof e?new e(t):new Array(t)}function $e(e,t){return e>t?e:t}function Ue(e,t){return e<t?e:t}function Be(e,t,n,r){const o=0|t;return e.fill(r,o,o+n)}function We(e){if(0===e.length)throw new Error("The input array was empty\\nParameter name: array");return e[e.length-1]}function ze(e,t,n){const r=0|t.length,o=He(n,r);for(let n=0;n<=r-1;n++)o[n]=e(t[n]);return o}function Ge(e,t){const n=0|$e(0,e);return t.slice(0,0+n)}function Ve(e,t){const n=Array.isArray(e)?e:Array.from(e);switch(0|n.length){case 0:return He(t,0);case 1:return n[0];default:{let e=0,r=0;for(let e=0;e<=n.length-1;e++)r=r+n[e].length|0;const o=He(t,r);for(let t=0;t<=n.length-1;t++){const r=n[t];for(let t=0;t<=r.length-1;t++)o[e]=r[t],e=e+1|0}return o}}}function Ke(e,t,n){return Ve(ze(e,t,null),n)}function Xe(e,t,n){return function(e,t,n,r,o){const i=0|Me(n,0),s=0|Me(Le((e=>i+e),r),e.length);return 0|(n=>{for(;;){const r=n;if(r>=s)return-1;if(o.Equals(t,e[r]))return 0|r;n=r+1}})(i)}(t,e,void 0,void 0,n)>=0}function Ye(e){return e.slice().reverse()}function Je(e,t,n){let r=0;for(;r<t.length&&e(t[r]);)r=r+1|0;if(r===t.length)return He(n,0);{const e=0|r;return t.slice(e)}}function Qe(e,t){return t.find(e)}function Ze(e,t){const n=0|t.findIndex(e);return n>-1?n:void 0}function et(e,t){return(n=>{e:for(;;){const r=n;if(r>=t.length)return;{const o=e(t[r]);if(null==o){n=r+1;continue e}return o}}})(0)}function tt(e,t,n){const r=[];for(let n=0;n<=t.length-1;n++){const o=e(t[n]);if(null!=o){const e=Oe(o);r.push(e)}}return C(n,null)?r:ze((e=>e),r,n)}function nt(e,t,n){return n.reduce(e,t)}function rt(e,t,n){if(null==t)return null==n;if(null==n)return!1;{let r=0,o=!0;const i=0|t.length,s=0|n.length;if(i>s)return!1;if(i<s)return!1;for(;r<i&&o;)o=e(t[r],n[r]),r=r+1|0;return o}}function ot(e){return 0===e.length?void 0:Ae(e[0])}function it(e,t,n,r){return function(e,t,n,r){let o=r;t.length!==n.length&&function(){throw new Error("Arrays had different lengths")}();const i=0|t.length;for(let r=1;r<=i;r++)o=e(0,t[i-r],n[i-r],o);return o}(((t,n,r,o)=>e(n,r,o)),t,n,r)}function st(e,t,n){let r=n.GetZero();for(let o=0;o<=t.length-1;o++)r=n.Add(r,e(t[o]));return r}class at extends q{constructor(e,t){super(),this.head=e,this.tail=t}toString(){return"["+_e("; ",this)+"]"}Equals(e){return this===e||((e,t)=>{e:for(;;){const n=e,r=t,o=n.tail,i=r.tail;if(null!=o){if(null!=i){const s=Oe(o),a=Oe(i);if(C(n.head,r.head)){e=s,t=a;continue e}return!1}return!1}return null==i}})(this,e)}GetHashCode(){return 0|((e,t,n)=>{for(;;){const r=e,o=t,i=n,s=i.tail;if(null==s)return 0|o;{const a=Oe(s);if(r>18)return 0|o;e=r+1,t=(o<<1)+y(i.head)+631*r,n=a}}})(0,0,this)}toJSON(){return Array.from(this)}CompareTo(e){return 0|((e,t)=>{e:for(;;){const n=e,r=t,o=n.tail,i=r.tail;if(null!=o){if(null!=i){const s=Oe(o),a=Oe(i),c=0|x(n.head,r.head);if(0===c){e=s,t=a;continue e}return 0|c}return 1}return null!=i?-1:0}})(this,e)}GetEnumerator(){return new ct(this)}[Symbol.iterator](){return u(c(this))}"System.Collections.IEnumerable.GetEnumerator"(){return c(this)}}class ct{constructor(e){this.xs=e,this.it=this.xs,this.current=null}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current}"System.Collections.IEnumerator.get_Current"(){return this.current}"System.Collections.IEnumerator.MoveNext"(){const e=this,t=e.it.tail;if(null!=t){const n=Oe(t);return e.current=e.it.head,e.it=n,!0}return!1}"System.Collections.IEnumerator.Reset"(){const e=this;e.it=e.xs,e.current=null}Dispose(){}}function ut(){return new at(null,void 0)}function lt(e,t){return new at(e,t)}function dt(e){return null==e.tail}function ht(e){return 0|((e,t)=>{for(;;){const n=e,r=t.tail;if(null==r)return 0|n;e=n+1,t=Oe(r)}})(0,e)}function pt(e){if(null!=e.tail)return e.head;throw new Error("Collection was empty.\\nParameter name: list")}function ft(e){const t=e.tail;if(null!=t)return Oe(t);throw new Error("Collection was empty.\\nParameter name: list")}function mt(){return ut()}function gt(e,t){return lt(e,t)}function vt(e){return lt(e,ut())}function yt(e){return dt(e)}function wt(e){return ht(e)}function bt(e){return pt(e)}function _t(e){return ft(e)}function Ct(e){const t=0|ht(e),n=Be(new Array(t),0,t,null);return((e,t)=>{for(;;){const r=e,o=t;if(dt(o))break;n[r]=pt(o),e=r+1,t=ft(o)}})(0,e),n}function St(e,t,n){let r=t,o=n;for(;!dt(o);)r=e(r,bt(o)),o=ft(o);return r}function Tt(e){return St(((e,t)=>lt(t,e)),ut(),e)}function Et(e,t){St(((t,n)=>{e(n)}),void 0,t)}function xt(e,t){let n=t;for(let t=e.length-1;t>=0;t--)n=lt(e[t],n);return n}function Dt(e){return xt(e,ut())}function kt(t){let n,r;if(e(t))return Dt(t);if(t instanceof at)return t;{const e=ut();let o=e;const s=c(t);try{for(;s["System.Collections.IEnumerator.MoveNext"]();){const e=s["System.Collections.Generic.IEnumerator`1.get_Current"]();n=o,r=new at(e,void 0),n.tail=r,o=r}}finally{i(s)}const a=o,u=ut();return a.tail=u,ft(e)}}function Rt(e,t){return St(((e,t)=>lt(t,e)),t,Tt(e))}function Pt(e,t){let n,r;const o=ut();let i=o,s=t;for(;!dt(s);){let t=e(pt(s));for(;!dt(t);)n=i,r=new at(pt(t),void 0),n.tail=r,i=r,t=ft(t);s=ft(s)}const a=i,c=ut();return a.tail=c,ft(o)}function Nt(e,t){const n=ut(),r=St(((t,n)=>{const r=new at(e(n),void 0);return t.tail=r,r}),n,t),o=ut();return r.tail=o,ft(n)}function Ot(e,t){return(t=>{e:for(;;){const n=t;if(dt(n))return;{const r=e(pt(n));if(null==r){t=ft(n);continue e}return r}}})(t)}function It(e,t){return Ot((t=>e(t)?Ae(t):void 0),t)}function At(e,t){return((t,n)=>{for(;;){const r=t,o=n;if(dt(o))return;if(e(pt(o)))return r;t=r+1,n=ft(o)}})(0,t)}function Ft(e,t){const n=ut(),r=St(((t,n)=>{if(e(n)){const e=new at(n,void 0);return t.tail=e,e}return t}),n,t),o=ut();return r.tail=o,ft(n)}function Mt(e,t){const n=ut(),r=ut(),o=n,i=St(((t,n)=>{let r,o;const i=t[0],s=t[1];return e(n)?[(r=new at(n,void 0),i.tail=r,r),s]:[i,(o=new at(n,void 0),s.tail=o,o)]}),[o,r],t),s=ut();i[0].tail=s;const a=ut();return i[1].tail=a,[ft(o),ft(r)]}function qt(e,t){const n=ut(),r=St(((t,n)=>{const r=e(n);if(null==r)return t;{const e=new at(Oe(r),void 0);return t.tail=e,e}}),n,t),o=ut();return r.tail=o,ft(n)}function Lt(e,t,n){return null!=At((t=>n.Equals(e,t)),t)}function jt(e,t){return null!=At(e,t)}function Ht(e,t){return function(e,t){const n=Ct(t);return n.sort(e),Dt(n)}(((e,n)=>t.Compare(e,n)),e)}var $t=n(3837),Ut=n(9496);class Bt extends M{constructor(e,t){super(),this.tag=e,this.fields=t}cases(){return["DEBUG","INFO","WARN","ERROR"]}toString(){const e=this;return 1===e.tag?"INFO":2===e.tag?"WARN":0===e.tag?"DEBUG":"ERROR"}}function Wt(e,t){return(1===(n=e).tag?20:2===n.tag?30:3===n.tag?40:10)>=(e=>1===e.tag?20:2===e.tag?30:3===e.tag?40:10)(t);var n}let zt=mt();function Gt(e,t,n,r){const o=ve("[{0}] {1}",F(t),Te(n,"%j","%O"));return[1===e.tag?"info":2===e.tag?"warn":3===e.tag?"error":"debug",Rt(vt(o),Dt(r))]}function Vt(e,t,n,r,o,i){if(null!=e&&Wt(n,t)&&function(e,t,n,r,o){const i=$t.format(r,...o),s=ve("[{0:HH:mm:ss} {1,-5}] [{2}] {3}",V(),F(t),n,i);e.appendLine(s)}(Oe(e),n,r,o,i),C(r,"IONIDE-FSAC"))try{"parse"!==F(i[0])&&function(e,t,n,r){const o=$t.format(n,...r),i=ve("[{0:HH:mm:ss} {1,-5}] [{2}] {3}\n",V(),F(e),t,o);zt=wt(zt)>=200?Rt(_t(zt),vt(i)):Rt(zt,vt(i))}(n,r,o,i)}catch(e){}}class Kt{constructor(e,t,n,r){this.source=e,this.out=n,this.consoleMinLevel=r,this["ChanMinLevel@"]=t}}function Xt(e,t,n,r){return new Kt(e,t,n,r)}function Yt(e){return e["ChanMinLevel@"]}function Jt(e,t,...n){const r=Yt(e),o=e.consoleMinLevel,i=new Bt(0,[]),s=e.source,a=t,c=n;if(null!=o&&Wt(i,Oe(o))){const e=Gt(i,s,a,c);console[e[0]]&&console[e[0]](...e[1])}Vt(e.out,r,i,s,a,c)}function Qt(e,t,...n){const r=Yt(e),o=e.consoleMinLevel,i=new Bt(1,[]),s=e.source,a=t,c=n;if(null!=o&&Wt(i,Oe(o))){const e=Gt(i,s,a,c);console[e[0]]&&console[e[0]](...e[1])}Vt(e.out,r,i,s,a,c)}function Zt(e,t,...n){const r=Yt(e),o=e.consoleMinLevel,i=new Bt(3,[]),s=e.source,a=t,c=n;if(null!=o&&Wt(i,Oe(o))){const e=Gt(i,s,a,c);console[e[0]]&&console[e[0]](...e[1])}Vt(e.out,r,i,s,a,c)}function en(e,t,...n){const r=Yt(e),o=e.consoleMinLevel,i=new Bt(2,[]),s=e.source,a=t,c=n;if(null!=o&&Wt(i,Oe(o))){const e=Gt(i,s,a,c);console[e[0]]&&console[e[0]](...e[1])}Vt(e.out,r,i,s,a,c)}const tn=Ut.window.createOutputChannel("Ionide");class nn{constructor(e,t,n,r,o,i,s){this.fullname=e,this.generics=t,this.construct=n,this.parent=r,this.fields=o,this.cases=i,this.enumCases=s}toString(){return wn(this)}GetHashCode(){return on(this)}Equals(e){return sn(this,e)}}function rn(e){return null!=e.generics?e.generics:[]}function on(e){return v([f(e.fullname),...rn(e).map(on)])}function sn(e,t){return""===e.fullname?""===t.fullname&&b(Tn(e),Tn(t),(([e,t],[n,r])=>e===n&&sn(t,r))):e.fullname===t.fullname&&b(rn(e),rn(t),sn)}function an(e,t,n,r){return new nn(e,t,n,r)}function cn(e,t,n,r){return new nn(e,t,n,void 0,r)}function un(e,t){return new nn("Microsoft.FSharp.Core.FSharpFunc`2",[e,t])}function ln(e){return new nn("Microsoft.FSharp.Core.FSharpOption`1",[e])}function dn(e){return new nn("Microsoft.FSharp.Collections.FSharpList`1",[e])}function hn(e){return new nn("[]",[e])}const pn=new nn("System.Object"),fn=new nn("Microsoft.FSharp.Core.Unit"),mn=(new nn("System.Char"),new nn("System.String")),gn=new nn("System.Boolean"),vn=(new nn("System.SByte"),new nn("System.Byte"),new nn("System.Int16"),new nn("System.UInt16"),new nn("System.Int32"));function yn(e){if(Array.isArray(e))return e[0];if(e instanceof nn){const t=bn(e);if(null!=t)return yn(t)+"[]";{const t=e.fullname.lastIndexOf(".");return-1===t?e.fullname:e.fullname.substr(t+1)}}return e.name}function wn(e){const t=bn(e);return null!=t?wn(t)+"[]":null==e.generics||0===e.generics.length?e.fullname:e.fullname+"["+e.generics.map((e=>wn(e))).join(",")+"]"}function bn(e){return"[]"===e.fullname&&1===e.generics?.length?e.generics[0]:void 0}function _n(e){return null!=e.enumCases&&e.enumCases.length>0}function Cn(e){if(_n(e)&&null!=e.enumCases)return e.enumCases.map((e=>e[1]));throw new Error(`${e.fullname} is not an enum type`)}function Sn(e,t){const n=parseInt(t,10);return function(e,t){if(null!=e.enumCases){if("string"==typeof t){for(const n of e.enumCases)if(n[0]===t)return n;throw new Error(`'${t}' was not found in ${e.fullname}`)}for(const n of e.enumCases)if(n[1]===t)return n;return["",t]}throw new Error(`${e.fullname} is not an enum type`)}(e,isNaN(n)?t:n)[1]}function Tn(e){if(null!=e.fields)return e.fields();throw new Error(`${e.fullname} is not an F# record type`)}function En(e){return e.fullname.startsWith("System.Tuple")}function xn(e,t){const n=(e.fields||[]).length;if(t.length!==n)throw new Error(`Expected an array of length ${n} but got ${t.length}`);const r=e.declaringType.construct;return null==r?{}:e.declaringType.cases&&1==e.declaringType.cases().length?new r(...t):new r(e.tag,t)}new nn("System.UInt32"),new nn("System.Int64"),new nn("System.UInt64"),new nn("System.Int128"),new nn("System.UInt128"),new nn("System.IntPtr"),new nn("System.UIntPtr"),new nn("System.Half"),new nn("System.Single"),new nn("System.Double"),new nn("System.Decimal"),new nn("System.Numerics.BigInteger");class Dn extends q{constructor(e,t,n){super(),this.Directory=e,this.Deep=0|t,this.ExcludedDirs=n}}class kn extends q{constructor(e,t){super(),this.XmlSig=e,this.Assembly=t}}class Rn extends q{constructor(e,t,n,r,o,i,s,a,c,u){super(),this.XmlKey=e,this.Constructors=t,this.Fields=n,this.Functions=r,this.Interfaces=o,this.Attributes=i,this.DeclaredTypes=s,this.Signature=a,this.Comment=c,this.FooterLines=u}}function Pn(){return cn("Ionide.VSCode.FSharp.DTO.DocumentationDescription",[],Rn,(()=>[["XmlKey",mn],["Constructors",dn(mn)],["Fields",dn(mn)],["Functions",dn(mn)],["Interfaces",dn(mn)],["Attributes",dn(mn)],["DeclaredTypes",dn(mn)],["Signature",mn],["Comment",mn],["FooterLines",dn(mn)]]))}class Nn extends q{constructor(e,t,n,r){super(),this.StartColumn=0|e,this.StartLine=0|t,this.EndColumn=0|n,this.EndLine=0|r}}function On(){return cn("Ionide.VSCode.FSharp.DTO.Range",[],Nn,(()=>[["StartColumn",vn],["StartLine",vn],["EndColumn",vn],["EndLine",vn]]))}class In extends q{constructor(e,t,n,r,o,i,s,a,c,u){super(),this.UniqueName=e,this.Name=t,this.Glyph=n,this.GlyphChar=r,this.IsTopLevel=o,this.Range=i,this.BodyRange=s,this.File=a,this.EnclosingEntity=c,this.IsAbstract=u}}function An(){return cn("Ionide.VSCode.FSharp.DTO.Symbol",[],In,(()=>[["UniqueName",mn],["Name",mn],["Glyph",mn],["GlyphChar",mn],["IsTopLevel",gn],["Range",On()],["BodyRange",On()],["File",mn],["EnclosingEntity",mn],["IsAbstract",gn]]))}class Fn extends q{constructor(e,t){super(),this.Declaration=e,this.Nested=t}}class Mn extends q{constructor(e,t,n,r,o,i,s,a,c,u){super(),this.IsTestProject=e,this.Configuration=t,this.IsPackable=n,this.TargetFramework=r,this.TargetFrameworkIdentifier=o,this.TargetFrameworkVersion=i,this.RestoreSuccess=s,this.TargetFrameworks=a,this.RunCmd=c,this.IsPublishable=u}}class qn extends q{constructor(e,t){super(),this.Command=e,this.Arguments=t}}class Ln extends q{constructor(e,t,n,r){super(),this.Name=e,this.FilePath=t,this.VirtualPath=n,this.Metadata=r}}class jn extends q{constructor(e,t){super(),this.RelativePath=e,this.ProjectFileName=t}}class Hn extends q{constructor(e,t,n){super(),this.Name=e,this.Version=t,this.FullPath=n}}class $n extends q{constructor(e,t,n,r,o,i,s,a,c,u,l){super(),this.Project=e,this.Files=t,this.Output=n,this.References=r,this.ProjectReferences=o,this.PackageReferences=i,this.Logs=s,this.OutputType=a,this.Info=c,this.Items=u,this.AdditionalInfo=l}}function Un(){return cn("Ionide.VSCode.FSharp.DTO.Project",[],$n,(()=>[["Project",mn],["Files",hn(mn)],["Output",mn],["References",hn(mn)],["ProjectReferences",hn(cn("Ionide.VSCode.FSharp.DTO.ProjectReference",[],jn,(()=>[["RelativePath",mn],["ProjectFileName",mn]])))],["PackageReferences",hn(cn("Ionide.VSCode.FSharp.DTO.PackageReference",[],Hn,(()=>[["Name",mn],["Version",mn],["FullPath",mn]])))],["Logs",an("Microsoft.FSharp.Collections.FSharpMap`2",[mn,mn])],["OutputType",mn],["Info",cn("Ionide.VSCode.FSharp.DTO.ProjectResponseInfoDotnetSdk",[],Mn,(()=>[["IsTestProject",gn],["Configuration",mn],["IsPackable",gn],["TargetFramework",mn],["TargetFrameworkIdentifier",mn],["TargetFrameworkVersion",mn],["RestoreSuccess",gn],["TargetFrameworks",dn(mn)],["RunCmd",ln(cn("Ionide.VSCode.FSharp.DTO.RunCmd",[],qn,(()=>[["Command",mn],["Arguments",mn]])))],["IsPublishable",ln(gn)]]))],["Items",hn(cn("Ionide.VSCode.FSharp.DTO.ProjectResponseItem",[],Ln,(()=>[["Name",mn],["FilePath",mn],["VirtualPath",mn],["Metadata",an("Microsoft.FSharp.Collections.FSharpMap`2",[mn,mn])]])))],["AdditionalInfo",an("Microsoft.FSharp.Collections.FSharpMap`2",[mn,mn])]]))}class Bn extends q{constructor(e,t){super(),this.Name=e,this.Type=t}}class Wn extends q{constructor(e,t,n){super(),this.OutputType=e,this.Parameters=t,this.Generics=n}}class zn extends q{constructor(e){super(),this.Found=e}}class Gn extends M{constructor(e,t){super(),this.tag=e,this.fields=t}cases(){return["Directory","Solution"]}}class Vn extends q{constructor(e,t){super(),this.Directory=e,this.Fsprojs=t}}class Kn extends q{constructor(e,t,n){super(),this.Path=e,this.Items=t,this.Configurations=n}}class Xn extends q{constructor(e,t,n){super(),this.Guid=e,this.Name=t,this.Kind=n}}class Yn extends M{constructor(e,t){super(),this.tag=e,this.fields=t}cases(){return["MsbuildFormat","Folder"]}}class Jn extends q{constructor(e,t){super(),this.Items=e,this.Files=t}}class Qn extends q{constructor(e){super(),this.Functions=e}}class Zn extends M{constructor(e,t){super(),this.tag=e,this.fields=t}cases(){return["GenericError","ProjectNotRestored","ProjectParsingFailed","LangugageNotSupported"]}}class er extends q{constructor(e){super(),this.Code=0|e}}class tr extends q{constructor(e,t,n){super(),this.Line=0|e,this.Types=t,this.PrecedingNonPipeExprLine=n}}class nr extends q{constructor(e,t){super(),this.Kind=e,this.Data=t}}function rr(e){return cn("Ionide.VSCode.FSharp.DTO.Result`1",[e],nr,(()=>[["Kind",mn],["Data",e]]))}class or extends q{constructor(e,t,n){super(),this.Name=e,this.ShortName=t,this.Tags=n}}class ir extends q{constructor(e){super(),this.Query=e}}class sr extends q{constructor(e,t,n){super(),this.Template=e,this.Output=t,this.Name=n}}class ar extends q{constructor(e,t){super(),this.Target=e,this.Reference=t}}class cr extends q{constructor(e,t){super(),this.FsProj=e,this.FileVirtualPath=t}}class ur extends q{constructor(e,t,n){super(),this.FsProj=e,this.FileVirtualPath=t,this.NewFile=n}}class lr extends q{constructor(e,t,n){super(),this.FsProj=e,this.OldFileVirtualPath=t,this.NewFileName=n}}function dr(e,t){return{then:(e,n)=>{try{return t().then(e,n)}catch(e){if(null==n)return Promise.reject(e);try{const t=n(e);return Promise.resolve(t)}catch(e){return Promise.reject(e)}}},catch:e=>{try{return t().catch(e)}catch(t){try{const n=e(t);return Promise.resolve(n)}catch(e){return Promise.reject(e)}}}}}function hr(e,t){return t.then((e=>e))}new class{constructor(){}};class pr extends M{constructor(e,t){super(),this.tag=e,this.fields=t}cases(){return["Ok","Error"]}}function fr(e,t){return 0===t.tag?(r=e(t.fields[0]),new pr(0,[r])):(n=t.fields[0],new pr(1,[n]));var n,r}class mr extends M{constructor(e,t){super(),this.tag=e,this.fields=t}cases(){return["Choice1Of4","Choice2Of4","Choice3Of4","Choice4Of4"]}}class gr extends M{constructor(e,t){super(),this.tag=e,this.fields=t}cases(){return["Choice1Of6","Choice2Of6","Choice3Of6","Choice4Of6","Choice5Of6","Choice6Of6"]}}function vr(){throw new Error("Enumeration has not started. Call MoveNext.")}function yr(){throw new Error("Enumeration already finished.")}class wr{constructor(e){this.f=e}toString(){let e=0,t="seq [";const n=c(this);try{for(;e<4&&n["System.Collections.IEnumerator.MoveNext"]();)e>0&&(t+="; "),t+=F(n["System.Collections.Generic.IEnumerator`1.get_Current"]()),e=e+1|0;return 4===e&&(t+="; ..."),t+"]"}finally{i(n)}}GetEnumerator(){return this.f()}[Symbol.iterator](){return u(c(this))}"System.Collections.IEnumerable.GetEnumerator"(){return this.f()}}class br{constructor(e,t,n){this.current=e,this.next=t,this.dispose=n}"System.Collections.Generic.IEnumerator`1.get_Current"(){return this.current()}"System.Collections.IEnumerator.get_Current"(){return this.current()}"System.Collections.IEnumerator.MoveNext"(){return this.next()}"System.Collections.IEnumerator.Reset"(){!function(){throw new Error("Reset is not supported on this enumerator.")}()}Dispose(){this.dispose()}}function _r(e,t,n){return new br(e,t,n)}function Cr(e){return function(e){return new wr(e)}(e)}function Sr(e){return t="source",null==e&&function(e){throw new Error(e)}(t),c(e);var t}function Tr(e){return Cr((()=>c(e())))}function Er(e){return Cr((()=>function(e){let t,n,r,o=!1,s=!1;const a=()=>{if(s=!0,null!=n){const e=Oe(n);try{i(e)}finally{n=void 0}}if(null!=t){const e=Oe(t);try{i(e)}finally{t=void 0}}};return _r((()=>(o?s&&yr():vr(),null!=r?Oe(r):yr())),(()=>{let u;if(o||(o=!0),s)return!1;{let o;for(;null==o;){const s=t,l=n;if(null!=s)if(null!=l){const e=Oe(l);if(e["System.Collections.IEnumerator.MoveNext"]())r=Ae(e["System.Collections.Generic.IEnumerator`1.get_Current"]()),o=!0;else try{i(e)}finally{n=void 0}}else{const e=Oe(s);e["System.Collections.IEnumerator.MoveNext"]()?(u=e["System.Collections.Generic.IEnumerator`1.get_Current"](),n=c(u)):(a(),o=!1)}else t=c(e)}return Oe(o)}}),(()=>{s||a()}))}(e)))}function xr(){return Tr((()=>new Array(0)))}function Dr(e){return Tr((()=>function(e,t){const n=He(void 0,1);return n[0]=e,n}(e)))}function kr(e){return e instanceof at?Ct(e):Array.from(e)}function Rr(t){return e(t)?Dt(t):t instanceof at?t:kt(t)}function Pr(e,t,n){return Cr((()=>function(e,t,n){let r,o=!1,i=Ae(e());const s=()=>{if(null!=i){const e=Oe(i);try{n(e)}finally{i=void 0}}},a=()=>{try{s()}finally{r=void 0}};return _r((()=>(o||vr(),null!=r?Oe(r):yr())),(()=>{if(o||(o=!0),null!=i){const e=Oe(i);let n;try{n=t(e)}catch(e){throw a(),e}return null!=n?(r=n,!0):(a(),!1)}return!1}),s)}(e,t,n)))}function Nr(e,t){return Er([e,t])}function Or(e,t){return Pr((()=>Sr(t)),(t=>{let n;for(;null==n&&t["System.Collections.IEnumerator.MoveNext"]();)n=e(t["System.Collections.Generic.IEnumerator`1.get_Current"]());return n}),(e=>{i(e)}))}function Ir(e,t,n){const r=Sr(t);try{let t=!1;for(;!t&&r["System.Collections.IEnumerator.MoveNext"]();)t=n.Equals(e,r["System.Collections.Generic.IEnumerator`1.get_Current"]());return t}finally{i(r)}}function Ar(e,t){return Or((t=>e(t)?Ae(t):void 0),t)}function Fr(e,t){const n=Sr(t);try{let t=!1;for(;!t&&n["System.Collections.IEnumerator.MoveNext"]();)t=e(n["System.Collections.Generic.IEnumerator`1.get_Current"]());return t}finally{i(n)}}function Mr(e,t){const n=Sr(t);try{let t;for(;null==t&&n["System.Collections.IEnumerator.MoveNext"]();){const r=n["System.Collections.Generic.IEnumerator`1.get_Current"]();e(r)&&(t=Ae(r))}return t}finally{i(n)}}function qr(e,t,n){const r=Sr(n);try{let n=t;for(;r["System.Collections.IEnumerator.MoveNext"]();)n=e(n,r["System.Collections.Generic.IEnumerator`1.get_Current"]());return n}finally{i(r)}}function Lr(t){if(e(t))return ot(t);if(t instanceof at)return function(e){return dt(e)?void 0:Ae(pt(e))}(t);{const e=Sr(t);try{return e["System.Collections.IEnumerator.MoveNext"]()?Ae(e["System.Collections.Generic.IEnumerator`1.get_Current"]()):void 0}finally{i(e)}}}function jr(e,t){qr(((t,n)=>{e(n)}),void 0,t)}function Hr(e,t){qr(((t,n)=>(e(t,n),t+1|0)),0,t)}function $r(e){const t=function(e){const t=Sr(e);try{const e=e=>{for(;;){const n=e;if(!t["System.Collections.IEnumerator.MoveNext"]())return n;e=t["System.Collections.Generic.IEnumerator`1.get_Current"]()}};return t["System.Collections.IEnumerator.MoveNext"]()?Ae(e(t["System.Collections.Generic.IEnumerator`1.get_Current"]())):void 0}finally{i(t)}}(e);if(null==t)throw new Error("The input sequence has an insufficient number of elements.\\nParameter name: source");return Oe(t)}function Ur(t){if(e(t))return 0|t.length;if(t instanceof at)return 0|wt(t);{const e=Sr(t);try{let t=0;for(;e["System.Collections.IEnumerator.MoveNext"]();)t=t+1|0;return 0|t}finally{i(e)}}}function Br(e,t){return Pr((()=>Sr(t)),(t=>t["System.Collections.IEnumerator.MoveNext"]()?Ae(e(t["System.Collections.Generic.IEnumerator`1.get_Current"]())):void 0),(e=>{i(e)}))}function Wr(e,t){return Tr((()=>Er(Br(e,t))))}Symbol.iterator,Symbol.iterator;class zr{constructor(e,t){this.contents=e,this.count=0|t,this.head=0,this.tail=0|t}GetEnumerator(){return c((e=this,Tr((()=>{let t=0;return o=()=>t<e.count,i=Tr((()=>Nr(Dr(e.contents[function(e,t){return(e.head+t)%Gr(e)}(e,t)]),Tr((()=>(t=t+1|0,xr())))))),Er((n=e=>o()?[i,e+1]:void 0,r=0,Cr((()=>function(e,t){let n,r=t;return _r((()=>{if(null!=n){const e=Oe(n)[0];return Oe(n)[1],e}return vr()}),(()=>{if(n=e(r),null!=n){Oe(n)[0];const e=Oe(n)[1];return r=e,!0}return!1}),(()=>{}))}(n,r)))));var n,r,o,i}))));var e}[Symbol.iterator](){return u(c(this))}"System.Collections.IEnumerable.GetEnumerator"(){return c(this)}}function Gr(e){return e.contents.length}var Vr=n(8309),Kr=n(2081),Xr=n(7147);function Yr(e){return Le((e=>e.extensionPath),Ut.extensions.getExtension(e))}const Jr=Vr;function Qr(e,t){return t.on("close",e),t}function Zr(e,t){return t.stdout.on("data",e),t}function eo(e,t){return t.stderr.on("data",e),t}function to(e,t){return t.on("error",e),t}function no(e,t){return Ut.window.createTerminal("F# Application",e,t)}function ro(e,t,n){return eo((e=>{const t=e.toString();n.append(t)}),to((e=>{const t=F(e);n.append(t)}),Zr((e=>{const t=e.toString();n.append(t)}),function(e,t){const n={};return n.cwd=Ut.workspace.rootPath,Jr.spawn(e,t,n)}(e,t))))}class oo extends q{constructor(e,t){super(),this.Code=e,this.Signal=t}}function io(e,t){const n={};return n.cwd=Ut.workspace.rootPath,new Promise(((r,o)=>{const i=[],s=[];let a;Qr(((e,t)=>{r([a,_e("\n",i),_e("\n",s)])}),eo((e=>{s.push(F(e))}),to((e=>{a=Ae(e)}),Zr((e=>{i.push(F(e))}),Jr.spawn(e,t,n)))))}))}function so(e,t){return t}function ao(e,t){return t}function co(e){return new Ut.Range(e.StartLine-1,e.StartColumn-1,e.EndLine-1,e.EndColumn-1)}function uo(e){return e.trim()}function lo(e,t){return xe(t,e)}function ho(e,t){return ye(t,e)}function po(e,t){return 0===t.indexOf(e)}function fo(e){if("fsharp"===e.languageId&&ye(e.fileName,"fsx"))return new gr(3,[void 0]);switch(e.languageId){case"fsharp":return new gr(0,[void 0]);case"csharp":return new gr(1,[void 0]);case"vb":return new gr(2,[void 0]);case"markdown":return new gr(4,[void 0]);default:return new gr(5,[void 0])}}function mo(e){const t=Ut.workspace.getConfiguration().get(e);return C(t,"")?void 0:t}function go(e,t){return Ut.workspace.getConfiguration().get(t,e)}function vo(e,t){return Ut.workspace.getConfiguration().update(e,t,2)}function yo(e,t){return Ut.workspace.getConfiguration().update(e,t,1)}function wo(e){return!C(e,null)}function bo(e){const t={};return t.title=e,t}function _o(e,t){return 0===t.length?[]:function(e,t,n){if(e>t.length)throw new Error("count is greater than array length\\nParameter name: count");if(e===t.length)return He(void 0,0);{const n=0|(e<0?0:e);return t.slice(n)}}(Ue(e,t.length),t)}function Co(){return Promise.resolve(null)}function So(e,t){return t.catch((t=>(e(t),Promise.reject(t))))}function To(e){return e.then((e=>{})).catch((e=>{}))}function Eo(e,t){return yt(t)?Co():yt(_t(t))?e(bt(t)):St(((t,n)=>t.then((t=>e(n)))),e(bt(t)),_t(t))}function xo(e,t){let n=[];return hr(0,dr(0,(()=>ao(0,Eo((t=>hr(0,dr(0,(()=>ao(0,e(t)).then((e=>(n.push(e),Promise.resolve()))))))),t)).then((()=>Promise.resolve(kt(n)))))))}function Do(e,t,n){const r=Ct(n),o=(i=e,0===(s=r).length?[]:function(e,t,n){if(e<0)throw new Error("The input must be non-negative\\nParameter name: count");if(e>t.length)throw new Error("count is greater than array length\\nParameter name: count");return 0===e?He(void 0,0):t.slice(0,0+e)}(Ue(i,s.length),s));var i,s;let a=function(e){const t=Array.from(e);return n=t,r=t.length,new zr(n,r);var n,r}(_o(e,r));const c=e=>e.then((n=>0===a.count?e:c(t(function(e){if(0===e.count)throw new Error("Queue is empty");const t=e.contents[e.head];return e.head=(e.head+1)%Gr(e)|0,e.count=e.count-1|0,t}(a))))),u=ze((e=>c(t(e))),o);return Promise.all(u)}function ko(e,t){Ut.commands.executeCommand("setContext",Ae(e),Ae(t))}function Ro(e){let t;return n=>{C(t,Ae(n))||(ko(e,n),t=Ae(n))}}class Po{constructor(e,t){const n=new L(null);this.panel=e,this.body=t,n.contents=this,this._disposables=[],this["init@392"]=1,this.panel.onDidDispose((()=>{!function(e){Po.instance=null,e.panel.dispose();let t=c(e._disposables);try{for(;t["System.Collections.IEnumerator.MoveNext"]();){const e=t["System.Collections.Generic.IEnumerator`1.get_Current"]();wo(e)&&e.dispose()}}finally{i(t)}e._disposables=[]}(n.contents)}),Ae(n.contents),this._disposables),this.panel.onDidChangeViewState((e=>{this.panel.visible&&Oo(n.contents)}),Ae(n.contents),this._disposables),Oo(n.contents)}}function No(e,t){const n=pe(ue("Project %s status"))(t),r=Ut.window.createWebviewPanel("project_status",n,1);So((e=>{console.error(Ae("ShowStatus.CreateOrShow failed:\n"),e),Ut.window.showErrorMessage("We couldn't generate the status report")}),(e=>t=>function(e,t){return t.then((t=>(e(t),t)))}(e,t))((e=>{he(ue("%s"))(e),Po.instance=function(e,t){return new Po(e,t)}(r,e)}))(hr(0,dr(0,(()=>{let t;const n=Ut.Uri.parse((t=encodeURIComponent(e),pe(ue("fsharp-workspace:projects/status?path=%s"))(t)));return so(0,Ut.workspace.openTextDocument(n)).then((e=>Promise.resolve(e.getText())))})))))}function Oo(e){var t;e.panel.webview.html=(t=e.body,pe(ue('<!DOCTYPE html>\r\n<html lang="en">\r\n<head>\r\n</head>\r\n<body>\r\n%s\r\n</body>\r\n</html>'))(t))}Po.instance=null;const Io="ionide-fsharp";function Ao(){let e;const t=Io;let n;n=t[0].toLocaleUpperCase();const r=Pe(t,1);let o;e=pe(ue("%c%s"))(n)(r);try{o=Yr(pe(ue("Ionide.%s"))(Io))}catch(t){o=Yr(pe(ue("Ionide.%s"))(e))}if(null==o)throw new Error("couldn't resolve plugin path");return o}var Fo=n(6113),Mo=n(1017),qo=n(2037);const Lo="win32"===process.platform;function jo(e,t){return io(e,t).then((e=>[e[0],uo(e[1]),uo(e[2])]))}function Ho(e){if(Lo){let t;return t=jo("cmd",["/C","where",e]).then((e=>{const t=e[1];return""!==t?t:void 0})),t.then((e=>je((e=>ot(ze(uo,e.split("\n")))),e)))}return jo("which",[e]).then((e=>{const t=e[1];return""!==t?t:void 0}))}qe(Le((e=>{const t=function(e,t){return Lo?e+"\\"+t:e+"/"+t}(e,Lo?"dotnet.exe":"dotnet");return Promise.resolve(t)}),mo("FSharp.dotnetRoot")),(()=>Ho("dotnet")));var $o=n(1249);class Uo extends M{constructor(e,t){super(),this.tag=e,this.fields=t}cases(){return["BadPrimitive","BadPrimitiveExtra","BadType","BadField","BadPath","TooSmallArray","FailMessage","BadOneOf"]}}class Bo extends M{constructor(e,t){super(),this.tag=e,this.fields=t}cases(){return["PascalCase","CamelCase","SnakeCase"]}}class Wo{constructor(){this.cache=new Map([])}}function zo(){return new Wo}function Go(e){return e.slice(void 0,1).toLowerCase()+e.slice(1,e.length)}function Vo(e,t){switch(e.tag){case 2:return oe(Go(t),"[A-Z]","_$0").toLowerCase();case 0:return t;default:return Go(t)}}zo(),zo();const Ko=/^[\(\{]{0,2}[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}[\)\}]{0,2}$/,Xo=/^([0-9a-f]{8})([0-9a-f]{4})([0-9a-f]{4})([0-9a-f]{4})([0-9a-f]{12})$/,Yo=/^\{0x[0-9a-f]{8},(0x[0-9a-f]{4},){2}\{(0x[0-9a-f]{2},){7}0x[0-9a-f]{2}\}\}$/;function Jo(e,t){try{return t.contents=function(e){function t(e){return e.replace(Xo,"$1-$2-$3-$4-$5")}const n=e.trim().toLowerCase();if(Ko.test(n))return De(n,"{","}","(",")");if(Xo.test(n))return t(n);if(Yo.test(n))return t(n.replace(/[\{\},]|0x/g,""));throw new Error("Guid should contain 32 digits with 4 dashes: xxxxxxxx-xxxx-xxxx-xxxx-xxxxxxxxxxxx")}(e),!0}catch{return!1}}var Qo;function Zo(e,t){switch(t){case 8:return e?[0,255]:[-128,127];case 16:return e?[0,65535]:[-32768,32767];case 32:return e?[0,4294967295]:[-2147483648,2147483647];default:throw new Error("Invalid bit size.")}}function ei(e,t,n,r,o){try{return o.contents=function(e,t,n,r,o){const i=function(e,t,n){const r=/^\s*([\+\-])?(0[xXoObB])?([0-9a-fA-F]+)\s*$/.exec(e.replace(/_/g,""));if(null!=r){const[,,e,o]=r;n=n||function(e,t){if(t&Qo.AllowHexSpecifier)return 16;switch(e){case"0b":case"0B":return 2;case"0o":case"0O":return 8;case"0x":case"0X":return 16;default:return 10}}(e,t);const i=function(e){switch(e){case 2:return/[^0-1]/;case 8:return/[^0-7]/;case 10:return/[^0-9]/;case 16:return/[^0-9a-fA-F]/;default:throw new Error("Invalid Base.")}}(n);if(!i.test(o))return function(e,t){const[,n,r,o]=e;return{sign:n||"",prefix:r||"",digits:o,radix:t}}(r,n)}return null}(e,t,void 0);if(null!=i){let e=Number.parseInt(i.sign+i.digits,i.radix);if(!Number.isNaN(e)){const[t,o]=Zo(!0,r);!n&&10!==i.radix&&e>=t&&e<=o&&(e=e<<32-r>>32-r);const[s,a]=Zo(n,r);if(e>=s&&e<=a)return e}}throw new Error("Input string was not in a correct format.")}(e,t,n,r),!0}catch{return!1}}function ti(e,t){!function(e){if(null!=e&&0!==e){if(e%6e4!=0)throw new Error("Offset must be specified in whole minutes.");if(Math.abs(e/36e5)>14)throw new Error("Offset must be within plus or minus 14 hours.")}}(t);const n=new Date(e);return n.offset=null!=t?t:-6e4*(new Date).getTimezoneOffset(),n}function ni(e,t){try{return t.contents=function(e){const[t,n]=z(e),r=null==n?-6e4*t.getTimezoneOffset():"Z"===n?0:6e4*n;return ti(t.getTime(),r)}(e),!0}catch(e){return!1}}function ri(e=0,t=0,n=0,r=0,o=0){switch(arguments.length){case 1:return oi(arguments[0]);case 3:e=0,t=arguments[0],n=arguments[1],r=arguments[2],o=0}return 864e5*e+36e5*t+6e4*n+1e3*r+o}function oi(e){return Number(BigInt(e)/10000n)}function ii(e){return(t=e%1e3)<0?Math.ceil(t):Math.floor(t);var t}function si(e,t){try{return t.contents=function(e){const t=e.search("\\."),n=e.search("\\:");if(-1===t&&-1===n){const t=parseInt(e,0);if(isNaN(t))throw new Error(`String '${e}' was not recognized as a valid TimeSpan.`);return ri(t,0,0,0,0)}if(n>0){const t=/^(-?)((\d+)\.)?(?:0*)([0-9]|0[0-9]|1[0-9]|2[0-3]):(?:0*)([0-5][0-9]|[0-9])(:(?:0*)([0-5][0-9]|[0-9]))?\.?(\d+)?$/.exec(e);if(null!=t&&null!=t[4]&&null!=t[5]){let n=0,r=0,o=0;const i=null!=t[1]&&"-"===t[1]?-1:1,s=+t[4],a=+t[5];if(null!=t[3]&&(n=+t[3]),null!=t[7]&&(o=+t[7]),null!=t[8])switch(t[8].length){case 1:r=100*+t[8];break;case 2:r=10*+t[8];break;case 3:r=+t[8];break;case 4:r=+t[8]/10;break;case 5:r=+t[8]/100;break;case 6:r=+t[8]/1e3;break;case 7:r=+t[8]/1e4;break;default:throw new Error(`String '${e}' was not recognized as a valid TimeSpan.`)}return i*ri(n,s,a,o,r)}}throw new Error(`String '${e}' was not recognized as a valid TimeSpan.`)}(e),!0}catch{return!1}}!function(e){e[e.AllowHexSpecifier=512]="AllowHexSpecifier"}(Qo||(Qo={}));class ai{constructor(e,t){this.k=e,this.v=t}}function ci(e,t){return new ai(e,t)}function ui(e){return e.k}function li(e){return e.v}class di extends ai{constructor(e,t,n,r,o){super(e,t),this.left=n,this.right=r,this.h=0|o}}function hi(e,t,n,r,o){return new di(e,t,n,r,o)}function pi(e){return e.left}function fi(e){return e.right}function mi(e){return e.h}function gi(e,t){e:for(;;){const n=e,r=t;if(null!=r){const o=Oe(r);if(o instanceof di){const r=o;e=gi(n+1,pi(r)),t=fi(r);continue e}return n+1|0}return 0|n}}function vi(e){return gi(0,e)}function yi(e,t,n,r){let o,i,s,a;if(null!=e){const t=Oe(e);s=t instanceof di?(o=t,mi(o)):1}else s=0;if(null!=r){const e=Oe(r);a=e instanceof di?(i=e,mi(i)):1}else a=0;const c=0|(s<a?a:s);return 0===c?ci(t,n):hi(t,n,e,r,c+1)}function wi(e,t,n,r){let o,i,s,a,c,u,l,d,h,p;if(null!=e){const t=Oe(e);h=t instanceof di?(o=t,mi(o)):1}else h=0;if(null!=r){const e=Oe(r);p=e instanceof di?(i=e,mi(i)):1}else p=0;if(p>h+2){const o=Oe(r);if(o instanceof di){const r=o;if(s=pi(r),(null!=s?(a=Oe(s),a instanceof di?(c=a,mi(c)):1):0)>h+1){const o=Oe(pi(r));if(o instanceof di){const i=o;return yi(yi(e,t,n,pi(i)),ui(i),li(i),yi(fi(i),ui(r),li(r),fi(r)))}throw new Error("internal error: Map.rebalance")}return yi(yi(e,t,n,pi(r)),ui(r),li(r),fi(r))}throw new Error("internal error: Map.rebalance")}if(h>p+2){const o=Oe(e);if(o instanceof di){const e=o;if(u=fi(e),(null!=u?(l=Oe(u),l instanceof di?(d=l,mi(d)):1):0)>p+1){const o=Oe(fi(e));if(o instanceof di){const i=o;return yi(yi(pi(e),ui(e),li(e),pi(i)),ui(i),li(i),yi(fi(i),t,n,r))}throw new Error("internal error: Map.rebalance")}return yi(pi(e),ui(e),li(e),yi(fi(e),t,n,r))}throw new Error("internal error: Map.rebalance")}return yi(e,t,n,r)}function bi(e,t,n,r){if(null!=r){const o=Oe(r),i=0|e.Compare(t,ui(o));if(o instanceof di){const r=o;return i<0?wi(bi(e,t,n,pi(r)),ui(r),li(r),fi(r)):0===i?hi(t,n,pi(r),fi(r),mi(r)):wi(pi(r),ui(r),li(r),bi(e,t,n,fi(r)))}return i<0?hi(t,n,void 0,r,2):0===i?ci(t,n):hi(t,n,r,void 0,2)}return ci(t,n)}function _i(e,t,n){e:for(;;){const r=e,o=t,i=n;if(null!=i){const s=Oe(i),a=0|r.Compare(o,ui(s));if(0===a)return Ae(li(s));if(s instanceof di){const i=s;e=r,t=o,n=a<0?pi(i):fi(i);continue e}return}return}}function Ci(e,t){e:for(;;){const n=e,r=t;if(null!=r){const o=Oe(r);if(o instanceof di){const r=o;Ci(n,pi(r)),n(ui(r),li(r)),e=n,t=fi(r);continue e}n(ui(o),li(o))}break}}function Si(e,t){Ci(e,t)}function Ti(e,t){if(null!=t){const n=Oe(t);if(n instanceof di){const t=n,r=Ti(e,pi(t)),o=e(ui(t),li(t)),i=Ti(e,fi(t));return hi(ui(t),o,r,i,mi(t))}return ci(ui(n),e(ui(n),li(n)))}}function Ei(e,t){return Ti(e,t)}function xi(t,n){if(e(n))return function(e,t){let n;for(let r=0;r<=t.length-1;r++){const o=t[r];n=bi(e,o[0],o[1],n)}return n}(t,n);if(n instanceof at)return function(e,t){return St(((t,n)=>bi(e,n[0],n[1],t)),void 0,t)}(t,n);{const e=c(n);try{return function(e,t,n){for(;;){const r=e,o=t,i=n;if(!i["System.Collections.IEnumerator.MoveNext"]())return o;{const s=i["System.Collections.Generic.IEnumerator`1.get_Current"]();e=r,t=bi(r,s[0],s[1],o),n=i}}}(t,void 0,e)}finally{i(e)}}}class Di extends q{constructor(e,t){super(),this.stack=e,this.started=t}}function ki(e){e:for(;;){const t=e;if(yt(t))return mt();{const n=_t(t),r=bt(t);if(null!=r){const o=Oe(r);if(o instanceof di){const t=o;e=xt([pi(t),ci(ui(t),li(t)),fi(t)],n);continue e}return t}e=n;continue e}}}function Ri(e){return new Di(ki(vt(e)),!1)}function Pi(e){if(e.started){const t=e.stack;if(yt(t))return function(){throw new Error("enumeration already finished")}();if(null!=bt(t)){const e=Oe(bt(t));if(e instanceof di)throw new Error("Please report error: Map iterator, unexpected stack for current");return[ui(e),li(e)]}throw new Error("Please report error: Map iterator, unexpected stack for current")}return function(){throw new Error("enumeration not started")}()}function Ni(e){let t=Ri(e);return{"System.Collections.Generic.IEnumerator`1.get_Current":()=>Pi(t),"System.Collections.IEnumerator.get_Current":()=>Pi(t),"System.Collections.IEnumerator.MoveNext":()=>function(e){if(e.started){const t=e.stack;if(yt(t))return!1;if(null!=bt(t)){if(Oe(bt(t))instanceof di)throw new Error("Please report error: Map iterator, unexpected stack for moveNext");return e.stack=ki(_t(t)),!yt(e.stack)}throw new Error("Please report error: Map iterator, unexpected stack for moveNext")}return e.started=!0,!yt(e.stack)}(t),"System.Collections.IEnumerator.Reset"(){t=Ri(e)},Dispose(){}}}class Oi{constructor(e,t){this.comparer=e,this.tree=t}GetHashCode(){return 0|function(e){const t=(e,t)=>(e<<1)+t+631;let n=0;const r=c(e);try{for(;r["System.Collections.IEnumerator.MoveNext"]();){const e=r["System.Collections.Generic.IEnumerator`1.get_Current"]();n=0|t(n,y(e[0])),n=0|t(n,y(e[1]))}}finally{i(r)}return 0|n}(this)}Equals(e){if(!(e instanceof Oi))return!1;{const t=e,n=c(this);try{const e=c(t);try{const t=()=>{const r=n["System.Collections.IEnumerator.MoveNext"]();if(r===e["System.Collections.IEnumerator.MoveNext"]()){if(r){const r=n["System.Collections.Generic.IEnumerator`1.get_Current"](),o=e["System.Collections.Generic.IEnumerator`1.get_Current"]();return!(!C(r[0],o[0])||!C(r[1],o[1]))&&t()}return!0}return!1};return t()}finally{i(e)}}finally{i(n)}}}toString(){return"map ["+_e("; ",Br((e=>ve("({0}, {1})",e[0],e[1])),this))+"]"}get[Symbol.toStringTag](){return"FSharpMap"}toJSON(){return Array.from(this)}GetEnumerator(){return Ni(this.tree)}[Symbol.iterator](){return u(c(this))}"System.Collections.IEnumerable.GetEnumerator"(){return Ni(this.tree)}CompareTo(e){const t=this;if(e instanceof Oi)return 0|function(e,t,n){const r=Sr(t);try{const t=Sr(n);try{let n=0,o=r["System.Collections.IEnumerator.MoveNext"](),s=t["System.Collections.IEnumerator.MoveNext"]();for(;0===n&&o&&s;)n=0|e(r["System.Collections.Generic.IEnumerator`1.get_Current"](),t["System.Collections.Generic.IEnumerator`1.get_Current"]()),0===n&&(o=r["System.Collections.IEnumerator.MoveNext"](),s=t["System.Collections.IEnumerator.MoveNext"]());return 0|(0!==n?n:o?1:s?-1:0)}finally{i(t)}}finally{i(r)}}(((e,n)=>{const r=0|t.comparer.Compare(e[0],n[0]);return 0|(0!==r?r:x(e[1],n[1]))}),t,e);throw new Error("not comparable\\nParameter name: obj")}"System.Collections.Generic.ICollection`1.Add2B595"(e){throw new Error("Map cannot be mutated")}"System.Collections.Generic.ICollection`1.Clear"(){throw new Error("Map cannot be mutated")}"System.Collections.Generic.ICollection`1.Remove2B595"(e){throw new Error("Map cannot be mutated")}"System.Collections.Generic.ICollection`1.Contains2B595"(e){return Mi(this,e[0])&&C(Ai(this,e[0]),e[1])}"System.Collections.Generic.ICollection`1.CopyToZ3B4C077E"(e,t){!function(e,t,n){let r=n;Si(((e,n)=>{t[r]=[e,n],r=r+1|0}),e)}(this.tree,e,t)}"System.Collections.Generic.ICollection`1.get_IsReadOnly"(){return!0}"System.Collections.Generic.ICollection`1.get_Count"(){return 0|Fi(this)}"System.Collections.Generic.IReadOnlyCollection`1.get_Count"(){return 0|Fi(this)}get size(){return 0|Fi(this)}clear(){throw new Error("Map cannot be mutated")}delete(e){throw new Error("Map cannot be mutated")}entries(){return Br((e=>[e[0],e[1]]),this)}get(e){return Ai(this,e)}has(e){return Mi(this,e)}keys(){return Br((e=>e[0]),this)}set(e,t){throw new Error("Map cannot be mutated")}values(){return Br((e=>e[1]),this)}forEach(e,t){const n=this;jr((t=>{e(t[1],t[0],n)}),n)}}function Ii(e,t){return new Oi(e,t)}function Ai(e,t){return function(e,t,n){const r=_i(e,t,n);if(null==r)throw new Error;return Oe(r)}(e.comparer,t,e.tree)}function Fi(e){return vi(e.tree)}function Mi(e,t){return function(e,t,n){e:for(;;){const r=e,o=t,i=n;if(null!=i){const s=Oe(i),a=0|r.Compare(o,ui(s));if(s instanceof di){const i=s;if(a<0){e=r,t=o,n=pi(i);continue e}if(0===a)return!0;e=r,t=o,n=fi(i);continue e}return 0===a}return!1}}(e.comparer,t,e.tree)}function qi(e,t){return function(e,t){return _i(e.comparer,t,e.tree)}(t,e)}function Li(e){return function(e){return Ii(e,void 0)}(e)}class ji{constructor(e){this.k=e}}function Hi(e){return new ji(e)}function $i(e){return e.k}class Ui extends ji{constructor(e,t,n,r){super(e),this.left=t,this.right=n,this.h=0|r}}function Bi(e,t,n,r){return new Ui(e,t,n,r)}function Wi(e){return e.left}function zi(e){return e.right}function Gi(e){return e.h}function Vi(e,t){e:for(;;){const n=e,r=t;if(null!=n){const o=Oe(n);if(o instanceof Ui){const n=o;e=Wi(n),t=Vi(zi(n),r+1);continue e}return r+1|0}return 0|r}}function Ki(e){return Vi(e,0)}function Xi(e,t,n){let r,o,i,s;if(null!=e){const t=Oe(e);i=t instanceof Ui?(r=t,Gi(r)):1}else i=0;if(null!=n){const e=Oe(n);s=e instanceof Ui?(o=e,Gi(o)):1}else s=0;const a=0|(i<s?s:i);return 0===a?Hi(t):Bi(t,e,n,a+1)}function Yi(e,t,n){let r,o,i,s,a,c,u,l,d,h;if(null!=e){const t=Oe(e);d=t instanceof Ui?(r=t,Gi(r)):1}else d=0;if(null!=n){const e=Oe(n);h=e instanceof Ui?(o=e,Gi(o)):1}else h=0;if(h>d+2){const r=Oe(n);if(r instanceof Ui){const n=r;if(i=Wi(n),(null!=i?(s=Oe(i),s instanceof Ui?(a=s,Gi(a)):1):0)>d+1){const r=Oe(Wi(n));if(r instanceof Ui){const o=r;return Xi(Xi(e,t,Wi(o)),$i(o),Xi(zi(o),$i(n),zi(n)))}throw new Error("internal error: Set.rebalance")}return Xi(Xi(e,t,Wi(n)),$i(n),zi(n))}throw new Error("internal error: Set.rebalance")}if(d>h+2){const r=Oe(e);if(r instanceof Ui){const e=r;if(c=zi(e),(null!=c?(u=Oe(c),u instanceof Ui?(l=u,Gi(l)):1):0)>h+1){const r=Oe(zi(e));if(r instanceof Ui){const o=r;return Xi(Xi(Wi(e),$i(e),Wi(o)),$i(o),Xi(zi(o),t,n))}throw new Error("internal error: Set.rebalance")}return Xi(Wi(e),$i(e),Xi(zi(e),t,n))}throw new Error("internal error: Set.rebalance")}return Xi(e,t,n)}function Ji(e,t,n){if(null!=n){const r=Oe(n),o=0|e.Compare(t,$i(r));if(r instanceof Ui){const i=r;return o<0?Yi(Ji(e,t,Wi(i)),$i(i),zi(i)):0===o?n:Yi(Wi(i),$i(i),Ji(e,t,zi(i)))}{const o=0|e.Compare(t,$i(r));return o<0?Bi(t,void 0,n,2):0===o?n:Bi(t,n,void 0,2)}}return Hi(t)}function Qi(e){if(null!=e){const t=Oe(e);if(t instanceof Ui){const e=t;if(null==Wi(e))return[$i(e),zi(e)];{const t=Qi(Wi(e));return[t[0],Xi(t[1],$i(e),zi(e))]}}return[$i(t),void 0]}throw new Error("internal error: Set.spliceOutSuccessor")}function Zi(e,t,n){if(null!=n){const r=Oe(n),o=0|e.Compare(t,$i(r));if(r instanceof Ui){const n=r;if(o<0)return Yi(Zi(e,t,Wi(n)),$i(n),zi(n));if(0===o){if(null==Wi(n))return zi(n);if(null==zi(n))return Wi(n);{const e=Qi(zi(n));return Xi(Wi(n),e[0],e[1])}}return Yi(Wi(n),$i(n),Zi(e,t,zi(n)))}return 0===o?void 0:n}return n}function es(e,t,n){e:for(;;){const r=e,o=t,i=n;if(null!=i){const s=Oe(i),a=0|r.Compare(o,$i(s));if(s instanceof Ui){const i=s;if(a<0){e=r,t=o,n=Wi(i);continue e}if(0===a)return!0;e=r,t=o,n=zi(i);continue e}return 0===a}return!1}}function ts(e,t){e:for(;;){const n=e,r=t;if(null!=r){const o=Oe(r);if(o instanceof Ui){const r=o;ts(n,Wi(r)),n($i(r)),e=n,t=zi(r);continue e}n($i(o))}break}}function ns(e,t,n){e:for(;;){const r=e,o=t,i=n;if(null==i)return i;if(null!=o){const s=Oe(o);if(s instanceof Ui){const o=s;e=r,t=Wi(o),n=ns(r,zi(o),Zi(r,$i(o),i));continue e}return Zi(r,$i(s),i)}return i}}function rs(e,t,n){return ns(e,n,t)}function os(e,t,n,r){e:for(;;){const o=e,i=t,s=n,a=r;if(null!=s){const c=Oe(s);if(c instanceof Ui){const s=c,u=os(o,i,zi(s),a),l=es(o,$i(s),i)?Ji(o,$i(s),u):u;e=o,t=i,n=Wi(s),r=l;continue e}return es(o,$i(c),i)?Ji(o,$i(c),a):a}return a}}function is(e,t,n){return os(e,n,t,void 0)}class ss extends q{constructor(e,t){super(),this.stack=e,this.started=t}}function as(e){e:for(;;){const t=e;if(yt(t))return mt();{const n=bt(t),r=_t(t);if(null!=n){const o=Oe(n);if(o instanceof Ui){const t=o;e=xt([Wi(t),Hi($i(t)),zi(t)],r);continue e}return t}e=r;continue e}}}function cs(e){return new ss(as(vt(e)),!1)}function us(e){if(e.started){const t=e.stack;if(yt(t))return function(){throw new Error("Enumeration already started")}();if(null!=bt(t))return $i(Oe(bt(t)));throw new Error("Please report error: Set iterator, unexpected stack for current")}return function(){throw new Error("Enumeration not started")}()}function ls(e){let t=cs(e);return{"System.Collections.Generic.IEnumerator`1.get_Current":()=>us(t),"System.Collections.IEnumerator.get_Current":()=>us(t),"System.Collections.IEnumerator.MoveNext":()=>function(e){if(e.started){const t=e.stack;if(yt(t))return!1;if(null!=bt(t)){if(Oe(bt(t))instanceof Ui)throw new Error("Please report error: Set iterator, unexpected stack for moveNext");return e.stack=as(_t(t)),!yt(e.stack)}throw new Error("Please report error: Set iterator, unexpected stack for moveNext")}return e.started=!0,!yt(e.stack)}(t),"System.Collections.IEnumerator.Reset"(){t=cs(e)},Dispose(){}}}function ds(e,t,n){return null==t?null==n?0:-1:null==n?1:0|function(e,t,n){e:for(;;){const r=e,o=t,i=n;if(yt(o))return yt(i)?0:-1;if(yt(i))return 1;if(null!=bt(i))if(null!=bt(o)){const s=Oe(bt(o)),a=Oe(bt(i));if(s instanceof Ui){const c=s;if(null==Wi(c)){if(!(a instanceof Ui)){const s=0|r.Compare($i(c),$i(a));if(0!==s)return 0|s;e=r,t=gt(zi(c),_t(o)),n=gt(void 0,_t(i));continue e}{const s=a;if(null==Wi(s)){const a=0|r.Compare($i(c),$i(s));if(0!==a)return 0|a;e=r,t=gt(zi(c),_t(o)),n=gt(zi(s),_t(i));continue e}{let s,a,c,u,l;switch(yt(o)?yt(i)?s=2:null!=bt(i)?(s=1,u=_t(i),l=Oe(bt(i))):s=2:null!=bt(o)?(s=0,a=_t(o),c=Oe(bt(o))):yt(i)?s=2:null!=bt(i)?(s=1,u=_t(i),l=Oe(bt(i))):s=2,s){case 0:if(c instanceof Ui){const o=c;e=r,t=xt([Wi(o),Bi($i(o),void 0,zi(o),0)],a),n=i;continue e}e=r,t=xt([void 0,Hi($i(c))],a),n=i;continue e;case 1:if(l instanceof Ui){const i=l;e=r,t=o,n=xt([Wi(i),Bi($i(i),void 0,zi(i),0)],u);continue e}e=r,t=o,n=xt([void 0,Hi($i(l))],u);continue e;default:throw new Error("unexpected state in SetTree.compareStacks")}}}}else{let s,a,c,u,l;switch(yt(o)?yt(i)?s=2:null!=bt(i)?(s=1,u=_t(i),l=Oe(bt(i))):s=2:null!=bt(o)?(s=0,a=_t(o),c=Oe(bt(o))):yt(i)?s=2:null!=bt(i)?(s=1,u=_t(i),l=Oe(bt(i))):s=2,s){case 0:if(c instanceof Ui){const o=c;e=r,t=xt([Wi(o),Bi($i(o),void 0,zi(o),0)],a),n=i;continue e}e=r,t=xt([void 0,Hi($i(c))],a),n=i;continue e;case 1:if(l instanceof Ui){const i=l;e=r,t=o,n=xt([Wi(i),Bi($i(i),void 0,zi(i),0)],u);continue e}e=r,t=o,n=xt([void 0,Hi($i(l))],u);continue e;default:throw new Error("unexpected state in SetTree.compareStacks")}}}else{if(!(a instanceof Ui)){const c=0|r.Compare($i(s),$i(a));if(0!==c)return 0|c;e=r,t=_t(o),n=_t(i);continue e}{const c=a;if(null==Wi(c)){const a=0|r.Compare($i(s),$i(c));if(0!==a)return 0|a;e=r,t=gt(void 0,_t(o)),n=gt(zi(c),_t(i));continue e}{let s,a,c,u,l;switch(yt(o)?yt(i)?s=2:null!=bt(i)?(s=1,u=_t(i),l=Oe(bt(i))):s=2:null!=bt(o)?(s=0,a=_t(o),c=Oe(bt(o))):yt(i)?s=2:null!=bt(i)?(s=1,u=_t(i),l=Oe(bt(i))):s=2,s){case 0:if(c instanceof Ui){const o=c;e=r,t=xt([Wi(o),Bi($i(o),void 0,zi(o),0)],a),n=i;continue e}e=r,t=xt([void 0,Hi($i(c))],a),n=i;continue e;case 1:if(l instanceof Ui){const i=l;e=r,t=o,n=xt([Wi(i),Bi($i(i),void 0,zi(i),0)],u);continue e}e=r,t=o,n=xt([void 0,Hi($i(l))],u);continue e;default:throw new Error("unexpected state in SetTree.compareStacks")}}}}}else{let s,a,c,u,l;switch(Oe(bt(i)),yt(o)?yt(i)?s=2:null!=bt(i)?(s=1,u=_t(i),l=Oe(bt(i))):s=2:null!=bt(o)?(s=0,a=_t(o),c=Oe(bt(o))):yt(i)?s=2:null!=bt(i)?(s=1,u=_t(i),l=Oe(bt(i))):s=2,s){case 0:if(c instanceof Ui){const o=c;e=r,t=xt([Wi(o),Bi($i(o),void 0,zi(o),0)],a),n=i;continue e}e=r,t=xt([void 0,Hi($i(c))],a),n=i;continue e;case 1:if(l instanceof Ui){const i=l;e=r,t=o,n=xt([Wi(i),Bi($i(i),void 0,zi(i),0)],u);continue e}e=r,t=o,n=xt([void 0,Hi($i(l))],u);continue e;default:throw new Error("unexpected state in SetTree.compareStacks")}}else{if(null==bt(o)){e=r,t=_t(o),n=_t(i);continue e}{let s,a,c,u,l;switch(Oe(bt(o)),yt(o)?yt(i)?s=2:null!=bt(i)?(s=1,u=_t(i),l=Oe(bt(i))):s=2:null!=bt(o)?(s=0,a=_t(o),c=Oe(bt(o))):yt(i)?s=2:null!=bt(i)?(s=1,u=_t(i),l=Oe(bt(i))):s=2,s){case 0:if(c instanceof Ui){const o=c;e=r,t=xt([Wi(o),Bi($i(o),void 0,zi(o),0)],a),n=i;continue e}e=r,t=xt([void 0,Hi($i(c))],a),n=i;continue e;case 1:if(l instanceof Ui){const i=l;e=r,t=o,n=xt([Wi(i),Bi($i(i),void 0,zi(i),0)],u);continue e}e=r,t=o,n=xt([void 0,Hi($i(l))],u);continue e;default:throw new Error("unexpected state in SetTree.compareStacks")}}}break}}(e,vt(t),vt(n))}function hs(e,t,n){let r=n;ts((e=>{t[r]=e,r=r+1|0}),e)}function ps(e,t){return nt(((t,n)=>Ji(e,n,t)),void 0,t)}class fs{constructor(e,t){this.comparer=e,this.tree=t}GetHashCode(){return 0|function(e){let t=0;const n=c(e);try{for(;n["System.Collections.IEnumerator.MoveNext"]();)t=(t<<1)+y(n["System.Collections.Generic.IEnumerator`1.get_Current"]())+631|0}finally{i(n)}return 0|Math.abs(t)}(this)}Equals(e){let t;return e instanceof fs&&(t=e,0===ds(gs(this),vs(this),vs(t)))}toString(){return"set ["+_e("; ",Br((e=>F(e)),this))+"]"}get[Symbol.toStringTag](){return"FSharpSet"}toJSON(){return Array.from(this)}CompareTo(e){return 0|ds(gs(this),vs(this),vs(e))}"System.Collections.Generic.ICollection`1.Add2B595"(e){throw new Error("ReadOnlyCollection")}"System.Collections.Generic.ICollection`1.Clear"(){throw new Error("ReadOnlyCollection")}"System.Collections.Generic.ICollection`1.Remove2B595"(e){throw new Error("ReadOnlyCollection")}"System.Collections.Generic.ICollection`1.Contains2B595"(e){return es(gs(this),e,vs(this))}"System.Collections.Generic.ICollection`1.CopyToZ3B4C077E"(e,t){hs(vs(this),e,t)}"System.Collections.Generic.ICollection`1.get_IsReadOnly"(){return!0}"System.Collections.Generic.ICollection`1.get_Count"(){return 0|ys(this)}"System.Collections.Generic.IReadOnlyCollection`1.get_Count"(){return 0|ys(this)}GetEnumerator(){return ls(vs(this))}[Symbol.iterator](){return u(c(this))}"System.Collections.IEnumerable.GetEnumerator"(){return ls(vs(this))}get size(){return 0|ys(this)}add(e){throw new Error("Set cannot be mutated")}clear(){throw new Error("Set cannot be mutated")}delete(e){throw new Error("Set cannot be mutated")}has(e){return ws(this,e)}keys(){return Br((e=>e),this)}values(){return Br((e=>e),this)}entries(){return Br((e=>[e,e]),this)}forEach(e,t){const n=this;jr((t=>{e(t,t,n)}),n)}}function ms(e,t){return new fs(e,t)}function gs(e){return e.comparer}function vs(e){return e.tree}function ys(e){return Ki(vs(e))}function ws(e,t){return es(gs(e),t,vs(e))}function bs(e,t){return ws(t,e)}function _s(t,n){return ms(n,function(t,n){if(e(n))return ps(t,n);if(n instanceof at)return function(e,t){return St(((t,n)=>Ji(e,n,t)),void 0,t)}(t,n);{const e=c(n);try{return function(e,t,n){for(;;){const r=e,o=t,i=n;if(!i["System.Collections.IEnumerator.MoveNext"]())return o;e=r,t=Ji(r,i["System.Collections.Generic.IEnumerator`1.get_Current"](),o),n=i}}(t,void 0,e)}finally{i(e)}}}(n,t))}function Cs(e,t){return function(e,t){return null==vs(e)||null==vs(t)?e:ms(gs(e),rs(gs(e),vs(e),vs(t)))}(e,t)}function Ss(e,t,n){try{return"Expecting "+e+" but instead got:"+(n?"\n":" ")+JSON.stringify(t,null,4)}catch(t){return"Expecting "+e+" but decoder failed. Couldn't report given value due to circular structure."+(n?"\n":" ")}}function Ts(e,t){const n=2===t.tag?Ss(t.fields[0],t.fields[1],!0):1===t.tag?Ss(t.fields[0],t.fields[1],!1)+"\nReason: "+t.fields[2]:3===t.tag?Ss(t.fields[0],t.fields[1],!0):4===t.tag?Ss(t.fields[0],t.fields[1],!0)+"\nNode `"+t.fields[2]+"` is unkown.":5===t.tag?"Expecting "+t.fields[0]+".\n"+JSON.stringify(t.fields[1],null,4):7===t.tag?"The following errors were found:\n\n"+_e("\n\n",t.fields[0]):6===t.tag?"The following `failure` occurred with the decoder: "+t.fields[0]:Ss(t.fields[0],t.fields[1],!1);return 7===t.tag?n:"Error at: `"+e+"`\n"+n}function Es(e,t,n){const r=t(e,n);if(1===r.tag){const e=r.fields[0];return new pr(1,[Ts(e[0],e[1])])}return new pr(0,[r.fields[0]])}function xs(e,t){try{return Es("$",e,JSON.parse(t))}catch(e){if(e instanceof SyntaxError)return new pr(1,["Given an invalid JSON: "+e.message]);throw e}}function Ds(e,t){return"string"==typeof t?new pr(0,[t]):new pr(1,[[e,new Uo(0,["a string",t])]])}const ks=e=>t=>{const n=e,r=t;if("number"==typeof r){const e=r;return isFinite(e)&&Math.floor(e)===e?-128<=e&&e<=127?new pr(0,[(e+128&255)-128]):new pr(1,[[n,new Uo(1,["a sbyte",e,"Value was either too large or too small for a sbyte"])]]):new pr(1,[[n,new Uo(1,["a sbyte",e,"Value is not an integral value"])]])}if("string"==typeof r){let e,t=0;return e=[ei(r,511,!1,8,new L((()=>t),(e=>{t=0|e}))),t],e[0]?new pr(0,[e[1]]):new pr(1,[[n,new Uo(0,["a sbyte",r])]])}return new pr(1,[[n,new Uo(0,["a sbyte",r])]])},Rs=e=>t=>{const n=e,r=t;if("number"==typeof r){const e=r;return isFinite(e)&&Math.floor(e)===e?0<=e&&e<=255?new pr(0,[255&e]):new pr(1,[[n,new Uo(1,["a byte",e,"Value was either too large or too small for a byte"])]]):new pr(1,[[n,new Uo(1,["a byte",e,"Value is not an integral value"])]])}if("string"==typeof r){let e,t=0;return e=[ei(r,511,!0,8,new L((()=>t),(e=>{t=e}))),t],e[0]?new pr(0,[e[1]]):new pr(1,[[n,new Uo(0,["a byte",r])]])}return new pr(1,[[n,new Uo(0,["a byte",r])]])},Ps=e=>t=>{const n=e,r=t;if("number"==typeof r){const e=r;return isFinite(e)&&Math.floor(e)===e?-32768<=e&&e<=32767?new pr(0,[(e+32768&65535)-32768]):new pr(1,[[n,new Uo(1,["an int16",e,"Value was either too large or too small for an int16"])]]):new pr(1,[[n,new Uo(1,["an int16",e,"Value is not an integral value"])]])}if("string"==typeof r){let e,t=0;return e=[ei(r,511,!1,16,new L((()=>t),(e=>{t=0|e}))),t],e[0]?new pr(0,[e[1]]):new pr(1,[[n,new Uo(0,["an int16",r])]])}return new pr(1,[[n,new Uo(0,["an int16",r])]])},Ns=e=>t=>{const n=e,r=t;if("number"==typeof r){const e=r;return isFinite(e)&&Math.floor(e)===e?0<=e&&e<=65535?new pr(0,[65535&e]):new pr(1,[[n,new Uo(1,["an uint16",e,"Value was either too large or too small for an uint16"])]]):new pr(1,[[n,new Uo(1,["an uint16",e,"Value is not an integral value"])]])}if("string"==typeof r){let e,t=0;return e=[ei(r,511,!0,16,new L((()=>t),(e=>{t=e}))),t],e[0]?new pr(0,[e[1]]):new pr(1,[[n,new Uo(0,["an uint16",r])]])}return new pr(1,[[n,new Uo(0,["an uint16",r])]])},Os=e=>t=>{const n=e,r=t;if("number"==typeof r){const e=r;return isFinite(e)&&Math.floor(e)===e?-2147483648<=e&&e<=2147483647?new pr(0,[~~e]):new pr(1,[[n,new Uo(1,["an int",e,"Value was either too large or too small for an int"])]]):new pr(1,[[n,new Uo(1,["an int",e,"Value is not an integral value"])]])}if("string"==typeof r){let e,t=0;return e=[ei(r,511,!1,32,new L((()=>t),(e=>{t=0|e}))),t],e[0]?new pr(0,[e[1]]):new pr(1,[[n,new Uo(0,["an int",r])]])}return new pr(1,[[n,new Uo(0,["an int",r])]])},Is=e=>t=>{const n=e,r=t;if("number"==typeof r){const e=r;return isFinite(e)&&Math.floor(e)===e?0<=e&&e<=4294967295?new pr(0,[e>>>0]):new pr(1,[[n,new Uo(1,["an uint32",e,"Value was either too large or too small for an uint32"])]]):new pr(1,[[n,new Uo(1,["an uint32",e,"Value is not an integral value"])]])}if("string"==typeof r){let e,t=0;return e=[ei(r,511,!0,32,new L((()=>t),(e=>{t=e}))),t],e[0]?new pr(0,[e[1]]):new pr(1,[[n,new Uo(0,["an uint32",r])]])}return new pr(1,[[n,new Uo(0,["an uint32",r])]])};function As(e,t,n,r){let o;const i=n+".["+h(e)+"]";if(Array.isArray(r)){const n=r;return e<n.length?t(i,n[e]):new pr(1,[[i,new Uo(5,["a longer array. Need index `"+h(e)+"` but there are only `"+(o=n.length,h(o)+"` entries"),r])]])}return new pr(1,[[i,new Uo(0,["an array",r])]])}function Fs(e,t,n){if(Array.isArray(n)){let r=-1;return fr(Tt,nt(((n,o)=>{if(r=r+1|0,0===n.tag){const i=e(t+".["+h(r)+"]",o);return 0===i.tag?new pr(0,[gt(i.fields[0],n.fields[0])]):new pr(1,[i.fields[0]])}return n}),new pr(0,[mt()]),n))}return new pr(1,[[t,new Uo(0,["a list",n])]])}function Ms(e,t,n){if(Array.isArray(n)){let r=-1;const o=n;return nt(((n,o)=>{if(r=r+1|0,0===n.tag){const i=n.fields[0],s=e(t+".["+h(r)+"]",o);return 0===s.tag?(i[r]=s.fields[0],new pr(0,[i])):new pr(1,[s.fields[0]])}return n}),new pr(0,[Be(new Array(o.length),0,o.length,null)]),o)}return new pr(1,[[t,new Uo(0,["an array",n])]])}function qs(e,t,n,r){const o=t(n,r);return 0===o.tag?e(o.fields[0],n,r):new pr(1,[o.fields[0]])}function Ls(e,t){let n;const r=e;return n=e=>t=>As(0,r,e,t),e=>r=>qs(I((e=>{let n;const r=t;return n=e=>t=>As(1,r,e,t),t=>r=>qs(((t,n,r)=>new pr(0,[[e,t]])),N(n),t,r)})),N(n),e,r)}function js(e){return Ii(t={Compare:x},xi(t,e));var t}function Hs(e,t,n,r){let o,i;return t.length!==r.length?new pr(1,[[n,new Uo(6,[(o=0|t.length,i=0|r.length,pe(ue("Expected %i %s but got %i"))(o)(e)(i))])]]):it(((e,t,r)=>0===r.tag?fr((e=>gt(e,r.fields[0])),t(n)(e)):r),r,t,new pr(0,[mt()]))}function $s(e,t,n,r,o,i){const s=Qe((e=>yn(e)===r),function(e){if(null!=e.cases)return e.cases();throw new Error(`${e.fullname} is not an F# union type`)}(n));if(null!=s){const n=s;return 0===i.length?new pr(0,[xn(n,[])]):fr((e=>xn(n,Ct(e))),Hs("union fields",ze((n=>Bs(e,t,!1,n[1])),function(e){return null==e.fields?[]:e.fields}(n)),o,i))}return new pr(1,[[o,new Uo(6,["Cannot find case "+r+" in "+wn(n)])]])}function Us(e,t,n,r){let o;const i=new L(null),s=(a=wn(r),function(e,t,n){return Ii(e.comparer,bi(e.comparer,t,n,e.tree))}(e,a,i));var a;let c;if(function(e){return e instanceof nn?null!=e.fields:e instanceof q}(r)){const e=ze((e=>[Vo(t,yn(e)),Bs(s,t,!1,e[1])]),Tn(r));c=t=>n=>fr((e=>function(e,t){const n=Tn(e);if(n.length!==t.length)throw new Error(`Expected an array of length ${n.length} but got ${t.length}`);return null!=e.construct?new e.construct(...t):n.reduce(((e,[n,r],o)=>(e[n]=t[o],e)),{})}(r,Ct(e))),function(e,t,n){return null===n||Object.getPrototypeOf(n||!1)!==Object.prototype?new pr(1,[[t,new Uo(0,["an object",n])]]):function(e,r,o){return r.reduceRight(((e,r)=>((e,r)=>{const o=e[0];return 0===r.tag?fr((e=>gt(e,r.fields[0])),e[1](t+"."+o)(n[o])):r})(r,e)),o)}(0,e,new pr(0,[mt()]))}(e,t,n))}else if(function(e){return e instanceof nn?null!=e.cases:e instanceof M}(r))c=e=>n=>{if("string"==typeof n)return $s(s,t,r,n,e,[]);if(Array.isArray(n)){const o=n;return $s(s,t,r,o[0],e,o.slice(1,o.length))}return new pr(1,[[e,new Uo(0,["a string or array",n])]])};else{if(!n)throw new Error((o=wn(r),pe(ue("Cannot generate auto decoder for %s. Please pass an extra decoder."))(o)));c=e=>t=>new pr(1,[[e,new Uo(2,["an extra coder for "+wn(r),t])]])}return i.contents=c,c}function Bs(e,t,n,r){let o,i,s;const a=wn(r),c=qi(a,e);if(null!=c){const e=c;return t=>n=>e.contents(t)(n)}if(function(e){return null!=bn(e)}(r)){const n=Bs(e,t,!1,bn(r));return e=>t=>Ms(N(n),e,t)}if(_n(r)){const e=wn(function(e){return e.generics?.[0]}(r));switch(e){case"System.SByte":return e=>t=>{const n=r,o=e,i=t,s=ks(o)(i);if(1===s.tag)return new pr(1,[s.fields[0]]);{const e=0|s.fields[0];return Ir(e,Cn(n),{Equals:(e,t)=>e===t,GetHashCode:m})?new pr(0,[Sn(n,e.toString())]):new pr(1,[[o,new Uo(1,[wn(n),i,"Unkown value provided for the enum"])]])}};case"System.Byte":return e=>t=>{const n=r,o=e,i=t,s=Rs(o)(i);if(1===s.tag)return new pr(1,[s.fields[0]]);{const e=s.fields[0];return Ir(e,Cn(n),{Equals:(e,t)=>e===t,GetHashCode:m})?new pr(0,[Sn(n,e.toString())]):new pr(1,[[o,new Uo(1,[wn(n),i,"Unkown value provided for the enum"])]])}};case"System.Int16":return e=>t=>{const n=r,o=e,i=t,s=Ps(o)(i);if(1===s.tag)return new pr(1,[s.fields[0]]);{const e=0|s.fields[0];return Ir(e,Cn(n),{Equals:(e,t)=>e===t,GetHashCode:m})?new pr(0,[Sn(n,(a=e,a.toString(c)))]):new pr(1,[[o,new Uo(1,[wn(n),i,"Unkown value provided for the enum"])]])}var a,c};case"System.UInt16":return e=>t=>{const n=r,o=e,i=t,s=Ns(o)(i);if(1===s.tag)return new pr(1,[s.fields[0]]);{const e=s.fields[0];return Ir(e,Cn(n),{Equals:(e,t)=>e===t,GetHashCode:m})?new pr(0,[Sn(n,e.toString())]):new pr(1,[[o,new Uo(1,[wn(n),i,"Unkown value provided for the enum"])]])}};case"System.Int32":return e=>t=>{const n=r,o=e,i=t,s=Os(o)(i);if(1===s.tag)return new pr(1,[s.fields[0]]);{const e=0|s.fields[0];return Ir(e,Cn(n),{Equals:(e,t)=>e===t,GetHashCode:m})?new pr(0,[Sn(n,h(e))]):new pr(1,[[o,new Uo(1,[wn(n),i,"Unkown value provided for the enum"])]])}};case"System.UInt32":return e=>t=>{const n=r,o=e,i=t,s=Is(o)(i);if(1===s.tag)return new pr(1,[s.fields[0]]);{const e=s.fields[0];return Ir(e,Cn(n),{Equals:(e,t)=>e===t,GetHashCode:m})?new pr(0,[Sn(n,e.toString())]):new pr(1,[[o,new Uo(1,[wn(n),i,"Unkown value provided for the enum"])]])}};default:{const e=wn(r),t=fe(ue("Cannot generate auto decoder for %s.\nThoth.Json.Net only support the folluwing enum types:\n- sbyte\n- byte\n- int16\n- uint16\n- int\n- uint32\nIf you can't use one of these types, please pass an extra decoder.\n                    "))(e);return e=>t(e)}}}else if(function(e){return null!=e.generics&&e.generics.length>0}(r)){if(En(r)){const n=ze((n=>Bs(e,t,!1,n)),function(e){if(En(e)&&null!=e.generics)return e.generics;throw new Error(`${e.fullname} is not a tuple type`)}(r));return e=>t=>Array.isArray(t)?fr((e=>Ct(e)),Hs("tuple elements",n,e,t)):new pr(1,[[e,new Uo(0,["an array",t])]])}{const a=wn(function(e){return null==e.generics?e:new nn(e.fullname,e.generics.map((()=>pn)))}(r));switch(a){case"Microsoft.FSharp.Core.FSharpOption`1[System.Object]":return o=Bs(e,t,!0,rn(r)[0]),e=>t=>{return n=N(o),r=e,null==(i=t)?new pr(0,[void 0]):fr(Ae,n(r,i));var n,r,i};case"Microsoft.FSharp.Collections.FSharpList`1[System.Object]":return i=Bs(e,t,!1,rn(r)[0]),e=>t=>Fs(N(i),e,t);case"Microsoft.FSharp.Collections.FSharpMap`2[System.Object,System.Object]":{const n=Bs(e,t,!1,rn(r)[0]),o=Bs(e,t,!1,rn(r)[1]);let i;const a=Dt([e=>t=>function(e,t,n,r){return null===r||Object.getPrototypeOf(r||!1)!==Object.prototype?new pr(1,[[n,new Uo(0,["an object",r])]]):qr(((o,i)=>{if(0===o.tag){const s=e(n,i);if(0===s.tag){const e=t(n+"."+i,r[i]);return 0===e.tag?new pr(0,[gt([s.fields[0],e.fields[0]],o.fields[0])]):new pr(1,[e.fields[0]])}return new pr(1,[s.fields[0]])}return o}),new pr(0,[mt()]),Object.keys(r))}(N(n),N(o),e,t),(s=Ls(N(n),N(o)),e=>t=>Fs(N(s),e,t))]);return i=e=>t=>{return n=e,r=t,((e,t)=>{e:for(;;){const o=e,i=t;if(yt(o))return new pr(1,[[n,new Uo(7,[i])]]);{const s=Es(n,N(bt(o)),r);if(1===s.tag){e=_t(o),t=Rt(i,vt(s.fields[0]));continue e}return new pr(0,[s.fields[0]])}}})(a,mt());var n,r},e=>t=>function(e,t,n,r){const o=t(n,r);return 1===o.tag?new pr(1,[o.fields[0]]):new pr(0,[e(o.fields[0])])}(js,N(i),e,t)}case"Microsoft.FSharp.Collections.FSharpSet`1[System.Object]":{const n=Bs(e,t,!1,rn(r)[0]);return e=>t=>{const r=Ms(N(n),e,t);return 0===r.tag?new pr(0,[(o=r.fields[0],_s(o,{Compare:x}))]):new pr(1,[r.fields[0]]);var o}}default:return Us(e,t,n,r)}}}else switch(a){case"System.Boolean":return e=>t=>{return n=e,"boolean"==typeof(r=t)?new pr(0,[r]):new pr(1,[[n,new Uo(0,["a boolean",r])]]);var n,r};case"Microsoft.FSharp.Core.Unit":return e=>t=>{return n=e,null==(r=t)?new pr(0,[void 0]):new pr(1,[[n,new Uo(0,["null",r])]]);var n,r};case"System.String":return e=>t=>Ds(e,t);case"System.SByte":return ks;case"System.Byte":return Rs;case"System.Int16":return Ps;case"System.UInt16":return Ns;case"System.Int32":return Os;case"System.UInt32":return Is;case"System.Double":return e=>t=>{return n=e,"number"==typeof(r=t)?new pr(0,[r]):new pr(1,[[n,new Uo(0,["a float",r])]]);var n,r};case"System.Single":return e=>t=>{return n=e,"number"==typeof(r=t)?new pr(0,[r]):new pr(1,[[n,new Uo(0,["a float32",r])]]);var n,r};case"System.DateTime":return e=>t=>function(e,t){if("string"==typeof t){let r,o=W(-621355968e5,0);return r=[G(t,new L((()=>o),(e=>{o=e}))),o],r[0]?new pr(0,[(n=r[1],1===n.kind?n:W(n.getTime(),1))]):new pr(1,[[e,new Uo(0,["a datetime",t])]])}var n;return new pr(1,[[e,new Uo(0,["a datetime",t])]])}(e,t);case"System.DateTimeOffset":return e=>t=>function(e,t){if("string"==typeof t){let n,r=ti(-621355968e5,0);return n=[ni(t,new L((()=>r),(e=>{r=e}))),r],n[0]?new pr(0,[n[1]]):new pr(1,[[e,new Uo(0,["a datetimeoffset",t])]])}return new pr(1,[[e,new Uo(0,["a datetime",t])]])}(e,t);case"System.TimeSpan":return e=>t=>function(e,t){if("string"==typeof t){let n,r=0;return n=[si(t,new L((()=>r),(e=>{r=e}))),r],n[0]?new pr(0,[n[1]]):new pr(1,[[e,new Uo(0,["a timespan",t])]])}return new pr(1,[[e,new Uo(0,["a timespan",t])]])}(e,t);case"System.Guid":return e=>t=>function(e,t){if("string"==typeof t){let n,r="00000000-0000-0000-0000-000000000000";return n=[Jo(t,new L((()=>r),(e=>{r=e}))),r],n[0]?new pr(0,[n[1]]):new pr(1,[[e,new Uo(0,["a guid",t])]])}return new pr(1,[[e,new Uo(0,["a guid",t])]])}(e,t);case"System.Object":return e=>e=>new pr(0,[e]);default:return Us(e,t,n,r)}}function Ws(e){return null!=e?(t=(e,t)=>new L(t[1]),n=e.Coders,o=t,Ii((r=n).comparer,Ei(o,r.tree))):Li({Compare:T});var t,n,r,o}function zs(e,t,n){const r=Me(t,new Bo(0,[]));return Bs(Ws(n),r,!1,e)}var Gs=n(2850);class Vs extends q{constructor(e,t,n){super(),this.uri=e,this.version=t,this.document=n}}const Ks=new Ut.EventEmitter,Xs=Ks.event,Ys=(new Ut.EventEmitter).event;let Js=D(void 0);const Qs=new Ut.EventEmitter,Zs=Qs.event,ea=Xt("LanguageService",new Bt(0,[]),tn,new Bt(0,[]));class ta extends q{constructor(e,t){super(),this.Line=0|e,this.Character=0|t}}class na extends q{constructor(e){super(),this.Uri=e}}class ra extends q{constructor(e,t){super(),this.Uri=e,this.Version=t}}class oa extends q{constructor(e,t){super(),this.TextDocument=e,this.Position=t}}class ia extends q{constructor(e,t){super(),this.TextDocument=e,this.Position=t}}class sa extends q{constructor(e){super(),this.Project=e}}class aa extends q{constructor(e){super(),this.TextDocuments=e}}class ca extends q{constructor(e){super(),this.TextDocument=e}}function ua(e){return F(e)}let la=D(void 0);const da=[{language:"fsharp",scheme:"file"},{language:"fsharp",scheme:"untitled"}];function ha(){const e=e=>hr(0,dr(0,(()=>so(0,Ut.window.showErrorMessage("Could not find 'dotnet'","More details")).then((t=>{let n,r;if(r=null==t?1:"More details"===t?0:1,0===r){const t="ionide_dotnet_not_found_details_"+(n=Fo.randomBytes(4).readUInt32LE(0),h(n)+".md"),r=Mo.join(qo.tmpdir(),t);Xr.writeFileSync(r,e);const o=Ut.Uri.parse(r);return so(0,Ut.workspace.openTextDocument(o)).then((e=>{const t=e;return so(0,Ut.window.showTextDocument(t)).then((e=>so(0,Ut.commands.executeCommand("markdown.showPreview",Ae(t))).then((()=>so(0,Ut.commands.executeCommand("workbench.action.closeActiveEditor",Ae(t))).then((()=>(Xr.unlinkSync(r),Promise.resolve())))))))}))}return Promise.resolve()})))));return hr(0,dr(0,(()=>{const t=mo("FSharp.dotnetRoot");if(null==t)return ao(0,Ho("dotnet")).then((t=>{if(null==t)return ao(0,e("Could not find `dotnet` in the path.\r\n\r\nConsider:\r\n- setting the `FSharp.dotnetRoot` settings key to a directory with a `dotnet` binary\r\n- including `dotnet` in your PATH\r\n- installing .NET Core\r\n")).then((()=>Promise.resolve(new pr(1,["Could not find 'dotnet'"]))));{const e=t;return Promise.resolve(new pr(0,[e]))}}));{const n=t,r=Lo?"dotnet.exe":"dotnet",o=Mo.join(n,r);return Xr.existsSync(o)?Promise.resolve(new pr(0,[o])):ao(0,e(`\nCould not find \`dotnet\` in the \`dotnetRoot\` directory: ${"\n"+o}\n\nConsider:\n- updating the \`FSharp.dotnetRoot\` settings key to a directory with a \`dotnet\` binary\n- removing the \`FSharp.dotnetRoot\` settings key and :\n    - including \`dotnet\` in your PATH\n    - installing .NET Core`)).then((()=>Promise.resolve(new pr(1,["Could not find 'dotnet'"]))))}})))}function pa(e,t,n){if(null!=la()){const r=la(),o=new oa(new na(ua(e)),new ta(t,n));return r.sendRequest("fsharp/documentation",o).then((e=>{let t;const n=e;return null==n?void 0:(t=xs(N(zs(rr(Pn()),void 0,void 0)),n.content),1===t.tag?(()=>{throw new Error(t.fields[0])})():t.fields[0])}))}return Co()}function fa(e){if(null!=la()){const t=la(),n=new sa(new na(ua(e)));return t.sendRequest("fsharp/lineLens",n).then((e=>{let t;const n=e;return null==n?void 0:(t=xs(N(zs(rr(hn(cn("Ionide.VSCode.FSharp.DTO.Symbols",[],Fn,(()=>[["Declaration",An()],["Nested",hn(An())]])))),void 0,void 0)),n.content),1===t.tag?(()=>{throw new Error(t.fields[0])})():t.fields[0])}))}return Co()}function ma(e){let t;const n=0|e.Code;return t=1===n?new Zn(0,[]):100===n?new Zn(1,[e.AdditionalData]):101===n?new Zn(2,[e.AdditionalData]):102===n?new Zn(3,[e.AdditionalData]):new Zn(0,[]),[e.Message,t]}function ga(){if(null!=la()){const e=la(),t=new sa(new na(""));return e.sendRequest("fsharp/loadAnalyzers",t).then((e=>{}))}return Co()}function va(e){if(null!=la()){const t=la(),n=new ca(new na(ua(e)));return t.sendRequest("fsharp/pipelineHint",n).then((e=>{let t;const n=e;return null==n?void 0:(t=xs(N(zs(rr(hn(cn("Ionide.VSCode.FSharp.DTO.PipelineHint",[],tr,(()=>[["Line",vn],["Types",hn(mn)],["PrecedingNonPipeExprLine",ln(vn)]])))),void 0,void 0)),n.content),1===t.tag?(()=>{throw new Error(t.fields[0])})():t.fields[0])}))}return Co()}function ya(e){return hr(0,dr(0,(()=>{let t;const n=go(!1,"FSharp.openTelemetry.enabled"),r=go(!1,"FSharp.enableMSBuildProjectGraph"),o=je((e=>{let t,n,r=!1;return n=[(t=e,o=F(t),i=new L((()=>r),(e=>{r=e})),o.match(/^\s*true\s*$/i)?(i.contents=!0,!0):!!o.match(/^\s*false\s*$/i)&&(i.contents=!1,!0)),r],n[0]?n[1]:void 0;var o,i}),Le((e=>e),mo("FSharp.fsac.conserveMemory"))),i=je((e=>{let t,n,r=0;return n=[ei((t=e,F(t)),511,!1,32,new L((()=>r),(e=>{r=0|e}))),r],n[0]?n[1]:void 0}),mo("FSharp.fsac.gc.conserveMemory")),s=0|(null==i?null!=o&&o?9:0:(t=0|i,t)),a=0|go(2,"FSharp.fsac.gc.heapCount"),c=go(!0,"FSharp.fsac.gc.server"),u=go(!0,"Fsharp.fsac.gc.noAffinitize"),l=go(!1,"FSharp.fsac.parallelReferenceResolution"),d=go(!1,"FSharp.fsac.attachDebugger"),h=go("","FSharp.fsac.netCoreDllPath"),p=go([],"FSharp.fsac.silencedLogs"),m=go(!1,"FSharp.verboseLogging"),g=(e,t)=>{const n=Ar((e=>0===e.indexOf("net")),Xr.readdirSync(e));if(he(le("Available FSAC TFMs: %A%P()",[n])),Ir(t,n,{Equals:(e,t)=>e===t,GetHashCode:f}))return he(ue("TFM match found")),[t,Mo.join(e,t,"fsautocomplete.dll")];{let s;const a=n,c=e=>{const t=xe(Te(Te(e,"netcoreapp",""),"net",""),["."],2);return $o.parse(`${t[0]}.${t[1]}.0`)},u=(r=e=>{const t=e[1];return[t.major,t.minor]},o=Or((e=>{const t=c(e);return null==t?void 0:[e,t]}),a),i={Compare:E},function(e,t){return Tr((()=>{const n=kr(t);return n.sort(e),n}))}(((e,t)=>i.Compare(r(e),r(t))),o));he(le("choosing from among %A%P()",[u]));const l=c(t);if(null!=l){const e=l;s=qe(Le((e=>e[0]),Lr(function(t,n){return Tr((()=>{let t=!0;return Ar((n=>{return t&&(r=n,t=-1===$o.compare(r[1],e)),!t;var r}),n)}))}(0,u))),(()=>$r(a)))}else he(ue("unable to parse target tfm, using latest")),s=$r(a);return[s,Mo.join(e,s,"fsautocomplete.dll")]}var r,o,i};return ao(0,ha()).then((t=>{const o=t;return 1===o.tag?Promise.resolve((()=>{throw new Error(o.fields[0])})()):ao(0,hr(0,dr(0,(()=>ao(0,hr(0,dr(0,(()=>ao(0,hr(0,dr(0,(()=>ao(0,ha()).then((e=>{const t=e;return 0===t.tag?ao(0,io(t.fields[0],["--version"])).then((e=>{const t=e[0];if(null==t){const t=Re(e[1]),n=$o.parse(t);if(null!=n){const e=n;return Promise.resolve(new pr(0,[e]))}return Promise.resolve(new pr(1,[`unable to parse version string '${t}'`]))}{const e=t;return Promise.resolve(new pr(1,[`error while invoking: ${e.message}`]))}})):Promise.resolve(new pr(1,[t.fields[0]]))})))))).then((e=>{const t=e;if(0===t.tag){const e=t.fields[0],n=e.raw;let r;he(ue("Parsed SDK version at root path: %s"))(n);const o=e,i=0|~~o.major,s=0|~~o.minor;let a,c,u;switch(i){case 2:switch(s){case 0:a=3;break;case 1:a=2;break;default:a=4,c=i}break;case 3:switch(s){case 0:a=1;break;case 1:a=0;break;default:a=4,c=i}break;default:a=4,c=i}switch(a){case 0:r="netcoreapp3.1";break;case 1:r="netcoreapp3.0";break;case 2:r="netcoreapp2.1";break;case 3:r="netcoreapp2.0";break;default:r=`net${c}.0`}he(ue("Parsed SDK version to tfm: %s"))(r);const l=r;let d;if(d=null===h||""===h?0:1,0===d)u=g(Mo.join(Ao(),"bin"),l);else{const e=h;if(ye(e,".dll"))u=[Mo.basename(Mo.dirname(e)),e];else{const t=Br((t=>Mo.join(e,t)),Xr.readdirSync(e));he(le("candidates: %A%P()",[t])),u=Fr((e=>(he(`checking folder ${e}`),0===Mo.basename(e).indexOf("net")&&Xr.statSync(e).isDirectory())),t)?g(e,l):[Mo.basename(Mo.dirname(e)),Mo.join(e,"fsautocomplete.dll")]}}const p=u[1];he(ue("Parsed TFM to fsac path: %s"))(p);const f=go([],"FSharp.fsac.dotnetArgs"),m=Me(Le((e=>!0),Ze((e=>"--roll-forward"===e),f)),!1),v=!(Me(Le((e=>!0),Ze((e=>"--fx-version"===e),f)),!1)||m)&&r!==u[0],y=Rr(Tr((()=>Nr(v?Dr(["DOTNET_ROLL_FORWARD","LatestMajor"]):xr(),Tr((()=>{const t=e.prerelease;return C(t,null)?xr():Ur(t)>0?Dr(["DOTNET_ROLL_FORWARD_TO_PRERELEASE",1]):xr()}))))));return Promise.resolve([f,y,p,e])}return he(`Error finding dotnet version: ${t.fields[0]}`),Promise.resolve((()=>{throw new Error("Error finding dotnet version, do you have dotnet installed and on the PATH?")})())})))))).then((t=>{let i;const h=t[2],f=Oe($o.parse("7.0.0")),g=$o.cmp(t[3],">=",f),v=Rr(Tr((()=>Nr(t[1],Tr((()=>Nr(g?Nr(Dr(["DOTNET_GCNoAffinitize",u?1:0]),Tr((()=>Dr(["DOTNET_GCHeapCount",ve("{0:X}",a)])))):xr(),Tr((()=>Nr(Dr(["DOTNET_GCConserveMemory",s]),Tr((()=>Nr(Dr(["DOTNET_GCServer",c?1:0]),Tr((()=>l?Dr(["FCS_ParallelReferenceResolution","true"]):xr())))))))))))))));Jt(ea,`FSAC (NETCORE): '${h}'`);const y={},w=yt(v)?void 0:Ae(k((i=Rt(Nt((e=>[e,process.env[e]]),Rr(Object.keys(process.env))),v),Array.from(i))));let b;y.env=w;const _=Rr(Tr((()=>Nr(t[0],Tr((()=>Nr(Dr(h),Tr((()=>Nr(d?Nr(Dr("--attachdebugger"),Tr((()=>Dr("--wait-for-debugger")))):xr(),Tr((()=>Nr(r?Dr("--project-graph-enabled"):xr(),Tr((()=>Nr(n?Dr("--otel-exporter-enabled"):xr(),Tr((()=>Nr(m?Dr("--verbose"):xr(),Tr((()=>Nr(!rt(((e,t)=>e===t),p,null)&&p.length>0?Nr(Dr("--filter"),Tr((()=>p))):xr(),Tr((()=>{const t=e.storageUri;if(null==t)return xr();{const e=t.fsPath;return Nr(Dr("--state-directory"),Tr((()=>Dr(e))))}}))))))))))))))))))))))));b=Array.from(_);const C={};return C.command=o.fields[0],C.args=b,C.options=y,Promise.resolve(C)}))))))}))})))}function wa(e){return hr(0,dr(0,(()=>dr(0,(()=>ao(0,ya(e)).then((e=>{const t=e;Jt(ea,"F# language server options: %%",t);const n=function(e){let t,n,r,o,i,s;const a={debug:e,run:e},c=Ut.workspace.createFileSystemWatcher("**/*.{fs,fsx}",!0,!0,!1),u=new Gs.LanguageClient("FSharp","F#",a,(t={},n=0,r=[],o={closed:()=>(r.push(1),Ur(r)<5?2:(Zt(ea,"Server closed"),1)),error:(e,t,n)=>(Zt(ea,`Error from server: ${e} ${t} ${n}`),0|(n<3?1:2))},i={AutomaticWorkspaceInit:!1},s={},s.configurationSection="FSharp",s.fileEvents=[c],t.documentSelector=da,t.synchronize=s,t.errorHandler=o,t.revealOutputChannelOn=4,t.initializationFailedHandler=e=>n<5&&(Zt(ea,"Initialization failed: %",e),n=n+1|0,!0),t.initializationOptions=Ae(i),t.markdown={isTrusted:!0,supportHtml:!0},t),!1);return la(u),u}(t);return function(e){e.onNotification("fsharp/notifyWorkspace",(e=>{if(null!=Js()){const t=Js();let n;const r=xs(N(zs(pn,void 0,void 0)),e.content);if(1===r.tag)throw new Error(r.fields[0]);switch(n=r.fields[0],n.Kind){case"project":t(new mr(0,[n]));break;case"projectLoading":t(new mr(1,[n]));break;case"error":t(new mr(2,[ma(n.Data)]));break;case"workspaceLoad":t(new mr(3,[n.Data.Status]))}}})),e.onNotification("fsharp/fileParsed",(e=>{const t=e.content;jr((e=>{const n=new Vs(t,e.document.version,e.document);Ks.fire(n)}),Fe(Mr((e=>ua(e.document.uri).toLowerCase()===t.toLowerCase()),Ut.window.visibleTextEditors)))})),e.onNotification("fsharp/testDetected",(e=>{Qs.fire(e)}))}(n),ao(0,n.start()).then((()=>Promise.resolve(void 0)))})))).catch((e=>{const t=e;return Zt(ea,"Error starting F# language server: %%",t),Promise.resolve((()=>{throw t})())})))))}function ba(){return hr(0,dr(0,(()=>null==la()?Promise.resolve(void 0):ao(0,la().stop()))))}function _a(e,t,n){return!!e.has(t)&&(n.contents=e.get(t),!0)}function Ca(e,t){return!t.has(e)&&(t.add(e),!0)}function Sa(e,t,n){if(e.has(t))throw new Error("An item with the same key has already been added. Key: "+t);e.set(t,n)}function Ta(e,t){if(e.has(t))return e.get(t);throw new Error(`The given key '${t}' was not present in the dictionary.`)}const Ea=Xt("Project",new Bt(0,[]),void 0,new Bt(0,[]));class xa extends M{constructor(e,t){super(),this.tag=e,this.fields=t}cases(){return["Loading","Loaded","Failed","NotRestored","LanguageNotSupported"]}}const Da=new Map([]);let ka,Ra=Da,Pa=D(!1);const Na=Ro("fsharp.project.any"),Oa=new Ut.EventEmitter,Ia=Oa.event,Aa=new Ut.EventEmitter,Fa=Aa.event,Ma=new Ut.EventEmitter,qa=Ma.event,La=new Ut.EventEmitter,ja=La.event,Ha=new Ut.EventEmitter,$a=Ha.event,Ua=go([".git","paket-files",".fable","packages","node_modules"],"FSharp.excludeProjectDirectories"),Ba=$e(0,go(2,"FSharp.workspaceModePeekDeepLevel"));function Wa(e){return Fr((e=>"net5.0"===e||0===e.indexOf("netcoreapp")),gt(e.Info.TargetFramework,e.Info.TargetFrameworks))}function za(e){return F(Xr.readFileSync(e)).indexOf('<Project Sdk="')>=0}function Ga(){return Nt((e=>e[1]),Rr(Ra))}function Va(e){return Le((e=>e[1]),Mr((t=>t[0]===e.toUpperCase()),Ra))}function Ka(e,t){const n=e.toUpperCase();let r,o=null;if(r=[_a(Ra,n,new L((()=>o),(e=>{o=e}))),o],r[0]){let e;switch(e=1===r[1].tag&&0===t.tag?0:1,e){case 0:break;case 1:Ra.set(n,t),Ha.fire(void 0)}}else Sa(Ra,n,t),Ha.fire(void 0)}function Xa(){const e=t=>Pt((n=>{try{const r=t+Mo.sep+n;return Xe(n,Ua,{Equals:(e,t)=>e===t,GetHashCode:f})?mt():Xr.statSync(r).isDirectory()?e(r):ye(r,".fsproj")||ye(r,".csproj")||ye(r,".vbproj")?vt(r):mt()}catch(e){return mt()}}),Rr(Xr.readdirSync(t))),t=Ut.workspace.rootPath;return null!=t?e(t):mt()}function Ya(e){return 1===e.tag?e.fields[0]:void 0}const Ja=()=>qt(Ya,Ga());function Qa(e){return Ot((t=>Ur(Ar((t=>t.toUpperCase()===e.toUpperCase()),t.Files))>0?t:void 0),Ja())}function Za(e){const t=e.Kind;return 0===t.tag?[[e.Name,t.fields[0]]]:Ke(Za,t.fields[0].Items)}function ec(){return ka}function tc(){jr((e=>{Xr.unlinkSync(e)}),function(){const e=t=>{const n=Xr.readdirSync(t);return null==n?mt():Pt((n=>{try{const r=t+Mo.sep+n;return Xe(n,Ua,{Equals:(e,t)=>e===t,GetHashCode:f})?mt():Xr.statSync(r).isDirectory()?e(r):ye(r,"fsac.cache")?vt(r):mt()}catch(e){return mt()}}),Rr(n))},t=Ut.workspace.rootPath;return null!=t?e(t):mt()}()),Ut.window.showInformationMessage("Project Cache cleared")}function nc(e){return st((e=>e.length),ze(Za,e.Items),{GetZero:()=>0,Add:(e,t)=>e+t})}class rc extends M{constructor(e,t){super(),this.tag=e,this.fields=t}cases(){return["Solution","Directory"]}}const oc="FSharp.workspacePath";let ic;function sc(e){if(0===e.tag)try{const t=Xr.statSync(e.fields[0]);return!(null==t)&&t.isFile()}catch(e){return!1}else try{const t=Xr.statSync(e.fields[0]);return!(null==t)&&t.isDirectory()}catch(e){return!1}}function ac(e){let t,n;if(null!=e?""===e?t=0:(t=1,n=e):t=0,0!==t){const e=function(e){const t=Mo.resolve(Oe(Ut.workspace.rootPath),e);return ye(e.toLowerCase(),".sln")?new rc(0,[t]):new rc(1,[t])}(n);return sc(e)?e:void en(Ea,"Ignoring configured workspace '%s' as the file or directory can't be resolved (From '%s')",n,pe(ue("%A"))(e))}}function cc(){return Ut.workspace.getConfiguration().get(oc)}function uc(){const e=ac(cc());return null==e?ac(Oe(ic).get(oc)):e}function lc(e){if(0===e.length)return"";{const t=e[e.length-1];return"/"===t||"\\"===t?Pe(e,0,e.length-1):e}}function dc(e,t){let n,r,o,i,s;switch(0===e.tag?1===t.tag?(n=1,i=t.fields[0],s=e.fields[0]):n=2:0===t.tag?(n=0,r=t.fields[0],o=e.fields[0]):n=2,n){case 0:return lc(o)===lc(r.Directory);case 1:return s===i.Path;default:return!1}}function hc(e,t){const n=e=>null!=t&&dc(t,e),r=Nt((e=>{let t,r,o,i,s,a,c,u,l;return[(t=e,r=n(t)?"✔ ":"",1===t.tag?(o=t.fields[0],i=Mo.relative(Oe(Ut.workspace.rootPath),o.Path),s={},s.label=pe(ue("%s%s"))(r)(i),s.description=(a=0|nc(o),pe(ue("Solution with %i projects"))(a)),s):(c=t.fields[0],u={},u.label=pe(ue("%s%s"))(r)(c.Directory),u.description=(l=0|c.Fsprojs.length,pe(ue("Directory with %i projects"))(l)),u)),e]}),e);if(yt(r))return Promise.resolve(void 0);{const t=r;return hr(0,dr(0,(()=>{const r={};let o;r.placeHolder="Workspace or Solution";const i=Nt((e=>e[0]),t);return o=Array.from(i),so(0,Ut.window.showQuickPick(o,r)).then((r=>{const o=r;if(null==o)return Promise.resolve(It(n,e));{const e=o,n=Le((e=>e[1]),It((t=>C(t[0],e)),t));if(null==n)return Promise.resolve(void 0);{const e=n;return so(0,(i=e,function(e){const t=function(e){return e.tag,e.fields[0]}(e);if(function(){const e=cc();let t;return t=null!=e?""===e?0:1:0,0!==t}()){let e;const n=Mo.relative(Oe(Ut.workspace.rootPath),t);return e=Mo.isAbsolute(n)||0===n.indexOf("..")?n:"./"+n,Ut.workspace.getConfiguration().update(oc,Ae(e),!1)}return Oe(ic).update(oc,Ae(t))}(1===i.tag?new rc(0,[i.fields[0].Path]):new rc(1,[i.fields[0].Directory])))).then((()=>Promise.resolve(e)))}}var i}))})))}}function pc(e,t){return hr(0,dr(0,(()=>ao(0,ha()).then((n=>{const r=n;return 1===r.tag?ao(0,Promise.reject(new Error(r.fields[0]))):Promise.resolve(ro(r.fields[0],t,e))})))))}function fc(e,t){const n=n=>pc(e,Array.from(Rt(Rr(Tr((()=>Nr(Dr("run"),Tr((()=>Nr(Dr("--project"),Tr((()=>Nr(Dr(t.Project),Tr((()=>yt(n)?xr():Dr(" -- "))))))))))))),n))),r=Wa(t);return"exe"===t.OutputType?r?n:n=>function(e,t,n){return hr(0,dr(0,(()=>Promise.resolve(ro(e,n,t)))))}(t.Output,e,Array.from(n)):r?n:void 0}function mc(){return hr(0,dr(0,(()=>C(void 0,Ut.workspace.rootPath)?Promise.resolve(mt()):ao(0,function(e,t,n){const r=e=>{let t;const n=e.Kind,o=n.Data;switch(n.Kind){case"folder":{const e=o;t=new Yn(1,[new Jn(tt(r,e.Items),e.Files)]);break}case"msbuildFormat":t=new Yn(0,[o]);break;default:t=void 0}return null==t?void 0:new Xn(e.Guid,e.Name,t)};if(null!=la()){const o=la(),i=new Dn(e,t,Ct(n));return o.sendRequest("fsharp/workspacePeek",i).then((e=>{let t;const n=xs(N(zs(pn,void 0,void 0)),e.content);if(1===n.tag)throw new Error(n.fields[0]);t=n.fields[0];const o=t.Data;return new zn(tt((e=>{let t,n;const o=e.Data;switch(e.Type){case"directory":return new Gn(0,[o]);case"solution":return new Gn(1,[(t=o.Path,n=o.Configurations,new Kn(t,tt(r,o.Items),n))]);default:return}}),o.Found))}))}return Co()}(Oe(Ut.workspace.rootPath),Ba,Dt(Ua))).then((e=>Promise.resolve(Dt(Ye(function(e,t,n){const r=t.slice();return r.sort(((t,r)=>n.Compare(e(t),e(r)))),r}((e=>0===e.tag?-1:0|nc(e.fields[0])),e.Found,{Compare:T})))))))))}function gc(e){Ra=Da,Na(!1),ka=e,Oa.fire(e);const t=1===e.tag?ze((e=>e[0]),Ke(Za,e.fields[0].Items)):e.fields[0].Fsprojs;return 0===e.tag?0!==t.length&&Na(!0):Na(!0),function(e){if(null!=la()){const t=la(),n=new aa(Ct(Nt((e=>new na(e)),e)));return t.sendRequest("fsharp/workspaceLoad",n).then((e=>{}))}return Co()}(Dt(t)).then((()=>{}))}function vc(){let e;return e=hr(0,dr(0,(()=>ao(0,mc()).then((e=>{let t;const n=e,r=(o=uc(),i=n,je((e=>sc(e)?It((t=>dc(e,t)),i):void 0),o));var o,i;if(null==r){const e=qt((e=>1===e.tag?e:void 0),n);return ao(0,yt(e)?(t=Ot((e=>0===e.tag?e:void 0),n),Promise.resolve(t)):yt(_t(e))?Promise.resolve(bt(e)):hc(n,void 0)).then((e=>Promise.resolve(e)))}{const e=r;return Promise.resolve(e)}}))))).then((e=>{if(null==e)return hr(0,dr(0,(()=>{const e=function(){const e=t=>Pt((n=>{try{const r=t+Mo.sep+n;return Xe(n,Ua,{Equals:(e,t)=>e===t,GetHashCode:f})?mt():Xr.statSync(r).isDirectory()?e(r):ye(r,".fsproj")?vt(r):mt()}catch(e){return mt()}}),Rr(Xr.readdirSync(t))),t=Ut.workspace.rootPath;return null!=t?e(t):mt()}(),t=new Vn(Oe(Ut.workspace.rootPath),Ct(e));return Promise.resolve(new Gn(0,[t]))})));{const t=e;return Promise.resolve(t)}})),e.then(gc)}let yc,wc=D(void 0),bc=D(""),_c=D(void 0);function Cc(e,t){bc(t),Oe(_c()).text=pe(ue("$(flame) %s"))(e),Oe(_c()).tooltip=t,Oe(_c()).command="showProjStatusFromIndicator",Oe(_c()).color=new Ut.ThemeColor("fsharp.statusBarWarnings"),Oe(_c()).show()}function Sc(){!function(){if(null!=wc()){const e=wc();clearTimeout(e),wc(void 0)}}(),wc(setTimeout((()=>{!function(){const e=Ga(),t=Ot((e=>2===e.tag?e.fields[0]:void 0),e);if(null==t){const t=Ot((e=>0===e.tag?e.fields[0]:void 0),e);if(null==t){const t=Ot((e=>3===e.tag?e.fields[0]:void 0),e);null==t?jr((e=>{e.hide()}),Fe(_c())):Cc("Project not restored",t)}else Cc("Project loading",t)}else Cc("Project loading failed",t)}()}),1e3))}let Tc=D("");function Ec(e){if(jr((e=>{e.hide()}),Fe(yc)),null==e);else{const t=e,n=t.document.fileName,r=Qa(n);if(null!=r){const e=r;Tc(e.Project);const t=Mo.basename(e.Project),n=pe(ue("$(circuit-board) %s"))(t);Oe(yc).text=n,Oe(yc).tooltip=e.Project,Oe(yc).command="openProjectFileFromStatusbar",Oe(yc).color=void 0,Oe(yc).show()}else{let e;switch(e=0===fo(t.document).tag?".fsx"===Mo.extname(t.document.fileName)||t.document.isUntitled?1:0:1,e){case 0:{const e=function(){let e,t;return(null!=ka?1===ka.tag?(e=ka.fields[0],ze((e=>e[0]),Ke(Za,e.Items))):(t=ka.fields[0],t.Fsprojs):new Array(0)).some((e=>{const t=Va(e);let n;if(null!=t)switch(t.tag){case 1:case 2:case 3:case 4:n=1;break;default:n=0}else n=0;return 0===n}))}()?"":" (Still loading...)",t=Mo.basename(n);Oe(yc).text="$(circuit-board) Not in a F# project"+e,Oe(yc).tooltip=`${t} is not in any project known to Ionide`,Oe(yc).command="fsharp.AddFileToProject",Oe(yc).color=new Ut.ThemeColor("fsharp.statusBarWarnings"),Oe(yc).show();break}}}}}class xc{constructor(e,t){const n=new L(null);this.comparer=t,n.contents=this,this.hashMap=new Map([]),this["init@9"]=1;const r=c(e);try{for(;r["System.Collections.IEnumerator.MoveNext"]();){const e=r["System.Collections.Generic.IEnumerator`1.get_Current"]();Pc(n.contents,e)}}finally{i(r)}}get[Symbol.toStringTag](){return"HashSet"}toJSON(){return Array.from(this)}"System.Collections.IEnumerable.GetEnumerator"(){return c(this)}GetEnumerator(){return c(Er(this.hashMap.values()))}[Symbol.iterator](){return u(c(this))}"System.Collections.Generic.ICollection`1.Add2B595"(e){Pc(this,e)}"System.Collections.Generic.ICollection`1.Clear"(){kc(this)}"System.Collections.Generic.ICollection`1.Contains2B595"(e){return Nc(this,e)}"System.Collections.Generic.ICollection`1.CopyToZ3B4C077E"(e,t){Hr(((n,r)=>{e[t+n]=r}),this)}"System.Collections.Generic.ICollection`1.get_Count"(){return 0|Rc(this)}"System.Collections.Generic.ICollection`1.get_IsReadOnly"(){return!1}"System.Collections.Generic.ICollection`1.Remove2B595"(e){return Oc(this,e)}get size(){return 0|Rc(this)}add(e){return Pc(this,e),this}clear(){kc(this)}delete(e){return Oc(this,e)}has(e){return Nc(this,e)}keys(){return Br((e=>e),this)}values(){return Br((e=>e),this)}entries(){return Br((e=>[e,e]),this)}forEach(e,t){const n=this;jr((t=>{e(t,t,n)}),n)}}function Dc(e,t){const n=0|e.comparer.GetHashCode(t);let r,o=null;return r=[_a(e.hashMap,n,new L((()=>o),(e=>{o=e}))),o],r[0]?[!0,n,r[1].findIndex((n=>e.comparer.Equals(t,n)))]:[!1,n,-1]}function kc(e){e.hashMap.clear()}function Rc(e){let t=0,n=c(e.hashMap.values());try{for(;n["System.Collections.IEnumerator.MoveNext"]();)t=t+n["System.Collections.Generic.IEnumerator`1.get_Current"]().length|0}finally{i(n)}return 0|t}function Pc(e,t){const n=Dc(e,t);return n[0]?!(n[2]>-1)&&(Ta(e.hashMap,n[1]).push(t),!0):(e.hashMap.set(n[1],[t]),!0)}function Nc(e,t){const n=Dc(e,t);let r;return r=n[0]&&n[2]>-1?0:1,0===r}function Oc(e,t){const n=Dc(e,t);let r;return r=n[0]&&n[2]>-1?0:1,0===r&&(Ta(e.hashMap,n[1]).splice(n[2],1),!0)}class Ic{constructor(e,t){const n=new L(null);this.comparer=t,n.contents=this,this.hashMap=new Map([]),this["init@9"]=1;const r=c(e);try{for(;r["System.Collections.IEnumerator.MoveNext"]();){const e=r["System.Collections.Generic.IEnumerator`1.get_Current"]();Hc(n.contents,e[0],e[1])}}finally{i(r)}}get[Symbol.toStringTag](){return"Dictionary"}toJSON(){return Array.from(this)}"System.Collections.IEnumerable.GetEnumerator"(){return c(this)}GetEnumerator(){return c(Er(this.hashMap.values()))}[Symbol.iterator](){return u(c(this))}"System.Collections.Generic.ICollection`1.Add2B595"(e){Hc(this,e[0],e[1])}"System.Collections.Generic.ICollection`1.Clear"(){Mc(this)}"System.Collections.Generic.ICollection`1.Contains2B595"(e){const t=Fc(this,e[0]);let n,r;return null!=t&&C(Oe(t)[1],e[1])?(n=0,r=Oe(t)):n=1,0===n}"System.Collections.Generic.ICollection`1.CopyToZ3B4C077E"(e,t){Hr(((n,r)=>{e[t+n]=r}),this)}"System.Collections.Generic.ICollection`1.get_Count"(){return 0|qc(this)}"System.Collections.Generic.ICollection`1.get_IsReadOnly"(){return!1}"System.Collections.Generic.ICollection`1.Remove2B595"(e){const t=Fc(this,e[0]);return null!=t&&(C(Oe(t)[1],e[1])&&Uc(this,e[0]),!0)}"System.Collections.Generic.IDictionary`2.Add5BDDA1"(e,t){Hc(this,e,t)}"System.Collections.Generic.IDictionary`2.ContainsKey2B595"(e){return $c(this,e)}"System.Collections.Generic.IDictionary`2.get_Item2B595"(e){return Lc(this,e)}"System.Collections.Generic.IDictionary`2.set_Item5BDDA1"(e,t){jc(this,e,t)}"System.Collections.Generic.IDictionary`2.get_Keys"(){const e=this;return kr(Tr((()=>Br((e=>e[0]),e))))}"System.Collections.Generic.IDictionary`2.Remove2B595"(e){return Uc(this,e)}"System.Collections.Generic.IDictionary`2.TryGetValue6DC89625"(e,t){const n=Fc(this,e);if(null!=n){const e=Oe(n);return t.contents=e[1],!0}return!1}"System.Collections.Generic.IDictionary`2.get_Values"(){const e=this;return kr(Tr((()=>Br((e=>e[1]),e))))}get size(){return 0|qc(this)}clear(){Mc(this)}delete(e){return Uc(this,e)}entries(){return Br((e=>[e[0],e[1]]),this)}get(e){return Lc(this,e)}has(e){return $c(this,e)}keys(){return Br((e=>e[0]),this)}set(e,t){return jc(this,e,t),this}values(){return Br((e=>e[1]),this)}forEach(e,t){const n=this;jr((t=>{e(t[1],t[0],n)}),n)}}function Ac(e,t){const n=0|e.comparer.GetHashCode(t);let r,o=null;return r=[_a(e.hashMap,n,new L((()=>o),(e=>{o=e}))),o],r[0]?[!0,n,r[1].findIndex((n=>e.comparer.Equals(t,n[0])))]:[!1,n,-1]}function Fc(e,t){const n=Ac(e,t);let r;if(r=n[0]&&n[2]>-1?0:1,0===r)return Ta(e.hashMap,n[1])[n[2]]}function Mc(e){e.hashMap.clear()}function qc(e){let t=0,n=c(e.hashMap.values());try{for(;n["System.Collections.IEnumerator.MoveNext"]();)t=t+n["System.Collections.Generic.IEnumerator`1.get_Current"]().length|0}finally{i(n)}return 0|t}function Lc(e,t){const n=Fc(e,t);if(null!=n)return Oe(n)[1];throw new Error("The item was not found in collection")}function jc(e,t,n){const r=Ac(e,t);r[0]?r[2]>-1?Ta(e.hashMap,r[1])[r[2]]=[t,n]:Ta(e.hashMap,r[1]).push([t,n]):e.hashMap.set(r[1],[[t,n]])}function Hc(e,t,n){const r=Ac(e,t);if(r[0]){if(r[2]>-1)throw new Error(ve("An item with the same key has already been added. Key: {0}",t));Ta(e.hashMap,r[1]).push([t,n])}else e.hashMap.set(r[1],[[t,n]])}function $c(e,t){const n=Ac(e,t);let r;return r=n[0]&&n[2]>-1?0:1,0===r}function Uc(e,t){const n=Ac(e,t);let r;return r=n[0]&&n[2]>-1?0:1,0===r&&(Ta(e.hashMap,n[1]).splice(n[2],1),!0)}function Bc(e,t,n){return Tr((()=>{const r=new xc([],n);return Ar((t=>Ca(e(t),r)),t)}))}function Wc(e,t,n){return kr(Bc(e,t,n))}function zc(e,t,n){return kr(Br((e=>[e[0],kr(e[1])]),function(e,t,n){return Tr((()=>{const r=new Ic([],n),o=[],s=c(t);try{for(;s["System.Collections.IEnumerator.MoveNext"]();){const t=s["System.Collections.Generic.IEnumerator`1.get_Current"](),n=e(t);let i,a=null;i=[_a(r,n,new L((()=>a),(e=>{a=e}))),a],i[0]?i[1].push(t):(Sa(r,n,[t]),o.push(n))}}finally{i(s)}return Br((e=>[e,Ta(r,e)]),o)}))}(e,t,n)))}function Gc(e,t){return Rr(function(e,t){return Tr((()=>{const n=new xc([],t);return Ar((e=>Ca(e,n)),e)}))}(e,t))}class Vc extends Error{constructor(){super("The operation was canceled"),Object.setPrototypeOf(this,Vc.prototype)}}class Kc{static get maxTrampolineCallCount(){return 2e3}constructor(){this.callCount=0}incrementAndCheck(){return this.callCount++>Kc.maxTrampolineCallCount}hijack(e){this.callCount=0,setTimeout(e,0)}}function Xc(e){return t=>{if(t.cancelToken.isCancelled)t.onCancel(new Vc);else if(t.trampoline.incrementAndCheck())t.trampoline.hijack((()=>{try{e(t)}catch(e){t.onError(j(e))}}));else try{e(t)}catch(e){t.onError(j(e))}}}const Yc=new class{Bind(e,t){return function(e,t){return Xc((n=>{e({onSuccess:e=>{try{t(e)(n)}catch(e){n.onError(j(e))}},onError:n.onError,onCancel:n.onCancel,cancelToken:n.cancelToken,trampoline:n.trampoline})}))}(e,t)}Combine(e,t){return this.Bind(e,(()=>t))}Delay(e){return Xc((t=>e()(t)))}For(e,t){const n=e[Symbol.iterator]();let r=n.next();return this.While((()=>!r.done),this.Delay((()=>{const e=t(r.value);return r=n.next(),e})))}Return(e){return function(e){return Xc((t=>t.onSuccess(e)))}(e)}ReturnFrom(e){return e}TryFinally(e,t){return Xc((n=>{e({onSuccess:e=>{t(),n.onSuccess(e)},onError:e=>{t(),n.onError(e)},onCancel:e=>{t(),n.onCancel(e)},cancelToken:n.cancelToken,trampoline:n.trampoline})}))}TryWith(e,t){return Xc((n=>{e({onSuccess:n.onSuccess,onCancel:n.onCancel,cancelToken:n.cancelToken,trampoline:n.trampoline,onError:e=>{try{t(e)(n)}catch(e){n.onError(j(e))}}})}))}Using(e,t){return this.TryFinally(t(e),(()=>e.Dispose()))}While(e,t){return e()?this.Bind(t,(()=>this.While(e,t))):this.Return(void 0)}Zero(){return Xc((e=>e.onSuccess(void 0)))}};function Jc(e){}function Qc(e){return eu((t=>e.then(t[0]).catch((e=>(e instanceof Vc?t[2]:t[1])(e)))))}const Zc=new class{constructor(e=!1){this._id=0,this._cancelled=e,this._listeners=new Map}get isCancelled(){return this._cancelled}cancel(){if(!this._cancelled){this._cancelled=!0;for(const[,e]of this._listeners)e()}}addListener(e){const t=this._id;return this._listeners.set(this._id++,e),t}removeListener(e){return this._listeners.delete(e)}register(e,t){const n=this,r=this.addListener(null==t?e:()=>e(t));return{Dispose(){n.removeListener(r)}}}Dispose(){}};function eu(e){return Xc((t=>e([t.onSuccess,t.onError,t.onCancel])))}function tu(e){return t=()=>Qc(function(e){let t=Promise.resolve([]);for(const n of e)t=t.then((e=>ru(n).then((t=>e.concat([t])))));return t}(e)),Xc((e=>t()(e)));var t}function nu(e,t,n,r,o){"function"!=typeof t&&(o=t,t=void 0);const i=new Kc;e({onSuccess:t||Jc,onError:n||Jc,onCancel:r||Jc,cancelToken:o||Zc,trampoline:i})}function ru(e,t){return new Promise(((n,r)=>nu(e,n,r,r,t||Zc)))}class ou{constructor(e){this.value=e}}class iu{add(e){const t=new ou(e);this.firstAndLast?(this.firstAndLast[1].next=t,this.firstAndLast=[this.firstAndLast[0],t]):this.firstAndLast=[t,t]}tryGet(){if(this.firstAndLast){const e=this.firstAndLast[0].value;return this.firstAndLast[0].next?this.firstAndLast=[this.firstAndLast[0].next,this.firstAndLast[1]]:delete this.firstAndLast,e}}}class su{constructor(e,t){this.body=e,this.cancellationToken=t||Zc,this.messages=new iu}}function au(e){if(e.continuation){const t=e.messages.tryGet();if(t){const n=e.continuation;delete e.continuation,n(t)}}}function cu(e){return eu((t=>{if(e.continuation)throw new Error("Receive can only be called once!");e.continuation=t[0],au(e)}))}function uu(e,t){e.messages.add(t),au(e)}function lu(e,t){const n=new su(e,t);var r;return function(e,t){(function(e,t){nu(e,t)})(e,t)}((r=n).body(r),r.cancellationToken),n}const du=Ut.window.createOutputChannel("Ionide: MSBuild"),hu=Xt("msbuild",new Bt(0,[]),du,new Bt(0,[]));function pu(){return ha().then((e=>1===e.tag?Promise.reject(new Error(e.fields[0])):Promise.resolve(e.fields[0])))}function fu(e,t,n){if(n.isCancellationRequested)return hr(0,dr(0,(()=>Promise.resolve(new oo(void 0,"SIGINT")))));{let r;const o=Ut.workspace.getConfiguration();r=o.get("FSharp.msbuildAutoshow",!1);const i={location:10};return Ut.window.withProgress(i,((o,i)=>hr(0,dr(0,(()=>{const i={message:`Running MSBuild '${t}' target on '${e}'`};return o.report(i),ao(0,hr(0,dr(0,(()=>ao(0,pu()).then((o=>{const i=o,s=["msbuild",e,`/t:${t}`];return Qt(hu,"invoking msbuild from %s on %s for target %s",i,e,t),(r?(du.show(),Promise.resolve()):Promise.resolve()).then((()=>dr(0,(()=>{const e=ro(i,s,du);return n.onCancellationRequested((t=>{e.connected&&e.kill("SIGINT")})),ao(0,(t=e,new Promise(((e,n)=>{!function(t,n){n.on("exit",((t,n)=>{e(new oo(t,n))}))}(0,t)}))));var t}))))})))))).then((e=>{const t=e,n=t.Code;if(null==n)return o.report({message:"MSBuild failed with an unknown error"}),Promise.resolve(t);if(0===n)return o.report({message:"MSBuild completed successfully"}),Promise.resolve(t);{const e=0|n;return o.report({message:pe(le("MSBuild failed with code %d%P()",[e]))}),Promise.resolve(t)}}))})))))}}function mu(e,t){return fu(e,t,(new Ut.CancellationTokenSource).token)}const gu={type:"msbuild"};function vu(e){return hr(0,dr(0,(()=>{let t;switch(Jt(hu,"discovering project for current file"),fo(Oe(Ut.window.activeTextEditor).document).tag){case 0:case 1:case 2:t=0;break;default:t=1}if(0===t){const t=Lr(Ar((e=>{let t;return Fr((t=Oe(Ut.window.activeTextEditor).document.fileName,e=>ho(t,e)),e.Files)}),Ja()));if(null==t)return Jt(hu,"could not find a project that contained the file %s",Oe(Ut.window.activeTextEditor).document.fileName),Promise.resolve(void 0);{const n=t;Jt(hu,"found project %s",n.Project);const r=Mo.basename(n.Project);return so(0,Ut.tasks.fetchTasks(gu)).then((t=>{const n="Build"===e?Ut.TaskGroup.Build:"Rebuild"===e?Ut.TaskGroup.Rebuild:"Clean"===e?Ut.TaskGroup.Clean:void 0;return(C(n,void 0)?Promise.resolve(void 0):Promise.resolve()).then((()=>dr(0,(()=>{const o=Mr((e=>e.name===r&&C(e.group,n)),t);if(null!=o){const e=o;return so(0,Ut.tasks.executeTask(e)).then((e=>Promise.resolve(void 0)))}return Jt(hu,"no task found for target %s for project %s",e,r),Promise.resolve()}))))}))}}return Jt(hu,"I don't know how to handle a project of type %s",Oe(Ut.window.activeTextEditor).document.languageId),Promise.resolve(void 0)})))}function yu(e){let t;Jt(hu,"pick project");const n=Ja();return t=Array.from(n),0===t.length?Promise.resolve(void 0):hr(0,dr(0,(()=>{let n;const r=Br((e=>Mo.basename(e.Project)),t);n=Array.from(r);const o={};return o.placeHolder=e,so(0,Ut.window.showQuickPick(n,o)).then((e=>{const n=e;if(Jt(hu,"user chose project %s",n),null!=n){const e=n;return Promise.resolve(Mr((t=>Mo.basename(t.Project)===e),t))}return Promise.resolve(void 0)}))})))}function wu(e){return hr(0,dr(0,(()=>(Jt(hu,"building project"),ao(0,yu("Select a project to build")).then((t=>{const n=t;return so(0,Ut.tasks.fetchTasks(gu)).then((t=>{let r;return ao(0,null!=n?(r=n,hr(0,dr(0,(()=>{const n=Mo.basename(r.Project),o="Build"===e?Ut.TaskGroup.Build:"Rebuild"===e?Ut.TaskGroup.Rebuild:"Clean"===e?Ut.TaskGroup.Clean:void 0;return(C(o,void 0)?Promise.resolve(void 0):Promise.resolve()).then((()=>dr(0,(()=>{const r=Mr((e=>e.name===n&&C(e.group,o)),t);if(null!=r){const e=r;return so(0,Ut.tasks.executeTask(e)).then((e=>Promise.resolve(void 0)))}return Jt(hu,"no task found for target %s for project %s",e,n),Promise.resolve()}))))})))):Promise.resolve(void 0))}))}))))))}function bu(e,t){return mu(t.Project,e)}const _u=(()=>{const e={location:10};return lu((t=>{const n=()=>Yc.Delay((()=>Yc.Bind(cu(t),(t=>{const r=t[0];return Yc.Bind(Qc(Ut.window.withProgress(e,((e,n)=>{let o;const i={message:"Restoring "+r};return e.report(i),o=mu(r,"Restore"),o.then(t[1])}))),(()=>Yc.ReturnFrom(n())))}))));return n()}))})();function Cu(e){uu(_u,[e,t=>C(t.Code,0)?function(e,t){if(Ka(t,new xa(0,[t])),ye(t,".fsproj")){let n;return n=function(e){if(null!=la()){const t=la(),n=new sa(new na(e));return t.sendRequest("fsharp/project",n).then((e=>{let t;const n=xs(N(zs(pn,void 0,void 0)),e.content);if(1===n.tag)throw new Error(n.fields[0]);return t=n.fields[0],"error"===t.Kind?new pr(1,[ma(t.Data)]):new pr(0,[t])}))}return Co()}(t).then((n=>{if(1!==n.tag){const e=n.fields[0];return wo(e)?(Ma.fire(e.Data),[e.Data.Project,new xa(1,[e.Data])]):void 0}{const r=n.fields[0],o=r[0],i=r[1];let s,a;switch(1===i.tag?e?s=!e&&za(t)?1:2:(s=0,a=i.fields[0]):s=!e&&za(t)?1:2,s){case 0:return Aa.fire(t),[t,new xa(3,[t,o])];case 1:return Aa.fire(t),[t,new xa(2,[t,o])];default:return[t,new xa(2,[t,o])]}}})),n.then((e=>{null==e||(Ka(e[0],e[1]),jr((e=>{Oa.fire(e)}),Fe(ka)),Na(!0))}))}return Co()}(!0,e):(Zt(hu,"Restore of %s failed with code %i, signal %s",e,t.Code,t.Signal),Promise.resolve(void 0))])}function Su(e,t){return hr(0,dr(0,(()=>{const n=Mo.basename(t);return so(0,Ut.tasks.fetchTasks(gu)).then((t=>{const r="Build"===e?Ut.TaskGroup.Build:"Rebuild"===e?Ut.TaskGroup.Rebuild:"Clean"===e?Ut.TaskGroup.Clean:void 0;return(C(r,void 0)?Promise.resolve(void 0):Promise.resolve()).then((()=>dr(0,(()=>{const o=Mr((e=>"solution"===e.name&&C(e.group,r)),t);if(null!=o){const e=o;return so(0,Ut.tasks.executeTask(e)).then((e=>Promise.resolve(void 0)))}return Jt(hu,"no task found for target %s for solution %s",e,n),Promise.resolve()}))))}))})))}function Tu(e){const t=ec();null==t?Ut.window.showWarningMessage("Solution not loaded"):1===t.tag?Su(e,t.fields[0].Path):Ut.window.showWarningMessage("Solution not loaded - plugin in directory mode")}function Eu(e,t,n,r,o){let i;const s=Br((e=>e),gt(t,n));i=Array.from(s);const a={};a.cwd=r;const c={};return Si(((e,t)=>{c.k=t}),o.tree),new Ut.ShellExecution(e,i,a)}const xu={type:"msbuild"},Du=Dt([["build",mt(),Ut.TaskGroup.Build,"Build"],["clean",mt(),Ut.TaskGroup.Clean,"Clean"],["msbuild",vt("/t:Rebuild"),Ut.TaskGroup.Rebuild,"Rebuild"]]);function ku(e){return hr(0,dr(0,(()=>{const t=Mo.basename(e.Project),n=Mo.dirname(e.Project);return ao(0,pu()).then((e=>Promise.resolve(Tr((()=>Wr((r=>{let o;const i=r[3],s=r[0],a=r[1],c=Eu(e,s,a,n,Li({Compare:x})),u=_e(" ",xt(["dotnet",s],a));return Dr((o=new Ut.Task(xu,2,`${t}`,i,c,"$msCompile"),o.group=r[2],o.detail=`${i} the ${t} project using ${u}`,o))}),Du))))))})))}function Ru(e){return hr(0,dr(0,(()=>{if(1===e.tag){const t=e.fields[0].Path;return ao(0,pu()).then((e=>{const n=Mo.dirname(t),r=Mo.basename(t);return Promise.resolve(Tr((()=>Wr((t=>{let o;const i=t[3],s=t[0],a=t[1],c=Eu(e,s,gt(r,a),n,Li({Compare:x})),u=_e(" ",xt(["dotnet",s],a));return Dr((o=new Ut.Task(xu,2,"solution",i,c,"$msCompile"),o.group=t[2],o.detail=`${i} the ${r} solution using ${u}`,o))}),Du))))}))}return Promise.resolve(xr())})))}const Pu={provideTasks(e){let t,n;Qt(hu,"providing tasks");const r=Br(ku,Ja());return n=Nr(Dt(Fe(Le(Ru,ec()))),r),o=Array.from(n),t=hr(0,dr(0,(()=>ao(0,Promise.all(Array.from(o))).then((e=>Promise.resolve(Array.from(e))))))),t.then((e=>{let t;return null!=e?(t=Er(e),Array.from(t)):void 0}));var o},resolveTask:(e,t)=>(Qt(hu,"resolving task %s",e.name),e)};class Nu extends q{constructor(e,t,n){super(),this.version=e,this.decorations=t,this.textEditors=n}}class Ou extends q{constructor(e,t){super(),this.uri=e,this.cache=t}}function Iu(e,t,n){const r={};r.color=new Ut.ThemeColor(e),r.contentText=n;const o={};o.after=r;const i={};return i.range=t,i.renderOptions=o,i}const Au={isWholeLine:!0};class Fu extends q{constructor(e,t){super(),this.enabled=e,this.prefix=t}}class Mu extends q{constructor(e,t,n){super(),this.documents=e,this.decorationType=t,this.disposables=n}}function qu(e,t,n,r,o,i,s,a){return hr(0,dr(0,(()=>{const c=i.uri,u=je((e=>{const t=e.cache;let n,r;if(null!=t&&t.version===s?(n=0,r=t):n=1,0===n)return[e,r]}),a.documents.has(c)?a.documents.get(c):null);if(null==u)return i.version===s?(Jt(r,"getting new decorations for '%s' @%d",c,s),ao(0,e(c)).then((e=>{if(null!=e){const u=Oe(e);return i.version===s?ao(0,t(i,u,c)).then((e=>{let t;const u=c,l=a.documents,d=l.has(u)?l.get(u):null;if(null==d){const e=new Ou(u,void 0);Sa(l,u,e),t=e}else t=d;if(i.version===s&&null==t.cache||Oe(t.cache).version!==s){let u;const l=Br((h=n,P.get(h)??(e=>t=>n=>h(e,t,n)))(o)(i),e);return u=Array.from(l),Jt(r,"New decorations generated for '%s' @%d",c,s),Promise.resolve(function(e,t,n,r){const o=new Ou(e.uri,new Nu(n,t,[]));return r.set(e.uri,o),o}(t,u,s,a.documents))}return Promise.resolve(void 0);var h})):Promise.resolve(void 0)}return Promise.resolve(void 0)}))):Promise.resolve(void 0);{const e=u[0];return Jt(r,"Found existing decorations in cache for '%s' @%d",c,s),Promise.resolve(e)}})))}class Lu{constructor(e,t,n,r){this.decorationUpdate=t,this.getConfig=n,this.logger=Xt(`LineLensRenderer-${e}`,new Bt(0,[]),void 0,new Bt(0,[])),this["decorationType@186"]=Me(r,Au),this.config=new Fu(!0," // "),this.state=void 0}}function ju(e,t,n,r){return new Lu(e,t,n,r)}function Hu(e,t){const n=e.state;if(null==n);else{const e=n,r=Mr((e=>e[0].path===t.path),e.documents);if(null==r);else{const t=r[0];Wu(0,t,e),jr((t=>{t.setDecorations(e.decorationType,[])}),Fe(Mr((e=>C(e.document.uri,t)),Ut.window.visibleTextEditors)))}}}function $u(e,t){Qt(e.logger,"Activating");const n=()=>{!function(e,t){Jt(e.logger,"Config Changed event");const n=e.config.enabled&&!C(e.state,void 0);e.config=e.getConfig();const r=e.config.enabled;n!==r&&(r?function(e,t){Jt(e.logger,"Installing");const n=Ut.window.createTextEditorDecorationType(t),r=[];r.push(Ut.window.onDidChangeVisibleTextEditors((t=>{!function(e,t){let n,r;const o=e.state;if(null==o);else{const s=o;let a=c(t);try{for(;a["System.Collections.IEnumerator.MoveNext"]();){const t=a["System.Collections.Generic.IEnumerator`1.get_Current"]();n=t.document,r=fo(n),0!==r.tag&&3!==r.tag||"file"!==n.uri.scheme||Bu(e,t,s)}}finally{i(a)}}}(e,t)}))),r.push(Xs((t=>{!function(e,t){const n=e.state;if(null!=n){const r=n;!function(e,t,n){n.catch((t=>{Zt(e,"Updating after parse failed: %O",t)}))}(e.logger,0,hr(0,dr(0,(()=>ao(0,e.decorationUpdate(e.logger,e.config,t.document,t.version,r)).then((n=>{if(null!=n){const o=n;return jr((t=>{Uu(e,t,o,r)}),Ar((e=>C(e.document,t.document)),Ut.window.visibleTextEditors)),Promise.resolve()}return Promise.resolve()}))))))}}(e,t)}))),r.push(Ut.workspace.onDidCloseTextDocument((t=>{!function(e,t){let n;const r=e.state;jr((n=t.uri,e=>{Wu(0,n,e)}),Fe(r))}(e,t)})));const o=new Mu(new Ic([],{Equals:C,GetHashCode:y}),n,r);e.state=o,Jt(e.logger,"Installed")}(e,t):function(e){Jt(e.logger,"Uninstalling");const t=e.state;if(null!=t){const e=t;let n=c(e.disposables);try{for(;n["System.Collections.IEnumerator.MoveNext"]();)n["System.Collections.Generic.IEnumerator`1.get_Current"]().dispose()}finally{i(n)}e.decorationType.dispose()}e.state=void 0,Jt(e.logger,"Uninstalled")}(e))}(e,e["decorationType@186"])};Ut.workspace.onDidChangeConfiguration(n,void 0,t.subscriptions),n()}function Uu(e,t,n,r){const o=n.cache;let i,s;null!=o?Xe(t,o.textEditors,{Equals:C,GetHashCode:y})?i=1:(i=0,s=o):i=1,0===i&&(s.textEditors.push(t),Jt(e.logger,"Setting decorations for '%s' @%d",n.uri,s.version),t.setDecorations(r.decorationType,s.decorations))}function Bu(e,t,n){const r=t.document.uri,o=t.document.version,i=je((e=>{const t=e.cache;let n,r;if(null!=t&&t.version===o?(n=0,r=t):n=1,0===n)return[e,r]}),n.documents.has(r)?n.documents.get(r):null);null!=i&&Uu(e,t,i[0],n)}function Wu(e,t,n){n.documents.delete(t)}const zu=Xt("LineLens",new Bt(0,[]),void 0,new Bt(0,[])),Gu=new Fu(!0," //  ");function Vu(e){const t=e=>{const t=("->",null===(n=e)?void 0:n.indexOf("->")>=0?n:void 0);var n;if(null!=t){const e=t;return pe(ue("(%s)"))(e)}return e},n=_e(" -> ",Nt((e=>_e(" * ",Nt((e=>t(e.Type)),e))),e.Parameters));return we(n)?e.OutputType:n+" -> "+t(e.OutputType)}function Ku(e,t,n){return hr(0,dr(0,(()=>{let e;return ao(0,(e=ru(tu(ze((e=>function(e,t){return Yc.Delay((()=>Yc.TryWith(Yc.Delay((()=>Yc.Bind(Qc(function(e,t,n){if(null!=la()){const r=la(),o=new oa(new na(ua(e)),new ta(t,n));return r.sendRequest("fsharp/signatureData",o).then((e=>{let t;const n=e;return null==n?void 0:(t=xs(N(zs(rr(cn("Ionide.VSCode.FSharp.DTO.SignatureData",[],Wn,(()=>[["OutputType",mn],["Parameters",dn(dn(cn("Ionide.VSCode.FSharp.DTO.Parameter",[],Bn,(()=>[["Name",mn],["Type",mn]]))))],["Generics",dn(mn)]]))),void 0,void 0)),n.content),1===t.tag?(()=>{throw new Error(t.fields[0])})():t.fields[0])}))}return Co()}(e,t.StartLine,t.StartColumn-1)),(e=>Yc.Return(Le((e=>[co(t),Vu(e.Data)]),e)))))),(e=>(Zt(zu,"Error getting signature %o",e),Yc.Return(void 0))))))}(n,e)),tt((e=>{const t=e[1];return 1===t.length?t[0]:void 0}),zc((e=>e.StartLine),(r=t.Data,Ke((e=>{const t=tt((e=>"Fc"!==e.GlyphChar&&"M"!==e.GlyphChar&&"F"!==e.GlyphChar&&"P"!==e.GlyphChar||e.IsAbstract||"I"===e.EnclosingEntity||"R"===e.EnclosingEntity||"D"===e.EnclosingEntity||"En"===e.EnclosingEntity||"E"===e.EnclosingEntity?void 0:e.BodyRange),e.Nested);return"Fc"!==e.Declaration.GlyphChar?t:function(e,t,n){const r=0|e.length,o=0|t.length,i=He(void 0,r+o);for(let t=0;t<=r-1;t++)i[t]=e[t];for(let e=0;e<=o-1;e++)i[e+r]=t[e];return i}([e.Declaration.BodyRange],t)}),r)),{Equals:(e,t)=>e===t,GetHashCode:m}))))),e.then((e=>tt((e=>e),e))))).then((e=>Promise.resolve(e)));var r})))}const Xu=ju("LineLens",A((e=>t=>n=>r=>o=>qu(fa,Ku,((e,t,n)=>function(e,t,n,r){return Iu("fsharp.linelens",function(e,t){return e.lineAt(t.start.line).range}(t,n),e.prefix+r)}(e,t,n[0],n[1])),e,t,n,r,o))),(function(){const e=Ut.workspace.getConfiguration();return e.get("[fsharp]",{}).hasOwnProperty("editor.codeLens")&&e.get("[fsharp]",{})["editor.codeLens"],new Fu("never"!==e.get("FSharp.lineLens.enabled","replacecodelens").toLowerCase(),e.get("FSharp.lineLens.prefix",Gu.prefix))})),Yu=(Xt("PipelineHints",new Bt(0,[]),void 0,new Bt(0,[])),new Fu(!1," //  "));const Ju=new RegExp("'.+?\\s.+?\\s([\\s\\S]+)");function Qu(e,t,n){return[t,"  "+(ne(Ju,n[e])[1]||"")]}function Zu(e,t,n){return hr(0,dr(0,(()=>{const n=Ke((e=>{return t=e[0],n=e[1],null==(r=e[2])?[Qu(1,t,n)]:[Qu(0,r,n),Qu(1,t,n)];var t,n,r}),function(e,t){return ze((t=>{const n=e.lineAt(t.Line),r=Le((t=>e.lineAt(t).range),t.PrecedingNonPipeExprLine);return[n.range,t.Types,r]}),t)}(e,t.Data));return Promise.resolve(n)})))}const el=ju("PipelineHints",A((e=>t=>n=>r=>o=>qu(va,Zu,((e,t,n)=>function(e,t,n,r){return Iu("fsharp.pipelineHints",n,e.prefix+r)}(e,0,n[0],n[1])),e,t,n,r,o))),(function(){const e=Ut.workspace.getConfiguration();return new Fu(e.get("FSharp.pipelineHints.enabled",Yu.enabled)&&!e.get("FSharp.inlineValues.enabled",!1),e.get("FSharp.pipelineHints.prefix",Yu.prefix))}));function tl(e,t){return function(e,t){if(null!=la()){const n=la(),r=new cr(e,t);return n.sendRequest("fsproj/addFile",r).then((e=>{}))}return Co()}(e,t)}function nl(e){const t=Ut.commands.registerTextEditorCommand("fsharp.AddFileToProject",I((e=>e=>{const t=e=>hr(0,dr(0,(()=>{let e;const t=Xa();if(e=Array.from(t),0!==e.length){const t={placeHolder:"Choose a project"};return so(0,Ut.window.showQuickPick(e,t)).then((e=>{let t,n,r,o;const i=e;return ao(0,null==i?Co():(t=i,n=Ut.window.activeTextEditor,null==n?Co():(r=n,tl(t,(o=Mo.dirname(t),Mo.relative(o,r.document.fileName))))))}))}return so(0,Ut.window.showWarningMessage("Can't find any project, run `dotnet new console -lang F#`")).then((e=>Promise.resolve(void 0)))})));return e=>{t(e)}})));e.subscriptions.push(t)}const rl=require("querystring");class ol extends q{constructor(e,t,n,r,o,i,s,a,c){super(),this.name=e,this.type=t,this.request=n,this.preLaunchTask=r,this.program=o,this.args=i,this.cwd=s,this.console=a,this.stopAtEntry=c}}function il(){return new ol(".NET Core Launch (console)","coreclr","launch","build","${workspaceRoot}/bin/Debug/{targetFramework}/{projectName}.dll",[],"${workspaceRoot}","externalTerminal",!1)}const sl=Ut.window.createOutputChannel("Ionide: Debugger"),al=Xt("Debugger",new Bt(0,[]),sl,new Bt(0,[]));function cl(e){return hr(0,dr(0,(()=>ao(0,bu("Build",e)).then((t=>{const n=function(e){const t=t=>{return n=Array.from(Rt(Rr(Tr((()=>Nr(Dr("run"),Tr((()=>Nr(Dr("--project"),Tr((()=>Nr(Dr(e.Project),Tr((()=>yt(t)?xr():Dr(" -- "))))))))))))),t)),hr(0,dr(0,(()=>ao(0,ha()).then((e=>{const t=e;return 1===t.tag?ao(0,Promise.reject(new Error(t.fields[0]))):Promise.resolve(no(t.fields[0],n))})))));var n},n=Wa(e);return"exe"===e.OutputType?n?t:t=>{return n=e.Output,r=Array.from(t),hr(0,dr(0,(()=>Promise.resolve(no(n,r)))));var n,r}:n?t:void 0}(e);return null!=n?ao(0,n(mt())).then((e=>(e.show(),Promise.resolve()))):(Ut.window.showWarningMessage("Can't start project"),Promise.resolve())})))))}function ul(e,t){const n=Te(Mo.relative(Oe(Ut.workspace.rootPath),e.Output),"\\","/"),r=Te(pe(ue("${workspaceRoot}/%s"))(n),"/obj/","/bin/");t.cwd=Mo.dirname(e.Output),t.program=r}function ll(e,t){return hr(0,dr(0,(()=>{const n=il();{const r="coreclr";ul(e,n),n.type=r,n.preLaunchTask=void 0,n.args=t;const o=Oe(Ut.workspace.workspaceFolders)[0];return so(0,Ut.debug.startDebugging(o,n)).then((e=>Promise.resolve(void 0)))}})))}function dl(e){return hr(0,dr(0,(()=>{const t=il();{const n="coreclr";ul(e,t),t.type=n,t.preLaunchTask=void 0;const r=Oe(Ut.workspace.workspaceFolders)[0];return ao(0,bu("Build",e)).then((e=>{const n=e.Code;let o,i;return null!=n&&0!==n?(o=0,i=n):o=1,0===o?ao(0,Promise.reject(new Error(`msbuild 'Build' failed with exit code ${i}`))):so(0,Ut.debug.startDebugging(r,t)).then((e=>Promise.resolve(void 0)))}))}})))}let hl=D(void 0),pl=D(void 0);function fl(e){hl(e),jr((t=>{t.workspaceState.update("defaultProject",Ae(e))}),Fe(pl()))}function ml(){return hr(0,dr(0,(()=>{const e=Ja();if(yt(e))return Promise.resolve(void 0);if(yt(_t(e)))return Promise.resolve(bt(e));{let t;const n=Nt((e=>({data:e,label:e.Project})),e);return t=Array.from(n),so(0,Ut.window.showQuickPick(t)).then((e=>{if(null!=e){const t=e.data;return fl(t),Promise.resolve(t)}return Promise.resolve(void 0)}))}})))}const gl=(()=>{let e;return e={type:"msbuild"},{provideDebugConfigurations:(t,n)=>hr(0,dr(0,(()=>{Qt(al,"Evaluating launch settings configurations for %O",t);const n=Ja();return so(0,Ut.tasks.fetchTasks(e)).then((e=>{const t=Pt((t=>Rr(Tr((()=>{let n;const r=Mo.basename(t.Project),o=Mr((e=>!!C(e.group,Ut.TaskGroup.Build)&&e.name===r),e);return Nr((n=function(e){const t=Mo.join(Mo.dirname(e.Project),"Properties","launchSettings.json");if(Xr.existsSync(t)){Qt(al,`Reading launch settings from ${t}`);const e=Xr.readFileSync(t),n=JSON.parse(F(e));return null!=n&&null!=n.profiles&&0!==Object.keys(Oe(n.profiles)).length?(Qt(al,`found ${Object.keys(Oe(n.profiles)).length} profiles.`),Oe(n.profiles)):void Qt(al,`No profiles found in ${t}`)}Qt(al,`No launch settings exist for project ${e.Project}`)}(t),null==n?xr():(i=t,s=n,a=o,Tr((()=>Wr((e=>{Qt(al,`Making config for ${e}`);const t=s[e];if(null!=t){const n=function(e,t,n,r){if(C(t.commandName,"Project")&&!C(t.commandName,void 0)&&"exe"===n.OutputType){const o=Mo.basename(n.Project),i=lo([" "],Me(t.commandLineArgs,"")),s={};if(s.name=`${o}: ${e}`,s.type="coreclr",s.request="launch",s.program=n.Output,s.args=i,null==r);else{const e=r;s.preLaunchTask=`Build: ${e.name}`}s.cwd=Me(t.workingDirectory,"${workspaceFolder}");const a=t.launchBrowser;let c;if(c=null!=a&&a?0:1,0===c&&(s.serverReadyAction={action:"openExternally",pattern:"\\bNow listening on:\\s+(https?://\\S+)"}),null!=t.environmentVariables){const e=tt((e=>{const n=t.environmentVariables[e];return null!=n?[e,n.replace(/%([^%]+)%/g,((e,t)=>process.env[t]))]:void 0}),Object.keys(t.environmentVariables));s.env=k(e),null==t.environmentVariables.ASPNETCORE_URLS&&null!=t.applicationUrl&&(s.env.ASPNETCORE_URLS=Oe(t.applicationUrl))}s.console="internalConsole",s.stopAtEntry=!1;const u={group:"ionide",hidden:!1};return s.presentation=u,s}}(e,t,i,a);return null==n?xr():Dr(n)}return xr()}),Object.keys(s)))))),Tr((()=>{const e=function(e,t){if("exe"===e.OutputType){const n={};if(n.name=`${Mo.basename(e.Project)}`,n.type="coreclr",n.request="launch",n.program=e.Output,n.cwd="${workspaceFolder}",n.console="internalConsole",n.stopAtEntry=!1,null==t);else{const e=t;n.preLaunchTask=`Build: ${e.name}`}const r={group:"ionide",hidden:!1};return n.presentation=r,n}}(t,o);return null==e?xr():Dr(e)})));var i,s,a})))),n);return Promise.resolve(Array.from(t))}))}))),resolveDebugConfiguration:(e,t,n)=>(Qt(al,"Resolving launch settings configuration %O for %O",t,e),t),resolveDebugConfigurationWithSubstitutedVariables:(e,t,n)=>(Qt(al,"Resolving subsituted launch settings configuration %O for %O",t,e),t)}})();function vl(e,t,n){const r=Me(n,new Array(0));let o;if(rt(_,r,null)||0!==r.length){const e=ze((e=>({columnDataKey:e[1],title:e[0]})),r);o=`grid.columnDefinitions = ${JSON.stringify(e)}`}else o="";return[`<vscode-data-grid id='${e}'></vscode-data-grid>`,`\n                let grid = document.querySelector('#${e}');\n                if(grid) {\n                    const data = ${JSON.stringify(t)}\n                    grid.rowsData = data;\n                    ${o}\n                };\n            `]}const yl="FSharp.suggestSdkScripts",wl="FSharp.useSdkScripts";const bl=Xt("FsiWatcher",new Bt(0,[]),void 0,new Bt(0,[]));let _l=D(void 0);const Cl=new Ut.EventEmitter;let Sl=D(mt());function Tl(e,t,n,r){const o=Me(t,["",""]),s=Me(n,["",""]),a=Me(r,["",""]);null==_l()||function(e,t,n,r,o){const s=Me(r,xr()),a=Me(o,xr());let u;const l=Ut.Uri.joinPath(e.extensionUri,"toolkit.min.js");u=t.webview.asWebviewUri(l),t.webview.html=`\n                    <!DOCTYPE html>\n                    <html>\n                    <head>\n                        ${function(e){let t="";const n=c(e);try{for(;n["System.Collections.IEnumerator.MoveNext"]();)t+=`${n["System.Collections.Generic.IEnumerator`1.get_Current"]()}\n`}finally{i(n)}return`<style>${t}</style>`}(s)}\n                    </head>\n                    <body>\n                        ${n}\n                        <script type="module" src="${u}"><\/script>\n                        ${function(e){let t="";const n=c(e);try{for(;n["System.Collections.IEnumerator.MoveNext"]();){const e=n["System.Collections.Generic.IEnumerator`1.get_Current"]();be(e)||(t+=`(() => { ${e} })();\n`)}}finally{i(n)}return`<script>\n            window.addEventListener('DOMContentLoaded', (event) => { ${t} });\n            <\/script>`}(a)}\n                    </body>\n                    </html>`}(e,_l(),`${o[0]}${s[0]}${a[0]}`,void 0,[o[1],s[1],a[1]])}const El=Mo.join(Ao(),"watcher","vars.txt"),xl=Mo.join(Ao(),"watcher","types.txt"),Dl=Mo.join(Ao(),"watcher","funcs.txt");function kl(e){let t,n,r;Xr.readFile(El,((o,i)=>{if(void 0!==i){const o=F(i);if(be(o))t=void 0,Sl(mt());else{const i=ze((e=>{const t=xe(e,["###IONIDESEP###"],void 0,0),n=t[0],r=t[1];return{Type:t[2],name:n,step:t[3],value:r}}),lo(["\n"],o));Sl(Dt(ze((e=>[e.name,e.value]),i)));const s=vl("vars-content",i,[["Name","name"],["Value","value"],["Type","Type"],["Step","step"]]);t=[`<h3>Declared values</h3>${s[0]}`,s[1]],Tl(e,t,n,r)}}else t=void 0,Sl(mt());Cl.fire(void 0)})),Xr.readFile(Dl,((o,i)=>{if(void 0!==i){const o=F(i);if(be(o))r=void 0;else{const i=vl("funcs-content",ze((e=>{const t=xe(e,["###IONIDESEP###"],void 0,0);return{name:t[0],parameters:t[1],returnType:t[2],step:t[3]}}),lo(["\n"],o)),[["Name","name"],["Parameters","parameters"],["Return Type","returnType"]]);r=[`<h3>Declared functions</h3>${i[0]}`,i[1]],Tl(e,t,n,r)}}})),Xr.readFile(xl,((o,i)=>{if(void 0!==i){const o=F(i);if(be(o))n=void 0;else{const i=vl("types-content",ze((e=>{const t=xe(e,["###IONIDESEP###"],void 0,0);let n;const r=t[1];return n=r.indexOf("#|#")>=0?"| "+Te(r,"#|#","</br>| "):r,{Name:t[0],Signature:n,Step:t[2]}}),lo(["\n"],o)));n=[`<h3>Declared types</h3>${i[0]}`,i[1]],Tl(e,t,n,r)}}}))}const Rl=new class{get onDidChangeInlayHints(){return Cl.event}set onDidChangeInlayHints(e){}provideInlayHints(e,t,n){return hr(0,dr(0,(()=>ao(0,Ut.commands.executeCommand("vscode.executeDocumentSymbolProvider",Ae(e.uri))).then((t=>{const n=e=>Wr((e=>e),Br((e=>e.children.length>0?n(e.children):vt(e)),e));let r;const o=Br((t=>{const n=e.lineAt(t[0].range.start.line),r=new Ut.InlayHint(n.range.end," = "+t[1],2);return r.paddingLeft=!0,r}),Or((e=>{const t=It((t=>t[0]===e.name),Sl());return null==t?void 0:[e,t[1]]}),n(t)));return r=Array.from(o),Jt(bl,"Hints",r),Promise.resolve(r)})))))}resolveInlayHint(e,t){return e}};let Pl=D(void 0),Nl=D(void 0),Ol=D(void 0),Il=D(void 0),Al=D(void 0),Fl=D(void 0);function Ml(e,t){let n;if(null==t){const e=Oe(Ut.workspace.rootPath);n=[Mo.join(e,"tmp.fsx"),e,1]}else{const e=t,r=e.document.fileName;n=[r,Mo.dirname(r),1+~~e.selection.start.line]}const r=0|n[2],o=n[0],i=n[1];let s,a;switch(null!=Il()&&Il()===i?(s=0,a=Il()):s=1,s){case 1:{const t=pe(ue('# silentCd @"%s";;\n'))(i);e.sendText(t,!1),Il(i);break}}const c=Al(),u=Fl();let l,d,h;switch(null!=c&&null!=u&&c===o&&u===r?(l=0,d=c,h=u):l=1,l){case 0:break;case 1:{const t=pe(ue('# %d @"%s"\n'))(r)(o);e.sendText(t,!1),Al(o),Fl(r);break}}}function ql(){const e=go(!1,"FSharp.addFsiWatcher");let t;const n=Dt(go(new Array(0),"FSharp.fsiExtraParameters")),r=e?Rt(vt("--load:"+Mo.join(Ao(),"watcher","watcher.fsx")),n):n;return t=Ct(Lo?Rt(Dt(["--fsi-server-input-codepage:28591","--fsi-server-output-codepage:65001"]),r):r),hr(0,dr(0,(()=>ao(0,ha()).then((e=>{const n=e;return 1===n.tag?Promise.resolve((()=>{throw new Error(n.fields[0])})()):ao(0,hr(0,dr(0,(()=>Promise.resolve(mo("FSharp.fsiSdkFilePath")))))).then((e=>{const r=Me(e,"fsi");return Promise.resolve([n.fields[0],kr(Tr((()=>Nr(Dr(r),Tr((()=>t))))))])}))})))))}const Ll="F# Interactive (.Net Core)",jl={provideTerminalProfile:e=>hr(0,dr(0,(()=>ao(0,ql()).then((e=>{const t=Array.from(e[1]),n={};n.name=Ll,n.shellArgs=t,n.shellPath=e[0];const r={};return r.options=n,Promise.resolve(r)})))))};function Hl(){return So((e=>{Ut.window.showErrorMessage("Failed to spawn FSI, please ensure it's in PATH")}),hr(0,dr(0,(()=>{let e;const t=(new Ut.CancellationTokenSource).token;return ao(0,(e=jl.provideTerminalProfile(t),null!=e?function(e,t){const n=t;if("function"==typeof(n||{}).then)return n;{const e=n;return Promise.resolve(e)}}(0,e):Promise.resolve(void 0))).then((e=>{const t=e;let n;if(null==t)throw Ut.window.showErrorMessage("Unable to spawn FSI"),new Error("unable to spawn FSI");n=t;const r=Ut.window.createTerminal(n.options);return ao(0,new Promise(((e,t)=>{Ut.window.onDidOpenTerminal((t=>{t.name!==Ll&&"F# Interactive"!==t.name||(null==Pl()||Pl().dispose(),e(t))}))}))).then((e=>{const t=e;return t.show(!0),ao(0,t.processId).then((e=>(Nl(Le((e=>~~e),e)),Il(void 0),Al(void 0),Pl(r),Ml(t,Ut.window.activeTextEditor),Promise.resolve(t))))}))}))}))))}function $l(){return hr(0,dr(0,(()=>{let e;return ao(0,null!=Pl()?(e=Pl(),Promise.resolve(e)):Hl()).then((e=>{const t=e;return t.show(!0),Promise.resolve(t)}))})))}function Ul(e,t){const n=t+(t.indexOf("//")>=0?"\n":"")+";;\n",r=0|Ur(Ar((e=>"\n"===e),n.split("")));return To(So((e=>{Ut.window.showErrorMessage("Failed to send text to FSI")}),hr(0,dr(0,(()=>(e.sendText(n,!1),Ol(t),Fl(null!=Fl()?Fl()+r:r+1),Promise.resolve())))))).then((e=>{}))}function Bl(){const e=Oe(Ut.window.activeTextEditor);return hr(0,dr(0,(()=>ao(0,$l()).then((t=>{const n=t,r=e.selection.start,o=e.document.lineAt(r);return Ml(n,e),ao(0,Ul(n,o.text)).then((()=>ao(0,Ut.commands.executeCommand("cursorMove",Ae({by:"line",to:"down",value:1}))).then((()=>Promise.resolve(void 0)))))})))))}function Wl(e){To(hr(0,dr(0,(()=>{if(null==Nl())return Promise.resolve();{const t=0|Nl();return ao(0,e.processId).then((e=>C(Le((e=>~~e),e),t)?(Pl(void 0),Nl(void 0),Il(void 0),Al(void 0),Promise.resolve()):Promise.resolve()))}}))))}function zl(e){const t=Rr(Ar((e=>!ye(e,"FSharp.Core.dll")&&!ye(e,"mscorlib.dll")),e.References));To(hr(0,dr(0,(()=>ao(0,$l()).then((e=>ao(0,Eo((t=>Ul(e,`#r @"${t}"`)),t)).then((()=>Promise.resolve(void 0)))))))))}function Gl(e){const t=kr(Tr((()=>{let t,n;return Nr((t=Ar((e=>!ye(e,"FSharp.Core.dll")&&!ye(e,"mscorlib.dll")),e.References),Br((n=pe(ue('#r @"%s"')),n),t)),Tr((()=>{let t;return Br((t=pe(ue('#load @"%s"')),t),e.Files)})))})));return hr(0,dr(0,(()=>{let e;const n=Mo.join(Oe(Ut.workspace.rootPath),"references.fsx");return so(0,(e=Ut.Uri.parse("untitled:"+n),Ut.workspace.openTextDocument(e))).then((e=>so(0,Ut.window.showTextDocument(e,3)).then((e=>so(0,e.edit((e=>{const n=new Ut.Position(0,0),r=_e("\n",t);e.insert(n,r)}))).then((e=>Promise.resolve(void 0)))))))})))}function Vl(e){!function(e,t,n){const r=Ut.languages.registerInlayHintsProvider(t,Rl);n.push(r),Xr.watchFile(El,((t,n)=>{kl(e)})),Xr.watchFile(xl,((t,n)=>{kl(e)})),Xr.watchFile(Dl,((t,n)=>{kl(e)}))}(e,da,e.subscriptions),go(!0,yl)&&hr(0,dr(0,(()=>go(!0,wl)?Promise.resolve():so(0,Ut.window.showInformationMessage("You are running .Net Core version of FsAutoComplete, we recommend also using .Net Core version of F# REPL (`dotnet fsi`). Should we change your settings (`FSharp.useSdkScripts`). This requires .Net Core 3.X?",bo("Update settings"),bo("Ignore"),bo("Don't show again"))).then((e=>{let t,n,r;const o=e;let i;if(i=null!=o&&null!=("Update settings"===(r=o,r.title)?Ae(void 0):void 0)?0:1,0===i)return so(0,yo(wl,Ae(!0))).then((()=>Promise.resolve(void 0)));{let e;if(e=null!=o&&null!=("Ignore"===(n=o,n.title)?Ae(void 0):void 0)?0:1,0===e)return so(0,vo(yl,Ae(!1))).then((()=>Promise.resolve(void 0)));{let e;return e=null!=o&&null!=("Don't show again"===(t=o,t.title)?Ae(void 0):void 0)?0:1,0===e?so(0,yo(yl,Ae(!1))).then((()=>Promise.resolve(void 0))):Promise.resolve()}}})))));const t=Ut.window.registerTerminalProfileProvider("ionide-fsharp.fsi",jl);e.subscriptions.push(t);const n=Ut.window.onDidCloseTerminal(Wl);e.subscriptions.push(n);const r=Ut.commands.registerCommand("fsi.Start",(e=>Hl()));e.subscriptions.push(r);const o=Ut.commands.registerCommand("fsi.SendLine",(e=>Bl()));e.subscriptions.push(o);const i=Ut.commands.registerCommand("fsi.SendSelection",(e=>function(){const e=Oe(Ut.window.activeTextEditor);return hr(0,dr(0,(()=>e.selection.isEmpty?ao(0,Bl()).then((()=>Promise.resolve(void 0))):ao(0,$l()).then((t=>{const n=t;Ml(n,e);const r=new Ut.Range(e.selection.anchor.line,e.selection.anchor.character,e.selection.active.line,e.selection.active.character);return ao(0,Ul(n,e.document.getText(r))).then((()=>Promise.resolve(void 0)))})))))}()));e.subscriptions.push(i);const s=Ut.commands.registerCommand("fsi.SendLastSelection",(e=>hr(0,dr(0,(()=>{if(null==Ol())return Promise.resolve();{const e=Ol();return(go(!1,"FSharp.saveOnSendLastSelection")?ao(0,Oe(Ut.window.activeTextEditor).document.save()).then((e=>Promise.resolve())):Promise.resolve()).then((()=>dr(0,(()=>ao(0,$l()).then((t=>ao(0,Ul(t,e)).then((()=>Promise.resolve(void 0)))))))))}})))));e.subscriptions.push(s);const a=Ut.commands.registerCommand("fsi.SendFile",(e=>function(){const e=Oe(Ut.window.activeTextEditor),t=e.document.getText();return hr(0,dr(0,(()=>ao(0,$l()).then((n=>{const r=n;return Ml(r,e),ao(0,Ul(r,t)).then((()=>Promise.resolve(void 0)))})))))}()));e.subscriptions.push(a);const c=Ut.commands.registerCommand("fsi.SendProjectReferences",(e=>{!function(){const e=Qa(Oe(Ut.window.activeTextEditor).document.fileName);null==e?Ut.window.showErrorMessage("File not in a project"):zl(e)}()}));e.subscriptions.push(c);const u=Ut.commands.registerCommand("fsi.GenerateProjectReferences",(e=>function(){const e=Qa(Oe(Ut.window.activeTextEditor).document.fileName);return hr(0,dr(0,(()=>null==e?(Ut.window.showErrorMessage("File not in a project"),Promise.resolve()):ao(0,Gl(e)))))}()));e.subscriptions.push(u);const l=Ut.commands.registerCommand("fsi.OpenWatcher",(e=>hr(0,dr(0,(()=>{if(go(!1,"FSharp.addFsiWatcher")){if(null==_l()){const e=function(e,t,n,r,o,i,s,a){const c=Me({preserveFocus:!0,viewColumn:-2},-2);return Ut.window.createWebviewPanel("fsiWatcher","FSI Watcher",c,Ae({enableCommandUris:Ie(!0),enableFindWidget:Ie(!0),enableScripts:Ie(!0),resourceRoots:Ie(void 0),retainContextWhenHidden:Ie(!0)}))}();return e.onDidDispose((()=>{_l(void 0)})),_l(e),Promise.resolve()}return _l().reveal(-2,!0),Promise.resolve()}return so(0,Ut.window.showInformationMessage("FSI Watcher is an experimental feature, and it needs to be enabled with `FSharp.addFsiWatcher` setting",bo("Enable"),bo("Ignore"))).then((e=>{let t,n;return n=null!=e&&null!=("Enable"===(t=e,t.title)?Ae(void 0):void 0)?0:1,0===n?so(0,yo("FSharp.addFsiWatcher",Ae(!0))).then((()=>Promise.resolve(void 0))):Promise.resolve()}))})))));e.subscriptions.push(l)}class Kl extends M{constructor(e,t){super(),this.tag=e,this.fields=t}cases(){return["Workspace","Solution","WorkspaceFolder","PackageReferenceList","ProjectReferencesList","ProjectNotLoaded","ProjectLoading","ProjectFailedToLoad","ProjectNotRestored","ProjectLanguageNotSupported","Project","Folder","File","PackageReference","ProjectReference"]}}class Xl extends q{constructor(e,t,n,r){super(),this.Key=e,this.FilePath=t,this.VirtualPath=n,this.Children=r}}function Yl(e){switch(e.tag){case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 12:case 13:case 14:return e.fields[0];default:return new L(void 0)}}function Jl(e,t){let n;n=c(e);try{for(;n["System.Collections.IEnumerator.MoveNext"]();)Yl(n["System.Collections.Generic.IEnumerator`1.get_Current"]()).contents=t}finally{i(n)}}function Ql(e,t){if(wt(t.Children)>0){const n=Rr(Br((t=>Ql(e,t)),t.Children)),r=new Kl(11,[new L(void 0),t.Key,t.FilePath,n,e]);return Jl(n,r),r}return new Kl(12,[new L(void 0),t.FilePath,t.Key,t.VirtualPath,e])}function Zl(e,t){const n=new Xl("",(r=e,Mo.dirname(r)),"",mt());var r,o;return Et((e=>{var t,r,o;t=n,r=e[0],o=e[1],((e,t)=>{e:for(;;){const n=e,i=t,s=n.Children;let a,c,u,l,d,h,p,f,m;switch(yt(i)?a=0:yt(_t(i))?jt((e=>e.Key===R(bt(i))),s)?(a=1,c=s,u=bt(i)):(a=2,l=bt(i)):yt(s)?(a=4,f=bt(i),m=_t(i)):R(bt(i))===bt(s).Key?(a=3,d=bt(i),h=bt(s),p=_t(i)):(a=4,f=bt(i),m=_t(i)),a){case 0:case 1:return n;case 2:{const e=new Xl(R(l),o,r,mt());return n.Children=gt(e,n.Children),n}case 3:e=h,t=p;continue e;default:{const o=n.FilePath+Mo.sep+f,i=new Xl(R(f),o,r,mt());n.Children=gt(i,n.Children),e=i,t=m;continue e}}break}})(t,Dt(r.split("/")))}),t),Rr(Br((t=>Ql(e,t)),(o=n.Children,Tr((()=>Ye(kr(o)))))))}function ed(e){kr(Ja());const t=Zl(e.Project,Rr(Br((e=>[e.VirtualPath,e.FilePath]),Ar((e=>"Compile"===e.Name),e.Items))));let n;const r=Rr(Br((t=>new Kl(13,[new L(void 0),t.FullPath,t.Name+" "+t.Version,e.Project])),Bc((e=>e.Name),e.PackageReferences,{Equals:(e,t)=>e===t,GetHashCode:f}))),o=new Kl(3,[new L(void 0),r,e.Project]);let i;Jl(r,o),n=o;const s=Rr(Br((t=>new Kl(14,[new L(void 0),t.ProjectFileName,Mo.basename(t.ProjectFileName,".fsproj"),e.Project])),Bc((e=>e.ProjectFileName),e.ProjectReferences,{Equals:(e,t)=>e===t,GetHashCode:f}))),a=new Kl(4,[new L(void 0),s,e.Project]);Jl(s,a),i=a;const c=Mo.basename(e.Project,".fsproj"),u=new Kl(10,[new L(void 0),e.Project,c,t,i,n,(l=e,Wa(l)?"lib"!==l.OutputType.toLowerCase():!!ho(".exe",l.Output)),e]);var l;return Jl(t,u),Yl(n).contents=u,Yl(i).contents=u,u}function td(e){const t=e=>{const t=Va(e);return null!=t?function(e){switch(e.tag){case 1:return ed(e.fields[0]);case 2:{const t=e.fields[0];return new Kl(7,[new L(void 0),t,Mo.basename(t),e.fields[1]])}case 3:{const t=e.fields[0];return new Kl(8,[new L(void 0),t,Mo.basename(t),e.fields[1]])}case 4:{const t=e.fields[0];return new Kl(9,[new L(void 0),t,Mo.basename(t)])}default:{const t=e.fields[0];return new Kl(6,[new L(void 0),t,Mo.basename(t)])}}}(t):new Kl(5,[new L(void 0),e,Mo.basename(e)])},n=e=>{const r=e.Kind;if(0===r.tag)return t(e.Name);{const t=r.fields[0],o=ze((e=>new Kl(12,[new L(void 0),e,Mo.basename(e),void 0,""])),t.Files),i=ze(n,t.Items),s=new Kl(2,[new L(void 0),e.Name,kt(Nr(o,i))]);return Jl(o,s),Jl(i,s),s}};if(0===e.tag){const n=Dt(ze(t,e.fields[0].Fsprojs)),r=new Kl(0,[n]);return Jl(n,r),r}{const t=e.fields[0],r=new Kl(1,[new L(void 0),t.Path,Mo.basename(t.Path),Dt(ze(n,t.Items))]),o=new Kl(0,[vt(r)]);return Yl(r).contents=o,o}}function nd(){return Le(td,ec())}function rd(e){switch(e.tag){case 2:return e.fields[2];case 1:return e.fields[3];case 5:case 6:case 7:case 8:case 9:case 12:case 13:case 14:return mt();case 10:return Rr(Tr((()=>Nr(Dr(e.fields[5]),Tr((()=>Nr(Dr(e.fields[4]),Tr((()=>e.fields[3])))))))));case 3:case 4:return e.fields[1];case 11:return Tt(e.fields[3]);default:return e.fields[0]}}const od=Ro("fsharp.showProjectExplorerInFsharpActivity"),id=Ro("fsharp.showProjectExplorerInExplorerActivity");function sd(){switch(go("sameAsFileExplorer","FSharp.autoRevealInExplorer")){case"enabled":return!0;case"disabled":return!1;default:return go(!0,"explorer.autoReveal")}}class ad extends q{constructor(e,t){super(),this.RootModel=e,this.ModelPerFile=t}}function cd(e,t,n,r){null==n||function(e,t,n,r){if(r||e.visible){const r=function(e,t){return"file"===t.scheme&&null!=t.fsPath?je((e=>qi(t.fsPath,e.ModelPerFile)),e.contents):void 0}(t,n);if(null!=r){const t=r,n={expand:!1,select:!0};e.reveal(t,n)}}}(e,t,n.document.uri,r)}function ud(e){let t,n,r,o,i;switch(e.tag){case 13:case 14:case 3:case 4:t=3;break;case 5:case 6:case 7:case 8:case 9:default:t=0,n=e.fields[1];break;case 10:case 1:t=1,r=e.fields[3],o=e.fields[1];break;case 11:t=2,i=e.fields[3];break;case 2:t=2,i=e.fields[2];break;case 0:t=2,i=e.fields[0]}switch(t){case 0:return vt([n,e]);case 1:return gt([o,e],Pt(ud,r));case 2:return Pt(ud,i);default:return mt()}}function ld(e,t,n){const r=new L(void 0),o=Ut.window.onDidChangeActiveTextEditor((e=>{!function(e,t,n){sd()&&cd(e,t,n,!1)}(n,r,e)}));e.subscriptions.push(o);const i=t((e=>{!function(e,t,n){const r=new ad(n,Ii(o={Compare:T},xi(o,ud(n))));var o;t.contents=r,sd()&&cd(e,t,Ut.window.activeTextEditor,!1)}(n,r,e)}));e.subscriptions.push(i);const s=n.onDidChangeVisibility((e=>{!function(e,t,n){n.visible&&sd()&&setTimeout((()=>{cd(e,t,Ut.window.activeTextEditor,!0)}),0)}(n,r,e)}));e.subscriptions.push(s);const a=Ut.commands.registerCommand("fsharp.revealInSolutionExplorer",(e=>{cd(n,r,Ut.window.activeTextEditor,!0)}));e.subscriptions.push(a)}function dd(e){return ye(e,".fs")||ye(e,".fsi")||ye(e,".fsx")?e:e+".fs"}function hd(e,t,n,r){const o={placeHolder:"new.fs"};return o.value=r,o.prompt=n,o.validateInput=n=>{const r=dd(n);return null==It((t=>{if(12===t.tag){const n=Mo.dirname(e),o=Mo.relative(n,t.fields[1]);return Te(r,"\\","/")===Te(o,"\\","/")}return!1}),t)?void 0:"File already exists"},Ut.window.showInputBox(o)}function pd(e){e:for(;;){const t=e;switch(t.tag){case 12:{const n=t.fields[0].contents;if(null==n)return;e=n;continue e}case 11:{const n=t.fields[0].contents;if(null==n)return;e=n;continue e}case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 13:case 14:return;default:return t}break}}function fd(){return hr(0,dr(0,(()=>ao(0,function(){if(null!=la()){const e=la(),t=new ir("");return e.sendRequest("fsharp/dotnetnewlist",t).then((e=>{let t;const n=e;return null==n?void 0:(t=xs(N(zs(rr(dn(cn("Ionide.VSCode.FSharp.DTO.DotnetNew.Template",[],or,(()=>[["Name",mn],["ShortName",mn],["Tags",dn(mn)]])))),void 0,void 0)),n.content),1===t.tag?(()=>{throw new Error(t.fields[0])})():t.fields[0])}))}return Co()}()).then((e=>{let t;const n=Nt((e=>{const t={};return t.label=e.Name,t.description=e.ShortName,t}),null!=e?e.Data:mt());t=Array.from(n);return null==Ut.workspace.rootPath?(Ut.window.showErrorMessage("No open folder."),Promise.resolve()):so(0,Ut.window.showQuickPick(t)).then((e=>{const t=e;if(null==t)return Promise.resolve();{const e=t,n={prompt:"Project directory, relative to workspace root (-o parameter)"};return so(0,Ut.window.showInputBox(n)).then((t=>{const n=t;return so(0,Ut.window.showInputBox({prompt:"Project name (-n parameter)"})).then((t=>{let r,o,i,s,a;if(null!=n&&null!=t?(i=0,s=n,a=t):i=1,0===i){const t=be(s)?void 0:s,n=be(a)?void 0:a;return(r=e.description,null!=r?(o=r,ao(0,function(e,t,n){if(null!=la()){const r=la(),o=new sr(e,n,t);return r.sendRequest("fsharp/dotnetnewrun",o).then((e=>{}))}return Co()}(o,n,t)).then((()=>{const e=nd();let r,o;if(null!=e&&0===e.tag?yt(e.fields[0])?r=1:1===bt(e.fields[0]).tag&&yt(_t(e.fields[0]))?(r=0,o=bt(e.fields[0]).fields[2]):r=1:r=1,0===r){const e=null!=n?Oe(n)+".fsproj":null!=t?Oe(t)+".fsproj":Mo.dirname(Oe(Ut.workspace.rootPath))+".fsproj",r=Mo.join(Oe(Ut.workspace.rootPath),s,a,e);return pc(du,["sln",o,"add",r]),Promise.resolve()}return yt(Ga())?ao(0,vc()).then((()=>Promise.resolve(void 0))):Promise.resolve()}))):Promise.resolve(void 0)).then((()=>dr(0,(()=>Promise.resolve()))))}return Promise.resolve()}))}))}}))})))))}function md(e){const t=Te(e,"\\","/"),n=Ut.Uri.parse(`file:///${t}`);Hu(Xu,n),Hu(el,n)}function gd(t){const n=new Ut.EventEmitter,r=new Ut.EventEmitter,o=function(e,t){const n=Ao();let r=e;return new class{getChildren(e){let n,r;if(null==e){const e=Me(nd(),new Kl(0,[mt()]));return t.fire(e),n=rd(e),Array.from(n)}return r=rd(e),Array.from(r)}getParent(e){const t=Yl(e).contents;return null!=t?t:void 0}getTreeItem(e){let t;const r=0|(13===e.tag||14===e.tag?0:7===e.tag||6===e.tag||5===e.tag||8===e.tag||9===e.tag||0===e.tag||1===e.tag?2:2===e.tag?jt((e=>{switch(e.tag){case 5:case 6:case 10:case 7:case 8:return!0;default:return!1}}),e.fields[2])?2:1:11===e.tag||10===e.tag||4===e.tag||3===e.tag?1:0),o=new Ut.TreeItem(function(e){switch(e.tag){case 2:case 11:return e.fields[1];case 1:case 10:case 12:case 14:return e.fields[2];case 5:return pe(ue("%s (not loaded yet)"))(e.fields[2]);case 6:return pe(ue("%s (loading..)"))(e.fields[2]);case 7:return pe(ue("%s (load failed)"))(e.fields[2]);case 8:return pe(ue("%s (not restored)"))(e.fields[2]);case 9:return pe(ue("%s (language not supported)"))(e.fields[2]);case 3:return"Package References";case 4:return"Project References";case 13:{const t=e.fields[2];return ye(t.toLowerCase(),".dll")?Pe(t,0,t.length-4):t}default:return"Workspace"}}(e),r);let i;if(12===e.tag){const t={command:"vscode.open",title:"open"},n={preserveFocus:!0};t.arguments=[Ae(Ut.Uri.file(e.fields[1])),Ae(n)],i=t}else i=void 0;o.command=i;const s=4===e.tag?"projectRefList":3===e.tag?"referencesList":10===e.tag?e.fields[6]?"projectExe":"project":14===e.tag?"projectRef":13===e.tag?"reference":11===e.tag?"folder":7===e.tag?"projectLoadFailed":6===e.tag?"projectLoading":5===e.tag?"projectNotLoaded":8===e.tag?"projectNotRestored":9===e.tag?"projectLanguageNotSupported":1===e.tag?"solution":0===e.tag?"workspace":2===e.tag?"workspaceFolder":"file";o.contextValue=pe(ue("ionide.projectExplorer.%s"))(s);const a=5===e.tag||6===e.tag||7===e.tag||8===e.tag||9===e.tag||10===e.tag||1===e.tag?[Ut.ThemeIcon.File,Ut.Uri.file(e.fields[1])]:11===e.tag?[Ut.ThemeIcon.Folder,Ut.Uri.file(e.fields[2])]:3===e.tag||4===e.tag||2===e.tag?[Ut.ThemeIcon.Folder,void 0]:13===e.tag||14===e.tag?[{dark:n+"/images/circuit-board-dark.svg",light:n+"/images/circuit-board-light.svg"},Ut.Uri.file(e.fields[1])]:0===e.tag?[void 0,void 0]:[Ut.ThemeIcon.File,Ut.Uri.file(e.fields[1])],c=a[1];return o.iconPath=a[0],o.resourceUri=c,o.id=(t=e=>{const t=e.label;if(null==t)return"";{const e=t;return"string"==typeof e?e:e.label}},3===e.tag||4===e.tag?t(o)+"||"+e.fields[2]:13===e.tag||14===e.tag?t(o)+"||"+e.fields[3]:11===e.tag?void 0:12===e.tag?Le((n=>t(o)+"||"+n.toString()+"||"+e.fields[4]),c):Le((e=>t(o)+"||"+e.toString()),c)),o}get onDidChangeTreeData(){return Ie(r)}set onDidChangeTreeData(e){r=e}resolveTreeItem(e,t,n){return e}}}(n.event,r),s=function(){const e="fsharp"===go("fsharp","FSharp.showProjectExplorerIn");return od(e),id(!e),e?"ionide.projectExplorerInActivity":"ionide.projectExplorer"}(),a=Ia((e=>{n.fire(void 0)}));t.subscriptions.push(a);const c=Ut.commands.registerCommand("fsharp.NewProject",(e=>fd()));t.subscriptions.push(c);const u=Ut.commands.registerCommand("fsharp.explorer.refresh",(e=>{n.fire(void 0)}));t.subscriptions.push(u);const l=Ut.commands.registerCommand("fsharp.explorer.clearCache",(e=>{tc()}));t.subscriptions.push(l);const d=Ut.commands.registerCommand("fsharp.explorer.moveUp",(e=>(e=>{let t,n;t=e,12===t.tag&&null!=t.fields[3]&&(n=t.fields[3],function(e,t){if(null!=la()){const n=la(),r=new cr(e,t);return n.sendRequest("fsproj/moveFileUp",r).then((e=>{}))}Co()}(t.fields[4],n))})(e)));t.subscriptions.push(d);const h=Ut.commands.registerCommand("fsharp.explorer.moveDown",(e=>(e=>{let t,n;t=e,12===t.tag&&null!=t.fields[3]&&(n=t.fields[3],function(e,t){if(null!=la()){const n=la(),r=new cr(e,t);return n.sendRequest("fsproj/moveFileDown",r).then((e=>{}))}Co()}(t.fields[4],n))})(e)));t.subscriptions.push(h);const p=Ut.commands.registerCommand("fsharp.explorer.removeFile",(e=>(e=>{let t,n,r;t=e,12===t.tag&&(n=t.fields[4],r=t.fields[1],hr(0,dr(0,(()=>{const e=Mo.dirname(n),t=Mo.relative(e,r);return ao(0,(o=n,i=t,function(e,t){if(null!=la()){const n=la(),r=new cr(e,t);return n.sendRequest("fsproj/removeFile",r).then((e=>{}))}return Co()}(o,i))).then((()=>(md(r),Promise.resolve())));var o,i}))))})(e)));t.subscriptions.push(p);const m=Ut.commands.registerCommand("fsharp.explorer.renameFile",(e=>(e=>{let t;const n=e;let r,o,i,s;switch(12===n.tag&&null!=n.fields[3]?(r=0,o=n.fields[1],i=n.fields[0],s=n.fields[3]):r=1,r){case 0:{const e=i.contents;if(null!=e){const n=pd(e);let r,i,a;switch(null!=n&&10===n.tag?(r=0,i=n.fields[3],a=n.fields[1]):r=1,r){case 0:{let e;e=hd(a,i,"Enter a new name",We(s.split("/"))).then((e=>hr(0,dr(0,(()=>{let t,n;return(null!=e?be(e)?Promise.resolve():(t=e,n=dd(t),ao(0,(r=a,i=s,c=n,function(e,t,n){if(null!=la()){const r=la(),o=new lr(e,t,n);return r.sendRequest("fsproj/renameFile",o).then((e=>{}))}return Co()}(r,i,c))).then((()=>(md(o),Promise.resolve())))):Promise.resolve()).then((()=>dr(0,(()=>Promise.resolve(null)))));var r,i,c}))))),t=void e.catch((e=>{Ut.window.showErrorMessage(e.message)}));break}default:t=void 0}}else t=void 0;break}default:t=void 0}})(e)));t.subscriptions.push(m);const g=Ut.commands.registerCommand("fsharp.explorer.addAbove",(e=>(e=>{const t=e;let n,r,o;switch(12===t.tag&&null!=t.fields[3]?(n=0,r=t.fields[0],o=t.fields[3]):n=1,n){case 0:{const e=r.contents;if(null!=e){const t=pd(e);let n,r,i;switch(null!=t&&10===t.tag?(n=0,r=t.fields[3],i=t.fields[1]):n=1,n){case 0:{let e;e=hd(i,r,"New file name, relative to selected file",void 0).then((e=>{return null==e?Co():(t=i,n=o,r=dd(e),function(e,t,n){if(null!=la()){const r=la(),o=new ur(e,t,n);return r.sendRequest("fsproj/addFileAbove",o).then((e=>{}))}return Co()}(t,n,r));var t,n,r})),e.catch((e=>{Ut.window.showErrorMessage(e.message)}));break}}}break}}})(e)));t.subscriptions.push(g);const v=Ut.commands.registerCommand("fsharp.explorer.addBelow",(e=>(e=>{const t=e;let n,r,o;switch(12===t.tag&&null!=t.fields[3]?(n=0,r=t.fields[0],o=t.fields[3]):n=1,n){case 0:{const e=r.contents;if(null!=e){const t=pd(e);let n,r,i;switch(null!=t&&10===t.tag?(n=0,r=t.fields[3],i=t.fields[1]):n=1,n){case 0:{let e;e=hd(i,r,"New file name, relative to selected file",void 0).then((e=>{return null==e?Co():(t=i,n=o,r=dd(e),function(e,t,n){if(null!=la()){const r=la(),o=new ur(e,t,n);return r.sendRequest("fsproj/addFileBelow",o).then((e=>{}))}return Co()}(t,n,r));var t,n,r})),e.catch((e=>{Ut.window.showErrorMessage(e.message)}));break}}}break}}})(e)));t.subscriptions.push(v);const y=Ut.commands.registerCommand("fsharp.explorer.addFile",(e=>(e=>{const t=e;if(10===t.tag){const e=t.fields[1];let n;n=hd(e,t.fields[3],"New file name, relative to project file",void 0).then((t=>null==t?Co():tl(e,dd(t)))),n.catch((e=>{Ut.window.showErrorMessage(e.message)}))}})(e)));t.subscriptions.push(y);const w=Ut.commands.registerCommand("fsharp.explorer.addExistingFile",(e=>(e=>{const t=e;if(10===t.tag){const e=t.fields[1],n=Ut.Uri.file(e),r={};let o;r.canSelectMany=!1,r.openLabel="Add",r.title="Choose a file to add",r.defaultUri=n,o=Ut.window.showOpenDialog(r).then((t=>{if(null==t)return Co();{const o=t;return 1===o.length?(n=e,r=o[0].fsPath,function(e,t){if(null!=la()){const n=la(),r=new cr(e,t);return n.sendRequest("fsproj/addExistingFile",r).then((e=>{}))}return Co()}(n,r)):Co()}var n,r})),o.catch((e=>{Ut.window.showErrorMessage(e.message)}))}})(e)));t.subscriptions.push(w);const b=Ut.commands.registerCommand("fsharp.explorer.addProjecRef",(e=>(e=>{const t=e;return 4===t.tag?(n=t.fields[2],hr(0,dr(0,(()=>{if(null!=n){const e=n;let t;const r=Ft((t=>t!==e),Xa());if(t=Array.from(r),0!==t.length){const n={placeHolder:"Reference"};return so(0,Ut.window.showQuickPick(t,n)).then((t=>ao(0,null!=t?function(e,t){if(null!=la()){const n=la(),r=new ar(e,t);return n.sendRequest("fsharp/dotnetaddproject",r).then((e=>{}))}return Co()}(e,t):Co())))}return Promise.resolve()}return ao(0,Co())})))):void 0;var n})(e)));t.subscriptions.push(b);const _=Ut.commands.registerCommand("fsharp.explorer.removeProjecRef",(e=>(e=>{const t=e;return 14===t.tag?(n=t.fields[1],function(e,t){if(null!=la()){const n=la(),r=new ar(e,t);return n.sendRequest("fsharp/dotnetremoveproject",r).then((e=>{}))}return Co()}(t.fields[3],n)):void 0;var n})(e)));t.subscriptions.push(_);const C={};C.treeDataProvider=o;const S=Ut.window.createTreeView(s,C);let T;t.subscriptions.push(S),ld(t,r.event,S);const E=e=>{let t,n;return _e("<br />",Rt(Dt(["<b>Status:</b> failed to load","","<b>Error:</b>"]),(t=ne(/A compatible SDK version for global\.json version: \[([\d.]+)\].*was not found.*/giu,e),null!=t?(n=t[1]||"",Dt([pe(ue("A compatible SDK version for global.json version: <b>%s</b> was not found."))(n),"",'If you haven\'t installed a compatible version on your computer, you can go to: <a href="https://dotnet.microsoft.com/download/archives">https://dotnet.microsoft.com/download/archives</a> to download it.',"","<hr/>","<b>Original error:</b>","",e])):vt(e))))};let x;T=new class{get onDidChange(){return Ie(x)}set onDidChange(e){x=e}provideTextDocumentContent(t,n){let r,o,s,a,c,u,l,d,h,p,m,g,v,y,w,b,_;return"projects/status"===t.path?(r=rl.parse(t.query),o=r.path,s=Va(o),null!=s?1===s.tag?(a=s.fields[0],c=a,u=ed(c),10===u.tag&&3===u.fields[5].tag?(l=ze((e=>e.ProjectFileName),u.fields[7].ProjectReferences),d=ze((e=>e.Name+" "+e.Version),Wc((e=>e.Name),u.fields[7].PackageReferences,{Equals:(e,t)=>e===t,GetHashCode:f})),h=Nt((e=>{if(13===e.tag)return e.fields[1];throw new Error("Should not happend, we filtered the `refs` list before")}),Ft((e=>13===e.tag),u.fields[5].fields[1])),p=c.Info,_e("<br />",Rr(Tr((()=>Nr(Dr("<b>Status:</b> parsed correctly"),Tr((()=>Nr(Dr(""),Tr((()=>Nr(Dr(pe(ue("<b>Project</b>: %s"))(c.Project)),Tr((()=>Nr(Dr(""),Tr((()=>Nr(Dr(pe(ue("<b>Output Type</b>: %s"))(c.OutputType)),Tr((()=>Nr(Dr(pe(ue("<b>Output</b>: %s"))(c.Output)),Tr((()=>Nr(Dr(""),Tr((()=>Nr(Dr(pe(ue("<b>Project Type</b>: .NET Sdk (dotnet/sdk)"))),Tr((()=>Nr(Dr(""),Tr((()=>Nr(Dr(pe(ue("<b>Configuration</b>: %s"))(p.Configuration)),Tr((()=>Nr(Dr(pe(ue("<b>Target Framework</b>: %s (%s %s)"))(p.TargetFramework)(p.TargetFrameworkIdentifier)(p.TargetFrameworkVersion)),Tr((()=>Nr(Dr(""),Tr((()=>{let t;const n=e=>e?"yes":"no";return Nr(Dr((t=n(p.RestoreSuccess),pe(ue("<b>Restored successfully</b>: %s"))(t))),Tr((()=>Nr(Dr(""),Tr((()=>{let t;const r=!function(t){if(e(t))return 0===t.length;if(t instanceof at)return yt(t);{const e=Sr(t);try{return!e["System.Collections.IEnumerator.MoveNext"]()}finally{i(e)}}}(p.TargetFrameworks);return Nr(Dr((t=n(r),pe(ue("<b>Crossgen (multiple target frameworks)</b>: %s"))(t))),Tr((()=>Nr(r?Nr(Dr("<b>NOTE: You're using multiple target frameworks. As of now you can't choose which target framework should be used by FSAC. Instead, the first target framework from the list is selected. To change the target framework used by FSAC, simply place it on the first position on the &lt;TargetFrameworks&gt; list.</b>"),Tr((()=>Nr(Dr("For more info see this issue: https://github.com/ionide/ionide-vscode-fsharp/issues/278"),Tr((()=>Nr(Dr("<ul>"),Tr((()=>Nr(Br((e=>pe(ue("<li>%s</li>"))(e)),p.TargetFrameworks),Tr((()=>Dr("</ul>"))))))))))))):xr(),Tr((()=>Nr(Dr(""),Tr((()=>Nr(Dr("<b>Files</b>:"),Tr((()=>Nr(u.fields[7].Files,Tr((()=>Nr(Dr(""),Tr((()=>Nr(Dr("<b>Project References</b>:"),Tr((()=>Nr(l,Tr((()=>Nr(Dr(""),Tr((()=>Nr(Dr("<b>Package References</b>:"),Tr((()=>Nr(d,Tr((()=>Nr(Dr(""),Tr((()=>Nr(Dr("<b>Resolved References</b>:"),Tr((()=>h)))))))))))))))))))))))))))))))))))))))}))))))}))))))))))))))))))))))))))))))))))))))))):"Failed to generate status report..."):3===s.tag?(m=s.fields[0],g=s.fields[1],E(g)):2===s.tag?(v=s.fields[0],y=s.fields[1],E(y)):4===s.tag?(w=s.fields[0],"<b>Status:</b> language not supported"):(b=s.fields[0],"<b>Status:</b> loading.."):pe(ue("Project '%s' not found"))(o)):(_=t.toString(),pe(ue("Requested uri: %s"))(_))}};const D=Ut.workspace.registerTextDocumentContentProvider("fsharp-workspace",T);t.subscriptions.push(D);const k=e=>{switch(e.tag){case 7:case 8:case 6:case 10:No(e.fields[1],e.fields[2])}},R=Ut.commands.registerCommand("fsharp.explorer.showProjectLoadFailedInfo",k);t.subscriptions.push(R);const P=Ut.commands.registerCommand("fsharp.explorer.showProjectStatus",k);t.subscriptions.push(P);const N=Ut.commands.registerCommand("fsharp.explorer.project.debug",(e=>{return 10===(t=e).tag?dl(t.fields[7]):Co();var t}));t.subscriptions.push(N);const O=Ut.commands.registerCommand("fsharp.explorer.openProjectFile",(e=>(e=>{let t;const n=e;if(t=5===n.tag||6===n.tag||7===n.tag||8===n.tag||10===n.tag?n.fields[1]:void 0,null!=t){const e=t;return Ut.commands.executeCommand("vscode.open",Ae(Ut.Uri.file(e)))}})(e)));t.subscriptions.push(O);const I=Ut.commands.registerCommand("fsharp.explorer.msbuild.build",(e=>(e=>{const t=e;return 10===t.tag?bu("Build",t.fields[7]):void 0})(e)));t.subscriptions.push(I);const A=Ut.commands.registerCommand("fsharp.explorer.msbuild.rebuild",(e=>(e=>{const t=e;return 10===t.tag?bu("Rebuild",t.fields[7]):void 0})(e)));t.subscriptions.push(A);const F=Ut.commands.registerCommand("fsharp.explorer.msbuild.clean",(e=>(e=>{const t=e;return 10===t.tag?bu("Clean",t.fields[7]):void 0})(e)));t.subscriptions.push(F);const M=Ut.commands.registerCommand("fsharp.explorer.msbuild.restore",(e=>(e=>{const t=e;switch(t.tag){case 10:return void Cu(t.fields[7].Project);case 8:return void Cu(t.fields[1]);default:return}})(e)));t.subscriptions.push(M);const q=Ut.commands.registerCommand("fsharp.explorer.solution.build",(e=>(e=>{const t=e;return 1===t.tag?Su("Build",t.fields[1]):void 0})(e)));t.subscriptions.push(q);const L=Ut.commands.registerCommand("fsharp.explorer.solution.rebuild",(e=>(e=>{const t=e;return 1===t.tag?Su("Rebuild",t.fields[1]):void 0})(e)));t.subscriptions.push(L);const j=Ut.commands.registerCommand("fsharp.explorer.solution.clean",(e=>(e=>{const t=e;return 1===t.tag?Su("Clean",t.fields[1]):void 0})(e)));t.subscriptions.push(j);const H=Ut.commands.registerCommand("fsharp.explorer.solution.restore",(e=>(e=>{const t=e;return 1===t.tag?Su("Restore",t.fields[1]):void 0})(e)));t.subscriptions.push(H);const $=Ut.commands.registerCommand("fsharp.explorer.project.run",(e=>(e=>{const t=e;return 10===t.tag?cl(t.fields[7]):void 0})(e)));t.subscriptions.push($);const U=Ut.commands.registerCommand("fsharp.explorer.project.setDefault",(e=>(e=>{const t=e;10!==t.tag||fl(t.fields[7])})(e)));t.subscriptions.push(U);const B=Ut.commands.registerCommand("fsharp.explorer.project.generateFSI",(e=>(e=>{const t=e;return 10===t.tag?Gl(t.fields[7]):void 0})(e)));t.subscriptions.push(B);const W=Ut.commands.registerCommand("fsharp.explorer.project.sendFSI",(e=>(e=>{const t=e;10!==t.tag||zl(t.fields[7])})(e)));t.subscriptions.push(W);const z=Ut.commands.registerCommand("fsharp.explorer.solution.addProject",(e=>(e=>{const t=e;return 1===t.tag?hr(0,dr(0,(()=>{const e=Xa();if(0===wt(e))return Ut.window.showInformationMessage("No projects in workspace that can be added to the solution",...null),Promise.resolve();{const n=Array.from(e);return so(0,Ut.window.showQuickPick(n)).then((e=>{const n=e;if(null==n)return Promise.resolve();{const e=n;return pc(du,["sln",t.fields[2],"add",e]),Promise.resolve()}}))}}))):void 0})(e)));t.subscriptions.push(z)}const vd='\r\n\x3c!-- Please copy/paste this file content into a Github issue --\x3e\r\n### Problem\r\n\r\n\x3c!-- Describe here your problem --\x3e\r\n\r\n### Steps to reproduce\r\n\r\n\x3c!-- Add here the steps to reproduce you problem. Example: --\x3e\r\n\x3c!-- 1. Open an F# file --\x3e\r\n\x3c!-- 2. Ctrl + P > "F# Add Reference" --\x3e\r\n            '.trim();function yd(){const e=qo.type(),t=qo.arch(),n=Me(je((e=>Le((e=>e.version),e.packageJSON)),Ut.extensions.getExtension("ionide.ionide-fsharp")),"unknown");let r;const o=0|Ut.env.uiKind;return r=1===o?"Desktop":2===o?"Web":"Unknown",hr(0,dr(0,(()=>ao(0,function(){const e=hr(0,dr(0,(()=>ao(0,ha()).then((e=>{const t=e;return 1===t.tag?Promise.resolve(t.fields[0]):ao(0,(n=t.fields[0],r=vt("--version"),So((e=>{console.error(Ae('\r\n["IONIDE-DIAGNOSTICS"]\r\nFailed to execute command:\r\n- path: %s\r\n- args: %s\r\nError: %A\r\n                '.trim()),n,_e(" ",r),F(e))}),new Promise(((e,t)=>{eo((e=>{t(e)}),to((e=>{t(e)}),Zr((t=>{e(t.toString())}),Kr.spawn(n,Array.from(r)))))}))))).then((e=>Promise.resolve(function(e){let t;const n=e.trim();return t=pe(ue("\r\n* Runtime: **netcore**\r\n* Dotnet version: **%s**\r\n                    "))(n),t.trim()}(e))));var n,r})))));return Promise.all([e]).then((e=>_e("\n",e)))}()).then((o=>{var i;return i=vd+"\n\n"+function(e,t,n,r,o){return pe(ue("\r\n### Machine infos\r\n\r\n* Operating system: **%s**\r\n* Arch: **%s**\r\n* VSCode: **%s**\r\n* UI Kind: **%s**\r\n* Ionide: **%s**\r\n\r\n                    "))(e)(t)(n)(r)(o).trim()}(e,t,Ut.version,r,n)+"\n"+o+"\n",hr(0,dr(0,(()=>{const e=Mo.join(Oe(Ut.workspace.rootPath),"Diagnostic info"),t=Ut.Uri.parse("untitled:"+e);return so(0,Ut.workspace.openTextDocument(t)).then((e=>{const n=new Ut.WorkspaceEdit;return n.insert(t,new Ut.Position(0,0),i),so(0,Ut.workspace.applyEdit(n)).then((t=>t?(Ut.window.showTextDocument(e),Promise.resolve()):(Ut.window.showErrorMessage("Error when printing diagnostic report."),Promise.resolve())))}))}))),Promise.resolve()})))))}function wd(e){const t=Nt((e=>{let t,n;return[(t=e,n={},n.label=t,n.description=pe(ue("Signature: %s"))(t),n),e]}),e);if(yt(t))return Promise.resolve(void 0);{const e=t;return hr(0,dr(0,(()=>{const t={};let n;t.placeHolder="Signatures";const r=Nt((e=>e[0]),e);return n=Array.from(r),so(0,Ut.window.showQuickPick(n,t)).then((t=>{const n=t;if(null==n)return Promise.resolve(void 0);{const t=n,r=Le((e=>e[1]),It((e=>C(e[0],t)),e));if(null==r)return Promise.resolve(void 0);{const e=r;return Promise.resolve(e)}}}))})))}}let bd,_d,Cd;function Sd(e,t){hr(0,dr(0,(()=>ao(0,function(e,t){return hr(0,dr(0,(()=>{if(function(e){if(null!=e&&null!=e.document){let t;switch(fo(e.document).tag){case 0:case 3:t=0;break;default:t=1}return 0===t}return!1}(e)&&t.length>0){const n=e.document,r=t[0].active;return ao(0,function(e,t,n){if(null!=la()){const r=la(),o=new oa(new na(ua(e)),new ta(t,n));return r.sendRequest("fsharp/signature",o).then((e=>{let t;const n=e;return null==n?void 0:(t=xs(N(zs(rr(mn),void 0,void 0)),n.content),1===t.tag?(()=>{throw new Error(t.fields[0])})():t.fields[0])}))}return Co()}(n.uri,~~r.line,~~r.character)).then((e=>Promise.resolve(Le((e=>e.Data),e))))}return Promise.resolve(void 0)})))}(e,t)).then((e=>{return null!=e?(t=e,n=e,Oe(bd).text=t,Oe(bd).tooltip=n,Oe(bd).show(),Promise.resolve()):(jr((e=>{e.hide()}),Fe(bd)),Promise.resolve());var t,n})))))}function Td(){null!=_d&&(clearTimeout(_d),_d=void 0)}function Ed(e){!function(e){const t=Ut.window.createStatusBarItem(1,-10);bd=t,e.subscriptions.push(t)}(e);const t=Ut.window.onDidChangeTextEditorSelection((e=>{var t;t=e,Td(),_d=setTimeout((()=>{Sd(t.textEditor,t.selections)}),500)}));e.subscriptions.push(t);const n=Ut.window.onDidChangeActiveTextEditor((e=>{Td(),Sd(void 0,[])}));e.subscriptions.push(n);const r=Xs((e=>{C(e.document,Oe(Ut.window.activeTextEditor).document)&&(Td(),Sd(Oe(Ut.window.activeTextEditor),Oe(Ut.window.activeTextEditor).selections))}));e.subscriptions.push(r)}const xd={increaseIndentPattern:/^(\s*(module|type|let|static member|member)\b.*=\s*)$|^(\s*(with get|and set)\b.*=.*)$|^(\s*(if|elif|then|else|static member|member)).*$/gu,decreaseIndentPattern:/^(\s*(else|elif|and)).*$/gu};function Dd(e){const t={onEnterRules:[{action:{indentAction:0,appendText:"/// "},beforeText:/^\s*\/{3}.*$/gu}]},n=go(!1,"FSharp.smartIndent");n&&(t.indentationRules=xd),null==Cd||Cd.dispose();const r=Ut.languages.setLanguageConfiguration("fsharp",t);if(Cd=r,e){const e=n?"Smart indent has been activated for F#":"Smart indent has been deactivated for F#";Ut.window.showInformationMessage(e)}}class kd extends M{constructor(e,t){super(),this.tag=e,this.fields=t}cases(){return["String","Int","Float","Obj","Func","Bool"]}}const Rd=Dt([["OnCut","onCut",new kd(4,[])],["OnPaste","onPaste",new kd(4,[])],["OnCompositionEnd","onCompositionEnd",new kd(4,[])],["OnCompositionStart","onCompositionStart",new kd(4,[])],["OnCopy","onCopy",new kd(4,[])],["OnCompositionUpdate","onCompositionUpdate",new kd(4,[])],["OnFocus","onFocus",new kd(4,[])],["OnBlur","onBlur",new kd(4,[])],["OnChange","onChange",new kd(4,[])],["OnInput","onInput",new kd(4,[])],["OnSubmit","onSubmit",new kd(4,[])],["OnLoad","onLoad",new kd(4,[])],["OnError","onError",new kd(4,[])],["OnKeyDown","onKeyDown",new kd(4,[])],["OnKeyPress","onKeyPress",new kd(4,[])],["OnKeyUp","onKeyUp",new kd(4,[])],["OnAbort","onAbort",new kd(4,[])],["OnCanPlay","onCanPlay",new kd(4,[])],["OnCanPlayThrough","onCanPlayThrough",new kd(4,[])],["OnDurationChange","onDurationChange",new kd(4,[])],["OnEmptied","onEmptied",new kd(4,[])],["OnEncrypted","onEncrypted",new kd(4,[])],["OnEnded","onEnded",new kd(4,[])],["OnLoadedData","onLoadedData",new kd(4,[])],["OnLoadedMetadata","onLoadedMetadata",new kd(4,[])],["OnLoadStart","onLoadStart",new kd(4,[])],["OnPause","onPause",new kd(4,[])],["OnPlay","onPlay",new kd(4,[])],["OnPlaying","onPlaying",new kd(4,[])],["OnProgress","onProgress",new kd(4,[])],["OnRateChange","onRateChange",new kd(4,[])],["OnSeeked","onSeeked",new kd(4,[])],["OnSeeking","onSeeking",new kd(4,[])],["OnStalled","onStalled",new kd(4,[])],["OnSuspend","onSuspend",new kd(4,[])],["OnTimeUpdate","onTimeUpdate",new kd(4,[])],["OnVolumeChange","onVolumeChange",new kd(4,[])],["OnWaiting","onWaiting",new kd(4,[])],["OnClick","onClick",new kd(4,[])],["OnContextMenu","onContextMenu",new kd(4,[])],["OnDoubleClick","onDoubleClick",new kd(4,[])],["OnDrag","onDrag",new kd(4,[])],["OnDragEnd","onDragEnd",new kd(4,[])],["OnDragEnter","onDragEnter",new kd(4,[])],["OnDragExit","onDragExit",new kd(4,[])],["OnDragLeave","onDragLeave",new kd(4,[])],["OnDragOver","onDragOver",new kd(4,[])],["OnDragStart","onDragStart",new kd(4,[])],["OnDrop","onDrop",new kd(4,[])],["OnMouseDown","onMouseDown",new kd(4,[])],["OnMouseEnter","onMouseEnter",new kd(4,[])],["OnMouseLeave","onMouseLeave",new kd(4,[])],["OnMouseMove","onMouseMove",new kd(4,[])],["OnMouseOut","onMouseOut",new kd(4,[])],["OnMouseOver","onMouseOver",new kd(4,[])],["OnMouseUp","onMouseUp",new kd(4,[])],["OnSelect","onSelect",new kd(4,[])],["OnTouchCancel","onTouchCancel",new kd(4,[])],["OnTouchEnd","onTouchEnd",new kd(4,[])],["OnTouchMove","onTouchMove",new kd(4,[])],["OnTouchStart","onTouchStart",new kd(4,[])],["OnScroll","onScroll",new kd(4,[])],["OnWheel","onWheel",new kd(4,[])],["OnAnimationStart","onAnimationStart",new kd(4,[])],["OnAnimationEnd","onAnimationEnd",new kd(4,[])],["OnAnimationIteration","onAnimationIteration",new kd(4,[])],["OnTransitionEnd","onTransitionEnd",new kd(4,[])],["DefaultChecked","defaultChecked",new kd(5,[])],["DefaultValue","defaultValue",new kd(0,[])],["Accept","accept",new kd(0,[])],["AcceptCharset","acceptCharset",new kd(0,[])],["AccessKey","accessKey",new kd(0,[])],["Action","action",new kd(0,[])],["AllowFullScreen","allowFullScreen",new kd(5,[])],["AllowTransparency","allowTransparency",new kd(5,[])],["Alt","alt",new kd(0,[])],["AriaHasPopup","aria-haspopup",new kd(5,[])],["AriaExpanded","aria-expanded",new kd(5,[])],["Async","async",new kd(5,[])],["AutoComplete","autoComplete",new kd(0,[])],["AutoFocus","autoFocus",new kd(5,[])],["AutoPlay","autoPlay",new kd(5,[])],["Capture","capture",new kd(5,[])],["CellPadding","cellPadding",new kd(3,[])],["CellSpacing","cellSpacing",new kd(3,[])],["CharSet","charSet",new kd(0,[])],["Challenge","challenge",new kd(0,[])],["Checked","checked",new kd(5,[])],["ClassID","classID",new kd(0,[])],["ClassName","className",new kd(0,[])],["Class","class",new kd(0,[])],["Cols","cols",new kd(2,[])],["ColSpan","colSpan",new kd(2,[])],["Content","content",new kd(0,[])],["ContentEditable","contentEditable",new kd(5,[])],["ContextMenu","contextMenu",new kd(0,[])],["Controls","controls",new kd(5,[])],["Coords","coords",new kd(0,[])],["CrossOrigin","crossOrigin",new kd(0,[])],["DataToggle","data-toggle",new kd(0,[])],["DateTime","dateTime",new kd(0,[])],["Default","default",new kd(5,[])],["Defer","defer",new kd(5,[])],["Dir","dir",new kd(0,[])],["Disabled","disabled",new kd(5,[])],["Download","download",new kd(3,[])],["Draggable","draggable",new kd(5,[])],["EncType","encType",new kd(0,[])],["Form","form",new kd(0,[])],["FormAction","formAction",new kd(0,[])],["FormEncType","formEncType",new kd(0,[])],["FormMethod","formMethod",new kd(0,[])],["FormNoValidate","formNoValidate",new kd(5,[])],["FormTarget","formTarget",new kd(0,[])],["FrameBorder","frameBorder",new kd(3,[])],["Headers","headers",new kd(0,[])],["Height","height",new kd(3,[])],["Hidden","hidden",new kd(5,[])],["High","high",new kd(2,[])],["Href","href",new kd(0,[])],["HrefLang","hrefLang",new kd(0,[])],["HtmlFor","htmlFor",new kd(0,[])],["HttpEquiv","httpEquiv",new kd(0,[])],["Icon","icon",new kd(0,[])],["Id","id",new kd(0,[])],["InputMode","inputMode",new kd(0,[])],["Integrity","integrity",new kd(0,[])],["Is","is",new kd(0,[])],["KeyParams","keyParams",new kd(0,[])],["KeyType","keyType",new kd(0,[])],["Kind","kind",new kd(0,[])],["Label","label",new kd(0,[])],["Lang","lang",new kd(0,[])],["List","list",new kd(0,[])],["Loop","loop",new kd(5,[])],["Low","low",new kd(2,[])],["Manifest","manifest",new kd(0,[])],["MarginHeight","marginHeight",new kd(2,[])],["MarginWidth","marginWidth",new kd(2,[])],["Max","max",new kd(3,[])],["MaxLength","maxLength",new kd(2,[])],["Media","media",new kd(0,[])],["MediaGroup","mediaGroup",new kd(0,[])],["Method","method",new kd(0,[])],["Min","min",new kd(3,[])],["MinLength","minLength",new kd(2,[])],["Multiple","multiple",new kd(5,[])],["Muted","muted",new kd(5,[])],["Name","name",new kd(0,[])],["NoValidate","noValidate",new kd(5,[])],["Open","open",new kd(5,[])],["Optimum","pptimum",new kd(2,[])],["Pattern","pattern",new kd(0,[])],["Placeholder","placeholder",new kd(0,[])],["Poster","poster",new kd(0,[])],["Preload","preload",new kd(0,[])],["RadioGroup","radioGroup",new kd(0,[])],["ReadOnly","readOnly",new kd(5,[])],["Rel","rel",new kd(0,[])],["Required","required",new kd(5,[])],["Role","role",new kd(0,[])],["Rows","rows",new kd(2,[])],["RowSpan","rowSpan",new kd(2,[])],["Sandbox","sandbox",new kd(0,[])],["Scope","scope",new kd(0,[])],["Scoped","scoped",new kd(5,[])],["Scrolling","scrolling",new kd(0,[])],["Seamless","seamless",new kd(5,[])],["Selected","selected",new kd(5,[])],["Shape","shape",new kd(0,[])],["Size","size",new kd(2,[])],["Sizes","sizes",new kd(0,[])],["Span","span",new kd(2,[])],["SpellCheck","spellCheck",new kd(5,[])],["Src","src",new kd(0,[])],["SrcDoc","srcDoc",new kd(0,[])],["SrcLang","srcLang",new kd(0,[])],["SrcSet","srcSet",new kd(0,[])],["Start","start",new kd(2,[])],["Step","step",new kd(3,[])],["Summary","summary",new kd(0,[])],["TabIndex","tabIndex",new kd(2,[])],["Target","target",new kd(0,[])],["Title","title",new kd(0,[])],["Type","type",new kd(0,[])],["UseMap","useMap",new kd(0,[])],["Value","value",new kd(0,[])],["Width","width",new kd(3,[])],["Wmode","wmode",new kd(0,[])],["Wrap","wrap",new kd(0,[])],["About","about",new kd(0,[])],["Datatype","datatype",new kd(0,[])],["Inlist","inlist",new kd(3,[])],["Prefix","prefix",new kd(0,[])],["Property","property",new kd(0,[])],["Resource","resource",new kd(0,[])],["Typeof","typeof",new kd(0,[])],["Vocab","vocab",new kd(0,[])],["AutoCapitalize","autoCapitalize",new kd(0,[])],["AutoCorrect","autoCorrect",new kd(0,[])],["AutoSave","autoSave",new kd(0,[])],["ItemProp","itemProp",new kd(0,[])],["ItemScope","itemScope",new kd(5,[])],["ItemType","itemType",new kd(0,[])],["ItemID","itemID",new kd(0,[])],["ItemRef","itemRef",new kd(0,[])],["Results","results",new kd(2,[])],["Security","security",new kd(0,[])],["Unselectable","unselectable",new kd(5,[])]]),Pd=["AlignContent","AlignItems","AlignSelf","AlignmentAdjust","AlignmentBaseline","All","Animation","AnimationDelay","AnimationDirection","AnimationDuration","AnimationFillMode","AnimationIterationCount","AnimationName","AnimationPlayState","AnimationTimingFunction","Appearance","BackfaceVisibility","Background","BackgroundAttachment","BackgroundBlendMode","BackgroundClip","BackgroundColor","BackgroundComposite","BackgroundImage","BackgroundOrigin","BackgroundPosition","BackgroundPositionX","BackgroundPositionY","BackgroundRepeat","BackgroundSize","BaselineShift","Behavior","BlockSize","Border","BorderBlockEnd","BorderBlockEndColor","BorderBlockEndStyle","BorderBlockEndWidth","BorderBlockStart","BorderBlockStartColor","BorderBlockStartStyle","BorderBlockStartWidth","BorderBottom","BorderBottomColor","BorderBottomLeftRadius","BorderBottomRightRadius","BorderBottomStyle","BorderBottomWidth","BorderCollapse","BorderColor","BorderCornerShape","BorderImage","BorderImageOutset","BorderImageRepeat","BorderImageSlice","BorderImageSource","BorderImageWidth","BorderInlineEnd","BorderInlineEndColor","BorderInlineEndStyle","BorderInlineEndWidth","BorderInlineStart","BorderInlineStartColor","BorderInlineStartStyle","BorderInlineStartWidth","BorderLeft","BorderLeftColor","BorderLeftStyle","BorderLeftWidth","BorderRadius","BorderRight","BorderRightColor","BorderRightStyle","BorderRightWidth","BorderSpacing","BorderStyle","BorderTop","BorderTopColor","BorderTopLeftRadius","BorderTopRightRadius","BorderTopStyle","BorderTopWidth","BorderWidth","Bottom","BoxAlign","BoxDecorationBreak","BoxDirection","BoxFlex","BoxFlexGroup","BoxLineProgression","BoxLines","BoxOrdinalGroup","BoxShadow","BoxSizing","BreakAfter","BreakBefore","BreakInside","CaptionSide","CaretColor","Clear","Clip","ClipPath","ClipRule","Color","ColorInterpolation","ColorInterpolationFilters","ColorProfile","ColorRendering","ColumnCount","ColumnFill","ColumnGap","ColumnRule","ColumnRuleColor","ColumnRuleStyle","ColumnRuleWidth","ColumnSpan","ColumnWidth","Columns","Content","CounterIncrement","CounterReset","Cue","CueAfter","Cursor","Direction","Display","DominantBaseline","EmptyCells","EnableBackground","Fill","FillOpacity","FillRule","Filter","Flex","FlexAlign","FlexBasis","FlexDirection","FlexFlow","FlexGrow","FlexItemAlign","FlexLinePack","FlexOrder","FlexShrink","FlexWrap","Float","FloodColor","FloodOpacity","FlowFrom","Font","FontFamily","FontFeatureSettings","FontKerning","FontLanguageOverride","FontSize","FontSizeAdjust","FontStretch","FontStyle","FontSynthesis","FontVariant","FontVariantAlternates","FontVariantCaps","FontVariantEastAsian","FontVariantLigatures","FontVariantNumeric","FontVariantPosition","FontWeight","GlyphOrientationHorizontal","GlyphOrientationVertical","Grid","GridArea","GridAutoColumns","GridAutoFlow","GridAutoRows","GridColumn","GridColumnEnd","GridColumnGap","GridColumnStart","GridGap","GridRow","GridRowEnd","GridRowGap","GridRowPosition","GridRowSpan","GridRowStart","GridTemplate","GridTemplateAreas","GridTemplateColumns","GridTemplateRows","HangingPunctuation","Height","HyphenateLimitChars","HyphenateLimitLines","HyphenateLimitZone","Hyphens","ImageOrientation","ImageRendering","ImageResolution","ImeMode","InlineSize","Isolation","JustifyContent","Kerning","LayoutGrid","LayoutGridChar","LayoutGridLine","LayoutGridMode","LayoutGridType","Left","LetterSpacing","LightingColor","LineBreak","LineClamp","LineHeight","ListStyle","ListStyleImage","ListStylePosition","ListStyleType","Margin","MarginBlockEnd","MarginBlockStart","MarginBottom","MarginInlineEnd","MarginInlineStart","MarginLeft","MarginRight","MarginTop","MarkerEnd","MarkerMid","MarkerStart","MarqueeDirection","MarqueeStyle","Mask","MaskBorder","MaskBorderRepeat","MaskBorderSlice","MaskBorderSource","MaskBorderWidth","MaskClip","MaskComposite","MaskImage","MaskMode","MaskOrigin","MaskPosition","MaskRepeat","MaskSize","MaskType","MaxFontSize","MaxHeight","MaxWidth","MinBlockSize","MinHeight","MinInlineSize","MinWidth","MixBlendMode","ObjectFit","ObjectPosition","OffsetBlockEnd","OffsetBlockStart","OffsetInlineEnd","OffsetInlineStart","Opacity","Order","Orphans","Outline","OutlineColor","OutlineOffset","OutlineStyle","OutlineWidth","Overflow","OverflowStyle","OverflowWrap","OverflowX","OverflowY","Padding","PaddingBlockEnd","PaddingBlockStart","PaddingBottom","PaddingInlineEnd","PaddingInlineStart","PaddingLeft","PaddingRight","PaddingTop","PageBreakAfter","PageBreakBefore","PageBreakInside","Pause","PauseAfter","PauseBefore","Perspective","PerspectiveOrigin","PointerEvents","Position","PunctuationTrim","Quotes","RegionFragment","Resize","RestAfter","RestBefore","Right","RubyAlign","RubyMerge","RubyPosition","ScrollBehavior","ScrollSnapCoordinate","ScrollSnapDestination","ScrollSnapType","ShapeImageThreshold","ShapeInside","ShapeMargin","ShapeOutside","ShapeRendering","Speak","SpeakAs","StopColor","StopOpacity","Stroke","StrokeDasharray","StrokeDashoffset","StrokeLinecap","StrokeLinejoin","StrokeMiterlimit","StrokeOpacity","StrokeWidth","TabSize","TableLayout","TextAlign","TextAlignLast","TextAnchor","TextCombineUpright","TextDecoration","TextDecorationColor","TextDecorationLine","TextDecorationLineThrough","TextDecorationNone","TextDecorationOverline","TextDecorationSkip","TextDecorationStyle","TextDecorationUnderline","TextEmphasis","TextEmphasisColor","TextEmphasisPosition","TextEmphasisStyle","TextHeight","TextIndent","TextJustify","TextJustifyTrim","TextKashidaSpace","TextLineThrough","TextLineThroughColor","TextLineThroughMode","TextLineThroughStyle","TextLineThroughWidth","TextOrientation","TextOverflow","TextOverline","TextOverlineColor","TextOverlineMode","TextOverlineStyle","TextOverlineWidth","TextRendering","TextScript","TextShadow","TextTransform","TextUnderlinePosition","TextUnderlineStyle","Top","TouchAction","Transform","TransformBox","TransformOrigin","TransformOriginZ","TransformStyle","Transition","TransitionDelay","TransitionDuration","TransitionProperty","TransitionTimingFunction","UnicodeBidi","UnicodeRange","UserFocus","UserInput","VerticalAlign","Visibility","VoiceBalance","VoiceDuration","VoiceFamily","VoicePitch","VoiceRange","VoiceRate","VoiceStress","VoiceVolume","WhiteSpace","WhiteSpaceTreatment","Widows","Width","WillChange","WordBreak","WordSpacing","WordWrap","WrapFlow","WrapMargin","WrapOption","WritingMode","ZIndex","Zoom"];var Nd=n(3719);function Od(e){return Ee(4*e," ")}function Id(e,t){switch(e.tag){case 4:return"(fun _ -> ())";case 2:return t.indexOf(".")>=0?t:t+".";case 5:switch(t){case"true":return"true";case"false":return"false";default:return fe(ue("`%s` is not a valid bool value"))(t)}case 3:case 1:return t;default:return'"'+t+'"'}}function Ad(e,t){return t+e}function Fd(e,t){return e+t}const Md=Dt(["area","base","br","col","embed","hr","img","input","keygen","link","menuitem","meta","param","source","track","wbr"]);function qd(e,t){return 0|((n,r)=>{e:for(;;){const o=n,i=r;if(o<e.length){if(e[o]===t){n=o+1,r=i+1;continue e}return 0|i}return 0|i}})(0,0)}function Ld(){const e=Oe(Ut.window.activeTextEditor),t=e.document.getText(e.selection);return 0===t.length?Ut.window.showWarningMessage("No selection found, please select some HTML text and try again.").then((e=>!1)):e.edit((n=>{n.replace(e.selection,function(e){let t="",n=-1;const r=new Map([]),o={onopentag:(e,o)=>{let i,s;const a=Es("$",((e,t)=>function(e,t,n){const r=function(e,t){return null!==t&&Object.getPrototypeOf(t||!1)===Object.prototype?new pr(0,[kt(Object.keys(t))]):new pr(1,[[e,new Uo(0,["an object",t])]])}(t,n);return 1===r.tag?new pr(1,[r.fields[0]]):fr(Tt,St(((r,o)=>{if(0===r.tag){const i=e(t,n[o]);return 0===i.tag?new pr(0,[gt([o,i.fields[0]],r.fields[0])]):new pr(1,[i.fields[0]])}return r}),new pr(0,[mt()]),r.fields[0]))}(Ds,e,t)),o);if(1===a.tag)throw new Error(a.fields[0]);s=a.fields[0],n=n+1|0,_((i=!1,[_a(r,n,new L((()=>i),(e=>{i=e}))),i]),[!0,!0])?t=t+"\n"+Od(n)+" ":r.set(n,!0),0!==n&&(t+=" ");const c=We(t.split("\n")),u=c.trim();if(0===u.indexOf("[")&&1!==u.length&&(t=Re(t),t=t+"\n"+Ee(qd(c," ")+2," ")),t+=e,t+=" [",wt(s)>0){const e=Ad(" ",_e("\n",function(e,t){const n=ut(),r=function(e,t,n){return((t,n,r)=>{for(;;){const o=t,i=n,s=r;if(dt(s))return i;t=o+1,n=e(o,i,pt(s)),r=ft(s)}})(0,t,n)}(((t,n,r)=>{const o=new at(e(t,r),void 0);return n.tail=o,o}),n,t),o=ut();return r.tail=o,ft(n)}(((e,n)=>0===e?" "+n:Ee(We(t.split("\n")).lastIndexOf("[")+2," ")+n),function(e,t){return Nt((t=>{let n;const r=t[0],o=t[1],i=It((e=>r.toLocaleLowerCase()===e[1].toLocaleLowerCase()),Rd);return null==i?r.indexOf("data-")>=0?'HTMLAttr.Data ("'+Pe(r,"data-".length)+'", '+Id(new kd(0,[]),o)+")":"style"===r?Ad(" ]",Fd("Style [ ",_e("\n",function(e,t,n){const r=0|t.length,o=He(void 0,r);for(let n=0;n<=r-1;n++)o[n]=e(n,t[n]);return o}(((t,n)=>0===t?n:Ee(e.lastIndexOf("[")+2," ")+Ee("Style [ ".length," ")+n),ze((e=>{const t=e.split(":");if(rt(((e,t)=>e===t),t,null)||2!==t.length)return Fd("invalid_css: ",_e(":",t));{const e=t[1],n=t[0].trim(),r=e.trim(),o=_e("",ze((e=>e.slice(void 0,1).toUpperCase()+e.slice(1,e.length)),n.split("-")));return Xe(o,Pd,{Equals:(e,t)=>e===t,GetHashCode:f})?o+" "+Id(new kd(0,[]),r):'CSSProp.Custom ("'+n+'", '+Id(new kd(0,[]),r)+")"}}),(n=o.split(";"),n.filter((e=>!be(e))))))))):'HTMLAttr.Custom ("'+r+'", '+Id(new kd(0,[]),o)+")":i[0]+" "+Id(i[2],o)}),t)}(We(t.split("\n")),s))));t+=e}else t+=" ";t+="]",Lt(e,Md,{Equals:(e,t)=>e===t,GetHashCode:f})||(t=t+"\n"+Od(n+1)+"[")},ontext:e=>{const n=e.trim();if(!be(n)){const e=We(t.split("\n")),r=e.trim();we(r)||(t=Re(t),0===r.indexOf("[")&&1===r.length?t+=" ":t=0===r.indexOf("[")&&1!==r.length?t+"\n"+Ee(qd(e," ")+2," "):t+"\n"+Ee(qd(e," ")," ")),n.length>0&&(t=t+'str "'+n+'"')}},onclosetag:e=>{let o;_((o=!1,[_a(r,n+1,new L((()=>o),(e=>{o=e}))),o]),[!0,!0])&&r.delete(n+1),n=n-1|0,Lt(e,Md,{Equals:(e,t)=>e===t,GetHashCode:f})||(t+=" ]")}};return new Nd.Parser(o).write(e),t}(t))}))}var jd=n(3787);function Hd(e){if(null!=e&&null!=e.document){let t;switch(fo(e.document).tag){case 0:case 3:t=0;break;default:t=1}return 0===t}return!1}const $d=jd.getDefaultOptions();$d.tables=!0;const Ud=new jd.Converter($d);let Bd,Wd=D(void 0),zd=D(!1);function Gd(e){jr((t=>{const n=Ud.makeHtml(e),r=pe(ue("\r\n                    <html>\r\n                    <head>\r\n                    <meta http-equiv=\"Content-Security-Policy\" content=\"default-src 'none'; style-src 'unsafe-inline';\">\r\n                    <style>\r\n                    pre {\r\n                      color: var(--vscode-editor-foreground);\r\n                      font-family: var(--vscode-editor-font-family);\r\n                      font-weight: var(--vscode-editor-font-weight);\r\n                      font-size: var(--vscode-editor-font-size);\r\n                    }\r\n                    code {\r\n                      font-family: var(--vscode-editor-font-family);\r\n                      font-weight: var(--vscode-editor-font-weight);\r\n                      font-size: var(--vscode-editor-font-size);\r\n                    }\r\n                    </style>\r\n                    </head>\r\n                    <body>\r\n                    %s\r\n                    </body>\r\n                    </html>\r\n                    "))(n);t.webview.html=r}),Fe(Wd()))}function Vd(e){let t;if(wo(e)){const n=e.Data,r=e=>{const t=_e("\n",e);return be(t)?"":pe(ue("<pre>\n%s\n</pre>"))(t)},o=r((t=lo(["\n"],n.Signature),t.filter((e=>!be(e))))),i=n.Comment,s=_e("\n\n",n.FooterLines),a=r(Gc(Ft((e=>!be(e)),n.Constructors),{Equals:(e,t)=>e===t,GetHashCode:f})),c=r(Ht(Gc(Ft((e=>!be(e)),n.Interfaces),{Equals:(e,t)=>e===t,GetHashCode:f}),{Compare:T})),u=r(Ht(Gc(Ft((e=>!be(e)),n.Attributes),{Equals:(e,t)=>e===t,GetHashCode:f}),{Compare:T})),l=r(Gc(Ft((e=>!be(e)),n.Functions),{Equals:(e,t)=>e===t,GetHashCode:f})),d=r(Gc(Ft((e=>!be(e)),n.Fields),{Equals:(e,t)=>e===t,GetHashCode:f})),h=r(Gc(Ft((e=>!be(e)),n.DeclaredTypes),{Equals:(e,t)=>e===t,GetHashCode:f}));return _e("\n",kr(Tr((()=>Nr(Dr(o),Tr((()=>Nr(be(i)?xr():Nr(Dr("---"),Tr((()=>Nr(Dr(i),Tr((()=>Dr("\n"))))))),Tr((()=>Nr(be(h)?xr():Nr(Dr("---"),Tr((()=>Nr(Dr("#### Declared Types"),Tr((()=>Nr(Dr(h),Tr((()=>Dr("\n")))))))))),Tr((()=>Nr(be(u)?xr():Nr(Dr("---"),Tr((()=>Nr(Dr("#### Attributes"),Tr((()=>Nr(Dr(u),Tr((()=>Dr("\n")))))))))),Tr((()=>Nr(be(c)?xr():Nr(Dr("---"),Tr((()=>Nr(Dr("#### Implemented Interfaces"),Tr((()=>Nr(Dr(c),Tr((()=>Dr("\n")))))))))),Tr((()=>Nr(be(a)?xr():Nr(Dr("---"),Tr((()=>Nr(Dr("#### Constructors"),Tr((()=>Nr(Dr(a),Tr((()=>Dr("\n")))))))))),Tr((()=>Nr(be(l)?xr():Nr(Dr("---"),Tr((()=>Nr(Dr("#### Functions"),Tr((()=>Nr(Dr(l),Tr((()=>Dr("\n")))))))))),Tr((()=>Nr(be(d)?xr():Nr(Dr("---"),Tr((()=>Nr(Dr("#### Fields"),Tr((()=>Nr(Dr(d),Tr((()=>Dr("\n")))))))))),Tr((()=>be(s)?xr():Nr(Dr("---"),Tr((()=>Dr(s))))))))))))))))))))))))))))))))}}function Kd(e,t){hr(0,dr(0,(()=>{if(Hd(e)&&t.length>0&&null!=Wd()){const n=e.document,r=t[0].active;return ao(0,pa(n.uri,~~r.line,~~r.character)).then((e=>(jr((e=>{Gd(e)}),Fe(je(Vd,e))),Promise.resolve())))}return Promise.resolve(void 0)})))}function Xd(){null!=Bd&&(clearTimeout(Bd),Bd=void 0)}function Yd(){return hr(0,dr(0,(()=>{if(null==Wd()){const e={enableCommandUris:!0,enableFindWidget:!0,retainContextWhenHidden:!0},t={preserveFocus:!0,viewColumn:-2},n=Ut.window.createWebviewPanel("infoPanel","Info Panel",t,Ae(e));n.onDidChangeViewState((e=>{ko("infoPanelFocused",e.webviewPanel.active)})),n.onDidDispose((()=>{Xd(),Wd(void 0)})),Wd(n);const r=Oe(Ut.window.activeTextEditor),o=r.selections;return zd()||Kd(r,o),Promise.resolve()}return Wd().reveal(-2,!0),Promise.resolve()})))}function Jd(e){const t=go(!1,"FSharp.infoPanelStartLocked"),n=go(!1,"FSharp.infoPanelShowOnStartup"),r=Ut.window.onDidChangeTextEditorSelection((e=>{let t;return Ae(void(t=function(e){const t=go("onCursorMove","FSharp.infoPanelUpdate");zd()||"onCursorMove"!==t&&"both"!==t||(Xd(),Bd=setTimeout((()=>{Kd(e.textEditor,e.selections)}),500))}(e)))}));e.subscriptions.push(r);const o=Xs((e=>{let t;return Ae(void(t=void(C(e.document,Oe(Ut.window.activeTextEditor).document)&&!zd()&&(Xd(),Kd(Oe(Ut.window.activeTextEditor),Oe(Ut.window.activeTextEditor).selections)))))}));e.subscriptions.push(o);const i=Ys((e=>{let t;return Ae(void(t=function(e){const t=go("onCursorMove","FSharp.infoPanelUpdate");"onHover"!==t&&"both"!==t||(Xd(),Bd=setTimeout((()=>{!function(e,t){hr(0,dr(0,(()=>Hd(e)&&null!=Wd()?ao(0,pa(e.document.uri,~~t.line,~~t.character)).then((e=>(jr((e=>{Gd(e)}),Fe(je(Vd,e))),Promise.resolve()))):Promise.resolve(void 0))))}(Oe(Ut.window.activeTextEditor),e)}),500))}(e)))}));e.subscriptions.push(i);const s=Ut.commands.registerCommand("fsharp.openInfoPanel",(e=>Yd()));e.subscriptions.push(s);const a=Ut.commands.registerCommand("fsharp.updateInfoPanel",(e=>{!function(){if(null==Wd())Yd();else{const e=Oe(Ut.window.activeTextEditor);Kd(e,e.selections)}}()}));e.subscriptions.push(a);const c=Ut.commands.registerCommand("fsharp.openInfoPanel.lock",(e=>(zd(!0),void ko("infoPanelLocked",!0))));e.subscriptions.push(c);const u=Ut.commands.registerCommand("fsharp.openInfoPanel.unlock",(e=>(zd(!1),void ko("infoPanelLocked",!1))));e.subscriptions.push(u);const l=Ut.commands.registerCommand("fsharp.showDocumentation",(e=>{return t=e,hr(0,dr(0,(()=>(null==Wd()?ao(0,Yd()).then((()=>Promise.resolve(void 0))):Promise.resolve()).then((()=>dr(0,(()=>{return ao(0,(e=t.XmlDocSig,n=t.AssemblyName,hr(0,dr(0,(()=>ao(0,function(e,t){if(null!=la()){const n=la(),r=new kn(e,t);return n.sendRequest("fsharp/documentationSymbol",r).then((e=>{let t;const n=e;return null==n?void 0:(t=xs(N(zs(rr(Pn()),void 0,void 0)),n.content),1===t.tag?(()=>{throw new Error(t.fields[0])})():t.fields[0])}))}return Co()}(e,n)).then((e=>(jr((e=>{Gd(e)}),Fe(je(Vd,e))),Promise.resolve())))))))).then((()=>Promise.resolve(void 0)));var e,n})))))));var t}));e.subscriptions.push(l),t&&zd(!0),n&&Fr(Hd,Ut.window.visibleTextEditors)&&Yd()}const Qd="FSharp.suggestGitignore",Zd=Xt("GitIgnore",new Bt(0,[]),void 0,new Bt(0,[]));function eh(){return Mo.join(Oe(Ut.workspace.workspaceFolders)[0].uri.fsPath,".gitignore")}class th extends M{constructor(e,t){super(),this.tag=e,this.fields=t}cases(){return["FileNotFound","MissingPatterns"]}}const nh=vt(".fake");function rh(){return hr(0,dr(0,(()=>{const e=function(e){const t=_s(e,{Compare:T});try{return Jt(Zd,"gitignore path:",eh()),new th(1,[(r=nt(((e,t)=>{const n=De(t,"\t"," ","/","\\");return bs(n,e)?function(e,t){return function(e,t){return ms(gs(e),Zi(gs(e),t,vs(e)))}(t,e)}(n,e):e}),t,lo(["\n","\r"],Xr.readFileSync(eh(),"utf8"))),n=r,function(e){const t=(e,n)=>{e:for(;;){const r=e,o=n;if(null!=r){const i=Oe(r);if(i instanceof Ui){const r=i;e=Wi(r),n=gt($i(r),t(zi(r),o));continue e}return gt($i(i),o)}return o}};return t(e,mt())}(vs(n)))])}catch(e){return Jt(Zd,"Error accessing gitignore file",e),new th(0,[])}var n,r}(nh);return 1===e.tag?yt(e.fields[0])?Promise.resolve():so(0,Ut.window.showInformationMessage("You are missing entries in your .gitignore for Ionide-specific data files. Would you like to add them?",bo("Add entries"),bo("Ignore"),bo("Don't show again"))).then((t=>{let n,r,o;const i=t;let s;if(s=null!=i&&null!=("Add entries"===(o=i,o.title)?Ae(void 0):void 0)?0:1,0===s)return function(e){const t=_e("\n",e);Xr.appendFileSync(eh(),"\n"+t,Ae("utf8"))}(e.fields[0]),Promise.resolve();{let e;if(e=null!=i&&null!=("Ignore"===(r=i,r.title)?Ae(void 0):void 0)?0:1,0===e)return so(0,vo(Qd,Ae(!1))).then((()=>Promise.resolve(void 0)));{let e;return e=null!=i&&null!=("Don't show again"===(n=i,n.title)?Ae(void 0):void 0)?0:1,0===e?so(0,yo(Qd,Ae(!1))).then((()=>Promise.resolve(void 0))):Promise.resolve()}}})):Promise.resolve()})))}var oh=n(647),ih=n(7691);const sh=oh.a;class ah extends M{constructor(e,t){super(),this.tag=e,this.fields=t}cases(){return["Single","Many"]}}function ch(e,t,n,r){return e(n,t,1!==r.tag)}class uh{constructor(e,t){this.xmlDoc=e,this.selectXPath=ih.useNamespaces({t})}}function lh(e,t){return ch(e.selectXPath,e.xmlDoc,t,new ah(1,[]))}function dh(e,t,n){return ch(e.selectXPath,t,`string(${n})`,new ah(0,[]))}function hh(e,t,n){const r=dh(e,t,n);return be(r)?void 0:r}class ph{constructor(e,t){this.buf=[],we(e)||this.buf.push(e)}toString(){return _e("",this.buf)}}function fh(e,t){return e.buf.push(t),e}new Map([]);const mh=Ut.window.createOutputChannel("F# - Test Adapter"),gh=Xt("TestExplorer",new Bt(0,[]),mh,new Bt(0,[]));function vh(e,t,n,r){let o,i;const s=new Ic(new Ic(ze((t=>[e(t),t]),n),{Equals:C,GetHashCode:y}),{Equals:C,GetHashCode:y}),a=new Ic(new Ic(ze((e=>[t(e),e]),r),{Equals:C,GetHashCode:y}),{Equals:C,GetHashCode:y}),c=_s(s.keys(),{Compare:x}),u=_s(a.keys(),{Compare:x}),l=(d=c,null==vs(h=u)?h:null==vs(d)?d:ms(gs(d),is(gs(d),vs(d),vs(h))));var d,h;const p=ze((e=>[Ta(s,e),Ta(a,e)]),Array.from(l)),f=Cs(c,l),m=Cs(u,l),g=Ta;return[(o=Array.from(f),ze(O(g)(s),o)),p,(i=Array.from(m),ze(O(g)(a),i))]}function yh(e){return e.Project}class wh extends q{constructor(e,t){super(),this.Text=e,this.SeparatorBefore=t}}const bh=new wh("",""),_h=/([+\.]?)([^+\.]+)/gu;function Ch(e){return Nt((e=>new wh(e[2]||"",e[1]||"")),Rr(Tr((()=>{let t;return Br((e=>e),(t=re(_h,e),Pr((()=>c(t)),(e=>e["System.Collections.IEnumerator.MoveNext"]()?Ae(e["System.Collections.IEnumerator.get_Current"]()):void 0),(e=>{const t=e;o(t)&&i(t)}))))}))))}function Sh(e,t){return`${e}${t.SeparatorBefore}${t.Text}`}function Th(e,t){return""===e?t:`${e}.${t}`}class Eh extends q{constructor(e,t){super(),this.data=e,this.relativePath=t}}class xh extends q{constructor(e,t,n,r){super(),this.Data=e,this.FullName=t,this.Name=n,this.Children=r}}function Dh(e){const t=(e,n)=>{const r=function(e,t,n){const r=0|t.length,o=He(n,r),i=He(n,r);let s=0,a=0;for(let e=0;e<=r-1;e++)1===wt(t[e].relativePath)?(o[s]=t[e],s=s+1|0):(i[a]=t[e],a=a+1|0);return[Ge(s,o),Ge(a,i)]}(0,n);return Ve([ze((t=>{const n=bt(t.relativePath);return new xh(Ae(t.data),Sh(e,n),n.Text,[])}),r[0]),ze((n=>{const r=n[0],o=Sh(e,r);return new xh(void 0,Sh(e,r),r.Text,t(o,ze((e=>new Eh(e.data,_t(e.relativePath))),n[1])))}),zc((e=>bt(e.relativePath)),r[1],{Equals:C,GetHashCode:w}))])};return t("",ze((e=>new Eh(e.Data,Ch(e.FullName))),e))}function kh(e){const t=[];return e.forEach(((e,n)=>{t.push(e)})),t.slice()}function Rh(e){return e.testFramework}class Ph extends q{constructor(e,t,n,r,o,i,s,a){super(),this.FullTestName=e,this.Outcome=t,this.ErrorMessage=n,this.ErrorStackTrace=r,this.Expected=o,this.Actual=i,this.Timing=s,this.TestFramework=a}}function Nh(e){return Xr.existsSync(e)?e:void 0}function Oh(e){return Mo.basename(e,Mo.extname(e))}function Ih(e){return po("executor://nunit",e)?"NUnit":po("executor://mstest",e)?"MSTest":po("executor://xunit",e)?"XUnit":po("executor://yolodev",e)?"Expecto":void 0}class Ah extends q{constructor(e){super(),this.Id=e}}class Fh extends q{constructor(e,t,n){super(),this.AdapterTypeName=e,this.ClassName=t,this.Name=n}}class Mh extends q{constructor(e,t,n){super(),this.Name=e,this.Execution=t,this.TestMethod=n}}function qh(e){const t=Ih(e.TestMethod.AdapterTypeName);let n;if(null!=t)switch(t){case"NUnit":n=0;break;case"MSTest":n=1;break;default:n=2}else n=2;switch(n){case 0:return Th(e.TestMethod.ClassName,e.TestMethod.Name);case 1:return Th(e.TestMethod.ClassName,e.Name);default:return e.Name}}class Lh extends q{constructor(e,t){super(),this.Message=e,this.StackTrace=t}}class jh extends q{constructor(e){super(),this.ErrorInfo=e}}class Hh extends q{constructor(e,t,n,r){super(),this.ExecutionId=e,this.Outcome=t,this.Duration=n,this.Output=r}}class $h extends q{constructor(e,t){super(),this.UnitTest=e,this.UnitTestResult=t}}function Uh(e){return n=Xr.readFileSync(e,"utf8"),t=(new sh).parseFromString(n),new uh(t,"http://microsoft.com/schemas/VisualStudio/TeamTest/2010");var t,n}function Bh(e){return ze((t=>{const n=dh(e,t,"t:Execution/@id"),r=dh(e,t,"@name"),o=dh(e,t,"t:TestMethod/@className"),i=dh(e,t,"t:TestMethod/@name");return new Mh(r,new Ah(n),new Fh(dh(e,t,"t:TestMethod/@adapterTypeName"),o,i))}),lh(e,"/t:TestRun/t:TestDefinitions/t:UnitTest"))}function Wh(e,t,n,r,o){if(o.isCancellationRequested)return hr(0,dr(0,(()=>Promise.resolve([void 0,"",""]))));{const i={};return i.cwd=Ut.workspace.rootPath,jr((e=>{i.env=e}),Fe(n)),new Promise(((n,s)=>{const a=[],c=[];let u;const l=Qr(((e,t)=>{n([u,_e("\n",a),_e("\n",c)])}),eo((e=>{c.push(F(e))}),to((e=>{u=Ae(e)}),Zr((e=>{r(e),a.push(F(e))}),Jr.spawn(e,t,i)))));o.onCancellationRequested((e=>{l.kill("SIGINT")}))}))}}const zh=/Process Id: (.*),/gu;class Gh extends M{constructor(e,t){super(),this.tag=e,this.fields=t}cases(){return["Debug","NoDebug"]}}function Vh(e,t,n,r,o,i){const s=kr(Tr((()=>Nr(Dr("test"),Tr((()=>Nr(Dr(`"${t}"`),Tr((()=>Nr(Dr(`--framework:"${n}"`),Tr((()=>Nr(null!=r?Dr(`--logger:"trx;LogFileName=${Oe(r)}"`):xr(),Tr((()=>Nr(Dr("--noLogo"),Tr((()=>i))))))))))))))))));if(Jt(gh,`Running \`dotnet ${_e(" ",s)}\``),1===o.tag)return Wh("dotnet",Array.from(s),void 0,(e=>{}),e);{let t,n=!1;const r=process.env;return r.VSTEST_HOST_DEBUG=1,t=Ae(r),Wh("dotnet",Array.from(s),t,(e=>{if(!n){const t=function(e){const t=ne(zh,e);return null!=t?t[1]||"":void 0}(F(e));null!=t&&(function(e){const t={name:".NET Core Attach",processId:e,request:"attach",type:"coreclr"},n=Oe(Ut.workspace.workspaceFolders)[0];hr(0,dr(0,(()=>ao(0,Ut.debug.startDebugging(n,t)).then((e=>ao(0,new Promise((e=>setTimeout(e,2e3)))).then((()=>(Ut.commands.executeCommand("workbench.action.debug.continue"),Promise.resolve()))))))))}(t),n=!0)}}),e)}}function Kh(e,t,n,r,o,i){return hr(0,dr(0,(()=>{const s=null!=r?["--filter",`"${r}"`]:new Array(0);return(s.length>0?(Jt(gh,"Filter",s),Promise.resolve()):Promise.resolve()).then((()=>dr(0,(()=>ao(0,Vh(i,e,t,n,o,kr(Tr((()=>Nr(Dr("--no-build"),Tr((()=>s)))))))).then((e=>{const t=e[1],n=e[2],r=e[0];return(null==r?(Jt(gh,"Test run exitCode - %s - %s",t,n),Promise.resolve()):(Zt(gh,"Test run failed - %s - %s - %s",r,t,n),Promise.resolve())).then((()=>dr(0,(()=>Promise.resolve(t+n)))))}))))))})))}class Xh extends q{constructor(e,t){super(),this.Uri=e,this.Range=t}}function Yh(e){return Le((e=>e.Uri),e)}function Jh(e){return je((e=>e.Range),e)}function Qh(e){const t=e.uri;return null!=t?new Xh(t,e.range):void 0}class Zh{constructor(){this.locationCache=new Map([])}}function ep(e,t,n){e.locationCache.set(t,n)}function tp(e,t){return e.locationCache.has(t)?e.locationCache.get(t):null}const np=" -- ";function rp(e,t){return _e(np,[e,t])}function op(e){return rp(e,"")}function ip(e){const t=xe(e,[np],void 0,0);return[t[0],t[1]]}function sp(e){return ip(e)[1]}function ap(e){return e.id}function cp(e){const t=e=>0===e.children.size?[e]:Ke(t,kh(e.children));return t(e)}function up(e){return Wc(ap,Ke(cp,e),{Equals:(e,t)=>e===t,GetHashCode:f})}class lp extends q{constructor(e,t,n,r,o,i){super(),this.id=e,this.label=t,this.uri=n,this.range=r,this.children=o,this.testFramework=i}}function dp(e){return t=>{let n;const r=t.uri;if(null==r)n=e.createTestItem(t.id,t.label);else{const o=r;n=e.createTestItem(t.id,t.label,o)}let o;const i=n.children;o=e=>{i.add(e)},t.children.forEach(o),n.range=t.range;const s=t.testFramework;if(null==s);else{const e=s;n.testFramework=e}return n}}function hp(e,t,n,r){const o=r=>{const i=rp(n,r.FullName),s=t(i);return e(new lp(i,r.Name,Yh(s),Jh(s),ze(o,r.Children),void 0))};return o(r)}function pp(e,t,n,r){return e(new lp(op(t),`${Oh(t)} (${n})`,void 0,void 0,r,void 0))}function fp(e){const t=_s(["Microsoft.TestPlatform.TestHost","Microsoft.NET.Test.Sdk"],{Compare:T});return e.PackageReferences.some((e=>bs(e.Name,t)))}function mp(e,t,n,r){return ze((n=>{const r=n[0],o=r.Project;return pp(e,o,r.Info.TargetFramework,ze((n=>{const r=function(e,t){const n=e=>{const t=je((e=>Ih(e.TestMethod.AdapterTypeName)),e.Data);return null!=t?t:et(n,e.Children)};return n(t)}(0,n);return hp((t=>e(new lp(t.id,t.label,t.uri,t.range,t.children,r))),t,o,n)}),Dh(ze((e=>({Data:e,FullName:qh(e)})),n[1]))))}),ze((e=>{return[e[0],(t=e[1],Bh(Uh(t)))];var t}),tt((e=>{const t=Nh(n(e.Project));return null==t?void 0:[e,t]}),Ct(r))))}class gp extends q{constructor(e,t,n,r,o){super(),this.ProjectPath=e,this.TargetFramework=t,this.ShouldDebug=n,this.Tests=r,this.HasIncludeFilter=o}}function vp(e,t){let n;e.appendOutput((n=oe(t,"\\r\\n|\\n\\r|\\n|\\r","\r\n"),pe(ue("%s\r\n"))(n)))}function yp(e,t,n){n.forEach((n=>{e.errored(n,new Ut.TestMessage(t))}))}class wp extends M{constructor(e,t){super(),this.tag=e,this.fields=t}cases(){return["WithCancel","NoCancel"]}}const bp=["\\","(",")","&","|","=","!","~"],_p=function(e,t){return ms(t,ps(t,e))}(bp,{Compare:T});function Cp(e){return _e("|",ze((e=>{let t,n;const r=sp(e.id);let o;const i=r;if(function(e,t,...n){if(null==e||""===e)return-1;const r=n.length>0?n[0]:0;if(r<0)throw new Error("Start index cannot be negative");const o=n.length>1?n[1]:e.length-r;if(o<0)throw new Error("Length cannot be negative");if(r+o>e.length)throw new Error("Invalid startIndex and length");e=e.substring(r,r+o);for(const n of t){const t=e.indexOf(n);if(t>-1)return t+r}return-1}(i,bp)<0)o=i;else{const e=new ph("",16);for(let t=0;t<=i.length-1;t++){const n=i[t];ws(_p,n)&&fh(e,"\\"),fh(e,n)}o=F(e)}return o.indexOf(" ")>=0&&"NUnit"===Rh(e)?`(FullyQualifiedName~${o.split(" ")[0]})`:"XUnit"===Rh(e)?`(DisplayName${0===e.children.size?"=":"~"}${o})`:"MSTest"===Rh(e)&&ho(")",r)?`(FullyQualifiedName~${t=o,n=0|t.lastIndexOf(" \\("),-1===n?t:Pe(t,0,n)})`:0===e.children.size?`(FullyQualifiedName=${o})`:`(FullyQualifiedName~${o})`}),e))}function Sp(e,t,n){switch(n.Outcome){case"Passed":e.passed(t,n.Timing);break;case"Failed":{let r;const o=n.ErrorMessage;if(null==o)r="No error reported";else{const e=o;r=Me(Le((t=>pe(ue("%s\n%s"))(e)(t)),n.ErrorStackTrace),e)}const i=new Ut.TestMessage(r);i.location=function(e){const t=e.uri,n=e.range;let r,o,i;if(null!=t&&null!=n?(r=0,o=n,i=t):r=1,0===r)return new Ut.Location(i,o)}(t),i.expectedOutput=n.Expected,i.actualOutput=n.Actual,function(e,t,n,r){e.failed(t,n,r)}(e,t,i,n.Timing);break}default:e.skipped(t)}}function Tp(e){let t;const n=e.UnitTestResult.Output.ErrorInfo.Message;if(null!=n){const e=ze(ke,xe(n,["\r\n","\n"],void 0,1)),r=t=>Le((e=>ke(Te(e,t,""))),Qe((e=>0===e.indexOf(t)),e));t=[r("Expected:"),r("But was:")]}else t=[void 0,void 0];return new Ph(qh(e.UnitTest),e.UnitTestResult.Outcome,e.UnitTestResult.Output.ErrorInfo.Message,e.UnitTestResult.Output.ErrorInfo.StackTrace,t[0],t[1],ii(e.UnitTestResult.Duration),Ih(e.UnitTest.TestMethod.AdapterTypeName))}function Ep(e,t,n,r,o){return hr(0,dr(0,(()=>{const i=o.ProjectPath,s=Wc(ap,Ke(cp,o.Tests),{Equals:(e,t)=>e===t,GetHashCode:f});!function(e,t){t.forEach((t=>{e.started(t)}))}(n,s);const a=o.HasIncludeFilter?Cp(o.Tests):void 0,c=t(i);return ao(0,Kh(i,o.TargetFramework,c,a,(u=o.ShouldDebug,new Gh(u?0:1,[])),r)).then((t=>{vp(n,t);const r=ze(Tp,function(e){const t=Uh(e);return ze((e=>new $h(e[0],e[1])),vh((e=>e.Execution.Id),(e=>e.ExecutionId),Bh(t),function(e){return ze((t=>{let n,r;const o=dh(e,t,"@executionId"),i=dh(e,t,"@outcome"),s=hh(e,t,"t:Output/t:ErrorInfo/t:Message"),a=hh(e,t,"t:Output/t:ErrorInfo/t:StackTrace");return new Hh(o,i,(r=0,n=[si(dh(e,t,"@duration"),new L((()=>r),(e=>{r=e}))),r],n[0]?n[1]:0),new jh(new Lh(s,a)))}),lh(e,"/t:TestRun/t:Results/t:UnitTestResult"))}(t))[1])}(c));if(0===r.length){const e=`WARNING: No tests ran for project "${i}". \nThe test explorer might be out of sync. Try running a higher test or refreshing the test explorer`;return Ut.window.showWarningMessage(e),vp(n,e),Promise.resolve()}return e(n,i,o.TargetFramework,s,r),Promise.resolve()}));var u})))}function xp(e,t,n,r,o){const i=e.createTestRun(r);if(Jt(gh,"TestRunRequest",r),e.items.size<1)i.end();else{const s=function(e,t){return ze((e=>{let n;const r=e[0],o=e[1],i=qe(je((e=>{if(1===e.tag)return e.fields[0];throw new Error(`Could not run tests: project not loaded. ${r}`)}),Va(r)),(()=>{const e=`Could not run tests: project does not found in workspace. ${r}`;throw Zt(gh,e),new Error(e)})),s=Me(Le((e=>2===e.kind),t.profile),!1);let a,c;return c=!rt(C,o,null)&&1===o.length&&o[0].id===op(i.Project),a=null!=t.include&&!c,new gp(r,i.Info.TargetFramework,s,(n=op(i.Project),Wc(ap,Ke((e=>e.id===n?kh(e.children):[e]),o),{Equals:(e,t)=>e===t,GetHashCode:f})),a)}),zc((e=>ip(ap(e))[0]),Me(Le((e=>Array.from(e)),t.include),kh(e)),{Equals:(e,t)=>e===t,GetHashCode:f}))}(e.items,r),a=dp(e);let c;const u=e.items;c=e=>n=>r=>o=>i=>{!function(e,t,n,r,o,i,s,a){const c=vh((e=>sp(e.id)),(e=>e.FullTestName),s,a);c[1].forEach((e=>{Sp(r,e[0],e[1])})),c[0].forEach((t=>{let n;const r=t.parent;n=null==r?e:r.children,n.delete(t.id)})),c[2].forEach((s=>{Sp(r,function(e,t,n,r,o,i){let s;const a=r,c=e.get(op(a));s=null!=c?c:pp(t,a,o,[]);const u=Ch(i);return((e,o,i)=>{for(;;){const s=e,a=o,c=i,u=yt(c)?[bh,mt()]:[bt(c),_t(c)],l=u[1],d=u[0],h=Sh(a,d),p=rp(r,h),f=n(p),m=s.get(p),g=null==m?t(new lp(p,d.Text,Yh(f),Jh(f),[],void 0)):m;if(s.add(g),C(l,mt()))return g;e=g.children,o=h,i=l}})(s.children,"",u)}(e,(e=>t(new lp(e.id,e.label,e.uri,e.range,e.children,s.TestFramework))),n,o,i,s.FullTestName),s)}))}(u,a,t,e,n,r,o,i)},hr(0,dr(0,(()=>{let e;return function(e,t){t.forEach((t=>{e.enqueued(t)}))}(i,Ke((e=>up(e.Tests)),s)),ao(0,xo((e=i,t=>hr(0,dr(0,(()=>{const n=up(t.Tests),r=t.ProjectPath;return ao(0,function(e){return io("dotnet",["restore",e])}(r)).then((i=>ao(0,fu(r,"Build",o)).then((o=>C(o.Code,0)?Promise.resolve(t):(yp(e,"Project build failed",n),vp(e,`❌ Failed to build project: ${r}`),Promise.resolve(void 0))))))})))),Dt(s))).then((e=>ao(0,Do(3,(e=>function(e,t,n,r,o){return hr(0,dr(0,(()=>dr(0,(()=>ao(0,Ep(e,t,n,r,o)))).catch((e=>{const t=`❌ Error running tests: \n    project: ${o.ProjectPath} \n\n    error:\n        ${e.message}`;return vp(n,t),yp(n,t,o.Tests),Promise.resolve()})))))}(A(c),n,i,o,e)),qt((e=>e),e))).then((e=>(i.end(),Promise.resolve())))))})))}}function Dp(e,t,n,r,o){return function(e,t){const n={location:10};return n.cancellable=!(1===e.tag),Ut.window.withProgress(n,((e,n)=>t(e,n)))}(new wp(1,[]),((s,a)=>hr(0,dr(0,(()=>{const u=e=>{Qt(gh,e),s.report({message:e})},l=function(e){const t=new Ut.CancellationTokenSource;if(jt((e=>e.isCancellationRequested),e))t.cancel();else{const n=c(e);try{for(;n["System.Collections.IEnumerator.MoveNext"]();)n["System.Collections.Generic.IEnumerator`1.get_Current"]().onCancellationRequested((e=>{t.cancel()}))}finally{i(n)}}return t.token}(Dt([o,a])),d=Ft(fp,Ja());Jt(gh,"Refresh - Test Projects",Ct(Nt(yh,d)));const h=0|wt(d);return u(`Building ${h} test projects`),ao(0,xo((e=>hr(0,dr(0,(()=>{const t=e.Project;return Qt(gh,`Building ${t}`),ao(0,fu(t,"Build",l)).then((t=>Promise.resolve([e,t])))})))),d)).then((o=>{let i,s;const a=Mt((e=>C(e[1].Code,0)),o);var c,d,p;c=e=>e[0],d=a[0],p=a[1],s=[Nt(c,d),Nt(c,p)];const f=s[1];if(yt(f)){const o=new Map([["Expecto","Expecto"],["xunit.abstractions","XUnit"]]),a=_s(o.keys(),{Compare:T}),c=Mt((e=>e.PackageReferences.some((e=>bs(e.Name,a)))),s[0]),d=c[1];return ao(0,(m=c[0],i=Nt((t=>hr(0,dr(0,(()=>{return ao(0,(r=t,hr(0,dr(0,(()=>(u(`Discovering tests for ${r.Project}`),ao(0,function(e,t,n,r){return hr(0,dr(0,(()=>{const o=n?new Array(0):["--no-build"];return ao(0,Vh(r,e,t,void 0,new Gh(1,[]),kr(Tr((()=>Nr(Dr("--list-tests"),Tr((()=>o)))))))).then((e=>{let t,n;const r=tt((e=>{const t=ke(e);return we(t)?void 0:t}),_o(1,(t=xe(e[1],["\r\n","\n\r","\n"],void 0,1),Je((n=uo("The following Tests are available:"),e=>n!==e),t))));return Promise.resolve(r)}))})))}(r.Project,r.Info.TargetFramework,!1,l)).then((t=>{const i=et((e=>{return t=o,n=e.Name,t.has(n)?Ae(Ta(t,n)):void 0;var t,n}),r.PackageReferences),s=t=>e(new lp(t.id,t.label,t.uri,t.range,t.children,i)),a=ze((e=>hp(s,n,r.Project,e)),Dh(ze((e=>({FullName:e})),t)));return Promise.resolve(pp(s,r.Project,r.Info.TargetFramework,a))})))))))).then((e=>Promise.resolve([t,e])));var r})))),m),Promise.all(i))).then((o=>{const i=o;return Et((e=>{var t;t=r(yh(e)),Xr.existsSync(t)&&Xr.unlinkSync(t)}),d),ao(0,Do(3,(e=>{const t=e.Project;return u(`Discovering tests for ${t}`),Kh(t,e.Info.TargetFramework,r(t),void 0,new Gh(1,[]),l)}),d)).then((o=>{const s=mp(e,n,r,d),a=Ve([ze((e=>e[1]),i),s]);if(u(`Discovered ${st((e=>0|cp(e).length),a,{GetZero:()=>0,Add:(e,t)=>e+t})} tests`),t.replace(Array.from(a)),h>0&&0===a.length)return Ut.window.showWarningMessage("Detected test projects but no tests. Make sure your tests can be run with `dotnet test`"),en(gh,"Detected test projects but no tests. Make sure your tests can be run with `dotnet test`"),Promise.resolve();{const e=Ve(Rr(Tr((()=>Nr(Dr(ze((e=>yh(e[0])),i.filter((e=>0===kh(e[1].children).length)))),Tr((()=>{let e;return Dr((e=ze(yh,Ct(d)),e.filter((e=>null==Nh(r(e))))))})))))));if(0!==e.length){const t=`No tests discovered for the following projects. Make sure your tests can be run with \`dotnet test\` \n ${_e("\n",e)}`;return en(gh,t),Ut.window.showWarningMessage(t),Promise.resolve()}return Promise.resolve()}}))}))}var m;return Ut.window.showErrorMessage("Couldn't build test projects. Make sure you can build projects with `dotnet build`"),Zt(gh,"Couldn't build test projects. Make sure you can build projects with `dotnet build`",Nt(yh,f)),Promise.resolve()}))})))))}function kp(e,t){return Mr((e=>ye(t,sp(e))),e.locationCache.keys())}function Rp(e,t){return jr(e,Fe(t)),t}function Pp(e,t,n,r,o,s){let a;jr((a=s.file,s=>{(function(e,t,n){!function(e,t){let n=c(e.locationCache);try{for(;n["System.Collections.IEnumerator.MoveNext"]();){const r=n["System.Collections.Generic.IEnumerator`1.get_Current"]();r[1].Uri.fsPath===t.fsPath&&e.locationCache.delete(r[0])}}finally{i(n)}}(e,Ut.Uri.parse(t,!0)),ze((t=>function(t,n){const r=t=>{return Ve([[(n=t,void jr((t=>{ep(e,n.id,t)}),Fe(Qh(n))))],Ke(r,kh(t.children))]);var n};return r(n)}(0,t)),n)})(n,a,s),function(e,t,n,r){const o=t=>{const n=t[0],r=t[1];return[e(new lp(n.id,n.label,r.uri,r.range,kh(n.children),r.testFramework)),r]},i=(e,n)=>{const r=vh(ap,ap,kh(e),n),s=ze(o,r[1]),a=Ve([ze((e=>{const n=t(e.id);if(null==n)return e;{const t=n,r=o([e,t])[0];return i(r.children,kh(t.children)),r}}),r[0]),ze((e=>e[0]),s)]);e.replace(Array.from(a)),s.forEach((e=>{i(e[0].children,kh(e[1].children))}))};i(n,r)}(e,(e=>{return Rp((t=>{jr((t=>{ep(n,e,t)}),Fe(Qh(t)))}),je((e=>function(e,t){const n=ip(e),r=n[0],o=Ch(n[1]);return je((e=>((e,t,n)=>{for(;;){const o=e,i=t,s=n,a=yt(s)?[bh,mt()]:[bt(s),_t(s)],c=a[1],u=Sh(i,a[0]),l=rp(r,u),d=o.get(l);if(null==d)return;{const r=d;if(C(c,mt()))return r;e=r.children,t=u,n=c}}})(e.children,"",o)),Qe((e=>e.id===op(r)),t))}(e,s)),Rp((t=>{o.set(e,t)}),(t=()=>kp(n,e),null==(r=o.has(e)?o.get(e):null)?t():r))));var t,r}),t,s);const u=r.has(a)?r.get(a):null;null!=u&&function(e,t,n,r){const i=(e,t,n)=>{const r=e=>{let t,n,r;return[e.id,(t=e.range,n=e=>`${e.line}:${e.character}`,null!=t?(r=t,`(${n(r.start)},${n(r.end)})`):"none")]},s=vh(r,r,t,n);ze(ap,s[0]).forEach((t=>{e.delete(t)})),s[2].filter((e=>{return t=ap(e),o.has(t);var t})).forEach((t=>{e.add(t)})),s[1].forEach((t=>{const n=t[1],r=e.get(n.id);null!=r&&i(r.children,kh(t[0].children),kh(n.children))}))};i(e,t,n)}(t,u,s),r.set(a,s)}),Fe(function(e,t){const n=Ut.Uri.parse(t.file,!0);return Le((r=>{const o=r.Project;return[pp(e,o,r.Info.TargetFramework,ze((t=>function(e,t,n,r){const o=(r,i,s)=>{let a;const c=r+(a=i,null!=a?"NoneModule"===a||"NoneModule"===s.moduleType?".":"+":"")+s.name,u=new Ut.Range(new Ut.Position(s.range.start.line,s.range.start.character),new Ut.Position(s.range.end.line,s.range.end.character));return e(new lp(rp(n,c),s.name,t,u,ze((e=>o(c,s.moduleType,e)),s.childs),s.type))};return o("",void 0,r)}(e,n,o,t)),t.tests))]}),Qa(n.fsPath))}(e,s)))}function Np(e){const t=Ut.tests.createTestController("fsharp-test-controller","F# Test Controller"),n=dp(t),r=new Zh,o=Oe(Ut.workspace.rootPath),i=Me(Le((e=>e.fsPath),e.storageUri),o);Jt(gh,"Extension Storage",i);const s=e=>function(e,t,n){const r=Mo.relative(e,n),o=Oh(n);let i;const s=function(e){const t=_s(["..","."],{Compare:T});return n=Je((e=>ws(t,e)),function(e){return xe(e,[Mo.sep],void 0,1)}(e)),Mo.join(...n);var n}(r);return i=Mo.dirname(s),Mo.resolve(t,"TestResults",i,`${o}.trx`)}(o,i,e),a=e=>function(e,t){const n=tp(e,t);return null==n?Rp((n=>{ep(e,t,n)}),je((t=>tp(e,t)),kp(e,t))):n}(r,e),c=(e,n)=>xp(t,a,s,e,n),u=t.createRunProfile("Run F# Tests",1,c,!0);e.subscriptions.push(u);const l=t.createRunProfile("Debug F# Tests",2,c,!1);e.subscriptions.push(l);const d=new Map([]),h=new Map([]);let p;const f=t.items;p=e=>{Pp(n,f,r,d,h,e)};const m=lu((e=>function(e,t){const n=()=>Yc.Delay((()=>Yc.Bind(cu(t),(t=>(e(t),Yc.ReturnFrom(n()))))));return n()}(p,e))),g=Zs((e=>{uu(m,e)}));e.subscriptions.push(g),t.refreshHandler=e=>Dp(n,t.items,a,s,e);const v=go(!0,"FSharp.TestExplorer.AutoDiscoverTestsOnLoad");let y=!1;const w=ja((()=>{if(v&&!y){y=!0;const e=mp(n,a,s,Ja());let r;const o=t.items;r=e=>{o.add(e)},e.forEach(r);const i=new Ut.CancellationTokenSource;Dp(n,t.items,a,s,i.token)}}));e.subscriptions.push(w)}const Op=Xt("InlayHints",new Bt(0,[]),void 0,new Bt(0,[]));let Ip=!1;const Ap=Xt("Main",new Bt(0,[]),tn,new Bt(0,[]));class Fp extends q{constructor(e,t,n,r,o){super(),this.ProjectLoadedEvent=e,this.BuildProject=t,this.BuildProjectFast=n,this.GetProjectLauncher=r,this.DebugProject=o}}function Mp(){return cn("Ionide.VSCode.FSharpModule.Api",[],Fp,(()=>[["ProjectLoadedEvent",an("Fable.Import.VSCode.Vscode.Event`1",[Un()])],["BuildProject",un(Un(),an("Fable.Core.JS.Promise`1",[mn]))],["BuildProjectFast",un(Un(),an("Fable.Core.JS.Promise`1",[mn]))],["GetProjectLauncher",un(an("Fable.Import.VSCode.Vscode.OutputChannel"),un(Un(),ln(un(dn(mn),an("Fable.Core.JS.Promise`1",[an("Node.ChildProcess.ChildProcess")])))))],["DebugProject",un(Un(),un(hn(mn),an("Fable.Core.JS.Promise`1",[fn])))]]))}function qp(e){let t;const n=go(!0,"FSharp.enableTreeView"),r=go(!0,"FSharp.showExplorerOnStartup"),o=(e,t,n)=>{try{return t(n)}catch(t){return Zt(Ap,`Error while activating feature '${e}': ${t}`),null}};let i;return i=(e=>t=>function(e,t){return t.then((t=>(e(t),t)))}(e,t))((()=>{Jt(Ap,"Activating features"),Ut.window.withProgress({location:10},((t,n)=>{let i,s,a,c;return t.report({message:"Loading projects"}),a=(e=>t=>function(e,t){return t.then((t=>(e(t),t)))}(e,t))((()=>{o("quickinfoproject",(e=>{!function(e){const t=Ut.commands.registerCommand("openProjectFileFromStatusbar",(e=>Ut.commands.executeCommand("vscode.open",Ae(Ut.Uri.file(Tc())))));e.subscriptions.push(t);const n=Ut.window.createStatusBarItem(2,1e4);yc=n,e.subscriptions.push(n);const r=Ut.window.onDidChangeActiveTextEditor((e=>{Ec(e)}));e.subscriptions.push(r),Ut.window.visibleTextEditors.length>0&&Ec(Ut.window.activeTextEditor);const o=qa((e=>{Ec(Ut.window.activeTextEditor)}));e.subscriptions.push(o);const i=Fa((e=>{Ec(Ut.window.activeTextEditor)}));e.subscriptions.push(i);const s=Ia((e=>{Ec(Ut.window.activeTextEditor)}));e.subscriptions.push(s);const a=ja((()=>{Ec(Ut.window.activeTextEditor)}));e.subscriptions.push(a)}(e)}),e)}))((c=function(e){!function(e){ic=e.workspaceState}(e);const t=Ut.commands.registerCommand("fsharp.clearCache",(e=>{tc()}));e.subscriptions.push(t),Js((e=>{!function(e){const t=go(!1,"FSharp.disableFailedProjectNotifications");let n;switch(e.tag){case 1:{const t=e.fields[0];n=[!1,t.Data.Project,new xa(0,[t.Data.Project])];break}case 2:{const r=e.fields[0][0],o=e.fields[0][1];switch(o.tag){case 1:{const e=o.fields[0];Aa.fire(e.Project),n=[!0,e.Project,new xa(3,[e.Project,r])];break}case 2:{const e=o.fields[0];n=[!0,e.Project,new xa(2,[e.Project,r])];break}case 3:{const e=o.fields[0];n=[!0,e.Project,new xa(4,[e.Project])];break}default:t||Ut.window.showErrorMessage("Project loading failed"),n=void 0}break}case 3:"finished"===e.fields[0]?(La.fire(void 0),n=void 0):n=void 0;break;default:{const t=e.fields[0];Ma.fire(t.Data),n=[!0,t.Data.Project,new xa(1,[t.Data])]}}if(null==n);else{const e=n[0];Ka(n[1],n[2]),jr((e=>{Oa.fire(e)}),Fe(ka)),e&&Na(!0)}}(e)})),Pa(!0),_c(Ut.window.createStatusBarItem(2,9e3));const n=$a((()=>{Sc()}));e.subscriptions.push(n);const r=Ut.commands.registerCommand("fsharp.changeWorkspace",(e=>{let t,n;return Ae((n=mc(),t=n.then((e=>hc(e,uc()))),t.then((e=>null==e?Co():gc(e)))))}));e.subscriptions.push(r);const o=Ut.commands.registerCommand("showProjStatusFromIndicator",(e=>{let t;const n=Mo.basename(bc());return Ae(void(t=No(bc(),n)))}));return e.subscriptions.push(o),vc()}(e),c.catch((e=>{Zt(Ap,pe(le("Error loading projects: %A%P()",[e])))})))),s=a.then((()=>r?Ut.commands.executeCommand(pe(ue("workbench.view.extension.%s"))(Io)):Promise.resolve(void 0))),i=s.then((e=>o("analyzers",ga,void 0))),i.catch((e=>{Zt(Ap,pe(le("Error loading all projects: %A%P()",[e]))),t.report({message:"Error loading projects"})}))}))}))((t=wa(e),t.catch((e=>{Zt(Ap,pe(le("Error activating FSAC: %A%P()",[e])))})))).then((()=>{n&&o("solutionExplorer",(e=>{gd(e)}),e),o("fsprojedit",(e=>{nl(e)}),e),o("diagnostics",(e=>{!function(e){const t=Ut.commands.registerCommand("fsharp.diagnostics.getInfos",(e=>yd()));e.subscriptions.push(t)}(e)}),e),o("linelens",(e=>{$u(Xu,e)}),e),o("quickinfo",(e=>{Ed(e)}),e),o("help",(e=>{!function(e){const t=Ut.commands.registerCommand("fsharp.getHelp",(e=>{!function(){const e=Oe(Ut.window.activeTextEditor),t=e.document,n=e.selection.start;hr(0,dr(0,(()=>ao(0,function(e,t,n){if(null!=la()){const r=la(),o=new oa(new na(ua(e)),new ta(t,n));return r.sendRequest("fsharp/f1Help",o).then((e=>{let t;const n=e;return null==n?void 0:(t=xs(N(zs(rr(mn),void 0,void 0)),n.content),1===t.tag?(()=>{throw new Error(t.fields[0])})():t.fields[0])}))}return Co()}(t.uri,~~n.line,~~n.character)).then((e=>{if(null!=e){const t=Te(e.Data,"#ctor","-ctor"),n=Ut.Uri.parse(pe(ue("https://docs.microsoft.com/en-us/dotnet/api/%s"))(t));return so(0,Ut.commands.executeCommand("vscode.open",Ae(n)))}return Promise.resolve(void 0)})))))}()}));e.subscriptions.push(t)}(e)}),e),o("msbuild",(e=>{!function(e){const t=(e,t)=>function(e){const t=Mo.relative(Oe(Ut.workspace.rootPath),e);return Ua.some((e=>!(0===Mo.relative(e,t).indexOf(".."))))}(e)?void 0:t(e),n=e=>vc(),r=Ut.workspace.createFileSystemWatcher("**/*.sln");r.onDidCreate((e=>t(e.fsPath,n))),r.onDidChange((e=>t(e.fsPath,n)));const o=Fa((e=>{Cu(e)}));e.subscriptions.push(o);const i=(t,n)=>{const r=Ut.commands.registerCommand(t,n);e.subscriptions.push(r)},s=Ut.tasks.registerTaskProvider("msbuild",Pu);e.subscriptions.push(s),i("MSBuild.buildCurrent",(()=>vu("Build"))),i("MSBuild.rebuildCurrent",(()=>vu("Rebuild"))),i("MSBuild.cleanCurrent",(()=>vu("Clean"))),i("MSBuild.buildCurrentSolution",(()=>{Tu("Build")})),i("MSBuild.rebuildCurrentSolution",(()=>{Tu("Rebuild")})),i("MSBuild.cleanCurrentSolution",(()=>{Tu("Clean")}));const a=Ut.commands.registerCommand("MSBuild.buildSelected",(e=>{let t;return Ae((t=wu("Build"),t.then((()=>{}))))}));e.subscriptions.push(a);const c=Ut.commands.registerCommand("MSBuild.rebuildSelected",(e=>{let t;return Ae((t=wu("Rebuild"),t.then((()=>{}))))}));e.subscriptions.push(c);const u=Ut.commands.registerCommand("MSBuild.cleanSelected",(e=>{let t;return Ae((t=wu("Clean"),t.then((()=>{}))))}));e.subscriptions.push(u);const l=Ut.commands.registerCommand("MSBuild.restoreSelected",(e=>{let t;return Ae((t=hr(0,dr(0,(()=>(Jt(hu,"building project"),ao(0,yu("Select a project to restore")).then((e=>{if(null!=e){const t=e,n=Mo.basename(t.Project),r=Mo.dirname(t.Project);return ao(0,pu()).then((e=>{const t=Eu(e,"restore",mt(),r,Li({Compare:x}));let o,i=new Ut.Task(xu,2,`${n}`,"Restore",t,"$msCompile");return i.group=Ut.TaskGroup.Build,i.detail=`Restore the ${n} project using \`dotnet restore\``,o=i,so(0,Ut.tasks.executeTask(o)).then((e=>Promise.resolve(void 0)))}))}return Promise.resolve(void 0)})))))),t.then((()=>{}))))}));e.subscriptions.push(l)}(e)}),e),o("signaturedata",(e=>{!function(e){const t=Ut.commands.registerCommand("fsharp.generateDoc",(e=>function(){const e=Oe(Ut.window.activeTextEditor),t=e.document;let n;switch(fo(t).tag){case 0:case 3:n=0;break;default:n=1}if(0===n){const n=e.selection.active.line,r=e.selection.active.character;return function(e,t,n,r){if(null!=la()){const o=la(),i=new ia(new ra(ua(e),t),new ta(n,r));return o.sendRequest("fsharp/documentationGenerator",i).then((e=>{}))}return Co()}(t.uri,t.version,~~n,~~r)}return Promise.resolve(void 0)}()));e.subscriptions.push(t)}(e)}),e),o("debugger",(e=>{!function(e){const t=Ut.commands.registerCommand("fsharp.runDefaultProject",(e=>null!=hl()?cl(hl()):ml().then((e=>{Le(cl,e)}))));e.subscriptions.push(t);const n=Ut.commands.registerCommand("fsharp.debugDefaultProject",(e=>null!=hl()?dl(hl()):ml().then((e=>{Le(dl,e)}))));e.subscriptions.push(n);const r=Ut.commands.registerCommand("fsharp.chooseDefaultProject",(e=>ml()));e.subscriptions.push(r),Qt(al,"registering debug provider");const o=Ut.debug.registerDebugConfigurationProvider("coreclr",gl,2);e.subscriptions.push(o),pl(e),hl(e.workspaceState.get("defaultProject"))}(e)}),e),o("fsdn",(e=>{!function(e){const t=Ut.commands.registerCommand("fsharp.fsdn",(e=>{let t,n;const r=Oe(Ut.window.activeTextEditor).document.uri,o=Oe(Ut.window.activeTextEditor).selection.active,i=o.line,s=o.character;return Ae((n=hr(0,dr(0,(()=>so(0,Ut.window.showInputBox({prompt:"Signature"})).then((e=>{const t=e;return null==t?Promise.resolve(mt()):ao(0,function(e){if(null!=la()){const t=la(),n=new sa(new na(e));return t.sendRequest("fsharp/fsdn",n).then((e=>{let t;const n=xs(N(zs(pn,void 0,void 0)),e.content);if(1===n.tag)throw new Error(n.fields[0]);t=n.fields[0];const r=t.Data;return new Qn(r.Functions)}))}return Co()}(t)).then((e=>Promise.resolve(Dt(e.Functions))))}))))),t=n.then(wd),t.then((e=>{let t,n;if(null!=e){const o=e,a=new Ut.WorkspaceEdit;return a.insert(r,(t=Ut.Position,n=[i,s],new t(n[0],n[1])),o),Ut.workspace.applyEdit(a)}return Promise.resolve(!1)}))))}));e.subscriptions.push(t)}(e)}),e),o("fsi",(e=>{Vl(e)}),e),o("scriptrunner",(e=>{!function(e){const t=Ut.commands.registerCommand("fsharp.scriptrunner.run",(e=>function(){const e=Oe(Ut.window.activeTextEditor).document.fileName,t=Mo.dirname(e);return hr(0,dr(0,(()=>ao(0,ql()).then((n=>{let r;const o=n[0],i=_e(" ",ze((r=pe(ue('"%s"')),r),n[1])),s="Windows_NT"===qo.type()?["cmd.exe",["/Q","/K"],pe(ue('cd "%s" && cls && "%s" %s "%s" && pause && exit'))(t)(o)(i)(e)]:["sh",[],pe(ue('cd "%s" && clear && "%s" %s "%s" && echo "Press enter to close script..." && read && exit'))(t)(o)(i)(e)],a=Array.from(s[1]),c=Mo.basename(e),u=Ut.window.createTerminal(c,s[0],a);return u.sendText(s[2]),u.show(),Promise.resolve()})))))}()));e.subscriptions.push(t)}(e)}),e),o("languageconfiguration",(e=>{!function(e){Ut.workspace.onDidChangeConfiguration((e=>{!function(e){Dd(e.affectsConfiguration("FSharp.smartIndent"))}(e)}),void 0,e.subscriptions),Dd(!1)}(e)}),e),o("htmlconverter",(e=>{!function(e){const t=Ut.commands.registerCommand("fsharp.htmlConverter.convert",(e=>Ld()));e.subscriptions.push(t)}(e)}),e),o("infopanel",(e=>{Jd(e)}),e),o("codelens",(e=>{!function(e){const t=Ut.commands.registerCommand("fsharp.showReferences",I((e=>{const t=(n=e,e=>t=>function(e,t,n){const r=Ut.Uri.parse(e),o=new Ut.Position(t.Line,t.Character);let i;const s=Br((e=>{const t=Ut.Uri.parse(e.Uri),n=new Ut.Range(e.Range.Start.Line,e.Range.Start.Character,e.Range.End.Line,e.Range.End.Character);return new Ut.Location(t,n)}),n);return i=Array.from(s),Ut.commands.executeCommand("editor.action.showReferences",Ae(r),Ae(o),Ae(i))}(n,e,t));var n;return e=>t(e)})));e.subscriptions.push(t)}(e)}),e),o("gitignore",(e=>{go(!0,Qd)&&rh()}),e),o("pipelinehints",(e=>{$u(el,e)}),e),o("testExplorer",(e=>{Np(e)}),e),o("inlayhints",(e=>{!function(e){var t;t=Ut.version,Ip=$o.gte(t,"1.67.0",{includePrerelease:!0});const n=Ut.commands.registerCommand("fsharp.inlayHints.disableLongTooltip",(e=>Ae(vo("FSharp.inlayHints.disableLongTooltip",Ae(!0)))));if(e.subscriptions.push(n),Ip){const t=Ut.commands.registerCommand("fsharp.inlayHints.setToToggle",(e=>Ae(vo("editor.inlayHints.enabled",Ae("offUnlessPressed")))));e.subscriptions.push(t)}const r=Ut.commands.registerCommand("fsharp.inlayHints.hideAll",(e=>Ae(vo("FSharp.inlayHints.enabled",Ae(!1)))));e.subscriptions.push(r);const o=Ut.commands.registerCommand("fsharp.inlayHints.hideParameterNames",(e=>Ae(vo("FSharp.inlayHints.parameterNames",Ae(!1)))));e.subscriptions.push(o);const i=Ut.commands.registerCommand("fsharp.inlayHints.hideTypeAnnotations",(e=>Ae(vo("FSharp.inlayHints.typeAnnotations",Ae(!1)))));e.subscriptions.push(i),Qt(Op,"Activating F# inlay hints")}(e)}),e),o("languageservice",(e=>{!function(e){const t=Ut.commands.registerCommand("fsharp.restartLanguageService",(t=>hr(0,dr(0,(()=>(Jt(Ap,"Restarting F# language service"),ao(0,ba()).then((()=>ao(0,wa(e)).then((()=>ao(0,vc()).then((()=>Promise.resolve(void 0)))))))))))));e.subscriptions.push(t)}(e)}),e);const t=new Ut.EventEmitter;return qa((e=>setTimeout((()=>{t.fire(e)}),500))),new Fp(t.event,(e=>hr(0,dr(0,(()=>ao(0,bu("Build",e)).then((e=>{const t=e.Code;if(null==t)return Promise.resolve("");{const e=0|t;return Promise.resolve(h(e))}})))))),(e=>hr(0,dr(0,(()=>{return ao(0,(t=e,hr(0,dr(0,(()=>ao(0,function(e){if(null!=la()){const t=la(),n=new sa(new na(function(e){return ye(e,".fs")||ye(e,".fsi")||ye(e,".fsx")?e:e+".fsx"}(e)));return t.sendRequest("fsharp/compile",n).then((e=>{const t=xs(N(zs(rr(cn("Ionide.VSCode.FSharp.DTO.CompileData",[],er,(()=>[["Code",vn]]))),void 0,void 0)),e.content);if(1===t.tag)throw new Error(t.fields[0]);return t.fields[0]}))}return Co()}(t.Project)).then((e=>Promise.resolve(new oo(e.Data.Code,void 0))))))))).then((e=>{const t=e.Code;if(null==t)return Promise.resolve("");{const e=0|t;return Promise.resolve(h(e))}}));var t})))),fc,ll)})),i.catch((e=>(Zt(Ap,pe(le("Error activating features: %A%P()",[e]))),null)))}function Lp(e){return ba()}})(),module.exports=r})();
//# sourceMappingURL=fsharp.js.map