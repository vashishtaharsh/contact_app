(()=>{var __webpack_modules__={8309:(e,t,r)=>{"use strict";const i=r(2081),n=r(4605),o=r(3743);function s(e,t,r){const s=n(e,t,r),a=i.spawn(s.command,s.args,s.options);return o.hookChildProcess(a,s),a}e.exports=s,e.exports.spawn=s,e.exports.sync=function(e,t,r){const s=n(e,t,r),a=i.spawnSync(s.command,s.args,s.options);return a.error=a.error||o.verifyENOENTSync(a.status,s),a},e.exports._parse=n,e.exports._enoent=o},3743:e=>{"use strict";const t="win32"===process.platform;function r(e,t){return Object.assign(new Error(`${t} ${e.command} ENOENT`),{code:"ENOENT",errno:"ENOENT",syscall:`${t} ${e.command}`,path:e.command,spawnargs:e.args})}function i(e,i){return t&&1===e&&!i.file?r(i.original,"spawn"):null}e.exports={hookChildProcess:function(e,r){if(!t)return;const n=e.emit;e.emit=function(t,o){if("exit"===t){const t=i(o,r);if(t)return n.call(e,"error",t)}return n.apply(e,arguments)}},verifyENOENT:i,verifyENOENTSync:function(e,i){return t&&1===e&&!i.file?r(i.original,"spawnSync"):null},notFoundError:r}},4605:(e,t,r)=>{"use strict";const i=r(1017),n=r(2202),o=r(5081),s=r(7550),a="win32"===process.platform,c=/\.(?:com|exe)$/i,l=/node_modules[\\/].bin[\\/][^\\/]+\.cmd$/i;e.exports=function(e,t,r){t&&!Array.isArray(t)&&(r=t,t=null);const d={command:e,args:t=t?t.slice(0):[],options:r=Object.assign({},r),file:void 0,original:{command:e,args:t}};return r.shell?d:function(e){if(!a)return e;const t=function(e){e.file=n(e);const t=e.file&&s(e.file);return t?(e.args.unshift(e.file),e.command=t,n(e)):e.file}(e),r=!c.test(t);if(e.options.forceShell||r){const r=l.test(t);e.command=i.normalize(e.command),e.command=o.command(e.command),e.args=e.args.map((e=>o.argument(e,r)));const n=[e.command].concat(e.args).join(" ");e.args=["/d","/s","/c",`"${n}"`],e.command=process.env.comspec||"cmd.exe",e.options.windowsVerbatimArguments=!0}return e}(d)}},5081:e=>{"use strict";const t=/([()\][%!^"`<>&|;, *?])/g;e.exports.command=function(e){return e.replace(t,"^$1")},e.exports.argument=function(e,r){return e=(e=`"${e=(e=(e=`${e}`).replace(/(\\*)"/g,'$1$1\\"')).replace(/(\\*)$/,"$1$1")}"`).replace(t,"^$1"),r&&(e=e.replace(t,"^$1")),e}},7550:(e,t,r)=>{"use strict";const i=r(7147),n=r(2063);e.exports=function(e){const t=Buffer.alloc(150);let r;try{r=i.openSync(e,"r"),i.readSync(r,t,0,150,0),i.closeSync(r)}catch(e){}return n(t.toString())}},2202:(e,t,r)=>{"use strict";const i=r(1017),n=r(2806),o=r(3024);function s(e,t){const r=e.options.env||process.env,s=process.cwd(),a=null!=e.options.cwd,c=a&&void 0!==process.chdir&&!process.chdir.disabled;if(c)try{process.chdir(e.options.cwd)}catch(e){}let l;try{l=n.sync(e.command,{path:r[o({env:r})],pathExt:t?i.delimiter:void 0})}catch(e){}finally{c&&process.chdir(s)}return l&&(l=i.resolve(a?e.options.cwd:"",l)),l}e.exports=function(e){return s(e)||s(e,!0)}},5105:(e,t,r)=>{"use strict";const{PassThrough:i}=r(2781);e.exports=e=>{e={...e};const{array:t}=e;let{encoding:r}=e;const n="buffer"===r;let o=!1;t?o=!(r||n):r=r||"utf8",n&&(r=null);const s=new i({objectMode:o});r&&s.setEncoding(r);let a=0;const c=[];return s.on("data",(e=>{c.push(e),o?a=c.length:a+=e.length})),s.getBufferedValue=()=>t?c:n?Buffer.concat(c,a):c.join(""),s.getBufferedLength=()=>a,s}},31:(e,t,r)=>{"use strict";const{constants:i}=r(4300),n=r(2781),{promisify:o}=r(3837),s=r(5105),a=o(n.pipeline);class c extends Error{constructor(){super("maxBuffer exceeded"),this.name="MaxBufferError"}}async function l(e,t){if(!e)throw new Error("Expected a stream");t={maxBuffer:1/0,...t};const{maxBuffer:r}=t,n=s(t);return await new Promise(((t,o)=>{const s=e=>{e&&n.getBufferedLength()<=i.MAX_LENGTH&&(e.bufferedData=n.getBufferedValue()),o(e)};(async()=>{try{await a(e,n),t()}catch(e){s(e)}})(),n.on("data",(()=>{n.getBufferedLength()>r&&s(new c)}))})),n.getBufferedValue()}e.exports=l,e.exports.buffer=(e,t)=>l(e,{...t,encoding:"buffer"}),e.exports.array=(e,t)=>l(e,{...t,array:!0}),e.exports.MaxBufferError=c},607:(e,t,r)=>{var i;function n(e,t,r){if("function"==typeof t&&(r=t,t={}),!r){if("function"!=typeof Promise)throw new TypeError("callback not provided");return new Promise((function(r,i){n(e,t||{},(function(e,t){e?i(e):r(t)}))}))}i(e,t||{},(function(e,i){e&&("EACCES"===e.code||t&&t.ignoreErrors)&&(e=null,i=!1),r(e,i)}))}r(7147),i="win32"===process.platform||global.TESTING_WINDOWS?r(1429):r(4601),e.exports=n,n.sync=function(e,t){try{return i.sync(e,t||{})}catch(e){if(t&&t.ignoreErrors||"EACCES"===e.code)return!1;throw e}}},4601:(e,t,r)=>{e.exports=n,n.sync=function(e,t){return o(i.statSync(e),t)};var i=r(7147);function n(e,t,r){i.stat(e,(function(e,i){r(e,!e&&o(i,t))}))}function o(e,t){return e.isFile()&&function(e,t){var r=e.mode,i=e.uid,n=e.gid,o=void 0!==t.uid?t.uid:process.getuid&&process.getuid(),s=void 0!==t.gid?t.gid:process.getgid&&process.getgid(),a=parseInt("100",8),c=parseInt("010",8);return r&parseInt("001",8)||r&c&&n===s||r&a&&i===o||r&(a|c)&&0===o}(e,t)}},1429:(e,t,r)=>{e.exports=o,o.sync=function(e,t){return n(i.statSync(e),e,t)};var i=r(7147);function n(e,t,r){return!(!e.isSymbolicLink()&&!e.isFile())&&function(e,t){var r=void 0!==t.pathExt?t.pathExt:process.env.PATHEXT;if(!r)return!0;if(-1!==(r=r.split(";")).indexOf(""))return!0;for(var i=0;i<r.length;i++){var n=r[i].toLowerCase();if(n&&e.substr(-n.length).toLowerCase()===n)return!0}return!1}(t,r)}function o(e,t,r){i.stat(e,(function(i,o){r(i,!i&&n(o,e,t))}))}},4034:(e,t,r)=>{"use strict";const{PassThrough:i}=r(2781);e.exports=function(){var e=[],t=new i({objectMode:!0});return t.setMaxListeners(0),t.add=r,t.isEmpty=function(){return 0==e.length},t.on("unpipe",n),Array.prototype.slice.call(arguments).forEach(r),t;function r(i){return Array.isArray(i)?(i.forEach(r),this):(e.push(i),i.once("end",n.bind(null,i)),i.once("error",t.emit.bind(t,"error")),i.pipe(t,{end:!1}),this)}function n(r){!(e=e.filter((function(e){return e!==r}))).length&&t.readable&&t.end()}}},3024:e=>{"use strict";const t=(e={})=>{const t=e.env||process.env;return"win32"!==(e.platform||process.platform)?"PATH":Object.keys(t).reverse().find((e=>"PATH"===e.toUpperCase()))||"Path"};e.exports=t,e.exports.default=t},5987:(e,t,r)=>{"use strict";String.prototype.startsWith||(String.prototype.startsWith=function(e){return this.substring(0,e.length)===e});var i=r(3422);e.exports=function(e,t,r){var n,o,s;if("function"==typeof t&&(r=t,t=void 0),"function"!=typeof r)return n=i,o=e,s=t,new Promise((function(e,t){n(o,s,(function(r,i){if(r)return t(r);e(i)}))}));i(e,t,r)}},7378:(e,t,r)=>{"use strict";var i=r(2081).spawn;e.exports=function(e,t,r,n){"function"==typeof r&&(n=r,r=void 0);var o=!1,s=i(e,t,r),a="",c="";s.stdout.on("data",(function(e){a+=e.toString()})),s.stderr.on("data",(function(e){c+=e.toString()})),s.on("error",(function(e){o||(o=!0,n(new Error(e)))})),s.on("close",(function(e){if(!o){if(o=!0,c=function(e){if(e)return(e=(e=e.trim()).replace(/your \d+x\d+ screen size is bogus\. expect trouble/gi,"")).trim()}(c))return n(new Error(c));n(null,a,e)}}))}},8886:(e,t,r)=>{"use strict";var i=r(2037),n={ps:()=>r(5964),wmic:()=>r(8)},o=i.platform();o.startsWith("win")&&(o="win");var s={darwin:"ps",sunos:"ps",freebsd:"ps",netbsd:"ps",win:"wmic",linux:"ps",aix:"ps"}[o];e.exports=function(e){void 0===s&&e(new Error(i.platform()+" is not supported yet, please open an issue (https://github.com/simonepri/pidtree)")),n[s]()(e)}},3422:(e,t,r)=>{"use strict";var i=r(8886);e.exports=function(e,t,r){"function"==typeof t&&(r=t,t={}),"object"!=typeof t&&(t={}),e=parseInt(e,10),isNaN(e)||e<-1?r(new TypeError("The pid provided is invalid")):i((function(i,n){if(i)r(i);else if(-1!==e){for(var o,s=0;s<n.length;s++){if(n[s][1]===e){o=t.advanced?{ppid:n[s][0],pid:e}:e;break}n[s][0]===e&&(o=t.advanced?{pid:e}:e)}if(o){for(var a={};n.length>0;){var c=n.pop();a[c[0]]?a[c[0]].push(c[1]):a[c[0]]=[c[1]]}for(var l=0,d=[o];l<d.length;){var u=t.advanced?d[l++].pid:d[l++];if(a[u]){for(var p=a[u].length,h=0;h<p;h++)d.push(t.advanced?{ppid:u,pid:a[u][h]}:a[u][h]);delete a[u]}}t.root||d.shift(),r(null,d)}else r(new Error("No matching pid found"))}else{for(var f=0;f<n.length;f++)n[f]=t.advanced?{ppid:n[f][0],pid:n[f][1]}:n[f]=n[f][1];r(null,n)}}))}},5964:(e,t,r)=>{"use strict";var i=r(2037),n=r(7378);e.exports=function(e){n("ps",["-A","-o","ppid,pid"],(function(t,r,n){if(t)return e(t);if(0!==n)return e(new Error("pidtree ps command exited with code "+n));try{r=r.split(i.EOL);for(var o=[],s=1;s<r.length;s++)r[s]=r[s].trim(),r[s]&&(r[s]=r[s].split(/\s+/),r[s][0]=parseInt(r[s][0],10),r[s][1]=parseInt(r[s][1],10),o.push(r[s]));e(null,o)}catch(t){e(t)}}))}},8:(e,t,r)=>{"use strict";var i=r(2037),n=r(7378);e.exports=function(e){n("wmic",["PROCESS","get","ParentProcessId,ProcessId"],{windowsHide:!0,windowsVerbatimArguments:!0},(function(t,r,n){if(t)e(t);else if(0===n)try{r=r.split(i.EOL);for(var o=[],s=1;s<r.length;s++)r[s]=r[s].trim(),r[s]&&(r[s]=r[s].split(/\s+/),r[s][0]=parseInt(r[s][0],10),r[s][1]=parseInt(r[s][1],10),o.push(r[s]));e(null,o)}catch(t){e(t)}else e(new Error("pidtree wmic command exited with code "+n))}))}},2063:(e,t,r)=>{"use strict";const i=r(9395);e.exports=(e="")=>{const t=e.match(i);if(!t)return null;const[r,n]=t[0].replace(/#! ?/,"").split(" "),o=r.split("/").pop();return"env"===o?n:n?`${o} ${n}`:o}},9395:e=>{"use strict";e.exports=/^#!(.*)/},7908:(e,t,r)=>{var i=global.process;const n=function(e){return e&&"object"==typeof e&&"function"==typeof e.removeListener&&"function"==typeof e.emit&&"function"==typeof e.reallyExit&&"function"==typeof e.listeners&&"function"==typeof e.kill&&"number"==typeof e.pid&&"function"==typeof e.on};if(n(i)){var o,s=r(9491),a=r(5397),c=/^win/i.test(i.platform),l=r(2361);"function"!=typeof l&&(l=l.EventEmitter),i.__signal_exit_emitter__?o=i.__signal_exit_emitter__:((o=i.__signal_exit_emitter__=new l).count=0,o.emitted={}),o.infinite||(o.setMaxListeners(1/0),o.infinite=!0),e.exports=function(e,t){if(!n(global.process))return function(){};s.equal(typeof e,"function","a callback must be provided for exit handler"),!1===h&&f();var r="exit";return t&&t.alwaysLast&&(r="afterexit"),o.on(r,e),function(){o.removeListener(r,e),0===o.listeners("exit").length&&0===o.listeners("afterexit").length&&d()}};var d=function(){h&&n(global.process)&&(h=!1,a.forEach((function(e){try{i.removeListener(e,p[e])}catch(e){}})),i.emit=_,i.reallyExit=m,o.count-=1)};e.exports.unload=d;var u=function(e,t,r){o.emitted[e]||(o.emitted[e]=!0,o.emit(e,t,r))},p={};a.forEach((function(e){p[e]=function(){n(global.process)&&i.listeners(e).length===o.count&&(d(),u("exit",null,e),u("afterexit",null,e),c&&"SIGHUP"===e&&(e="SIGINT"),i.kill(i.pid,e))}})),e.exports.signals=function(){return a};var h=!1,f=function(){!h&&n(global.process)&&(h=!0,o.count+=1,a=a.filter((function(e){try{return i.on(e,p[e]),!0}catch(e){return!1}})),i.emit=y,i.reallyExit=g)};e.exports.load=f;var m=i.reallyExit,g=function(e){n(global.process)&&(i.exitCode=e||0,u("exit",i.exitCode,null),u("afterexit",i.exitCode,null),m.call(i,i.exitCode))},_=i.emit,y=function(e,t){if("exit"===e&&n(global.process)){void 0!==t&&(i.exitCode=t);var r=_.apply(this,arguments);return u("exit",i.exitCode,null),u("afterexit",i.exitCode,null),r}return _.apply(this,arguments)}}else e.exports=function(){return function(){}}},5397:e=>{e.exports=["SIGABRT","SIGALRM","SIGHUP","SIGINT","SIGTERM"],"win32"!==process.platform&&e.exports.push("SIGVTALRM","SIGXCPU","SIGXFSZ","SIGUSR2","SIGTRAP","SIGSYS","SIGQUIT","SIGIOT"),"linux"===process.platform&&e.exports.push("SIGIO","SIGPOLL","SIGPWR","SIGSTKFLT","SIGUNUSED")},5922:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.authProviderCallbackFileContent=void 0,t.authProviderCallbackFileContent=e=>{const t=e.get("runtimeDependency")||"@remix-run/node";return[`import { redirect } from "${t}"`,`import type { LoaderFunctionArgs } from "${t}";`,'import { authenticator } from "~/services/auth.server";','import type { AuthStrategy } from "~/services/auth.server";',"","export const loader = ({ request, params }: LoaderFunctionArgs) => {","  // If the provider is not specified, redirect to the login page",'  if (!params.provider) return redirect("/login");',"","  const provider = params.provider as AuthStrategy;","","  return authenticator.authenticate(provider, request, {",'    successRedirect: "/dashboard",','    failureRedirect: "/login",',"  });","};"].join("\n")}},4366:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.authProviderFileContent=void 0,t.authProviderFileContent=e=>{const t=e.get("runtimeDependency")||"@remix-run/node";return[`import { redirect } from "${t}"`,`import type { ActionFunctionArgs } from "${t}"`,"import { authenticator } from '~/services/auth.server';",'import type { AuthStrategy } from "~/services/auth.server";',"","export const loader = () => redirect('/login');","","export const action = async ({ request, params }: ActionFunctionArgs) => {","  // If the provider is not specified, redirect to the login page","  if(!params.provider) return redirect('/login');","","  const provider = params.provider as AuthStrategy;","","  return await authenticator.authenticate(provider, request, {",'    successRedirect: "/dashboard"',"  });","};"].join("\n")}},7556:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateAuthFileContent=void 0,t.generateAuthFileContent=e=>{const t=["export const AuthStrategies = {",e.map((e=>`  ${e.key.toUpperCase()}: "${e.key}"`)).join(",\n"),"} as const;"];return{content:['import { Authenticator } from "remix-auth";','import { sessionStorage } from "~/services/session.server";','import { AuthStrategies } from "~/services/auth_strategies";',e.map((e=>`import { ${e.key}Strategy } from "./auth_strategies/${e.key}.strategy";`)).join("\n"),"","export interface User {","  // Add your own user properties here or extend with a type from your database","}","","export type AuthStrategy =  typeof AuthStrategies[keyof typeof AuthStrategies];","","// Create an instance of the authenticator, pass a generic with what","// strategies will return and will store in the session","export const authenticator = new Authenticator<User>(sessionStorage);","","// Register your strategies below",e.map((e=>`authenticator.use(${e.key}Strategy, AuthStrategies.${e.key.toUpperCase()});`)).join("\n")].join("\n"),authStrategiesOutput:t.join("\n")}}},2659:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.authRouteFileContent=void 0,t.authRouteFileContent=e=>[`import type { LoaderFunctionArgs } from "${e.get("runtimeDependency")||"@remix-run/node"}";`,'import { authenticator } from "~/services/auth.server";',"","export const loader = async ({ request }: LoaderFunctionArgs) => {","  return await authenticator.isAuthenticated(request, {",'    successRedirect: "/dashboard",',"  });","};"].join("\n")},7105:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.dashboardFileContent=void 0,t.dashboardFileContent=e=>[`import type { LoaderFunctionArgs } from '${e.get("runtimeDependency")||"@remix-run/node"}';`,"import { useLoaderData, Form } from '@remix-run/react';","import { authenticator } from '~/services/auth.server';","","export const loader = async ({ request }: LoaderFunctionArgs) => {","  await authenticator.isAuthenticated(request, {",'    failureRedirect: "/login",',"  });","  return { message: 'You are logged in!' };","};","","export default function DashboardRoute() {","  const { message } = useLoaderData<typeof loader>();","  return (","    <div>","      <h1>{message}</h1>","      <Form method='post' action='/logout'>","        <button type='submit'>Logout</button>","      </Form>","    </div>","  );","}"].join("\n")},9360:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateEnvVars=void 0,t.generateEnvVars=(e,t)=>{const r=e.map((e=>{if("form"===e.key)return"";if(t.includes(e.key.toUpperCase()))return"";const r=[`# ${e.key} Env Variables`,`${e.key.toUpperCase()}_CLIENT_ID=""`,`${e.key.toUpperCase()}_CLIENT_SECRET=""`];return"auth0"===e.key?(r.push(`${e.key.toUpperCase()}_DOMAIN=""`),r.join("\n")):("oauth2"===e.key&&r.push(`${e.key.toUpperCase()}_PROVIDER_URL=""`),r.join("\n"))})).filter((e=>""!==e)).join("\n"),i=["# Env vars added by Remix Forge"];return t.includes("APP_URL")||i.push('APP_URL="http://localhost:3000"'),t.includes("SESSION_SECRET")||i.push('SESSION_SECRET="s3cr3t"'),i.push(r),i.length<=2?"":i.join("\n")}},7336:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loginFileContent=void 0,t.loginFileContent=e=>['import { Form } from "@remix-run/react"','import { AuthStrategies } from "~/services/auth_strategies";','import type { AuthStrategy } from "~/services/auth.server";',"","interface SocialButtonProps {","  provider: AuthStrategy,","  label: string","}","","const SocialButton = ({ provider, label }: SocialButtonProps) => (",'  <Form action={`/auth/${provider}`} method="post">',"    <button>{label}</button>","  </Form>",");","","export default function LoginRoute() {","  return (","    <>",e.map((e=>`      <SocialButton provider={AuthStrategies.${e.key.toUpperCase()}} label="Login with ${e.key}" />`)).join("\n"),"    </>","  );","}"].join("\n")},4690:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.logoutFileContent=void 0,t.logoutFileContent=e=>[`import type { ActionFunctionArgs } from "${e.get("runtimeDependency")||"@remix-run/node"}"`,'import { authenticator } from "~/services/auth.server";',"","export const action = async ({ request }: ActionFunctionArgs) => {",'  await authenticator.logout(request, { redirectTo: "/" });',"};"].join("\n")},3997:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.sessionFileContent=void 0;const i=r(8913);t.sessionFileContent=()=>[`import { createCookieSessionStorage } from "${(0,i.getConfig)().get("runtimeDependency")||"@remix-run/node"}";`,"","// export the whole sessionStorage object","export const sessionStorage = createCookieSessionStorage({","  cookie: {",'    name: "_session", // use any name you want here','    sameSite: "lax", // this helps with CSRF','    path: "/", // remember to add this so the cookie will work in all routes',"    httpOnly: true, // for security reasons, make this cookie http only","    secrets: [process.env.SESSION_SECRET], // replace this with an actual secret",'    secure: process.env.NODE_ENV === "production", // enable this in prod only',"  },","});","","// you can also export the methods individually for your own usage","export const { getSession, commitSession, destroySession } = sessionStorage;"].join("\n")},6245:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateAuth0Strategy=void 0,t.generateAuth0Strategy=()=>["// Refer to https://github.com/danestves/remix-auth-auth0 for more information",'import { AuthStrategies } from "~/services/auth_strategies";','import type { User } from "~/services/auth.server";','import { Auth0Strategy } from "remix-auth-auth0";',"","const clientID = process.env.AUTH0_CLIENT_ID;","const clientSecret = process.env.AUTH0_CLIENT_SECRET;","const domain = process.env.AUTH0_DOMAIN;","","if (!clientID || !clientSecret || !domain) {","  throw new Error(",'    "Missing environment variables for Auth0. Did you forget to add AUTH0_CLIENT_ID, AUTH0_CLIENT_SECRET, and AUTH0_DOMAIN to your .env file?"',"  );","}","","export const auth0Strategy  = new Auth0Strategy<User>({","  clientID,","  clientSecret,","  domain,","  callbackURL: `${process.env.APP_URL}/auth/${AuthStrategies.AUTH0}/callback`","},","async ({ accessToken, refreshToken, profile, extraParams }) => {","  // Do something with the tokens and profile","  return {};","});",""].join("\n")},9506:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateDiscordStrategy=void 0,t.generateDiscordStrategy=()=>["// Refer to https://www.npmjs.com/package/remix-auth-socials for more information",'import { AuthStrategies } from "~/services/auth_strategies";','import type { User } from "~/services/auth.server";','import { DiscordStrategy } from "remix-auth-socials";',"","const clientID = process.env.DISCORD_CLIENT_ID;","const clientSecret = process.env.DISCORD_CLIENT_SECRET;","","if (!clientID || !clientSecret) {","  throw new Error(","    'Missing environment variables for Discord. Did you forget to add DISCORD_CLIENT_ID and DISCORD_CLIENT_SECRET to your .env file?'","  );","}","","export const discordStrategy = new DiscordStrategy<User>({","  clientID,","  clientSecret,","  callbackURL: `${process.env.APP_URL}/auth/${AuthStrategies.DISCORD}/callback`,","},","async ({ profile }) => {","  // Do something with the tokens and profile","  return {};","});",""].join("\n")},8434:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateFacebookStrategy=void 0,t.generateFacebookStrategy=()=>["// Refer to https://www.npmjs.com/package/remix-auth-socials for more information",'import { AuthStrategies } from "~/services/auth_strategies";','import type { User } from "~/services/auth.server";','import { FacebookStrategy } from "remix-auth-socials";',"","const clientID = process.env.FACEBOOK_CLIENT_ID;","const clientSecret = process.env.FACEBOOK_CLIENT_SECRET;","","if (!clientID || !clientSecret) {","  throw new Error(","    'Missing environment variables for Facebook. Did you forget to add FACEBOOK_CLIENT_ID and FACEBOOK_CLIENT_SECRET to your .env file?'","  );","}","","export const facebookStrategy = new FacebookStrategy<User>({","  clientID,","  clientSecret,","  callbackURL: `${process.env.APP_URL}/auth/${AuthStrategies.FACEBOOK}/callback`,","},","async ({ profile }) => {","  // Do something with the tokens and profile","  return {};","});",""].join("\n")},1716:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateFormStrategy=void 0,t.generateFormStrategy=()=>["// Refer to https://github.com/sergiodxa/remix-auth-form for more information",'import type { User } from "~/services/auth.server";','import { FormStrategy } from "remix-auth-form";',"","export const formStrategy = new FormStrategy<User>(","  async ({ form, context }) => {","    // Do something with the tokens and profile","    return {};","  }",");",""].join("\n")},8386:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateGithubStrategy=void 0,t.generateGithubStrategy=()=>["// Refer to https://github.com/sergiodxa/remix-auth-github for more information",'import { AuthStrategies } from "~/services/auth_strategies";','import type { User } from "~/services/auth.server";','import { GitHubStrategy } from "remix-auth-github";',"","const clientID = process.env.GITHUB_CLIENT_ID;","const clientSecret = process.env.GITHUB_CLIENT_SECRET;","","if (!clientID || !clientSecret) {",'  throw new Error("Missing GITHUB_CLIENT_ID or GITHUB_CLIENT_SECRET");',"}","","export const githubStrategy = new GitHubStrategy<User>({","  clientID,","  clientSecret,","  callbackURL: `${process.env.APP_URL}/auth/${AuthStrategies.GITHUB}/callback`,","},","async ({ accessToken, extraParams, profile }) => {","  // Do something with the tokens and profile","  return {};","});",""].join("\n")},6021:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateGoogleStrategy=void 0,t.generateGoogleStrategy=()=>["// Refer to https://github.com/pbteja1998/remix-auth-google for more information",'import { AuthStrategies } from "~/services/auth_strategies";','import type { User } from "~/services/auth.server";','import { GoogleStrategy } from "remix-auth-google";',"","const clientID = process.env.GOOGLE_CLIENT_ID;","const clientSecret = process.env.GOOGLE_CLIENT_SECRET;","","if (!clientID || !clientSecret) {",'  throw new Error("Missing GOOGLE_CLIENT_ID or GOOGLE_CLIENT_SECRET");',"}","","export const googleStrategy = new GoogleStrategy<User>({","  clientID,","  clientSecret,","  callbackURL: `${process.env.APP_URL}/auth/${AuthStrategies.GOOGLE}/callback`,","},","async ({ accessToken, refreshToken, extraParams, profile }) => {","  // Do something with the tokens and profile","  return {};","});",""].join("\n")},9443:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AUTH_STRATEGIES=void 0;const i=r(6245),n=r(9506),o=r(8434),s=r(1716),a=r(8386),c=r(6021),l=r(2913),d=r(9055),u=r(3409);t.AUTH_STRATEGIES={github:(0,a.generateGithubStrategy)(),twitter:(0,u.generateTwitterStrategy)(),oauth2:(0,d.generateOAuth2Strategy)(),auth0:(0,i.generateAuth0Strategy)(),discord:(0,n.generateDiscordStrategy)(),google:(0,c.generateGoogleStrategy)(),facebook:(0,o.generateFacebookStrategy)(),microsoft:(0,l.generateMicrosoftStrategy)(),form:(0,s.generateFormStrategy)()}},2913:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateMicrosoftStrategy=void 0,t.generateMicrosoftStrategy=()=>["// Refer to https://www.npmjs.com/package/remix-auth-socials for more information",'import { AuthStrategies } from "~/services/auth_strategies";','import type { User } from "~/services/auth.server";','import { MicrosoftStrategy } from "remix-auth-socials";',"","const clientId = process.env.MICROSOFT_CLIENT_ID;","const clientSecret = process.env.MICROSOFT_CLIENT_SECRET;","","if (!clientId || !clientSecret) {","  throw new Error(","    'Missing environment variables for Microsoft. Did you forget to add MICROSOFT_CLIENT_ID and MICROSOFT_CLIENT_SECRET to your .env file?'","  );","}","","export const microsoftStrategy = new MicrosoftStrategy<User>({","  clientId,","  clientSecret,","  redirectUri: `${process.env.APP_URL}/auth/${AuthStrategies.MICROSOFT}/callback`,","},","async ({ profile }) => {","  // Do something with the tokens and profile","  return {};","});",""].join("\n")},9055:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateOAuth2Strategy=void 0,t.generateOAuth2Strategy=()=>["// Refer to https://github.com/sergiodxa/remix-auth-oauth2 for more information",'import { AuthStrategies } from "~/services/auth_strategies";','import type { User } from "~/services/auth.server";','import { OAuth2Strategy } from "remix-auth-oauth2";','import type { OAuth2Profile } from "remix-auth-oauth2";',"","const clientID = process.env.OAUTH2_CLIENT_ID;","const clientSecret = process.env.OAUTH2_CLIENT_SECRET;","const oAuth2ProviderURL = process.env.OAUTH2_PROVIDER_URL;","","if (!clientID || !clientSecret || !oAuth2ProviderURL) {",'  throw new Error("Missing OAUTH2_CLIENT_ID or OAUTH2_CLIENT_SECRET");',"}","","export const oauth2Strategy = new OAuth2Strategy<User, OAuth2Profile>({","  authorizationURL: `${oAuth2ProviderURL}/oauth2/authorize`,","  tokenURL: `${oAuth2ProviderURL}/oauth2/token`,","  clientID,","  clientSecret,","  callbackURL: `${process.env.APP_URL}/auth/${AuthStrategies.OAUTH2}/callback`,","  useBasicAuthenticationHeader: false,","},","async ({ accessToken, refreshToken, profile }) => {","  // Do something with the tokens and profile","  return {};","}",");",""].join("\n")},3409:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateTwitterStrategy=void 0,t.generateTwitterStrategy=()=>["// Refer to https://github.com/na2hiro/remix-auth-twitter for more information",'import { AuthStrategies } from "~/services/auth_strategies";','import type { User } from "~/services/auth.server";','import { TwitterStrategy } from "remix-auth-twitter";',"","const clientID = process.env.TWITTER_CLIENT_ID;","const clientSecret = process.env.TWITTER_CLIENT_SECRET;","","if (!clientID || !clientSecret) {",'  throw new Error("Missing TWITTER_CLIENT_ID or TWITTER_CLIENT_SECRET");',"}","","export const twitterStrategy = new TwitterStrategy<User>({","  clientID,","  clientSecret,","  callbackURL: `${process.env.APP_URL}/auth/${AuthStrategies.TWITTER}/callback`,","},","async ({ accessToken, accessTokenSecret, profile }) => {","  // Do something with the tokens and profile","  return {};","}",");"].join("\n")},6562:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AUTH_OPTIONS=void 0,t.AUTH_OPTIONS=[{label:"OAuth2",key:"oauth2",description:"This will add the OAuth2 strategy"},{label:"Form",key:"form",description:"This will add the Form strategy",picked:!1},{label:"GitHub",key:"github",description:"This will add the GitHub strategy",picked:!1},{label:"Google",key:"google",description:"This will add the Google strategy",picked:!1},{label:"Facebook",key:"facebook",description:"This will add the Facebook strategy",picked:!1},{label:"Discord",key:"discord",description:"This will add the Discord strategy",picked:!1},{label:"Microsoft",key:"microsoft",description:"This will add the Microsoft strategy",picked:!1},{label:"Auth0",key:"auth0",description:"This will add the Auth0 strategy",picked:!1},{label:"Twitter",key:"twitter",description:"This will add the Twitter strategy",picked:!1}]},535:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ActionLens=void 0;const i=r(9496);t.ActionLens=class{provideCodeLenses(e,t){const r=[],n=(i.workspace.getConfiguration("remix-forge"),/export\s+const\s+action\b/);for(let t=0;t<e.lineCount;t++){const o=e.lineAt(t);if(n.exec(o.text)){const n=new i.Range(t,o.firstNonWhitespaceCharacterIndex,t,o.text.length),s=new i.CodeLens(n);s.command={title:"Add authentication 🔒",command:"remix-forge.generateAuthSnippet",arguments:[e.uri,"action"],tooltip:"Generate authentication code for this action using the authentication from remix-auth"},r.push(s)}}return r}}},5579:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.ComponentLens=void 0;const vscode=__webpack_require__(9496);class ComponentLens{sanitizePath(e){return e.startsWith("/")?e.replace("/",""):e}convertRemixPathToUrl(e){return e.startsWith("__")||e.startsWith("_")||e.includes("index")||e.includes("route")?"":e.replace(/_/g,"").replace(/\[/g,":").replace(/\]/g,"").replace("+","")}generatePath(prefix,path,urlGenerator){const urlPrefix=prefix.endsWith("/")?prefix:prefix+"/",generatedPath=urlGenerator?eval(urlGenerator)(path):void 0;if(generatedPath)return urlPrefix+this.sanitizePath(generatedPath);const pathChunks=path.split("routes/")[1].split("."),pathChunksWithoutExtension=pathChunks.slice(0,pathChunks.length-1).join("/"),sanitizedPathChunks=pathChunksWithoutExtension.split("/").map((e=>this.convertRemixPathToUrl(e))).filter((e=>""!==e)).join("/");return urlPrefix+this.sanitizePath(sanitizedPathChunks)}provideCodeLenses(e,t){const r=[],i=vscode.workspace.getConfiguration("remix-forge"),n=i.get("urlGenerator"),o=i.get("urlGeneratorPaths"),s=i.get("urlDebug"),a=/export\s+default\s+function\s+(\w+)/g;for(let t=0;t<e.lineCount;t++){const i=e.lineAt(t);if(a.exec(i.text)){const a=new vscode.Range(t,i.firstNonWhitespaceCharacterIndex,t,i.text.length);if(!e.uri.path.includes("routes")&&!n)return r;if(o?.forEach((t=>{const i=new vscode.CodeLens(a),o=this.generatePath(t.url,e.uri.path,n);i.command={title:`Open ${t.title} URL`,command:"remix-forge.openUrl",arguments:[o],tooltip:`${t.title} URL: ${o}`},r.push(i)})),o?.length&&s){const t=this.generatePath(o[0].url,e.uri.path,n),i=new vscode.CodeLens(a);i.command={title:`Debug: ${t}`,command:"remix-forge.openUrl",arguments:[t]},r.push(i)}}}return r}}exports.ComponentLens=ComponentLens},3953:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.LoaderLens=void 0;const i=r(9496);t.LoaderLens=class{provideCodeLenses(e,t){const r=[],n=(i.workspace.getConfiguration("remix-forge"),/export\s+const\s+loader\b/);for(let t=0;t<e.lineCount;t++){const o=e.lineAt(t);if(n.exec(o.text)){const n=new i.Range(t,o.firstNonWhitespaceCharacterIndex,t,o.text.length),s=new i.CodeLens(n);s.command={title:"Add authentication 🔒",command:"remix-forge.generateAuthSnippet",arguments:[e.uri,"loader"],tooltip:"Generate authentication code for this loader using the authentication from remix-auth"},r.push(s)}}return r}}},2551:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.barrelize=void 0;const i=r(9496),n=r(8913);t.barrelize=async e=>{const t=e.path,r=(0,n.getConfig)();await a(t,r)};const o=["jsx","js","tsx","ts"],s=["index","test","stories"],a=async(e,t)=>{const r=await i.workspace.fs.readDirectory(i.Uri.file(e)),n=[],c=t.get("barrelizeRemoveExtensions")||o,l=t.get("barrelizeIgnoreFiles")||s,d=t.get("barrelizeIndexExtension")||"ts";for(const[o,s]of r){if(l.some((e=>o.includes(e))))continue;const r=i.Uri.joinPath(i.Uri.file(e),o),d=c.some((e=>o.includes(e)))?o.split(".").slice(0,-1).join("."):o;d&&(n.push(`export * from "./${d}";`),s===i.FileType.Directory&&await a(r.path,t))}await i.workspace.fs.writeFile(i.Uri.joinPath(i.Uri.file(e),`index.${d}`),Buffer.from(n.join("\n")+"\n"))}},2959:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.startDevTools=void 0;const i=r(8777),n=r(9208),o=r(9792),s=r(96),a=r(6538),c=r(9496),l=r(6279),d=r(689),u=r(8913),p=r(8246);let h;const f=i.Server;t.startDevTools=async e=>{if(h)return h.clients.forEach((e=>{e.close()})),h.close(),h=void 0,(0,l.setStatusBarToStopped)(e);const t=(0,u.getConfig)().get("devToolsPort");h=new f({port:t||3003}),(0,l.setStatusBarToRunning)(e);const r=(0,a.getWorkspaceUri)();if(!r)return;let i=r;if(!await(0,s.isRemixDir)(i)){const e=c.window.activeTextEditor?.document.uri;if(!e)return;const t=await(0,s.getRemixRootFromFileUri)(e);if(!t)return;i=t}const m=await(0,s.isTSConfigExists)(i);h.on("connection",(e=>{e.onmessage=async t=>{const r=JSON.parse(t.data.toString());if("plugin"===r.type){if("read_file"===r.subtype){const t=await(0,s.tryReadFile)((0,a.joinPath)(i,r.path).path);if(t)return e.send(JSON.stringify({type:"plugin",subtype:"read_file",error:!1,data:t}));e.send(JSON.stringify({type:"plugin",subtype:"read_file",error:!0,data:"File not found"}))}if("open_file"===r.subtype)try{await(0,s.openFileInEditor)((0,a.joinPath)(i,r.path).path),e.send(JSON.stringify({type:"plugin",subtype:"open_file",error:!1,data:"success"}))}catch(t){e.send(JSON.stringify({type:"plugin",subtype:"open_file",error:!0,data:t?.message}))}if("write_file"===r.subtype)try{const e=await(0,s.tryReadFilePath)((0,a.joinPath)(i,r.path).path);e&&await c.workspace.fs.writeFile(e,Buffer.from(r.data))}catch(t){e.send(JSON.stringify({type:"plugin",subtype:"write_file",error:!0,data:t?.message}))}if("delete_file"===r.subtype)try{const t=await(0,s.tryReadFilePath)((0,a.joinPath)(i,r.path).path);console.log(t),t&&await c.workspace.fs.delete(t),e.send(JSON.stringify({type:"plugin",subtype:"delete_file",error:!1,data:"success"}))}catch(t){e.send(JSON.stringify({type:"plugin",subtype:"delete_file",error:!0,data:t?.message}))}}if("terminal_command"===r.type&&(0,o.runTerminalCommands)(i,e,r.command,r.terminalId,h),"add_route"===r.type){const e=r.path,t=r.options,n=Object.entries(t).map((([e,t])=>{if(t)return{key:e}})).filter(Boolean);await(0,d.generateRouteFile)((0,a.joinPath)(i,"app","routes"),"",e,n)}if("kill"===r.type){try{await(0,p.killtree)(r.processId)}catch(e){}e.send(JSON.stringify({type:"terminal_command",subtype:"EXIT",terminalId:r.terminalId}))}if("open-vscode"===r.type){const e=m?".tsx":".jsx",t=(0,a.joinPath)(i,"app",r.data.route).path;try{const r=await(0,s.tryReadFilePath)(t+e);if(r)return void await(0,s.openFileInEditor)(r.path);const i=await(0,s.tryReadFilePath)(t+`/route${e}`);if(i)return void await(0,s.openFileInEditor)(i.path)}catch(e){}await c.commands.executeCommand("vscode.open",c.Uri.file(t+e))}if("commands"===r.type){const t=await(0,n.getProjectCommands)(i);e.send(JSON.stringify({type:"commands",data:t}))}},e.onclose=()=>{console.log("WebSocket connection closed")}})),h.on("error",(e=>{console.log("WebSocket error:",e)})),h.on("connection",(e=>{e.on("message",(e=>{console.log("received: %s",e)}))}))}},8843:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateRemixPartial=void 0;const i=r(9496),n=r(8792),o=r(8913);t.generateRemixPartial=e=>{const t=i.window.activeTextEditor;if(t){const r=t.selection.active,s=new i.Position(r.line,r.character),a=new i.Position(0,0),c=n.GENERATORS[e],l=(0,o.getConfig)();t.edit((t=>{t.insert(a,n.GENERATORS.dependencies(l,[e],!1)+"\n"),t.insert(s,"\n"+c(l)+"\n")}))}}},6281:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(8843),t)},5027:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.flattenRoutes=void 0;const i=r(9496),n=r(3627),o=r(6538);t.flattenRoutes=async function(e){const t=await i.window.showInputBox({prompt:"Please confirm you want to do this by typing yes or y"}),r=t?.toLowerCase();if("yes"!==r&&"y"!==r&&""!==r)return await i.window.showErrorMessage("Route conversion aborted. If you want to convert the routes, please try again and type yes or y when prompted.");const n=e.path,a=n.replace("routes","temp-routes"),c=i.Uri.file(n),l=i.Uri.file(a);await i.workspace.fs.copy(c,l,{overwrite:!0});try{await(0,o.commandWithLoading)("Flattening routes to v2 convention",(()=>s(n,n))),await i.workspace.fs.delete(l,{recursive:!0})}catch(e){await i.workspace.fs.copy(l,c,{overwrite:!0}),await i.workspace.fs.delete(l,{recursive:!0}),await i.window.showErrorMessage("An error occurred while flattening the routes. Reverted to initial state.")}};const s=async(e,t)=>{try{const r=await i.workspace.fs.readDirectory(i.Uri.file(t));for(const[o,a]of r){const c=i.Uri.joinPath(i.Uri.file(t),o);if(a===i.FileType.File){const s=o.split("\\").pop(),a=r.some((([e,t])=>e.startsWith(s?.split(".")[0].replace("__","").replace("_","")||"")&&t===i.FileType.Directory)),l=t.split("routes")[1].replace("\\","").split("\\").join(".").replace(/__/g,"_"),d=a?(0,n.addUnderscoreToFirstPart)(s):s,u=(l.length?l+".":"")+d.replace(/__/g,"_").replace(/^index\./,"_index."),p=i.Uri.joinPath(i.Uri.file(e),u);try{if(await i.workspace.fs.readFile(p))continue}catch(e){}await(0,n.updateFileDependencies)(c,e,p.path),await i.workspace.fs.rename(c,p)}else a===i.FileType.Directory&&(await s(e,c.fsPath),await i.workspace.fs.delete(c,{recursive:!0}))}}catch(e){return}}},924:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateAuth=void 0;const i=r(9496),n=r(9443),o=r(3997),s=r(7556),a=r(6562),c=r(4690),l=r(7336),d=r(5922),u=r(4366),p=r(2659),h=r(9360),f=r(7105),m=r(8913),g=r(6538),_=r(96);t.generateAuth=async e=>{const t=await(0,_.getRemixRootFromFileUri)(e);if(!t)return;const r=await i.window.showQuickPick(a.AUTH_OPTIONS,{canPickMany:!0,title:"Select the strategies you want in your authentication workflow"});if(!r)return;const y=i.Uri.joinPath(e,"services"),w=(0,m.getConfig)();await i.workspace.fs.createDirectory(y);const v=i.Uri.joinPath(y,"session.server.ts"),b=i.Uri.joinPath(y,"auth_strategies");await i.workspace.fs.createDirectory(b);const x=i.Uri.joinPath(t,".env");let S="";try{S=await i.workspace.fs.readFile(x)}catch(e){}const k=i.Uri.joinPath(e,"routes"),E=i.Uri.joinPath(k,"auth.tsx"),P=i.Uri.joinPath(k,"auth.$provider.tsx"),T=i.Uri.joinPath(k,"auth.$provider.callback.tsx"),C=i.Uri.joinPath(k,"login.tsx"),O=i.Uri.joinPath(k,"logout.tsx"),R=i.Uri.joinPath(k,"dashboard.tsx");await i.workspace.fs.writeFile(x,Buffer.from([S,(0,h.generateEnvVars)(r,S.toString())].join("\n"))),await i.workspace.fs.writeFile(E,Buffer.from((0,p.authRouteFileContent)(w),"utf8")),await i.workspace.fs.writeFile(R,Buffer.from((0,f.dashboardFileContent)(w),"utf8")),await i.workspace.fs.writeFile(P,Buffer.from((0,u.authProviderFileContent)(w),"utf8")),await i.workspace.fs.writeFile(T,Buffer.from((0,d.authProviderCallbackFileContent)(w),"utf8")),await i.workspace.fs.writeFile(C,Buffer.from((0,l.loginFileContent)(r),"utf8")),await i.workspace.fs.writeFile(O,Buffer.from((0,c.logoutFileContent)(w),"utf8")),await i.workspace.fs.writeFile(v,Buffer.from((0,o.sessionFileContent)(),"utf8"));const F=i.Uri.joinPath(y,"auth.server.ts"),{content:I,authStrategiesOutput:j}=(0,s.generateAuthFileContent)(r),U=Buffer.from(I,"utf8");await(0,g.writeToFile)((0,g.joinPath)(b,"index.ts"),j),await i.workspace.fs.writeFile(F,U);for(const e of r){const t=i.Uri.joinPath(b,`${e.key}.strategy.ts`),r=Buffer.from(n.AUTH_STRATEGIES[e.key],"utf-8");await i.workspace.fs.writeFile(t,r)}const L=[];for(const e of r)("facebook"===e.key||"discord"===e.key||"microsoft"===e.key&&!L.includes("remix-auth-socials"))&&L.push("remix-auth-socials"),"github"===e.key&&L.push("remix-auth-github"),"google"===e.key&&L.push("remix-auth-google"),"twitter"===e.key&&L.push("remix-auth-twitter"),"oauth2"===e.key&&L.push("remix-auth-oauth2"),"form"===e.key&&L.push("remix-auth-form"),"auth0"===e.key&&L.push("remix-auth-auth0");await(0,g.askInstallDependenciesPrompt)(t,["remix-auth",...L])}},1221:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateAuthSnippet=void 0;const i=r(9496),n=r(7275),o=r(8913);t.generateAuthSnippet=async(e,t)=>{const r=await i.workspace.fs.readFile(e),s=Buffer.from(r).toString("utf-8").split("\n");let a=!1;const c=[],l=(0,o.getConfig)(),d=l.get("runtimeDependency")||"@remix-run/node",u=l.get("importAuthFrom")||"~/services/auth.server";let p=!1,h=!1;s.forEach(((e,r)=>{let i=e;e.includes(d)&&e.includes("import type")&&(p=!0),e.includes("import")&&e.includes("authenticator")&&(h=!0),e.includes(`export const ${t}`)&&(e.includes("async")||(i=i.replace("=","= async")),e.includes("LoaderFunctionArgs")||e.includes("ActionFunctionArgs")||e.includes("DataFunctionArgs")||(a=!0),e.includes("()")&&(i=i.replace("()",`({ request }: ${(0,n.uppercaseFirstLetter)(t)}Args)`)),e.includes("params")&&!e.includes("request")&&(i=i.replace("params","params, request")),e.includes("=> {")||!s[r]||s[r].includes("{")||(i=i.replace("=>","=> {\n  return"),i=i.replace("=> {",'=> {\n  await authenticator.isAuthenticated(request, { failureRedirect: "/login" });\n'),i+="\n}"),e.includes("=> {")&&(i=i.replace("=> {",'=> {\n  await authenticator.isAuthenticated(request, { failureRedirect: "/login" });\n'))),c.push(i)})),p||c.unshift(`import type { ${(0,n.uppercaseFirstLetter)(t)}Args } from "${d}";`),h||c.unshift(`import { authenticator } from "${u}";`);const f=a?c.map((e=>e.includes("import type")&&e.includes(d)?e.replace("import type {",`import type { ${(0,n.uppercaseFirstLetter)(t)}Args,`):e)):c;await i.workspace.fs.writeFile(e,Buffer.from(f.join("\n"),"utf-8"))}},5527:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateRemixFormRoute=void 0;const i=r(9496),n=r(8913),o=r(2169),s=r(6538),a=r(96);t.generateRemixFormRoute=async e=>{const t=await(0,a.getRemixRootFromFileUri)(e);if(!t)return;const r=(0,n.getConfig)(),c=r.get("formRouteTemplate"),l=await i.window.showInputBox({prompt:"Enter the name of the route to generate"});if(!l)return;const d=i.Uri.joinPath(e,l+".tsx");if(c)return void await i.workspace.fs.writeFile(d,Buffer.from(c));const u=r.get("formHandler")||"remix-hook-form";await i.workspace.fs.writeFile(d,Buffer.from("remix-hook-form"===u?(0,o.generateRemixHookForm)():(0,o.generateConformForm)())),await(0,s.askInstallDependenciesPrompt)(t,"remix-hook-form"===u?["react-hook-form","remix-hook-form","@remix-run/react","@hookform/resolvers","zod"]:["@conform-to/react","@conform-to/zod","@remix-run/react","zod"])}},766:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generatePrisma=t.DB_SOURCE_OPTIONS=void 0;const i=r(9496),n=r(6538),o=r(7820),s=r(1055),a=r(96);t.DB_SOURCE_OPTIONS=[{label:"PostgreSQL",key:"postgresql",description:"This will add PostgreSQL as the database source"},{label:"MySQL",key:"mysql",description:"This will add MySQL as the database source",picked:!1},{label:"SQLite",key:"sqlite",description:"This will add SQLite as the database source",picked:!1},{label:"SQLserver",key:"sqlserver",description:"This will add SQLserver as the database source",picked:!1},{label:"MongoDB",key:"mongodb",description:"This will add MongoDB as the database source",picked:!1},{label:"CockroachDB",key:"cockroachdb",description:"This will add CockroachDB as the database source",picked:!1}],t.generatePrisma=async e=>{const r=await(0,a.getRemixRootFromFileUri)(e);if(!r)return;const c=i.Uri.joinPath(r,"prisma"),l=await i.window.showQuickPick(t.DB_SOURCE_OPTIONS);l&&await(0,n.runCommand)({rootDir:r,title:"Initializing Prisma",command:`npx prisma init --datasource-provider ${l.key}`,errorMessage:"Error initializing Prisma",callback:async()=>{await i.workspace.fs.writeFile(i.Uri.joinPath(e,"db.server.ts"),Buffer.from((0,o.generatePrismaDBFile)())),await i.workspace.fs.writeFile(i.Uri.joinPath(c,"seed.ts"),Buffer.from((0,s.generateSeedFile)()));const t=await(0,n.getPackageJson)(r);return t.scripts["db:gen"]="prisma generate",t.scripts["db:migrate"]="prisma migrate dev",t.scripts["db:seed"]="prisma db seed",t.scripts["db:studio"]="prisma studio",t.prisma={seed:"ts-node --require tsconfig-paths/register prisma/seed.ts"},await i.workspace.fs.writeFile(i.Uri.joinPath(r,"package.json"),Buffer.from(JSON.stringify(t,null,2))),(0,n.askInstallDependenciesPrompt)(r,["@prisma/client"],["prisma","ts-node","tsconfig-paths","typescript","@types/node"])}})}},689:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateRouteFile=void 0;const i=r(9496),n=r(8913),o=r(8792);t.generateRouteFile=async(e,t,r,s)=>{const a=i.workspace.getConfiguration(n.EXTENSION_CONFIG_SECTION),c=r||await i.window.showInputBox({prompt:"Enter the name of the route to generate"});if(c){const t=s||await i.window.showQuickPick((0,o.generatorOptions)(a),{canPickMany:!0,title:"Select the segments you want to generate"}),r=i.Uri.joinPath(e,c+".tsx");if(t?.length){const e=t.map((e=>e.key)),s=e.includes("loader"),c=a.get("orderOfGeneration"),l=c?.length?c:n.defaultGenerationOrder,d=[o.GENERATORS.dependencies(a,e),...l.map((t=>"component"===t?o.GENERATORS[t](a,s):e.includes(t)?o.GENERATORS[t](a):void 0))].filter(Boolean).join("\n\n"),u=Buffer.from(d);await i.workspace.fs.writeFile(r,u)}else{const e=o.GENERATORS.component(a),t=Buffer.from(e);await i.workspace.fs.writeFile(r,t)}i.window.showInformationMessage(`Remix Route generated for ${c}!`)}else i.window.showWarningMessage("No route name entered, no route generated")}},8770:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateShadcnUI=void 0;const i=r(9496),n=r(6538),o=r(96),s=r(8913),a=["Accordion","Alert","Alert Dialog","Aspect Ratio","Avatar","Badge","Button","Calendar","Card","Carousel","Checkbox","Collapsible","Command","Context Menu","Dialog","Drawer","Dropdown Menu","Form","Hover Card","Input","Label","Menubar","Navigation Menu","Pagination","Popover","Progress","Radio Group","Resizable","Scroll-area","Select","Separator","Sheet","Skeleton","Slider","Sonner","Switch","Table","Tabs","Textarea","Toast","Toggle","Toggle Group","Tooltip"];t.generateShadcnUI=async e=>{const t=await(0,o.getRemixRootFromFileUri)(e);if(!t)return;if(!await(0,o.tryReadFile)((0,n.joinPath)(t,"components.json")))return void i.window.showErrorMessage("Shadcn UI is not initialized in this project. (components.json declaration missing)");const r=(0,s.getConfig)().get("componentFolder")||"/app/components/ui";if(!r)return;await(0,n.tryReadDirectory)((0,n.joinPath)(t,r))||await i.workspace.fs.createDirectory((0,n.joinPath)(t,r));const c=(0,n.sanitizePath)(r);(0,s.updateConfig)("componentFolder",c);const l=await(async(e,t)=>{const r=a.map((e=>({key:e.trim().toLowerCase().replace(/ /g,"-"),label:e.trim(),description:`Add ${e.trim()} component`}))),i=r.map((e=>e.key)),o=(await(0,n.tryReadDirectory)((0,n.joinPath)(e,t))).map((e=>i.includes(e[0].replace(".tsx",""))?e[0].replace(".tsx",""):void 0)).filter(Boolean);return r.filter((e=>!o.includes(e.key)))})(t,c),d=await(0,n.getMultiplePickableOptions)(l,{title:"Select components to generate"});if(!d)return;const u=d.map((e=>e.key)).join(" ");await(0,n.runCommandWithPrompt)({rootDir:t,command:`npx shadcn-ui@latest add ${u}`,title:"Generating shadcn/ui components",promptHandler:async(e,t)=>{e.stdin?.write("y\n"),e.stdin?.end(),e.stdout?.on("end",t)}});for(const e of d){const r=(0,n.joinPath)(t,c,`${e.key}.tsx`),i=await(0,o.tryReadFile)(r.path);if(!i)continue;const s=i.toString().replace('"use client"\n\n',"");await(0,n.writeToFile)(r,s)}}},4687:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateTests=void 0;const i=r(9496),n=r(96),o=r(3627),s=r(2086),a=r(6538),c=r(8913);t.generateTests=async e=>{const t=await(0,n.getRemixRootFromFileUri)(e);if(!t)return;const r=e.path.includes("routes"),{fileNameExtension:l,fileNameWithoutExtension:d}=(0,n.getFileInfo)(e.path),u=(await i.workspace.fs.readFile(e)).toString(),p=(0,c.getConfig)().get("searchStrategy");await(0,a.commandWithLoading)("Generating tests",(async()=>{const c=await(0,n.findTestFile)(e.path,p),h=(0,n.getFilesExports)(u);if(c){const n=(0,o.getPathDifference)(t.path,e.path),a=(await i.workspace.fs.readFile(c)).toString(),l=h.filter((e=>!a.includes(e.name)));await(0,s.generateTestFile)(l,n,c,r)}else await(0,s.generateTestFile)(h,`./${d}`,i.Uri.joinPath(e,"..",d+".test."+l),r),(0,a.askInstallDependenciesPrompt)(t,[],["@testing-library/react"])}))}},5885:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(2551),t),n(r(5027),t),n(r(924),t),n(r(1221),t),n(r(5527),t),n(r(766),t),n(r(689),t),n(r(8770),t),n(r(4687),t),n(r(8117),t),n(r(5519),t),n(r(7960),t),n(r(5734),t)},8117:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.initShadcnUi=void 0;const i=r(9496),n=r(6538),o=r(96),s=r(8913);t.initShadcnUi=async e=>{const t=await(0,o.getRemixRootFromFileUri)(e);if(!t)return;if(await(0,o.tryReadFile)((0,n.joinPath)(t,"components.json")))return void i.window.showErrorMessage("Shadcn UI is already initialized in this project.");const r=await(0,n.getUserInput)("Where do you want to initialize the utils folder?","/app/lib");if(!r)return;const c=await(0,n.getUserInput)("What do you want to call your css file?","globals.css");if(!c)return;const l=(0,s.getConfig)().get("runtimeDependency")||"@remix-run/node",d=await a(c);d.length&&(await(0,n.runCommandWithPrompt)({rootDir:t,command:"npx shadcn-ui@latest init",title:"Initializing shadcn/ui",promptHandler:async(e,t)=>{e.stdout?.on("data",(t=>{if(t.toString().includes("Would you like to use TypeScript (recommended)?")&&d[0].runTimes>0&&(e.stdin?.write(d[0].command),d[0].runTimes=d[0].runTimes-1),t.toString().includes("Which style would you like to use?")&&d[1].runTimes>0){for(;d[1].runTimes>0;)e.stdin?.write(d[1].command),d[1].runTimes=d[1].runTimes-1;e.stdin?.write("\r")}if(t.toString().includes("Which color would you like to use as base color?")&&d[2].runTimes>0){for(;d[2].runTimes>0;)e.stdin?.write(d[2].command),d[2].runTimes=d[2].runTimes-1;e.stdin?.write("\r")}t.toString().includes("Where is your global CSS file?")&&d[3].runTimes>0&&(e.stdin?.write(d[3].command),d[3].runTimes=d[3].runTimes-1),t.toString().includes("Would you like to use CSS variables for colors?")&&d[4].runTimes>0&&(e.stdin?.write(d[4].command),d[4].runTimes=d[4].runTimes-1),t.toString().includes("Where is your tailwind.config.js located?")&&d[5].runTimes>0&&(e.stdin?.write(d[5].command),d[5].runTimes=d[5].runTimes-1),t.toString().includes("Configure the import alias for components:")&&d[6].runTimes>0&&(e.stdin?.write(d[6].command),d[6].runTimes=d[6].runTimes-1),t.toString().includes("Configure the import alias for utils:")&&d[7].runTimes>0&&(e.stdin?.write(d[7].command),d[7].runTimes=d[7].runTimes-1),t.toString().includes("Are you using React Server Components?")&&d[8].runTimes>0&&(e.stdin?.write(d[8].command),d[8].runTimes=d[8].runTimes-1),t.toString().includes("Write configuration to components.json")&&d[9].runTimes>0&&(e.stdin?.write(d[9].command),d[9].runTimes=d[9].runTimes-1,e.stdin?.end())})),e.stdout?.on("end",t)}}),await(async(e,t)=>{const r=(0,n.joinPath)(e,"@","lib","utils.ts"),s=(0,n.joinPath)(e,(0,n.sanitizePath)(t),"utils.ts");if(r.path!==s.path){await(0,o.tryReadFile)(s)||await i.workspace.fs.createDirectory((0,n.joinPath)(e,(0,n.sanitizePath)(t)));try{await i.workspace.fs.rename(r,s)}catch(e){return}try{await i.workspace.fs.delete(i.Uri.joinPath(e,"@"))}catch(e){i.window.showErrorMessage("Failed to delete lib folder on the root due to the extension not having the required permissions to remove the directory. Please delete it manually.")}}})(t,r),await(async(e,t,r)=>{try{const s=(0,n.joinPath)(e,"app","root.tsx"),a=await(0,o.tryReadFile)(s);if(a){let e=a.toString();e.includes(t)||(e=`import styles from "./${t}";\n`+e),e.includes("export const links")||(e=`import type { LinksFunction } from "${r}"\n`+e.replace("export default",["export const links: LinksFunction = () => [",'  { rel: "stylesheet", href: styles },',"];","","export default"].join("\n"))),e.includes("export const links: LinksFunction = () => [")&&!e.includes('{ rel: "stylesheet", href: styles }')&&(e=e.replace("export const links: LinksFunction = () => [",["export const links: LinksFunction = () => [",'  { rel: "stylesheet", href: styles },',"];",""].join("\n"))),await i.workspace.fs.writeFile(s,Buffer.from(e))}}catch(e){}})(t,c,l),await(async(e,t)=>{try{const r=i.Uri.joinPath(e,"tsconfig.json"),n=await(0,o.tryReadFile)(r),s=t.split("/lib")[0],a=`./${s.startsWith("/")?s.slice(1):s}/*`;if(n)try{const e=JSON.parse(n);e.compilerOptions?.paths&&(Object.keys(e.compilerOptions.paths).includes("@/*")||(e.compilerOptions.paths["@/*"]=[a])),await i.workspace.fs.writeFile(r,Buffer.from(JSON.stringify(e,null,2)))}catch(e){let t=n.toString();!t.includes("@/*")&&t.includes("paths")&&(t=t.replace('"paths": {',['"paths": {',`      "@/*": ["${a}"],`].join("\n"))),t.includes("paths")||(t=t.replace('"compilerOptions": {',['"compilerOptions": {','    "paths": {',`      "@/*": ["${a}"]`,"    },"].join("\n"))),await i.workspace.fs.writeFile(r,Buffer.from(t))}}catch(e){}})(t,r),await(async e=>{const t=(0,n.joinPath)(e,"remix.config.js"),r=await(0,o.tryReadFile)(t);if(!r)return;let i=r.toString();i.includes("tailwind: true")||(i=i.replace("module.exports = {","module.exports = {\n  tailwind: true,")),await(0,n.writeToFile)(t,i)})(t),await(0,n.installDependencies)(t,["class-variance-authority","clsx"," tailwind-merge","lucide-react","tailwindcss-animate"]))};const a=async e=>{const t=[],r=await(0,n.getPickableOptions)([{picked:!0,label:"Default",value:0},{value:1,label:"New York"}],{title:"Pick your style options"}),i=await(0,n.getPickableOptions)([{picked:!0,label:"Slate",value:0},{value:1,label:"Gray"},{value:2,label:"Zinc"},{value:3,label:"Neutral"},{value:4,label:"Stone"}],{title:"Pick your template colors"}),o=await(0,n.getPickableOptions)([{picked:!0,label:"No",description:"Will not use CSS variables for colors",value:0},{value:1,description:"Will use CSS variables for colors",label:"Yes"}],{title:"Would you like to use CSS variables for colors?"});return r&&i&&o?(t.push({command:"\r",runTimes:1}),t.push({command:"[B",runTimes:r.value>0?r.value:1}),t.push({command:"[B",runTimes:i.value>0?i.value:1}),t.push({command:`app/${e}\r`,runTimes:1}),t.push({command:(0===o.value?"":"[C")+"\r",runTimes:1}),t.push({command:"tailwind.config.ts\r",runTimes:1}),t.push({command:"\r",runTimes:1}),t.push({command:"\r",runTimes:1}),t.push({command:"[D\r",runTimes:1}),t.push({command:"Y\r",runTimes:1}),t):t}},5519:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.linting=void 0;const i=r(9496),n=r(96),o=r(1959),s=r(931),a=r(6538);t.linting=async e=>{const t=await(0,n.getRemixRootFromFileUri)(e);t&&(await i.workspace.fs.writeFile(i.Uri.joinPath(t,".eslintrc"),Buffer.from((0,o.generateEslintConfig)())),await i.workspace.fs.writeFile(i.Uri.joinPath(t,".prettierrc"),Buffer.from((0,s.generatePrettierRc)())),await i.workspace.fs.writeFile(i.Uri.joinPath(t,".prettierignore"),Buffer.from((0,s.generatePrettierIgnore)())),await(0,o.extendPackageJsonWithLinting)(t),(0,a.askInstallDependenciesPrompt)(t,[],["@remix-run/eslint-config","eslint","eslint-config-prettier","eslint-plugin-prettier","prettier"]))}},7960:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.openUrl=void 0;const i=r(9496);t.openUrl=async e=>{await i.env.openExternal(i.Uri.parse(e))}},5734:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.updateRemix=void 0;const i=r(9496),n=r(6538),o=r(96);t.updateRemix=async e=>{const t=await(0,o.getRemixRootFromFileUri)(e),r=await i.window.showInputBox({prompt:"Enter the version of Remix you want to update to (latest, nightly, or specific version, eg: 1.17.0)",value:"latest"});r&&t&&await(0,n.runCommand)({rootDir:t,command:`npx upgrade-remix ${r||""}`,title:"Updating Remix dependencies",errorMessage:"Error updating Remix dependencies, you might have provided an invalid version."})}},8913:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.config=t.updateConfig=t.getConfig=t.defaultGenerationOrder=t.EXTENSION_CONFIG_SECTION=void 0;const i=r(9496);t.EXTENSION_CONFIG_SECTION="remix-forge";const n=i.workspace.getConfiguration(t.EXTENSION_CONFIG_SECTION);t.config=n,t.defaultGenerationOrder=["links","meta","handler","headers","loader","action","component","errorBoundary","revalidate"],t.getConfig=()=>i.workspace.getConfiguration(t.EXTENSION_CONFIG_SECTION),t.updateConfig=(e,r)=>{(0,t.getConfig)().update(e,r,i.ConfigurationTarget.Workspace)}},9208:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getProjectCommands=void 0;const i=r(6538);t.getProjectCommands=async e=>{const t=await(0,i.getPackageJson)(e);if(t)return t.scripts}},8246:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.killtree=t.kill=void 0;const i=r(1058),n=r(5987);let o="win32"===process.platform;t.kill=async e=>{s(e)&&(o?await(0,i.execa)("taskkill",["/F","/PID",e.toString()]).catch((e=>{128!==e.exitCode&&(/There is no running instance of the task./.test(e.message)||console.warn(e.message))})):await(0,i.execa)("kill",["-9",e.toString()]).catch((e=>{/No such process/.test(e.message)||console.warn(e.message)})))};let s=e=>{try{return process.kill(e,0),!0}catch(e){return!1}};t.killtree=async e=>{let r=[e,...await n(e)];return await Promise.all(r.map(t.kill)),new Promise(((e,t)=>{let i=setInterval((()=>{r=r.filter(s),0===r.length&&(clearInterval(i),e())}),50);setTimeout((()=>{clearInterval(i),t(new Error("Timeout: Processes did not exit within the specified time."))}),2e3)}))}},9792:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.runTerminalCommands=void 0;const i=r(2081),n=r(8246),o=r(96);t.runTerminalCommands=async(e,t,r,s,a)=>{await(async(e,t,r,s,a)=>{const c=await(0,o.getRemixRootFromFileUri)(e),l=(0,i.exec)(t,{cwd:c?.fsPath,env:{FORCE_COLOR:"true"}});l.on("spawn",(()=>{r.send(JSON.stringify({type:"terminal_command",terminalId:s,processId:l.pid}))})),l.on("error",(e=>{r.send(JSON.stringify({type:"terminal_command",subtype:"ERROR",terminalId:s,data:e.message}))})),l?.stdout?.on("data",(e=>{r.send(JSON.stringify({type:"terminal_command",subtype:"DATA",terminalId:s,data:e.toString()}))})),l?.stderr?.on("data",(e=>{r.send(JSON.stringify({type:"terminal_command",subtype:"ERROR",terminalId:s,data:e.toString()}))})),l?.stdout?.on("error",(e=>{r.send(JSON.stringify({type:"terminal_command",subtype:"ERROR",terminalId:s,data:e.message}))})),l.on("close",(e=>{r.send(JSON.stringify({type:"terminal_command",subtype:"CLOSE",terminalId:s,data:e?.toString()}))})),l.on("exit",(e=>{r.send(JSON.stringify({type:"terminal_command",subtype:"EXIT",terminalId:s,data:e?.toString()}))})),a.on("close",(async()=>{try{l.pid&&await(0,n.killtree)(l.pid)}catch(e){}}))})(e,r,t,s,a)}},5401:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateConformForm=void 0;const i=r(8913);t.generateConformForm=()=>{const e=(0,i.getConfig)().get("runtimeDependency")||"@remix-run/node";return['import { useForm } from "@conform-to/react";','import { parse } from "@conform-to/zod";','import { Form, useActionData } from "@remix-run/react";',`import { json } from "${e}";`,`import type { ActionFunctionArgs } from "${e}";`,'import { z } from "zod";',"","const schema = z.object({","  // Add your schema here","});","","export async function action({ request }: ActionFunctionArgs) {","  const formData = await request.formData();","  const submission = parse(formData, { schema });","","  if (!submission.value || submission.intent !== 'submit') {","    return json(submission, { status: 400 });","  }","","  // Do something with the data","  return json(submission);","}","","export default function FormRoute() {","  const lastSubmission = useActionData<typeof action>();","  const [form, fields] = useForm({","    lastSubmission,","    onValidate({ formData }) {","      return parse(formData, { schema });","    },","  });","","  return (",'    <Form method="post" {...form.props}>',"      {/** Your form elements here */}","      <button>Submit</button>","    </Form>","  );","}"].join("\n")}},2169:function(e,t,r){"use strict";var i=this&&this.__createBinding||(Object.create?function(e,t,r,i){void 0===i&&(i=r);var n=Object.getOwnPropertyDescriptor(t,r);n&&!("get"in n?!t.__esModule:n.writable||n.configurable)||(n={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,i,n)}:function(e,t,r,i){void 0===i&&(i=r),e[i]=t[r]}),n=this&&this.__exportStar||function(e,t){for(var r in e)"default"===r||Object.prototype.hasOwnProperty.call(t,r)||i(t,e,r)};Object.defineProperty(t,"__esModule",{value:!0}),n(r(5401),t),n(r(3679),t)},3679:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateRemixHookForm=void 0;const i=r(8913);t.generateRemixHookForm=()=>{const e=(0,i.getConfig)().get("runtimeDependency")||"@remix-run/node";return['import { useRemixForm, getValidatedFormData } from "remix-hook-form";','import { Form } from "@remix-run/react";','import { zodResolver } from "@hookform/resolvers/zod";',`import { json } from "${e}";`,`import type { ActionFunctionArgs } from "${e}";`,'import { z } from "zod";',"","const schema = z.object({","  // Add your schema here","});","","type FormData = z.infer<typeof schema>;","","const resolver = zodResolver(schema);","","export const action = async ({ request }: ActionFunctionArgs) => {","  const { errors, data, receivedValues: defaultValues } =","    await getValidatedFormData<FormData>(request, resolver);","  if (errors) {","    return json({ errors, defaultValues });","  }","  // Do something with the data","  return json(data);","};","","export default function FormRoute() {","  const {","    handleSubmit,","  } = useRemixForm({",'    mode: "onSubmit",',"    defaultValues: {",'      name: "",','      email: "",',"    },","    resolver,","  });","","  return (",'    <Form method="post" onSubmit={handleSubmit}>',"      {/** Your form elements here */}",'      <button type="submit">Submit</button>',"    </Form>","  );","}"].join("\n")}},3480:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateAction=void 0,t.generateAction=e=>{const t=e.get("action");return t?t+"\n":["export const action = async ({ request }: ActionFunctionArgs) => {","  return null;","};"].join("\n")}},7298:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateComponent=void 0,t.generateComponent=(e,t=!1)=>{const r=e.get("component");return r?r+"\n":["export default function RouteComponent(){",...t?["  const data = useLoaderData<typeof loader>()"]:[],"  return (","    <div />","  );","}"].join("\n")}},8783:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateDependencies=void 0,t.generateDependencies=(e,t,r=!0)=>{const i=e.get("runtimeDependency")||"@remix-run/node",n=e.get("customActionImports")||"",o=e.get("customLoaderImports")||"",s=[],a=[],c=[];t.includes("meta")&&s.push("MetaFunction"),t.includes("headers")&&a.push("HeadersFunction"),t.includes("links")&&a.push("LinksFunction"),t.includes("loader")&&(a.push("LoaderFunctionArgs"),r&&s.push("useLoaderData")),t.includes("action")&&a.push("ActionFunctionArgs"),t.includes("revalidate")&&c.push("ShouldRevalidateFunction"),t.includes("errorBoundary")&&s.push("isRouteErrorResponse","useRouteError");const l=[...n&&t.includes("action")?[n]:[],...o&&t.includes("loader")?[o]:[]];return a.length&&l.push(`import type { ${a.join(", ")} } from "${i}";`),s.length&&l.push(`import { ${s.join(", ")} } from "@remix-run/react";`),c.length&&l.push(`import type { ${c.join(", ")} } from "@remix-run/react";`),l.join("\n")}},7310:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateErrorBoundary=void 0,t.generateErrorBoundary=e=>{const t=e.get("errorBoundary");return t?t+"\n":["export function ErrorBoundary(){","  const error = useRouteError();","  if (isRouteErrorResponse(error)) {","    return <div/>","  }","  return <div/>","}"].join("\n")}},9851:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateHandler=void 0,t.generateHandler=e=>{const t=e.get("handle");return t?t+"\n":["export const handle = () => ({","  // your handler here","});"].join("\n")}},1005:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateHeaders=void 0,t.generateHeaders=e=>{const t=e.get("headers");return t?t+"\n":["export const headers: HeadersFunction = () => (","  {","    // your headers here","  }",");"].join("\n")}},8792:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generatorKeys=t.generatorOptions=t.GENERATORS=void 0;const i=r(3480),n=r(7298),o=r(8783),s=r(7310),a=r(9851),c=r(1005),l=r(8349),d=r(2586),u=r(3635),p=r(3754);t.GENERATORS={action:i.generateAction,component:n.generateComponent,errorBoundary:s.generateErrorBoundary,handler:a.generateHandler,headers:c.generateHeaders,links:l.generateLinks,loader:d.generateLoader,meta:u.generateMeta,revalidate:p.generateRevalidate,dependencies:o.generateDependencies},t.generatorOptions=e=>{const t=e.get("preselected")??[],r=t.includes("all");return[{key:"links",label:"With links",description:"Generate a links function inside the route",picked:t.includes("links")||r},{key:"meta",label:"With meta",description:"Generate a meta function inside the route",picked:t.includes("meta")||r},{key:"handler",label:"With handle",description:"Generate a handle function inside the route",picked:t.includes("handler")||r},{key:"headers",label:"With headers",description:"Generate a headers function inside the route",picked:t.includes("headers")||r},{key:"loader",label:"With loader",description:"Generate a loader function inside the route",picked:t.includes("loader")||r},{key:"action",label:"With action",description:"Generate an action function inside the route",picked:t.includes("action")||r},{key:"errorBoundary",label:"With ErrorBoundary",description:"Generate an ErrorBoundary component inside the route",picked:t.includes("errorBoundary")||r},{key:"revalidate",label:"With shouldRevalidate",description:"Generate a shouldRevalidate function inside the route",picked:t.includes("revalidate")||r}]},t.generatorKeys=Object.keys(t.GENERATORS)},8349:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateLinks=void 0,t.generateLinks=e=>{const t=e.get("links");return t?t+"\n":["export const links: LinksFunction = () => (","  [","    // your links here","  ]",");"].join("\n")}},1959:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.extendPackageJsonWithLinting=t.generateEslintConfig=void 0;const i=r(9496),n=r(6538);t.generateEslintConfig=()=>["{",'  "extends": ["@remix-run/eslint-config", "@remix-run/eslint-config/node", "prettier" ],','  "plugins": ["prettier"],','  "rules": {',"    // Add custom rules here","  }","}"].join("\n"),t.extendPackageJsonWithLinting=async e=>{const t=await(0,n.getPackageJson)(e);t.scripts.lint||(t.scripts.lint='eslint "app/**/*.+(ts|tsx)"'),t.scripts["lint:fix"]||(t.scripts["lint:fix"]="npm run lint -- --fix"),t.scripts.prettier||(t.scripts.prettier="prettier app --check"),t.scripts["prettier:fix"]||(t.scripts["prettier:fix"]="prettier app --write"),t.scripts["format-code"]||(t.scripts["format-code"]="npm run prettier:fix & npm run lint:fix"),await i.workspace.fs.writeFile(i.Uri.joinPath(e,"package.json"),Buffer.from(JSON.stringify(t,null,2)))}},931:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generatePrettierRc=t.generatePrettierIgnore=void 0,t.generatePrettierIgnore=()=>["node_modules","/build"].join("\n"),t.generatePrettierRc=()=>["{","  ","}"].join("\n")},2586:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateLoader=void 0,t.generateLoader=e=>{const t=e.get("loader");return t?t+"\n":["export const loader = async ({ request }: LoaderFunctionArgs) => {","  return null;","};"].join("\n")}},3635:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateMeta=void 0,t.generateMeta=e=>{const t=e.get("meta");return t?t+"\n":["export const meta: MetaFunction = () => [","  // your meta here","];"].join("\n")}},7820:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generatePrismaDBFile=void 0,t.generatePrismaDBFile=()=>['import { PrismaClient } from "@prisma/client";',"","let prisma = new PrismaClient();","","declare global {","  var __db__: PrismaClient | undefined;","}","","if(process.env.NODE_ENV === 'production') {","  prisma = new PrismaClient();","} else {","  if (!global.__db__) {","    global.__db__ = new PrismaClient();","  }","  prisma = global.__db__;","  prisma.$connect();","}","","export { prisma };"].join("\n")},1055:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateSeedFile=void 0,t.generateSeedFile=()=>['import { PrismaClient } from "@prisma/client";',"","const prisma = new PrismaClient();","","async function main() {","  // Seed your database here","  // You can do something like this:","  // await prisma.user.create({","  //   data: {","  //     email: 'email@email.com',","  //     name: 'User Name',","  //     password: 'password',","  //   },","  // });","}","","main()","  .then(async () => {","    console.log('Seeding complete');","    await prisma.$disconnect();","  })","  .catch((e) => {","    console.error(e);","    console.log('Seeding failed');","    prisma.$disconnect();","    process.exit(1);","  });",""].join("\n")},3754:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateRevalidate=void 0,t.generateRevalidate=e=>{const t=e.get("revalidate");return t?t+"\n":["export const shouldRevalidate: ShouldRevalidateFunction = () => {"," return true;","};"].join("\n")}},2086:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateTestFile=void 0;const i=r(9496),n=r(96),o='import { render } from "@testing-library/react"';t.generateTestFile=async(e,t,r,s)=>{if(!e.length)return;let a=await(0,n.tryReadFile)(r.path);const c=((e,t)=>e.map((e=>{const r=e.name;return t&&e.isDefault||"ErrorBoundary"===r?[`describe('${r} Test suite', () => {`,"  it('should work', async () => {",`    render(<${r} />);`,`    expect(${r}).toBeTruthy();`,"  });","});"].join("\n"):"shouldRevalidate"===r?[`describe('${r} Test suite', () => {`,"  it('should work', async () => {",'    const params = { defaultShouldRevalidate: true, currentUrl: new URL("http://localhost:3000"), nextUrl: new URL("http://localhost:3000"), nextParams: {}, currentParams: {} }',`    const result = ${r}(params);`,"    expect(result).toBeTruthy();","  });","});"].join("\n"):"headers"===r?[`describe("${r} Test suite", () => {`,'  it("should work", () => {',"    expect(",`       ${r}({`,"        loaderHeaders: new Headers(),","        parentHeaders: new Headers(),","        actionHeaders: new Headers(),","        errorHeaders: new Headers()","      })","    ).toBeTruthy();","  });","});"].join("\n"):"meta"===r?['describe("meta Test suite", () => {','  it("should work", () => {',"    expect(","      meta({","        params: {},","        data: {},",'        location: { ...new Location(), state: {}, key: "" },',"        matches: []","      })","    ).toBeTruthy();","  });","});"].join("\n"):"links"===r||"handle"===r?[`describe('${r} Test suite', () => {`,"  it('should work', () => {",`    expect(${r}()).toBeTruthy();`,"  });","});"].join("\n"):"loader"===r?[`describe('${r} Test suite', () => {`,"  it('should work', async () => {",'    const request = new Request("http://localhost:3000/");',`    const response = await ${r}({`,"      request,","      params: {},","      context: {}","    });","","    expect(response).toBeInstanceOf(Response);","  });","});"].join("\n"):"action"===r?[`describe('${r} Test suite', () => {`,"  it('should work', async () => {",'    const body = new URLSearchParams({ test: "test" });','    const request = new Request("http://localhost:3000/", { method: "POST", body });',`    const response = await ${r}({`,"      request,","      params: {},","      context: {}","    });","","    expect(response).toBeInstanceOf(Response);","  });","});"].join("\n"):[`describe('${r} Test suite', () => {`,"  it('should work', () => {",`    expect(${r}).toBeTruthy();`,"  });","});"].join("\n")})).join("\n\n"))(e,s),l=e.map((e=>e.isDefault?`default as ${e.name}`:e.name)).join(", ");if(a){const e=`${r.path.split("/").pop().replace(".test.tsx","").replace(".test.ts","")}`;a=(0,n.addImportsToImportStatement)(e,l,a);const t=s&&!a.includes(o)?`${o};\n`:"";return await i.workspace.fs.writeFile(r,Buffer.from(t+a+"\n"+c)),await(0,n.formatFile)(r.path)}const d=`import { ${l} } from "${t.replace(".tsx","").replace(".ts","")}";${s&&e.some((e=>e.isDefault||"ErrorBoundary"===e.name))?`\n${o};\n`:""}\n\n`;await i.workspace.fs.writeFile(r,Buffer.from(d+c)),await(0,n.formatFile)(r.path)}},189:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.checkRemixVersion=void 0;const i=r(2081),n=r(6538),o=r(5885),s=r(9496),a=r(8913),c=r(96);t.checkRemixVersion=async e=>{if(!1===(0,a.getConfig)().get("latestRemixNotification"))return;const t=await(0,c.getRemixRootFromFileUri)(e);if(!t)return;const r=await(0,n.getPackageJson)(t);if(!r)return;const l=r.dependencies;if(!l)return;const d=l["@remix-run/react"];if(!d)return;if("latest"===d&&"nightly"===d)return;const u=new Promise((async e=>{(0,i.exec)("npm view @remix-run/react version",{cwd:t?.fsPath},((t,r,i)=>e(t?void 0:r?r.trim():void 0)))})),p=await u;p&&(d.includes(p)||s.window.showInformationMessage(`Your Remix version is ${d.replace("^","")}, but the latest version is ${p}. Do you want to update?`,"Yes","No").then((e=>{"Yes"===e&&(0,o.updateRemix)(t)})))}},3627:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addUnderscoreToFirstPart=t.updateFileDependencies=t.getPathDifference=t.calculatePathDifference=t.convertRoutePathToTildeFromRelative=t.convertDependencyPath=void 0;const i=r(9496);t.convertDependencyPath=(e,t)=>{if(e.startsWith("./")){const r=function(e){const t=e.lastIndexOf(".");return-1!==t?e.substring(0,t):""}(t.split("routes/")[1].replace(".jsx","").replace(".tsx",""));return"./"+(r?r+".":"")+e.replace("./","").replace(/__/g,"_").replace(/index/g,"_index").replace(/\//g,".")}if(!e.includes("routes"))return e;const r=e.split("routes/");if(r.length<2)return e;const i=r[1].replace(".tsx","").replace(".jsx","").replace(/\//g,".");return r[0]+"routes/"+i},t.convertRoutePathToTildeFromRelative=(e,t)=>{const r=e.match(/\.\.\//g),i=r?r.length:0,n=e.replace(/\.\.\//g,"");return e.startsWith("./")?e:e.startsWith("../")||e.startsWith("~/")?i>t?"../".repeat(i-t)+n:n.startsWith("~/")?n:`~/${n}`:e},t.calculatePathDifference=(e,t)=>{const r=e.split("/"),i=t.split("/");let n=0;for(;n<r.length&&n<i.length&&r[n]===i[n];)n++;return i.length-n},t.getPathDifference=(e,t)=>{const r=e.split("/"),i=t.split("/");let n=0;for(;n<r.length&&n<i.length&&r[n]===i[n];)n++;return i.slice(n).join("/")},t.updateFileDependencies=async(e,r,n)=>{let o=(await i.workspace.fs.readFile(e)).toString();const s=/import\s.*?\sfrom\s['"](.*?)['"]/g,a=/from\s['"](.*?)['"]/g;let c;for(;null!==(c=s.exec(o));){const i=c[0],s=c[1];if(!i||!s)continue;const a=(0,t.calculatePathDifference)(r,e.fsPath),l=(0,t.convertDependencyPath)((0,t.convertRoutePathToTildeFromRelative)(s,a),n);if(l!==s){const e=i.replace(s,l);o=o.replace(i,e)}}for(;null!==(c=a.exec(o));){const i=c[0],s=c[1];if(!i||!s)continue;const a=(0,t.calculatePathDifference)(r,e.fsPath),l=(0,t.convertDependencyPath)((0,t.convertRoutePathToTildeFromRelative)(s,a),n);if(l!==s){const e=i.replace(s,l);o=o.replace(i,e)}}await i.workspace.fs.writeFile(e,Buffer.from(o))},t.addUnderscoreToFirstPart=(e="")=>{const t=e.split(".");return t.length>2&&(t[0]=t[0]+"_"),t.join(".")}},96:(__unused_webpack_module,exports,__webpack_require__)=>{"use strict";Object.defineProperty(exports,"__esModule",{value:!0}),exports.generatePath=exports.convertRemixPathToUrl=exports.addImportsToImportStatement=exports.isTSConfigExists=exports.tryReadFilePath=exports.tryReadFile=exports.getFilesExports=exports.findTestFile=exports.getRemixRootFromFileUri=exports.isRemixDir=exports.fileExists=exports.formatFile=exports.openFileInEditor=exports.getFileInfo=exports.getFileName=exports.getFileNameWithoutExtension=exports.getFileExtension=void 0;const vscode=__webpack_require__(9496),vscode_1=__webpack_require__(6538),path=__webpack_require__(1017),getFileExtension=e=>e.split(".").pop();exports.getFileExtension=getFileExtension;const getFileNameWithoutExtension=e=>{const t=(0,exports.getFileName)(e),r=(0,exports.getFileExtension)(t);return t.replace(`.${r}`,"")};exports.getFileNameWithoutExtension=getFileNameWithoutExtension;const getFileName=e=>e.split("/").pop();exports.getFileName=getFileName;const getFileInfo=e=>{const t=(0,exports.getFileName)(e);return{fileName:t,fileNameExtension:(0,exports.getFileExtension)(t),fileNameWithoutExtension:(0,exports.getFileNameWithoutExtension)(t)}};async function openFileInEditor(e){const t=vscode.Uri.file(e),r=await vscode.workspace.openTextDocument(t);return vscode.window.showTextDocument(r)}exports.getFileInfo=getFileInfo,exports.openFileInEditor=openFileInEditor;const formatFile=async e=>{const t=await openFileInEditor(e);await vscode.commands.executeCommand("editor.action.formatDocument"),await t.document.save()};exports.formatFile=formatFile;const fileExists=async(e,t)=>{try{return await vscode.workspace.fs.stat(vscode.Uri.joinPath(e,t)),!0}catch(e){return!1}};async function directoryHasPackageJson(e){try{return await(0,exports.fileExists)(e,"package.json")}catch(e){return!1}}function getParentDirFromFileUri(e){const t=path.dirname(e.fsPath);return vscode.Uri.file(t)}exports.fileExists=fileExists;const isRemixDir=async e=>{const t=await(0,exports.fileExists)(e,"remix.config.js");return await directoryHasPackageJson(e)&&t};function isChildOrNestedChildUri(e,t){const r=path.resolve(e.fsPath);return path.resolve(t.fsPath).startsWith(r)}exports.isRemixDir=isRemixDir;const getRemixRootFromFileUri=async e=>{let t=e;if(await(0,exports.isRemixDir)(t))return e;const r=getParentDirFromFileUri(t),i=(0,vscode_1.getWorkspaceUri)();return!i||i&&isChildOrNestedChildUri(t,i)?void 0:(t=await(0,exports.getRemixRootFromFileUri)(r)||t,t)};async function findTestFile(e,t="one-up"){const r=e.split("/").pop(),i=r.split(".").pop(),n=r.replace(`.${i}`,""),o=vscode.Uri.parse(e.replace(r,"")),s=await(0,exports.getRemixRootFromFileUri)(o);if(!s)return null;const a=s.path,c=await(0,exports.tryReadFile)(s.path+"/.gitignore"),l=c?.split("\n").filter((e=>""!==e&&!e.startsWith("#"))),d=new Set;async function u(e){const t=e.path;if(d.has(t))return null;d.add(t);const r=await vscode.workspace.fs.readDirectory(e);for(const[t,i]of r){const r=vscode.Uri.joinPath(e,t);if(i===vscode.FileType.Directory){const e=await u(r);if(e)return e}else if(t.includes(".test")&&t.includes(n))return r}return null}l?.forEach((e=>{d.add(a+(e.startsWith("/")?e:"/"+e))})),d.add(s.path+"/.git"),d.add(s.path+"/.cache");let p=o;if("sub"===t)return await u(p);if("one-up"===t)return p=vscode.Uri.joinPath(p,".."),await u(p);for(;!d.has(s.path);){const e=await u(p);if(e)return e;p=vscode.Uri.joinPath(p,"..")}return null}function getAllExports(e){const t=e.split("\n"),r=[],i=[];return t.forEach(((e,i)=>{if(e.includes("export")&&!e.includes("export type")&&"export {"!==e&&r.push(e),"export {"===e){const e=[];let n=i;for(;!t[n].startsWith("}");)e.push(t[n]),n++;e.push(t[n]),r.push(e.join("\n"))}})),r.forEach((e=>{if(!e.includes("export * from"))if(e.includes("export default function")||e.includes("export default async function")){const t=e.replace("export default function ","").replace("export default async function ","").split("(")[0];i.push({name:t,isDefault:!0})}else if(e.includes("export default")){const t=e.replace("export default","").replace(";","").trim();i.push({name:t,isDefault:!0})}else{if(e.includes("export const")||e.includes("export let")||e.includes("export var")){const t=e.replace("export const ","").replace("export let ","").replace("export var ","").replace(";","").split(" ")[0].trim();return t.includes(":")?void i.push({name:t.split(":")[0].trim(),isDefault:!1}):t.includes("=")?void i.push({name:t.split("=")[0].trim(),isDefault:!1}):void i.push({name:t,isDefault:!1})}if(e.includes("export function")||e.includes("export async function")){const t=e.replace("export function","").replace("export async function","").split("(")[0].trim();i.push({name:t,isDefault:!1})}else if(e.includes("export {")){const t=e.trim().replace("export {","").replace("}","").replace(";","").split(",").map((e=>({name:e.includes(" as ")?e.split(" as ")[1].trim():e.trim(),isDefault:!1})));i.push(...t)}}})),i}function getFilesExports(e){return getAllExports(e)}exports.getRemixRootFromFileUri=getRemixRootFromFileUri,exports.findTestFile=findTestFile,exports.getFilesExports=getFilesExports;const tryReadFile=async e=>{const t="string"==typeof e?vscode.Uri.file(e):e;try{return(await vscode.workspace.fs.readFile(t)).toString()}catch(e){return null}};exports.tryReadFile=tryReadFile;const tryReadFilePath=async e=>{const t="string"==typeof e?vscode.Uri.file(e):e;try{return await vscode.workspace.fs.readFile(t),t}catch(e){return null}};exports.tryReadFilePath=tryReadFilePath;const isTSConfigExists=async e=>{try{const t=vscode.Uri.joinPath(e,"tsconfig.json");return null!==await(0,exports.tryReadFile)(t)}catch{return!1}};exports.isTSConfigExists=isTSConfigExists;const addImportsToImportStatement=(e,t,r)=>{const i=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),n=new RegExp(`import\\s*{\\s*([^}]+)\\s*}\\s*from\\s*['"].*${i}.*['"]`,"g");return r.replace(n,((e,r)=>{const i=e.split("from")[1];if(r){const e=r.trim();return`import { ${","===e.charAt(e.length-1)?`${e.slice(0,-1)}, ${t}`:`${e}, ${t}`} } from${i}`}return`import { ${t} } from${i}`}))};exports.addImportsToImportStatement=addImportsToImportStatement;const convertRemixPathToUrl=e=>e.startsWith("__")||e.startsWith("_")||e.includes("index")||e.includes("route")?"":e.replace(/_/g,"").replace(/\[/g,":").replace(/\]/g,"").replace("+","");exports.convertRemixPathToUrl=convertRemixPathToUrl;const generatePath=(path,urlGenerator)=>{const generatedPath=urlGenerator?eval(urlGenerator)(path):void 0;if(generatedPath)return(0,vscode_1.sanitizePath)(generatedPath);const pathChunks=path.split("routes/")[1].split("."),pathChunksWithoutExtension=pathChunks.slice(0,pathChunks.length-1).join("/"),sanitizedPathChunks=pathChunksWithoutExtension.split("/").map((e=>(0,exports.convertRemixPathToUrl)(e))).filter((e=>""!==e)).join("/");return(0,vscode_1.sanitizePath)(sanitizedPathChunks)};exports.generatePath=generatePath},6279:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setStatusBarToStopped=t.setStatusBarToRunning=t.createStatusBar=void 0;const i=r(9496),n=r(6538);t.createStatusBar=()=>{const e=i.window.createStatusBarItem(i.StatusBarAlignment.Right,100);return e.text="$(play) Remix Dev Tools",e.tooltip="Click to start Remix Dev Tools",e.command=(0,n.generateCommand)("devTools"),e},t.setStatusBarToRunning=e=>{e.text="$(stop) Remix Dev Tools",e.tooltip="Click to stop Remix Dev Tools"},t.setStatusBarToStopped=e=>{e.text="$(play) Remix Dev Tools",e.tooltip="Click to start Remix Dev Tools"}},7275:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.uppercaseFirstLetter=void 0,t.uppercaseFirstLetter=function(e){return e.length>0?e[0].toUpperCase()+e.substring(1):e}},6538:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.generateCommand=t.tryReadFile=t.tryReadDirectory=t.joinPath=t.writeToFile=t.sanitizePath=t.getMultiplePickableOptions=t.getPickableOptions=t.getUserInput=t.showError=t.askInstallDependenciesPrompt=t.runCommandWithPrompt=t.runCommand=t.createOrGetTerminal=t.installDevDependencies=t.installDependencies=t.getPackageManager=t.getDevDependenciesArray=t.getDevDependencies=t.getDependenciesArray=t.getDependencies=t.getPackageJson=t.getWorkspaceUri=t.commandWithLoading=void 0;const i=r(2081),n=r(9496);async function o(e){const t=n.Uri.joinPath(n.Uri.file(e.fsPath),"package.json").fsPath,r=await n.workspace.fs.readFile(n.Uri.file(t));let i;try{i=JSON.parse(r.toString())}catch(e){}return i}async function s(e){const t=await o(e);if(t)return t.dependencies}async function a(e){const t=await s(e);if(t)return Object.keys(t)}async function c(e){const t=await o(e);if(t)return t.devDependencies}async function l(e){const t=await c(e);if(t)return Object.keys(t)}t.commandWithLoading=async(e,t)=>{await n.window.withProgress({location:n.ProgressLocation.Notification,title:e,cancellable:!1},(async e=>{e.report({increment:0,message:""});const r=["⠋","⠙","⠹","⠸","⠼","⠴","⠦","⠧","⠇","⠏"];let i=0;const n=setInterval((()=>{e.report({increment:0,message:`${r[i]}`}),i=(i+1)%r.length}),50);await t(),clearInterval(n),e.report({increment:100,message:""})})),n.window.showInformationMessage(`${e} finished!`).then((()=>{}))},t.getWorkspaceUri=()=>{const e=n.workspace.workspaceFolders;if(e&&0!==e.length)return e[0].uri},t.getPackageJson=o,t.getDependencies=s,t.getDependenciesArray=a,t.getDevDependencies=c,t.getDevDependenciesArray=l,t.getPackageManager=async e=>{const t=n.Uri.joinPath(n.Uri.file(e?.fsPath),"package-lock.json").fsPath,r=n.Uri.joinPath(n.Uri.file(e?.fsPath),"yarn.lock").fsPath,i=n.Uri.joinPath(n.Uri.file(e?.fsPath),"pnpm-lock.yaml").fsPath;try{if(await n.workspace.fs.readFile(n.Uri.file(t)))return"npm"}catch(e){}try{if(await n.workspace.fs.readFile(n.Uri.file(r)))return"yarn"}catch(e){}try{if(await n.workspace.fs.readFile(n.Uri.file(i)))return"pnpm"}catch(e){}return"npm"},t.installDependencies=async(e,r)=>{const i=o(e),n=await(0,t.getPackageManager)(e);if(i)return(0,t.runCommand)({rootDir:e,title:"Installing dependencies",command:`${n} ${"npm"!==n?"add":"install"} ${r.join(" ")}`})},t.installDevDependencies=async(e,r)=>{const i=o(e),n=await(0,t.getPackageManager)(e);if(i)return(0,t.runCommand)({rootDir:e,title:"Installing dependencies",command:`${n} ${"npm"!==n?"add":"install"} -D ${r.join(" ")}`})},t.createOrGetTerminal=()=>{const e=n.window.terminals;if(e.length>0){const t=e.find((e=>!e.state.isInteractedWith));if(t)return t}return n.window.createTerminal()},t.runCommand=async({command:e,title:r,errorMessage:o,callback:s,rootDir:a})=>{await(0,t.commandWithLoading)(r,(()=>new Promise((t=>{(0,i.exec)(`${e}`,{cwd:a?.fsPath},(async(e,r,i)=>e?(n.window.showErrorMessage(`Error: ${o}`),t()):(i&&console.error(`stderr: ${i}`),r&&console.error(`stdout: ${r}`),await(s?.()),t())))}))))},t.runCommandWithPrompt=async({command:e,title:r,promptHandler:n,rootDir:o})=>{await(0,t.commandWithLoading)(r,(()=>new Promise((async t=>{const r=(0,i.exec)(`${e}`,{cwd:o?.fsPath});await n(r,t)}))))},t.askInstallDependenciesPrompt=async(e,r,i)=>{const o=await a(e),s=await l(e);if(!o)return;const c=r.filter((e=>!o.includes(e))),d=i?.filter((e=>!s?.includes(e)))??[];0===c.length&&0===d.length||n.window.showInformationMessage("Remix Forge has generated code that uses dependencies you do not have in the project. Would you like to install these dependencies?","Yes","No").then((async r=>{"Yes"===r&&(c.length>0&&await(0,t.installDependencies)(e,c),d.length>0&&await(0,t.installDevDependencies)(e,d))}))},t.showError=e=>n.window.showErrorMessage(`${e}`),t.getUserInput=async(e,t)=>await n.window.showInputBox({prompt:e,value:t}),t.getPickableOptions=async(e,t)=>await n.window.showQuickPick(e,t),t.getMultiplePickableOptions=async(e,t)=>await n.window.showQuickPick(e,{...t,canPickMany:!0}),t.sanitizePath=e=>e.startsWith("/")?e:`/${e}`,t.writeToFile=async(e,t)=>{const r="string"==typeof e?n.Uri.file(e):e;await n.workspace.fs.writeFile(r,Buffer.from(t))},t.joinPath=(e,...t)=>n.Uri.joinPath(e,...t),t.tryReadDirectory=async e=>{try{return await n.workspace.fs.readDirectory("string"==typeof e?n.Uri.file(e):e)}catch(e){return[]}},t.tryReadFile=async e=>{try{return await n.workspace.fs.readFile("string"==typeof e?n.Uri.file(e):e)}catch(e){return[]}},t.generateCommand=e=>`remix-forge.${e}`},2806:(e,t,r)=>{const i="win32"===process.platform||"cygwin"===process.env.OSTYPE||"msys"===process.env.OSTYPE,n=r(1017),o=i?";":":",s=r(607),a=e=>Object.assign(new Error(`not found: ${e}`),{code:"ENOENT"}),c=(e,t)=>{const r=t.colon||o,n=e.match(/\//)||i&&e.match(/\\/)?[""]:[...i?[process.cwd()]:[],...(t.path||process.env.PATH||"").split(r)],s=i?t.pathExt||process.env.PATHEXT||".EXE;.CMD;.BAT;.COM":"",a=i?s.split(r):[""];return i&&-1!==e.indexOf(".")&&""!==a[0]&&a.unshift(""),{pathEnv:n,pathExt:a,pathExtExe:s}},l=(e,t,r)=>{"function"==typeof t&&(r=t,t={}),t||(t={});const{pathEnv:i,pathExt:o,pathExtExe:l}=c(e,t),d=[],u=r=>new Promise(((o,s)=>{if(r===i.length)return t.all&&d.length?o(d):s(a(e));const c=i[r],l=/^".*"$/.test(c)?c.slice(1,-1):c,u=n.join(l,e),h=!l&&/^\.[\\\/]/.test(e)?e.slice(0,2)+u:u;o(p(h,r,0))})),p=(e,r,i)=>new Promise(((n,a)=>{if(i===o.length)return n(u(r+1));const c=o[i];s(e+c,{pathExt:l},((o,s)=>{if(!o&&s){if(!t.all)return n(e+c);d.push(e+c)}return n(p(e,r,i+1))}))}));return r?u(0).then((e=>r(null,e)),r):u(0)};e.exports=l,l.sync=(e,t)=>{t=t||{};const{pathEnv:r,pathExt:i,pathExtExe:o}=c(e,t),l=[];for(let a=0;a<r.length;a++){const c=r[a],d=/^".*"$/.test(c)?c.slice(1,-1):c,u=n.join(d,e),p=!d&&/^\.[\\\/]/.test(e)?e.slice(0,2)+u:u;for(let e=0;e<i.length;e++){const r=p+i[e];try{if(s.sync(r,{pathExt:o})){if(!t.all)return r;l.push(r)}}catch(e){}}}if(t.all&&l.length)return l;if(t.nothrow)return null;throw a(e)}},8777:(e,t,r)=>{"use strict";const i=r(8762);i.createWebSocketStream=r(404),i.Server=r(9284),i.Receiver=r(2957),i.Sender=r(7330),i.WebSocket=i,i.WebSocketServer=i.Server,e.exports=i},977:(e,t,r)=>{"use strict";const{EMPTY_BUFFER:i}=r(1872),n=Buffer[Symbol.species];function o(e,t,r,i,n){for(let o=0;o<n;o++)r[i+o]=e[o]^t[3&o]}function s(e,t){for(let r=0;r<e.length;r++)e[r]^=t[3&r]}if(e.exports={concat:function(e,t){if(0===e.length)return i;if(1===e.length)return e[0];const r=Buffer.allocUnsafe(t);let o=0;for(let t=0;t<e.length;t++){const i=e[t];r.set(i,o),o+=i.length}return o<t?new n(r.buffer,r.byteOffset,o):r},mask:o,toArrayBuffer:function(e){return e.length===e.buffer.byteLength?e.buffer:e.buffer.slice(e.byteOffset,e.byteOffset+e.length)},toBuffer:function e(t){if(e.readOnly=!0,Buffer.isBuffer(t))return t;let r;return t instanceof ArrayBuffer?r=new n(t):ArrayBuffer.isView(t)?r=new n(t.buffer,t.byteOffset,t.byteLength):(r=Buffer.from(t),e.readOnly=!1),r},unmask:s},!process.env.WS_NO_BUFFER_UTIL)try{const t=r(2864);e.exports.mask=function(e,r,i,n,s){s<48?o(e,r,i,n,s):t.mask(e,r,i,n,s)},e.exports.unmask=function(e,r){e.length<32?s(e,r):t.unmask(e,r)}}catch(e){}},1872:e=>{"use strict";e.exports={BINARY_TYPES:["nodebuffer","arraybuffer","fragments"],EMPTY_BUFFER:Buffer.alloc(0),GUID:"258EAFA5-E914-47DA-95CA-C5AB0DC85B11",kForOnEventAttribute:Symbol("kIsForOnEventAttribute"),kListener:Symbol("kListener"),kStatusCode:Symbol("status-code"),kWebSocket:Symbol("websocket"),NOOP:()=>{}}},62:(e,t,r)=>{"use strict";const{kForOnEventAttribute:i,kListener:n}=r(1872),o=Symbol("kCode"),s=Symbol("kData"),a=Symbol("kError"),c=Symbol("kMessage"),l=Symbol("kReason"),d=Symbol("kTarget"),u=Symbol("kType"),p=Symbol("kWasClean");class h{constructor(e){this[d]=null,this[u]=e}get target(){return this[d]}get type(){return this[u]}}Object.defineProperty(h.prototype,"target",{enumerable:!0}),Object.defineProperty(h.prototype,"type",{enumerable:!0});class f extends h{constructor(e,t={}){super(e),this[o]=void 0===t.code?0:t.code,this[l]=void 0===t.reason?"":t.reason,this[p]=void 0!==t.wasClean&&t.wasClean}get code(){return this[o]}get reason(){return this[l]}get wasClean(){return this[p]}}Object.defineProperty(f.prototype,"code",{enumerable:!0}),Object.defineProperty(f.prototype,"reason",{enumerable:!0}),Object.defineProperty(f.prototype,"wasClean",{enumerable:!0});class m extends h{constructor(e,t={}){super(e),this[a]=void 0===t.error?null:t.error,this[c]=void 0===t.message?"":t.message}get error(){return this[a]}get message(){return this[c]}}Object.defineProperty(m.prototype,"error",{enumerable:!0}),Object.defineProperty(m.prototype,"message",{enumerable:!0});class g extends h{constructor(e,t={}){super(e),this[s]=void 0===t.data?null:t.data}get data(){return this[s]}}Object.defineProperty(g.prototype,"data",{enumerable:!0});const _={addEventListener(e,t,r={}){for(const o of this.listeners(e))if(!r[i]&&o[n]===t&&!o[i])return;let o;if("message"===e)o=function(e,r){const i=new g("message",{data:r?e:e.toString()});i[d]=this,y(t,this,i)};else if("close"===e)o=function(e,r){const i=new f("close",{code:e,reason:r.toString(),wasClean:this._closeFrameReceived&&this._closeFrameSent});i[d]=this,y(t,this,i)};else if("error"===e)o=function(e){const r=new m("error",{error:e,message:e.message});r[d]=this,y(t,this,r)};else{if("open"!==e)return;o=function(){const e=new h("open");e[d]=this,y(t,this,e)}}o[i]=!!r[i],o[n]=t,r.once?this.once(e,o):this.on(e,o)},removeEventListener(e,t){for(const r of this.listeners(e))if(r[n]===t&&!r[i]){this.removeListener(e,r);break}}};function y(e,t,r){"object"==typeof e&&e.handleEvent?e.handleEvent.call(e,r):e.call(t,r)}e.exports={CloseEvent:f,ErrorEvent:m,Event:h,EventTarget:_,MessageEvent:g}},1503:(e,t,r)=>{"use strict";const{tokenChars:i}=r(6746);function n(e,t,r){void 0===e[t]?e[t]=[r]:e[t].push(r)}e.exports={format:function(e){return Object.keys(e).map((t=>{let r=e[t];return Array.isArray(r)||(r=[r]),r.map((e=>[t].concat(Object.keys(e).map((t=>{let r=e[t];return Array.isArray(r)||(r=[r]),r.map((e=>!0===e?t:`${t}=${e}`)).join("; ")}))).join("; "))).join(", ")})).join(", ")},parse:function(e){const t=Object.create(null);let r,o,s=Object.create(null),a=!1,c=!1,l=!1,d=-1,u=-1,p=-1,h=0;for(;h<e.length;h++)if(u=e.charCodeAt(h),void 0===r)if(-1===p&&1===i[u])-1===d&&(d=h);else if(0===h||32!==u&&9!==u){if(59!==u&&44!==u)throw new SyntaxError(`Unexpected character at index ${h}`);{if(-1===d)throw new SyntaxError(`Unexpected character at index ${h}`);-1===p&&(p=h);const i=e.slice(d,p);44===u?(n(t,i,s),s=Object.create(null)):r=i,d=p=-1}}else-1===p&&-1!==d&&(p=h);else if(void 0===o)if(-1===p&&1===i[u])-1===d&&(d=h);else if(32===u||9===u)-1===p&&-1!==d&&(p=h);else if(59===u||44===u){if(-1===d)throw new SyntaxError(`Unexpected character at index ${h}`);-1===p&&(p=h),n(s,e.slice(d,p),!0),44===u&&(n(t,r,s),s=Object.create(null),r=void 0),d=p=-1}else{if(61!==u||-1===d||-1!==p)throw new SyntaxError(`Unexpected character at index ${h}`);o=e.slice(d,h),d=p=-1}else if(c){if(1!==i[u])throw new SyntaxError(`Unexpected character at index ${h}`);-1===d?d=h:a||(a=!0),c=!1}else if(l)if(1===i[u])-1===d&&(d=h);else if(34===u&&-1!==d)l=!1,p=h;else{if(92!==u)throw new SyntaxError(`Unexpected character at index ${h}`);c=!0}else if(34===u&&61===e.charCodeAt(h-1))l=!0;else if(-1===p&&1===i[u])-1===d&&(d=h);else if(-1===d||32!==u&&9!==u){if(59!==u&&44!==u)throw new SyntaxError(`Unexpected character at index ${h}`);{if(-1===d)throw new SyntaxError(`Unexpected character at index ${h}`);-1===p&&(p=h);let i=e.slice(d,p);a&&(i=i.replace(/\\/g,""),a=!1),n(s,o,i),44===u&&(n(t,r,s),s=Object.create(null),r=void 0),o=void 0,d=p=-1}}else-1===p&&(p=h);if(-1===d||l||32===u||9===u)throw new SyntaxError("Unexpected end of input");-1===p&&(p=h);const f=e.slice(d,p);return void 0===r?n(t,f,s):(void 0===o?n(s,f,!0):n(s,o,a?f.replace(/\\/g,""):f),n(t,r,s)),t}}},305:e=>{"use strict";const t=Symbol("kDone"),r=Symbol("kRun");e.exports=class{constructor(e){this[t]=()=>{this.pending--,this[r]()},this.concurrency=e||1/0,this.jobs=[],this.pending=0}add(e){this.jobs.push(e),this[r]()}[r](){if(this.pending!==this.concurrency&&this.jobs.length){const e=this.jobs.shift();this.pending++,e(this[t])}}}},5196:(e,t,r)=>{"use strict";const i=r(9796),n=r(977),o=r(305),{kStatusCode:s}=r(1872),a=Buffer[Symbol.species],c=Buffer.from([0,0,255,255]),l=Symbol("permessage-deflate"),d=Symbol("total-length"),u=Symbol("callback"),p=Symbol("buffers"),h=Symbol("error");let f;function m(e){this[p].push(e),this[d]+=e.length}function g(e){this[d]+=e.length,this[l]._maxPayload<1||this[d]<=this[l]._maxPayload?this[p].push(e):(this[h]=new RangeError("Max payload size exceeded"),this[h].code="WS_ERR_UNSUPPORTED_MESSAGE_LENGTH",this[h][s]=1009,this.removeListener("data",g),this.reset())}function _(e){this[l]._inflate=null,e[s]=1007,this[u](e)}e.exports=class{constructor(e,t,r){if(this._maxPayload=0|r,this._options=e||{},this._threshold=void 0!==this._options.threshold?this._options.threshold:1024,this._isServer=!!t,this._deflate=null,this._inflate=null,this.params=null,!f){const e=void 0!==this._options.concurrencyLimit?this._options.concurrencyLimit:10;f=new o(e)}}static get extensionName(){return"permessage-deflate"}offer(){const e={};return this._options.serverNoContextTakeover&&(e.server_no_context_takeover=!0),this._options.clientNoContextTakeover&&(e.client_no_context_takeover=!0),this._options.serverMaxWindowBits&&(e.server_max_window_bits=this._options.serverMaxWindowBits),this._options.clientMaxWindowBits?e.client_max_window_bits=this._options.clientMaxWindowBits:null==this._options.clientMaxWindowBits&&(e.client_max_window_bits=!0),e}accept(e){return e=this.normalizeParams(e),this.params=this._isServer?this.acceptAsServer(e):this.acceptAsClient(e),this.params}cleanup(){if(this._inflate&&(this._inflate.close(),this._inflate=null),this._deflate){const e=this._deflate[u];this._deflate.close(),this._deflate=null,e&&e(new Error("The deflate stream was closed while data was being processed"))}}acceptAsServer(e){const t=this._options,r=e.find((e=>!(!1===t.serverNoContextTakeover&&e.server_no_context_takeover||e.server_max_window_bits&&(!1===t.serverMaxWindowBits||"number"==typeof t.serverMaxWindowBits&&t.serverMaxWindowBits>e.server_max_window_bits)||"number"==typeof t.clientMaxWindowBits&&!e.client_max_window_bits)));if(!r)throw new Error("None of the extension offers can be accepted");return t.serverNoContextTakeover&&(r.server_no_context_takeover=!0),t.clientNoContextTakeover&&(r.client_no_context_takeover=!0),"number"==typeof t.serverMaxWindowBits&&(r.server_max_window_bits=t.serverMaxWindowBits),"number"==typeof t.clientMaxWindowBits?r.client_max_window_bits=t.clientMaxWindowBits:!0!==r.client_max_window_bits&&!1!==t.clientMaxWindowBits||delete r.client_max_window_bits,r}acceptAsClient(e){const t=e[0];if(!1===this._options.clientNoContextTakeover&&t.client_no_context_takeover)throw new Error('Unexpected parameter "client_no_context_takeover"');if(t.client_max_window_bits){if(!1===this._options.clientMaxWindowBits||"number"==typeof this._options.clientMaxWindowBits&&t.client_max_window_bits>this._options.clientMaxWindowBits)throw new Error('Unexpected or invalid parameter "client_max_window_bits"')}else"number"==typeof this._options.clientMaxWindowBits&&(t.client_max_window_bits=this._options.clientMaxWindowBits);return t}normalizeParams(e){return e.forEach((e=>{Object.keys(e).forEach((t=>{let r=e[t];if(r.length>1)throw new Error(`Parameter "${t}" must have only a single value`);if(r=r[0],"client_max_window_bits"===t){if(!0!==r){const e=+r;if(!Number.isInteger(e)||e<8||e>15)throw new TypeError(`Invalid value for parameter "${t}": ${r}`);r=e}else if(!this._isServer)throw new TypeError(`Invalid value for parameter "${t}": ${r}`)}else if("server_max_window_bits"===t){const e=+r;if(!Number.isInteger(e)||e<8||e>15)throw new TypeError(`Invalid value for parameter "${t}": ${r}`);r=e}else{if("client_no_context_takeover"!==t&&"server_no_context_takeover"!==t)throw new Error(`Unknown parameter "${t}"`);if(!0!==r)throw new TypeError(`Invalid value for parameter "${t}": ${r}`)}e[t]=r}))})),e}decompress(e,t,r){f.add((i=>{this._decompress(e,t,((e,t)=>{i(),r(e,t)}))}))}compress(e,t,r){f.add((i=>{this._compress(e,t,((e,t)=>{i(),r(e,t)}))}))}_decompress(e,t,r){const o=this._isServer?"client":"server";if(!this._inflate){const e=`${o}_max_window_bits`,t="number"!=typeof this.params[e]?i.Z_DEFAULT_WINDOWBITS:this.params[e];this._inflate=i.createInflateRaw({...this._options.zlibInflateOptions,windowBits:t}),this._inflate[l]=this,this._inflate[d]=0,this._inflate[p]=[],this._inflate.on("error",_),this._inflate.on("data",g)}this._inflate[u]=r,this._inflate.write(e),t&&this._inflate.write(c),this._inflate.flush((()=>{const e=this._inflate[h];if(e)return this._inflate.close(),this._inflate=null,void r(e);const i=n.concat(this._inflate[p],this._inflate[d]);this._inflate._readableState.endEmitted?(this._inflate.close(),this._inflate=null):(this._inflate[d]=0,this._inflate[p]=[],t&&this.params[`${o}_no_context_takeover`]&&this._inflate.reset()),r(null,i)}))}_compress(e,t,r){const o=this._isServer?"server":"client";if(!this._deflate){const e=`${o}_max_window_bits`,t="number"!=typeof this.params[e]?i.Z_DEFAULT_WINDOWBITS:this.params[e];this._deflate=i.createDeflateRaw({...this._options.zlibDeflateOptions,windowBits:t}),this._deflate[d]=0,this._deflate[p]=[],this._deflate.on("data",m)}this._deflate[u]=r,this._deflate.write(e),this._deflate.flush(i.Z_SYNC_FLUSH,(()=>{if(!this._deflate)return;let e=n.concat(this._deflate[p],this._deflate[d]);t&&(e=new a(e.buffer,e.byteOffset,e.length-4)),this._deflate[u]=null,this._deflate[d]=0,this._deflate[p]=[],t&&this.params[`${o}_no_context_takeover`]&&this._deflate.reset(),r(null,e)}))}}},2957:(e,t,r)=>{"use strict";const{Writable:i}=r(2781),n=r(5196),{BINARY_TYPES:o,EMPTY_BUFFER:s,kStatusCode:a,kWebSocket:c}=r(1872),{concat:l,toArrayBuffer:d,unmask:u}=r(977),{isValidStatusCode:p,isValidUTF8:h}=r(6746),f=Buffer[Symbol.species];function m(e,t,r,i,n){const o=new e(r?`Invalid WebSocket frame: ${t}`:t);return Error.captureStackTrace(o,m),o.code=n,o[a]=i,o}e.exports=class extends i{constructor(e={}){super(),this._binaryType=e.binaryType||o[0],this._extensions=e.extensions||{},this._isServer=!!e.isServer,this._maxPayload=0|e.maxPayload,this._skipUTF8Validation=!!e.skipUTF8Validation,this[c]=void 0,this._bufferedBytes=0,this._buffers=[],this._compressed=!1,this._payloadLength=0,this._mask=void 0,this._fragmented=0,this._masked=!1,this._fin=!1,this._opcode=0,this._totalPayloadLength=0,this._messageLength=0,this._fragments=[],this._state=0,this._loop=!1}_write(e,t,r){if(8===this._opcode&&0==this._state)return r();this._bufferedBytes+=e.length,this._buffers.push(e),this.startLoop(r)}consume(e){if(this._bufferedBytes-=e,e===this._buffers[0].length)return this._buffers.shift();if(e<this._buffers[0].length){const t=this._buffers[0];return this._buffers[0]=new f(t.buffer,t.byteOffset+e,t.length-e),new f(t.buffer,t.byteOffset,e)}const t=Buffer.allocUnsafe(e);do{const r=this._buffers[0],i=t.length-e;e>=r.length?t.set(this._buffers.shift(),i):(t.set(new Uint8Array(r.buffer,r.byteOffset,e),i),this._buffers[0]=new f(r.buffer,r.byteOffset+e,r.length-e)),e-=r.length}while(e>0);return t}startLoop(e){let t;this._loop=!0;do{switch(this._state){case 0:t=this.getInfo();break;case 1:t=this.getPayloadLength16();break;case 2:t=this.getPayloadLength64();break;case 3:this.getMask();break;case 4:t=this.getData(e);break;default:return void(this._loop=!1)}}while(this._loop);e(t)}getInfo(){if(this._bufferedBytes<2)return void(this._loop=!1);const e=this.consume(2);if(0!=(48&e[0]))return this._loop=!1,m(RangeError,"RSV2 and RSV3 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_2_3");const t=64==(64&e[0]);if(t&&!this._extensions[n.extensionName])return this._loop=!1,m(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._fin=128==(128&e[0]),this._opcode=15&e[0],this._payloadLength=127&e[1],0===this._opcode){if(t)return this._loop=!1,m(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(!this._fragmented)return this._loop=!1,m(RangeError,"invalid opcode 0",!0,1002,"WS_ERR_INVALID_OPCODE");this._opcode=this._fragmented}else if(1===this._opcode||2===this._opcode){if(this._fragmented)return this._loop=!1,m(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");this._compressed=t}else{if(!(this._opcode>7&&this._opcode<11))return this._loop=!1,m(RangeError,`invalid opcode ${this._opcode}`,!0,1002,"WS_ERR_INVALID_OPCODE");if(!this._fin)return this._loop=!1,m(RangeError,"FIN must be set",!0,1002,"WS_ERR_EXPECTED_FIN");if(t)return this._loop=!1,m(RangeError,"RSV1 must be clear",!0,1002,"WS_ERR_UNEXPECTED_RSV_1");if(this._payloadLength>125||8===this._opcode&&1===this._payloadLength)return this._loop=!1,m(RangeError,`invalid payload length ${this._payloadLength}`,!0,1002,"WS_ERR_INVALID_CONTROL_PAYLOAD_LENGTH")}if(this._fin||this._fragmented||(this._fragmented=this._opcode),this._masked=128==(128&e[1]),this._isServer){if(!this._masked)return this._loop=!1,m(RangeError,"MASK must be set",!0,1002,"WS_ERR_EXPECTED_MASK")}else if(this._masked)return this._loop=!1,m(RangeError,"MASK must be clear",!0,1002,"WS_ERR_UNEXPECTED_MASK");if(126===this._payloadLength)this._state=1;else{if(127!==this._payloadLength)return this.haveLength();this._state=2}}getPayloadLength16(){if(!(this._bufferedBytes<2))return this._payloadLength=this.consume(2).readUInt16BE(0),this.haveLength();this._loop=!1}getPayloadLength64(){if(this._bufferedBytes<8)return void(this._loop=!1);const e=this.consume(8),t=e.readUInt32BE(0);return t>Math.pow(2,21)-1?(this._loop=!1,m(RangeError,"Unsupported WebSocket frame: payload length > 2^53 - 1",!1,1009,"WS_ERR_UNSUPPORTED_DATA_PAYLOAD_LENGTH")):(this._payloadLength=t*Math.pow(2,32)+e.readUInt32BE(4),this.haveLength())}haveLength(){if(this._payloadLength&&this._opcode<8&&(this._totalPayloadLength+=this._payloadLength,this._totalPayloadLength>this._maxPayload&&this._maxPayload>0))return this._loop=!1,m(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH");this._masked?this._state=3:this._state=4}getMask(){this._bufferedBytes<4?this._loop=!1:(this._mask=this.consume(4),this._state=4)}getData(e){let t=s;if(this._payloadLength){if(this._bufferedBytes<this._payloadLength)return void(this._loop=!1);t=this.consume(this._payloadLength),this._masked&&0!=(this._mask[0]|this._mask[1]|this._mask[2]|this._mask[3])&&u(t,this._mask)}return this._opcode>7?this.controlMessage(t):this._compressed?(this._state=5,void this.decompress(t,e)):(t.length&&(this._messageLength=this._totalPayloadLength,this._fragments.push(t)),this.dataMessage())}decompress(e,t){this._extensions[n.extensionName].decompress(e,this._fin,((e,r)=>{if(e)return t(e);if(r.length){if(this._messageLength+=r.length,this._messageLength>this._maxPayload&&this._maxPayload>0)return t(m(RangeError,"Max payload size exceeded",!1,1009,"WS_ERR_UNSUPPORTED_MESSAGE_LENGTH"));this._fragments.push(r)}const i=this.dataMessage();if(i)return t(i);this.startLoop(t)}))}dataMessage(){if(this._fin){const e=this._messageLength,t=this._fragments;if(this._totalPayloadLength=0,this._messageLength=0,this._fragmented=0,this._fragments=[],2===this._opcode){let r;r="nodebuffer"===this._binaryType?l(t,e):"arraybuffer"===this._binaryType?d(l(t,e)):t,this.emit("message",r,!0)}else{const r=l(t,e);if(!this._skipUTF8Validation&&!h(r))return this._loop=!1,m(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("message",r,!1)}}this._state=0}controlMessage(e){if(8===this._opcode)if(this._loop=!1,0===e.length)this.emit("conclude",1005,s),this.end();else{const t=e.readUInt16BE(0);if(!p(t))return m(RangeError,`invalid status code ${t}`,!0,1002,"WS_ERR_INVALID_CLOSE_CODE");const r=new f(e.buffer,e.byteOffset+2,e.length-2);if(!this._skipUTF8Validation&&!h(r))return m(Error,"invalid UTF-8 sequence",!0,1007,"WS_ERR_INVALID_UTF8");this.emit("conclude",t,r),this.end()}else 9===this._opcode?this.emit("ping",e):this.emit("pong",e);this._state=0}}},7330:(e,t,r)=>{"use strict";r(1808),r(4404);const{randomFillSync:i}=r(6113),n=r(5196),{EMPTY_BUFFER:o}=r(1872),{isValidStatusCode:s}=r(6746),{mask:a,toBuffer:c}=r(977),l=Symbol("kByteLength"),d=Buffer.alloc(4);class u{constructor(e,t,r){this._extensions=t||{},r&&(this._generateMask=r,this._maskBuffer=Buffer.alloc(4)),this._socket=e,this._firstFragment=!0,this._compress=!1,this._bufferedBytes=0,this._deflating=!1,this._queue=[]}static frame(e,t){let r,n,o=!1,s=2,c=!1;t.mask&&(r=t.maskBuffer||d,t.generateMask?t.generateMask(r):i(r,0,4),c=0==(r[0]|r[1]|r[2]|r[3]),s=6),"string"==typeof e?n=t.mask&&!c||void 0===t[l]?(e=Buffer.from(e)).length:t[l]:(n=e.length,o=t.mask&&t.readOnly&&!c);let u=n;n>=65536?(s+=8,u=127):n>125&&(s+=2,u=126);const p=Buffer.allocUnsafe(o?n+s:s);return p[0]=t.fin?128|t.opcode:t.opcode,t.rsv1&&(p[0]|=64),p[1]=u,126===u?p.writeUInt16BE(n,2):127===u&&(p[2]=p[3]=0,p.writeUIntBE(n,4,6)),t.mask?(p[1]|=128,p[s-4]=r[0],p[s-3]=r[1],p[s-2]=r[2],p[s-1]=r[3],c?[p,e]:o?(a(e,r,p,s,n),[p]):(a(e,r,e,0,n),[p,e])):[p,e]}close(e,t,r,i){let n;if(void 0===e)n=o;else{if("number"!=typeof e||!s(e))throw new TypeError("First argument must be a valid error code number");if(void 0!==t&&t.length){const r=Buffer.byteLength(t);if(r>123)throw new RangeError("The message must not be greater than 123 bytes");n=Buffer.allocUnsafe(2+r),n.writeUInt16BE(e,0),"string"==typeof t?n.write(t,2):n.set(t,2)}else n=Buffer.allocUnsafe(2),n.writeUInt16BE(e,0)}const a={[l]:n.length,fin:!0,generateMask:this._generateMask,mask:r,maskBuffer:this._maskBuffer,opcode:8,readOnly:!1,rsv1:!1};this._deflating?this.enqueue([this.dispatch,n,!1,a,i]):this.sendFrame(u.frame(n,a),i)}ping(e,t,r){let i,n;if("string"==typeof e?(i=Buffer.byteLength(e),n=!1):(i=(e=c(e)).length,n=c.readOnly),i>125)throw new RangeError("The data size must not be greater than 125 bytes");const o={[l]:i,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:9,readOnly:n,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,o,r]):this.sendFrame(u.frame(e,o),r)}pong(e,t,r){let i,n;if("string"==typeof e?(i=Buffer.byteLength(e),n=!1):(i=(e=c(e)).length,n=c.readOnly),i>125)throw new RangeError("The data size must not be greater than 125 bytes");const o={[l]:i,fin:!0,generateMask:this._generateMask,mask:t,maskBuffer:this._maskBuffer,opcode:10,readOnly:n,rsv1:!1};this._deflating?this.enqueue([this.dispatch,e,!1,o,r]):this.sendFrame(u.frame(e,o),r)}send(e,t,r){const i=this._extensions[n.extensionName];let o,s,a=t.binary?2:1,d=t.compress;if("string"==typeof e?(o=Buffer.byteLength(e),s=!1):(o=(e=c(e)).length,s=c.readOnly),this._firstFragment?(this._firstFragment=!1,d&&i&&i.params[i._isServer?"server_no_context_takeover":"client_no_context_takeover"]&&(d=o>=i._threshold),this._compress=d):(d=!1,a=0),t.fin&&(this._firstFragment=!0),i){const i={[l]:o,fin:t.fin,generateMask:this._generateMask,mask:t.mask,maskBuffer:this._maskBuffer,opcode:a,readOnly:s,rsv1:d};this._deflating?this.enqueue([this.dispatch,e,this._compress,i,r]):this.dispatch(e,this._compress,i,r)}else this.sendFrame(u.frame(e,{[l]:o,fin:t.fin,generateMask:this._generateMask,mask:t.mask,maskBuffer:this._maskBuffer,opcode:a,readOnly:s,rsv1:!1}),r)}dispatch(e,t,r,i){if(!t)return void this.sendFrame(u.frame(e,r),i);const o=this._extensions[n.extensionName];this._bufferedBytes+=r[l],this._deflating=!0,o.compress(e,r.fin,((e,t)=>{if(this._socket.destroyed){const e=new Error("The socket was closed while data was being compressed");"function"==typeof i&&i(e);for(let t=0;t<this._queue.length;t++){const r=this._queue[t],i=r[r.length-1];"function"==typeof i&&i(e)}}else this._bufferedBytes-=r[l],this._deflating=!1,r.readOnly=!1,this.sendFrame(u.frame(t,r),i),this.dequeue()}))}dequeue(){for(;!this._deflating&&this._queue.length;){const e=this._queue.shift();this._bufferedBytes-=e[3][l],Reflect.apply(e[0],this,e.slice(1))}}enqueue(e){this._bufferedBytes+=e[3][l],this._queue.push(e)}sendFrame(e,t){2===e.length?(this._socket.cork(),this._socket.write(e[0]),this._socket.write(e[1],t),this._socket.uncork()):this._socket.write(e[0],t)}}e.exports=u},404:(e,t,r)=>{"use strict";const{Duplex:i}=r(2781);function n(e){e.emit("close")}function o(){!this.destroyed&&this._writableState.finished&&this.destroy()}function s(e){this.removeListener("error",s),this.destroy(),0===this.listenerCount("error")&&this.emit("error",e)}e.exports=function(e,t){let r=!0;const a=new i({...t,autoDestroy:!1,emitClose:!1,objectMode:!1,writableObjectMode:!1});return e.on("message",(function(t,r){const i=!r&&a._readableState.objectMode?t.toString():t;a.push(i)||e.pause()})),e.once("error",(function(e){a.destroyed||(r=!1,a.destroy(e))})),e.once("close",(function(){a.destroyed||a.push(null)})),a._destroy=function(t,i){if(e.readyState===e.CLOSED)return i(t),void process.nextTick(n,a);let o=!1;e.once("error",(function(e){o=!0,i(e)})),e.once("close",(function(){o||i(t),process.nextTick(n,a)})),r&&e.terminate()},a._final=function(t){e.readyState!==e.CONNECTING?null!==e._socket&&(e._socket._writableState.finished?(t(),a._readableState.endEmitted&&a.destroy()):(e._socket.once("finish",(function(){t()})),e.close())):e.once("open",(function(){a._final(t)}))},a._read=function(){e.isPaused&&e.resume()},a._write=function(t,r,i){e.readyState!==e.CONNECTING?e.send(t,i):e.once("open",(function(){a._write(t,r,i)}))},a.on("end",o),a.on("error",s),a}},640:(e,t,r)=>{"use strict";const{tokenChars:i}=r(6746);e.exports={parse:function(e){const t=new Set;let r=-1,n=-1,o=0;for(;o<e.length;o++){const s=e.charCodeAt(o);if(-1===n&&1===i[s])-1===r&&(r=o);else if(0===o||32!==s&&9!==s){if(44!==s)throw new SyntaxError(`Unexpected character at index ${o}`);{if(-1===r)throw new SyntaxError(`Unexpected character at index ${o}`);-1===n&&(n=o);const i=e.slice(r,n);if(t.has(i))throw new SyntaxError(`The "${i}" subprotocol is duplicated`);t.add(i),r=n=-1}}else-1===n&&-1!==r&&(n=o)}if(-1===r||-1!==n)throw new SyntaxError("Unexpected end of input");const s=e.slice(r,o);if(t.has(s))throw new SyntaxError(`The "${s}" subprotocol is duplicated`);return t.add(s),t}}},6746:(e,t,r)=>{"use strict";const{isUtf8:i}=r(4300);function n(e){const t=e.length;let r=0;for(;r<t;)if(0==(128&e[r]))r++;else if(192==(224&e[r])){if(r+1===t||128!=(192&e[r+1])||192==(254&e[r]))return!1;r+=2}else if(224==(240&e[r])){if(r+2>=t||128!=(192&e[r+1])||128!=(192&e[r+2])||224===e[r]&&128==(224&e[r+1])||237===e[r]&&160==(224&e[r+1]))return!1;r+=3}else{if(240!=(248&e[r]))return!1;if(r+3>=t||128!=(192&e[r+1])||128!=(192&e[r+2])||128!=(192&e[r+3])||240===e[r]&&128==(240&e[r+1])||244===e[r]&&e[r+1]>143||e[r]>244)return!1;r+=4}return!0}if(e.exports={isValidStatusCode:function(e){return e>=1e3&&e<=1014&&1004!==e&&1005!==e&&1006!==e||e>=3e3&&e<=4999},isValidUTF8:n,tokenChars:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1,1,1,1,0,0,1,1,0,1,1,0,1,1,1,1,1,1,1,1,1,1,0,0,0,0,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,0,0,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,0,1,0,1,0]},i)e.exports.isValidUTF8=function(e){return e.length<24?n(e):i(e)};else if(!process.env.WS_NO_UTF_8_VALIDATE)try{const t=r(2239);e.exports.isValidUTF8=function(e){return e.length<32?n(e):t(e)}}catch(e){}},9284:(e,t,r)=>{"use strict";const i=r(2361),n=r(3685),{createHash:o}=(r(5687),r(1808),r(4404),r(6113)),s=r(1503),a=r(5196),c=r(640),l=r(8762),{GUID:d,kWebSocket:u}=r(1872),p=/^[+/0-9A-Za-z]{22}==$/;function h(e){e._state=2,e.emit("close")}function f(){this.destroy()}function m(e,t,r,i){r=r||n.STATUS_CODES[t],i={Connection:"close","Content-Type":"text/html","Content-Length":Buffer.byteLength(r),...i},e.once("finish",e.destroy),e.end(`HTTP/1.1 ${t} ${n.STATUS_CODES[t]}\r\n`+Object.keys(i).map((e=>`${e}: ${i[e]}`)).join("\r\n")+"\r\n\r\n"+r)}function g(e,t,r,i,n){if(e.listenerCount("wsClientError")){const i=new Error(n);Error.captureStackTrace(i,g),e.emit("wsClientError",i,r,t)}else m(r,i,n)}e.exports=class extends i{constructor(e,t){if(super(),null==(e={maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!1,handleProtocols:null,clientTracking:!0,verifyClient:null,noServer:!1,backlog:null,server:null,host:null,path:null,port:null,WebSocket:l,...e}).port&&!e.server&&!e.noServer||null!=e.port&&(e.server||e.noServer)||e.server&&e.noServer)throw new TypeError('One and only one of the "port", "server", or "noServer" options must be specified');if(null!=e.port?(this._server=n.createServer(((e,t)=>{const r=n.STATUS_CODES[426];t.writeHead(426,{"Content-Length":r.length,"Content-Type":"text/plain"}),t.end(r)})),this._server.listen(e.port,e.host,e.backlog,t)):e.server&&(this._server=e.server),this._server){const e=this.emit.bind(this,"connection");this._removeListeners=function(e,t){for(const r of Object.keys(t))e.on(r,t[r]);return function(){for(const r of Object.keys(t))e.removeListener(r,t[r])}}(this._server,{listening:this.emit.bind(this,"listening"),error:this.emit.bind(this,"error"),upgrade:(t,r,i)=>{this.handleUpgrade(t,r,i,e)}})}!0===e.perMessageDeflate&&(e.perMessageDeflate={}),e.clientTracking&&(this.clients=new Set,this._shouldEmitClose=!1),this.options=e,this._state=0}address(){if(this.options.noServer)throw new Error('The server is operating in "noServer" mode');return this._server?this._server.address():null}close(e){if(2===this._state)return e&&this.once("close",(()=>{e(new Error("The server is not running"))})),void process.nextTick(h,this);if(e&&this.once("close",e),1!==this._state)if(this._state=1,this.options.noServer||this.options.server)this._server&&(this._removeListeners(),this._removeListeners=this._server=null),this.clients&&this.clients.size?this._shouldEmitClose=!0:process.nextTick(h,this);else{const e=this._server;this._removeListeners(),this._removeListeners=this._server=null,e.close((()=>{h(this)}))}}shouldHandle(e){if(this.options.path){const t=e.url.indexOf("?");if((-1!==t?e.url.slice(0,t):e.url)!==this.options.path)return!1}return!0}handleUpgrade(e,t,r,i){t.on("error",f);const n=e.headers["sec-websocket-key"],o=+e.headers["sec-websocket-version"];if("GET"!==e.method)return void g(this,e,t,405,"Invalid HTTP method");if("websocket"!==e.headers.upgrade.toLowerCase())return void g(this,e,t,400,"Invalid Upgrade header");if(!n||!p.test(n))return void g(this,e,t,400,"Missing or invalid Sec-WebSocket-Key header");if(8!==o&&13!==o)return void g(this,e,t,400,"Missing or invalid Sec-WebSocket-Version header");if(!this.shouldHandle(e))return void m(t,400);const l=e.headers["sec-websocket-protocol"];let d=new Set;if(void 0!==l)try{d=c.parse(l)}catch(r){return void g(this,e,t,400,"Invalid Sec-WebSocket-Protocol header")}const u=e.headers["sec-websocket-extensions"],h={};if(this.options.perMessageDeflate&&void 0!==u){const r=new a(this.options.perMessageDeflate,!0,this.options.maxPayload);try{const e=s.parse(u);e[a.extensionName]&&(r.accept(e[a.extensionName]),h[a.extensionName]=r)}catch(r){return void g(this,e,t,400,"Invalid or unacceptable Sec-WebSocket-Extensions header")}}if(this.options.verifyClient){const s={origin:e.headers[8===o?"sec-websocket-origin":"origin"],secure:!(!e.socket.authorized&&!e.socket.encrypted),req:e};if(2===this.options.verifyClient.length)return void this.options.verifyClient(s,((o,s,a,c)=>{if(!o)return m(t,s||401,a,c);this.completeUpgrade(h,n,d,e,t,r,i)}));if(!this.options.verifyClient(s))return m(t,401)}this.completeUpgrade(h,n,d,e,t,r,i)}completeUpgrade(e,t,r,i,n,c,l){if(!n.readable||!n.writable)return n.destroy();if(n[u])throw new Error("server.handleUpgrade() was called more than once with the same socket, possibly due to a misconfiguration");if(this._state>0)return m(n,503);const p=["HTTP/1.1 101 Switching Protocols","Upgrade: websocket","Connection: Upgrade",`Sec-WebSocket-Accept: ${o("sha1").update(t+d).digest("base64")}`],g=new this.options.WebSocket(null);if(r.size){const e=this.options.handleProtocols?this.options.handleProtocols(r,i):r.values().next().value;e&&(p.push(`Sec-WebSocket-Protocol: ${e}`),g._protocol=e)}if(e[a.extensionName]){const t=e[a.extensionName].params,r=s.format({[a.extensionName]:[t]});p.push(`Sec-WebSocket-Extensions: ${r}`),g._extensions=e}this.emit("headers",p,i),n.write(p.concat("\r\n").join("\r\n")),n.removeListener("error",f),g.setSocket(n,c,{maxPayload:this.options.maxPayload,skipUTF8Validation:this.options.skipUTF8Validation}),this.clients&&(this.clients.add(g),g.on("close",(()=>{this.clients.delete(g),this._shouldEmitClose&&!this.clients.size&&process.nextTick(h,this)}))),l(g,i)}}},8762:(e,t,r)=>{"use strict";const i=r(2361),n=r(5687),o=r(3685),s=r(1808),a=r(4404),{randomBytes:c,createHash:l}=r(6113),{Readable:d}=r(2781),{URL:u}=r(5034),p=r(5196),h=r(2957),f=r(7330),{BINARY_TYPES:m,EMPTY_BUFFER:g,GUID:_,kForOnEventAttribute:y,kListener:w,kStatusCode:v,kWebSocket:b,NOOP:x}=r(1872),{EventTarget:{addEventListener:S,removeEventListener:k}}=r(62),{format:E,parse:P}=r(1503),{toBuffer:T}=r(977),C=Symbol("kAborted"),O=[8,13],R=["CONNECTING","OPEN","CLOSING","CLOSED"],F=/^[!#$%&'*+\-.0-9A-Z^_`|a-z~]+$/;class I extends i{constructor(e,t,r){super(),this._binaryType=m[0],this._closeCode=1006,this._closeFrameReceived=!1,this._closeFrameSent=!1,this._closeMessage=g,this._closeTimer=null,this._extensions={},this._paused=!1,this._protocol="",this._readyState=I.CONNECTING,this._receiver=null,this._sender=null,this._socket=null,null!==e?(this._bufferedAmount=0,this._isServer=!1,this._redirects=0,void 0===t?t=[]:Array.isArray(t)||("object"==typeof t&&null!==t?(r=t,t=[]):t=[t]),j(this,e,t,r)):this._isServer=!0}get binaryType(){return this._binaryType}set binaryType(e){m.includes(e)&&(this._binaryType=e,this._receiver&&(this._receiver._binaryType=e))}get bufferedAmount(){return this._socket?this._socket._writableState.length+this._sender._bufferedBytes:this._bufferedAmount}get extensions(){return Object.keys(this._extensions).join()}get isPaused(){return this._paused}get onclose(){return null}get onerror(){return null}get onopen(){return null}get onmessage(){return null}get protocol(){return this._protocol}get readyState(){return this._readyState}get url(){return this._url}setSocket(e,t,r){const i=new h({binaryType:this.binaryType,extensions:this._extensions,isServer:this._isServer,maxPayload:r.maxPayload,skipUTF8Validation:r.skipUTF8Validation});this._sender=new f(e,this._extensions,r.generateMask),this._receiver=i,this._socket=e,i[b]=this,e[b]=this,i.on("conclude",$),i.on("drain",B),i.on("error",M),i.on("message",W),i.on("ping",q),i.on("pong",H),e.setTimeout(0),e.setNoDelay(),t.length>0&&e.unshift(t),e.on("close",z),e.on("data",J),e.on("end",Y),e.on("error",K),this._readyState=I.OPEN,this.emit("open")}emitClose(){if(!this._socket)return this._readyState=I.CLOSED,void this.emit("close",this._closeCode,this._closeMessage);this._extensions[p.extensionName]&&this._extensions[p.extensionName].cleanup(),this._receiver.removeAllListeners(),this._readyState=I.CLOSED,this.emit("close",this._closeCode,this._closeMessage)}close(e,t){if(this.readyState!==I.CLOSED)if(this.readyState!==I.CONNECTING)this.readyState!==I.CLOSING?(this._readyState=I.CLOSING,this._sender.close(e,t,!this._isServer,(e=>{e||(this._closeFrameSent=!0,(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end())})),this._closeTimer=setTimeout(this._socket.destroy.bind(this._socket),3e4)):this._closeFrameSent&&(this._closeFrameReceived||this._receiver._writableState.errorEmitted)&&this._socket.end();else{const e="WebSocket was closed before the connection was established";A(this,this._req,e)}}pause(){this.readyState!==I.CONNECTING&&this.readyState!==I.CLOSED&&(this._paused=!0,this._socket.pause())}ping(e,t,r){if(this.readyState===I.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");"function"==typeof e?(r=e,e=t=void 0):"function"==typeof t&&(r=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState===I.OPEN?(void 0===t&&(t=!this._isServer),this._sender.ping(e||g,t,r)):N(this,e,r)}pong(e,t,r){if(this.readyState===I.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");"function"==typeof e?(r=e,e=t=void 0):"function"==typeof t&&(r=t,t=void 0),"number"==typeof e&&(e=e.toString()),this.readyState===I.OPEN?(void 0===t&&(t=!this._isServer),this._sender.pong(e||g,t,r)):N(this,e,r)}resume(){this.readyState!==I.CONNECTING&&this.readyState!==I.CLOSED&&(this._paused=!1,this._receiver._writableState.needDrain||this._socket.resume())}send(e,t,r){if(this.readyState===I.CONNECTING)throw new Error("WebSocket is not open: readyState 0 (CONNECTING)");if("function"==typeof t&&(r=t,t={}),"number"==typeof e&&(e=e.toString()),this.readyState!==I.OPEN)return void N(this,e,r);const i={binary:"string"!=typeof e,mask:!this._isServer,compress:!0,fin:!0,...t};this._extensions[p.extensionName]||(i.compress=!1),this._sender.send(e||g,i,r)}terminate(){if(this.readyState!==I.CLOSED)if(this.readyState!==I.CONNECTING)this._socket&&(this._readyState=I.CLOSING,this._socket.destroy());else{const e="WebSocket was closed before the connection was established";A(this,this._req,e)}}}function j(e,t,r,i){const s={protocolVersion:O[1],maxPayload:104857600,skipUTF8Validation:!1,perMessageDeflate:!0,followRedirects:!1,maxRedirects:10,...i,createConnection:void 0,socketPath:void 0,hostname:void 0,protocol:void 0,timeout:void 0,method:"GET",host:void 0,path:void 0,port:void 0};if(!O.includes(s.protocolVersion))throw new RangeError(`Unsupported protocol version: ${s.protocolVersion} (supported versions: ${O.join(", ")})`);let a;if(t instanceof u)a=t,e._url=t.href;else{try{a=new u(t)}catch(e){throw new SyntaxError(`Invalid URL: ${t}`)}e._url=t}const d="wss:"===a.protocol,h="ws+unix:"===a.protocol;let f;if("ws:"===a.protocol||d||h?h&&!a.pathname?f="The URL's pathname is empty":a.hash&&(f="The URL contains a fragment identifier"):f='The URL\'s protocol must be one of "ws:", "wss:", or "ws+unix:"',f){const t=new SyntaxError(f);if(0===e._redirects)throw t;return void U(e,t)}const m=d?443:80,g=c(16).toString("base64"),y=d?n.request:o.request,w=new Set;let v,b;if(s.createConnection=d?D:L,s.defaultPort=s.defaultPort||m,s.port=a.port||m,s.host=a.hostname.startsWith("[")?a.hostname.slice(1,-1):a.hostname,s.headers={...s.headers,"Sec-WebSocket-Version":s.protocolVersion,"Sec-WebSocket-Key":g,Connection:"Upgrade",Upgrade:"websocket"},s.path=a.pathname+a.search,s.timeout=s.handshakeTimeout,s.perMessageDeflate&&(v=new p(!0!==s.perMessageDeflate?s.perMessageDeflate:{},!1,s.maxPayload),s.headers["Sec-WebSocket-Extensions"]=E({[p.extensionName]:v.offer()})),r.length){for(const e of r){if("string"!=typeof e||!F.test(e)||w.has(e))throw new SyntaxError("An invalid or duplicated subprotocol was specified");w.add(e)}s.headers["Sec-WebSocket-Protocol"]=r.join(",")}if(s.origin&&(s.protocolVersion<13?s.headers["Sec-WebSocket-Origin"]=s.origin:s.headers.Origin=s.origin),(a.username||a.password)&&(s.auth=`${a.username}:${a.password}`),h){const e=s.path.split(":");s.socketPath=e[0],s.path=e[1]}if(s.followRedirects){if(0===e._redirects){e._originalIpc=h,e._originalSecure=d,e._originalHostOrSocketPath=h?s.socketPath:a.host;const t=i&&i.headers;if(i={...i,headers:{}},t)for(const[e,r]of Object.entries(t))i.headers[e.toLowerCase()]=r}else if(0===e.listenerCount("redirect")){const t=h?!!e._originalIpc&&s.socketPath===e._originalHostOrSocketPath:!e._originalIpc&&a.host===e._originalHostOrSocketPath;(!t||e._originalSecure&&!d)&&(delete s.headers.authorization,delete s.headers.cookie,t||delete s.headers.host,s.auth=void 0)}s.auth&&!i.headers.authorization&&(i.headers.authorization="Basic "+Buffer.from(s.auth).toString("base64")),b=e._req=y(s),e._redirects&&e.emit("redirect",e.url,b)}else b=e._req=y(s);s.timeout&&b.on("timeout",(()=>{A(e,b,"Opening handshake has timed out")})),b.on("error",(t=>{null===b||b[C]||(b=e._req=null,U(e,t))})),b.on("response",(n=>{const o=n.headers.location,a=n.statusCode;if(o&&s.followRedirects&&a>=300&&a<400){if(++e._redirects>s.maxRedirects)return void A(e,b,"Maximum redirects exceeded");let n;b.abort();try{n=new u(o,t)}catch(t){const r=new SyntaxError(`Invalid URL: ${o}`);return void U(e,r)}j(e,n,r,i)}else e.emit("unexpected-response",b,n)||A(e,b,`Unexpected server response: ${n.statusCode}`)})),b.on("upgrade",((t,r,i)=>{if(e.emit("upgrade",t),e.readyState!==I.CONNECTING)return;if(b=e._req=null,"websocket"!==t.headers.upgrade.toLowerCase())return void A(e,r,"Invalid Upgrade header");const n=l("sha1").update(g+_).digest("base64");if(t.headers["sec-websocket-accept"]!==n)return void A(e,r,"Invalid Sec-WebSocket-Accept header");const o=t.headers["sec-websocket-protocol"];let a;if(void 0!==o?w.size?w.has(o)||(a="Server sent an invalid subprotocol"):a="Server sent a subprotocol but none was requested":w.size&&(a="Server sent no subprotocol"),a)return void A(e,r,a);o&&(e._protocol=o);const c=t.headers["sec-websocket-extensions"];if(void 0!==c){if(!v)return void A(e,r,"Server sent a Sec-WebSocket-Extensions header but no extension was requested");let t;try{t=P(c)}catch(t){return void A(e,r,"Invalid Sec-WebSocket-Extensions header")}const i=Object.keys(t);if(1!==i.length||i[0]!==p.extensionName)return void A(e,r,"Server indicated an extension that was not requested");try{v.accept(t[p.extensionName])}catch(t){return void A(e,r,"Invalid Sec-WebSocket-Extensions header")}e._extensions[p.extensionName]=v}e.setSocket(r,i,{generateMask:s.generateMask,maxPayload:s.maxPayload,skipUTF8Validation:s.skipUTF8Validation})})),s.finishRequest?s.finishRequest(b,e):b.end()}function U(e,t){e._readyState=I.CLOSING,e.emit("error",t),e.emitClose()}function L(e){return e.path=e.socketPath,s.connect(e)}function D(e){return e.path=void 0,e.servername||""===e.servername||(e.servername=s.isIP(e.host)?"":e.host),a.connect(e)}function A(e,t,r){e._readyState=I.CLOSING;const i=new Error(r);Error.captureStackTrace(i,A),t.setHeader?(t[C]=!0,t.abort(),t.socket&&!t.socket.destroyed&&t.socket.destroy(),process.nextTick(U,e,i)):(t.destroy(i),t.once("error",e.emit.bind(e,"error")),t.once("close",e.emitClose.bind(e)))}function N(e,t,r){if(t){const r=T(t).length;e._socket?e._sender._bufferedBytes+=r:e._bufferedAmount+=r}if(r){const t=new Error(`WebSocket is not open: readyState ${e.readyState} (${R[e.readyState]})`);process.nextTick(r,t)}}function $(e,t){const r=this[b];r._closeFrameReceived=!0,r._closeMessage=t,r._closeCode=e,void 0!==r._socket[b]&&(r._socket.removeListener("data",J),process.nextTick(V,r._socket),1005===e?r.close():r.close(e,t))}function B(){const e=this[b];e.isPaused||e._socket.resume()}function M(e){const t=this[b];void 0!==t._socket[b]&&(t._socket.removeListener("data",J),process.nextTick(V,t._socket),t.close(e[v])),t.emit("error",e)}function G(){this[b].emitClose()}function W(e,t){this[b].emit("message",e,t)}function q(e){const t=this[b];t.pong(e,!t._isServer,x),t.emit("ping",e)}function H(e){this[b].emit("pong",e)}function V(e){e.resume()}function z(){const e=this[b];let t;this.removeListener("close",z),this.removeListener("data",J),this.removeListener("end",Y),e._readyState=I.CLOSING,this._readableState.endEmitted||e._closeFrameReceived||e._receiver._writableState.errorEmitted||null===(t=e._socket.read())||e._receiver.write(t),e._receiver.end(),this[b]=void 0,clearTimeout(e._closeTimer),e._receiver._writableState.finished||e._receiver._writableState.errorEmitted?e.emitClose():(e._receiver.on("error",G),e._receiver.on("finish",G))}function J(e){this[b]._receiver.write(e)||this.pause()}function Y(){const e=this[b];e._readyState=I.CLOSING,e._receiver.end(),this.end()}function K(){const e=this[b];this.removeListener("error",K),this.on("error",x),e&&(e._readyState=I.CLOSING,this.destroy())}Object.defineProperty(I,"CONNECTING",{enumerable:!0,value:R.indexOf("CONNECTING")}),Object.defineProperty(I.prototype,"CONNECTING",{enumerable:!0,value:R.indexOf("CONNECTING")}),Object.defineProperty(I,"OPEN",{enumerable:!0,value:R.indexOf("OPEN")}),Object.defineProperty(I.prototype,"OPEN",{enumerable:!0,value:R.indexOf("OPEN")}),Object.defineProperty(I,"CLOSING",{enumerable:!0,value:R.indexOf("CLOSING")}),Object.defineProperty(I.prototype,"CLOSING",{enumerable:!0,value:R.indexOf("CLOSING")}),Object.defineProperty(I,"CLOSED",{enumerable:!0,value:R.indexOf("CLOSED")}),Object.defineProperty(I.prototype,"CLOSED",{enumerable:!0,value:R.indexOf("CLOSED")}),["binaryType","bufferedAmount","extensions","isPaused","protocol","readyState","url"].forEach((e=>{Object.defineProperty(I.prototype,e,{enumerable:!0})})),["open","error","close","message"].forEach((e=>{Object.defineProperty(I.prototype,`on${e}`,{enumerable:!0,get(){for(const t of this.listeners(e))if(t[y])return t[w];return null},set(t){for(const t of this.listeners(e))if(t[y]){this.removeListener(e,t);break}"function"==typeof t&&this.addEventListener(e,t,{[y]:!0})}})})),I.prototype.addEventListener=S,I.prototype.removeEventListener=k,e.exports=I},9496:e=>{"use strict";e.exports=require("vscode")},2864:e=>{"use strict";e.exports=require("bufferutil")},2239:e=>{"use strict";e.exports=require("utf-8-validate")},9491:e=>{"use strict";e.exports=require("assert")},4300:e=>{"use strict";e.exports=require("buffer")},2081:e=>{"use strict";e.exports=require("child_process")},6113:e=>{"use strict";e.exports=require("crypto")},2361:e=>{"use strict";e.exports=require("events")},7147:e=>{"use strict";e.exports=require("fs")},3685:e=>{"use strict";e.exports=require("http")},5687:e=>{"use strict";e.exports=require("https")},1808:e=>{"use strict";e.exports=require("net")},2037:e=>{"use strict";e.exports=require("os")},1017:e=>{"use strict";e.exports=require("path")},2781:e=>{"use strict";e.exports=require("stream")},4404:e=>{"use strict";e.exports=require("tls")},5034:e=>{"use strict";e.exports=require("url")},3837:e=>{"use strict";e.exports=require("util")},9796:e=>{"use strict";e.exports=require("zlib")},1058:(e,t,r)=>{"use strict";r.r(t),r.d(t,{$:()=>Ee,execa:()=>be,execaCommand:()=>Pe,execaCommandSync:()=>Te,execaNode:()=>Ce,execaSync:()=>xe});const i=require("node:buffer"),n=require("node:path"),o=require("node:child_process"),s=require("node:process");var a=r(8309);const c=require("node:url");function l(e={}){const{env:t=process.env,platform:r=process.platform}=e;return"win32"!==r?"PATH":Object.keys(t).reverse().find((e=>"PATH"===e.toUpperCase()))||"Path"}const d=(e,t,r,i)=>{if("length"===r||"prototype"===r)return;if("arguments"===r||"caller"===r)return;const n=Object.getOwnPropertyDescriptor(e,r),o=Object.getOwnPropertyDescriptor(t,r);!u(n,o)&&i||Object.defineProperty(e,r,o)},u=function(e,t){return void 0===e||e.configurable||e.writable===t.writable&&e.enumerable===t.enumerable&&e.configurable===t.configurable&&(e.writable||e.value===t.value)},p=(e,t)=>`/* Wrapped ${e}*/\n${t}`,h=Object.getOwnPropertyDescriptor(Function.prototype,"toString"),f=Object.getOwnPropertyDescriptor(Function.prototype.toString,"name");const m=new WeakMap,g=(e,t={})=>{if("function"!=typeof e)throw new TypeError("Expected a function");let r,i=0;const n=e.displayName||e.name||"<anonymous>",o=function(...s){if(m.set(o,++i),1===i)r=e.apply(this,s),e=null;else if(!0===t.throw)throw new Error(`Function \`${n}\` can only be called once`);return r};return function(e,t,{ignoreNonConfigurable:r=!1}={}){const{name:i}=e;for(const i of Reflect.ownKeys(t))d(e,t,i,r);((e,t)=>{const r=Object.getPrototypeOf(t);r!==Object.getPrototypeOf(e)&&Object.setPrototypeOf(e,r)})(e,t),((e,t,r)=>{const i=""===r?"":`with ${r.trim()}() `,n=p.bind(null,i,t.toString());Object.defineProperty(n,"name",f),Object.defineProperty(e,"toString",{...h,value:n})})(e,t,i)}(o,e),m.set(o,i),o};g.callCount=e=>{if(!m.has(e))throw new Error(`The given function \`${e.name}\` is not wrapped by the \`onetime\` package`);return m.get(e)};const _=g,y=require("node:os"),w=(e,t)=>({name:`SIGRT${t+1}`,number:v+t,action:"terminate",description:"Application-specific signal (realtime)",standard:"posix"}),v=34,b=[{name:"SIGHUP",number:1,action:"terminate",description:"Terminal closed",standard:"posix"},{name:"SIGINT",number:2,action:"terminate",description:"User interruption with CTRL-C",standard:"ansi"},{name:"SIGQUIT",number:3,action:"core",description:"User interruption with CTRL-\\",standard:"posix"},{name:"SIGILL",number:4,action:"core",description:"Invalid machine instruction",standard:"ansi"},{name:"SIGTRAP",number:5,action:"core",description:"Debugger breakpoint",standard:"posix"},{name:"SIGABRT",number:6,action:"core",description:"Aborted",standard:"ansi"},{name:"SIGIOT",number:6,action:"core",description:"Aborted",standard:"bsd"},{name:"SIGBUS",number:7,action:"core",description:"Bus error due to misaligned, non-existing address or paging error",standard:"bsd"},{name:"SIGEMT",number:7,action:"terminate",description:"Command should be emulated but is not implemented",standard:"other"},{name:"SIGFPE",number:8,action:"core",description:"Floating point arithmetic error",standard:"ansi"},{name:"SIGKILL",number:9,action:"terminate",description:"Forced termination",standard:"posix",forced:!0},{name:"SIGUSR1",number:10,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGSEGV",number:11,action:"core",description:"Segmentation fault",standard:"ansi"},{name:"SIGUSR2",number:12,action:"terminate",description:"Application-specific signal",standard:"posix"},{name:"SIGPIPE",number:13,action:"terminate",description:"Broken pipe or socket",standard:"posix"},{name:"SIGALRM",number:14,action:"terminate",description:"Timeout or timer",standard:"posix"},{name:"SIGTERM",number:15,action:"terminate",description:"Termination",standard:"ansi"},{name:"SIGSTKFLT",number:16,action:"terminate",description:"Stack is empty or overflowed",standard:"other"},{name:"SIGCHLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"posix"},{name:"SIGCLD",number:17,action:"ignore",description:"Child process terminated, paused or unpaused",standard:"other"},{name:"SIGCONT",number:18,action:"unpause",description:"Unpaused",standard:"posix",forced:!0},{name:"SIGSTOP",number:19,action:"pause",description:"Paused",standard:"posix",forced:!0},{name:"SIGTSTP",number:20,action:"pause",description:'Paused using CTRL-Z or "suspend"',standard:"posix"},{name:"SIGTTIN",number:21,action:"pause",description:"Background process cannot read terminal input",standard:"posix"},{name:"SIGBREAK",number:21,action:"terminate",description:"User interruption with CTRL-BREAK",standard:"other"},{name:"SIGTTOU",number:22,action:"pause",description:"Background process cannot write to terminal output",standard:"posix"},{name:"SIGURG",number:23,action:"ignore",description:"Socket received out-of-band data",standard:"bsd"},{name:"SIGXCPU",number:24,action:"core",description:"Process timed out",standard:"bsd"},{name:"SIGXFSZ",number:25,action:"core",description:"File too big",standard:"bsd"},{name:"SIGVTALRM",number:26,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGPROF",number:27,action:"terminate",description:"Timeout or timer",standard:"bsd"},{name:"SIGWINCH",number:28,action:"ignore",description:"Terminal window size changed",standard:"bsd"},{name:"SIGIO",number:29,action:"terminate",description:"I/O is available",standard:"other"},{name:"SIGPOLL",number:29,action:"terminate",description:"Watched event",standard:"other"},{name:"SIGINFO",number:29,action:"ignore",description:"Request for process information",standard:"other"},{name:"SIGPWR",number:30,action:"terminate",description:"Device running out of power",standard:"systemv"},{name:"SIGSYS",number:31,action:"core",description:"Invalid system call",standard:"other"},{name:"SIGUNUSED",number:31,action:"terminate",description:"Invalid system call",standard:"other"}],x=()=>{const e=(()=>{const e=64-v+1;return Array.from({length:e},w)})();return[...b,...e].map(S)},S=({name:e,number:t,description:r,action:i,forced:n=!1,standard:o})=>{const{signals:{[e]:s}}=y.constants,a=void 0!==s;return{name:e,number:a?s:t,description:r,supported:a,action:i,forced:n,standard:o}},k=({name:e,number:t,description:r,supported:i,action:n,forced:o,standard:s})=>[e,{name:e,number:t,description:r,supported:i,action:n,forced:o,standard:s}],E=(()=>{const e=x();return Object.fromEntries(e.map(k))})(),P=(e,t)=>{const r=t.find((({name:t})=>y.constants.signals[t]===e));return void 0!==r?r:t.find((t=>t.number===e))},T=((()=>{const e=x(),t=Array.from({length:65},((t,r)=>((e,t)=>{const r=P(e,t);if(void 0===r)return{};const{name:i,description:n,supported:o,action:s,forced:a,standard:c}=r;return{[e]:{name:i,number:e,description:n,supported:o,action:s,forced:a,standard:c}}})(r,e)));Object.assign({},...t)})(),({stdout:e,stderr:t,all:r,error:i,signal:n,exitCode:o,command:s,escapedCommand:a,timedOut:c,isCanceled:l,killed:d,parsed:{options:{timeout:u}}})=>{o=null===o?void 0:o;const p=void 0===(n=null===n?void 0:n)?void 0:E[n].description,h=(({timedOut:e,timeout:t,errorCode:r,signal:i,signalDescription:n,exitCode:o,isCanceled:s})=>e?`timed out after ${t} milliseconds`:s?"was canceled":void 0!==r?`failed with ${r}`:void 0!==i?`was killed with ${i} (${n})`:void 0!==o?`failed with exit code ${o}`:"failed")({timedOut:c,timeout:u,errorCode:i&&i.code,signal:n,signalDescription:p,exitCode:o,isCanceled:l}),f=`Command ${h}: ${s}`,m="[object Error]"===Object.prototype.toString.call(i),g=m?`${f}\n${i.message}`:f,_=[g,t,e].filter(Boolean).join("\n");return m?(i.originalMessage=i.message,i.message=_):i=new Error(_),i.shortMessage=g,i.command=s,i.escapedCommand=a,i.exitCode=o,i.signal=n,i.signalDescription=p,i.stdout=e,i.stderr=t,void 0!==r&&(i.all=r),"bufferedData"in i&&delete i.bufferedData,i.failed=!0,i.timedOut=Boolean(c),i.isCanceled=l,i.killed=d&&!c,i}),C=["stdin","stdout","stderr"],O=e=>{if(!e)return;const{stdio:t}=e;if(void 0===t)return C.map((t=>e[t]));if((e=>C.some((t=>void 0!==e[t])))(e))throw new Error(`It's not possible to provide \`stdio\` in combination with one of ${C.map((e=>`\`${e}\``)).join(", ")}`);if("string"==typeof t)return t;if(!Array.isArray(t))throw new TypeError(`Expected \`stdio\` to be of type \`string\` or \`Array\`, got \`${typeof t}\``);const r=Math.max(t.length,C.length);return Array.from({length:r},((e,r)=>t[r]))},R=e=>{const t=O(e);return"ipc"===t?"ipc":void 0===t||"string"==typeof t?[t,t,t,"ipc"]:t.includes("ipc")?t:[...t,"ipc"]};var F=r(7908);const I=(e,t="SIGTERM",r={})=>{const i=e(t);return j(e,t,r,i),i},j=(e,t,r,i)=>{if(!U(t,r,i))return;const n=D(r),o=setTimeout((()=>{e("SIGKILL")}),n);o.unref&&o.unref()},U=(e,{forceKillAfterTimeout:t},r)=>L(e)&&!1!==t&&r,L=e=>e===y.constants.signals.SIGTERM||"string"==typeof e&&"SIGTERM"===e.toUpperCase(),D=({forceKillAfterTimeout:e=!0})=>{if(!0===e)return 5e3;if(!Number.isFinite(e)||e<0)throw new TypeError(`Expected the \`forceKillAfterTimeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`);return e},A=(e,t)=>{e.kill()&&(t.isCanceled=!0)},N=(e,{timeout:t,killSignal:r="SIGTERM"},i)=>{if(0===t||void 0===t)return i;let n;const o=new Promise(((i,o)=>{n=setTimeout((()=>{((e,t,r)=>{e.kill(t),r(Object.assign(new Error("Timed out"),{timedOut:!0,signal:t}))})(e,r,o)}),t)})),s=i.finally((()=>{clearTimeout(n)}));return Promise.race([o,s])},$=({timeout:e})=>{if(void 0!==e&&(!Number.isFinite(e)||e<0))throw new TypeError(`Expected the \`timeout\` option to be a non-negative integer, got \`${e}\` (${typeof e})`)},B=async(e,{cleanup:t,detached:r},i)=>{if(!t||r)return i;const n=F((()=>{e.kill()}));return i.finally((()=>{n()}))},M=require("node:fs");function G(e){return null!==e&&"object"==typeof e&&"function"==typeof e.pipe}function W(e){return G(e)&&!1!==e.writable&&"function"==typeof e._write&&"object"==typeof e._writableState}const q=(e,t,r)=>{if("string"==typeof r)return e[t].pipe((0,M.createWriteStream)(r)),e;if(W(r))return e[t].pipe(r),e;if(!(e=>e instanceof o.ChildProcess&&"function"==typeof e.then)(r))throw new TypeError("The second argument must be a string, a stream or an Execa child process.");if(!W(r.stdin))throw new TypeError("The target child process's stdin must be available.");return e[t].pipe(r.stdin),r},H=e=>{null!==e.stdout&&(e.pipeStdout=q.bind(void 0,e,"stdout")),null!==e.stderr&&(e.pipeStderr=q.bind(void 0,e,"stderr")),void 0!==e.all&&(e.pipeAll=q.bind(void 0,e,"all"))};var V=r(31),z=r(4034);const J=e=>{if(void 0!==e)throw new TypeError("The `input` and `inputFile` options cannot be both set.")},Y=e=>{const t=(({input:e,inputFile:t})=>"string"!=typeof t?e:(J(e),(0,M.readFileSync)(t)))(e);if(G(t))throw new TypeError("The `input` option cannot be a stream in sync mode");return t},K=(e,t)=>{const r=(({input:e,inputFile:t})=>"string"!=typeof t?e:(J(e),(0,M.createReadStream)(t)))(t);void 0!==r&&(G(r)?r.pipe(e.stdin):e.stdin.end(r))},X=(e,{all:t})=>{if(!t||!e.stdout&&!e.stderr)return;const r=z();return e.stdout&&r.add(e.stdout),e.stderr&&r.add(e.stderr),r},Q=async(e,t)=>{if(e&&void 0!==t){e.destroy();try{return await t}catch(e){return e.bufferedData}}},Z=(e,{encoding:t,buffer:r,maxBuffer:i})=>{if(e&&r)return t?V(e,{encoding:t,maxBuffer:i}):V.buffer(e,{maxBuffer:i})},ee=async({stdout:e,stderr:t,all:r},{encoding:i,buffer:n,maxBuffer:o},s)=>{const a=Z(e,{encoding:i,buffer:n,maxBuffer:o}),c=Z(t,{encoding:i,buffer:n,maxBuffer:o}),l=Z(r,{encoding:i,buffer:n,maxBuffer:2*o});try{return await Promise.all([s,a,c,l])}catch(i){return Promise.all([{error:i,signal:i.signal,timedOut:i.timedOut},Q(e,a),Q(t,c),Q(r,l)])}},te=(async()=>{})().constructor.prototype,re=["then","catch","finally"].map((e=>[e,Reflect.getOwnPropertyDescriptor(te,e)])),ie=(e,t)=>{for(const[r,i]of re){const n="function"==typeof t?(...e)=>Reflect.apply(i.value,t(),e):i.value.bind(t);Reflect.defineProperty(e,r,{...i,value:n})}},ne=e=>new Promise(((t,r)=>{e.on("exit",((e,r)=>{t({exitCode:e,signal:r})})),e.on("error",(e=>{r(e)})),e.stdin&&e.stdin.on("error",(e=>{r(e)}))})),oe=(e,t=[])=>Array.isArray(t)?[e,...t]:[e],se=/^[\w.-]+$/,ae=/"/g,ce=(e,t)=>oe(e,t).join(" "),le=(e,t)=>oe(e,t).map((e=>(e=>"string"!=typeof e||se.test(e)?e:`"${e.replace(ae,'\\"')}"`)(e))).join(" "),de=/ +/g,ue=e=>{const t=[];for(const r of e.trim().split(de)){const e=t[t.length-1];e&&e.endsWith("\\")?t[t.length-1]=`${e.slice(0,-1)} ${r}`:t.push(r)}return t},pe=e=>{const t=typeof e;if("string"===t)return e;if("number"===t)return String(e);if("object"===t&&null!==e&&!(e instanceof o.ChildProcess)&&"stdout"in e){const t=typeof e.stdout;if("string"===t)return e.stdout;if(i.Buffer.isBuffer(e.stdout))return e.stdout.toString();throw new TypeError(`Unexpected "${t}" stdout in template expression`)}throw new TypeError(`Unexpected "${t}" in template expression`)},he=(e,t,r)=>r||0===e.length||0===t.length?[...e,...t]:[...e.slice(0,-1),`${e[e.length-1]}${t[0]}`,...t.slice(1)],fe=({templates:e,expressions:t,tokens:r,index:i,template:n})=>{const o=n??e.raw[i],s=o.split(de).filter(Boolean),a=he(r,s,o.startsWith(" "));if(i===t.length)return a;const c=t[i],l=Array.isArray(c)?c.map((e=>pe(e))):[pe(c)];return he(a,l,o.endsWith(" "))},me=(e,t)=>{let r=[];for(const[i,n]of e.entries())r=fe({templates:e,expressions:t,tokens:r,index:i,template:n});return r},ge=(0,require("node:util").debuglog)("execa").enabled,_e=(e,t)=>String(e).padStart(t,"0"),ye=(e,{verbose:t})=>{t&&s.stderr.write(`[${(()=>{const e=new Date;return`${_e(e.getHours(),2)}:${_e(e.getMinutes(),2)}:${_e(e.getSeconds(),2)}.${_e(e.getMilliseconds(),3)}`})()}] ${e}\n`)},we=(e,t,r={})=>{const i=a._parse(e,t,r);return e=i.command,t=i.args,(r={maxBuffer:1e8,buffer:!0,stripFinalNewline:!0,extendEnv:!0,preferLocal:!1,localDir:(r=i.options).cwd||s.cwd(),execPath:s.execPath,encoding:"utf8",reject:!0,cleanup:!0,all:!1,windowsHide:!0,verbose:ge,...r}).env=(({env:e,extendEnv:t,preferLocal:r,localDir:i,execPath:o})=>{const a=t?{...s.env,...e}:e;return r?function({env:e=s.env,...t}={}){const r=l({env:e={...e}});return t.path=e[r],e[r]=function(e={}){const{cwd:t=s.cwd(),path:r=s.env[l()],execPath:i=s.execPath}=e;let o;const a=t instanceof URL?c.fileURLToPath(t):t;let d=n.resolve(a);const u=[];for(;o!==d;)u.push(n.join(d,"node_modules/.bin")),o=d,d=n.resolve(d,"..");return u.push(n.resolve(a,i,"..")),[...u,r].join(n.delimiter)}(t),e}({env:a,cwd:i,execPath:o}):a})(r),r.stdio=O(r),"win32"===s.platform&&"cmd"===n.basename(e,".exe")&&t.unshift("/q"),{file:e,args:t,options:r,parsed:i}},ve=(e,t,r)=>"string"==typeof t||i.Buffer.isBuffer(t)?e.stripFinalNewline?function(e){const t="string"==typeof e?"\n":"\n".charCodeAt(),r="string"==typeof e?"\r":"\r".charCodeAt();return e[e.length-1]===t&&(e=e.slice(0,-1)),e[e.length-1]===r&&(e=e.slice(0,-1)),e}(t):t:void 0===r?void 0:"";function be(e,t,r){const i=we(e,t,r),n=ce(e,t),s=le(e,t);let a;ye(s,i.options),$(i.options);try{a=o.spawn(i.file,i.args,i.options)}catch(e){const t=new o.ChildProcess,r=Promise.reject(T({error:e,stdout:"",stderr:"",all:"",command:n,escapedCommand:s,parsed:i,timedOut:!1,isCanceled:!1,killed:!1}));return ie(t,r),t}const c=ne(a),l=N(a,i.options,c),d=B(a,i.options,l),u={isCanceled:!1};a.kill=I.bind(null,a.kill.bind(a)),a.cancel=A.bind(null,a,u);const p=_((async()=>{const[{error:e,exitCode:t,signal:r,timedOut:o},c,l,p]=await ee(a,i.options,d),h=ve(i.options,c),f=ve(i.options,l),m=ve(i.options,p);if(e||0!==t||null!==r){const c=T({error:e,exitCode:t,signal:r,stdout:h,stderr:f,all:m,command:n,escapedCommand:s,parsed:i,timedOut:o,isCanceled:u.isCanceled||!!i.options.signal&&i.options.signal.aborted,killed:a.killed});if(!i.options.reject)return c;throw c}return{command:n,escapedCommand:s,exitCode:0,stdout:h,stderr:f,all:m,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}}));return K(a,i.options),a.all=X(a,i.options),H(a),ie(a,p),a}function xe(e,t,r){const i=we(e,t,r),n=ce(e,t),s=le(e,t);ye(s,i.options);const a=Y(i.options);let c;try{c=o.spawnSync(i.file,i.args,{...i.options,input:a})}catch(e){throw T({error:e,stdout:"",stderr:"",all:"",command:n,escapedCommand:s,parsed:i,timedOut:!1,isCanceled:!1,killed:!1})}const l=ve(i.options,c.stdout,c.error),d=ve(i.options,c.stderr,c.error);if(c.error||0!==c.status||null!==c.signal){const e=T({stdout:l,stderr:d,error:c.error,signal:c.signal,exitCode:c.status,command:n,escapedCommand:s,parsed:i,timedOut:c.error&&"ETIMEDOUT"===c.error.code,isCanceled:!1,killed:null!==c.signal});if(!i.options.reject)return e;throw e}return{command:n,escapedCommand:s,exitCode:0,stdout:l,stderr:d,failed:!1,timedOut:!1,isCanceled:!1,killed:!1}}const Se=({input:e,inputFile:t,stdio:r})=>void 0===e&&void 0===t&&void 0===r?{stdin:"inherit"}:{},ke=(e={})=>({preferLocal:!0,...Se(e),...e}),Ee=function e(t){function r(r,...i){if(!Array.isArray(r))return e({...t,...r});const[n,...o]=me(r,i);return be(n,o,ke(t))}return r.sync=(e,...r)=>{if(!Array.isArray(e))throw new TypeError("Please use $(options).sync`command` instead of $.sync(options)`command`.");const[i,...n]=me(e,r);return xe(i,n,ke(t))},r}();function Pe(e,t){const[r,...i]=ue(e);return be(r,i,t)}function Te(e,t){const[r,...i]=ue(e);return xe(r,i,t)}function Ce(e,t,r={}){t&&!Array.isArray(t)&&"object"==typeof t&&(r=t,t=[]);const i=R(r),n=s.execArgv.filter((e=>!e.startsWith("--inspect"))),{nodePath:o=s.execPath,nodeOptions:a=n}=r;return be(o,[...a,e,...Array.isArray(t)?t:[]],{...r,stdin:void 0,stdout:void 0,stderr:void 0,stdio:i,shell:!1})}}},__webpack_module_cache__={};function __webpack_require__(e){var t=__webpack_module_cache__[e];if(void 0!==t)return t.exports;var r=__webpack_module_cache__[e]={exports:{}};return __webpack_modules__[e].call(r.exports,r,r.exports,__webpack_require__),r.exports}__webpack_require__.d=(e,t)=>{for(var r in t)__webpack_require__.o(t,r)&&!__webpack_require__.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},__webpack_require__.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),__webpack_require__.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var __webpack_exports__={};(()=>{"use strict";var e=__webpack_exports__;Object.defineProperty(e,"__esModule",{value:!0}),e.deactivate=e.activate=void 0;const t=__webpack_require__(9496),r=__webpack_require__(5885),i=__webpack_require__(5579),n=__webpack_require__(3953),o=__webpack_require__(535),s=__webpack_require__(189),a=__webpack_require__(6281),c=__webpack_require__(2959),l=__webpack_require__(6538),d=__webpack_require__(6279),u=__webpack_require__(96);e.activate=async function(e){const p=t.commands.registerCommand((0,l.generateCommand)("flattenRoutes"),r.flattenRoutes),h=t.commands.registerCommand((0,l.generateCommand)("generateAuth"),r.generateAuth),f=t.commands.registerCommand((0,l.generateCommand)("openUrl"),r.openUrl),m=t.commands.registerCommand((0,l.generateCommand)("barrelize"),r.barrelize),g=t.commands.registerCommand((0,l.generateCommand)("updateRemix"),r.updateRemix),_=t.commands.registerCommand((0,l.generateCommand)("generatePrisma"),r.generatePrisma),y=t.commands.registerCommand((0,l.generateCommand)("generateTests"),r.generateTests),w=t.commands.registerCommand((0,l.generateCommand)("generateLoader"),(()=>(0,a.generateRemixPartial)("loader"))),v=t.commands.registerCommand((0,l.generateCommand)("generateAction"),(()=>(0,a.generateRemixPartial)("action"))),b=t.commands.registerCommand((0,l.generateCommand)("generateErrorBoundary"),(()=>(0,a.generateRemixPartial)("errorBoundary"))),x=t.commands.registerCommand((0,l.generateCommand)("generateMeta"),(()=>(0,a.generateRemixPartial)("meta"))),S=t.commands.registerCommand((0,l.generateCommand)("generateHeaders"),(()=>(0,a.generateRemixPartial)("headers"))),k=t.commands.registerCommand((0,l.generateCommand)("generateLinks"),(()=>(0,a.generateRemixPartial)("links"))),E=t.commands.registerCommand((0,l.generateCommand)("generateRevalidate"),(()=>(0,a.generateRemixPartial)("revalidate"))),P=t.commands.registerCommand((0,l.generateCommand)("linting"),r.linting),T=t.commands.registerCommand((0,l.generateCommand)("initShadcnUi"),r.initShadcnUi),C=t.commands.registerCommand((0,l.generateCommand)("generateShadcnUI"),r.generateShadcnUI),O=t.commands.registerCommand((0,l.generateCommand)("generateRemixRoute"),r.generateRouteFile),R=t.commands.registerCommand((0,l.generateCommand)("generateRemixFormRoute"),r.generateRemixFormRoute),F=t.commands.registerCommand((0,l.generateCommand)("generateAuthSnippet"),r.generateAuthSnippet),I=new i.ComponentLens,j=new n.LoaderLens,U=new o.ActionLens,L=(0,d.createStatusBar)(),D=t.commands.registerCommand((0,l.generateCommand)("devTools"),(()=>(0,c.startDevTools)(L)));e.subscriptions.push(L),L.show(),e.subscriptions.push(t.languages.registerCodeLensProvider({scheme:"file",language:"typescriptreact"},I),t.languages.registerCodeLensProvider({scheme:"file",language:"typescriptreact"},j),t.languages.registerCodeLensProvider({scheme:"file",language:"typescriptreact"},U)),e.subscriptions.push(O,p,f,h,F,m,g,_,R,y,P,T,C,w,v,b,x,S,k,E,D);const A=(0,l.getWorkspaceUri)();A&&await(0,u.isRemixDir)(A)&&(0,s.checkRemixVersion)(A)},e.deactivate=function(){}})(),module.exports=__webpack_exports__})();